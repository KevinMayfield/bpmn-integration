(self.webpackChunkbpmn_angular_integraion_examples=self.webpackChunkbpmn_angular_integraion_examples||[]).push([[792],{751:(Nr,Qt,Hn)=>{"use strict";var Ye=Hn(293).default,ut=Hn(892);function Ut(Ie,Ge,re){var se=function Dn(Ie,Ge){var re=[],se=Ie.get("extensionElements");if(typeof se<"u"){var me=se.get("values");typeof me<"u"&&(re=ut.filter(me,function(De){return function lt(Ie,Ge){return Ie&&"function"==typeof Ie.$instanceOf&&Ie.$instanceOf(Ge)}(De,Ge)}))}return re}(Ie,Ge);return re?(se[0]||{})[re]||[]:se}function dt(Ie,Ge){var re=function Vt(Ie){return(Ut(Ie,"camunda:InputOutput")||[])[0]}(Ie);return re&&re.get(Ge)||[]}function wn(Ie){for(var Ge=[],re=Ie;re.$parent;)Ge.push(re.$parent),re=re.$parent;return Ge}function Or(Ie,Ge,re){re=re||0,ut.isArray(Ie)||(Ie=[Ie]),ut.forEach(Ie,function(se,me){var De=Ge(se,me,re);ut.isArray(De)&&De.length&&Or(De,Ge,re+1)})}function vn(Ie,Ge,re){var se=!re||-1===Ie.indexOf(Ge);return se&&Ie.push(Ge),se}function cn(Ie,Ge,re){var se=[],me=[];return Or(Ie,function(De,je,Ke){vn(se,De,Ge);var Oe=De.flowElements;if((-1===re||Ke<re)&&Oe&&vn(me,Oe,Ge))return Oe}),se}function uo(Ie,Ge){return cn(Ie,!Ge,-1)}function ge(Ie,Ge){var re=ut.findIndex(Ie,function(se){return se.name===Ge.name&&se.scope===Ge.scope});re>=0?Ie[re].origin=function wr(Ie,Ge){return Ie.concat(Ge)}(Ie[re].origin,Ge.origin):Ie.push(Ge)}function ii(Ie,Ge,re){var se=function Gr(Ie,Ge,re){var se=wn(Ie),me=ut.find(se,function(De){return function ki(Ie,Ge){return Ie&&"function"==typeof Ie.$instanceOf&&Ie.$instanceOf(Ge)}(De,"bpmn:SubProcess")&&function Ci(Ie,Ge){return ut.find(function tn(Ie){return dt(Ie,"inputParameters")}(Ie),function(re){return re.name===Ge})}(De,re)});return me||Ge}(Ie,re,Ge);return{name:Ge,origin:[Ie],scope:se}}function qr(Ie,Ge){var re=Ie.eventDefinitions;return re&&Ge?ut.filter(re,function(se){return function gs(Ie,Ge){return Ie&&"function"==typeof Ie.$instanceOf&&Ie.$instanceOf(Ge)}(se,Ge)}):re}var Ve=[function oi(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ut.isArray(Ge)||(Ge=[Ge]),ut.forEach(Ge,function(me){var De=function rt(Ie){return dt(Ie,"outputParameters")}(me);ut.forEach(De,function(je){var Ke=ii(me,je.name,re);ge(se,Ke)})}),se},function ms(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ut.isArray(Ge)||(Ge=[Ge]),ut.forEach(Ge,function(me){var De=function Po(Ie){return Ie.get("camunda:resultVariable")}(me);if(De){var je=ii(me,De,re);ge(se,je)}}),se},function _a(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ut.isArray(Ge)||(Ge=[Ge]),ut.forEach(Ge,function(me){var De=function it(Ie){var Ge=function mt(Ie){return Ut(Ie,"camunda:FormData")[0]}(Ie);return Ge&&Ge.get("fields")||[]}(me);ut.forEach(De,function(je){var Ke=ii(me,je.id,re);ge(se,Ke)})}),se},function Ea(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ut.isArray(Ge)||(Ge=[Ge]),ut.forEach(Ge,function(me){var De=function nn(Ie){return Ut(Ie,"camunda:Out")}(me);ut.forEach(De,function(je){if(!je.local){var Ke=ii(me,je.target,re);ge(se,Ke)}})}),se},function xa(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables,me=function(De,je){var Ke=ii(De,je,re);ge(se,Ke)};return ut.isArray(Ge)||(Ge=[Ge]),ut.forEach(Ge,function(De){var je=function po(Ie){return qr(Ie,"bpmn:ErrorEventDefinition")}(De);ut.forEach(je,function(Oe){var Ue=Oe.get("errorCodeVariable"),Gt=Oe.get("errorMessageVariable");Ue&&me(De,Ue),Gt&&me(De,Gt)});var Ke=function qa(Ie){return qr(Ie,"bpmn:EscalationEventDefinition")}(De);ut.forEach(Ke,function(Oe){var Ue=Oe.get("escalationCodeVariable");Ue&&me(De,Ue)})}),se}];function de(){return(de=Ye(function*(Ie,Ge,re=[]){var se=yield function qe(Ie,Ge=[]){const re=[];var se=[],me=uo([Ie],!1);return ut.forEach([...Ve,...Ge],function(De){re.push(De({elements:me,containerElement:Ie,processVariables:se}))}),Promise.all(re).then(()=>se)}(Ge,re),me=function kt(Ie,Ge){var re=uo(Ge);return ut.find(re,function(se){return se.id===Ie})}(Ie,Ge),De=ut.filter(se,function(Oe){return Oe.scope.id===me.id}),je=wn(me);return function Nt(Ie,Ge){return Ie.concat(Ge)}(De,ut.filter(se,function(Oe){return ut.find(je,function(Ue){return Ue.id===Oe.scope.id})}))})).apply(this,arguments)}Qt.Zc=function Ze(Ie,Ge){return de.apply(this,arguments)}},632:(Nr,Qt,Hn)=>{"use strict";var Ye=Hn(293).default,ut=Hn(892);function Vt(re){return(Dn(re,"zeebe:IoMapping")||[])[0]}function Dn(re,se,me){var De=function wn(re,se){var me=[],De=re.get("extensionElements");if(typeof De<"u"){var je=De.get("values");typeof je<"u"&&(me=ut.filter(je,function(Ke){return function Or(re,se){return re&&"function"==typeof re.$instanceOf&&re.$instanceOf(se)}(Ke,se)}))}return me}(re,se);return me?(De[0]||{})[me]||[]:De}function vn(re){for(var se=[],me=re;me.$parent;)se.push(me.$parent),me=me.$parent;return se}function cn(re,se,me){me=me||0,ut.isArray(re)||(re=[re]),ut.forEach(re,function(De,je){var Ke=se(De,je,me);ut.isArray(Ke)&&Ke.length&&cn(Ke,se,me+1)})}function uo(re,se,me){var De=!me||-1===re.indexOf(se);return De&&re.push(se),De}function kt(re,se,me){var De=[],je=[];return cn(re,function(Ke,Oe,Ue){uo(De,Ke,se);var Gt=Ke.flowElements;if((-1===me||Ue<me)&&Gt&&uo(je,Gt,se))return Gt}),De}function ge(re,se){return kt(re,!se,-1)}function Gr(re,se){var me=ut.findIndex(re,function(De){return De.name===se.name&&De.scope===se.scope});me>=0?re[me].origin=function ms(re,se){return re.concat(se)}(re[me].origin,se.origin):re.push(se)}function ki(re,se,me){var De=function Ci(re,se,me){var De=vn(re),je=ut.find(De,function(Ke){return function wr(re,se){return re&&"function"==typeof re.$instanceOf&&re.$instanceOf(se)}(Ke,"bpmn:SubProcess")&&function oi(re,se){return ut.find(function tn(re){return function lt(re,se){var me=Vt(re);return me&&me.get(se)||[]}(re,"inputParameters")}(re),function(me){return me.target===se})}(Ke,me)});return je||se}(re,me,se);return{name:se,origin:[re],scope:De}}var qa=[function Po(re){var se=re.elements,me=re.processVariables;return ut.isArray(se)||(se=[se]),ut.forEach(se,function(De){var je=function it(re){return(Vt(re)||{}).inputParameters}(De);ut.forEach(je,function(Ke){var Oe=ki(De,Ke.target,De);Gr(me,Oe)})}),me},function _a(re){var se=re.elements,me=re.processVariables;return ut.isArray(se)||(se=[se]),ut.forEach(se,function(De){var je=De.loopCharacteristics,Ke=je&&function mt(re){const se=Dn(re,"zeebe:LoopCharacteristics")[0];return se&&se.inputElement}(je);if(Ke){var Oe=ki(De,Ke,De);Gr(me,Oe)}}),me},function Ea(re){var se=re.elements,me=re.containerElement,De=re.processVariables;return ut.isArray(se)||(se=[se]),ut.forEach(se,function(je){var Ke=function rt(re){return(Vt(re)||{}).outputParameters}(je);ut.forEach(Ke,function(Oe){var Ue=ki(je,Oe.target,me);Gr(De,Ue)})}),De},function qr(re){var se=re.elements,me=re.containerElement,De=re.processVariables;return ut.isArray(se)||(se=[se]),ut.forEach(se,function(je){var Ke=je.loopCharacteristics,Oe=Ke&&function nn(re){const se=Dn(re,"zeebe:LoopCharacteristics")[0];return se&&se.outputCollection}(Ke);if(Oe){var Ue=ki(je,Oe,me);Gr(De,Ue)}}),De},function po(re){var se=re.elements,me=re.containerElement,De=re.processVariables;return ut.isArray(se)||(se=[se]),ut.forEach(se,function(je){var Ke=function Ut(re){return(Dn(re,"zeebe:CalledDecision")||[])[0]}(je)||function dt(re){return(Dn(re,"zeebe:Script")||[])[0]}(je);if(Ke){var Oe=Ke.resultVariable;if(Oe){var Ue=ki(je,Oe,me);Gr(De,Ue)}}}),De}];function xa(re,se){return Ve.apply(this,arguments)}function Ve(){return(Ve=Ye(function*(re,se,me=[]){var De=yield function gs(re,se=[]){var me=[],De=ge([re],!1);const je=[];return ut.forEach([...qa,...se],function(Ke){je.push(Ke({elements:De,containerElement:re,processVariables:me}))}),Promise.all(je).then(()=>me)}(se,me),je=function ii(re,se){var me=ge(se);return ut.find(me,function(De){return De.id===re})}(re,se),Ke=ut.filter(De,function(Gt){return Gt.scope.id===je.id}),Oe=vn(je);return function Nt(re,se){return re.concat(se)}(Ke,ut.filter(De,function(Gt){return ut.find(Oe,function($t){return $t.id===Gt.scope.id})}))})).apply(this,arguments)}function Ie(re){return re&&re.businessObject||re}function Ge(re,se){var me=Ie(re);return me&&"function"==typeof me.$instanceOf&&me.$instanceOf(se)}Qt.Hp=function qe(re,se=[]){return xa(function Ze(re){const se=Ie(re);return Ge(re,"bpmn:Participant")?se.processRef.id:se.id}(re),function de(re){const se=Ie(re);if(Ge(se,"bpmn:Participant"))return se.processRef;if(Ge(se,"bpmn:Process"))return se;let me=se;for(;me.$parent&&!Ge(me,"bpmn:Process");)me=me.$parent;return me}(re),se)}},408:(Nr,Qt,Hn)=>{"use strict";function Ft(t,i,o,s,a,l,c){try{var u=t[l](c),p=u.value}catch(h){return void o(h)}u.done?i(p):Promise.resolve(p).then(s,a)}function Ye(t){return function(){var i=this,o=arguments;return new Promise(function(s,a){var l=t.apply(i,o);function c(p){Ft(l,s,a,c,u,"next",p)}function u(p){Ft(l,s,a,c,u,"throw",p)}c(void 0)})}}let Vt=null,rt=1;const it=Symbol("SIGNAL");function mt(t){const i=Vt;return Vt=t,i}function Or(t){if((!wr(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==rt)){if(!t.producerMustRecompute(t)&&!ii(t))return t.dirty=!1,void(t.lastCleanEpoch=rt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=rt}}function ii(t){oi(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],s=t.producerLastReadVersion[i];if(s!==o.version||(Or(o),s!==o.version))return!0}return!1}function Ci(t,i){if(function ms(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),oi(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Ci(t.producerNode[s],t.producerIndexOfThis[s]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[i],a=t.liveConsumerNode[i];oi(a),a.producerIndexOfThis[s]=i}}function wr(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function oi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let gs=null;function Oe(t){return"function"==typeof t}function Ue(t){const o=t(s=>{Error.call(s),s.stack=(new Error).stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}const Gt=Ue(t=>function(o){t(this),this.message=o?`${o.length} errors occurred during unsubscription:\n${o.map((s,a)=>`${a+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=o});function $t(t,i){if(t){const o=t.indexOf(i);0<=o&&t.splice(o,1)}}class qt{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(const l of o)l.remove(this);else o.remove(this);const{initialTeardown:s}=this;if(Oe(s))try{s()}catch(l){i=l instanceof Gt?l.errors:[l]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const l of a)try{ar(l)}catch(c){i=i??[],c instanceof Gt?i=[...i,...c.errors]:i.push(c)}}if(i)throw new Gt(i)}}add(i){var o;if(i&&i!==this)if(this.closed)ar(i);else{if(i instanceof qt){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(o=this._finalizers)&&void 0!==o?o:[]).push(i)}}_hasParent(i){const{_parentage:o}=this;return o===i||Array.isArray(o)&&o.includes(i)}_addParent(i){const{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(i),o):o?[o,i]:i}_removeParent(i){const{_parentage:o}=this;o===i?this._parentage=null:Array.isArray(o)&&$t(o,i)}remove(i){const{_finalizers:o}=this;o&&$t(o,i),i instanceof qt&&i._removeParent(this)}}qt.EMPTY=(()=>{const t=new qt;return t.closed=!0,t})();const rr=qt.EMPTY;function Lr(t){return t instanceof qt||t&&"closed"in t&&Oe(t.remove)&&Oe(t.add)&&Oe(t.unsubscribe)}function ar(t){Oe(t)?t():t.unsubscribe()}const In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cr={setTimeout(t,i,...o){const{delegate:s}=Cr;return s?.setTimeout?s.setTimeout(t,i,...o):setTimeout(t,i,...o)},clearTimeout(t){const{delegate:i}=Cr;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gi(t){Cr.setTimeout(()=>{const{onUnhandledError:i}=In;if(!i)throw t;i(t)})}function kr(){}const Ol=Vc("C",void 0,void 0);function Vc(t,i,o){return{kind:t,value:i,error:o}}let Ai=null;function ku(t){if(In.useDeprecatedSynchronousErrorHandling){const i=!Ai;if(i&&(Ai={errorThrown:!1,error:null}),t(),i){const{errorThrown:o,error:s}=Ai;if(Ai=null,o)throw s}}else t()}class Qr extends qt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Lr(i)&&i.add(this)):this.destination=pp}static create(i,o,s){return new vs(i,o,s)}next(i){this.isStopped?Wa(function eh(t){return Vc("N",t,void 0)}(i),this):this._next(i)}error(i){this.isStopped?Wa(function Zt(t){return Vc("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?Wa(Ol,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Sr=Function.prototype.bind;function vr(t,i){return Sr.call(t,i)}class A0{constructor(i){this.partialObserver=i}next(i){const{partialObserver:o}=this;if(o.next)try{o.next(i)}catch(s){wa(s)}}error(i){const{partialObserver:o}=this;if(o.error)try{o.error(i)}catch(s){wa(s)}else wa(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(o){wa(o)}}}class vs extends Qr{constructor(i,o,s){let a;if(super(),Oe(i)||!i)a={next:i??void 0,error:o??void 0,complete:s??void 0};else{let l;this&&In.useDeprecatedNextContext?(l=Object.create(i),l.unsubscribe=()=>this.unsubscribe(),a={next:i.next&&vr(i.next,l),error:i.error&&vr(i.error,l),complete:i.complete&&vr(i.complete,l)}):a=i}this.destination=new A0(a)}}function wa(t){In.useDeprecatedSynchronousErrorHandling?function dp(t){In.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=t)}(t):gi(t)}function Wa(t,i){const{onStoppedNotification:o}=In;o&&Cr.setTimeout(()=>o(t,i))}const pp={closed:!0,next:kr,error:function rn(t){throw t},complete:kr},na="function"==typeof Symbol&&Symbol.observable||"@@observable";function Et(t){return t}function kn(t){return 0===t.length?Et:1===t.length?t[0]:function(o){return t.reduce((s,a)=>a(s),o)}}let Ar=(()=>{class t{constructor(o){o&&(this._subscribe=o)}lift(o){const s=new t;return s.source=this,s.operator=o,s}subscribe(o,s,a){const l=function w1(t){return t&&t instanceof Qr||function R0(t){return t&&Oe(t.next)&&Oe(t.error)&&Oe(t.complete)}(t)&&Lr(t)}(o)?o:new vs(o,s,a);return ku(()=>{const{operator:c,source:u}=this;l.add(c?c.call(l,u):u?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(o){try{return this._subscribe(o)}catch(s){o.error(s)}}forEach(o,s){return new(s=vi(s))((a,l)=>{const c=new vs({next:u=>{try{o(u)}catch(p){l(p),c.unsubscribe()}},error:l,complete:a});this.subscribe(c)})}_subscribe(o){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(o)}[na](){return this}pipe(...o){return kn(o)(this)}toPromise(o){return new(o=vi(o))((s,a)=>{let l;this.subscribe(c=>l=c,c=>a(c),()=>s(l))})}}return t.create=i=>new t(i),t})();function vi(t){var i;return null!==(i=t??In.Promise)&&void 0!==i?i:Promise}const C1=Ue(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ra=(()=>{class t extends Ar{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){const s=new S1(this,this);return s.operator=o,s}_throwIfClosed(){if(this.closed)throw new C1}next(o){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(o)}})}error(o){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;const{observers:s}=this;for(;s.length;)s.shift().error(o)}})}complete(){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){const{hasError:s,isStopped:a,observers:l}=this;return s||a?rr:(this.currentObservers=null,l.push(o),new qt(()=>{this.currentObservers=null,$t(l,o)}))}_checkFinalizedStatuses(o){const{hasError:s,thrownError:a,isStopped:l}=this;s?o.error(a):l&&o.complete()}asObservable(){const o=new Ar;return o.source=this,o}}return t.create=(i,o)=>new S1(i,o),t})();class S1 extends ra{constructor(i,o){super(),this.destination=i,this.source=o}next(i){var o,s;null===(s=null===(o=this.destination)||void 0===o?void 0:o.next)||void 0===s||s.call(o,i)}error(i){var o,s;null===(s=null===(o=this.destination)||void 0===o?void 0:o.error)||void 0===s||s.call(o,i)}complete(){var i,o;null===(o=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===o||o.call(i)}_subscribe(i){var o,s;return null!==(s=null===(o=this.source)||void 0===o?void 0:o.subscribe(i))&&void 0!==s?s:rr}}class Rt extends ra{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const o=super._subscribe(i);return!o.closed&&i.next(this._value),o}getValue(){const{hasError:i,thrownError:o,_value:s}=this;if(i)throw o;return this._throwIfClosed(),s}next(i){super.next(this._value=i)}}function th(t){return Oe(t?.lift)}function xo(t){return i=>{if(th(i))return i.lift(function(o){try{return t(o,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function no(t,i,o,s,a){return new Au(t,i,o,s,a)}class Au extends Qr{constructor(i,o,s,a,l,c){super(i),this.onFinalize=l,this.shouldUnsubscribe=c,this._next=o?function(u){try{o(u)}catch(p){i.error(p)}}:super._next,this._error=a?function(u){try{a(u)}catch(p){i.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(u){i.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:o}=this;super.unsubscribe(),!o&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function yr(t,i){return xo((o,s)=>{let a=0;o.subscribe(no(s,l=>{s.next(t.call(i,l,a++))}))})}class Je extends Error{constructor(i,o){super(function jc(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function ys(t){return{toString:t}.toString()}const Ya="__parameters__";function Go(t,i,o){return ys(()=>{const s=function L0(t){return function(...o){if(t){const s=t(...o);for(const a in s)this[a]=s[a]}}}(i);function a(...l){if(this instanceof a)return s.apply(this,l),this;const c=new a(...l);return u.annotation=c,u;function u(p,h,g){const y=p.hasOwnProperty(Ya)?p[Ya]:Object.defineProperty(p,Ya,{value:[]})[Ya];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(c),p}}return o&&(a.prototype=Object.create(o.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}const ir=globalThis;function Fn(t){for(let i in t)if(t[i]===Fn)return i;throw Error("Could not find renamed property on target object.")}function Ka(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function fo(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fo).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ru(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const zs=Fn({__forward_ref__:Fn});function jr(t){return t.__forward_ref__=jr,t.toString=function(){return fo(this())},t}function un(t){return Iu(t)?t():t}function Iu(t){return"function"==typeof t&&t.hasOwnProperty(zs)&&t.__forward_ref__===jr}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $r(t){return{providers:t.providers||[],imports:t.imports||[]}}function ic(t){return oc(t,Wy)||oc(t,D1)}function oc(t,i){return t.hasOwnProperty(i)?t[i]:null}function sc(t){return t&&(t.hasOwnProperty(l_)||t.hasOwnProperty(c_))?t[l_]:null}const Wy=Fn({\u0275prov:Fn}),l_=Fn({\u0275inj:Fn}),D1=Fn({ngInjectableDef:Fn}),c_=Fn({ngInjectorDef:Fn});class Ct{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=It({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ih(t){return t&&!!t.\u0275providers}const P1=Fn({\u0275cmp:Fn}),d_=Fn({\u0275dir:Fn}),Yy=Fn({\u0275pipe:Fn}),M1=Fn({\u0275mod:Fn}),qc=Fn({\u0275fac:Fn}),oh=Fn({__NG_ELEMENT_ID__:Fn}),MC=Fn({__NG_ENV_ID__:Fn});function Wr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function Bn(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Yt(t,i){throw new Je(-201,!1)}var Jn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Jn||{});let p_;function mn(){return p_}function Zr(t){const i=p_;return p_=t,i}function Ky(t,i,o){const s=ic(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:o&Jn.Optional?null:void 0!==i?i:void Yt()}const sh={},h_="__NG_DI_FLAG__",En="ngTempTokenPath",ah=/\n/gm,Qy="__source";let Nu;function Lu(t){const i=Nu;return Nu=t,i}function $0(t,i=Jn.Default){if(void 0===Nu)throw new Je(-203,!1);return null===Nu?Ky(t,void 0,i):Nu.get(t,i&Jn.Optional?null:void 0,i)}function dn(t,i=Jn.Default){return(mn()||$0)(un(t),i)}function nt(t,i=Jn.Default){return dn(t,O1(i))}function O1(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zy(t){const i=[];for(let o=0;o<t.length;o++){const s=un(t[o]);if(Array.isArray(s)){if(0===s.length)throw new Je(900,!1);let a,l=Jn.Default;for(let c=0;c<s.length;c++){const u=s[c],p=AC(u);"number"==typeof p?-1===p?a=u.token:l|=p:a=u}i.push(dn(a,l))}else i.push(dn(s))}return i}function ch(t,i){return t[h_]=i,t.prototype[h_]=i,t}function AC(t){return t[h_]}const A1=ch(Go("Optional"),8),Jy=ch(Go("SkipSelf"),4);function Wc(t,i){return t.hasOwnProperty(qc)?t[qc]:null}function Xc(t,i){t.forEach(o=>Array.isArray(o)?Xc(o,i):i(o))}function R1(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function dh(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Za(t,i,o){let s=H0(t,i);return s>=0?t[1|s]=o:(s=~s,function m_(t,i,o,s){let a=t.length;if(a==i)t.push(o,s);else if(1===a)t.push(s,t[0]),t[0]=o;else{for(a--,t.push(t[a-1],t[a]);a>i;)t[a]=t[a-2],a--;t[i]=o,t[i+1]=s}}(t,s,i,o)),s}function z0(t,i){const o=H0(t,i);if(o>=0)return t[1|o]}function H0(t,i){return function NC(t,i,o){let s=0,a=t.length>>o;for(;a!==s;){const l=s+(a-s>>1),c=t[l<<o];if(i===c)return l<<o;c>i?a=l:s=l+1}return~(a<<o)}(t,i,1)}const ac={},Dr=[],Bu=new Ct(""),g_=new Ct("",-1),_s=new Ct("");class ia{get(i,o=sh){if(o===sh){const s=new Error(`NullInjectorError: No provider for ${fo(i)}!`);throw s.name="NullInjectorError",s}return o}}var lc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lc||{}),Rl=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rl||{}),Jr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Jr||{});function LC(t,i,o){let s=t.length;for(;;){const a=t.indexOf(i,o);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const l=i.length;if(a+l===s||t.charCodeAt(a+l)<=32)return a}o=a+1}}function Sa(t,i,o){let s=0;for(;s<o.length;){const a=o[s];if("number"==typeof a){if(0!==a)break;s++;const l=o[s++],c=o[s++],u=o[s++];t.setAttribute(i,c,u,l)}else{const l=a,c=o[++s];BC(l)?t.setProperty(i,l,c):t.setAttribute(i,l,c),s++}}return s}function FC(t){return 3===t||4===t||6===t}function BC(t){return 64===t.charCodeAt(0)}function I1(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let s=0;s<i.length;s++){const a=i[s];"number"==typeof a?o=a:0===o||ph(t,o,a,null,-1===o||2===o?i[++s]:null)}}return t}function ph(t,i,o,s,a){let l=0,c=t.length;if(-1===i)c=-1;else for(;l<t.length;){const u=t[l++];if("number"==typeof u){if(u===i){c=-1;break}if(u>i){c=l-1;break}}}for(;l<t.length;){const u=t[l];if("number"==typeof u)break;if(u===o){if(null===s)return void(null!==a&&(t[l+1]=a));if(s===t[l+1])return void(t[l+2]=a)}l++,null!==s&&l++,null!==a&&l++}-1!==c&&(t.splice(c,0,i),l=c+1),t.splice(l++,0,o),null!==s&&t.splice(l++,0,s),null!==a&&t.splice(l++,0,a)}const VC="ng-template";function vp(t,i,o,s){let a=0;if(s){for(;a<i.length&&"string"==typeof i[a];a+=2)if("class"===i[a]&&-1!==LC(i[a+1].toLowerCase(),o,0))return!0}else if(t2(t))return!1;if(a=i.indexOf(1,a),a>-1){let l;for(;++a<i.length&&"string"==typeof(l=i[a]);)if(l.toLowerCase()===o)return!0}return!1}function t2(t){return 4===t.type&&t.value!==VC}function jC(t,i,o){return i===(4!==t.type||o?t.value:VC)}function fh(t,i,o){let s=4;const a=t.attrs,l=null!==a?function zC(t){for(let i=0;i<t.length;i++)if(FC(t[i]))return i;return t.length}(a):0;let c=!1;for(let u=0;u<i.length;u++){const p=i[u];if("number"!=typeof p){if(!c)if(4&s){if(s=2|1&s,""!==p&&!jC(t,p,o)||""===p&&1===i.length){if(Il(s))return!1;c=!0}}else if(8&s){if(null===a||!vp(t,a,p,o)){if(Il(s))return!1;c=!0}}else{const h=i[++u],g=n2(p,a,t2(t),o);if(-1===g){if(Il(s))return!1;c=!0;continue}if(""!==h){let y;if(y=g>l?"":a[g+1].toLowerCase(),2&s&&h!==y){if(Il(s))return!1;c=!0}}}}else{if(!c&&!Il(s)&&!Il(p))return!1;if(c&&Il(p))continue;c=!1,s=p|1&s}}return Il(s)||c}function Il(t){return!(1&t)}function n2(t,i,o,s){if(null===i)return-1;let a=0;if(s||!o){let l=!1;for(;a<i.length;){const c=i[a];if(c===t)return a;if(3===c||6===c)l=!0;else{if(1===c||2===c){let u=i[++a];for(;"string"==typeof u;)u=i[++a];continue}if(4===c)break;if(0===c){a+=4;continue}}a+=l?1:2}return-1}return function mO(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const s=t[o];if("number"==typeof s)return-1;if(s===i)return o;o++}return-1}(i,t)}function $C(t,i,o=!1){for(let s=0;s<i.length;s++)if(fh(t,i[s],o))return!0;return!1}function y_(t,i){return t?":not("+i.trim()+")":i}function gO(t){let i=t[0],o=1,s=2,a="",l=!1;for(;o<t.length;){let c=t[o];if("string"==typeof c)if(2&s){const u=t[++o];a+="["+c+(u.length>0?'="'+u+'"':"")+"]"}else 8&s?a+="."+c:4&s&&(a+=" "+c);else""!==a&&!Il(c)&&(i+=y_(l,a),a=""),s=c,l=l||!Il(s);o++}return""!==a&&(i+=y_(l,a)),i}function N1(t){return ys(()=>{const i=i2(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rl.Emulated,styles:t.styles||Dr,_:null,schemas:t.schemas||null,tView:null,id:""};yp(o);const s=t.dependencies;return o.directiveDefs=hh(s,!1),o.pipeDefs=hh(s,!0),o.id=function WC(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const a of o)i=Math.imul(31,i)+a.charCodeAt(0)|0;return i+=2147483648,"c"+i}(o),o})}function GC(t){return Un(t)||ro(t)}function U0(t){return null!==t}function as(t){return ys(()=>({type:t.type,bootstrap:t.bootstrap||Dr,declarations:t.declarations||Dr,imports:t.imports||Dr,exports:t.exports||Dr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qC(t,i){if(null==t)return ac;const o={};for(const s in t)if(t.hasOwnProperty(s)){const a=t[s];let l,c,u=Jr.None;Array.isArray(a)?(u=a[0],l=a[1],c=a[2]??l):(l=a,c=a),i?(o[l]=u!==Jr.None?[s,u]:s,i[l]=c):o[l]=s}return o}function Cn(t){return ys(()=>{const i=i2(t);return yp(i),i})}function Un(t){return t[P1]||null}function ro(t){return t[d_]||null}function qo(t){return t[Yy]||null}function Xr(t,i){const o=t[M1]||null;if(!o&&!0===i)throw new Error(`Type ${fo(t)} does not have '\u0275mod' property.`);return o}function i2(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||ac,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Dr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qC(t.inputs,i),outputs:qC(t.outputs),debugInfo:null}}function yp(t){t.features?.forEach(i=>i(t))}function hh(t,i){if(!t)return null;const o=i?qo:GC;return()=>("function"==typeof t?t():t).map(s=>o(s)).filter(U0)}function yO(...t){return{\u0275providers:o2(0,t),\u0275fromNgModule:!0}}function o2(t,...i){const o=[],s=new Set;let a;const l=c=>{o.push(c)};return Xc(i,c=>{const u=c;s2(u,l,[],s)&&(a||=[],a.push(u))}),void 0!==a&&b_(a,l),o}function b_(t,i){for(let o=0;o<t.length;o++){const{ngModule:s,providers:a}=t[o];a2(a,l=>{i(l,s)})}}function s2(t,i,o,s){if(!(t=un(t)))return!1;let a=null,l=sc(t);const c=!l&&Un(t);if(l||c){if(c&&!c.standalone)return!1;a=t}else{const p=t.ngModule;if(l=sc(p),!l)return!1;a=p}const u=s.has(a);if(c){if(u)return!1;if(s.add(a),c.dependencies){const p="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const h of p)s2(h,i,o,s)}}else{if(!l)return!1;{if(null!=l.imports&&!u){let h;s.add(a);try{Xc(l.imports,g=>{s2(g,i,o,s)&&(h||=[],h.push(g))})}finally{}void 0!==h&&b_(h,i)}if(!u){const h=Wc(a)||(()=>new a);i({provide:a,useFactory:h,deps:Dr},a),i({provide:_s,useValue:a,multi:!0},a),i({provide:Bu,useValue:()=>dn(a),multi:!0},a)}const p=l.providers;if(null!=p&&!u){const h=t;a2(p,g=>{i(g,h)})}}}return a!==t&&void 0!==t.providers}function a2(t,i){for(let o of t)ih(o)&&(o=o.\u0275providers),Array.isArray(o)?a2(o,i):i(o)}const __=Fn({provide:String,useValue:Fn});function Vu(t){return null!==t&&"object"==typeof t&&__ in t}function Yc(t){return"function"==typeof t}const E_=new Ct(""),c2={},u2={};let x_;function d2(){return void 0===x_&&(x_=new ia),x_}class Yr{}class mh extends Yr{get destroyed(){return this._destroyed}constructor(i,o,s,a){super(),this.parent=o,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f2(i,c=>this.processProvider(c)),this.records.set(g_,Gn(void 0,this)),a.has("environment")&&this.records.set(Yr,Gn(void 0,this));const l=this.records.get(E_);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(_s,Dr,Jn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=mt(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),mt(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=Lu(this),s=Zr(void 0);try{return i()}finally{Lu(o),Zr(s)}}get(i,o=sh,s=Jn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(MC))return i[MC](this);s=O1(s);const l=Lu(this),c=Zr(void 0);try{if(!(s&Jn.SkipSelf)){let p=this.records.get(i);if(void 0===p){const h=function EO(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ct}(i)&&ic(i);p=h&&this.injectableDefInScope(h)?Gn(p2(i),c2):null,this.records.set(i,p)}if(null!=p)return this.hydrate(i,p)}return(s&Jn.Self?d2():this.parent).get(i,o=s&Jn.Optional&&o===sh?null:o)}catch(u){if("NullInjectorError"===u.name){if((u[En]=u[En]||[]).unshift(fo(i)),l)throw u;return function uh(t,i,o,s){const a=t[En];throw i[Qy]&&a.unshift(i[Qy]),t.message=function k1(t,i,o,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let a=fo(i);if(Array.isArray(i))a=i.map(fo).join(" -> ");else if("object"==typeof i){let l=[];for(let c in i)if(i.hasOwnProperty(c)){let u=i[c];l.push(c+":"+("string"==typeof u?JSON.stringify(u):fo(u)))}a=`{${l.join(", ")}}`}return`${o}${s?"("+s+")":""}[${a}]: ${t.replace(ah,"\n  ")}`}("\n"+t.message,a,o,s),t.ngTokenPath=a,t[En]=null,t}(u,i,"R3InjectorError",this.source)}throw u}finally{Zr(c),Lu(l)}}resolveInjectorInitializers(){const i=mt(null),o=Lu(this),s=Zr(void 0);try{const l=this.get(Bu,Dr,Jn.Self);for(const c of l)c()}finally{Lu(o),Zr(s),mt(i)}}toString(){const i=[],o=this.records;for(const s of o.keys())i.push(fo(s));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(i){let o=Yc(i=un(i))?i:un(i&&i.provide);const s=function _O(t){return Vu(t)?Gn(void 0,t.useValue):Gn(Y(t),c2)}(i);if(!Yc(i)&&!0===i.multi){let a=this.records.get(o);a||(a=Gn(void 0,c2,!0),a.factory=()=>Zy(a.multi),this.records.set(o,a)),o=i,a.multi.push(i)}this.records.set(o,s)}hydrate(i,o){const s=mt(null);try{return o.value===c2&&(o.value=u2,o.value=o.factory()),"object"==typeof o.value&&o.value&&function dr(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{mt(s)}}injectableDefInScope(i){if(!i.providedIn)return!1;const o=un(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function p2(t){const i=ic(t),o=null!==i?i.factory:Wc(t);if(null!==o)return o;if(t instanceof Ct)throw new Je(204,!1);if(t instanceof Function)return function oa(t){if(t.length>0)throw new Je(204,!1);const o=function TC(t){return t&&(t[Wy]||t[D1])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Je(204,!1)}function Y(t,i,o){let s;if(Yc(t)){const a=un(t);return Wc(a)||p2(a)}if(Vu(t))s=()=>un(t.useValue);else if(function Si(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Zy(t.deps||[]));else if(function l2(t){return!(!t||!t.useExisting)}(t))s=()=>dn(un(t.useExisting));else{const a=un(t&&(t.useClass||t.provide));if(!function bt(t){return!!t.deps}(t))return Wc(a)||p2(a);s=()=>new a(...Zy(t.deps))}return s}function Gn(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function f2(t,i){for(const o of t)Array.isArray(o)?f2(o,i):o&&ih(o)?f2(o.\u0275providers,i):i(o)}function ls(t,i){t instanceof mh&&t.assertNotDestroyed();const s=Lu(t),a=Zr(void 0);try{return i()}finally{Lu(s),Zr(a)}}function w_(){return void 0!==mn()||null!=function kC(){return Nu}()}const Ri=0,pt=1,Jt=2,wo=3,el=4,Es=5,qi=6,Kc=7,Tr=8,on=9,vt=10,xn=11,V1=12,_p=13,Nl=14,io=15,j1=16,vh=17,ju=18,$1=19,C_=20,q0=21,Ep=22,W0=23,jn=25,S_=1,tl=7,yh=9,ho=10;var uc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(uc||{});function Us(t){return Array.isArray(t)&&"object"==typeof t[S_]}function xs(t){return Array.isArray(t)&&!0===t[S_]}function X0(t){return!!(4&t.flags)}function $u(t){return t.componentOffset>-1}function dc(t){return!(1&~t.flags)}function Ll(t){return!!t.template}function m2(t){return!!(512&t[Jt])}class O_{constructor(i,o,s){this.previousValue=i,this.currentValue=o,this.firstChange=s}isFirstChange(){return this.firstChange}}function st(t,i,o,s){null!==i?i.applyValueToInputSignal(i,s):t[o]=s}function Ao(){return b2}function b2(t){return t.type.prototype.ngOnChanges&&(t.setInput=G1),AO}function AO(){const t=_2(this),i=t?.current;if(i){const o=t.previous;if(o===ac)t.previous=i;else for(let s in i)o[s]=i[s];t.current=null,this.ngOnChanges(i)}}function G1(t,i,o,s,a){const l=this.declaredInputs[s],c=_2(t)||function eS(t,i){return t[JC]=i}(t,{previous:ac,current:null}),u=c.current||(c.current={}),p=c.previous,h=p[l];u[l]=new O_(h&&h.currentValue,o,p===ac),st(t,i,a,o)}Ao.ngInherit=!0;const JC="__ngSimpleChanges__";function _2(t){return t[JC]||null}const Gs=function(t,i,o){};let A_=!1;function yi(t){for(;Array.isArray(t);)t=t[Ri];return t}function qs(t,i){return yi(i[t.index])}function Fl(t,i){return t.data[i]}function Ro(t,i){const o=i[t];return Us(o)?o:o[Ri]}function I_(t){return!(128&~t[Jt])}function fc(t,i){return null==i?null:t[i]}function Da(t){t[vh]=0}function Xo(t){1024&t[Jt]||(t[Jt]|=1024,I_(t)&&mo(t))}function Eh(t){return!!(9216&t[Jt]||t[W0]?.dirty)}function S2(t){t[vt].changeDetectionScheduler?.notify(1),Eh(t)?mo(t):64&t[Jt]&&(function tS(){return A_}()?(t[Jt]|=1024,mo(t)):t[vt].changeDetectionScheduler?.notify())}function mo(t){t[vt].changeDetectionScheduler?.notify();let i=Uu(t);for(;null!==i&&!(8192&i[Jt])&&(i[Jt]|=8192,I_(i));)i=Uu(i)}function D2(t,i){if(!(256&~t[Jt]))throw new Je(911,!1);null===t[q0]&&(t[q0]=[]),t[q0].push(i)}function Uu(t){const i=t[wo];return xs(i)?i[wo]:i}const An={lFrame:W1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rS(){return An.bindingsEnabled}function We(){return An.lFrame.lView}function pr(){return An.lFrame.tView}function Cp(t){return An.lFrame.contextLView=t,t[Tr]}function Ta(t){return An.lFrame.contextLView=null,t}function ei(){let t=xh();for(;null!==t&&64===t.type;)t=t.parent;return t}function xh(){return An.lFrame.currentTNode}function Ws(t,i){const o=An.lFrame;o.currentTNode=t,o.isParent=i}function P2(){return An.lFrame.isParent}function BO(t,i){const o=An.lFrame;o.bindingIndex=o.bindingRootIndex=t,Cs(i)}function Cs(t){An.lFrame.currentDirectiveIndex=t}function Sh(){return An.lFrame.currentQueryIndex}function qn(t){An.lFrame.currentQueryIndex=t}function aS(t){const i=t[pt];return 2===i.type?i.declTNode:1===i.type?t[Es]:null}function Dh(t,i,o){if(o&Jn.SkipSelf){let a=i,l=t;for(;!(a=a.parent,null!==a||o&Jn.Host||(a=aS(l),null===a||(l=l[Nl],10&a.type))););if(null===a)return!1;i=a,t=l}const s=An.lFrame=V_();return s.currentTNode=i,s.lView=t,!0}function A2(t){const i=V_(),o=t[pt];An.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function V_(){const t=An.lFrame,i=null===t?null:t.child;return null===i?W1(t):i}function W1(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function j_(){const t=An.lFrame;return An.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const lS=j_;function Zc(){const t=j_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ss(){return An.lFrame.selectedIndex}function Jc(t){An.lFrame.selectedIndex=t}let $_=!0;function Th(){return $_}function mc(t){$_=t}function Dp(t,i){for(let o=i.directiveStart,s=i.directiveEnd;o<s;o++){const l=t.data[o].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:u,ngAfterViewInit:p,ngAfterViewChecked:h,ngOnDestroy:g}=l;c&&(t.contentHooks??=[]).push(-o,c),u&&((t.contentHooks??=[]).push(o,u),(t.contentCheckHooks??=[]).push(o,u)),p&&(t.viewHooks??=[]).push(-o,p),h&&((t.viewHooks??=[]).push(o,h),(t.viewCheckHooks??=[]).push(o,h)),null!=g&&(t.destroyHooks??=[]).push(o,g)}}function K1(t,i,o){z_(t,i,3,o)}function Q1(t,i,o,s){(3&t[Jt])===o&&z_(t,i,o,s)}function Z1(t,i){let o=t[Jt];(3&o)===i&&(o&=16383,o+=1,t[Jt]=o)}function z_(t,i,o,s){const l=s??-1,c=i.length-1;let u=0;for(let p=void 0!==s?65535&t[vh]:0;p<c;p++)if("number"==typeof i[p+1]){if(u=i[p],null!=s&&u>=s)break}else i[p]<0&&(t[vh]+=65536),(u<l||-1==l)&&(hS(t,o,i,p),t[vh]=(4294901760&t[vh])+p+2),p++}function fS(t,i){Gs(4,t,i);const o=mt(null);try{i.call(t)}finally{mt(o),Gs(5,t,i)}}function hS(t,i,o,s){const a=o[s]<0,l=o[s+1],u=t[a?-o[s]:o[s]];a?t[Jt]>>14<t[vh]>>16&&(3&t[Jt])===i&&(t[Jt]+=16384,fS(u,l)):fS(u,l)}const Tp=-1;class J1{constructor(i,o,s){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=s}}function go(t){return t!==Tp}function qu(t){return 32767&t}function Q0(t,i){let o=function yS(t){return t>>16}(t),s=i;for(;o>0;)s=s[Nl],o--;return s}let N2=!0;function tg(t){const i=N2;return N2=t,i}const H_=255,U_=5;let L2=0;const Vl={};function Pp(t,i){const o=Ph(t,i);if(-1!==o)return o;const s=i[pt];s.firstCreatePass&&(t.injectorIndex=i.length,ng(s.data,t),ng(i,null),ng(s.blueprint,null));const a=Wu(t,i),l=t.injectorIndex;if(go(a)){const c=qu(a),u=Q0(a,i),p=u[pt].data;for(let h=0;h<8;h++)i[l+h]=u[c+h]|p[c+h]}return i[l+8]=a,l}function ng(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Ph(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Wu(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,s=null,a=i;for(;null!==a;){if(s=Mh(a),null===s)return Tp;if(o++,a=a[Nl],-1!==s.injectorIndex)return s.injectorIndex|o<<16}return Tp}function q_(t,i,o){!function G_(t,i,o){let s;"string"==typeof o?s=o.charCodeAt(0)||0:o.hasOwnProperty(oh)&&(s=o[oh]),null==s&&(s=o[oh]=L2++);const a=s&H_;i.data[t+(a>>U_)]|=1<<a}(t,i,o)}function _S(t,i,o){if(o&Jn.Optional||void 0!==t)return t;Yt()}function rg(t,i,o,s){if(o&Jn.Optional&&void 0===s&&(s=null),!(o&(Jn.Self|Jn.Host))){const a=t[on],l=Zr(void 0);try{return a?a.get(i,s,o&Jn.Optional):Ky(i,s,o&Jn.Optional)}finally{Zr(l)}}return _S(s,0,o)}function F2(t,i,o,s=Jn.Default,a){if(null!==t){if(2048&i[Jt]&&!(s&Jn.Self)){const c=function zO(t,i,o,s,a){let l=t,c=i;for(;null!==l&&null!==c&&2048&c[Jt]&&!(512&c[Jt]);){const u=B2(l,c,o,s|Jn.Self,Vl);if(u!==Vl)return u;let p=l.parent;if(!p){const h=c[C_];if(h){const g=h.get(o,Vl,s);if(g!==Vl)return g}p=Mh(c),c=c[Nl]}l=p}return a}(t,i,o,s,Vl);if(c!==Vl)return c}const l=B2(t,i,o,s,Vl);if(l!==Vl)return l}return rg(i,o,s,a)}function B2(t,i,o,s,a){const l=function $O(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(oh)?t[oh]:void 0;return"number"==typeof i?i>=0?i&H_:W_:i}(o);if("function"==typeof l){if(!Dh(i,t,s))return s&Jn.Host?_S(a,0,s):rg(i,o,s,a);try{let c;if(c=l(s),null!=c||s&Jn.Optional)return c;Yt()}finally{lS()}}else if("number"==typeof l){let c=null,u=Ph(t,i),p=Tp,h=s&Jn.Host?i[io][Es]:null;for((-1===u||s&Jn.SkipSelf)&&(p=-1===u?Wu(t,i):i[u+8],p!==Tp&&wS(s,!1)?(c=i[pt],u=qu(p),i=Q0(p,i)):u=-1);-1!==u;){const g=i[pt];if(xS(l,u,g.data)){const y=ES(u,i,o,c,s,h);if(y!==Vl)return y}p=i[u+8],p!==Tp&&wS(s,i[pt].data[u+8]===h)&&xS(l,u,i)?(c=g,u=qu(p),i=Q0(p,i)):u=-1}}return a}function ES(t,i,o,s,a,l){const c=i[pt],u=c.data[t+8],g=ig(u,c,o,null==s?$u(u)&&N2:s!=c&&!!(3&u.type),a&Jn.Host&&l===u);return null!==g?eu(i,c,g,u):Vl}function ig(t,i,o,s,a){const l=t.providerIndexes,c=i.data,u=1048575&l,p=t.directiveStart,g=l>>20,E=a?u+g:t.directiveEnd;for(let C=s?u:u+g;C<E;C++){const D=c[C];if(C<p&&o===D||C>=p&&D.type===o)return C}if(a){const C=c[p];if(C&&Ll(C)&&C.type===o)return p}return null}function eu(t,i,o,s){let a=t[o];const l=i.data;if(function mS(t){return t instanceof J1}(a)){const c=a;c.resolving&&function br(t,i){throw i&&i.join(" > "),new Je(-200,t)}(Wr(l[o]));const u=tg(c.canSeeViewProviders);c.resolving=!0;const h=c.injectImpl?Zr(c.injectImpl):null;Dh(t,s,Jn.Default);try{a=t[o]=c.factory(void 0,l,t,s),i.firstCreatePass&&o>=s.directiveStart&&function pS(t,i,o){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=i.type.prototype;if(s){const c=b2(i);(o.preOrderHooks??=[]).push(t,c),(o.preOrderCheckHooks??=[]).push(t,c)}a&&(o.preOrderHooks??=[]).push(0-t,a),l&&((o.preOrderHooks??=[]).push(t,l),(o.preOrderCheckHooks??=[]).push(t,l))}(o,l[o],i)}finally{null!==h&&Zr(h),tg(u),c.resolving=!1,lS()}}return a}function xS(t,i,o){return!!(o[i+(t>>U_)]&1<<t)}function wS(t,i){return!(t&Jn.Self||t&Jn.Host&&i)}class Kn{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,s){return F2(this._tNode,this._lView,i,O1(s),o)}}function W_(){return new Kn(ei(),We())}function Yo(t){return ys(()=>{const i=t.prototype.constructor,o=i[qc]||Z0(i),s=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==s;){const l=a[qc]||Z0(a);if(l&&l!==o)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Z0(t){return Iu(t)?()=>{const i=Z0(un(t));return i&&i()}:Wc(t)}function Mh(t){const i=t[pt],o=i.type;return 2===o?i.declTNode:1===o?t[Es]:null}function J_(t,i=null,o=null,s){const a=TS(t,i,o,s);return a.resolveInjectorInitializers(),a}function TS(t,i=null,o=null,s,a=new Set){const l=[o||Dr,yO(t)];return s=s||("object"==typeof t?void 0:fo(t)),new mh(l,i||d2(),s||null,a)}let Ys=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=sh;static#t=this.NULL=new ia;static create(o,s){if(Array.isArray(o))return J_({name:""},s,o,"");{const a=o.name??"";return J_({name:a},o.parent,o.providers,a)}}static#n=this.\u0275prov=It({token:t,providedIn:"any",factory:()=>dn(g_)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function kp(t){return t.ngOriginalError}class nl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&kp(i);for(;o&&kp(o);)o=kp(o);return o||null}}const PS=new Ct("",{providedIn:"root",factory:()=>nt(nl).handleError.bind(void 0)});let Ap=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Oh;static#t=this.__NG_ENV_ID__=o=>o}return t})();class WO extends Ap{constructor(i){super(),this._lView=i}onDestroy(i){return D2(this._lView,i),()=>function K0(t,i){if(null===t[q0])return;const o=t[q0].indexOf(i);-1!==o&&t[q0].splice(o,1)}(this._lView,i)}}function Oh(){return new WO(We())}function YO(){return ed(ei(),We())}function ed(t,i){return new vo(qs(t,i))}let vo=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=YO}return t})();function ag(t){return t instanceof vo?t.nativeElement:t}function $2(t){return i=>{setTimeout(t,void 0,i)}}const Ii=class KO extends ra{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,w_()&&(this.destroyRef=nt(Ap,{optional:!0})??void 0)}emit(i){const o=mt(null);try{super.next(i)}finally{mt(o)}}subscribe(i,o,s){let a=i,l=o||(()=>null),c=s;if(i&&"object"==typeof i){const p=i;a=p.next?.bind(p),l=p.error?.bind(p),c=p.complete?.bind(p)}this.__isAsync&&(l=$2(l),a&&(a=$2(a)),c&&(c=$2(c)));const u=super.subscribe({next:a,error:l,complete:c});return i instanceof qt&&i.add(u),u}};function MS(){return this._results[Symbol.iterator]()}class z2{static#e=Symbol.iterator;get changes(){return this._changes??=new Ii}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=z2.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=MS)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){this.dirty=!1;const s=function Ei(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function fO(t,i,o){if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++){let a=t[s],l=i[s];if(o&&(a=o(a),l=o(l)),l!==a)return!1}return!0}(this._results,s,o))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function cg(t){return!(128&~t.flags)}const ug=new Map;let QO=0;const dg="__ngContext__";function Ko(t,i){Us(i)?(t[dg]=i[$1],function AS(t){ug.set(t[$1],t)}(i)):t[dg]=i}function a4(t){return l4(t[V1])}function zS(t){return l4(t[el])}function l4(t){for(;null!==t&&!xs(t);)t=t[el];return t}let d4;const Lh=new Ct("",{providedIn:"root",factory:()=>hg}),hg="ng",jl=new Ct(""),Qo=new Ct("",{providedIn:"platform",factory:()=>"unknown"}),KS=new Ct("",{providedIn:"root",factory:()=>function Yu(){if(void 0!==d4)return d4;if(typeof document<"u")return document;throw new Je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let f4=()=>null;function _g(t,i,o=!1){return f4(t,i,o)}const _4=new Ct("",{providedIn:"root",factory:()=>!1});class wg{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ma(t){return t instanceof Function?t():t}var sl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sl||{});let qh;function ab(t,i){return qh(t,i)}function ad(t,i,o,s,a){if(null!=s){let l,c=!1;xs(s)?l=s:Us(s)&&(c=!0,s=s[Ri]);const u=yi(s);0===t&&null!==o?null==a?G4(i,o,u):cd(i,o,u,a||null,!0):1===t&&null!==o?cd(i,o,u,a||null,!0):2===t?function iu(t,i,o){const s=Hp(t,i);s&&function Ok(t,i,o,s){t.removeChild(i,o,s)}(t,s,i,o)}(i,u,c):3===t&&i.destroyNode(u),null!=l&&function Vg(t,i,o,s,a){const l=o[tl];l!==yi(o)&&ad(i,t,s,l,a);for(let u=ho;u<o.length;u++){const p=o[u];Gp(p[pt],p,t,i,s,l)}}(i,t,l,o,a)}}function Ig(t,i,o){return t.createElement(i,o)}function z4(t,i){i[vt].changeDetectionScheduler?.notify(1),Gp(t,i,i[xn],2,null,null)}function H4(t,i){const o=t[yh],s=o.indexOf(i);o.splice(s,1)}function ld(t,i){if(t.length<=ho)return;const o=ho+i,s=t[o];if(s){const a=s[j1];null!==a&&a!==t&&H4(a,s),i>0&&(t[o-1][el]=s[el]);const l=dh(t,ho+i);!function P8(t,i){z4(t,i),i[Ri]=null,i[Es]=null}(s[pt],s);const c=l[ju];null!==c&&c.detachView(l[pt]),s[wo]=null,s[el]=null,s[Jt]&=-129}return s}function Lg(t,i){if(!(256&i[Jt])){const o=i[xn];o.destroyNode&&Gp(t,i,o,3,null,null),function M8(t){let i=t[V1];if(!i)return cb(t[pt],t);for(;i;){let o=null;if(Us(i))o=i[V1];else{const s=i[ho];s&&(o=s)}if(!o){for(;i&&!i[el]&&i!==t;)Us(i)&&cb(i[pt],i),i=i[wo];null===i&&(i=t),Us(i)&&cb(i[pt],i),o=i&&i[el]}i=o}}(i)}}function cb(t,i){if(256&i[Jt])return;const o=mt(null);try{i[Jt]&=-129,i[Jt]|=256,i[W0]&&function Gr(t){if(oi(t),wr(t))for(let i=0;i<t.producerNode.length;i++)Ci(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(i[W0]),function k8(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let s=0;s<o.length;s+=2){const a=i[o[s]];if(!(a instanceof J1)){const l=o[s+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const u=a[l[c]],p=l[c+1];Gs(4,u,p);try{p.call(u)}finally{Gs(5,u,p)}}else{Gs(4,a,l);try{l.call(a)}finally{Gs(5,a,l)}}}}}(t,i),function O8(t,i){const o=t.cleanup,s=i[Kc];if(null!==o)for(let l=0;l<o.length-1;l+=2)if("string"==typeof o[l]){const c=o[l+3];c>=0?s[c]():s[-c].unsubscribe(),l+=2}else o[l].call(s[o[l+1]]);null!==s&&(i[Kc]=null);const a=i[q0];if(null!==a){i[q0]=null;for(let l=0;l<a.length;l++)(0,a[l])()}}(t,i),1===i[pt].type&&i[xn].destroy();const s=i[j1];if(null!==s&&xs(i[wo])){s!==i[wo]&&H4(s,i);const a=i[ju];null!==a&&a.detachView(t)}!function IS(t){ug.delete(t[$1])}(i)}finally{mt(o)}}function zp(t,i,o){return function U4(t,i,o){let s=i;for(;null!==s&&40&s.type;)s=(i=s).parent;if(null===s)return o[Ri];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:l}=t.data[s.directiveStart+a];if(l===Rl.None||l===Rl.Emulated)return null}return qs(s,o)}}(t,i.parent,o)}function cd(t,i,o,s,a){t.insertBefore(i,o,s,a)}function G4(t,i,o){t.appendChild(i,o)}function ub(t,i,o,s,a){null!==s?cd(t,i,o,s,a):G4(t,i,o)}function Hp(t,i){return t.parentNode(i)}let Wh,q4=function fb(t,i,o){return 40&t.type?qs(t,o):null};function hb(t,i,o,s){const a=zp(t,s,i),l=i[xn],u=function pb(t,i,o){return q4(t,i,o)}(s.parent||i[Es],s,i);if(null!=a)if(Array.isArray(o))for(let p=0;p<o.length;p++)ub(l,a,o[p],u,!1);else ub(l,a,o,u,!1);void 0!==Wh&&Wh(l,s,i,o,a)}function Up(t,i){if(null!==i){const o=i.type;if(3&o)return qs(i,t);if(4&o)return Fg(-1,t[i.index]);if(8&o){const s=i.child;if(null!==s)return Up(t,s);{const a=t[i.index];return xs(a)?Fg(-1,a):yi(a)}}if(32&o)return ab(i,t)()||yi(t[i.index]);{const s=mb(t,i);return null!==s?Array.isArray(s)?s[0]:Up(Uu(t[io]),s):Up(t,i.next)}}return null}function mb(t,i){return null!==i?t[io][Es].projection[i.projection]:null}function Fg(t,i){const o=ho+t+1;if(o<i.length){const s=i[o],a=s[pt].firstChild;if(null!==a)return Up(s,a)}return i[tl]}function Bg(t,i,o,s,a,l,c){for(;null!=o;){const u=s[o.index],p=o.type;if(c&&0===i&&(u&&Ko(yi(u),s),o.flags|=2),32&~o.flags)if(8&p)Bg(t,i,o.child,s,a,l,!1),ad(i,t,a,u,l);else if(32&p){const h=ab(o,s);let g;for(;g=h();)ad(i,t,a,g,l);ad(i,t,a,u,l)}else 16&p?ud(t,i,s,o,a,l):ad(i,t,a,u,l);o=c?o.projectionNext:o.next}}function Gp(t,i,o,s,a,l){Bg(o,s,t.firstChild,i,a,l,!1)}function ud(t,i,o,s,a,l){const c=o[io],p=c[Es].projection[s.projection];if(Array.isArray(p))for(let h=0;h<p.length;h++)ad(i,t,a,p[h],l);else{let h=p;const g=c[wo];cg(s)&&(h.flags|=128),Bg(t,i,h,g,a,l,!0)}}function X4(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function jg(t,i,o){const{mergedAttrs:s,classes:a,styles:l}=o;null!==s&&Sa(t,i,s),null!==a&&X4(t,i,a),null!==l&&function I8(t,i,o){t.setAttribute(i,"style",o)}(t,i,l)}const Wn={};function Y4(t,i,o,s){if(!s)if(3&~i[Jt]){const l=t.preOrderHooks;null!==l&&Q1(i,l,0,o)}else{const l=t.preOrderCheckHooks;null!==l&&K1(i,l,o)}Jc(o)}function at(t,i=Jn.Default){const o=We();return null===o?dn(t,i):F2(ei(),o,un(t),i)}function L8(t,i,o,s,a,l){const c=mt(null);try{let u=null;a&Jr.SignalBased&&(u=i[s][it]),null!==u&&void 0!==u.transformFn&&(l=u.transformFn(l)),a&Jr.HasDecoratorInputTransform&&(l=t.inputTransforms[s].call(i,l)),null!==t.setInput?t.setInput(i,u,l,o,s):st(i,u,s,l)}finally{mt(c)}}function vb(t,i,o,s,a,l,c,u,p,h,g){const y=i.blueprint.slice();return y[Ri]=a,y[Jt]=204|s,(null!==h||t&&2048&t[Jt])&&(y[Jt]|=2048),Da(y),y[wo]=y[Nl]=t,y[Tr]=o,y[vt]=c||t&&t[vt],y[xn]=u||t&&t[xn],y[on]=p||t&&t[on]||null,y[Es]=l,y[$1]=function kS(){return QO++}(),y[qi]=g,y[C_]=h,y[io]=2==i.type?t[io]:y,y}function Xh(t,i,o,s,a){let l=t.data[i];if(null===l)l=function yb(t,i,o,s,a){const l=xh(),c=P2(),p=t.data[i]=function Rk(t,i,o,s,a,l){let c=i?i.injectorIndex:-1,u=0;return function wp(){return null!==An.skipHydrationRootTNode}()&&(u|=128),{type:o,index:s,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,o,i,s,a);return null===t.firstChild&&(t.firstChild=p),null!==l&&(c?null==l.child&&null!==p.parent&&(l.child=p):null===l.next&&(l.next=p,p.prev=l)),p}(t,i,o,s,a),function FO(){return An.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=o,l.value=s,l.attrs=a;const c=function wh(){const t=An.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Ws(l,!0),l}function qp(t,i,o,s){if(0===o)return-1;const a=i.length;for(let l=0;l<o;l++)i.push(s),t.blueprint.push(s),t.data.push(null);return a}function F8(t,i,o,s,a){const l=Ss(),c=2&s;try{Jc(-1),c&&i.length>jn&&Y4(t,i,jn,!1),Gs(c?2:0,a),o(s,a)}finally{Jc(l),Gs(c?3:1,a)}}function bb(t,i,o){if(X0(i)){const s=mt(null);try{const l=i.directiveEnd;for(let c=i.directiveStart;c<l;c++){const u=t.data[c];u.contentQueries&&u.contentQueries(1,o[c],c)}}finally{mt(s)}}}function B8(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Q4(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Q4(t,i,o,s,a,l,c,u,p,h,g){const y=jn+s,E=y+a,C=function dd(t,i){const o=[];for(let s=0;s<i;s++)o.push(s<t?null:Wn);return o}(y,E),D="function"==typeof h?h():h;return C[pt]={type:t,blueprint:C,template:o,queries:null,viewQuery:u,declTNode:i,data:C.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:D,incompleteFirstPass:!1,ssrId:g}}let Eb=()=>null;function V8(t,i,o,s,a){for(let l in i){if(!i.hasOwnProperty(l))continue;const c=i[l];if(void 0===c)continue;s??={};let u,p=Jr.None;Array.isArray(c)?(u=c[0],p=c[1]):u=c;let h=l;if(null!==a){if(!a.hasOwnProperty(l))continue;h=a[l]}0===t?rE(s,o,h,u,p):rE(s,o,h,u)}return s}function rE(t,i,o,s,a){let l;t.hasOwnProperty(o)?(l=t[o]).push(i,s):l=t[o]=[i,s],void 0!==a&&l.push(a)}function aE(t,i,o,s,a,l){for(let h=0;h<s.length;h++)q_(Pp(o,i),t,s[h].type);!function U8(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,s.length);for(let h=0;h<s.length;h++){const g=s[h];g.providersResolver&&g.providersResolver(g)}let c=!1,u=!1,p=qp(t,i,s.length,null);for(let h=0;h<s.length;h++){const g=s[h];o.mergedAttrs=I1(o.mergedAttrs,g.hostAttrs),Hg(t,o,i,p,g),H8(p,g,a),null!==g.contentQueries&&(o.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(o.flags|=64);const y=g.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),c=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),u=!0),p++}!function Ds(t,i,o){const a=i.directiveEnd,l=t.data,c=i.attrs,u=[];let p=null,h=null;for(let g=i.directiveStart;g<a;g++){const y=l[g],E=o?o.get(y):null,D=E?E.outputs:null;p=V8(0,y.inputs,g,p,E?E.inputs:null),h=V8(1,y.outputs,g,h,D);const O=null===p||null===c||t2(i)?null:W8(p,g,c);u.push(O)}null!==p&&(p.hasOwnProperty("class")&&(i.flags|=8),p.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=u,i.inputs=p,i.outputs=h}(t,o,l)}function zg(t,i,o){const s=o.directiveStart,a=o.directiveEnd,l=o.index,c=function O2(){return An.lFrame.currentDirectiveIndex}();try{Jc(l);for(let u=s;u<a;u++){const p=t.data[u],h=i[u];Cs(u),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&Yh(p,h)}}finally{Jc(-1),Cs(c)}}function Yh(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function cE(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function H8(t,i,o){if(o){if(i.exportAs)for(let s=0;s<i.exportAs.length;s++)o[i.exportAs[s]]=t;Ll(i)&&(o[""]=t)}}function Hg(t,i,o,s,a){t.data[s]=a;const l=a.factory||(a.factory=Wc(a.type)),c=new J1(l,Ll(a),at);t.blueprint[s]=c,o[s]=c,function ou(t,i,o,s,a){const l=a.hostBindings;if(l){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const u=~i.index;(function $8(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(c)!=u&&c.push(u),c.push(o,s,l)}}(t,i,s,qp(t,o,a.hostVars,Wn),a)}function q8(t,i,o,s,a,l){const c=l[i];if(null!==c)for(let u=0;u<c.length;)L8(s,o,c[u++],c[u++],c[u++],c[u++])}function W8(t,i,o){let s=null,a=0;for(;a<o.length;){const l=o[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===s&&(s=[]);const c=t[l];for(let u=0;u<c.length;u+=3)if(c[u]===i){s.push(l,c[u+1],c[u+2],o[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function dE(t,i){const o=t.contentQueries;if(null!==o){const s=mt(null);try{for(let a=0;a<o.length;a+=2){const c=o[a+1];if(-1!==c){const u=t.data[c];qn(o[a]),u.contentQueries(2,i[c],c)}}}finally{mt(s)}}}function Kh(t,i){return t[V1]?t[_p][el]=i:t[V1]=i,t[_p]=i,i}function Qh(t,i,o){qn(0);const s=mt(null);try{i(t,o)}finally{mt(s)}}function pE(t){return t[Kc]||(t[Kc]=[])}function X8(t){return t.cleanup||(t.cleanup=[])}function xb(t,i){const o=t[on],s=o?o.get(nl,null):null;s&&s.handleError(i)}function Zh(t,i,o,s,a){for(let l=0;l<o.length;){const c=o[l++],u=o[l++],p=o[l++];L8(t.data[c],i[c],s,u,p,a)}}function Lk(t,i){const o=Ro(i,t),s=o[pt];!function Wp(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(s,o);const a=o[Ri];null!==a&&null===o[qi]&&(o[qi]=_g(a,o[on])),Jh(s,o,o[Tr])}function Jh(t,i,o){A2(i);try{const s=t.viewQuery;null!==s&&Qh(1,s,o);const a=t.template;null!==a&&F8(t,i,a,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),i[ju]?.finishViewCreation(t),t.staticContentQueries&&dE(t,i),t.staticViewQueries&&Qh(2,t.viewQuery,o);const l=t.components;null!==l&&function Gg(t,i){for(let o=0;o<i.length;o++)Lk(t,i[o])}(i,l)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{i[Jt]&=-5,Zc()}}function ka(t,i){return!i||null===i.firstChild||cg(t)}function em(t,i,o,s=!0){const a=i[pt];if(function Ng(t,i,o,s){const a=ho+s,l=o.length;s>0&&(o[a-1][el]=i),s<l-ho?(i[el]=o[a],R1(o,ho+s,i)):(o.push(i),i[el]=null),i[wo]=o;const c=i[j1];null!==c&&o!==c&&function Mk(t,i){const o=t[yh];i[io]!==i[wo][wo][io]&&(t[Jt]|=uc.HasTransplantedViews),null===o?t[yh]=[i]:o.push(i)}(c,i);const u=i[ju];null!==u&&u.insertView(t),S2(i),i[Jt]|=128}(a,i,t,o),s){const c=Fg(o,t),u=i[xn],p=Hp(u,t[tl]);null!==p&&function Pk(t,i,o,s,a,l){s[Ri]=a,s[Es]=i,Gp(t,s,o,1,a,l)}(a,t[Es],u,i,p,c)}const l=i[qi];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function qg(t,i,o,s,a=!1){for(;null!==o;){const l=i[o.index];null!==l&&s.push(yi(l)),xs(l)&&Wg(l,s);const c=o.type;if(8&c)qg(t,i,o.child,s);else if(32&c){const u=ab(o,i);let p;for(;p=u();)s.push(p)}else if(16&c){const u=mb(i,o);if(Array.isArray(u))s.push(...u);else{const p=Uu(i[io]);qg(p[pt],p,u,s,!0)}}o=a?o.projectionNext:o.next}return s}function Wg(t,i){for(let o=ho;o<t.length;o++){const s=t[o],a=s[pt].firstChild;null!==a&&qg(s[pt],s,a,i)}t[tl]!==t[Ri]&&i.push(t[tl])}let Xg=[];const Yp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mo(t.lView)},consumerOnSignalRead(){this.lView[W0]=this}},wb=100;function Yg(t,i=!0,o=0){const s=t[vt],a=s.rendererFactory;a.begin?.();try{!function Cb(t,i){Kg(t,i);let o=0;for(;Eh(t);){if(o===wb)throw new Je(103,!1);o++,Kg(t,1)}}(t,o)}catch(c){throw i&&xb(t,c),c}finally{a.end?.(),s.inlineEffectRunner?.flush()}}function Bk(t,i,o,s){const a=i[Jt];if(!(256&~a))return;i[vt].inlineEffectRunner?.flush(),A2(i);let c=null,u=null;(function Sb(t){return 2!==t.type})(t)&&(u=function $l(t){return t[W0]??function K8(t){const i=Xg.pop()??Object.create(Yp);return i.lView=t,i}(t)}(i),c=function kt(t){return t&&(t.nextProducerIndex=0),mt(t)}(u));try{Da(i),function M2(t){return An.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&F8(t,i,o,2,s);const p=!(3&~a);if(p){const y=t.preOrderCheckHooks;null!==y&&K1(i,y,null)}else{const y=t.preOrderHooks;null!==y&&Q1(i,y,0,null),Z1(i,0)}if(function Ni(t){for(let i=a4(t);null!==i;i=zS(i)){if(!(i[Jt]&uc.HasTransplantedViews))continue;const o=i[yh];for(let s=0;s<o.length;s++){Xo(o[s])}}}(i),hE(i,0),null!==t.contentQueries&&dE(t,i),p){const y=t.contentCheckHooks;null!==y&&K1(i,y)}else{const y=t.contentHooks;null!==y&&Q1(i,y,1),Z1(i,1)}!function Ak(t,i){const o=t.hostBindingOpCodes;if(null!==o)try{for(let s=0;s<o.length;s++){const a=o[s];if(a<0)Jc(~a);else{const l=a,c=o[++s],u=o[++s];BO(c,l),u(2,i[l])}}}finally{Jc(-1)}}(t,i);const h=t.components;null!==h&&mE(i,h,0);const g=t.viewQuery;if(null!==g&&Qh(2,g,s),p){const y=t.viewCheckHooks;null!==y&&K1(i,y)}else{const y=t.viewHooks;null!==y&&Q1(i,y,2),Z1(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Ep]){for(const y of i[Ep])y();i[Ep]=null}i[Jt]&=-73}catch(p){throw mo(i),p}finally{null!==u&&(function ge(t,i){if(mt(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wr(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ci(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(u,c),function Q8(t){t.lView[W0]!==t&&(t.lView=null,Xg.push(t))}(u)),Zc()}}function hE(t,i){for(let o=a4(t);null!==o;o=zS(o))for(let s=ho;s<o.length;s++)Zu(o[s],i)}function Vk(t,i,o){Zu(Ro(i,t),o)}function Zu(t,i){I_(t)&&Kg(t,i)}function Kg(t,i){const s=t[pt],a=t[Jt],l=t[W0];let c=!!(0===i&&16&a);if(c||=!!(64&a&&0===i),c||=!!(1024&a),c||=!(!l?.dirty||!ii(l)),l&&(l.dirty=!1),t[Jt]&=-9217,c)Bk(s,t,s.template,t[Tr]);else if(8192&a){hE(t,1);const u=s.components;null!==u&&mE(t,u,1)}}function mE(t,i,o){for(let s=0;s<i.length;s++)Vk(t,i[s],o)}function Qg(t){for(t[vt].changeDetectionScheduler?.notify();t;){t[Jt]|=64;const i=Uu(t);if(m2(t)&&!i)return t;t=i}return null}class tm{get rootNodes(){const i=this._lView,o=i[pt];return qg(o,i,o.firstChild,[])}constructor(i,o,s=!0){this._lView=i,this._cdRefInjectingView=o,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tr]}set context(i){this._lView[Tr]=i}get destroyed(){return!(256&~this._lView[Jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[wo];if(xs(i)){const o=i[8],s=o?o.indexOf(this):-1;s>-1&&(ld(i,s),dh(o,s))}this._attachedToViewContainer=!1}Lg(this._lView[pt],this._lView)}onDestroy(i){D2(this._lView,i)}markForCheck(){Qg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Jt]&=-129}reattach(){S2(this._lView),this._lView[Jt]|=128}detectChanges(){this._lView[Jt]|=1024,Yg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,z4(this._lView[pt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=i,S2(this._lView)}}let _c=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zl}return t})();const gE=_c,jk=class extends gE{constructor(i,o,s){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,s){const a=function Xp(t,i,o,s){const a=mt(null);try{const l=i.tView,p=vb(t,l,o,4096&t[Jt]?4096:16,null,i,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);p[j1]=t[i.index];const g=t[ju];return null!==g&&(p[ju]=g.createEmbeddedView(l)),Jh(l,p,o),p}finally{mt(a)}}(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:o,dehydratedView:s});return new tm(a)}};function zl(){return Ts(ei(),We())}function Ts(t,i){return 4&t.type?new jk(i,t,ed(t,i)):null}class Qp{}class r7{}class wE{}class CE{resolveComponentFactory(i){throw function Gk(t){const i=Error(`No component factory found for ${fo(t)}.`);return i.ngComponent=t,i}(i)}}let yd=(()=>{class t{static#e=this.NULL=new CE}return t})();class sm{}let Ec=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function cv(){const t=We(),o=Ro(ei().index,t);return(Us(o)?o:t)[xn]}()}return t})(),Rb=(()=>{class t{static#e=this.\u0275prov=It({token:t,providedIn:"root",factory:()=>null})}return t})();const SE={},s7=new Set;function xc(t){s7.has(t)||(s7.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function DE(...t){}class Fr{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ii(!1),this.onMicrotaskEmpty=new Ii(!1),this.onStable=new Ii(!1),this.onError=new Ii(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&o,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function Ps(){const t="function"==typeof ir.requestAnimationFrame;let i=ir[t?"requestAnimationFrame":"setTimeout"],o=ir[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const s=i[Zone.__symbol__("OriginalDelegate")];s&&(i=s);const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Xk(t){const i=()=>{!function a7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ir,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ib(t),t.isCheckStableRunning=!0,am(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ib(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,s,a,l,c,u)=>{if(function Yk(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(u))return o.invokeTask(a,l,c,u);try{return TE(t),o.invokeTask(a,l,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&i(),Nb(t)}},onInvoke:(o,s,a,l,c,u,p)=>{try{return TE(t),o.invoke(a,l,c,u,p)}finally{t.shouldCoalesceRunChangeDetection&&i(),Nb(t)}},onHasTask:(o,s,a,l)=>{o.hasTask(a,l),s===a&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Ib(t),am(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(o,s,a,l)=>(o.handleError(a,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fr.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Fr.isInAngularZone())throw new Je(909,!1)}run(i,o,s){return this._inner.run(i,o,s)}runTask(i,o,s,a){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+a,i,Wk,DE,DE);try{return l.runTask(c,o,s)}finally{l.cancelTask(c)}}runGuarded(i,o,s){return this._inner.runGuarded(i,o,s)}runOutsideAngular(i){return this._outer.run(i)}}const Wk={};function am(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ib(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function TE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nb(t){t._nesting--,am(t)}class l7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ii,this.onMicrotaskEmpty=new Ii,this.onStable=new Ii,this.onError=new Ii}run(i,o,s){return i.apply(o,s)}runGuarded(i,o,s){return i.apply(o,s)}runOutsideAngular(i){return i()}runTask(i,o,s,a){return i.apply(o,s)}}var n0=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(n0||{});const PE={destroy(){}};function ME(t,i){!i&&function F1(t){if(!w_())throw new Je(-203,!1)}();const o=i?.injector??nt(Ys);if(!function Oa(t){return"browser"===(t??nt(Ys)).get(Qo)}(o))return PE;xc("NgAfterNextRender");const s=o.get(bd),a=s.handler??=new Fb,l=i?.phase??n0.MixedReadWrite,c=()=>{a.unregister(p),u()},u=o.get(Ap).onDestroy(c),p=ls(o,()=>new d7(l,()=>{c(),t()}));return a.register(p),{destroy:c}}class d7{constructor(i,o){this.phase=i,this.callbackFn=o,this.zone=nt(Fr),this.errorHandler=nt(nl,{optional:!0}),nt(Qp,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class Fb{constructor(){this.executingCallbacks=!1,this.buckets={[n0.EarlyRead]:new Set,[n0.Write]:new Set,[n0.MixedReadWrite]:new Set,[n0.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const o of i)o.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let bd=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of o)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=It({token:t,providedIn:"root",factory:()=>new t})}return t})();function hv(t,i,o){let s=o?t.styles:null,a=o?t.classes:null,l=0;if(null!==i)for(let c=0;c<i.length;c++){const u=i[c];"number"==typeof u?l=u:1==l?a=Ru(a,u):2==l&&(s=Ru(s,u+": "+i[++c]+";"))}o?t.styles=s:t.stylesWithoutHost=s,o?t.classes=a:t.classesWithoutHost=a}class Vb extends yd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Un(i);return new mv(o,this.ngModule)}}function kE(t){const i=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];void 0!==s&&i.push({propName:Array.isArray(s)?s[0]:s,templateName:o})}return i}class jb{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,s){s=O1(s);const a=this.injector.get(i,SE,s);return a!==SE||o===SE?a:this.parentInjector.get(i,o,s)}}class mv extends wE{get inputs(){const i=this.componentDef,o=i.inputTransforms,s=kE(i.inputs);if(null!==o)for(const a of s)o.hasOwnProperty(a.propName)&&(a.transform=o[a.propName]);return s}get outputs(){return kE(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function r2(t){return t.map(gO).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,s,a){const l=mt(null);try{let c=(a=a||this.ngModule)instanceof Yr?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const u=c?new jb(i,c):i,p=u.get(sm,null);if(null===p)throw new Je(407,!1);const h=u.get(Rb,null),E={rendererFactory:p,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:u.get(bd,null),changeDetectionScheduler:u.get(Qp,null)},C=p.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",O=s?function Z4(t,i,o,s){const l=s.get(_4,!1)||o===Rl.ShadowDom,c=t.selectRootElement(i,l);return function J4(t){Eb(t)}(c),c}(C,s,this.componentDef.encapsulation,u):Ig(C,D,function xd(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(D));let A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let F=null;null!==O&&(F=_g(O,u,!0));const N=Q4(0,null,null,1,0,null,null,null,null,null,null),B=vb(null,N,null,A,null,null,E,C,u,null,F);let j,q;A2(B);try{const ee=this.componentDef;let ae,te=null;ee.findHostDirectiveDefs?(ae=[],te=new Map,ee.findHostDirectiveDefs(ee,ae,te),ae.push(ee)):ae=[ee];const ne=function p7(t,i){const o=t[pt],s=jn;return t[s]=i,Xh(o,s,2,"#host",null)}(B,O),he=function RE(t,i,o,s,a,l,c){const u=a[pt];!function aa(t,i,o,s){for(const a of t)i.mergedAttrs=I1(i.mergedAttrs,a.hostAttrs);null!==i.mergedAttrs&&(hv(i,i.mergedAttrs,!0),null!==o&&jg(s,o,i))}(s,t,i,c);let p=null;null!==i&&(p=_g(i,a[on]));const h=l.rendererFactory.createRenderer(i,o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const y=vb(a,B8(o),null,g,a[t.index],t,l,h,null,null,p);return u.firstCreatePass&&cE(u,t,s.length-1),Kh(a,y),a[t.index]=y}(ne,O,ee,ae,B,E,C);q=Fl(N,jn),O&&function f7(t,i,o,s){if(s)Sa(t,o,["ng-version","17.3.10"]);else{const{attrs:a,classes:l}=function UC(t){const i=[],o=[];let s=1,a=2;for(;s<t.length;){let l=t[s];if("string"==typeof l)2===a?""!==l&&i.push(l,t[++s]):8===a&&o.push(l);else{if(!Il(a))break;a=l}s++}return{attrs:i,classes:o}}(i.selectors[0]);a&&Sa(t,o,a),l&&l.length>0&&X4(t,o,l.join(" "))}}(C,ee,O,s),void 0!==o&&function Qk(t,i,o){const s=t.projection=[];for(let a=0;a<i.length;a++){const l=o[a];s.push(null!=l?Array.from(l):null)}}(q,this.ngContentSelectors,o),j=function Kk(t,i,o,s,a,l){const c=ei(),u=a[pt],p=qs(c,a);aE(u,a,c,o,null,s);for(let g=0;g<o.length;g++)Ko(eu(a,u,c.directiveStart+g,c),a);zg(u,a,c),p&&Ko(p,a);const h=eu(a,u,c.directiveStart+c.componentOffset,c);if(t[Tr]=a[Tr]=h,null!==l)for(const g of l)g(h,i);return bb(u,c,a),h}(he,ee,ae,te,B,[$b]),Jh(N,B,null)}finally{Zc()}return new AE(this.componentType,j,ed(q,B),B,q)}finally{mt(l)}}}class AE extends r7{constructor(i,o,s,a,l){super(),this.location=s,this._rootLView=a,this._tNode=l,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new tm(a,void 0,!1),this.componentType=i}setInput(i,o){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const l=this._rootLView;Zh(l[pt],l,a,i,o),this.previousInputValues.set(i,o),Qg(Ro(this._tNode.index,l))}}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function $b(){const t=ei();Dp(We()[pt],t)}let Ul=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=IE}return t})();function IE(){return FE(ei(),We())}const h7=Ul,NE=class extends h7{constructor(i,o,s){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=s}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){const i=Wu(this._hostTNode,this._hostLView);if(go(i)){const o=Q0(i,this._hostLView),s=qu(i);return new Kn(o[pt].data[s+8],o)}return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=LE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-ho}createEmbeddedView(i,o,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const u=i.createEmbeddedViewImpl(o||{},l,null);return this.insertImpl(u,a,ka(this._hostTNode,null)),u}createComponent(i,o,s,a,l){const c=i&&!function ai(t){return"function"==typeof t}(i);let u;if(c)u=o;else{const D=o||{};u=D.index,s=D.injector,a=D.projectableNodes,l=D.environmentInjector||D.ngModuleRef}const p=c?i:new mv(Un(i)),h=s||this.parentInjector;if(!l&&null==p.ngModule){const O=(c?h:this.parentInjector).get(Yr,null);O&&(l=O)}Un(p.componentType??{});const C=p.create(h,a,null,l);return this.insertImpl(C.hostView,u,ka(this._hostTNode,null)),C}insert(i,o){return this.insertImpl(i,o,!0)}insertImpl(i,o,s){const a=i._lView;if(function IO(t){return xs(t[wo])}(a)){const u=this.indexOf(i);if(-1!==u)this.detach(u);else{const p=a[wo],h=new NE(p,p[Es],p[wo]);h.detach(h.indexOf(i))}}const l=this._adjustIndex(o),c=this._lContainer;return em(c,a,l,s),i.attachToViewContainerRef(),R1(zb(c),l,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=LE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),s=ld(this._lContainer,o);s&&(dh(zb(this._lContainer),o),Lg(s[pt],s))}detach(i){const o=this._adjustIndex(i,-1),s=ld(this._lContainer,o);return s&&null!=dh(zb(this._lContainer),o)?new tm(s):null}_adjustIndex(i,o=0){return i??this.length+o}};function LE(t){return t[8]}function zb(t){return t[8]||(t[8]=[])}function FE(t,i){let o;const s=i[t.index];return xs(s)?o=s:(o=function uE(t,i,o,s){return[t,!0,0,i,null,s,null,o,null,null]}(s,i,null,t),i[t.index]=o,Kh(i,o)),BE(o,i,t,s),new NE(o,t,i)}let BE=function Ub(t,i,o,s){if(t[tl])return;let a;a=8&o.type?yi(s):function Zk(t,i){const o=t[xn],s=o.createComment(""),a=qs(i,t);return cd(o,Hp(o,a),s,function db(t,i){return t.nextSibling(i)}(o,a),!1),s}(i,o),t[tl]=a};class jE{constructor(i){this.queryList=i,this.matches=null}clone(){return new jE(this.queryList)}setDirty(){this.queryList.setDirty()}}class $E{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const s=null!==i.contentQueries?i.contentQueries[0]:o.length,a=[];for(let l=0;l<s;l++){const c=o.getByIndex(l);a.push(this.queries[c.indexInDeclarationView].clone())}return new $E(a)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==YE(i,o).matches&&this.queries[o].setDirty()}}class zE{constructor(i,o,s=null){this.flags=o,this.read=s,this.predicate="string"==typeof i?function WE(t){return t.split(",").map(i=>i.trim())}(i):i}}class r0{constructor(i=[]){this.queries=i}elementStart(i,o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let s=0;s<this.length;s++){const a=null!==o?o.length:0,l=this.getByIndex(s).embeddedTView(i,a);l&&(l.indexInDeclarationView=s,null!==o?o.push(l):o=[l])}return null!==o?new r0(o):null}template(i,o){for(let s=0;s<this.queries.length;s++)this.queries[s].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class gv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new gv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let s=i.parent;for(;null!==s&&8&s.type&&s.index!==o;)s=s.parent;return o===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(i,o,Jk(o,l)),this.matchTNodeWithReadOption(i,o,ig(o,i,l,!1,!1))}else s===_c?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ig(o,i,s,!1,!1))}matchTNodeWithReadOption(i,o,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===vo||a===Ul||a===_c&&4&o.type)this.addMatch(o.index,-2);else{const l=ig(o,i,a,!1,!1);null!==l&&this.addMatch(o.index,l)}else this.addMatch(o.index,s)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Jk(t,i){const o=t.localNames;if(null!==o)for(let s=0;s<o.length;s+=2)if(o[s]===i)return o[s+1];return null}function v7(t,i,o,s){return-1===o?function HE(t,i){return 11&t.type?ed(t,i):4&t.type?Ts(t,i):null}(i,t):-2===o?function cm(t,i,o){return o===vo?ed(i,t):o===_c?Ts(i,t):o===Ul?FE(i,t):void 0}(t,i,s):eu(t,t[pt],o,i)}function UE(t,i,o,s){const a=i[ju].queries[s];if(null===a.matches){const l=t.data,c=o.matches,u=[];for(let p=0;null!==c&&p<c.length;p+=2){const h=c[p];u.push(h<0?null:v7(i,l[h],c[p+1],o.metadata.read))}a.matches=u}return a.matches}function GE(t,i,o,s){const a=t.queries.getByIndex(o),l=a.matches;if(null!==l){const c=UE(t,i,a,o);for(let u=0;u<l.length;u+=2){const p=l[u];if(p>0)s.push(c[u/2]);else{const h=l[u+1],g=i[-p];for(let y=ho;y<g.length;y++){const E=g[y];E[j1]===E[wo]&&GE(E[pt],E,h,s)}if(null!==g[yh]){const y=g[yh];for(let E=0;E<y.length;E++){const C=y[E];GE(C[pt],C,h,s)}}}}}return s}function Jp(t,i,o){const s=pr();return s.firstCreatePass&&(function b7(t,i,o){null===t.queries&&(t.queries=new r0),t.queries.track(new gv(i,o))}(s,new zE(t,i,o),-1),!(2&~i)&&(s.staticViewQueries=!0)),function qE(t,i,o){const s=new z2(!(4&~o));return function nE(t,i,o,s){const a=pE(i);a.push(o),t.firstCreatePass&&X8(t).push(s,a.length-1)}(t,i,s,s.destroy),(i[ju]??=new $E).queries.push(new jE(s))-1}(s,We(),i)}function YE(t,i){return t.queries.getByIndex(i)}function qb(t,i){const o=t[pt],s=YE(o,i);return s.crossesNgTemplate?GE(o,t,i,[]):UE(o,t,s,i)}function KE(t){return function _7(t){return"function"==typeof t&&void 0!==t[it]}(t)&&"function"==typeof t.set}function we(t){let i=function oe(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const s=[t];for(;i;){let a;if(Ll(t))a=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Je(903,!1);a=i.\u0275dir}if(a){if(o){s.push(a);const c=t;c.inputs=Ne(t.inputs),c.inputTransforms=Ne(t.inputTransforms),c.declaredInputs=Ne(t.declaredInputs),c.outputs=Ne(t.outputs);const u=a.hostBindings;u&&$e(t,u);const p=a.viewQuery,h=a.contentQueries;if(p&&Kt(t,p),h&&gt(t,h),Ee(t,a),Ka(t.outputs,a.outputs),Ll(a)&&a.data.animation){const g=t.data;g.animation=(g.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let c=0;c<l.length;c++){const u=l[c];u&&u.ngInherit&&u(t),u===we&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Te(t){let i=0,o=null;for(let s=t.length-1;s>=0;s--){const a=t[s];a.hostVars=i+=a.hostVars,a.hostAttrs=I1(a.hostAttrs,o=I1(o,a.hostAttrs))}}(s)}function Ee(t,i){for(const o in i.inputs){if(!i.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const s=i.inputs[o];if(void 0!==s&&(t.inputs[o]=s,t.declaredInputs[o]=i.declaredInputs[o],null!==i.inputTransforms)){const a=Array.isArray(s)?s[0]:s;if(!i.inputTransforms.hasOwnProperty(a))continue;t.inputTransforms??={},t.inputTransforms[a]=i.inputTransforms[a]}}}function Ne(t){return t===ac?{}:t===Dr?[]:t}function Kt(t,i){const o=t.viewQuery;t.viewQuery=o?(s,a)=>{i(s,a),o(s,a)}:i}function gt(t,i){const o=t.contentQueries;t.contentQueries=o?(s,a,l)=>{i(s,a,l),o(s,a,l)}:i}function $e(t,i){const o=t.hostBindings;t.hostBindings=o?(s,a)=>{i(s,a),o(s,a)}:i}class St{}class fr{}class Qs extends St{constructor(i,o,s){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vb(this);const a=Xr(i);this._bootstrapComponents=Ma(a.bootstrap),this._r3Injector=TS(i,o,[{provide:St,useValue:this},{provide:yd,useValue:this.componentFactoryResolver},...s],fo(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Kr extends fr{constructor(i){super(),this.moduleType=i}create(i){return new Qs(this.moduleType,i,[])}}class Rr extends St{constructor(i){super(),this.componentFactoryResolver=new Vb(this),this.instance=null;const o=new mh([...i.providers,{provide:St,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],i.parent||d2(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ci(t,i,o=null){return new Rr({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let xr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xi(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function N7(t,i){return t<<17|i<<2}function vm(t){return t>>17&32767}function pA(t){return 2|t}function Pv(t){return(131068&t)>>2}function fA(t,i){return-131069&t|i<<2}function hA(t){return 1|t}function pH(t,i,o,s){const a=t[o+1],l=null===i;let c=s?vm(a):Pv(a),u=!1;for(;0!==c&&(!1===u||l);){const h=t[c+1];Rpe(t[c],i)&&(u=!0,t[c+1]=s?hA(h):pA(h)),c=s?vm(h):Pv(h)}u&&(t[o+1]=s?pA(a):hA(a))}function Rpe(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&H0(t,i)>=0}function mA(t,i,o,s,a){const c=a?"class":"style";Zh(t,o,i.inputs[c],c,s)}function L7(t,i){return function u0(t,i,o,s){const a=We(),l=pr(),c=function Qc(t){const i=An.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}(2);l.firstUpdatePass&&function xH(t,i,o,s){const a=t.data;if(null===a[o+1]){const l=a[Ss()],c=function EH(t,i){return i>=t.expandoStartIndex}(t,o);(function DH(t,i){return!!(t.flags&(i?8:16))})(l,s)&&null===i&&!c&&(i=!1),i=function zpe(t,i,o,s){const a=function k2(t){const i=An.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let l=s?i.residualClasses:i.residualStyles;if(null===a)0===(s?i.classBindings:i.styleBindings)&&(o=lx(o=gA(null,t,i,o,s),i.attrs,s),l=null);else{const c=i.directiveStylingLast;if(-1===c||t[c]!==a)if(o=gA(a,t,i,o,s),null===l){let p=function Hpe(t,i,o){const s=o?i.classBindings:i.styleBindings;if(0!==Pv(s))return t[vm(s)]}(t,i,s);void 0!==p&&Array.isArray(p)&&(p=gA(null,t,i,p[1],s),p=lx(p,i.attrs,s),function Upe(t,i,o,s){t[vm(o?i.classBindings:i.styleBindings)]=s}(t,i,s,p))}else l=function Gpe(t,i,o){let s;const a=i.directiveEnd;for(let l=1+i.directiveStylingLast;l<a;l++)s=lx(s,t[l].hostAttrs,o);return lx(s,i.attrs,o)}(t,i,s)}return void 0!==l&&(s?i.residualClasses=l:i.residualStyles=l),o}(a,l,i,s),function kpe(t,i,o,s,a,l){let c=l?i.classBindings:i.styleBindings,u=vm(c),p=Pv(c);t[s]=o;let g,h=!1;if(Array.isArray(o)?(g=o[1],(null===g||H0(o,g)>0)&&(h=!0)):g=o,a)if(0!==p){const E=vm(t[u+1]);t[s+1]=N7(E,u),0!==E&&(t[E+1]=fA(t[E+1],s)),t[u+1]=function Mpe(t,i){return 131071&t|i<<17}(t[u+1],s)}else t[s+1]=N7(u,0),0!==u&&(t[u+1]=fA(t[u+1],s)),u=s;else t[s+1]=N7(p,0),0===u?u=s:t[p+1]=fA(t[p+1],s),p=s;h&&(t[s+1]=pA(t[s+1])),pH(t,g,s,!0),pH(t,g,s,!1),function Ape(t,i,o,s,a){const l=a?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof i&&H0(l,i)>=0&&(o[s+1]=hA(o[s+1]))}(i,g,t,s,l),c=N7(u,p),l?i.classBindings=c:i.styleBindings=c}(a,l,i,o,c,s)}}(l,t,c,s),i!==Wn&&Xi(a,c,i)&&function CH(t,i,o,s,a,l,c,u){if(!(3&i.type))return;const p=t.data,h=p[u+1],g=function Ope(t){return!(1&~t)}(h)?SH(p,i,o,a,Pv(h),c):void 0;F7(g)||(F7(l)||function Ppe(t){return!(2&~t)}(h)&&(l=SH(p,null,o,a,u,c)),function R8(t,i,o,s,a){if(i)a?t.addClass(o,s):t.removeClass(o,s);else{let l=-1===s.indexOf("-")?void 0:sl.DashCase;null==a?t.removeStyle(o,s,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=sl.Important),t.setStyle(o,s,a,l))}}(s,c,function pc(t,i){return yi(i[t])}(Ss(),o),a,l))}(l,l.data[Ss()],a,a[xn],t,a[c+1]=function Ype(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=fo(function il(t){return t instanceof wg?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(i,o),s,c)}(t,i,null,!0),L7}function gA(t,i,o,s,a){let l=null;const c=o.directiveEnd;let u=o.directiveStylingLast;for(-1===u?u=o.directiveStart:u++;u<c&&(l=i[u],s=lx(s,l.hostAttrs,a),l!==t);)u++;return null!==t&&(o.directiveStylingLast=u),s}function lx(t,i,o){const s=o?1:2;let a=-1;if(null!==i)for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?a=c:a===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Za(t,c,!!o||i[++l]))}return void 0===t?null:t}function SH(t,i,o,s,a,l){const c=null===i;let u;for(;a>0;){const p=t[a],h=Array.isArray(p),g=h?p[1]:p,y=null===g;let E=o[a+1];E===Wn&&(E=y?Dr:void 0);let C=y?z0(E,s):g===s?E:void 0;if(h&&!F7(C)&&(C=z0(p,s)),F7(C)&&(u=C,c))return u;const D=t[a+1];a=c?vm(D):Pv(D)}if(null!==i){let p=l?i.residualClasses:i.residualStyles;null!=p&&(u=z0(p,s))}return u}function F7(t){return void 0!==t}function Mv(t,i,o,s){const a=We(),l=pr(),c=jn+t,u=a[xn],p=l.firstCreatePass?function yfe(t,i,o,s,a,l){const c=i.consts,p=Xh(i,t,2,s,fc(c,a));return function pd(t,i,o,s){if(rS()){const a=null===s?null:{"":-1},l=function Ik(t,i){const o=t.directiveRegistry;let s=null,a=null;if(o)for(let l=0;l<o.length;l++){const c=o[l];if($C(i,c.selectors,!1))if(s||(s=[]),Ll(c))if(null!==c.findHostDirectiveDefs){const u=[];a=a||new Map,c.findHostDirectiveDefs(c,u,a),s.unshift(...u,c),cE(t,i,u.length)}else s.unshift(c),cE(t,i,0);else a=a||new Map,c.findHostDirectiveDefs?.(c,s,a),s.push(c)}return null===s?null:[s,a]}(t,o);let c,u;null===l?c=u=null:[c,u]=l,null!==c&&aE(t,i,o,c,a,u),a&&function z8(t,i,o){if(i){const s=t.localNames=[];for(let a=0;a<i.length;a+=2){const l=o[i[a+1]];if(null==l)throw new Je(-301,!1);s.push(i[a],l)}}}(o,s,a)}o.mergedAttrs=I1(o.mergedAttrs,o.attrs)}(i,o,p,fc(c,l)),null!==p.attrs&&hv(p,p.attrs,!1),null!==p.mergedAttrs&&hv(p,p.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,p),p}(c,l,a,i,o,s):l.data[c],h=OH(l,a,p,u,i,t);a[c]=h;const g=dc(p);return Ws(p,!0),jg(u,h,p),!function um(t){return!(32&~t.flags)}(p)&&Th()&&hb(l,a,h,p),0===function LO(){return An.lFrame.elementDepthCount}()&&Ko(h,a),function T2(){An.lFrame.elementDepthCount++}(),g&&(function K4(t,i,o){rS()&&(function lE(t,i,o,s){const a=o.directiveStart,l=o.directiveEnd;$u(o)&&function G8(t,i,o){const s=qs(i,t),a=B8(o);let c=16;o.signals?c=4096:o.onPush&&(c=64);const u=Kh(t,vb(t,a,null,c,s,i,null,t[vt].rendererFactory.createRenderer(s,o),null,null,null));t[i.index]=u}(i,o,t.data[a+o.componentOffset]),t.firstCreatePass||Pp(o,i),Ko(s,i);const c=o.initialInputs;for(let u=a;u<l;u++){const p=t.data[u],h=eu(i,t,u,o);Ko(h,i),null!==c&&q8(0,u-a,h,p,0,c),Ll(p)&&(Ro(o.index,i)[Tr]=eu(i,t,u,o))}}(t,i,o,qs(o,i)),!(64&~o.flags)&&zg(t,i,o))}(l,a,p),bb(l,p,a)),null!==s&&function _b(t,i,o=qs){const s=i.localNames;if(null!==s){let a=i.index+1;for(let l=0;l<s.length;l+=2){const c=s[l+1],u=-1===c?o(i,t):t[c];t[a++]=u}}}(a,p),Mv}function ym(){let t=ei();P2()?function Ch(){An.lFrame.isParent=!1}():(t=t.parent,Ws(t,!1));const i=t;(function q1(t){return An.skipHydrationRootTNode===t})(i)&&function L_(){An.skipHydrationRootTNode=null}(),function nS(){An.lFrame.elementDepthCount--}();const o=pr();return o.firstCreatePass&&(Dp(o,t),X0(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function eg(t){return!!(8&t.flags)}(i)&&mA(o,i,We(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Io(t){return!!(16&t.flags)}(i)&&mA(o,i,We(),i.stylesWithoutHost,!1),ym}function cx(t,i,o,s){return Mv(t,i,o,s),ym(),cx}let OH=(t,i,o,s,a,l)=>(mc(!0),Ig(s,a,function Y1(){return An.lFrame.currentNamespace}()));const g3="en-US";let BH=g3;function dl(t,i,o,s){const a=We(),l=pr(),c=ei();return SA(l,a,a[xn],c,t,i,s),dl}function SA(t,i,o,s,a,l,c){const u=dc(s),h=t.firstCreatePass&&X8(t),g=i[Tr],y=pE(i);let E=!0;if(3&s.type||c){const O=qs(s,i),A=c?c(O):O,F=y.length,N=c?j=>c(yi(j[s.index])):s.index;let B=null;if(!c&&u&&(B=function xhe(t,i,o,s){const a=t.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const c=a[l];if(c===o&&a[l+1]===s){const u=i[Kc],p=a[l+2];return u.length>p?u[p]:null}"string"==typeof c&&(l+=2)}return null}(t,i,a,s.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=l,B.__ngLastListenerFn__=l,E=!1;else{l=pU(s,i,g,l,!1);const j=o.listen(A,a,l);y.push(l,j),h&&h.push(a,N,F,F+1)}}else l=pU(s,i,g,l,!1);const C=s.outputs;let D;if(E&&null!==C&&(D=C[a])){const O=D.length;if(O)for(let A=0;A<O;A+=2){const q=i[D[A]][D[A+1]].subscribe(l),ee=y.length;y.push(l,q),h&&h.push(a,s.index,ee,-(ee+1))}}}function dU(t,i,o,s){const a=mt(null);try{return Gs(6,i,o),!1!==o(s)}catch(l){return xb(t,l),!1}finally{Gs(7,i,o),mt(a)}}function pU(t,i,o,s,a){return function l(c){if(c===Function)return s;Qg(t.componentOffset>-1?Ro(t.index,i):i);let p=dU(i,o,s,c),h=l.__ngNextListenerFn__;for(;h;)p=dU(i,o,h,c)&&p,h=h.__ngNextListenerFn__;return a&&!1===p&&c.preventDefault(),p}}function TA(t,i,o){Jp(t,i,o)}function z7(t){const i=We(),o=pr(),s=Sh();qn(s+1);const a=YE(o,s);if(t.dirty&&function RO(t){return!(4&~t[Jt])}(i)===!(2&~a.metadata.flags)){if(null===a.matches)t.reset([]);else{const l=qb(i,s);t.reset(l,ag),t.notifyOnChanges()}return!0}return!1}function H7(){return function Gb(t,i){return t[ju].queries[i].queryList}(We(),Sh())}function gx(t,i=""){const o=We(),s=pr(),a=t+jn,l=s.firstCreatePass?Xh(s,a,1,i,null):s.data[a],c=AU(s,o,l,i,t);o[a]=c,Th()&&hb(s,o,c,l),Ws(l,!1)}let AU=(t,i,o,s,a)=>(mc(!0),function lb(t,i){return t.createText(i)}(i[xn],s));function MA(t,i,o){KE(i)&&(i=i());const s=We();return Xi(s,function Bl(){return An.lFrame.bindingIndex++}(),i)&&function sa(t,i,o,s,a,l,c,u){const p=qs(i,o);let g,h=i.inputs;!u&&null!=h&&(g=h[s])?(Zh(t,o,g,s,a),$u(i)&&function oE(t,i){const o=Ro(i,t);16&o[Jt]||(o[Jt]|=64)}(o,i.index)):3&i.type&&(s=function iE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),a=null!=c?c(a,i.value||"",s):a,l.setProperty(p,s,a))}(pr(),function li(){const t=An.lFrame;return Fl(t.tView,t.selectedIndex)}(),s,t,i,s[xn],o,!1),MA}function OA(t,i){const o=We(),s=pr(),a=ei();return SA(s,o,o[xn],a,t,i),OA}function kA(t,i,o,s,a){if(t=un(t),Array.isArray(t))for(let l=0;l<t.length;l++)kA(t[l],i,o,s,a);else{const l=pr(),c=We(),u=ei();let p=Yc(t)?t:un(t.provide);const h=Y(t),g=1048575&u.providerIndexes,y=u.directiveStart,E=u.providerIndexes>>20;if(Yc(t)||!t.multi){const C=new J1(h,a,at),D=RA(p,i,a?g:g+E,y);-1===D?(q_(Pp(u,c),l,p),AA(l,t,i.length),i.push(p),u.directiveStart++,u.directiveEnd++,a&&(u.providerIndexes+=1048576),o.push(C),c.push(C)):(o[D]=C,c[D]=C)}else{const C=RA(p,i,g+E,y),D=RA(p,i,g,g+E),A=D>=0&&o[D];if(a&&!A||!a&&!(C>=0&&o[C])){q_(Pp(u,c),l,p);const F=function qhe(t,i,o,s,a){const l=new J1(t,o,at);return l.multi=[],l.index=i,l.componentProviders=0,HU(l,a,s&&!o),l}(a?Ghe:Uhe,o.length,a,s,h);!a&&A&&(o[D].providerFactory=F),AA(l,t,i.length,0),i.push(p),u.directiveStart++,u.directiveEnd++,a&&(u.providerIndexes+=1048576),o.push(F),c.push(F)}else AA(l,t,C>-1?C:D,HU(o[a?D:C],h,!a&&s));!a&&s&&A&&o[D].componentProviders++}}}function AA(t,i,o,s){const a=Yc(i),l=function bO(t){return!!t.useClass}(i);if(a||l){const p=(l?un(i.useClass):i).prototype.ngOnDestroy;if(p){const h=t.destroyHooks||(t.destroyHooks=[]);if(!a&&i.multi){const g=h.indexOf(o);-1===g?h.push(o,[s,p]):h[g+1].push(s,p)}else h.push(o,p)}}}function HU(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function RA(t,i,o,s){for(let a=o;a<s;a++)if(i[a]===t)return a;return-1}function Uhe(t,i,o,s){return IA(this.multi,[])}function Ghe(t,i,o,s){const a=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,u=eu(o,o[pt],this.providerFactory.index,s);l=u.slice(0,c),IA(a,l);for(let p=c;p<u.length;p++)l.push(u[p])}else l=[],IA(a,l);return l}function IA(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function _o(t,i=[]){return o=>{o.providersResolver=(s,a)=>function Hhe(t,i,o){const s=pr();if(s.firstCreatePass){const a=Ll(t);kA(o,s.data,s.blueprint,a,!0),kA(i,s.data,s.blueprint,a,!1)}}(s,a?a(t):t,i)}}let Whe=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const s=o2(0,o.type),a=s.length>0?ci([s],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,a)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=It({token:t,providedIn:"environment",factory:()=>new t(dn(Yr))})}return t})();function UU(t){xc("NgStandalone"),t.getStandaloneInjector=i=>i.get(Whe).getOrCreateStandaloneInjector(t)}let pG=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const vG=new Ct(""),W7=new Ct("");let zA,jA=(()=>{class t{constructor(o,s,a){this._ngZone=o,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,zA||(function s1e(t){zA=t}(a),a.addToWindow(s)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(o)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),o()},s)),this._callbacks.push({doneCb:o,timeoutId:l,updateCb:a})}whenStable(o,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,s,a){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Fr),dn($A),dn(W7))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})(),$A=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,s){this._applications.set(o,s)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,s=!0){return zA?.findTestabilityInTree(this,o,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function xx(t){return!!t&&"function"==typeof t.then}function yG(t){return!!t&&"function"==typeof t.subscribe}const HA=new Ct("");let UA=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,s)=>{this.resolve=o,this.reject=s}),this.appInits=nt(HA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const a of this.appInits){const l=a();if(xx(l))o.push(l);else if(yG(l)){const c=new Promise((u,p)=>{l.subscribe({complete:u,error:p})});o.push(c)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{s()}).catch(a=>{this.reject(a)}),0===o.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const GA=new Ct("");function EG(t,i){return Array.isArray(i)?i.reduce(EG,t):{...t,...i}}let bm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(PS),this.afterRenderEffectManager=nt(bd),this.externalTestViews=new Set,this.beforeRender=new ra,this.afterTick=new ra,this.componentTypes=[],this.components=[],this.isStable=nt(xr).hasPendingTasks.pipe(yr(o=>!o)),this._injector=nt(Yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,s){const a=o instanceof wE;if(!this._injector.get(UA).done)throw!a&&function cc(t){const i=Un(t)||ro(t)||qo(t);return null!==i&&i.standalone}(o),new Je(405,!1);let c;c=a?o:this._injector.get(yd).resolveComponentFactory(o),this.componentTypes.push(c.componentType);const u=function a1e(t){return t.isBoundToModule}(c)?void 0:this._injector.get(St),h=c.create(Ys.NULL,[],s||c.selector,u),g=h.location.nativeElement,y=h.injector.get(vG,null);return y?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),X7(this.components,h),y?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new Je(101,!1);const s=mt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(a){this.internalErrorHandler(a)}finally{this.afterTick.next(),this._runningTick=!1,mt(s)}}detectChangesInAttachedViews(o){let s=0;const a=this.afterRenderEffectManager;for(;;){if(s===wb)throw new Je(103,!1);if(o){const l=0===s;this.beforeRender.next(l);for(let{_lView:c,notifyErrorHandler:u}of this._views)c1e(c,l,u)}if(s++,a.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>qA(l))&&(a.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>qA(l))))break}}attachView(o){const s=o;this._views.push(s),s.attachToAppRef(this)}detachView(o){const s=o;X7(this._views,s),s.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const s=this._injector.get(GA,[]);[...this._bootstrapListeners,...s].forEach(a=>a(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>X7(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Je(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function X7(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}function c1e(t,i,o){!i&&!qA(t)||function u1e(t,i,o){let s;o?(s=0,t[Jt]|=1024):s=64&t[Jt]?0:1,Yg(t,i,s)}(t,o,i)}function qA(t){return Eh(t)}class d1e{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let xG=(()=>{class t{compileModuleSync(o){return new Kr(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const s=this.compileModuleSync(o),l=Ma(Xr(o).declarations).reduce((c,u)=>{const p=Un(u);return p&&c.push(new mv(p)),c},[]);return new d1e(s,l)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),h1e=(()=>{class t{constructor(){this.zone=nt(Fr),this.applicationRef=nt(bm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m1e(){const t=nt(Fr),i=nt(nl);return o=>t.runOutsideAngular(()=>i.handleError(o))}let v1e=(()=>{class t{constructor(){this.subscription=new qt,this.initialized=!1,this.zone=nt(Fr),this.pendingTasks=nt(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fr.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fr.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pf=new Ct("",{providedIn:"root",factory:()=>nt(pf,Jn.Optional|Jn.SkipSelf)||function y1e(){return typeof $localize<"u"&&$localize.locale||g3}()}),WA=new Ct("");let DG=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,s){const a=function c7(t="zone.js",i){return"noop"===t?new l7:"zone.js"===t?new Fr(i):t}(s?.ngZone,function SG(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return a.run(()=>{const l=function xi(t,i,o){return new Qs(t,i,o)}(o.moduleType,this.injector,function CG(t){return[{provide:Fr,useFactory:t},{provide:Bu,multi:!0,useFactory:()=>{const i=nt(h1e,{optional:!0});return()=>i.initialize()}},{provide:Bu,multi:!0,useFactory:()=>{const i=nt(v1e);return()=>{i.initialize()}}},{provide:PS,useFactory:m1e}]}(()=>a)),c=l.injector.get(nl,null);return a.runOutsideAngular(()=>{const u=a.onError.subscribe({next:p=>{c.handleError(p)}});l.onDestroy(()=>{X7(this._modules,l),u.unsubscribe()})}),function _G(t,i,o){try{const s=o();return xx(s)?s.catch(a=>{throw i.runOutsideAngular(()=>t.handleError(a)),a}):s}catch(s){throw i.runOutsideAngular(()=>t.handleError(s)),s}}(c,a,()=>{const u=l.injector.get(UA);return u.runInitializers(),u.donePromise.then(()=>(function VH(t){"string"==typeof t&&(BH=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(pf,g3)||g3),this._moduleDoBootstrap(l),l))})})}bootstrapModule(o,s=[]){const a=EG({},s);return function f1e(t,i,o){const s=new Kr(o);return Promise.resolve(s)}(0,0,o).then(l=>this.bootstrapModuleFactory(l,a))}_moduleDoBootstrap(o){const s=o.injector.get(bm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!o.instance.ngDoBootstrap)throw new Je(-403,!1);o.instance.ngDoBootstrap(s)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const o=this._injector.get(WA,null);o&&(o.forEach(s=>s()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Ys))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),_m=null;const TG=new Ct("");function PG(t,i,o=[]){const s=`Platform: ${i}`,a=new Ct(s);return(l=[])=>{let c=XA();if(!c||c.injector.get(TG,!1)){const u=[...o,...l,{provide:a,useValue:!0}];t?t(u):function E1e(t){if(_m&&!_m.get(TG,!1))throw new Je(400,!1);(function bG(){!function Ve(t){gs=t}(()=>{throw new Je(600,!1)})})(),_m=t;const i=t.get(DG);(function OG(t){t.get(jl,null)?.forEach(o=>o())})(t)}(function MG(t=[],i){return Ys.create({name:i,providers:[{provide:E_,useValue:"platform"},{provide:WA,useValue:new Set([()=>_m=null])},...t]})}(u,s))}return function x1e(t){const i=XA();if(!i)throw new Je(401,!1);return i}()}}function XA(){return _m?.get(DG)??null}let wx=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=C1e}return t})();function C1e(t){return function S1e(t,i,o){if($u(t)&&!o){const s=Ro(t.index,i);return new tm(s,s)}return 47&t.type?new tm(i[io],i):null}(ei(),We(),!(16&~t))}const F1e=PG(null,"core",[]);let B1e=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(s){return new(s||t)(dn(bm))};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({})}return t})();let cq=null;function Em(){return cq}class Ege{}const Cc=new Ct("");let nR=(()=>{class t{historyGo(o){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>nt(wge),providedIn:"platform"})}return t})();const xge=new Ct("");let wge=(()=>{class t extends nR{constructor(){super(),this._doc=nt(Cc),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Em().getBaseHref(this._doc)}onPopState(o){const s=Em().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",o,!1),()=>s.removeEventListener("popstate",o)}onHashChange(o){const s=Em().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",o,!1),()=>s.removeEventListener("hashchange",o)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(o){this._location.pathname=o}pushState(o,s,a){this._history.pushState(o,s,a)}replaceState(o,s,a){this._history.replaceState(o,s,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function rR(t,i){if(0==t.length)return i;if(0==i.length)return t;let o=0;return t.endsWith("/")&&o++,i.startsWith("/")&&o++,2==o?t+i.substring(1):1==o?t+i:t+"/"+i}function uq(t){const i=t.match(/#|\?|$/),o=i&&i.index||t.length;return t.slice(0,o-("/"===t[o-1]?1:0))+t.slice(o)}function ff(t){return t&&"?"!==t[0]?"?"+t:t}let Av=(()=>{class t{historyGo(o){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>nt(pq),providedIn:"root"})}return t})();const dq=new Ct("");let pq=(()=>{class t extends Av{constructor(o,s){super(),this._platformLocation=o,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??nt(Cc).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return rR(this._baseHref,o)}path(o=!1){const s=this._platformLocation.pathname+ff(this._platformLocation.search),a=this._platformLocation.hash;return a&&o?`${s}${a}`:s}pushState(o,s,a,l){const c=this.prepareExternalUrl(a+ff(l));this._platformLocation.pushState(o,s,c)}replaceState(o,s,a,l){const c=this.prepareExternalUrl(a+ff(l));this._platformLocation.replaceState(o,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}static#e=this.\u0275fac=function(s){return new(s||t)(dn(nR),dn(dq,8))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cge=(()=>{class t extends Av{constructor(o,s){super(),this._platformLocation=o,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}path(o=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(o){const s=rR(this._baseHref,o);return s.length>0?"#"+s:s}pushState(o,s,a,l){let c=this.prepareExternalUrl(a+ff(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(o,s,c)}replaceState(o,s,a,l){let c=this.prepareExternalUrl(a+ff(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(o,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}static#e=this.\u0275fac=function(s){return new(s||t)(dn(nR),dn(dq,8))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})(),Dx=(()=>{class t{constructor(o){this._subject=new Ii,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=o;const s=this._locationStrategy.getBaseHref();this._basePath=function Tge(t){if(new RegExp("^(https?:)?//").test(t)){const[,o]=t.split(/\/\/[^\/]+/);return o}return t}(uq(fq(s))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(o=!1){return this.normalize(this._locationStrategy.path(o))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(o,s=""){return this.path()==this.normalize(o+ff(s))}normalize(o){return t.stripTrailingSlash(function Dge(t,i){if(!t||!i.startsWith(t))return i;const o=i.substring(t.length);return""===o||["/",";","?","#"].includes(o[0])?o:i}(this._basePath,fq(o)))}prepareExternalUrl(o){return o&&"/"!==o[0]&&(o="/"+o),this._locationStrategy.prepareExternalUrl(o)}go(o,s="",a=null){this._locationStrategy.pushState(a,"",o,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+ff(s)),a)}replaceState(o,s="",a=null){this._locationStrategy.replaceState(a,"",o,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+ff(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(o=0){this._locationStrategy.historyGo?.(o)}onUrlChange(o){return this._urlChangeListeners.push(o),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(o);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(o="",s){this._urlChangeListeners.forEach(a=>a(o,s))}subscribe(o,s,a){return this._subject.subscribe({next:o,error:s,complete:a})}static#e=this.normalizeQueryParams=ff;static#t=this.joinWithSlash=rR;static#n=this.stripTrailingSlash=uq;static#r=this.\u0275fac=function(s){return new(s||t)(dn(Av))};static#i=this.\u0275prov=It({token:t,factory:()=>function Sge(){return new Dx(dn(Av))}(),providedIn:"root"})}return t})();function fq(t){return t.replace(/\/index.html$/,"")}function xq(t,i){i=encodeURIComponent(i);for(const o of t.split(";")){const s=o.indexOf("="),[a,l]=-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}let zve=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({})}return t})();const Mq="browser";function Oq(t){return"server"===t}let Wve=(()=>{class t{static#e=this.\u0275prov=It({token:t,providedIn:"root",factory:()=>function qve(t){return t===Mq}(nt(Qo))?new Xve(nt(Cc),window):new Kve})}return t})();class Xve{constructor(i,o){this.document=i,this.window=o,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const o=function Yve(t,i){const o=t.getElementById(i)||t.getElementsByName(i)[0];if(o)return o;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const c=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(c)return c}a=s.nextNode()}}return null}(this.document,i);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const o=i.getBoundingClientRect(),s=o.left+this.window.pageXOffset,a=o.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}}class Kve{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class kq{}class Cye extends Ege{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bR extends Cye{static makeCurrent(){!function _ge(t){cq??=t}(new bR)}onAndCancel(i,o,s){return i.addEventListener(o,s),()=>{i.removeEventListener(o,s)}}dispatchEvent(i,o){i.dispatchEvent(o)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,o){return(o=o||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,o){return"window"===o?window:"document"===o?i:"body"===o?i.body:null}getBaseHref(i){const o=function Sye(){return Ox=Ox||document.querySelector("base"),Ox?Ox.getAttribute("href"):null}();return null==o?null:function Dye(t){return new URL(t,document.baseURI).pathname}(o)}resetBaseElement(){Ox=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return xq(document.cookie,i)}}let Ox=null,Pye=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();const _R=new Ct("");let jq=(()=>{class t{constructor(o,s){this._zone=s,this._eventNameToPlugin=new Map,o.forEach(a=>{a.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,s,a){return this._findPluginFor(s).addEventListener(o,s,a)}getZone(){return this._zone}_findPluginFor(o){let s=this._eventNameToPlugin.get(o);if(s)return s;if(s=this._plugins.find(l=>l.supports(o)),!s)throw new Je(5101,!1);return this._eventNameToPlugin.set(o,s),s}static#e=this.\u0275fac=function(s){return new(s||t)(dn(_R),dn(Fr))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();class $q{constructor(i){this._doc=i}}const ER="ng-app-id";let zq=(()=>{class t{constructor(o,s,a,l={}){this.doc=o,this.appId=s,this.nonce=a,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oq(l),this.resetHostNodes()}addStyles(o){for(const s of o)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(o){for(const s of o)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const o=this.styleNodesInDOM;o&&(o.forEach(s=>s.remove()),o.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(const s of this.getAllStyles())this.addStyleToHost(o,s)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(const s of this.hostNodes)this.addStyleToHost(s,o)}onStyleRemoved(o){const s=this.styleRef;s.get(o)?.elements?.forEach(a=>a.remove()),s.delete(o)}collectServerRenderedStyles(){const o=this.doc.head?.querySelectorAll(`style[${ER}="${this.appId}"]`);if(o?.length){const s=new Map;return o.forEach(a=>{null!=a.textContent&&s.set(a.textContent,a)}),s}return null}changeUsageCount(o,s){const a=this.styleRef;if(a.has(o)){const l=a.get(o);return l.usage+=s,l.usage}return a.set(o,{usage:s,elements:[]}),s}getStyleElement(o,s){const a=this.styleNodesInDOM,l=a?.get(s);if(l?.parentNode===o)return a.delete(s),l.removeAttribute(ER),l;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=s,this.platformIsServer&&c.setAttribute(ER,this.appId),o.appendChild(c),c}}addStyleToHost(o,s){const a=this.getStyleElement(o,s),l=this.styleRef,c=l.get(s)?.elements;c?c.push(a):l.set(s,{elements:[a],usage:1})}resetHostNodes(){const o=this.hostNodes;o.clear(),o.add(this.doc.head)}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Cc),dn(Lh),dn(KS,8),dn(Qo))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();const xR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wR=/%COMP%/g,Aye=new Ct("",{providedIn:"root",factory:()=>!0});function Uq(t,i){return i.map(o=>o.replace(wR,t))}let Gq=(()=>{class t{constructor(o,s,a,l,c,u,p,h=null){this.eventManager=o,this.sharedStylesHost=s,this.appId=a,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=u,this.ngZone=p,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Oq(u),this.defaultRenderer=new CR(o,c,p,this.platformIsServer)}createRenderer(o,s){if(!o||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Rl.ShadowDom&&(s={...s,encapsulation:Rl.Emulated});const a=this.getOrCreateRenderer(o,s);return a instanceof Wq?a.applyToHost(o):a instanceof SR&&a.applyStyles(),a}getOrCreateRenderer(o,s){const a=this.rendererByCompId;let l=a.get(s.id);if(!l){const c=this.doc,u=this.ngZone,p=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(s.encapsulation){case Rl.Emulated:l=new Wq(p,h,s,this.appId,g,c,u,y);break;case Rl.ShadowDom:return new Lye(p,h,o,s,c,u,this.nonce,y);default:l=new SR(p,h,s,g,c,u,y)}a.set(s.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(s){return new(s||t)(dn(jq),dn(zq),dn(Lh),dn(Aye),dn(Cc),dn(Qo),dn(Fr),dn(KS))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();class CR{constructor(i,o,s,a){this.eventManager=i,this.doc=o,this.ngZone=s,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,o){return o?this.doc.createElementNS(xR[o]||o,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,o){(qq(i)?i.content:i).appendChild(o)}insertBefore(i,o,s){i&&(qq(i)?i.content:i).insertBefore(o,s)}removeChild(i,o){i&&i.removeChild(o)}selectRootElement(i,o){let s="string"==typeof i?this.doc.querySelector(i):i;if(!s)throw new Je(-5104,!1);return o||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,o,s,a){if(a){o=a+":"+o;const l=xR[a];l?i.setAttributeNS(l,o,s):i.setAttribute(o,s)}else i.setAttribute(o,s)}removeAttribute(i,o,s){if(s){const a=xR[s];a?i.removeAttributeNS(a,o):i.removeAttribute(`${s}:${o}`)}else i.removeAttribute(o)}addClass(i,o){i.classList.add(o)}removeClass(i,o){i.classList.remove(o)}setStyle(i,o,s,a){a&(sl.DashCase|sl.Important)?i.style.setProperty(o,s,a&sl.Important?"important":""):i.style[o]=s}removeStyle(i,o,s){s&sl.DashCase?i.style.removeProperty(o):i.style[o]=""}setProperty(i,o,s){null!=i&&(i[o]=s)}setValue(i,o){i.nodeValue=o}listen(i,o,s){if("string"==typeof i&&!(i=Em().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${o}`);return this.eventManager.addEventListener(i,o,this.decoratePreventDefault(s))}decoratePreventDefault(i){return o=>{if("__ngUnwrap__"===o)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(o)):i(o))&&o.preventDefault()}}}function qq(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Lye extends CR{constructor(i,o,s,a,l,c,u,p){super(i,l,c,p),this.sharedStylesHost=o,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Uq(a.id,a.styles);for(const g of h){const y=document.createElement("style");u&&y.setAttribute("nonce",u),y.textContent=g,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,o){return super.appendChild(this.nodeOrShadowRoot(i),o)}insertBefore(i,o,s){return super.insertBefore(this.nodeOrShadowRoot(i),o,s)}removeChild(i,o){return super.removeChild(this.nodeOrShadowRoot(i),o)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class SR extends CR{constructor(i,o,s,a,l,c,u,p){super(i,l,c,u),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=a,this.styles=p?Uq(p,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wq extends SR{constructor(i,o,s,a,l,c,u,p){const h=a+"-"+s.id;super(i,o,s,l,c,u,p,h),this.contentAttr=function Rye(t){return"_ngcontent-%COMP%".replace(wR,t)}(h),this.hostAttr=function Iye(t){return"_nghost-%COMP%".replace(wR,t)}(h)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,o){const s=super.createElement(i,o);return super.setAttribute(s,this.contentAttr,""),s}}let Fye=(()=>{class t extends $q{constructor(o){super(o)}supports(o){return!0}addEventListener(o,s,a){return o.addEventListener(s,a,!1),()=>this.removeEventListener(o,s,a)}removeEventListener(o,s,a){return o.removeEventListener(s,a)}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Cc))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();const Xq=["alt","control","meta","shift"],Bye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vye={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jye=(()=>{class t extends $q{constructor(o){super(o)}supports(o){return null!=t.parseEventName(o)}addEventListener(o,s,a){const l=t.parseEventName(s),c=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Em().onAndCancel(o,l.domEventName,c))}static parseEventName(o){const s=o.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(s.pop());let c="",u=s.indexOf("code");if(u>-1&&(s.splice(u,1),c="code."),Xq.forEach(h=>{const g=s.indexOf(h);g>-1&&(s.splice(g,1),c+=h+".")}),c+=l,0!=s.length||0===l.length)return null;const p={};return p.domEventName=a,p.fullKey=c,p}static matchEventFullKeyCode(o,s){let a=Bye[o.key]||o.key,l="";return s.indexOf("code.")>-1&&(a=o.code,l="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Xq.forEach(c=>{c!==a&&(0,Vye[c])(o)&&(l+=c+".")}),l+=a,l===s)}static eventCallback(o,s,a){return l=>{t.matchEventFullKeyCode(l,o)&&a.runGuarded(()=>s(l))}}static _normalizeKey(o){return"esc"===o?"escape":o}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Cc))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();const Uye=PG(F1e,"browser",[{provide:Qo,useValue:Mq},{provide:jl,useValue:function $ye(){bR.makeCurrent()},multi:!0},{provide:Cc,useFactory:function Hye(){return function YS(t){d4=t}(document),document},deps:[]}]),Gye=new Ct(""),Qq=[{provide:W7,useClass:class Tye{addToWindow(i){ir.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Je(5103,!1);return l},ir.getAllAngularTestabilities=()=>i.getAllTestabilities(),ir.getAllAngularRootElements=()=>i.getAllRootElements(),ir.frameworkStabilizers||(ir.frameworkStabilizers=[]),ir.frameworkStabilizers.push(s=>{const a=ir.getAllAngularTestabilities();let l=a.length;const c=function(){l--,0==l&&s()};a.forEach(u=>{u.whenStable(c)})})}findTestabilityInTree(i,o,s){return null==o?null:i.getTestability(o)??(s?Em().isShadowRoot(o)?this.findTestabilityInTree(i,o.host,!0):this.findTestabilityInTree(i,o.parentElement,!0):null)}},deps:[]},{provide:vG,useClass:jA,deps:[Fr,$A,W7]},{provide:jA,useClass:jA,deps:[Fr,$A,W7]}],Zq=[{provide:E_,useValue:"root"},{provide:nl,useFactory:function zye(){return new nl},deps:[]},{provide:_R,useClass:Fye,multi:!0,deps:[Cc,Fr,Qo]},{provide:_R,useClass:jye,multi:!0,deps:[Cc]},Gq,zq,jq,{provide:sm,useExisting:Gq},{provide:kq,useClass:Pye,deps:[]},[]];let qye=(()=>{class t{constructor(o){}static withServerTransition(o){return{ngModule:t,providers:[{provide:Lh,useValue:o.appId}]}}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Gye,12))};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({providers:[...Zq,...Qq],imports:[zve,B1e]})}return t})(),Wye=(()=>{class t{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Cc))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xm(t){return this instanceof xm?(this.v=t,this):new xm(t)}function oW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function MR(t){var i="function"==typeof Symbol&&Symbol.iterator,o=i&&t[i],s=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(l){o[l]=t[l]&&function(c){return new Promise(function(u,p){!function a(l,c,u,p){Promise.resolve(p).then(function(h){l({value:h,done:u})},c)}(u,p,(c=t[l](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const sW=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function aW(t){return Oe(t?.then)}function lW(t){return Oe(t[na])}function cW(t){return Symbol.asyncIterator&&Oe(t?.[Symbol.asyncIterator])}function uW(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dW=function b2e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pW(t){return Oe(t?.[dW])}function fW(t){return function iW(t,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=o.apply(t,i||[]),l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(E){s[E]&&(a[E]=function(C){return new Promise(function(D,O){l.push([E,C,D,O])>1||u(E,C)})})}function u(E,C){try{!function p(E){E.value instanceof xm?Promise.resolve(E.value.v).then(h,g):y(l[0][2],E)}(s[E](C))}catch(D){y(l[0][3],D)}}function h(E){u("next",E)}function g(E){u("throw",E)}function y(E,C){E(C),l.shift(),l.length&&u(l[0][0],l[0][1])}}(this,arguments,function*(){const o=t.getReader();try{for(;;){const{value:s,done:a}=yield xm(o.read());if(a)return yield xm(void 0);yield yield xm(s)}}finally{o.releaseLock()}})}function hW(t){return Oe(t?.getReader)}function Md(t){if(t instanceof Ar)return t;if(null!=t){if(lW(t))return function _2e(t){return new Ar(i=>{const o=t[na]();if(Oe(o.subscribe))return o.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(sW(t))return function E2e(t){return new Ar(i=>{for(let o=0;o<t.length&&!i.closed;o++)i.next(t[o]);i.complete()})}(t);if(aW(t))return function x2e(t){return new Ar(i=>{t.then(o=>{i.closed||(i.next(o),i.complete())},o=>i.error(o)).then(null,gi)})}(t);if(cW(t))return mW(t);if(pW(t))return function w2e(t){return new Ar(i=>{for(const o of t)if(i.next(o),i.closed)return;i.complete()})}(t);if(hW(t))return function C2e(t){return mW(fW(t))}(t)}throw uW(t)}function mW(t){return new Ar(i=>{(function S2e(t,i){var o,s,a,l;return function nW(t,i,o,s){return new(o||(o=Promise))(function(l,c){function u(g){try{h(s.next(g))}catch(y){c(y)}}function p(g){try{h(s.throw(g))}catch(y){c(y)}}function h(g){g.done?l(g.value):function a(l){return l instanceof o?l:new o(function(c){c(l)})}(g.value).then(u,p)}h((s=s.apply(t,i||[])).next())})}(this,void 0,void 0,function*(){try{for(o=oW(t);!(s=yield o.next()).done;)if(i.next(s.value),i.closed)return}catch(c){a={error:c}}finally{try{s&&!s.done&&(l=o.return)&&(yield l.call(o))}finally{if(a)throw a.error}}i.complete()})})(t,i).catch(o=>i.error(o))})}function gf(t,i,o,s=0,a=!1){const l=i.schedule(function(){o(),a?t.add(this.schedule(null,s)):this.unsubscribe()},s);if(t.add(l),!a)return l}function gW(t,i=0){return xo((o,s)=>{o.subscribe(no(s,a=>gf(s,t,()=>s.next(a),i),()=>gf(s,t,()=>s.complete(),i),a=>gf(s,t,()=>s.error(a),i)))})}function vW(t,i=0){return xo((o,s)=>{s.add(t.schedule(()=>o.subscribe(s),i))})}function yW(t,i){if(!t)throw new Error("Iterable cannot be null");return new Ar(o=>{gf(o,i,()=>{const s=t[Symbol.asyncIterator]();gf(o,i,()=>{s.next().then(a=>{a.done?o.complete():o.next(a.value)})},0,!0)})})}function ps(t,i){return i?function k2e(t,i){if(null!=t){if(lW(t))return function D2e(t,i){return Md(t).pipe(vW(i),gW(i))}(t,i);if(sW(t))return function P2e(t,i){return new Ar(o=>{let s=0;return i.schedule(function(){s===t.length?o.complete():(o.next(t[s++]),o.closed||this.schedule())})})}(t,i);if(aW(t))return function T2e(t,i){return Md(t).pipe(vW(i),gW(i))}(t,i);if(cW(t))return yW(t,i);if(pW(t))return function M2e(t,i){return new Ar(o=>{let s;return gf(o,i,()=>{s=t[dW](),gf(o,i,()=>{let a,l;try{({value:a,done:l}=s.next())}catch(c){return void o.error(c)}l?o.complete():o.next(a)},0,!0)}),()=>Oe(s?.return)&&s.return()})}(t,i);if(hW(t))return function O2e(t,i){return yW(fW(t),i)}(t,i)}throw uW(t)}(t,i):Md(t)}function OR(t){return t[t.length-1]}function bW(t){return Oe(OR(t))?t.pop():void 0}function yD(t){return function A2e(t){return t&&Oe(t.schedule)}(OR(t))?t.pop():void 0}function Vn(...t){return ps(t,yD(t))}const{isArray:R2e}=Array,{getPrototypeOf:I2e,prototype:N2e,keys:L2e}=Object;function _W(t){if(1===t.length){const i=t[0];if(R2e(i))return{args:i,keys:null};if(function F2e(t){return t&&"object"==typeof t&&I2e(t)===N2e}(i)){const o=L2e(i);return{args:o.map(s=>i[s]),keys:o}}}return{args:t,keys:null}}const{isArray:B2e}=Array;function EW(t){return yr(i=>function V2e(t,i){return B2e(i)?t(...i):t(i)}(t,i))}function xW(t,i){return t.reduce((o,s,a)=>(o[s]=i[a],o),{})}function kR(...t){const i=yD(t),o=bW(t),{args:s,keys:a}=_W(t);if(0===s.length)return ps([],i);const l=new Ar(function j2e(t,i,o=Et){return s=>{wW(i,()=>{const{length:a}=t,l=new Array(a);let c=a,u=a;for(let p=0;p<a;p++)wW(i,()=>{const h=ps(t[p],i);let g=!1;h.subscribe(no(s,y=>{l[p]=y,g||(g=!0,u--),u||s.next(o(l.slice()))},()=>{--c||s.complete()}))},s)},s)}}(s,i,a?c=>xW(a,c):Et));return o?l.pipe(EW(o)):l}function wW(t,i,o){t?gf(o,t,i):i()}const bD=Ue(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ra(t,i,o=1/0){return Oe(i)?Ra((s,a)=>yr((l,c)=>i(s,l,a,c))(Md(t(s,a))),o):("number"==typeof i&&(o=i),xo((s,a)=>function $2e(t,i,o,s,a,l,c,u){const p=[];let h=0,g=0,y=!1;const E=()=>{y&&!p.length&&!h&&i.complete()},C=O=>h<s?D(O):p.push(O),D=O=>{l&&i.next(O),h++;let A=!1;Md(o(O,g++)).subscribe(no(i,F=>{a?.(F),l?C(F):i.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(h--;p.length&&h<s;){const F=p.shift();c?gf(i,c,()=>D(F)):D(F)}E()}catch(F){i.error(F)}}))};return t.subscribe(no(i,C,()=>{y=!0,E()})),()=>{u?.()}}(s,a,t,o)))}function Ax(t=1/0){return Ra(Et,t)}function AR(...t){return function z2e(){return Ax(1)}()(ps(t,yD(t)))}function CW(t){return new Ar(i=>{Md(t()).subscribe(i)})}function _D(t,i){const o=Oe(t)?t:()=>t,s=a=>a.error(o());return new Ar(i?a=>i.schedule(s,0,a):s)}const Od=new Ar(t=>t.complete());function RR(){return xo((t,i)=>{let o=null;t._refCount++;const s=no(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(o=null);const a=t._connection,l=o;o=null,a&&(!l||a===l)&&a.unsubscribe(),i.unsubscribe()});t.subscribe(s),s.closed||(o=t.connect())})}class SW extends Ar{constructor(i,o){super(),this.source=i,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,th(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new qt;const o=this.getSubject();i.add(this.source.subscribe(no(o,void 0,()=>{this._teardown(),o.complete()},s=>{this._teardown(),o.error(s)},()=>this._teardown()))),i.closed&&(this._connection=null,i=qt.EMPTY)}return i}refCount(){return RR()(this)}}function h0(t,i){return xo((o,s)=>{let a=null,l=0,c=!1;const u=()=>c&&!a&&s.complete();o.subscribe(no(s,p=>{a?.unsubscribe();let h=0;const g=l++;Md(t(p,g)).subscribe(a=no(s,y=>s.next(i?i(p,y,g,h++):y),()=>{a=null,u()}))},()=>{c=!0,u()}))})}function x3(t){return t<=0?()=>Od:xo((i,o)=>{let s=0;i.subscribe(no(o,a=>{++s<=t&&(o.next(a),t<=s&&o.complete())}))})}function vf(t,i){return xo((o,s)=>{let a=0;o.subscribe(no(s,l=>t.call(i,l,a++)&&s.next(l)))})}function ED(t){return xo((i,o)=>{let s=!1;i.subscribe(no(o,a=>{s=!0,o.next(a)},()=>{s||o.next(t),o.complete()}))})}function DW(t=G2e){return xo((i,o)=>{let s=!1;i.subscribe(no(o,a=>{s=!0,o.next(a)},()=>s?o.complete():o.error(t())))})}function G2e(){return new bD}function Rv(t,i){const o=arguments.length>=2;return s=>s.pipe(t?vf((a,l)=>t(a,l,s)):Et,x3(1),o?ED(i):DW(()=>new bD))}function w3(t,i){return Oe(i)?Ra(t,i,1):Ra(t,1)}function hl(t,i,o){const s=Oe(t)||i||o?{next:t,error:i,complete:o}:t;return s?xo((a,l)=>{var c;null===(c=s.subscribe)||void 0===c||c.call(s);let u=!0;a.subscribe(no(l,p=>{var h;null===(h=s.next)||void 0===h||h.call(s,p),l.next(p)},()=>{var p;u=!1,null===(p=s.complete)||void 0===p||p.call(s),l.complete()},p=>{var h;u=!1,null===(h=s.error)||void 0===h||h.call(s,p),l.error(p)},()=>{var p,h;u&&(null===(p=s.unsubscribe)||void 0===p||p.call(s)),null===(h=s.finalize)||void 0===h||h.call(s)}))}):Et}function C3(t){return xo((i,o)=>{let l,s=null,a=!1;s=i.subscribe(no(o,void 0,void 0,c=>{l=Md(t(c,C3(t)(i))),s?(s.unsubscribe(),s=null,l.subscribe(o)):a=!0})),a&&(s.unsubscribe(),s=null,l.subscribe(o))})}function IR(t){return t<=0?()=>Od:xo((i,o)=>{let s=[];i.subscribe(no(o,a=>{s.push(a),t<s.length&&s.shift()},()=>{for(const a of s)o.next(a);o.complete()},void 0,()=>{s=null}))})}function Rx(t){return xo((i,o)=>{try{i.subscribe(o)}finally{o.add(t)}})}const or="primary",Ix=Symbol("RouteTitle");class Q2e{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const o=this.params[i];return Array.isArray(o)?o[0]:o}return null}getAll(i){if(this.has(i)){const o=this.params[i];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function S3(t){return new Q2e(t)}function Z2e(t,i,o){const s=o.path.split("/");if(s.length>t.length||"full"===o.pathMatch&&(i.hasChildren()||s.length<t.length))return null;const a={};for(let l=0;l<s.length;l++){const c=s[l],u=t[l];if(c.startsWith(":"))a[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:t.slice(0,s.length),posParams:a}}function kd(t,i){const o=t?NR(t):void 0,s=i?NR(i):void 0;if(!o||!s||o.length!=s.length)return!1;let a;for(let l=0;l<o.length;l++)if(a=o[l],!TW(t[a],i[a]))return!1;return!0}function NR(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TW(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const o=[...t].sort(),s=[...i].sort();return o.every((a,l)=>s[l]===a)}return t===i}function PW(t){return t.length>0?t[t.length-1]:null}function wm(t){return function Qye(t){return!!t&&(t instanceof Ar||Oe(t.lift)&&Oe(t.subscribe))}(t)?t:xx(t)?ps(Promise.resolve(t)):Vn(t)}const ebe={exact:function kW(t,i,o){if(!Iv(t.segments,i.segments)||!xD(t.segments,i.segments,o)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!t.children[s]||!kW(t.children[s],i.children[s],o))return!1;return!0},subset:AW},MW={exact:function tbe(t,i){return kd(t,i)},subset:function nbe(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(o=>TW(t[o],i[o]))},ignored:()=>!0};function OW(t,i,o){return ebe[o.paths](t.root,i.root,o.matrixParams)&&MW[o.queryParams](t.queryParams,i.queryParams)&&!("exact"===o.fragment&&t.fragment!==i.fragment)}function AW(t,i,o){return RW(t,i,i.segments,o)}function RW(t,i,o,s){if(t.segments.length>o.length){const a=t.segments.slice(0,o.length);return!(!Iv(a,o)||i.hasChildren()||!xD(a,o,s))}if(t.segments.length===o.length){if(!Iv(t.segments,o)||!xD(t.segments,o,s))return!1;for(const a in i.children)if(!t.children[a]||!AW(t.children[a],i.children[a],s))return!1;return!0}{const a=o.slice(0,t.segments.length),l=o.slice(t.segments.length);return!!(Iv(t.segments,a)&&xD(t.segments,a,s)&&t.children[or])&&RW(t.children[or],i,l,s)}}function xD(t,i,o){return i.every((s,a)=>MW[o](t[a].parameters,s.parameters))}class D3{constructor(i=new Ti([],{}),o={},s=null){this.root=i,this.queryParams=o,this.fragment=s}get queryParamMap(){return this._queryParamMap??=S3(this.queryParams),this._queryParamMap}toString(){return obe.serialize(this)}}class Ti{constructor(i,o){this.segments=i,this.children=o,this.parent=null,Object.values(o).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wD(this)}}class Nx{constructor(i,o){this.path=i,this.parameters=o}get parameterMap(){return this._parameterMap??=S3(this.parameters),this._parameterMap}toString(){return LW(this)}}function Iv(t,i){return t.length===i.length&&t.every((o,s)=>o.path===i[s].path)}let T3=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>new LR,providedIn:"root"})}return t})();class LR{parse(i){const o=new gbe(i);return new D3(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(i){const o=`/${Lx(i.root,!0)}`,s=function lbe(t){const i=Object.entries(t).map(([o,s])=>Array.isArray(s)?s.map(a=>`${CD(o)}=${CD(a)}`).join("&"):`${CD(o)}=${CD(s)}`).filter(o=>o);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${o}${s}${"string"==typeof i.fragment?`#${function sbe(t){return encodeURI(t)}(i.fragment)}`:""}`}}const obe=new LR;function wD(t){return t.segments.map(i=>LW(i)).join("/")}function Lx(t,i){if(!t.hasChildren())return wD(t);if(i){const o=t.children[or]?Lx(t.children[or],!1):"",s=[];return Object.entries(t.children).forEach(([a,l])=>{a!==or&&s.push(`${a}:${Lx(l,!1)}`)}),s.length>0?`${o}(${s.join("//")})`:o}{const o=function ibe(t,i){let o=[];return Object.entries(t.children).forEach(([s,a])=>{s===or&&(o=o.concat(i(a,s)))}),Object.entries(t.children).forEach(([s,a])=>{s!==or&&(o=o.concat(i(a,s)))}),o}(t,(s,a)=>a===or?[Lx(t.children[or],!1)]:[`${a}:${Lx(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[or]?`${wD(t)}/${o[0]}`:`${wD(t)}/(${o.join("//")})`}}function IW(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CD(t){return IW(t).replace(/%3B/gi,";")}function FR(t){return IW(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function SD(t){return decodeURIComponent(t)}function NW(t){return SD(t.replace(/\+/g,"%20"))}function LW(t){return`${FR(t.path)}${function abe(t){return Object.entries(t).map(([i,o])=>`;${FR(i)}=${FR(o)}`).join("")}(t.parameters)}`}const cbe=/^[^\/()?;#]+/;function BR(t){const i=t.match(cbe);return i?i[0]:""}const ube=/^[^\/()?;=#]+/,pbe=/^[^=?&#]+/,hbe=/^[^&#]+/;class gbe{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ti([],{}):new Ti([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(o).length>0)&&(s[or]=new Ti(i,o)),s}parseSegment(){const i=BR(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(i),new Nx(SD(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const o=function dbe(t){const i=t.match(ube);return i?i[0]:""}(this.remaining);if(!o)return;this.capture(o);let s="";if(this.consumeOptional("=")){const a=BR(this.remaining);a&&(s=a,this.capture(s))}i[SD(o)]=SD(s)}parseQueryParam(i){const o=function fbe(t){const i=t.match(pbe);return i?i[0]:""}(this.remaining);if(!o)return;this.capture(o);let s="";if(this.consumeOptional("=")){const c=function mbe(t){const i=t.match(hbe);return i?i[0]:""}(this.remaining);c&&(s=c,this.capture(s))}const a=NW(o),l=NW(s);if(i.hasOwnProperty(a)){let c=i[a];Array.isArray(c)||(c=[c],i[a]=c),c.push(l)}else i[a]=l}parseParens(i){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=BR(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Je(4010,!1);let l;s.indexOf(":")>-1?(l=s.slice(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=or);const c=this.parseChildren();o[l]=1===Object.keys(c).length?c[or]:new Ti([],c),this.consumeOptional("//")}return o}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Je(4011,!1)}}function FW(t){return t.segments.length>0?new Ti([],{[or]:t}):t}function BW(t){const i={};for(const[s,a]of Object.entries(t.children)){const l=BW(a);if(s===or&&0===l.segments.length&&l.hasChildren())for(const[c,u]of Object.entries(l.children))i[c]=u;else(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function vbe(t){if(1===t.numberOfChildren&&t.children[or]){const i=t.children[or];return new Ti(t.segments.concat(i.segments),i.children)}return t}(new Ti(t.segments,i))}function P3(t){return t instanceof D3}function VW(t){let i;const a=FW(function o(l){const c={};for(const p of l.children){const h=o(p);c[p.outlet]=h}const u=new Ti(l.url,c);return l===t&&(i=u),u}(t.root));return i??a}function jW(t,i,o,s){let a=t;for(;a.parent;)a=a.parent;if(0===i.length)return VR(a,a,a,o,s);const l=function bbe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zW(!0,0,t);let i=0,o=!1;const s=t.reduce((a,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const u={};return Object.entries(l.outlets).forEach(([p,h])=>{u[p]="string"==typeof h?h.split("/"):h}),[...a,{outlets:u}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===c?(l.split("/").forEach((u,p)=>{0==p&&"."===u||(0==p&&""===u?o=!0:".."===u?i++:""!=u&&a.push(u))}),a):[...a,l]},[]);return new zW(o,i,s)}(i);if(l.toRoot())return VR(a,a,new Ti([],{}),o,s);const c=function _be(t,i,o){if(t.isAbsolute)return new TD(i,!0,0);if(!o)return new TD(i,!1,NaN);if(null===o.parent)return new TD(o,!0,0);const s=DD(t.commands[0])?0:1;return function Ebe(t,i,o){let s=t,a=i,l=o;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Je(4005,!1);a=s.segments.length}return new TD(s,!1,a-l)}(o,o.segments.length-1+s,t.numberOfDoubleDots)}(l,a,t),u=c.processChildren?Bx(c.segmentGroup,c.index,l.commands):HW(c.segmentGroup,c.index,l.commands);return VR(a,c.segmentGroup,u,o,s)}function DD(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Fx(t){return"object"==typeof t&&null!=t&&t.outlets}function VR(t,i,o,s,a){let c,l={};s&&Object.entries(s).forEach(([p,h])=>{l[p]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`}),c=t===i?o:$W(t,i,o);const u=FW(BW(c));return new D3(u,l,a)}function $W(t,i,o){const s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=l===i?o:$W(l,i,o)}),new Ti(t.segments,s)}class zW{constructor(i,o,s){if(this.isAbsolute=i,this.numberOfDoubleDots=o,this.commands=s,i&&s.length>0&&DD(s[0]))throw new Je(4003,!1);const a=s.find(Fx);if(a&&a!==PW(s))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class TD{constructor(i,o,s){this.segmentGroup=i,this.processChildren=o,this.index=s}}function HW(t,i,o){if(t??=new Ti([],{}),0===t.segments.length&&t.hasChildren())return Bx(t,i,o);const s=function wbe(t,i,o){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(s>=o.length)return l;const c=t.segments[a],u=o[s];if(Fx(u))break;const p=`${u}`,h=s<o.length-1?o[s+1]:null;if(a>0&&void 0===p)break;if(p&&h&&"object"==typeof h&&void 0===h.outlets){if(!GW(p,h,c))return l;s+=2}else{if(!GW(p,{},c))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(t,i,o),a=o.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const l=new Ti(t.segments.slice(0,s.pathIndex),{});return l.children[or]=new Ti(t.segments.slice(s.pathIndex),t.children),Bx(l,0,a)}return s.match&&0===a.length?new Ti(t.segments,{}):s.match&&!t.hasChildren()?jR(t,i,o):s.match?Bx(t,0,a):jR(t,i,o)}function Bx(t,i,o){if(0===o.length)return new Ti(t.segments,{});{const s=function xbe(t){return Fx(t[0])?t[0].outlets:{[or]:t}}(o),a={};if(Object.keys(s).some(l=>l!==or)&&t.children[or]&&1===t.numberOfChildren&&0===t.children[or].segments.length){const l=Bx(t.children[or],i,o);return new Ti(t.segments,l.children)}return Object.entries(s).forEach(([l,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(a[l]=HW(t.children[l],i,c))}),Object.entries(t.children).forEach(([l,c])=>{void 0===s[l]&&(a[l]=c)}),new Ti(t.segments,a)}}function jR(t,i,o){const s=t.segments.slice(0,i);let a=0;for(;a<o.length;){const l=o[a];if(Fx(l)){const p=Cbe(l.outlets);return new Ti(s,p)}if(0===a&&DD(o[0])){s.push(new Nx(t.segments[i].path,UW(o[0]))),a++;continue}const c=Fx(l)?l.outlets[or]:`${l}`,u=a<o.length-1?o[a+1]:null;c&&u&&DD(u)?(s.push(new Nx(c,UW(u))),a+=2):(s.push(new Nx(c,{})),a++)}return new Ti(s,{})}function Cbe(t){const i={};return Object.entries(t).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=jR(new Ti([],{}),0,s))}),i}function UW(t){const i={};return Object.entries(t).forEach(([o,s])=>i[o]=`${s}`),i}function GW(t,i,o){return t==o.path&&kd(i,o.parameters)}const Vx="imperative";var Br=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Br||{});class Ad{constructor(i,o){this.id=i,this.url=o}}class PD extends Ad{constructor(i,o,s="imperative",a=null){super(i,o),this.type=Br.NavigationStart,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yf extends Ad{constructor(i,o,s){super(i,o),this.urlAfterRedirects=s,this.type=Br.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Dc=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dc||{}),MD=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(MD||{});class M3 extends Ad{constructor(i,o,s,a){super(i,o),this.reason=s,this.code=a,this.type=Br.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class O3 extends Ad{constructor(i,o,s,a){super(i,o),this.reason=s,this.code=a,this.type=Br.NavigationSkipped}}class OD extends Ad{constructor(i,o,s,a){super(i,o),this.error=s,this.target=a,this.type=Br.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qW extends Ad{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Br.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sbe extends Ad{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Br.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dbe extends Ad{constructor(i,o,s,a,l){super(i,o),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l,this.type=Br.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tbe extends Ad{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Br.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pbe extends Ad{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Br.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mbe{constructor(i){this.route=i,this.type=Br.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Obe{constructor(i){this.route=i,this.type=Br.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kbe{constructor(i){this.snapshot=i,this.type=Br.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Abe{constructor(i){this.snapshot=i,this.type=Br.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rbe{constructor(i){this.snapshot=i,this.type=Br.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ibe{constructor(i){this.snapshot=i,this.type=Br.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WW{constructor(i,o,s){this.routerEvent=i,this.position=o,this.anchor=s,this.type=Br.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $R{}class zR{constructor(i){this.url=i}}class Nbe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jx,this.attachRef=null}}let jx=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(o,s){const a=this.getOrCreateContext(o);a.outlet=s,this.contexts.set(o,a)}onChildOutletDestroyed(o){const s=this.getContext(o);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let s=this.getContext(o);return s||(s=new Nbe,this.contexts.set(o,s)),s}getContext(o){return this.contexts.get(o)||null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class XW{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const o=this.pathFromRoot(i);return o.length>1?o[o.length-2]:null}children(i){const o=HR(i,this._root);return o?o.children.map(s=>s.value):[]}firstChild(i){const o=HR(i,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(i){const o=UR(i,this._root);return o.length<2?[]:o[o.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return UR(i,this._root).map(o=>o.value)}}function HR(t,i){if(t===i.value)return i;for(const o of i.children){const s=HR(t,o);if(s)return s}return null}function UR(t,i){if(t===i.value)return[i];for(const o of i.children){const s=UR(t,o);if(s.length)return s.unshift(i),s}return[]}class m0{constructor(i,o){this.value=i,this.children=o}toString(){return`TreeNode(${this.value})`}}function k3(t){const i={};return t&&t.children.forEach(o=>i[o.value.outlet]=o),i}class YW extends XW{constructor(i,o){super(i),this.snapshot=o,WR(this,i)}toString(){return this.snapshot.toString()}}function KW(t){const i=function Lbe(t){const l=new qR([],{},{},"",{},or,t,null,{});return new QW("",new m0(l,[]))}(t),o=new Rt([new Nx("",{})]),s=new Rt({}),a=new Rt({}),l=new Rt({}),c=new Rt(""),u=new A3(o,s,l,c,a,or,t,i.root);return u.snapshot=i.root,new YW(new m0(u,[]),i)}class A3{constructor(i,o,s,a,l,c,u,p){this.urlSubject=i,this.paramsSubject=o,this.queryParamsSubject=s,this.fragmentSubject=a,this.dataSubject=l,this.outlet=c,this.component=u,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(yr(h=>h[Ix]))??Vn(void 0),this.url=i,this.params=o,this.queryParams=s,this.fragment=a,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(yr(i=>S3(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(yr(i=>S3(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GR(t,i,o="emptyOnly"){let s;const{routeConfig:a}=t;return s=null===i||"always"!==o&&""!==a?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.data,...a?.data,...t._resolvedData}},a&&JW(a)&&(s.resolve[Ix]=a.title),s}class qR{get title(){return this.data?.[Ix]}constructor(i,o,s,a,l,c,u,p,h){this.url=i,this.params=o,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=c,this.component=u,this.routeConfig=p,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=S3(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=S3(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QW extends XW{constructor(i,o){super(o),this.url=i,WR(this,o)}toString(){return ZW(this._root)}}function WR(t,i){i.value._routerState=t,i.children.forEach(o=>WR(t,o))}function ZW(t){const i=t.children.length>0?` { ${t.children.map(ZW).join(", ")} } `:"";return`${t.value}${i}`}function XR(t){if(t.snapshot){const i=t.snapshot,o=t._futureSnapshot;t.snapshot=o,kd(i.queryParams,o.queryParams)||t.queryParamsSubject.next(o.queryParams),i.fragment!==o.fragment&&t.fragmentSubject.next(o.fragment),kd(i.params,o.params)||t.paramsSubject.next(o.params),function J2e(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;++o)if(!kd(t[o],i[o]))return!1;return!0}(i.url,o.url)||t.urlSubject.next(o.url),kd(i.data,o.data)||t.dataSubject.next(o.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function YR(t,i){const o=kd(t.params,i.params)&&function rbe(t,i){return Iv(t,i)&&t.every((o,s)=>kd(o.parameters,i[s].parameters))}(t.url,i.url);return o&&!(!t.parent!=!i.parent)&&(!t.parent||YR(t.parent,i.parent))}function JW(t){return"string"==typeof t.title||null===t.title}let eX=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=or,this.activateEvents=new Ii,this.deactivateEvents=new Ii,this.attachEvents=new Ii,this.detachEvents=new Ii,this.parentContexts=nt(jx),this.location=nt(Ul),this.changeDetector=nt(wx),this.environmentInjector=nt(Yr),this.inputBinder=nt(kD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){const{firstChange:s,previousValue:a}=o.name;if(s)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,s){this.activated=o,this._activatedRoute=s,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,s){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=o;const a=this.location,c=o.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new KR(o,u,a.injector);this.activated=a.createComponent(c,{index:a.length,injector:p,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275dir=Cn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ao]})}return t})();class KR{__ngOutletInjector(i){return new KR(this.route,this.childContexts,i)}constructor(i,o,s){this.route=i,this.childContexts=o,this.parent=s}get(i,o){return i===A3?this.route:i===jx?this.childContexts:this.parent.get(i,o)}}const kD=new Ct("");let tX=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(o){this.unsubscribeFromRouteData(o),this.subscribeToRouteData(o)}unsubscribeFromRouteData(o){this.outletDataSubscriptions.get(o)?.unsubscribe(),this.outletDataSubscriptions.delete(o)}subscribeToRouteData(o){const{activatedRoute:s}=o,a=kR([s.queryParams,s.params,s.data]).pipe(h0(([l,c,u],p)=>(u={...l,...c,...u},0===p?Vn(u):Promise.resolve(u)))).subscribe(l=>{if(!o.isActivated||!o.activatedComponentRef||o.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(o);const c=function bge(t){const i=Un(t);if(!i)return null;const o=new mv(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(s.component);if(c)for(const{templateName:u}of c.inputs)o.activatedComponentRef.setInput(u,l[u]);else this.unsubscribeFromRouteData(o)});this.outletDataSubscriptions.set(o,a)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();function $x(t,i,o){if(o&&t.shouldReuseRoute(i.value,o.value.snapshot)){const s=o.value;s._futureSnapshot=i.value;const a=function Bbe(t,i,o){return i.children.map(s=>{for(const a of o.children)if(t.shouldReuseRoute(s.value,a.value.snapshot))return $x(t,s,a);return $x(t,s)})}(t,i,o);return new m0(s,a)}{if(t.shouldAttach(i.value)){const l=t.retrieve(i.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=i.value,c.children=i.children.map(u=>$x(t,u)),c}}const s=function Vbe(t){return new A3(new Rt(t.url),new Rt(t.params),new Rt(t.queryParams),new Rt(t.fragment),new Rt(t.data),t.outlet,t.component,t)}(i.value),a=i.children.map(l=>$x(t,l));return new m0(s,a)}}const nX="ngNavigationCancelingError";function rX(t,i){const{redirectTo:o,navigationBehaviorOptions:s}=P3(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,a=iX(!1,Dc.Redirect);return a.url=o,a.navigationBehaviorOptions=s,a}function iX(t,i){const o=new Error(`NavigationCancelingError: ${t||""}`);return o[nX]=!0,o.cancellationCode=i,o}function oX(t){return!!t&&t[nX]}let sX=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=N1({type:t,selectors:[["ng-component"]],standalone:!0,features:[UU],decls:1,vars:0,template:function(s,a){1&s&&cx(0,"router-outlet")},dependencies:[eX],encapsulation:2})}return t})();function QR(t){const i=t.children&&t.children.map(QR),o=i?{...t,children:i}:{...t};return!o.component&&!o.loadComponent&&(i||o.loadChildren)&&o.outlet&&o.outlet!==or&&(o.component=sX),o}function Rd(t){return t.outlet||or}function zx(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){const o=i.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}class Wbe{constructor(i,o,s,a,l){this.routeReuseStrategy=i,this.futureState=o,this.currState=s,this.forwardEvent=a,this.inputBindingEnabled=l}activate(i){const o=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,s,i),XR(this.futureState.root),this.activateChildRoutes(o,s,i)}deactivateChildRoutes(i,o,s){const a=k3(o);i.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,a[c],s),delete a[c]}),Object.values(a).forEach(l=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,o,s){const a=i.value,l=o?o.value:null;if(a===l)if(a.component){const c=s.getContext(a.outlet);c&&this.deactivateChildRoutes(i,o,c.children)}else this.deactivateChildRoutes(i,o,s);else l&&this.deactivateRouteAndItsChildren(o,s)}deactivateRouteAndItsChildren(i,o){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,o):this.deactivateRouteAndOutlet(i,o)}detachAndStoreRouteSubtree(i,o){const s=o.getContext(i.value.outlet),a=s&&i.value.component?s.children:o,l=k3(i);for(const c of Object.values(l))this.deactivateRouteAndItsChildren(c,a);if(s&&s.outlet){const c=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:c,route:i,contexts:u})}}deactivateRouteAndOutlet(i,o){const s=o.getContext(i.value.outlet),a=s&&i.value.component?s.children:o,l=k3(i);for(const c of Object.values(l))this.deactivateRouteAndItsChildren(c,a);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(i,o,s){const a=k3(o);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new Ibe(l.value.snapshot))}),i.children.length&&this.forwardEvent(new Abe(i.value.snapshot))}activateRoutes(i,o,s){const a=i.value,l=o?o.value:null;if(XR(a),a===l)if(a.component){const c=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,o,c.children)}else this.activateChildRoutes(i,o,s);else if(a.component){const c=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const u=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),XR(u.route.value),this.activateChildRoutes(i,null,c.children)}else{const u=zx(a.snapshot);c.attachRef=null,c.route=a,c.injector=u,c.outlet&&c.outlet.activateWith(a,c.injector),this.activateChildRoutes(i,null,c.children)}}else this.activateChildRoutes(i,null,s)}}class aX{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class AD{constructor(i,o){this.component=i,this.route=o}}function Xbe(t,i,o){const s=t._root;return Hx(s,i?i._root:null,o,[s.value])}function R3(t,i){const o=Symbol(),s=i.get(t,o);return s===o?"function"!=typeof t||function Gc(t){return null!==ic(t)}(t)?i.get(t):t:s}function Hx(t,i,o,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=k3(i);return t.children.forEach(c=>{(function Kbe(t,i,o,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,c=i?i.value:null,u=o?o.getContext(t.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const p=function Qbe(t,i,o){if("function"==typeof o)return o(t,i);switch(o){case"pathParamsChange":return!Iv(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Iv(t.url,i.url)||!kd(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YR(t,i)||!kd(t.queryParams,i.queryParams);default:return!YR(t,i)}}(c,l,l.routeConfig.runGuardsAndResolvers);p?a.canActivateChecks.push(new aX(s)):(l.data=c.data,l._resolvedData=c._resolvedData),Hx(t,i,l.component?u?u.children:null:o,s,a),p&&u&&u.outlet&&u.outlet.isActivated&&a.canDeactivateChecks.push(new AD(u.outlet.component,c))}else c&&Ux(i,u,a),a.canActivateChecks.push(new aX(s)),Hx(t,null,l.component?u?u.children:null:o,s,a)})(c,l[c.value.outlet],o,s.concat([c.value]),a),delete l[c.value.outlet]}),Object.entries(l).forEach(([c,u])=>Ux(u,o.getContext(c),a)),a}function Ux(t,i,o){const s=k3(t),a=t.value;Object.entries(s).forEach(([l,c])=>{Ux(c,a.component?i?i.children.getContext(l):null:i,o)}),o.canDeactivateChecks.push(new AD(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}function Gx(t){return"function"==typeof t}function lX(t){return t instanceof bD||"EmptyError"===t?.name}const RD=Symbol("INITIAL_VALUE");function I3(){return h0(t=>kR(t.map(i=>i.pipe(x3(1),function U2e(...t){const i=yD(t);return xo((o,s)=>{(i?AR(t,o,i):AR(t,o)).subscribe(s)})}(RD)))).pipe(yr(i=>{for(const o of i)if(!0!==o){if(o===RD)return RD;if(!1===o||o instanceof D3)return o}return!0}),vf(i=>i!==RD),x3(1)))}function cX(t){return function fp(...t){return kn(t)}(hl(i=>{if(P3(i))throw rX(0,i)}),yr(i=>!0===i))}class ZR{constructor(i){this.segmentGroup=i||null}}class JR extends Error{constructor(i){super(),this.urlTree=i}}function N3(t){return _D(new ZR(t))}class g3e{constructor(i,o){this.urlSerializer=i,this.urlTree=o}lineralizeSegments(i,o){let s=[],a=o.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Vn(s);if(a.numberOfChildren>1||!a.children[or])return _D(new Je(4e3,!1));a=a.children[or]}}applyRedirectCommands(i,o,s){const a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),i,s);if(o.startsWith("/"))throw new JR(a);return a}applyRedirectCreateUrlTree(i,o,s,a){const l=this.createSegmentGroup(i,o.root,s,a);return new D3(l,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(i,o){const s={};return Object.entries(i).forEach(([a,l])=>{if("string"==typeof l&&l.startsWith(":")){const u=l.substring(1);s[a]=o[u]}else s[a]=l}),s}createSegmentGroup(i,o,s,a){const l=this.createSegments(i,o.segments,s,a);let c={};return Object.entries(o.children).forEach(([u,p])=>{c[u]=this.createSegmentGroup(i,p,s,a)}),new Ti(l,c)}createSegments(i,o,s,a){return o.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,o,s){const a=s[o.path.substring(1)];if(!a)throw new Je(4001,!1);return a}findOrReturn(i,o){let s=0;for(const a of o){if(a.path===i.path)return o.splice(s),a;s++}return i}}const eI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v3e(t,i,o,s,a){const l=tI(t,i,o);return l.matched?(s=function $be(t,i){return t.providers&&!t._injector&&(t._injector=ci(t.providers,i,`Route: ${t.path}`)),t._injector??i}(i,s),function f3e(t,i,o,s){const a=i.canMatch;return a&&0!==a.length?Vn(a.map(c=>{const u=R3(c,t);return wm(function r3e(t){return t&&Gx(t.canMatch)}(u)?u.canMatch(i,o):ls(t,()=>u(i,o)))})).pipe(I3(),cX()):Vn(!0)}(s,i,o).pipe(yr(c=>!0===c?l:{...eI}))):Vn(l)}function tI(t,i,o){if("**"===i.path)return function y3e(t){return{matched:!0,parameters:t.length>0?PW(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(o);if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||o.length>0)?{...eI}:{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};const a=(i.matcher||Z2e)(o,t,i);if(!a)return{...eI};const l={};Object.entries(a.posParams??{}).forEach(([u,p])=>{l[u]=p.path});const c=a.consumed.length>0?{...l,...a.consumed[a.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:o.slice(a.consumed.length),parameters:c,positionalParamSegments:a.posParams??{}}}function uX(t,i,o,s){return o.length>0&&function E3e(t,i,o){return o.some(s=>ID(t,i,s)&&Rd(s)!==or)}(t,o,s)?{segmentGroup:new Ti(i,_3e(s,new Ti(o,t.children))),slicedSegments:[]}:0===o.length&&function x3e(t,i,o){return o.some(s=>ID(t,i,s))}(t,o,s)?{segmentGroup:new Ti(t.segments,b3e(t,o,s,t.children)),slicedSegments:o}:{segmentGroup:new Ti(t.segments,t.children),slicedSegments:o}}function b3e(t,i,o,s){const a={};for(const l of o)if(ID(t,i,l)&&!s[Rd(l)]){const c=new Ti([],{});a[Rd(l)]=c}return{...s,...a}}function _3e(t,i){const o={};o[or]=i;for(const s of t)if(""===s.path&&Rd(s)!==or){const a=new Ti([],{});o[Rd(s)]=a}return o}function ID(t,i,o){return(!(t.hasChildren()||i.length>0)||"full"!==o.pathMatch)&&""===o.path}class S3e{}class P3e{constructor(i,o,s,a,l,c,u){this.injector=i,this.configLoader=o,this.rootComponentType=s,this.config=a,this.urlTree=l,this.paramsInheritanceStrategy=c,this.urlSerializer=u,this.applyRedirects=new g3e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new Je(4002,`'${i.segmentGroup}'`)}recognize(){const i=uX(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(yr(o=>{const s=new qR([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},or,this.rootComponentType,null,{}),a=new m0(s,o),l=new QW("",a),c=function ybe(t,i,o=null,s=null){return jW(VW(t),i,o,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(l._root,null),{state:l,tree:c}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,or).pipe(C3(s=>{if(s instanceof JR)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof ZR?this.noMatchError(s):s}))}inheritParamsAndData(i,o){const s=i.value,a=GR(s,o,this.paramsInheritanceStrategy);s.params=Object.freeze(a.params),s.data=Object.freeze(a.data),i.children.forEach(l=>this.inheritParamsAndData(l,s))}processSegmentGroup(i,o,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(i,o,s):this.processSegment(i,o,s,s.segments,a,!0).pipe(yr(l=>l instanceof m0?[l]:[]))}processChildren(i,o,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return ps(a).pipe(w3(l=>{const c=s.children[l],u=function Gbe(t,i){const o=t.filter(s=>Rd(s)===i);return o.push(...t.filter(s=>Rd(s)!==i)),o}(o,l);return this.processSegmentGroup(i,u,c,l)}),function W2e(t,i){return xo(function q2e(t,i,o,s,a){return(l,c)=>{let u=o,p=i,h=0;l.subscribe(no(c,g=>{const y=h++;p=u?t(p,g,y):(u=!0,g),s&&c.next(p)},a&&(()=>{u&&c.next(p),c.complete()})))}}(t,i,arguments.length>=2,!0))}((l,c)=>(l.push(...c),l)),ED(null),function X2e(t,i){const o=arguments.length>=2;return s=>s.pipe(t?vf((a,l)=>t(a,l,s)):Et,IR(1),o?ED(i):DW(()=>new bD))}(),Ra(l=>{if(null===l)return N3(s);const c=dX(l);return function M3e(t){t.sort((i,o)=>i.value.outlet===or?-1:o.value.outlet===or?1:i.value.outlet.localeCompare(o.value.outlet))}(c),Vn(c)}))}processSegment(i,o,s,a,l,c){return ps(o).pipe(w3(u=>this.processSegmentAgainstRoute(u._injector??i,o,u,s,a,l,c).pipe(C3(p=>{if(p instanceof ZR)return Vn(null);throw p}))),Rv(u=>!!u),C3(u=>{if(lX(u))return function C3e(t,i,o){return 0===i.length&&!t.children[o]}(s,a,l)?Vn(new S3e):N3(s);throw u}))}processSegmentAgainstRoute(i,o,s,a,l,c,u){return function w3e(t,i,o,s){return!!(Rd(t)===s||s!==or&&ID(i,o,t))&&tI(i,t,o).matched}(s,a,l,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(i,a,s,l,c):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(i,a,o,s,l,c):N3(a):N3(a)}expandSegmentAgainstRouteUsingRedirect(i,o,s,a,l,c){const{matched:u,consumedSegments:p,positionalParamSegments:h,remainingSegments:g}=tI(o,a,l);if(!u)return N3(o);a.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const y=this.applyRedirects.applyRedirectCommands(p,a.redirectTo,h);return this.applyRedirects.lineralizeSegments(a,y).pipe(Ra(E=>this.processSegment(i,s,o,E.concat(g),c,!1)))}matchSegmentAgainstRoute(i,o,s,a,l){const c=v3e(o,s,a,i);return"**"===s.path&&(o.children={}),c.pipe(h0(u=>u.matched?this.getChildConfig(i=s._injector??i,s,a).pipe(h0(({routes:p})=>{const h=s._loadedInjector??i,{consumedSegments:g,remainingSegments:y,parameters:E}=u,C=new qR(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function k3e(t){return t.data||{}}(s),Rd(s),s.component??s._loadedComponent??null,s,function A3e(t){return t.resolve||{}}(s)),{segmentGroup:D,slicedSegments:O}=uX(o,g,y,p);if(0===O.length&&D.hasChildren())return this.processChildren(h,p,D).pipe(yr(F=>null===F?null:new m0(C,F)));if(0===p.length&&0===O.length)return Vn(new m0(C,[]));const A=Rd(s)===l;return this.processSegment(h,p,D,O,A?or:l,!0).pipe(yr(F=>new m0(C,F instanceof m0?[F]:[])))})):N3(o)))}getChildConfig(i,o,s){return o.children?Vn({routes:o.children,injector:i}):o.loadChildren?void 0!==o._loadedRoutes?Vn({routes:o._loadedRoutes,injector:o._loadedInjector}):function p3e(t,i,o,s){const a=i.canLoad;return void 0===a||0===a.length?Vn(!0):Vn(a.map(c=>{const u=R3(c,t);return wm(function Jbe(t){return t&&Gx(t.canLoad)}(u)?u.canLoad(i,o):ls(t,()=>u(i,o)))})).pipe(I3(),cX())}(i,o,s).pipe(Ra(a=>a?this.configLoader.loadChildren(i,o).pipe(hl(l=>{o._loadedRoutes=l.routes,o._loadedInjector=l.injector})):function m3e(t){return _D(iX(!1,Dc.GuardRejected))}())):Vn({routes:[],injector:i})}}function O3e(t){const i=t.value.routeConfig;return i&&""===i.path}function dX(t){const i=[],o=new Set;for(const s of t){if(!O3e(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),o.add(a)):i.push(s)}for(const s of o){const a=dX(s.children);i.push(new m0(s.value,a))}return i.filter(s=>!o.has(s))}function pX(t){const i=t.children.map(o=>pX(o)).flat();return[t,...i]}function nI(t){return h0(i=>{const o=t(i);return o?ps(o).pipe(yr(()=>i)):Vn(i)})}let fX=(()=>{class t{buildTitle(o){let s,a=o.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(l=>l.outlet===or);return s}getResolvedTitleForRoute(o){return o.data[Ix]}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>nt(B3e),providedIn:"root"})}return t})(),B3e=(()=>{class t extends fX{constructor(o){super(),this.title=o}updateTitle(o){const s=this.buildTitle(o);void 0!==s&&this.title.setTitle(s)}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Wye))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const L3=new Ct("",{providedIn:"root",factory:()=>({})}),F3=new Ct("");let rI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nt(xG)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Vn(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);const s=wm(o.loadComponent()).pipe(yr(hX),hl(l=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=l}),Rx(()=>{this.componentLoaders.delete(o)})),a=new SW(s,()=>new ra).pipe(RR());return this.componentLoaders.set(o,a),a}loadChildren(o,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Vn({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const l=function V3e(t,i,o,s){return wm(t.loadChildren()).pipe(yr(hX),Ra(a=>a instanceof fr||Array.isArray(a)?Vn(a):ps(i.compileModuleAsync(a))),yr(a=>{s&&s(t);let l,c,u=!1;return Array.isArray(a)?(c=a,!0):(l=a.create(o).injector,c=l.get(F3,[],{optional:!0,self:!0}).flat()),{routes:c.map(QR),injector:l}}))}(s,this.compiler,o,this.onLoadEndListener).pipe(Rx(()=>{this.childrenLoaders.delete(s)})),c=new SW(l,()=>new ra).pipe(RR());return this.childrenLoaders.set(s,c),c}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hX(t){return function j3e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let iI=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>nt($3e),providedIn:"root"})}return t})(),$3e=(()=>{class t{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,s){return o}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mX=new Ct(""),gX=new Ct("");function z3e(t,i,o){const s=t.get(gX),a=t.get(Cc);return t.get(Fr).runOutsideAngular(()=>{if(!a.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(h=>setTimeout(h));let l;const c=new Promise(h=>{l=h}),u=a.startViewTransition(()=>(l(),function H3e(t){return new Promise(i=>{ME(i,{injector:t})})}(t))),{onViewTransitionCreated:p}=s;return p&&ls(t,()=>p({transition:u,from:i,to:o})),c})}let ND=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ra,this.transitionAbortSubject=new ra,this.configLoader=nt(rI),this.environmentInjector=nt(Yr),this.urlSerializer=nt(T3),this.rootContexts=nt(jx),this.location=nt(Dx),this.inputBindingEnabled=null!==nt(kD,{optional:!0}),this.titleStrategy=nt(fX),this.options=nt(L3,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=nt(iI),this.createViewTransition=nt(mX,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Vn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new Obe(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new Mbe(a))}complete(){this.transitions?.complete()}handleNavigationRequest(o){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...o,id:s})}setupNavigations(o,s,a){return this.transitions=new Rt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vx,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vf(l=>0!==l.id),yr(l=>({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),h0(l=>{let c=!1,u=!1;return Vn(l).pipe(h0(p=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",Dc.SupersededByNewNavigation),Od;this.currentTransition=l,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const h=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!h&&"reload"!==(p.extras.onSameUrlNavigation??o.onSameUrlNavigation)){const y="";return this.events.next(new O3(p.id,this.urlSerializer.serialize(p.rawUrl),y,MD.IgnoredSameUrlNavigation)),p.resolve(null),Od}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Vn(p).pipe(h0(y=>{const E=this.transitions?.getValue();return this.events.next(new PD(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions?.getValue()?Od:Promise.resolve(y)}),function R3e(t,i,o,s,a,l){return Ra(c=>function D3e(t,i,o,s,a,l,c="emptyOnly"){return new P3e(t,i,o,s,a,c,l).recognize()}(t,i,o,s,c.extractedUrl,a,l).pipe(yr(({state:u,tree:p})=>({...c,targetSnapshot:u,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),hl(y=>{l.targetSnapshot=y.targetSnapshot,l.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const E=new qW(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:y,extractedUrl:E,source:C,restoredState:D,extras:O}=p,A=new PD(y,this.urlSerializer.serialize(E),C,D);this.events.next(A);const F=KW(this.rootComponentType).snapshot;return this.currentTransition=l={...p,targetSnapshot:F,urlAfterRedirects:E,extras:{...O,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=E,Vn(l)}{const y="";return this.events.next(new O3(p.id,this.urlSerializer.serialize(p.extractedUrl),y,MD.IgnoredByUrlHandlingStrategy)),p.resolve(null),Od}}),hl(p=>{const h=new Sbe(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}),yr(p=>(this.currentTransition=l={...p,guards:Xbe(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},l)),function i3e(t,i){return Ra(o=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:c}}=o;return 0===c.length&&0===l.length?Vn({...o,guardsResult:!0}):function o3e(t,i,o,s){return ps(t).pipe(Ra(a=>function d3e(t,i,o,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return l&&0!==l.length?Vn(l.map(u=>{const p=zx(i)??a,h=R3(u,p);return wm(function n3e(t){return t&&Gx(t.canDeactivate)}(h)?h.canDeactivate(t,i,o,s):ls(p,()=>h(t,i,o,s))).pipe(Rv())})).pipe(I3()):Vn(!0)}(a.component,a.route,o,i,s)),Rv(a=>!0!==a,!0))}(c,s,a,t).pipe(Ra(u=>u&&function Zbe(t){return"boolean"==typeof t}(u)?function s3e(t,i,o,s){return ps(i).pipe(w3(a=>AR(function l3e(t,i){return null!==t&&i&&i(new kbe(t)),Vn(!0)}(a.route.parent,s),function a3e(t,i){return null!==t&&i&&i(new Rbe(t)),Vn(!0)}(a.route,s),function u3e(t,i,o){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(c=>function Ybe(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(c)).filter(c=>null!==c).map(c=>CW(()=>Vn(c.guards.map(p=>{const h=zx(c.node)??o,g=R3(p,h);return wm(function t3e(t){return t&&Gx(t.canActivateChild)}(g)?g.canActivateChild(s,t):ls(h,()=>g(s,t))).pipe(Rv())})).pipe(I3())));return Vn(l).pipe(I3())}(t,a.path,o),function c3e(t,i,o){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return Vn(!0);const a=s.map(l=>CW(()=>{const c=zx(i)??o,u=R3(l,c);return wm(function e3e(t){return t&&Gx(t.canActivate)}(u)?u.canActivate(i,t):ls(c,()=>u(i,t))).pipe(Rv())}));return Vn(a).pipe(I3())}(t,a.route,o))),Rv(a=>!0!==a,!0))}(s,l,t,i):Vn(u)),yr(u=>({...o,guardsResult:u})))})}(this.environmentInjector,p=>this.events.next(p)),hl(p=>{if(l.guardsResult=p.guardsResult,P3(p.guardsResult))throw rX(0,p.guardsResult);const h=new Dbe(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(h)}),vf(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",Dc.GuardRejected),!1)),nI(p=>{if(p.guards.canActivateChecks.length)return Vn(p).pipe(hl(h=>{const g=new Tbe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),h0(h=>{let g=!1;return Vn(h).pipe(function I3e(t,i){return Ra(o=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=o;if(!a.length)return Vn(o);const l=new Set(a.map(p=>p.route)),c=new Set;for(const p of l)if(!c.has(p))for(const h of pX(p))c.add(h);let u=0;return ps(c).pipe(w3(p=>l.has(p)?function N3e(t,i,o,s){const a=t.routeConfig,l=t._resolve;return void 0!==a?.title&&!JW(a)&&(l[Ix]=a.title),function L3e(t,i,o,s){const a=NR(t);if(0===a.length)return Vn({});const l={};return ps(a).pipe(Ra(c=>function F3e(t,i,o,s){const a=zx(i)??s,l=R3(t,a);return wm(l.resolve?l.resolve(i,o):ls(a,()=>l(i,o)))}(t[c],i,o,s).pipe(Rv(),hl(u=>{l[c]=u}))),IR(1),function Y2e(t){return yr(()=>t)}(l),C3(c=>lX(c)?Od:_D(c)))}(l,t,i,s).pipe(yr(c=>(t._resolvedData=c,t.data=GR(t,t.parent,o).resolve,null)))}(p,s,t,i):(p.data=GR(p,p.parent,t).resolve,Vn(void 0))),hl(()=>u++),IR(1),Ra(p=>u===c.size?Vn(o):Od))})}(this.paramsInheritanceStrategy,this.environmentInjector),hl({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",Dc.NoDataFromResolver)}}))}),hl(h=>{const g=new Pbe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),nI(p=>{const h=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(hl(E=>{g.component=E}),yr(()=>{})));for(const E of g.children)y.push(...h(E));return y};return kR(h(p.targetSnapshot.root)).pipe(ED(null),x3(1))}),nI(()=>this.afterPreactivation()),h0(()=>{const{currentSnapshot:p,targetSnapshot:h}=l,g=this.createViewTransition?.(this.environmentInjector,p.root,h.root);return g?ps(g).pipe(yr(()=>l)):Vn(l)}),yr(p=>{const h=function Fbe(t,i,o){const s=$x(t,i._root,o?o._root:void 0);return new YW(s,i)}(o.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=l={...p,targetRouterState:h},this.currentNavigation.targetRouterState=h,l}),hl(()=>{this.events.next(new $R)}),((t,i,o,s)=>yr(a=>(new Wbe(i,a.targetRouterState,a.currentRouterState,o,s).activate(t),a)))(this.rootContexts,o.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),x3(1),hl({next:p=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yf(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{c=!0}}),function K2e(t){return xo((i,o)=>{Md(t).subscribe(no(o,()=>o.complete(),kr)),!o.closed&&i.subscribe(o)})}(this.transitionAbortSubject.pipe(hl(p=>{throw p}))),Rx(()=>{!c&&!u&&this.cancelNavigationTransition(l,"",Dc.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),C3(p=>{if(u=!0,oX(p))this.events.next(new M3(l.id,this.urlSerializer.serialize(l.extractedUrl),p.message,p.cancellationCode)),function jbe(t){return oX(t)&&P3(t.url)}(p)?this.events.next(new zR(p.url)):l.resolve(!1);else{this.events.next(new OD(l.id,this.urlSerializer.serialize(l.extractedUrl),p,l.targetSnapshot??void 0));try{l.resolve(o.errorHandler(p))}catch(h){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(h)}}return Od}))}))}cancelNavigationTransition(o,s,a){const l=new M3(o.id,this.urlSerializer.serialize(o.extractedUrl),s,a);this.events.next(l),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function U3e(t){return t!==Vx}let G3e=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>nt(W3e),providedIn:"root"})}return t})();class q3e{shouldDetach(i){return!1}store(i,o){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,o){return i.routeConfig===o.routeConfig}}let W3e=(()=>{class t extends q3e{static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=Yo(t)))(a||t)}})();static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vX=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:()=>nt(X3e),providedIn:"root"})}return t})(),X3e=(()=>{class t extends vX{constructor(){super(...arguments),this.location=nt(Dx),this.urlSerializer=nt(T3),this.options=nt(L3,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=nt(iI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new D3,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KW(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(s=>{"popstate"===s.type&&o(s.url,s.state)})}handleRouterEvent(o,s){if(o instanceof PD)this.stateMemento=this.createStateMemento();else if(o instanceof O3)this.rawUrlTree=s.initialUrl;else if(o instanceof qW){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(a,s)}}else o instanceof $R?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):o instanceof M3&&(o.code===Dc.GuardRejected||o.code===Dc.NoDataFromResolver)?this.restoreHistory(s):o instanceof OD?this.restoreHistory(s,!0):o instanceof yf&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,s){const a=this.urlSerializer.serialize(o);if(this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl){const c={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(a,"",c)}else{const l={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(a,"",l)}}restoreHistory(o,s=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===o.finalUrl&&0===l&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,s){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:s}:{navigationId:o}}static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=Yo(t)))(a||t)}})();static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qx=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qx||{});function yX(t,i){t.events.pipe(vf(o=>o instanceof yf||o instanceof M3||o instanceof OD||o instanceof O3),yr(o=>o instanceof yf||o instanceof O3?qx.COMPLETE:o instanceof M3&&(o.code===Dc.Redirect||o.code===Dc.SupersededByNewNavigation)?qx.REDIRECTING:qx.FAILED),vf(o=>o!==qx.REDIRECTING),x3(1)).subscribe(()=>{i()})}function Y3e(t){throw t}const K3e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q3e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let g0=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=nt(pG),this.stateManager=nt(vX),this.options=nt(L3,{optional:!0})||{},this.pendingTasks=nt(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=nt(ND),this.urlSerializer=nt(T3),this.location=nt(Dx),this.urlHandlingStrategy=nt(iI),this._events=new ra,this.errorHandler=this.options.errorHandler||Y3e,this.navigated=!1,this.routeReuseStrategy=nt(G3e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=nt(F3,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!nt(kD,{optional:!0}),this.eventsSubscription=new qt,this.isNgZoneEnabled=nt(Fr)instanceof Fr&&Fr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const o=this.navigationTransitions.events.subscribe(s=>{try{const a=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(null!==a&&null!==l)if(this.stateManager.handleRouterEvent(s,l),s instanceof M3&&s.code!==Dc.Redirect&&s.code!==Dc.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof yf)this.navigated=!0;else if(s instanceof zR){const c=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),u={info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||U3e(a.source)};this.scheduleNavigation(c,Vx,null,u,{resolve:a.resolve,reject:a.reject,promise:a.promise})}(function J3e(t){return!(t instanceof $R||t instanceof zR)})(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vx,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",s)},0)})}navigateToSyncWithBrowser(o,s,a){const l={replaceUrl:!0},c=a?.navigationId?a:null;if(a){const p={...a};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(l.state=p)}const u=this.parseUrl(o);this.scheduleNavigation(u,s,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(QR),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,s={}){const{relativeTo:a,queryParams:l,fragment:c,queryParamsHandling:u,preserveFragment:p}=s,h=p?this.currentUrlTree.fragment:c;let y,g=null;switch(u){case"merge":g={...this.currentUrlTree.queryParams,...l};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=l||null}null!==g&&(g=this.removeEmptyProps(g));try{y=VW(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof o[0]||!o[0].startsWith("/"))&&(o=[]),y=this.currentUrlTree.root}return jW(y,o,g,h??null)}navigateByUrl(o,s={skipLocationChange:!1}){const a=P3(o)?o:this.parseUrl(o),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,Vx,null,s)}navigate(o,s={skipLocationChange:!1}){return function Z3e(t){for(let i=0;i<t.length;i++)if(null==t[i])throw new Je(4008,!1)}(o),this.navigateByUrl(this.createUrlTree(o,s),s)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,s){let a;if(a=!0===s?{...K3e}:!1===s?{...Q3e}:s,P3(o))return OW(this.currentUrlTree,o,a);const l=this.parseUrl(o);return OW(this.currentUrlTree,l,a)}removeEmptyProps(o){return Object.entries(o).reduce((s,[a,l])=>(null!=l&&(s[a]=l),s),{})}scheduleNavigation(o,s,a,l,c){if(this.disposed)return Promise.resolve(!1);let u,p,h;c?(u=c.resolve,p=c.reject,h=c.promise):h=new Promise((y,E)=>{u=y,p=E});const g=this.pendingTasks.add();return yX(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:l,resolve:u,reject:p,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class bX{}let n5e=(()=>{class t{constructor(o,s,a,l,c){this.router=o,this.injector=a,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(vf(o=>o instanceof yf),w3(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(o,s){const a=[];for(const l of s){l.providers&&!l._injector&&(l._injector=ci(l.providers,o,`Route: ${l.path}`));const c=l._injector??o,u=l._loadedInjector??c;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&a.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&a.push(this.processRoutes(u,l.children??l._loadedRoutes))}return ps(a).pipe(Ax())}preloadConfig(o,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(o,s):Vn(null);const l=a.pipe(Ra(c=>null===c?Vn(void 0):(s._loadedRoutes=c.routes,s._loadedInjector=c.injector,this.processRoutes(c.injector??o,c.routes))));return s.loadComponent&&!s._loadedComponent?ps([l,this.loader.loadComponent(s)]).pipe(Ax()):l})}static#e=this.\u0275fac=function(s){return new(s||t)(dn(g0),dn(xG),dn(Yr),dn(bX),dn(rI))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sI=new Ct("");let _X=(()=>{class t{constructor(o,s,a,l,c={}){this.urlSerializer=o,this.transitions=s,this.viewportScroller=a,this.zone=l,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=nt(Yr),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(o=>{o instanceof PD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=o.navigationTrigger,this.restoredId=o.restoredState?o.restoredState.navigationId:0):o instanceof yf?(this.lastId=o.id,this.scheduleScrollEvent(o,this.urlSerializer.parse(o.urlAfterRedirects).fragment)):o instanceof O3&&o.code===MD.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(o,this.urlSerializer.parse(o.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(o=>{o instanceof WW&&(o.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(o.position):o.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(o.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(o,s){var a=this;this.zone.runOutsideAngular(Ye(function*(){yield new Promise(l=>{setTimeout(()=>{l()}),ME(()=>{l()},{injector:a.environmentInjector})}),a.zone.run(()=>{a.transitions.events.next(new WW(o,"popstate"===a.lastSource?a.store[a.restoredId]:null,s))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){!function $g(){throw new Error("invalid")}()};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();function Id(t,i){return{\u0275kind:t,\u0275providers:i}}function xX(){const t=nt(Ys);return i=>{const o=t.get(bm);if(i!==o.components[0])return;const s=t.get(g0),a=t.get(wX);1===t.get(aI)&&s.initialNavigation(),t.get(CX,null,Jn.Optional)?.setUpPreloading(),t.get(sI,null,Jn.Optional)?.init(),s.resetRootComponentType(o.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const wX=new Ct("",{factory:()=>new ra}),aI=new Ct("",{providedIn:"root",factory:()=>1}),CX=new Ct("");function s5e(t){return Id(0,[{provide:CX,useExisting:n5e},{provide:bX,useExisting:t}])}function l5e(t){return Id(9,[{provide:mX,useValue:z3e},{provide:gX,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const SX=new Ct("ROUTER_FORROOT_GUARD"),c5e=[Dx,{provide:T3,useClass:LR},g0,jx,{provide:A3,useFactory:function EX(t){return t.routerState.root},deps:[g0]},rI,[]];let DX=(()=>{class t{constructor(o){}static forRoot(o,s){return{ngModule:t,providers:[c5e,[],{provide:F3,multi:!0,useValue:o},{provide:SX,useFactory:f5e,deps:[[g0,new A1,new Jy]]},{provide:L3,useValue:s||{}},s?.useHash?{provide:Av,useClass:Cge}:{provide:Av,useClass:pq},{provide:sI,useFactory:()=>{const t=nt(Wve),i=nt(Fr),o=nt(L3),s=nt(ND),a=nt(T3);return o.scrollOffset&&t.setOffset(o.scrollOffset),new _X(a,s,t,i,o)}},s?.preloadingStrategy?s5e(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?h5e(s):[],s?.bindToComponentInputs?Id(8,[tX,{provide:kD,useExisting:tX}]).\u0275providers:[],s?.enableViewTransitions?l5e().\u0275providers:[],[{provide:TX,useFactory:xX},{provide:GA,multi:!0,useExisting:TX}]]}}static forChild(o){return{ngModule:t,providers:[{provide:F3,multi:!0,useValue:o}]}}static#e=this.\u0275fac=function(s){return new(s||t)(dn(SX,8))};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({})}return t})();function f5e(t){return"guarded"}function h5e(t){return["disabled"===t.initialNavigation?Id(3,[{provide:HA,multi:!0,useFactory:()=>{const i=nt(g0);return()=>{i.setUpLocationChangeListener()}}},{provide:aI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Id(2,[{provide:aI,useValue:0},{provide:HA,multi:!0,deps:[Ys],useFactory:i=>{const o=i.get(xge,Promise.resolve());return()=>o.then(()=>new Promise(s=>{const a=i.get(g0),l=i.get(wX);yX(a,()=>{s(!0)}),i.get(ND).afterPreactivation=()=>(s(!0),l.closed?Vn(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const TX=new Ct(""),g5e=[];let v5e=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({imports:[DX.forRoot(g5e),DX]})}return t})();var Wx,en,PX,Nv,MX,OX,lI,kX,Xx={},AX=[],b5e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,LD=Array.isArray;function bf(t,i){for(var o in i)t[o]=i[o];return t}function RX(t){var i=t.parentNode;i&&i.removeChild(t)}function Xl(t,i,o){var s,a,l,c={};for(l in i)"key"==l?s=i[l]:"ref"==l?a=i[l]:c[l]=i[l];if(arguments.length>2&&(c.children=arguments.length>3?Wx.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===c[l]&&(c[l]=t.defaultProps[l]);return Yx(t,c,s,a,null)}function Yx(t,i,o,s,a){var l={type:t,props:i,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++PX,__i:-1,__u:0};return null==a&&null!=en.vnode&&en.vnode(l),l}function Nd(t){return t.children}function Ld(t,i){this.props=t,this.context=i}function B3(t,i){if(null==i)return t.__?B3(t.__,t.__i+1):null;for(var o;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e)return o.__e;return"function"==typeof t.type?B3(t):null}function IX(t){var i,o;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e){t.__e=t.__c.base=o.__e;break}return IX(t)}}function cI(t){(!t.__d&&(t.__d=!0)&&Nv.push(t)&&!FD.__r++||MX!==en.debounceRendering)&&((MX=en.debounceRendering)||OX)(FD)}function FD(){var t,i,o,s,a,l,c,u,p;for(Nv.sort(lI);t=Nv.shift();)t.__d&&(i=Nv.length,s=void 0,l=(a=(o=t).__v).__e,u=[],p=[],(c=o.__P)&&((s=bf({},a)).__v=a.__v+1,en.vnode&&en.vnode(s),uI(c,s,a,o.__n,void 0!==c.ownerSVGElement,32&a.__u?[l]:null,u,l??B3(a),!!(32&a.__u),p),s.__.__k[s.__i]=s,jX(u,s,p),s.__e!=l&&IX(s)),Nv.length>i&&Nv.sort(lI));FD.__r=0}function NX(t,i,o,s,a,l,c,u,p,h,g){var y,E,C,D,O,A=s&&s.__k||AX,F=i.length;for(o.__d=p,function E5e(t,i,o){var s,a,l,c,u,p=i.length,h=o.length,g=h,y=0;for(t.__k=[],s=0;s<p;s++)null!=(a=t.__k[s]=null==(a=i[s])||"boolean"==typeof a||"function"==typeof a?null:"string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?Yx(null,a,null,null,a):LD(a)?Yx(Nd,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?Yx(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)?(a.__=t,a.__b=t.__b+1,u=x5e(a,o,c=s+y,g),a.__i=u,l=null,-1!==u&&(g--,(l=o[u])&&(l.__u|=131072)),null==l||null===l.__v?(-1==u&&y--,"function"!=typeof a.type&&(a.__u|=65536)):u!==c&&(u===c+1?y++:u>c?g>p-c?y+=u-c:y--:y=u<c&&u==c-1?u-c:0,u!==s+y&&(a.__u|=65536))):(l=o[s])&&null==l.key&&l.__e&&(l.__e==t.__d&&(t.__d=B3(l)),pI(l,l,!1),o[s]=null,g--);if(g)for(s=0;s<h;s++)null!=(l=o[s])&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=B3(l)),pI(l,l))}(o,i,A),p=o.__d,y=0;y<F;y++)null!=(C=o.__k[y])&&"boolean"!=typeof C&&"function"!=typeof C&&(E=-1===C.__i?Xx:A[C.__i]||Xx,C.__i=y,uI(t,C,E,a,l,c,u,p,h,g),D=C.__e,C.ref&&E.ref!=C.ref&&(E.ref&&dI(E.ref,null,C),g.push(C.ref,C.__c||D,C)),null==O&&null!=D&&(O=D),65536&C.__u||E.__k===C.__k?p=LX(C,p,t):"function"==typeof C.type&&void 0!==C.__d?p=C.__d:D&&(p=D.nextSibling),C.__d=void 0,C.__u&=-196609);o.__d=p,o.__e=O}function LX(t,i,o){var s,a;if("function"==typeof t.type){for(s=t.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=t,i=LX(s[a],i,o));return i}return t.__e!=i&&(o.insertBefore(t.__e,i||null),i=t.__e),i&&i.nextSibling}function _f(t,i){return i=i||[],null==t||"boolean"==typeof t||(LD(t)?t.some(function(o){_f(o,i)}):i.push(t)),i}function x5e(t,i,o,s){var a=t.key,l=t.type,c=o-1,u=o+1,p=i[o];if(null===p||p&&a==p.key&&l===p.type)return o;if(s>(null==p||131072&p.__u?0:1))for(;c>=0||u<i.length;){if(c>=0){if((p=i[c])&&!(131072&p.__u)&&a==p.key&&l===p.type)return c;c--}if(u<i.length){if((p=i[u])&&!(131072&p.__u)&&a==p.key&&l===p.type)return u;u++}}return-1}function FX(t,i,o){"-"===i[0]?t.setProperty(i,o??""):t[i]=null==o?"":"number"!=typeof o||b5e.test(i)?o:o+"px"}function BD(t,i,o,s,a){var l;e:if("style"===i)if("string"==typeof o)t.style.cssText=o;else{if("string"==typeof s&&(t.style.cssText=s=""),s)for(i in s)o&&i in o||FX(t.style,i,"");if(o)for(i in o)s&&o[i]===s[i]||FX(t.style,i,o[i])}else if("o"===i[0]&&"n"===i[1])l=i!==(i=i.replace(/(PointerCapture)$|Capture$/,"$1")),i=i.toLowerCase()in t?i.toLowerCase().slice(2):i.slice(2),t.l||(t.l={}),t.l[i+l]=o,o?s?o.u=s.u:(o.u=Date.now(),t.addEventListener(i,l?VX:BX,l)):t.removeEventListener(i,l?VX:BX,l);else{if(a)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==i&&"height"!==i&&"href"!==i&&"list"!==i&&"form"!==i&&"tabIndex"!==i&&"download"!==i&&"rowSpan"!==i&&"colSpan"!==i&&"role"!==i&&i in t)try{t[i]=o??"";break e}catch{}"function"==typeof o||(null==o||!1===o&&"-"!==i[4]?t.removeAttribute(i):t.setAttribute(i,o))}}function BX(t){var i=this.l[t.type+!1];if(t.t){if(t.t<=i.u)return}else t.t=Date.now();return i(en.event?en.event(t):t)}function VX(t){return this.l[t.type+!0](en.event?en.event(t):t)}function uI(t,i,o,s,a,l,c,u,p,h){var g,y,E,C,D,O,A,F,N,B,j,q,ee,ae,te,ne=i.type;if(void 0!==i.constructor)return null;128&o.__u&&(p=!!(32&o.__u),l=[u=i.__e=o.__e]),(g=en.__b)&&g(i);e:if("function"==typeof ne)try{if(F=i.props,N=(g=ne.contextType)&&s[g.__c],B=g?N?N.props.value:g.__:s,o.__c?A=(y=i.__c=o.__c).__=y.__E:("prototype"in ne&&ne.prototype.render?i.__c=y=new ne(F,B):(i.__c=y=new Ld(F,B),y.constructor=ne,y.render=C5e),N&&N.sub(y),y.props=F,y.state||(y.state={}),y.context=B,y.__n=s,E=y.__d=!0,y.__h=[],y._sb=[]),null==y.__s&&(y.__s=y.state),null!=ne.getDerivedStateFromProps&&(y.__s==y.state&&(y.__s=bf({},y.__s)),bf(y.__s,ne.getDerivedStateFromProps(F,y.__s))),C=y.props,D=y.state,y.__v=i,E)null==ne.getDerivedStateFromProps&&null!=y.componentWillMount&&y.componentWillMount(),null!=y.componentDidMount&&y.__h.push(y.componentDidMount);else{if(null==ne.getDerivedStateFromProps&&F!==C&&null!=y.componentWillReceiveProps&&y.componentWillReceiveProps(F,B),!y.__e&&(null!=y.shouldComponentUpdate&&!1===y.shouldComponentUpdate(F,y.__s,B)||i.__v===o.__v)){for(i.__v!==o.__v&&(y.props=F,y.state=y.__s,y.__d=!1),i.__e=o.__e,i.__k=o.__k,i.__k.forEach(function(he){he&&(he.__=i)}),j=0;j<y._sb.length;j++)y.__h.push(y._sb[j]);y._sb=[],y.__h.length&&c.push(y);break e}null!=y.componentWillUpdate&&y.componentWillUpdate(F,y.__s,B),null!=y.componentDidUpdate&&y.__h.push(function(){y.componentDidUpdate(C,D,O)})}if(y.context=B,y.props=F,y.__P=t,y.__e=!1,q=en.__r,ee=0,"prototype"in ne&&ne.prototype.render){for(y.state=y.__s,y.__d=!1,q&&q(i),g=y.render(y.props,y.state,y.context),ae=0;ae<y._sb.length;ae++)y.__h.push(y._sb[ae]);y._sb=[]}else do{y.__d=!1,q&&q(i),g=y.render(y.props,y.state,y.context),y.state=y.__s}while(y.__d&&++ee<25);y.state=y.__s,null!=y.getChildContext&&(s=bf(bf({},s),y.getChildContext())),E||null==y.getSnapshotBeforeUpdate||(O=y.getSnapshotBeforeUpdate(C,D)),NX(t,LD(te=null!=g&&g.type===Nd&&null==g.key?g.props.children:g)?te:[te],i,o,s,a,l,c,u,p,h),y.base=i.__e,i.__u&=-161,y.__h.length&&c.push(y),A&&(y.__E=y.__=null)}catch(he){i.__v=null,p||null!=l?(i.__e=u,i.__u|=p?160:32,l[l.indexOf(u)]=null):(i.__e=o.__e,i.__k=o.__k),en.__e(he,i,o)}else null==l&&i.__v===o.__v?(i.__k=o.__k,i.__e=o.__e):i.__e=function w5e(t,i,o,s,a,l,c,u,p){var h,g,y,E,C,D,O,A=o.props,F=i.props,N=i.type;if("svg"===N&&(a=!0),null!=l)for(h=0;h<l.length;h++)if((C=l[h])&&"setAttribute"in C==!!N&&(N?C.localName===N:3===C.nodeType)){t=C,l[h]=null;break}if(null==t){if(null===N)return document.createTextNode(F);t=a?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,F.is&&F),l=null,u=!1}if(null===N)A===F||u&&t.data===F||(t.data=F);else{if(l=l&&Wx.call(t.childNodes),A=o.props||Xx,!u&&null!=l)for(A={},h=0;h<t.attributes.length;h++)A[(C=t.attributes[h]).name]=C.value;for(h in A)C=A[h],"children"==h||("dangerouslySetInnerHTML"==h?y=C:"key"===h||h in F||BD(t,h,null,C,a));for(h in F)C=F[h],"children"==h?E=C:"dangerouslySetInnerHTML"==h?g=C:"value"==h?D=C:"checked"==h?O=C:"key"===h||u&&"function"!=typeof C||A[h]===C||BD(t,h,C,A[h],a);if(g)u||y&&(g.__html===y.__html||g.__html===t.innerHTML)||(t.innerHTML=g.__html),i.__k=[];else if(y&&(t.innerHTML=""),NX(t,LD(E)?E:[E],i,o,s,a&&"foreignObject"!==N,l,c,l?l[0]:o.__k&&B3(o,0),u,p),null!=l)for(h=l.length;h--;)null!=l[h]&&RX(l[h]);u||(h="value",void 0!==D&&(D!==t[h]||"progress"===N&&!D||"option"===N&&D!==A[h])&&BD(t,h,D,A[h],!1),h="checked",void 0!==O&&O!==t[h]&&BD(t,h,O,A[h],!1))}return t}(o.__e,i,o,s,a,l,c,p,h);(g=en.diffed)&&g(i)}function jX(t,i,o){i.__d=void 0;for(var s=0;s<o.length;s++)dI(o[s],o[++s],o[++s]);en.__c&&en.__c(i,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(l){l.call(a)})}catch(l){en.__e(l,a.__v)}})}function dI(t,i,o){try{"function"==typeof t?t(i):t.current=i}catch(s){en.__e(s,o)}}function pI(t,i,o){var s,a;if(en.unmount&&en.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||dI(s,null,i)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){en.__e(l,i)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(a=0;a<s.length;a++)s[a]&&pI(s[a],i,o||"function"!=typeof t.type);o||null==t.__e||RX(t.__e),t.__=t.__e=t.__d=void 0}function C5e(t,i,o){return this.constructor(t,o)}function Lv(t,i,o){var s,a,l,c;en.__&&en.__(t,i),a=(s="function"==typeof o)?null:o&&o.__k||i.__k,l=[],c=[],uI(i,t=(!s&&o||i).__k=Xl(Nd,null,[t]),a||Xx,Xx,void 0!==i.ownerSVGElement,!s&&o?[o]:a?null:i.firstChild?Wx.call(i.childNodes):null,l,!s&&o?o:a?a.__e:i.firstChild,s,c),jX(l,t,c)}function Cm(t,i){var o={__c:i="__cC"+kX++,__:t,Consumer:function(s,a){return s.children(a)},Provider:function(s){var a,l;return this.getChildContext||(a=[],(l={})[i]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.some(function(u){u.__e=!0,cI(u)})},this.sub=function(c){a.push(c);var u=c.componentWillUnmount;c.componentWillUnmount=function(){a.splice(a.indexOf(c),1),u&&u.call(c)}}),s.children}};return o.Provider.__=o.Consumer.contextType=o}Wx=AX.slice,en={__e:function(t,i,o,s){for(var a,l,c;i=i.__;)if((a=i.__c)&&!a.__)try{if((l=a.constructor)&&null!=l.getDerivedStateFromError&&(a.setState(l.getDerivedStateFromError(t)),c=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(t,s||{}),c=a.__d),c)return a.__E=a}catch(u){t=u}throw t}},PX=0,Ld.prototype.setState=function(t,i){var o;o=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=bf({},this.state),"function"==typeof t&&(t=t(bf({},o),this.props)),t&&bf(o,t),null!=t&&this.__v&&(i&&this._sb.push(i),cI(this))},Ld.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),cI(this))},Ld.prototype.render=Nd,Nv=[],OX="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,lI=function(t,i){return t.__v.__b-i.__v.__b},FD.__r=0,kX=0;var Ef,Fi,fI,zX,V3=0,HX=[],VD=[],UX=en.__b,GX=en.__r,qX=en.diffed,WX=en.__c,XX=en.unmount;function Fv(t,i){en.__h&&en.__h(Fi,t,V3||i),V3=0;var o=Fi.__H||(Fi.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:VD}),o.__[t]}function Yn(t){return V3=1,function YX(t,i,o){var s=Fv(Ef++,2);if(s.t=t,!s.__c&&(s.__=[o?o(i):QX(void 0,i),function(u){var p=s.__N?s.__N[0]:s.__[0],h=s.t(p,u);p!==h&&(s.__N=[h,s.__[1]],s.__c.setState({}))}],s.__c=Fi,!Fi.u)){var a=function(u,p,h){if(!s.__c.__H)return!0;var g=s.__c.__H.__.filter(function(E){return E.__c});if(g.every(function(E){return!E.__N}))return!l||l.call(this,u,p,h);var y=!1;return g.forEach(function(E){if(E.__N){var C=E.__[0];E.__=E.__N,E.__N=void 0,C!==E.__[0]&&(y=!0)}}),!(!y&&s.__c.props===u)&&(!l||l.call(this,u,p,h))};Fi.u=!0;var l=Fi.shouldComponentUpdate,c=Fi.componentWillUpdate;Fi.componentWillUpdate=function(u,p,h){if(this.__e){var g=l;l=void 0,a(u,p,h),l=g}c&&c.call(this,u,p,h)},Fi.shouldComponentUpdate=a}return s.__N||s.__}(QX,t)}function fn(t,i){var o=Fv(Ef++,3);!en.__s&&mI(o.__H,i)&&(o.__=t,o.i=i,Fi.__H.__h.push(o))}function j3(t,i){var o=Fv(Ef++,4);!en.__s&&mI(o.__H,i)&&(o.__=t,o.i=i,Fi.__h.push(o))}function wi(t){return V3=5,Ia(function(){return{current:t}},[])}function Ia(t,i){var o=Fv(Ef++,7);return mI(o.__H,i)?(o.__V=t(),o.i=i,o.__h=t,o.__V):o.__}function Yl(t,i){return V3=8,Ia(function(){return t},i)}function ml(t){var i=Fi.context[t.__c],o=Fv(Ef++,9);return o.c=t,i?(null==o.__&&(o.__=!0,i.sub(Fi)),i.props.value):t.__}function M5e(){for(var t;t=HX.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(jD),t.__H.__h.forEach(hI),t.__H.__h=[]}catch(i){t.__H.__h=[],en.__e(i,t.__v)}}en.__b=function(t){Fi=null,UX&&UX(t)},en.__r=function(t){GX&&GX(t),Ef=0;var i=(Fi=t.__c).__H;i&&(fI===Fi?(i.__h=[],Fi.__h=[],i.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=VD,o.__N=o.i=void 0})):(i.__h.forEach(jD),i.__h.forEach(hI),i.__h=[],Ef=0)),fI=Fi},en.diffed=function(t){qX&&qX(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==HX.push(i)&&zX===en.requestAnimationFrame||((zX=en.requestAnimationFrame)||O5e)(M5e)),i.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==VD&&(o.__=o.__V),o.i=void 0,o.__V=VD})),fI=Fi=null},en.__c=function(t,i){i.some(function(o){try{o.__h.forEach(jD),o.__h=o.__h.filter(function(s){return!s.__||hI(s)})}catch(s){i.some(function(a){a.__h&&(a.__h=[])}),i=[],en.__e(s,o.__v)}}),WX&&WX(t,i)},en.unmount=function(t){XX&&XX(t);var i,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(s){try{jD(s)}catch(a){i=a}}),o.__H=void 0,i&&en.__e(i,o.__v))};var KX="function"==typeof requestAnimationFrame;function O5e(t){var i,o=function(){clearTimeout(s),KX&&cancelAnimationFrame(i),setTimeout(t)},s=setTimeout(o,100);KX&&(i=requestAnimationFrame(o))}function jD(t){var i=Fi,o=t.__c;"function"==typeof o&&(t.__c=void 0,o()),Fi=i}function hI(t){var i=Fi;t.__c=t.__(),Fi=i}function mI(t,i){return!t||t.length!==i.length||i.some(function(o,s){return o!==t[s]})}function QX(t,i){return"function"==typeof i?i(t):i}function Kx(t){return Array.prototype.concat.apply([],t)}const Qx=Object.prototype.toString,k5e=Object.prototype.hasOwnProperty;function Kl(t){return void 0===t}function Bi(t){return void 0!==t}function $D(t){return null==t}function Rn(t){return"[object Array]"===Qx.call(t)}function Lo(t){return"[object Object]"===Qx.call(t)}function gn(t){return"[object Number]"===Qx.call(t)}function Vr(t){const i=Qx.call(t);return"[object Function]"===i||"[object AsyncFunction]"===i||"[object GeneratorFunction]"===i||"[object AsyncGeneratorFunction]"===i||"[object Proxy]"===i}function la(t){return"[object String]"===Qx.call(t)}function Ql(t,i){return k5e.call(t,i)}function Qn(t,i){const o=zD(i);let s;return _e(t,function(a,l){if(o(a,l))return s=a,!1}),s}function Zx(t,i){const o=zD(i);let s=Rn(t)?-1:void 0;return _e(t,function(a,l){if(o(a,l))return s=l,!1}),s}function On(t,i){const o=zD(i);let s=[];return _e(t,function(a,l){o(a,l)&&s.push(a)}),s}function _e(t,i){let o,s;if(Kl(t))return;const a=Rn(t)?L5e:N5e;for(let l in t)if(Ql(t,l)&&(o=t[l],s=i(o,a(l)),!1===s))return o}function Pi(t,i){if(Kl(t))return[];!function A5e(t){if(!Rn(t))throw new Error("must supply array")}(t);const o=zD(i);return t.filter(function(s,a){return!o(s,a)})}function gl(t,i,o){return _e(t,function(s,a){o=i(o,s,a)}),o}function $3(t,i){return!!gl(t,function(o,s,a){return o&&i(s,a)},!0)}function xf(t,i){return!!Qn(t,i)}function Fo(t,i){let o=[];return _e(t,function(s,a){o.push(i(s,a))}),o}function z3(t){return t&&Object.keys(t)||[]}function gI(t){return Fo(t,i=>i)}function Bv(t,i,o={}){return i=vI(i),_e(t,function(s){let a=i(s)||"_",l=o[a];l||(l=o[a]=[]),l.push(s)}),o}function ZX(t,...i){t=vI(t);let o={};return _e(i,a=>Bv(a,t,o)),Fo(o,function(a,l){return a[0]})}const I5e=ZX;function fs(t,i){i=vI(i);let o=[];return _e(t,function(s,a){let l=i(s,a),c={d:l,v:s};for(var u=0;u<o.length;u++){let{d:p}=o[u];if(l<p)return void o.splice(u,0,c)}o.push(c)}),Fo(o,s=>s.v)}function v0(t){return function(i){return $3(t,function(o,s){return i[s]===o})}}function vI(t){return Vr(t)?t:i=>i[t]}function zD(t){return Vr(t)?t:i=>i===t}function N5e(t){return t}function L5e(t){return Number(t)}function yI(t,i){let o,s,a,l;function c(y){let E=Date.now(),C=y?0:l+i-E;if(C>0)return u(C);t.apply(a,s),p()}function u(y){o=setTimeout(c,y)}function p(){o&&clearTimeout(o),o=l=s=a=void 0}function g(...y){l=Date.now(),s=y,a=this,o||u(i)}return g.flush=function h(){o&&c(!0),p()},g.cancel=p,g}function vl(t,i){return t.bind(i)}function Re(t,...i){return Object.assign(t,...i)}function JX(t,i,o){let s=t;return _e(i,function(a,l){if("number"!=typeof a&&"string"!=typeof a)throw new Error("illegal key type: "+typeof a+". Key should be of type number or string.");if("constructor"===a)throw new Error("illegal key: constructor");if("__proto__"===a)throw new Error("illegal key: __proto__");let c=i[l+1],u=s[a];Bi(c)&&$D(u)&&(u=s[a]=isNaN(+c)?{}:[]),Kl(c)?Kl(o)?delete s[a]:s[a]=o:s=u}),t}function y0(t,i){let o={},s=Object(t);return _e(i,function(a){a in s&&(o[a]=t[a])}),o}function Fd(t,i){let o={};return _e(Object(t),function(a,l){-1===i.indexOf(l)&&(o[l]=a)}),o}function eY(t,i){for(var o in i)t[o]=i[o];return t}function bI(t,i){for(var o in t)if("__source"!==o&&!(o in i))return!0;for(var s in i)if("__source"!==s&&t[s]!==i[s])return!0;return!1}function _I(t){this.props=t}(_I.prototype=new Ld).isPureReactComponent=!0,_I.prototype.shouldComponentUpdate=function(t,i){return bI(this.props,t)||bI(this.state,i)};var tY=en.__b;en.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),tY&&tY(t)};var j5e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function wf(t){function i(o){var s=eY({},o);return delete s.ref,t(s,o.ref||null)}return i.$$typeof=j5e,i.render=i,i.prototype.isReactComponent=i.__f=!0,i.displayName="ForwardRef("+(t.displayName||t.name)+")",i}var z5e=en.__e;en.__e=function(t,i,o,s){if(t.then)for(var a,l=i;l=l.__;)if((a=l.__c)&&a.__c)return null==i.__e&&(i.__e=o.__e,i.__k=o.__k),a.__c(t,i);z5e(t,i,o,s)};var rY=en.unmount;function iY(t,i,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){"function"==typeof s.__c&&s.__c()}),t.__c.__H=null),null!=(t=eY({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=i),t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return iY(s,i,o)})),t}function oY(t,i,o){return t&&o&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return oY(s,i,o)}),t.__c&&t.__c.__P===i&&(t.__e&&o.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=o)),t}function HD(){this.__u=0,this.t=null,this.__b=null}function sY(t){var i=t.__.__c;return i&&i.__a&&i.__a(t)}function Jx(){this.u=null,this.o=null}en.unmount=function(t){var i=t.__c;i&&i.__R&&i.__R(),i&&32&t.__u&&(t.type=null),rY&&rY(t)},(HD.prototype=new Ld).__c=function(t,i){var o=i.__c,s=this;null==s.t&&(s.t=[]),s.t.push(o);var a=sY(s.__v),l=!1,c=function(){l||(l=!0,o.__R=null,a?a(u):u())};o.__R=c;var u=function(){if(! --s.__u){if(s.state.__a){var p=s.state.__a;s.__v.__k[0]=oY(p,p.__c.__P,p.__c.__O)}var h;for(s.setState({__a:s.__b=null});h=s.t.pop();)h.forceUpdate()}};s.__u++||32&i.__u||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(c,c)},HD.prototype.componentWillUnmount=function(){this.t=[]},HD.prototype.render=function(t,i){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=iY(this.__b,o,s.__O=s.__P)}this.__b=null}var a=i.__a&&Xl(Nd,null,t.fallback);return a&&(a.__u&=-33),[Xl(Nd,null,i.__a?null:t.children),a]};var aY=function(t,i,o){if(++o[1]===o[0]&&t.o.delete(i),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(o=t.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;t.u=o=o[2]}};function U5e(t){return this.getChildContext=function(){return t.context},t.children}function G5e(t){var i=this,o=t.i;i.componentWillUnmount=function(){Lv(null,i.l),i.l=null,i.i=null},i.i&&i.i!==o&&i.componentWillUnmount(),i.l||(i.i=o,i.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(s){this.childNodes.push(s),i.i.appendChild(s)},insertBefore:function(s,a){this.childNodes.push(s),i.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),i.i.removeChild(s)}}),Lv(Xl(U5e,{context:i.context},t.__v),i.l)}function EI(t,i){var o=Xl(G5e,{__v:t,i});return o.containerInfo=i,o}(Jx.prototype=new Ld).__a=function(t){var i=this,o=sY(i.__v),s=i.o.get(t);return s[0]++,function(a){var l=function(){i.props.revealOrder?(s.push(a),aY(i,t,s)):a()};o?o(l):l()}},Jx.prototype.render=function(t){this.u=null,this.o=new Map;var i=_f(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&i.reverse();for(var o=i.length;o--;)this.o.set(i[o],this.u=[1,0,this.u]);return t.children},Jx.prototype.componentDidUpdate=Jx.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(i,o){aY(t,o,i)})};var lY=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,q5e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,W5e=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,X5e=/[A-Z0-9]/g,Y5e=typeof document<"u",K5e=function(t){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};Ld.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ld.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(i){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:i})}})});var cY=en.event;function J5e(){}function e_e(){return this.cancelBubble}function t_e(){return this.defaultPrevented}en.event=function(t){return cY&&(t=cY(t)),t.persist=J5e,t.isPropagationStopped=e_e,t.isDefaultPrevented=t_e,t.nativeEvent=t};var n_e={enumerable:!1,configurable:!0,get:function(){return this.class}},uY=en.vnode;en.vnode=function(t){"string"==typeof t.type&&function(i){var o=i.props,s=i.type,a={};for(var l in o){var c=o[l];if(!("value"===l&&"defaultValue"in o&&null==c||Y5e&&"children"===l&&"noscript"===s||"class"===l||"className"===l)){var u=l.toLowerCase();"defaultValue"===l&&"value"in o&&null==o.value?l="value":"download"===l&&!0===c?c="":"ondoubleclick"===u?l="ondblclick":"onchange"!==u||"input"!==s&&"textarea"!==s||K5e(o.type)?"onfocus"===u?l="onfocusin":"onblur"===u?l="onfocusout":W5e.test(l)?l=u:-1===s.indexOf("-")&&q5e.test(l)?l=l.replace(X5e,"-$&").toLowerCase():null===c&&(c=void 0):u=l="oninput","oninput"===u&&a[l=u]&&(l="oninputCapture"),a[l]=c}}"select"==s&&a.multiple&&Array.isArray(a.value)&&(a.value=_f(o.children).forEach(function(p){p.props.selected=-1!=a.value.indexOf(p.props.value)})),"select"==s&&null!=a.defaultValue&&(a.value=_f(o.children).forEach(function(p){p.props.selected=a.multiple?-1!=a.defaultValue.indexOf(p.props.value):a.defaultValue==p.props.value})),o.class&&!o.className?(a.class=o.class,Object.defineProperty(a,"className",n_e)):(o.className&&!o.class||o.class&&o.className)&&(a.class=a.className=o.className),i.props=a}(t),t.$$typeof=lY,uY&&uY(t)};var dY=en.__r;en.__r=function(t){dY&&dY(t)};var pY=en.diffed;en.diffed=function(t){pY&&pY(t);var i=t.props,o=t.__e;null!=o&&"textarea"===t.type&&"value"in i&&i.value!==o.value&&(o.value=null==i.value?"":i.value)};var Me_createElement=Xl,b_e=0;function X(t,i,o,s,a,l){var c,u,p={};for(u in i)"ref"==u?c=i[u]:p[u]=i[u];var h={type:t,props:p,key:o,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--b_e,__i:-1,__u:0,__source:a,__self:l};if("function"==typeof t&&(c=t.defaultProps))for(u in c)void 0===p[u]&&(p[u]=c[u]);return en.vnode&&en.vnode(h),h}var w_e=Hn(709),Vi=Hn.n(w_e);function C_e(t,i){return i.forEach(function(o){o&&"string"!=typeof o&&!Array.isArray(o)&&Object.keys(o).forEach(function(s){if("default"!==s&&!(s in t)){var a=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return o[s]}})}})}),Object.freeze(t)}const S_e=Object.prototype.toString,D_e=Object.prototype.hasOwnProperty;function M_e(t,i){return D_e.call(t,i)}function gY(t,i){let o,s;if(function T_e(t){return void 0===t}(t))return;const a=function P_e(t){return"[object Array]"===S_e.call(t)}(t)?k_e:O_e;for(let l in t)if(M_e(t,l)&&(o=t[l],s=i(o,a(l)),!1===s))return o}function O_e(t){return t}function k_e(t){return Number(t)}function Zs(t,...i){const o=t.style;return gY(i,function(s){s&&gY(s,function(a,l){o[l]=a})}),t}function Na(t,i,o){return 2==arguments.length?t.getAttribute(i):null===o?t.removeAttribute(i):(t.setAttribute(i,o),t)}const A_e=Object.prototype.toString;function Ns(t){return new Sm(t)}function Sm(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function GD(t){for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);return t}function ew(t,i){return t&&"function"==typeof t.matches&&t.matches(i)}function Cf(t,i,o){for(var s=o?t:t.parentNode;s&&s.nodeType!==document.DOCUMENT_NODE&&s.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(ew(s,i))return s;s=s.parentNode}return ew(s,i)?s:null}Sm.prototype.add=function(t){return this.list.add(t),this},Sm.prototype.remove=function(t){return"[object RegExp]"==A_e.call(t)?this.removeMatching(t):(this.list.remove(t),this)},Sm.prototype.removeMatching=function(t){const i=this.array();for(let o=0;o<i.length;o++)t.test(i[o])&&this.remove(i[o]);return this},Sm.prototype.toggle=function(t,i){return typeof i<"u"?i!==this.list.toggle(t,i)&&this.list.toggle(t):this.list.toggle(t),this},Sm.prototype.array=function(){return Array.from(this.list)},Sm.prototype.has=Sm.prototype.contains=function(t){return this.list.contains(t)};var WD,CI,SI,qD={};function vY(){WD=window.addEventListener?"addEventListener":"attachEvent",CI=window.removeEventListener?"removeEventListener":"detachEvent",SI="addEventListener"!==WD?"on":""}var XD,hn=C_e({__proto__:null,bind:qD.bind=function(t,i,o,s){return WD||vY(),t[WD](SI+i,o,s||!1),o},unbind:qD.unbind=function(t,i,o,s){return CI||vY(),t[CI](SI+i,o,s||!1),o},default:qD},[qD]),yY=["focus","blur"],La={bind:function N_e(t,i,o,s,a){return-1!==yY.indexOf(o)&&(a=!0),hn.bind(t,o,function(l){l.delegateTarget=Cf(l.target||l.srcElement,i,!0),l.delegateTarget&&s.call(t,l)},a)},unbind:function L_e(t,i,o,s){return-1!==yY.indexOf(i)&&(s=!0),hn.unbind(t,i,o,s)}},bY=!1;typeof document<"u"&&((XD=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',bY=!XD.getElementsByTagName("link").length,XD=void 0);var Zo={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:bY?[1,"X<div>","</div>"]:[0,"",""]};Zo.td=Zo.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Zo.option=Zo.optgroup=[1,'<select multiple="multiple">',"</select>"],Zo.thead=Zo.tbody=Zo.colgroup=Zo.caption=Zo.tfoot=[1,"<table>","</table>"],Zo.polyline=Zo.ellipse=Zo.polygon=Zo.circle=Zo.text=Zo.line=Zo.path=Zo.rect=Zo.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var fi=function B_e(t,i){if("string"!=typeof t)throw new TypeError("String expected");i||(i=document);var o=/<([\w:]+)/.exec(t);if(!o)return i.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var s=o[1];if("body"==s)return(p=i.createElement("html")).innerHTML=t,p.removeChild(p.lastChild);var p,a=Object.prototype.hasOwnProperty.call(Zo,s)?Zo[s]:Zo._default,l=a[0],c=a[1],u=a[2];for((p=i.createElement("div")).innerHTML=c+t+u;l--;)p=p.lastChild;if(p.firstChild==p.lastChild)return p.removeChild(p.firstChild);for(var h=i.createDocumentFragment();p.firstChild;)h.appendChild(p.removeChild(p.firstChild));return h};function tr(t,i){return(i=i||document).querySelector(t)}function YD(t,i){return(i=i||document).querySelectorAll(t)}function Bd(t){t.parentNode&&t.parentNode.removeChild(t)}const _Y=1024;let V_e=0;class pu{constructor(i,o){this.from=i,this.to=o}}class $n{constructor(i={}){this.id=V_e++,this.perNode=!!i.perNode,this.deserialize=i.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(i){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof i&&(i=hs.match(i)),o=>{let s=i(o);return void 0===s?null:[this,s]}}}$n.closedBy=new $n({deserialize:t=>t.split(" ")}),$n.openedBy=new $n({deserialize:t=>t.split(" ")}),$n.group=new $n({deserialize:t=>t.split(" ")}),$n.isolate=new $n({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),$n.contextHash=new $n({perNode:!0}),$n.lookAhead=new $n({perNode:!0}),$n.mounted=new $n({perNode:!0});class tw{constructor(i,o,s){this.tree=i,this.overlay=o,this.parser=s}static get(i){return i&&i.props&&i.props[$n.mounted.id]}}const j_e=Object.create(null);class hs{constructor(i,o,s,a=0){this.name=i,this.props=o,this.id=s,this.flags=a}static define(i){let o=i.props&&i.props.length?Object.create(null):j_e,a=new hs(i.name||"",o,i.id,(i.top?1:0)|(i.skipped?2:0)|(i.error?4:0)|(null==i.name?8:0));if(i.props)for(let l of i.props)if(Array.isArray(l)||(l=l(a)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");o[l[0].id]=l[1]}return a}prop(i){return this.props[i.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(i){if("string"==typeof i){if(this.name==i)return!0;let o=this.prop($n.group);return!!o&&o.indexOf(i)>-1}return this.id==i}static match(i){let o=Object.create(null);for(let s in i)for(let a of s.split(" "))o[a]=i[s];return s=>{for(let a=s.prop($n.group),l=-1;l<(a?a.length:0);l++){let c=o[l<0?s.name:a[l]];if(c)return c}}}}hs.none=new hs("",Object.create(null),0,8);class H3{constructor(i){this.types=i;for(let o=0;o<i.length;o++)if(i[o].id!=o)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...i){let o=[];for(let s of this.types){let a=null;for(let l of i){let c=l(s);c&&(a||(a=Object.assign({},s.props)),a[c[0].id]=c[1])}o.push(a?new hs(s.name,a,s.id,s.flags):s)}return new H3(o)}}const KD=new WeakMap,EY=new WeakMap;var So=function(t){return t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t}(So||{});class Pr{constructor(i,o,s,a,l){if(this.type=i,this.children=o,this.positions=s,this.length=a,this.props=null,l&&l.length){this.props=Object.create(null);for(let[c,u]of l)this.props["number"==typeof c?c:c.id]=u}}toString(){let i=tw.get(this);if(i&&!i.overlay)return i.tree.toString();let o="";for(let s of this.children){let a=s.toString();a&&(o&&(o+=","),o+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(o.length?"("+o+")":""):o}cursor(i=0){return new QD(this.topNode,i)}cursorAt(i,o=0,s=0){let a=KD.get(this)||this.topNode,l=new QD(a);return l.moveTo(i,o),KD.set(this,l._tree),l}get topNode(){return new Fa(this,0,0,null)}resolve(i,o=0){let s=nw(KD.get(this)||this.topNode,i,o,!1);return KD.set(this,s),s}resolveInner(i,o=0){let s=nw(EY.get(this)||this.topNode,i,o,!0);return EY.set(this,s),s}resolveStack(i,o=0){return function H_e(t,i,o){let s=t.resolveInner(i,o),a=null;for(let l=s instanceof Fa?s:s.context.parent;l;l=l.parent)if(l.index<0){let c=l.parent;(a||(a=[s])).push(c.resolve(i,o)),l=c}else{let c=tw.get(l.tree);if(c&&c.overlay&&c.overlay[0].from<=i&&c.overlay[c.overlay.length-1].to>=i){let u=new Fa(c.tree,c.overlay[0].from+l.from,-1,l);(a||(a=[s])).push(nw(u,i,o,!1))}}return a?SY(a):s}(this,i,o)}iterate(i){let{enter:o,leave:s,from:a=0,to:l=this.length}=i,c=i.mode||0,u=(c&So.IncludeAnonymous)>0;for(let p=this.cursor(c|So.IncludeAnonymous);;){let h=!1;if(p.from<=l&&p.to>=a&&(!u&&p.type.isAnonymous||!1!==o(p))){if(p.firstChild())continue;h=!0}for(;h&&s&&(u||!p.type.isAnonymous)&&s(p),!p.nextSibling();){if(!p.parent())return;h=!0}}}prop(i){return i.perNode?this.props?this.props[i.id]:void 0:this.type.prop(i)}get propValues(){let i=[];if(this.props)for(let o in this.props)i.push([+o,this.props[o]]);return i}balance(i={}){return this.children.length<=8?this:MI(hs.none,this.children,this.positions,0,this.children.length,0,this.length,(o,s,a)=>new Pr(this.type,o,s,a,this.propValues),i.makeTree||((o,s,a)=>new Pr(hs.none,o,s,a)))}static build(i){return function U_e(t){var i;let{buffer:o,nodeSet:s,maxBufferLength:a=_Y,reused:l=[],minRepeatType:c=s.types.length}=t,u=Array.isArray(o)?new DI(o,o.length):o,p=s.types,h=0,g=0;function y(q,ee,ae,te,ne,he){let{id:Ce,start:fe,end:ye,size:Fe}=u,_t=g;for(;Fe<0;){if(u.next(),-1==Fe)return ae.push(l[Ce]),void te.push(fe-q);if(-3==Fe)return void(h=Ce);if(-4==Fe)return void(g=Ce);throw new RangeError(`Unrecognized record size: ${Fe}`)}let Pt,Bt,xt=p[Ce],pe=fe-q;if(ye-fe<=a&&(Bt=function A(q,ee){let ae=u.fork(),te=0,ne=0,he=0,Ce=ae.end-a,fe={size:0,start:0,skip:0};e:for(let ye=ae.pos-q;ae.pos>ye;){let Fe=ae.size;if(ae.id==ee&&Fe>=0){fe.size=te,fe.start=ne,fe.skip=he,he+=4,te+=4,ae.next();continue}let _t=ae.pos-Fe;if(Fe<0||_t<ye||ae.start<Ce)break;let xt=ae.id>=c?4:0,Pt=ae.start;for(ae.next();ae.pos>_t;){if(ae.size<0){if(-3!=ae.size)break e;xt+=4}else ae.id>=c&&(xt+=4);ae.next()}ne=Pt,te+=Fe,he+=xt}return(ee<0||te==q)&&(fe.size=te,fe.start=ne,fe.skip=he),fe.size>4?fe:void 0}(u.pos-ee,ne))){let U=new Uint16Array(Bt.size-Bt.skip),Se=u.pos-Bt.size,ke=U.length;for(;u.pos>Se;)ke=F(Bt.start,U,ke);Pt=new Dm(U,ye-Bt.start,s),pe=Bt.start-q}else{let U=u.pos-Fe;u.next();let Se=[],ke=[],Pe=Ce>=c?Ce:-1,Be=0,tt=ye;for(;u.pos>U;)Pe>=0&&u.id==Pe&&u.size>=0?(u.end<=tt-a&&(D(Se,ke,fe,Be,u.end,tt,Pe,_t),Be=Se.length,tt=u.end),u.next()):he>2500?E(fe,U,Se,ke):y(fe,U,Se,ke,Pe,he+1);if(Pe>=0&&Be>0&&Be<Se.length&&D(Se,ke,fe,Be,fe,tt,Pe,_t),Se.reverse(),ke.reverse(),Pe>-1&&Be>0){let Mn=function C(q){return(ee,ae,te)=>{let Ce,fe,ne=0,he=ee.length-1;if(he>=0&&(Ce=ee[he])instanceof Pr){if(!he&&Ce.type==q&&Ce.length==te)return Ce;(fe=Ce.prop($n.lookAhead))&&(ne=ae[he]+Ce.length+fe)}return O(q,ee,ae,te,ne)}}(xt);Pt=MI(xt,Se,ke,0,Se.length,0,ye-fe,Mn,Mn)}else Pt=O(xt,Se,ke,ye-fe,_t-ye)}ae.push(Pt),te.push(pe)}function E(q,ee,ae,te){let ne=[],he=0,Ce=-1;for(;u.pos>ee;){let{id:fe,start:ye,end:Fe,size:_t}=u;if(_t>4)u.next();else{if(Ce>-1&&ye<Ce)break;Ce<0&&(Ce=Fe-a),ne.push(fe,ye,Fe),he++,u.next()}}if(he){let fe=new Uint16Array(4*he),ye=ne[ne.length-2];for(let Fe=ne.length-3,_t=0;Fe>=0;Fe-=3)fe[_t++]=ne[Fe],fe[_t++]=ne[Fe+1]-ye,fe[_t++]=ne[Fe+2]-ye,fe[_t++]=_t;ae.push(new Dm(fe,ne[2]-ye,s)),te.push(ye-q)}}function D(q,ee,ae,te,ne,he,Ce,fe){let ye=[],Fe=[];for(;q.length>te;)ye.push(q.pop()),Fe.push(ee.pop()+ae-ne);q.push(O(s.types[Ce],ye,Fe,he-ne,fe-he)),ee.push(ne-ae)}function O(q,ee,ae,te,ne=0,he){if(h){let Ce=[$n.contextHash,h];he=he?[Ce].concat(he):[Ce]}if(ne>25){let Ce=[$n.lookAhead,ne];he=he?[Ce].concat(he):[Ce]}return new Pr(q,ee,ae,te,he)}function F(q,ee,ae){let{id:te,start:ne,end:he,size:Ce}=u;if(u.next(),Ce>=0&&te<c){let fe=ae;if(Ce>4){let ye=u.pos-(Ce-4);for(;u.pos>ye;)ae=F(q,ee,ae)}ee[--ae]=fe,ee[--ae]=he-q,ee[--ae]=ne-q,ee[--ae]=te}else-3==Ce?h=te:-4==Ce&&(g=te);return ae}let N=[],B=[];for(;u.pos>0;)y(t.start||0,t.bufferStart||0,N,B,-1,0);let j=null!==(i=t.length)&&void 0!==i?i:N.length?B[0]+N[0].length:0;return new Pr(p[t.topID],N.reverse(),B.reverse(),j)}(i)}}Pr.empty=new Pr(hs.none,[],[],0);class DI{constructor(i,o){this.buffer=i,this.index=o}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new DI(this.buffer,this.index)}}class Dm{constructor(i,o,s){this.buffer=i,this.length=o,this.set=s}get type(){return hs.none}toString(){let i=[];for(let o=0;o<this.buffer.length;)i.push(this.childString(o)),o=this.buffer[o+3];return i.join(",")}childString(i){let s=this.buffer[i+3],a=this.set.types[this.buffer[i]],l=a.name;if(/\W/.test(l)&&!a.isError&&(l=JSON.stringify(l)),s==(i+=4))return l;let c=[];for(;i<s;)c.push(this.childString(i)),i=this.buffer[i+3];return l+"("+c.join(",")+")"}findChild(i,o,s,a,l){let{buffer:c}=this,u=-1;for(let p=i;p!=o&&!(xY(l,a,c[p+1],c[p+2])&&(u=p,s>0));p=c[p+3]);return u}slice(i,o,s){let a=this.buffer,l=new Uint16Array(o-i),c=0;for(let u=i,p=0;u<o;){l[p++]=a[u++],l[p++]=a[u++]-s;let h=l[p++]=a[u++]-s;l[p++]=a[u++]-i,c=Math.max(c,h)}return new Dm(l,c,this.set)}}function xY(t,i,o,s){switch(t){case-2:return o<i;case-1:return s>=i&&o<i;case 0:return o<i&&s>i;case 1:return o<=i&&s>i;case 2:return s>i;case 4:return!0}}function nw(t,i,o,s){for(var a;t.from==t.to||(o<1?t.from>=i:t.from>i)||(o>-1?t.to<=i:t.to<i);){let c=!s&&t instanceof Fa&&t.index<0?null:t.parent;if(!c)return t;t=c}let l=s?0:So.IgnoreOverlays;if(s)for(let c=t,u=c.parent;u;c=u,u=c.parent)c instanceof Fa&&c.index<0&&(null===(a=u.enter(i,o,l))||void 0===a?void 0:a.from)!=c.from&&(t=u);for(;;){let c=t.enter(i,o,l);if(!c)return t;t=c}}class wY{cursor(i=0){return new QD(this,i)}getChild(i,o=null,s=null){let a=CY(this,i,o,s);return a.length?a[0]:null}getChildren(i,o=null,s=null){return CY(this,i,o,s)}resolve(i,o=0){return nw(this,i,o,!1)}resolveInner(i,o=0){return nw(this,i,o,!0)}matchContext(i){return TI(this,i)}enterUnfinishedNodesBefore(i){let o=this.childBefore(i),s=this;for(;o;){let a=o.lastChild;if(!a||a.to!=o.to)break;a.type.isError&&a.from==a.to?(s=o,o=a.prevSibling):o=a}return s}get node(){return this}get next(){return this.parent}}class Fa extends wY{constructor(i,o,s,a){super(),this._tree=i,this.from=o,this.index=s,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(i,o,s,a,l=0){for(let c=this;;){for(let{children:u,positions:p}=c._tree,h=o>0?u.length:-1;i!=h;i+=o){let g=u[i],y=p[i]+c.from;if(xY(a,s,y,y+g.length))if(g instanceof Dm){if(l&So.ExcludeBuffers)continue;let E=g.findChild(0,g.buffer.length,o,s-y,a);if(E>-1)return new Vd(new $_e(c,g,i,y),null,E)}else if(l&So.IncludeAnonymous||!g.type.isAnonymous||PI(g)){let E;if(!(l&So.IgnoreMounts)&&(E=tw.get(g))&&!E.overlay)return new Fa(E.tree,y,i,c);let C=new Fa(g,y,i,c);return l&So.IncludeAnonymous||!C.type.isAnonymous?C:C.nextChild(o<0?g.children.length-1:0,o,s,a)}}if(l&So.IncludeAnonymous||!c.type.isAnonymous||(i=c.index>=0?c.index+o:o<0?-1:c._parent._tree.children.length,c=c._parent,!c))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(i){return this.nextChild(0,1,i,2)}childBefore(i){return this.nextChild(this._tree.children.length-1,-1,i,-2)}enter(i,o,s=0){let a;if(!(s&So.IgnoreOverlays)&&(a=tw.get(this._tree))&&a.overlay){let l=i-this.from;for(let{from:c,to:u}of a.overlay)if((o>0?c<=l:c<l)&&(o<0?u>=l:u>l))return new Fa(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,i,o,s)}nextSignificantParent(){let i=this;for(;i.type.isAnonymous&&i._parent;)i=i._parent;return i}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function CY(t,i,o,s){let a=t.cursor(),l=[];if(!a.firstChild())return l;if(null!=o)for(let c=!1;!c;)if(c=a.type.is(o),!a.nextSibling())return l;for(;;){if(null!=s&&a.type.is(s))return l;if(a.type.is(i)&&l.push(a.node),!a.nextSibling())return null==s?l:[]}}function TI(t,i,o=i.length-1){for(let s=t.parent;o>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(i[o]&&i[o]!=s.name)return!1;o--}}return!0}class $_e{constructor(i,o,s,a){this.parent=i,this.buffer=o,this.index=s,this.start=a}}class Vd extends wY{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(i,o,s){super(),this.context=i,this._parent=o,this.index=s,this.type=i.buffer.set.types[i.buffer.buffer[s]]}child(i,o,s){let{buffer:a}=this.context,l=a.findChild(this.index+4,a.buffer[this.index+3],i,o-this.context.start,s);return l<0?null:new Vd(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(i){return this.child(1,i,2)}childBefore(i){return this.child(-1,i,-2)}enter(i,o,s=0){if(s&So.ExcludeBuffers)return null;let{buffer:a}=this.context,l=a.findChild(this.index+4,a.buffer[this.index+3],o>0?1:-1,i-this.context.start,o);return l<0?null:new Vd(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(i){return this._parent?null:this.context.parent.nextChild(this.context.index+i,i,0,4)}get nextSibling(){let{buffer:i}=this.context,o=i.buffer[this.index+3];return o<(this._parent?i.buffer[this._parent.index+3]:i.buffer.length)?new Vd(this.context,this._parent,o):this.externalSibling(1)}get prevSibling(){let{buffer:i}=this.context,o=this._parent?this._parent.index+4:0;return this.index==o?this.externalSibling(-1):new Vd(this.context,this._parent,i.findChild(o,this.index,-1,0,4))}get tree(){return null}toTree(){let i=[],o=[],{buffer:s}=this.context,a=this.index+4,l=s.buffer[this.index+3];return l>a&&(i.push(s.slice(a,l,s.buffer[this.index+1])),o.push(0)),new Pr(this.type,i,o,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function SY(t){if(!t.length)return null;let i=0,o=t[0];for(let l=1;l<t.length;l++){let c=t[l];(c.from>o.from||c.to<o.to)&&(o=c,i=l)}let s=o instanceof Fa&&o.index<0?null:o.parent,a=t.slice();return s?a[i]=s:a.splice(i,1),new z_e(a,o)}class z_e{constructor(i,o){this.heads=i,this.node=o}get next(){return SY(this.heads)}}class QD{get name(){return this.type.name}constructor(i,o=0){if(this.mode=o,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,i instanceof Fa)this.yieldNode(i);else{this._tree=i.context.parent,this.buffer=i.context;for(let s=i._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=i,this.yieldBuf(i.index)}}yieldNode(i){return!!i&&(this._tree=i,this.type=i.type,this.from=i.from,this.to=i.to,!0)}yieldBuf(i,o){this.index=i;let{start:s,buffer:a}=this.buffer;return this.type=o||a.set.types[a.buffer[i]],this.from=s+a.buffer[i+1],this.to=s+a.buffer[i+2],!0}yield(i){return!!i&&(i instanceof Fa?(this.buffer=null,this.yieldNode(i)):(this.buffer=i.context,this.yieldBuf(i.index,i.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(i,o,s){if(!this.buffer)return this.yield(this._tree.nextChild(i<0?this._tree._tree.children.length-1:0,i,o,s,this.mode));let{buffer:a}=this.buffer,l=a.findChild(this.index+4,a.buffer[this.index+3],i,o-this.buffer.start,s);return!(l<0)&&(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(i){return this.enterChild(1,i,2)}childBefore(i){return this.enterChild(-1,i,-2)}enter(i,o,s=this.mode){return this.buffer?!(s&So.ExcludeBuffers)&&this.enterChild(1,i,o):this.yield(this._tree.enter(i,o,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&So.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let i=this.mode&So.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(i)}sibling(i){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+i,i,0,4,this.mode));let{buffer:o}=this.buffer,s=this.stack.length-1;if(i<0){let a=s<0?0:this.stack[s]+4;if(this.index!=a)return this.yieldBuf(o.findChild(a,this.index,-1,0,4))}else{let a=o.buffer[this.index+3];if(a<(s<0?o.buffer.length:o.buffer[this.stack[s]+3]))return this.yieldBuf(a)}return s<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+i,i,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(i){let o,s,{buffer:a}=this;if(a){if(i>0){if(this.index<a.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(a.buffer.buffer[l+3]<this.index)return!1;({index:o,parent:s}=a)}else({index:o,_parent:s}=this._tree);for(;s;({index:o,_parent:s}=s))if(o>-1)for(let l=o+i,c=i<0?-1:s._tree.children.length;l!=c;l+=i){let u=s._tree.children[l];if(this.mode&So.IncludeAnonymous||u instanceof Dm||!u.type.isAnonymous||PI(u))return!1}return!0}move(i,o){if(o&&this.enterChild(i,0,4))return!0;for(;;){if(this.sibling(i))return!0;if(this.atLastNode(i)||!this.parent())return!1}}next(i=!0){return this.move(1,i)}prev(i=!0){return this.move(-1,i)}moveTo(i,o=0){for(;(this.from==this.to||(o<1?this.from>=i:this.from>i)||(o>-1?this.to<=i:this.to<i))&&this.parent(););for(;this.enterChild(1,i,o););return this}get node(){if(!this.buffer)return this._tree;let i=this.bufferNode,o=null,s=0;if(i&&i.context==this.buffer)e:for(let a=this.index,l=this.stack.length;l>=0;){for(let c=i;c;c=c._parent)if(c.index==a){if(a==this.index)return c;o=c,s=l+1;break e}a=this.stack[--l]}for(let a=s;a<this.stack.length;a++)o=new Vd(this.buffer,o,this.stack[a]);return this.bufferNode=new Vd(this.buffer,o,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(i,o){for(let s=0;;){let a=!1;if(this.type.isAnonymous||!1!==i(this)){if(this.firstChild()){s++;continue}this.type.isAnonymous||(a=!0)}for(;a&&o&&o(this),a=this.type.isAnonymous,!this.nextSibling();){if(!s)return;this.parent(),s--,a=!0}}}matchContext(i){if(!this.buffer)return TI(this.node,i);let{buffer:o}=this.buffer,{types:s}=o.set;for(let a=i.length-1,l=this.stack.length-1;a>=0;l--){if(l<0)return TI(this.node,i,a);let c=s[o.buffer[this.stack[l]]];if(!c.isAnonymous){if(i[a]&&i[a]!=c.name)return!1;a--}}return!0}}function PI(t){return t.children.some(i=>i instanceof Dm||!i.type.isAnonymous||PI(i))}const DY=new WeakMap;function ZD(t,i){if(!t.isAnonymous||i instanceof Dm||i.type!=t)return 1;let o=DY.get(i);if(null==o){o=1;for(let s of i.children){if(s.type!=t||!(s instanceof Pr)){o=1;break}o+=ZD(t,s)}DY.set(i,o)}return o}function MI(t,i,o,s,a,l,c,u,p){let h=0;for(let D=s;D<a;D++)h+=ZD(t,i[D]);let g=Math.ceil(1.5*h/8),y=[],E=[];return function C(D,O,A,F,N){for(let B=A;B<F;){let j=B,q=O[B],ee=ZD(t,D[B]);for(B++;B<F;B++){let ae=ZD(t,D[B]);if(ee+ae>=g)break;ee+=ae}if(B==j+1){if(ee>g){let ae=D[j];C(ae.children,ae.positions,0,ae.children.length,O[j]+N);continue}y.push(D[j])}else y.push(MI(t,D,O,j,B,q,O[B-1]+D[B-1].length-q,null,p));E.push(q+N-l)}}(i,o,s,a,0),(u||p)(y,E,c)}class Sf{constructor(i,o,s,a,l=!1,c=!1){this.from=i,this.to=o,this.tree=s,this.offset=a,this.open=(l?1:0)|(c?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(i,o=[],s=!1){let a=[new Sf(0,i.length,i,0,!1,s)];for(let l of o)l.to>i.length&&a.push(l);return a}static applyChanges(i,o,s=128){if(!o.length)return i;let a=[],l=1,c=i.length?i[0]:null;for(let u=0,p=0,h=0;;u++){let g=u<o.length?o[u]:null,y=g?g.fromA:1e9;if(y-p>=s)for(;c&&c.from<y;){let E=c;if(p>=E.from||y<=E.to||h){let C=Math.max(E.from,p)-h,D=Math.min(E.to,y)-h;E=C>=D?null:new Sf(C,D,E.tree,E.offset+h,u>0,!!g)}if(E&&a.push(E),c.to>y)break;c=l<i.length?i[l++]:null}if(!g)break;p=g.toA,h=g.toA-g.toB}return a}}class JD{startParse(i,o,s){return"string"==typeof i&&(i=new G_e(i)),s=s?s.length?s.map(a=>new pu(a.from,a.to)):[new pu(0,0)]:[new pu(0,i.length)],this.createParse(i,o||[],s)}parse(i,o,s){let a=this.startParse(i,o,s);for(;;){let l=a.advance();if(l)return l}}}class G_e{constructor(i){this.string=i}get length(){return this.string.length}chunk(i){return this.string.slice(i)}get lineChunks(){return!1}read(i,o){return this.string.slice(i,o)}}function q_e(t){return(i,o,s,a)=>new X_e(i,t,o,s,a)}class TY{constructor(i,o,s,a,l){this.parser=i,this.parse=o,this.overlay=s,this.target=a,this.from=l}}function PY(t){if(!t.length||t.some(i=>i.from>=i.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class W_e{constructor(i,o,s,a,l,c,u){this.parser=i,this.predicate=o,this.mounts=s,this.index=a,this.start=l,this.target=c,this.prev=u,this.depth=0,this.ranges=[]}}const OI=new $n({perNode:!0});class X_e{constructor(i,o,s,a,l){this.nest=o,this.input=s,this.fragments=a,this.ranges=l,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=i}advance(){if(this.baseParse){let s=this.baseParse.advance();if(!s)return null;if(this.baseParse=null,this.baseTree=s,this.startInner(),null!=this.stoppedAt)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let s=this.baseTree;return null!=this.stoppedAt&&(s=new Pr(s.type,s.children,s.positions,s.length,s.propValues.concat([[OI,this.stoppedAt]]))),s}let i=this.inner[this.innerDone],o=i.parse.advance();if(o){this.innerDone++;let s=Object.assign(Object.create(null),i.target.props);s[$n.mounted.id]=new tw(o,i.overlay,i.parser),i.target.props=s}return null}get parsedPos(){if(this.baseParse)return 0;let i=this.input.length;for(let o=this.innerDone;o<this.inner.length;o++)this.inner[o].from<i&&(i=Math.min(i,this.inner[o].parse.parsedPos));return i}stopAt(i){if(this.stoppedAt=i,this.baseParse)this.baseParse.stopAt(i);else for(let o=this.innerDone;o<this.inner.length;o++)this.inner[o].parse.stopAt(i)}startInner(){let i=new Q_e(this.fragments),o=null,s=null,a=new QD(new Fa(this.baseTree,this.ranges[0].from,0,null),So.IncludeAnonymous|So.IgnoreMounts);e:for(let l,c;;){let p,u=!0;if(null!=this.stoppedAt&&a.from>=this.stoppedAt)u=!1;else if(i.hasNode(a)){if(o){let h=o.mounts.find(g=>g.frag.from<=a.from&&g.frag.to>=a.to&&g.mount.overlay);if(h)for(let g of h.mount.overlay){let y=g.from+h.pos,E=g.to+h.pos;y>=a.from&&E<=a.to&&!o.ranges.some(C=>C.from<E&&C.to>y)&&o.ranges.push({from:y,to:E})}}u=!1}else if(s&&(c=Y_e(s.ranges,a.from,a.to)))u=2!=c;else if(!a.type.isAnonymous&&(l=this.nest(a,this.input))&&(a.from<a.to||!l.overlay)){a.tree||K_e(a);let h=i.findMounts(a.from,l.parser);if("function"==typeof l.overlay)o=new W_e(l.parser,l.overlay,h,this.inner.length,a.from,a.tree,o);else{let g=kY(this.ranges,l.overlay||(a.from<a.to?[new pu(a.from,a.to)]:[]));g.length&&PY(g),(g.length||!l.overlay)&&this.inner.push(new TY(l.parser,g.length?l.parser.startParse(this.input,AY(h,g),g):l.parser.startParse(""),l.overlay?l.overlay.map(y=>new pu(y.from-a.from,y.to-a.from)):null,a.tree,g.length?g[0].from:a.from)),l.overlay?g.length&&(s={ranges:g,depth:0,prev:s}):u=!1}}else o&&(p=o.predicate(a))&&(!0===p&&(p=new pu(a.from,a.to)),p.from<p.to&&o.ranges.push(p));if(u&&a.firstChild())o&&o.depth++,s&&s.depth++;else for(;!a.nextSibling();){if(!a.parent())break e;if(o&&! --o.depth){let h=kY(this.ranges,o.ranges);h.length&&(PY(h),this.inner.splice(o.index,0,new TY(o.parser,o.parser.startParse(this.input,AY(o.mounts,h),h),o.ranges.map(g=>new pu(g.from-o.start,g.to-o.start)),o.target,h[0].from))),o=o.prev}s&&! --s.depth&&(s=s.prev)}}}}function Y_e(t,i,o){for(let s of t){if(s.from>=o)break;if(s.to>i)return s.from<=i&&s.to>=o?2:1}return 0}function MY(t,i,o,s,a,l){if(i<o){let c=t.buffer[i+1];s.push(t.slice(i,o,c)),a.push(c-l)}}function K_e(t){let{node:i}=t,o=[],s=i.context.buffer;do{o.push(t.index),t.parent()}while(!t.tree);let a=t.tree,l=a.children.indexOf(s),c=a.children[l],u=c.buffer,p=[l];a.children[l]=function h(g,y,E,C,D,O){let A=o[O],F=[],N=[];MY(c,g,A,F,N,C);let B=u[A+1],j=u[A+2];p.push(F.length);let q=O?h(A+4,u[A+3],c.set.types[u[A]],B,j-B,O-1):i.toTree();return F.push(q),N.push(B-C),MY(c,u[A+3],y,F,N,C),new Pr(E,F,N,D)}(0,u.length,hs.none,0,c.length,o.length-1);for(let g of p)t.yield(new Fa(t.tree.children[g],t.tree.positions[g]+t.from,g,t._tree))}class OY{constructor(i,o){this.offset=o,this.done=!1,this.cursor=i.cursor(So.IncludeAnonymous|So.IgnoreMounts)}moveTo(i){let{cursor:o}=this,s=i-this.offset;for(;!this.done&&o.from<s;)o.to>=i&&o.enter(s,1,So.IgnoreOverlays|So.ExcludeBuffers)||o.next(!1)||(this.done=!0)}hasNode(i){if(this.moveTo(i.from),!this.done&&this.cursor.from+this.offset==i.from&&this.cursor.tree)for(let o=this.cursor.tree;;){if(o==i.tree)return!0;if(!(o.children.length&&0==o.positions[0]&&o.children[0]instanceof Pr))break;o=o.children[0]}return!1}}class Q_e{constructor(i){var o;if(this.fragments=i,this.curTo=0,this.fragI=0,i.length){let s=this.curFrag=i[0];this.curTo=null!==(o=s.tree.prop(OI))&&void 0!==o?o:s.to,this.inner=new OY(s.tree,-s.offset)}else this.curFrag=this.inner=null}hasNode(i){for(;this.curFrag&&i.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=i.from&&this.curTo>=i.to&&this.inner.hasNode(i)}nextFrag(){var i;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let o=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(i=o.tree.prop(OI))&&void 0!==i?i:o.to,this.inner=new OY(o.tree,-o.offset)}}findMounts(i,o){var s;let a=[];if(this.inner){this.inner.cursor.moveTo(i,1);for(let l=this.inner.cursor.node;l;l=l.parent){let c=null===(s=l.tree)||void 0===s?void 0:s.prop($n.mounted);if(c&&c.parser==o)for(let u=this.fragI;u<this.fragments.length;u++){let p=this.fragments[u];if(p.from>=l.to)break;p.tree==this.curFrag.tree&&a.push({frag:p,pos:l.from-p.offset,mount:c})}}}return a}}function kY(t,i){let o=null,s=i;for(let a=1,l=0;a<t.length;a++){let c=t[a-1].to,u=t[a].from;for(;l<s.length;l++){let p=s[l];if(p.from>=u)break;p.to<=c||(o||(s=o=i.slice()),p.from<c?(o[l]=new pu(p.from,c),p.to>u&&o.splice(l+1,0,new pu(u,p.to))):p.to>u?o[l--]=new pu(u,p.to):o.splice(l--,1))}}return s}function Z_e(t,i,o,s){let a=0,l=0,c=!1,u=!1,p=-1e9,h=[];for(;;){let g=a==t.length?1e9:c?t[a].to:t[a].from,y=l==i.length?1e9:u?i[l].to:i[l].from;if(c!=u){let E=Math.max(p,o),C=Math.min(g,y,s);E<C&&h.push(new pu(E,C))}if(p=Math.min(g,y),1e9==p)break;g==p&&(c?(c=!1,a++):c=!0),y==p&&(u?(u=!1,l++):u=!0)}return h}function AY(t,i){let o=[];for(let{pos:s,mount:a,frag:l}of t){let c=s+(a.overlay?a.overlay[0].from:0),u=c+a.tree.length,p=Math.max(l.from,c),h=Math.min(l.to,u);if(a.overlay){let y=Z_e(i,a.overlay.map(E=>new pu(E.from+s,E.to+s)),p,h);for(let E=0,C=p;;E++){let D=E==y.length,O=D?h:y[E].from;if(O>C&&o.push(new Sf(C,O,a.tree,-c,l.from>=C||l.openStart,l.to<=O||l.openEnd)),D)break;C=y[E].to}}else o.push(new Sf(p,h,a.tree,-c,l.from>=c||l.openStart,l.to<=u||l.openEnd))}return o}class eT{constructor(i,o,s,a,l,c,u,p,h,g=0,y){this.p=i,this.stack=o,this.state=s,this.reducePos=a,this.pos=l,this.score=c,this.buffer=u,this.bufferBase=p,this.curContext=h,this.lookAhead=g,this.parent=y}toString(){return`[${this.stack.filter((i,o)=>o%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(i,o,s=0){let a=i.parser.context;return new eT(i,[],o,s,s,0,[],0,a?new RY(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(i,o){this.stack.push(this.state,o,this.bufferBase+this.buffer.length),this.state=i}reduce(i){var o;let s=i>>19,a=65535&i,{parser:l}=this.p,c=l.dynamicPrecedence(a);if(c&&(this.score+=c),0==s)return this.pushState(l.getGoto(this.state,a,!0),this.reducePos),a<l.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,4,!0),void this.reduceContext(a,this.reducePos);let u=this.stack.length-3*(s-1)-(262144&i?6:0),p=u?this.stack[u-2]:this.p.ranges[0].from,h=this.reducePos-p;h>=2e3&&(null===(o=this.p.parser.nodeSet.types[a])||void 0===o||!o.isAnonymous)&&(p==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=p,this.p.lastBigReductionSize=h));let y=this.bufferBase+this.buffer.length-(u?this.stack[u-1]:0);if(a<l.minRepeatTerm||131072&i){let E=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,p,E,y+4,!0)}for(this.state=262144&i?this.stack[u]:l.getGoto(this.stack[u-3],a,!0);this.stack.length>u;)this.stack.pop();this.reduceContext(a,p)}storeNode(i,o,s,a=4,l=!1){if(0==i&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let c=this,u=this.buffer.length;if(0==u&&c.parent&&(u=c.bufferBase-c.parent.bufferBase,c=c.parent),u>0&&0==c.buffer[u-4]&&c.buffer[u-1]>-1){if(o==s)return;if(c.buffer[u-2]>=o)return void(c.buffer[u-2]=s)}}if(l&&this.pos!=s){let c=this.buffer.length;if(c>0&&0!=this.buffer[c-4])for(;c>0&&this.buffer[c-2]>s;)this.buffer[c]=this.buffer[c-4],this.buffer[c+1]=this.buffer[c-3],this.buffer[c+2]=this.buffer[c-2],this.buffer[c+3]=this.buffer[c-1],c-=4,a>4&&(a-=4);this.buffer[c]=i,this.buffer[c+1]=o,this.buffer[c+2]=s,this.buffer[c+3]=a}else this.buffer.push(i,o,s,a)}shift(i,o,s,a){if(131072&i)this.pushState(65535&i,this.pos);else if(262144&i)this.pos=a,this.shiftContext(o,s),o<=this.p.parser.maxNode&&this.buffer.push(o,s,a,4);else{let l=i,{parser:c}=this.p;(a>this.pos||o<=c.maxNode)&&(this.pos=a,c.stateFlag(l,1)||(this.reducePos=a)),this.pushState(l,s),this.shiftContext(o,s),o<=c.maxNode&&this.buffer.push(o,s,a,4)}}apply(i,o,s,a){65536&i?this.reduce(i):this.shift(i,o,s,a)}useNode(i,o){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=i)&&(this.p.reused.push(i),s++);let a=this.pos;this.reducePos=this.pos=a+i.length,this.pushState(o,a),this.buffer.push(s,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,i,this,this.p.stream.reset(this.pos-i.length)))}split(){let i=this,o=i.buffer.length;for(;o>0&&i.buffer[o-2]>i.reducePos;)o-=4;let s=i.buffer.slice(o),a=i.bufferBase+o;for(;i&&a==i.bufferBase;)i=i.parent;return new eT(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,a,this.curContext,this.lookAhead,i)}recoverByDelete(i,o){let s=i<=this.p.parser.maxNode;s&&this.storeNode(i,this.pos,o,4),this.storeNode(0,this.pos,o,s?8:4),this.pos=this.reducePos=o,this.score-=190}canShift(i){for(let o=new J_e(this);;){let s=this.p.parser.stateSlot(o.state,4)||this.p.parser.hasAction(o.state,i);if(0==s)return!1;if(!(65536&s))return!0;o.reduce(s)}}recoverByInsert(i){if(this.stack.length>=300)return[];let o=this.p.parser.nextStates(this.state);if(o.length>8||this.stack.length>=120){let a=[];for(let c,l=0;l<o.length;l+=2)(c=o[l+1])!=this.state&&this.p.parser.hasAction(c,i)&&a.push(o[l],c);if(this.stack.length<120)for(let l=0;a.length<8&&l<o.length;l+=2){let c=o[l+1];a.some((u,p)=>1&p&&u==c)||a.push(o[l],c)}o=a}let s=[];for(let a=0;a<o.length&&s.length<4;a+=2){let l=o[a+1];if(l==this.state)continue;let c=this.split();c.pushState(l,this.pos),c.storeNode(0,c.pos,c.pos,4,!0),c.shiftContext(o[a],this.pos),c.reducePos=this.pos,c.score-=200,s.push(c)}return s}forceReduce(){let{parser:i}=this.p,o=i.stateSlot(this.state,5);if(!(65536&o))return!1;if(!i.validAction(this.state,o)){let l=this.stack.length-3*(o>>19);if(l<0||i.getGoto(this.stack[l],65535&o,!1)<0){let c=this.findForcedReduction();if(null==c)return!1;o=c}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(o),!0}findForcedReduction(){let{parser:i}=this.p,o=[],s=(a,l)=>{if(!o.includes(a))return o.push(a),i.allActions(a,c=>{if(!(393216&c))if(65536&c){let u=(c>>19)-l;if(u>1){let p=65535&c,h=this.stack.length-3*u;if(h>=0&&i.getGoto(this.stack[h],p,!1)>=0)return u<<19|65536|p}}else{let u=s(c,l+1);if(null!=u)return u}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:i}=this.p;return 65535==i.data[i.stateSlot(this.state,1)]&&!i.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(i){if(this.state!=i.state||this.stack.length!=i.stack.length)return!1;for(let o=0;o<this.stack.length;o+=3)if(this.stack[o]!=i.stack[o])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(i){return this.p.parser.dialect.flags[i]}shiftContext(i,o){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,i,this,this.p.stream.reset(o)))}reduceContext(i,o){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,i,this,this.p.stream.reset(o)))}emitContext(){let i=this.buffer.length-1;(i<0||-3!=this.buffer[i])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let i=this.buffer.length-1;(i<0||-4!=this.buffer[i])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(i){if(i!=this.curContext.context){let o=new RY(this.curContext.tracker,i);o.hash!=this.curContext.hash&&this.emitContext(),this.curContext=o}}setLookAhead(i){i>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=i)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class RY{constructor(i,o){this.tracker=i,this.context=o,this.hash=i.strict?i.hash(o):0}}class J_e{constructor(i){this.start=i,this.state=i.state,this.stack=i.stack,this.base=this.stack.length}reduce(i){let o=65535&i,s=i>>19;0==s?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(s-1);let a=this.start.p.parser.getGoto(this.stack[this.base-3],o,!0);this.state=a}}class tT{constructor(i,o,s){this.stack=i,this.pos=o,this.index=s,this.buffer=i.buffer,0==this.index&&this.maybeNext()}static create(i,o=i.bufferBase+i.buffer.length){return new tT(i,o,o-i.bufferBase)}maybeNext(){let i=this.stack.parent;null!=i&&(this.index=this.stack.bufferBase-i.bufferBase,this.stack=i,this.buffer=i.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new tT(this.stack,this.pos,this.index)}}function rw(t,i=Uint16Array){if("string"!=typeof t)return t;let o=null;for(let s=0,a=0;s<t.length;){let l=0;for(;;){let c=t.charCodeAt(s++),u=!1;if(126==c){l=65535;break}c>=92&&c--,c>=34&&c--;let p=c-32;if(p>=46&&(p-=46,u=!0),l+=p,u)break;l*=46}o?o[a++]=l:o=new i(l)}return o}class nT{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const IY=new nT;class e4e{constructor(i,o){this.input=i,this.ranges=o,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=IY,this.rangeIndex=0,this.pos=this.chunkPos=o[0].from,this.range=o[0],this.end=o[o.length-1].to,this.readNext()}resolveOffset(i,o){let s=this.range,a=this.rangeIndex,l=this.pos+i;for(;l<s.from;){if(!a)return null;let c=this.ranges[--a];l-=s.from-c.to,s=c}for(;o<0?l>s.to:l>=s.to;){if(a==this.ranges.length-1)return null;let c=this.ranges[++a];l+=c.from-s.to,s=c}return l}clipPos(i){if(i>=this.range.from&&i<this.range.to)return i;for(let o of this.ranges)if(o.to>i)return Math.max(i,o.from);return this.end}peek(i){let s,a,o=this.chunkOff+i;if(o>=0&&o<this.chunk.length)s=this.pos+i,a=this.chunk.charCodeAt(o);else{let l=this.resolveOffset(i,1);if(null==l)return-1;if(s=l,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let c=this.rangeIndex,u=this.range;for(;u.to<=s;)u=this.ranges[++c];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-s)),a=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),a}acceptToken(i,o=0){let s=o?this.resolveOffset(o,-1):this.pos;if(null==s||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=i,this.token.end=s}acceptTokenTo(i,o){this.token.value=i,this.token.end=o}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:i,chunkPos:o}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=i,this.chunk2Pos=o,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let i=this.input.chunk(this.pos);this.chunk=this.pos+i.length>this.range.to?i.slice(0,this.range.to-this.pos):i,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(i=1){for(this.chunkOff+=i;this.pos+i>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();i-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=i,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(i,o){if(o?(this.token=o,o.start=i,o.lookAhead=i+1,o.value=o.extended=-1):this.token=IY,this.pos!=i){if(this.pos=i,i==this.end)return this.setDone(),this;for(;i<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;i>=this.range.to;)this.range=this.ranges[++this.rangeIndex];i>=this.chunkPos&&i<this.chunkPos+this.chunk.length?this.chunkOff=i-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(i,o){if(i>=this.chunkPos&&o<=this.chunkPos+this.chunk.length)return this.chunk.slice(i-this.chunkPos,o-this.chunkPos);if(i>=this.chunk2Pos&&o<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(i-this.chunk2Pos,o-this.chunk2Pos);if(i>=this.range.from&&o<=this.range.to)return this.input.read(i,o);let s="";for(let a of this.ranges){if(a.from>=o)break;a.to>i&&(s+=this.input.read(Math.max(a.from,i),Math.min(a.to,o)))}return s}}class U3{constructor(i,o){this.data=i,this.id=o}token(i,o){let{parser:s}=o.p;!function NY(t,i,o,s,a,l){let c=0,u=1<<s,{dialect:p}=o.p.parser;e:for(;u&t[c];){let h=t[c+1];for(let C=c+3;C<h;C+=2)if((t[C+1]&u)>0){let D=t[C];if(p.allows(D)&&(-1==i.token.value||i.token.value==D||n4e(D,i.token.value,a,l))){i.acceptToken(D);break}}let g=i.next,y=0,E=t[c+2];if(!(i.next<0&&E>y&&65535==t[h+3*E-3])){for(;y<E;){let C=y+E>>1,D=h+C+(C<<1);if(g<t[D])E=C;else{if(!(g>=(t[D+1]||65536))){c=t[D+2],i.advance();continue e}y=C+1}}break}c=t[h+3*E-1]}}(this.data,i,o,this.id,s.data,s.tokenPrecTable)}}U3.prototype.contextual=U3.prototype.fallback=U3.prototype.extend=!1,U3.prototype.fallback=U3.prototype.extend=!1;class G3{constructor(i,o={}){this.token=i,this.contextual=!!o.contextual,this.fallback=!!o.fallback,this.extend=!!o.extend}}function LY(t,i,o){for(let a,s=i;65535!=(a=t[s]);s++)if(a==o)return s-i;return-1}function n4e(t,i,o,s){let a=LY(o,s,i);return a<0||LY(o,s,t)<a}const Tc=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let kI=null;function FY(t,i,o){let s=t.cursor(So.IncludeAnonymous);for(s.moveTo(i);;)if(!(o<0?s.childBefore(i):s.childAfter(i)))for(;;){if((o<0?s.to<i:s.from>i)&&!s.type.isError)return o<0?Math.max(0,Math.min(s.to-1,i-25)):Math.min(t.length,Math.max(s.from+1,i+25));if(o<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return o<0?0:t.length}}class r4e{constructor(i,o){this.fragments=i,this.nodeSet=o,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let i=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(i){for(this.safeFrom=i.openStart?FY(i.tree,i.from+i.offset,1)-i.offset:i.from,this.safeTo=i.openEnd?FY(i.tree,i.to+i.offset,-1)-i.offset:i.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(i.tree),this.start.push(-i.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(i){if(i<this.nextStart)return null;for(;this.fragment&&this.safeTo<=i;)this.nextFragment();if(!this.fragment)return null;for(;;){let o=this.trees.length-1;if(o<0)return this.nextFragment(),null;let s=this.trees[o],a=this.index[o];if(a==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=s.children[a],c=this.start[o]+s.positions[a];if(c>i)return this.nextStart=c,null;if(l instanceof Pr){if(c==i){if(c<this.safeFrom)return null;let u=c+l.length;if(u<=this.safeTo){let p=l.prop($n.lookAhead);if(!p||u+p<this.fragment.to)return l}}this.index[o]++,c+l.length>=Math.max(this.safeFrom,i)&&(this.trees.push(l),this.start.push(c),this.index.push(0))}else this.index[o]++,this.nextStart=c+l.length}}}class i4e{constructor(i,o){this.stream=o,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=i.tokenizers.map(s=>new nT)}getActions(i){let o=0,s=null,{parser:a}=i.p,{tokenizers:l}=a,c=a.stateSlot(i.state,3),u=i.curContext?i.curContext.hash:0,p=0;for(let h=0;h<l.length;h++){if(!(1<<h&c))continue;let g=l[h],y=this.tokens[h];if((!s||g.fallback)&&((g.contextual||y.start!=i.pos||y.mask!=c||y.context!=u)&&(this.updateCachedToken(y,g,i),y.mask=c,y.context=u),y.lookAhead>y.end+25&&(p=Math.max(y.lookAhead,p)),0!=y.value)){let E=o;if(y.extended>-1&&(o=this.addActions(i,y.extended,y.end,o)),o=this.addActions(i,y.value,y.end,o),!g.extend&&(s=y,o>E))break}}for(;this.actions.length>o;)this.actions.pop();return p&&i.setLookAhead(p),!s&&i.pos==this.stream.end&&(s=new nT,s.value=i.p.parser.eofTerm,s.start=s.end=i.pos,o=this.addActions(i,s.value,s.end,o)),this.mainToken=s,this.actions}getMainToken(i){if(this.mainToken)return this.mainToken;let o=new nT,{pos:s,p:a}=i;return o.start=s,o.end=Math.min(s+1,a.stream.end),o.value=s==a.stream.end?a.parser.eofTerm:0,o}updateCachedToken(i,o,s){let a=this.stream.clipPos(s.pos);if(o.token(this.stream.reset(a,i),s),i.value>-1){let{parser:l}=s.p;for(let c=0;c<l.specialized.length;c++)if(l.specialized[c]==i.value){let u=l.specializers[c](this.stream.read(i.start,i.end),s);if(u>=0&&s.p.parser.dialect.allows(u>>1)){1&u?i.extended=u>>1:i.value=u>>1;break}}}else i.value=0,i.end=this.stream.clipPos(a+1)}putAction(i,o,s,a){for(let l=0;l<a;l+=3)if(this.actions[l]==i)return a;return this.actions[a++]=i,this.actions[a++]=o,this.actions[a++]=s,a}addActions(i,o,s,a){let{state:l}=i,{parser:c}=i.p,{data:u}=c;for(let p=0;p<2;p++)for(let h=c.stateSlot(l,p?2:1);;h+=3){if(65535==u[h]){if(1!=u[h+1]){0==a&&2==u[h+1]&&(a=this.putAction(Df(u,h+2),o,s,a));break}h=Df(u,h+2)}u[h]==o&&(a=this.putAction(Df(u,h+1),o,s,a))}return a}}class o4e{constructor(i,o,s,a){this.parser=i,this.input=o,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new e4e(o,a),this.tokens=new i4e(i,this.stream),this.topTerm=i.top[1];let{from:l}=a[0];this.stacks=[eT.start(this,i.top[0],l)],this.fragments=s.length&&this.stream.end-l>4*i.bufferLength?new r4e(s,i.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let a,l,i=this.stacks,o=this.minStackPos,s=this.stacks=[];if(this.bigReductionCount>300&&1==i.length){let[c]=i;for(;c.forceReduce()&&c.stack.length&&c.stack[c.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let c=0;c<i.length;c++){let u=i[c];for(;;){if(this.tokens.mainToken=null,u.pos>o)s.push(u);else{if(this.advanceStack(u,s,i))continue;{a||(a=[],l=[]),a.push(u);let p=this.tokens.getMainToken(u);l.push(p.value,p.end)}}break}}if(!s.length){let c=a&&function l4e(t){let i=null;for(let o of t){let s=o.p.stoppedAt;(o.pos==o.p.stream.end||null!=s&&o.pos>s)&&o.p.parser.stateFlag(o.state,2)&&(!i||i.score<o.score)&&(i=o)}return i}(a);if(c)return Tc&&console.log("Finish with "+this.stackID(c)),this.stackToTree(c);if(this.parser.strict)throw Tc&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+o);this.recovering||(this.recovering=5)}if(this.recovering&&a){let c=null!=this.stoppedAt&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,l,s);if(c)return Tc&&console.log("Force-finish "+this.stackID(c)),this.stackToTree(c.forceAll())}if(this.recovering){let c=1==this.recovering?1:3*this.recovering;if(s.length>c)for(s.sort((u,p)=>p.score-u.score);s.length>c;)s.pop();s.some(u=>u.reducePos>o)&&this.recovering--}else if(s.length>1){e:for(let c=0;c<s.length-1;c++){let u=s[c];for(let p=c+1;p<s.length;p++){let h=s[p];if(u.sameState(h)||u.buffer.length>500&&h.buffer.length>500){if(!((u.score-h.score||u.buffer.length-h.buffer.length)>0)){s.splice(c--,1);continue e}s.splice(p--,1)}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let c=1;c<s.length;c++)s[c].pos<this.minStackPos&&(this.minStackPos=s[c].pos);return null}stopAt(i){if(null!=this.stoppedAt&&this.stoppedAt<i)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=i}advanceStack(i,o,s){let a=i.pos,{parser:l}=this,c=Tc?this.stackID(i)+" -> ":"";if(null!=this.stoppedAt&&a>this.stoppedAt)return i.forceReduce()?i:null;if(this.fragments){let h=i.curContext&&i.curContext.tracker.strict,g=h?i.curContext.hash:0;for(let y=this.fragments.nodeAt(a);y;){let E=this.parser.nodeSet.types[y.type.id]==y.type?l.getGoto(i.state,y.type.id):-1;if(E>-1&&y.length&&(!h||(y.prop($n.contextHash)||0)==g))return i.useNode(y,E),Tc&&console.log(c+this.stackID(i)+` (via reuse of ${l.getName(y.type.id)})`),!0;if(!(y instanceof Pr)||0==y.children.length||y.positions[0]>0)break;let C=y.children[0];if(!(C instanceof Pr&&0==y.positions[0]))break;y=C}}let u=l.stateSlot(i.state,4);if(u>0)return i.reduce(u),Tc&&console.log(c+this.stackID(i)+` (via always-reduce ${l.getName(65535&u)})`),!0;if(i.stack.length>=8400)for(;i.stack.length>6e3&&i.forceReduce(););let p=this.tokens.getActions(i);for(let h=0;h<p.length;){let g=p[h++],y=p[h++],E=p[h++],C=h==p.length||!s,D=C?i:i.split(),O=this.tokens.mainToken;if(D.apply(g,y,O?O.start:D.pos,E),Tc&&console.log(c+this.stackID(D)+` (via ${65536&g?`reduce of ${l.getName(65535&g)}`:"shift"} for ${l.getName(y)} @ ${a}${D==i?"":", split"})`),C)return!0;D.pos>a?o.push(D):s.push(D)}return!1}advanceFully(i,o){let s=i.pos;for(;;){if(!this.advanceStack(i,null,null))return!1;if(i.pos>s)return BY(i,o),!0}}runRecovery(i,o,s){let a=null,l=!1;for(let c=0;c<i.length;c++){let u=i[c],p=o[c<<1],h=o[1+(c<<1)],g=Tc?this.stackID(u)+" -> ":"";if(u.deadEnd&&(l||(l=!0,u.restart(),Tc&&console.log(g+this.stackID(u)+" (restarted)"),this.advanceFully(u,s))))continue;let y=u.split(),E=g;for(let C=0;y.forceReduce()&&C<10&&(Tc&&console.log(E+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,s));C++)Tc&&(E=this.stackID(y)+" -> ");for(let C of u.recoverByInsert(p))Tc&&console.log(g+this.stackID(C)+" (via recover-insert)"),this.advanceFully(C,s);this.stream.end>u.pos?(h==u.pos&&(h++,p=0),u.recoverByDelete(p,h),Tc&&console.log(g+this.stackID(u)+` (via recover-delete ${this.parser.getName(p)})`),BY(u,s)):(!a||a.score<u.score)&&(a=u)}return a}stackToTree(i){return i.close(),Pr.build({buffer:tT.create(i),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:i.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(i){let o=(kI||(kI=new WeakMap)).get(i);return o||kI.set(i,o=String.fromCodePoint(this.nextStackID++)),o+i}}function BY(t,i){for(let o=0;o<i.length;o++){let s=i[o];if(s.pos==t.pos&&s.sameState(t))return void(i[o].score<t.score&&(i[o]=t))}i.push(t)}class s4e{constructor(i,o,s){this.source=i,this.flags=o,this.disabled=s}allows(i){return!this.disabled||0==this.disabled[i]}}const AI=t=>t;class a4e{constructor(i){this.start=i.start,this.shift=i.shift||AI,this.reduce=i.reduce||AI,this.reuse=i.reuse||AI,this.hash=i.hash||(()=>0),this.strict=!1!==i.strict}}class iw extends JD{constructor(i){if(super(),this.wrappers=[],14!=i.version)throw new RangeError(`Parser version (${i.version}) doesn't match runtime version (14)`);let o=i.nodeNames.split(" ");this.minRepeatTerm=o.length;for(let u=0;u<i.repeatNodeCount;u++)o.push("");let s=Object.keys(i.topRules).map(u=>i.topRules[u][1]),a=[];for(let u=0;u<o.length;u++)a.push([]);function l(u,p,h){a[u].push([p,p.deserialize(String(h))])}if(i.nodeProps)for(let u of i.nodeProps){let p=u[0];"string"==typeof p&&(p=$n[p]);for(let h=1;h<u.length;){let g=u[h++];if(g>=0)l(g,p,u[h++]);else{let y=u[h+-g];for(let E=-g;E>0;E--)l(u[h++],p,y);h++}}}this.nodeSet=new H3(o.map((u,p)=>hs.define({name:p>=this.minRepeatTerm?void 0:u,id:p,props:a[p],top:s.indexOf(p)>-1,error:0==p,skipped:i.skippedNodes&&i.skippedNodes.indexOf(p)>-1}))),i.propSources&&(this.nodeSet=this.nodeSet.extend(...i.propSources)),this.strict=!1,this.bufferLength=_Y;let c=rw(i.tokenData);this.context=i.context,this.specializerSpecs=i.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(VY),this.states=rw(i.states,Uint32Array),this.data=rw(i.stateData),this.goto=rw(i.goto),this.maxTerm=i.maxTerm,this.tokenizers=i.tokenizers.map(u=>"number"==typeof u?new U3(c,u):u),this.topRules=i.topRules,this.dialects=i.dialects||{},this.dynamicPrecedences=i.dynamicPrecedences||null,this.tokenPrecTable=i.tokenPrec,this.termNames=i.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(i,o,s){let a=new o4e(this,i,o,s);for(let l of this.wrappers)a=l(a,i,o,s);return a}getGoto(i,o,s=!1){let a=this.goto;if(o>=a[0])return-1;for(let l=a[o+1];;){let c=a[l++],u=1&c,p=a[l++];if(u&&s)return p;for(let h=l+(c>>1);l<h;l++)if(a[l]==i)return p;if(u)return-1}}hasAction(i,o){let s=this.data;for(let a=0;a<2;a++)for(let c,l=this.stateSlot(i,a?2:1);;l+=3){if(65535==(c=s[l])){if(1!=s[l+1]){if(2==s[l+1])return Df(s,l+2);break}c=s[l=Df(s,l+2)]}if(c==o||0==c)return Df(s,l+1)}return 0}stateSlot(i,o){return this.states[6*i+o]}stateFlag(i,o){return(this.stateSlot(i,0)&o)>0}validAction(i,o){return!!this.allActions(i,s=>s==o||null)}allActions(i,o){let s=this.stateSlot(i,4),a=s?o(s):void 0;for(let l=this.stateSlot(i,1);null==a;l+=3){if(65535==this.data[l]){if(1!=this.data[l+1])break;l=Df(this.data,l+2)}a=o(Df(this.data,l+1))}return a}nextStates(i){let o=[];for(let s=this.stateSlot(i,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=Df(this.data,s+2)}if(!(1&this.data[s+2])){let a=this.data[s+1];o.some((l,c)=>1&c&&l==a)||o.push(this.data[s],a)}}return o}configure(i){let o=Object.assign(Object.create(iw.prototype),this);if(i.props&&(o.nodeSet=this.nodeSet.extend(...i.props)),i.top){let s=this.topRules[i.top];if(!s)throw new RangeError(`Invalid top rule name ${i.top}`);o.top=s}return i.tokenizers&&(o.tokenizers=this.tokenizers.map(s=>{let a=i.tokenizers.find(l=>l.from==s);return a?a.to:s})),i.specializers&&(o.specializers=this.specializers.slice(),o.specializerSpecs=this.specializerSpecs.map((s,a)=>{let l=i.specializers.find(u=>u.from==s.external);if(!l)return s;let c=Object.assign(Object.assign({},s),{external:l.to});return o.specializers[a]=VY(c),c})),i.contextTracker&&(o.context=i.contextTracker),i.dialect&&(o.dialect=this.parseDialect(i.dialect)),null!=i.strict&&(o.strict=i.strict),i.wrap&&(o.wrappers=o.wrappers.concat(i.wrap)),null!=i.bufferLength&&(o.bufferLength=i.bufferLength),o}hasWrappers(){return this.wrappers.length>0}getName(i){return this.termNames?this.termNames[i]:String(i<=this.maxNode&&this.nodeSet.types[i].name||i)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(i){let o=this.dynamicPrecedences;return null==o?0:o[i]||0}parseDialect(i){let o=Object.keys(this.dialects),s=o.map(()=>!1);if(i)for(let l of i.split(" ")){let c=o.indexOf(l);c>=0&&(s[c]=!0)}let a=null;for(let l=0;l<o.length;l++)if(!s[l])for(let u,c=this.dialects[o[l]];65535!=(u=this.data[c++]);)(a||(a=new Uint8Array(this.maxTerm+1)))[u]=1;return new s4e(i,s,a)}static deserialize(i){return new iw(i)}}function Df(t,i){return t[i]|t[i+1]<<16}function VY(t){if(t.external){let i=t.extend?1:0;return(o,s)=>t.external(o,s)<<1|i}return t.get}let c4e=0;class b0{constructor(i,o,s){this.set=i,this.base=o,this.modified=s,this.id=c4e++}static define(i){if(i?.base)throw new Error("Can not derive from a modified tag");let o=new b0([],null,[]);if(o.set.push(o),i)for(let s of i.set)o.set.push(s);return o}static defineModifier(){let i=new rT;return o=>o.modified.indexOf(i)>-1?o:rT.get(o.base||o,o.modified.concat(i).sort((s,a)=>s.id-a.id))}}let u4e=0;class rT{constructor(){this.instances=[],this.id=u4e++}static get(i,o){if(!o.length)return i;let s=o[0].instances.find(u=>u.base==i&&function d4e(t,i){return t.length==i.length&&t.every((o,s)=>o==i[s])}(o,u.modified));if(s)return s;let a=[],l=new b0(a,i,o);for(let u of o)u.instances.push(l);let c=function p4e(t){let i=[[]];for(let o=0;o<t.length;o++)for(let s=0,a=i.length;s<a;s++)i.push(i[s].concat(t[o]));return i.sort((o,s)=>s.length-o.length)}(o);for(let u of i.set)if(!u.modified.length)for(let p of c)a.push(rT.get(u,p));return l}}function ow(t){let i=Object.create(null);for(let o in t){let s=t[o];Array.isArray(s)||(s=[s]);for(let a of o.split(" "))if(a){let l=[],c=2,u=a;for(let y=0;;){if("..."==u&&y>0&&y+3==a.length){c=1;break}let E=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!E)throw new RangeError("Invalid path: "+a);if(l.push("*"==E[0]?"":'"'==E[0][0]?JSON.parse(E[0]):E[0]),y+=E[0].length,y==a.length)break;let C=a[y++];if(y==a.length&&"!"==C){c=0;break}if("/"!=C)throw new RangeError("Invalid path: "+a);u=a.slice(y)}let p=l.length-1,h=l[p];if(!h)throw new RangeError("Invalid path: "+a);let g=new iT(s,c,p>0?l.slice(0,p):null);i[h]=g.sort(i[h])}}return jY.add(i)}const jY=new $n;class iT{constructor(i,o,s,a){this.tags=i,this.mode=o,this.context=s,this.next=a}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(i){return!i||i.depth<this.depth?(this.next=i,this):(i.next=this.sort(i.next),i)}get depth(){return this.context?this.context.length:0}}function $Y(t,i){let o=Object.create(null);for(let l of t)if(Array.isArray(l.tag))for(let c of l.tag)o[c.id]=l.class;else o[l.tag.id]=l.class;let{scope:s,all:a=null}=i||{};return{style:l=>{let c=a;for(let u of l)for(let p of u.set){let h=o[p.id];if(h){c=c?c+" "+h:h;break}}return c},scope:s}}function zY(t,i,o,s=0,a=t.length){let l=new h4e(s,Array.isArray(i)?i:[i],o);l.highlightRange(t.cursor(),s,a,"",l.highlighters),l.flush(a)}iT.empty=new iT([],2,null);class h4e{constructor(i,o,s){this.at=i,this.highlighters=o,this.span=s,this.class=""}startSpan(i,o){o!=this.class&&(this.flush(i),i>this.at&&(this.at=i),this.class=o)}flush(i){i>this.at&&this.class&&this.span(this.at,i,this.class)}highlightRange(i,o,s,a,l){let{type:c,from:u,to:p}=i;if(u>=s||p<=o)return;c.isTop&&(l=this.highlighters.filter(C=>!C.scope||C.scope(c)));let h=a,g=function m4e(t){let i=t.type.prop(jY);for(;i&&i.context&&!t.matchContext(i.context);)i=i.next;return i||null}(i)||iT.empty,y=function f4e(t,i){let o=null;for(let s of t){let a=s.style(i);a&&(o=o?o+" "+a:a)}return o}(l,g.tags);if(y&&(h&&(h+=" "),h+=y,1==g.mode&&(a+=(a?" ":"")+y)),this.startSpan(Math.max(o,u),h),g.opaque)return;let E=i.tree&&i.tree.prop($n.mounted);if(E&&E.overlay){let C=i.node.enter(E.overlay[0].from+u,1),D=this.highlighters.filter(A=>!A.scope||A.scope(E.tree.type)),O=i.firstChild();for(let A=0,F=u;;A++){let N=A<E.overlay.length?E.overlay[A]:null,B=N?N.from+u:p,j=Math.max(o,F),q=Math.min(s,B);if(j<q&&O)for(;i.from<q&&(this.highlightRange(i,j,q,a,l),this.startSpan(Math.min(q,i.to),h),!(i.to>=B)&&i.nextSibling()););if(!N||B>s)break;F=N.to+u,F>o&&(this.highlightRange(C.cursor(),Math.max(o,N.from+u),Math.min(s,F),"",D),this.startSpan(Math.min(s,F),h))}O&&i.parent()}else if(i.firstChild()){E&&(a="");do{if(!(i.to<=o)){if(i.from>=s)break;this.highlightRange(i,o,s,a,l),this.startSpan(Math.min(s,i.to),h)}}while(i.nextSibling());i.parent()}}}const At=b0.define,oT=At(),Tm=At(),HY=At(Tm),UY=At(Tm),Pm=At(),sT=At(Pm),RI=At(Pm),jd=At(),Vv=At(jd),$d=At(),zd=At(),II=At(),sw=At(II),aT=At(),ce={comment:oT,lineComment:At(oT),blockComment:At(oT),docComment:At(oT),name:Tm,variableName:At(Tm),typeName:HY,tagName:At(HY),propertyName:UY,attributeName:At(UY),className:At(Tm),labelName:At(Tm),namespace:At(Tm),macroName:At(Tm),literal:Pm,string:sT,docString:At(sT),character:At(sT),attributeValue:At(sT),number:RI,integer:At(RI),float:At(RI),bool:At(Pm),regexp:At(Pm),escape:At(Pm),color:At(Pm),url:At(Pm),keyword:$d,self:At($d),null:At($d),atom:At($d),unit:At($d),modifier:At($d),operatorKeyword:At($d),controlKeyword:At($d),definitionKeyword:At($d),moduleKeyword:At($d),operator:zd,derefOperator:At(zd),arithmeticOperator:At(zd),logicOperator:At(zd),bitwiseOperator:At(zd),compareOperator:At(zd),updateOperator:At(zd),definitionOperator:At(zd),typeOperator:At(zd),controlOperator:At(zd),punctuation:II,separator:At(II),bracket:sw,angleBracket:At(sw),squareBracket:At(sw),paren:At(sw),brace:At(sw),content:jd,heading:Vv,heading1:At(Vv),heading2:At(Vv),heading3:At(Vv),heading4:At(Vv),heading5:At(Vv),heading6:At(Vv),contentSeparator:At(jd),list:At(jd),quote:At(jd),emphasis:At(jd),strong:At(jd),link:At(jd),monospace:At(jd),strikethrough:At(jd),inserted:At(),deleted:At(),changed:At(),invalid:At(),meta:aT,documentMeta:At(aT),annotation:At(aT),processingInstruction:At(aT),definition:b0.defineModifier(),constant:b0.defineModifier(),function:b0.defineModifier(),standard:b0.defineModifier(),local:b0.defineModifier(),special:b0.defineModifier()};$Y([{tag:ce.link,class:"tok-link"},{tag:ce.heading,class:"tok-heading"},{tag:ce.emphasis,class:"tok-emphasis"},{tag:ce.strong,class:"tok-strong"},{tag:ce.keyword,class:"tok-keyword"},{tag:ce.atom,class:"tok-atom"},{tag:ce.bool,class:"tok-bool"},{tag:ce.url,class:"tok-url"},{tag:ce.labelName,class:"tok-labelName"},{tag:ce.inserted,class:"tok-inserted"},{tag:ce.deleted,class:"tok-deleted"},{tag:ce.literal,class:"tok-literal"},{tag:ce.string,class:"tok-string"},{tag:ce.number,class:"tok-number"},{tag:[ce.regexp,ce.escape,ce.special(ce.string)],class:"tok-string2"},{tag:ce.variableName,class:"tok-variableName"},{tag:ce.local(ce.variableName),class:"tok-variableName tok-local"},{tag:ce.definition(ce.variableName),class:"tok-variableName tok-definition"},{tag:ce.special(ce.variableName),class:"tok-variableName2"},{tag:ce.definition(ce.propertyName),class:"tok-propertyName tok-definition"},{tag:ce.typeName,class:"tok-typeName"},{tag:ce.namespace,class:"tok-namespace"},{tag:ce.className,class:"tok-className"},{tag:ce.macroName,class:"tok-macroName"},{tag:ce.propertyName,class:"tok-propertyName"},{tag:ce.operator,class:"tok-operator"},{tag:ce.comment,class:"tok-comment"},{tag:ce.meta,class:"tok-meta"},{tag:ce.invalid,class:"tok-invalid"},{tag:ce.punctuation,class:"tok-punctuation"}]);class ti{lineAt(i){if(i<0||i>this.length)throw new RangeError(`Invalid position ${i} in document of length ${this.length}`);return this.lineInner(i,!1,1,0)}line(i){if(i<1||i>this.lines)throw new RangeError(`Invalid line number ${i} in ${this.lines}-line document`);return this.lineInner(i,!0,1,0)}replace(i,o,s){[i,o]=q3(this,i,o);let a=[];return this.decompose(0,i,a,2),s.length&&s.decompose(0,s.length,a,3),this.decompose(o,this.length,a,1),Hd.from(a,this.length-(o-i)+s.length)}append(i){return this.replace(this.length,this.length,i)}slice(i,o=this.length){[i,o]=q3(this,i,o);let s=[];return this.decompose(i,o,s,0),Hd.from(s,o-i)}eq(i){if(i==this)return!0;if(i.length!=this.length||i.lines!=this.lines)return!1;let o=this.scanIdentical(i,1),s=this.length-this.scanIdentical(i,-1),a=new aw(this),l=new aw(i);for(let c=o,u=o;;){if(a.next(c),l.next(c),c=0,a.lineBreak!=l.lineBreak||a.done!=l.done||a.value!=l.value)return!1;if(u+=a.value.length,a.done||u>=s)return!0}}iter(i=1){return new aw(this,i)}iterRange(i,o=this.length){return new qY(this,i,o)}iterLines(i,o){let s;if(null==i)s=this.iter();else{null==o&&(o=this.lines+1);let a=this.line(i).from;s=this.iterRange(a,Math.max(a,o==this.lines+1?this.length:o<=1?0:this.line(o-1).to))}return new WY(s)}toString(){return this.sliceString(0)}toJSON(){let i=[];return this.flatten(i),i}constructor(){}static of(i){if(0==i.length)throw new RangeError("A document must have at least one line");return 1!=i.length||i[0]?i.length<=32?new Jo(i):Hd.from(Jo.split(i,[])):ti.empty}}class Jo extends ti{constructor(i,o=function g4e(t){let i=-1;for(let o of t)i+=o.length+1;return i}(i)){super(),this.text=i,this.length=o}get lines(){return this.text.length}get children(){return null}lineInner(i,o,s,a){for(let l=0;;l++){let c=this.text[l],u=a+c.length;if((o?s:u)>=i)return new v4e(a,u,s,c);a=u+1,s++}}decompose(i,o,s,a){let l=i<=0&&o>=this.length?this:new Jo(GY(this.text,i,o),Math.min(o,this.length)-Math.max(0,i));if(1&a){let c=s.pop(),u=lT(l.text,c.text.slice(),0,l.length);if(u.length<=32)s.push(new Jo(u,c.length+l.length));else{let p=u.length>>1;s.push(new Jo(u.slice(0,p)),new Jo(u.slice(p)))}}else s.push(l)}replace(i,o,s){if(!(s instanceof Jo))return super.replace(i,o,s);[i,o]=q3(this,i,o);let a=lT(this.text,lT(s.text,GY(this.text,0,i)),o),l=this.length+s.length-(o-i);return a.length<=32?new Jo(a,l):Hd.from(Jo.split(a,[]),l)}sliceString(i,o=this.length,s="\n"){[i,o]=q3(this,i,o);let a="";for(let l=0,c=0;l<=o&&c<this.text.length;c++){let u=this.text[c],p=l+u.length;l>i&&c&&(a+=s),i<p&&o>l&&(a+=u.slice(Math.max(0,i-l),o-l)),l=p+1}return a}flatten(i){for(let o of this.text)i.push(o)}scanIdentical(){return 0}static split(i,o){let s=[],a=-1;for(let l of i)s.push(l),a+=l.length+1,32==s.length&&(o.push(new Jo(s,a)),s=[],a=-1);return a>-1&&o.push(new Jo(s,a)),o}}class Hd extends ti{constructor(i,o){super(),this.children=i,this.length=o,this.lines=0;for(let s of i)this.lines+=s.lines}lineInner(i,o,s,a){for(let l=0;;l++){let c=this.children[l],u=a+c.length,p=s+c.lines-1;if((o?p:u)>=i)return c.lineInner(i,o,s,a);a=u+1,s=p+1}}decompose(i,o,s,a){for(let l=0,c=0;c<=o&&l<this.children.length;l++){let u=this.children[l],p=c+u.length;if(i<=p&&o>=c){let h=a&((c<=i?1:0)|(p>=o?2:0));c>=i&&p<=o&&!h?s.push(u):u.decompose(i-c,o-c,s,h)}c=p+1}}replace(i,o,s){if([i,o]=q3(this,i,o),s.lines<this.lines)for(let a=0,l=0;a<this.children.length;a++){let c=this.children[a],u=l+c.length;if(i>=l&&o<=u){let p=c.replace(i-l,o-l,s),h=this.lines-c.lines+p.lines;if(p.lines<h>>4&&p.lines>h>>6){let g=this.children.slice();return g[a]=p,new Hd(g,this.length-(o-i)+s.length)}return super.replace(l,u,p)}l=u+1}return super.replace(i,o,s)}sliceString(i,o=this.length,s="\n"){[i,o]=q3(this,i,o);let a="";for(let l=0,c=0;l<this.children.length&&c<=o;l++){let u=this.children[l],p=c+u.length;c>i&&l&&(a+=s),i<p&&o>c&&(a+=u.sliceString(i-c,o-c,s)),c=p+1}return a}flatten(i){for(let o of this.children)o.flatten(i)}scanIdentical(i,o){if(!(i instanceof Hd))return 0;let s=0,[a,l,c,u]=o>0?[0,0,this.children.length,i.children.length]:[this.children.length-1,i.children.length-1,-1,-1];for(;;a+=o,l+=o){if(a==c||l==u)return s;let p=this.children[a],h=i.children[l];if(p!=h)return s+p.scanIdentical(h,o);s+=p.length+1}}static from(i,o=i.reduce((s,a)=>s+a.length+1,-1)){let s=0;for(let C of i)s+=C.lines;if(s<32){let C=[];for(let D of i)D.flatten(C);return new Jo(C,o)}let a=Math.max(32,s>>5),l=a<<1,c=a>>1,u=[],p=0,h=-1,g=[];function y(C){let D;if(C.lines>l&&C instanceof Hd)for(let O of C.children)y(O);else C.lines>c&&(p>c||!p)?(E(),u.push(C)):C instanceof Jo&&p&&(D=g[g.length-1])instanceof Jo&&C.lines+D.lines<=32?(p+=C.lines,h+=C.length+1,g[g.length-1]=new Jo(D.text.concat(C.text),D.length+1+C.length)):(p+C.lines>a&&E(),p+=C.lines,h+=C.length+1,g.push(C))}function E(){0!=p&&(u.push(1==g.length?g[0]:Hd.from(g,h)),h=-1,p=g.length=0)}for(let C of i)y(C);return E(),1==u.length?u[0]:new Hd(u,o)}}function lT(t,i,o=0,s=1e9){for(let a=0,l=0,c=!0;l<t.length&&a<=s;l++){let u=t[l],p=a+u.length;p>=o&&(p>s&&(u=u.slice(0,s-a)),a<o&&(u=u.slice(o-a)),c?(i[i.length-1]+=u,c=!1):i.push(u)),a=p+1}return i}function GY(t,i,o){return lT(t,[""],i,o)}ti.empty=new Jo([""],0);class aw{constructor(i,o=1){this.dir=o,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[i],this.offsets=[o>0?1:(i instanceof Jo?i.text.length:i.children.length)<<1]}nextInner(i,o){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,a=this.nodes[s],l=this.offsets[s],c=l>>1;if(c==(o>0?a instanceof Jo?a.text.length:a.children.length:0)){if(0==s)return this.done=!0,this.value="",this;o>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&l)==(o>0?0:1)){if(this.offsets[s]+=o,0==i)return this.lineBreak=!0,this.value="\n",this;i--}else if(a instanceof Jo){let p=a.text[c+(o<0?-1:0)];if(this.offsets[s]+=o,p.length>Math.max(0,i))return this.value=0==i?p:o>0?p.slice(i):p.slice(0,p.length-i),this;i-=p.length}else{let p=a.children[c+(o<0?-1:0)];i>p.length?(i-=p.length,this.offsets[s]+=o):(o<0&&this.offsets[s]--,this.nodes.push(p),this.offsets.push(o>0?1:(p instanceof Jo?p.text.length:p.children.length)<<1))}}}next(i=0){return i<0&&(this.nextInner(-i,-this.dir),i=this.value.length),this.nextInner(i,this.dir)}}class qY{constructor(i,o,s){this.value="",this.done=!1,this.cursor=new aw(i,o>s?-1:1),this.pos=o>s?i.length:0,this.from=Math.min(o,s),this.to=Math.max(o,s)}nextInner(i,o){if(o<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;i+=Math.max(0,o<0?this.pos-this.to:this.from-this.pos);let s=o<0?this.pos-this.from:this.to-this.pos;i>s&&(i=s),s-=i;let{value:a}=this.cursor.next(i);return this.pos+=(a.length+i)*o,this.value=a.length<=s?a:o<0?a.slice(a.length-s):a.slice(0,s),this.done=!this.value,this}next(i=0){return i<0?i=Math.max(i,this.from-this.pos):i>0&&(i=Math.min(i,this.to-this.pos)),this.nextInner(i,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class WY{constructor(i){this.inner=i,this.afterBreak=!0,this.value="",this.done=!1}next(i=0){let{done:o,lineBreak:s,value:a}=this.inner.next(i);return o&&this.afterBreak?(this.value="",this.afterBreak=!1):o?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ti.prototype[Symbol.iterator]=function(){return this.iter()},aw.prototype[Symbol.iterator]=qY.prototype[Symbol.iterator]=WY.prototype[Symbol.iterator]=function(){return this});class v4e{constructor(i,o,s,a){this.from=i,this.to=o,this.number=s,this.text=a}get length(){return this.to-this.from}}function q3(t,i,o){return[i=Math.max(0,Math.min(t.length,i)),Math.max(i,Math.min(t.length,o))]}let W3="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<W3.length;t++)W3[t]+=W3[t-1];function y4e(t){for(let i=1;i<W3.length;i+=2)if(W3[i]>t)return W3[i-1]<=t;return!1}function XY(t){return t>=127462&&t<=127487}const YY=8205;function yl(t,i,o=!0,s=!0){return(o?KY:b4e)(t,i,s)}function KY(t,i,o){if(i==t.length)return i;i&&QY(t.charCodeAt(i))&&ZY(t.charCodeAt(i-1))&&i--;let s=bl(t,i);for(i+=_0(s);i<t.length;){let a=bl(t,i);if(s==YY||a==YY||o&&y4e(a))i+=_0(a),s=a;else{if(!XY(a))break;{let l=0,c=i-2;for(;c>=0&&XY(bl(t,c));)l++,c-=2;if(l%2==0)break;i+=2}}}return i}function b4e(t,i,o){for(;i>0;){let s=KY(t,i-2,o);if(s<i)return s;i--}return 0}function QY(t){return t>=56320&&t<57344}function ZY(t){return t>=55296&&t<56320}function bl(t,i){let o=t.charCodeAt(i);if(!ZY(o)||i+1==t.length)return o;let s=t.charCodeAt(i+1);return QY(s)?s-56320+(o-55296<<10)+65536:o}function JY(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function _0(t){return t<65536?1:2}const NI=/\r\n?|\n/;var ca=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(ca||(ca={}));class Ud{constructor(i){this.sections=i}get length(){let i=0;for(let o=0;o<this.sections.length;o+=2)i+=this.sections[o];return i}get newLength(){let i=0;for(let o=0;o<this.sections.length;o+=2){let s=this.sections[o+1];i+=s<0?this.sections[o]:s}return i}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(i){for(let o=0,s=0,a=0;o<this.sections.length;){let l=this.sections[o++],c=this.sections[o++];c<0?(i(s,a,l),a+=l):a+=c,s+=l}}iterChangedRanges(i,o=!1){LI(this,i,o)}get invertedDesc(){let i=[];for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++];a<0?i.push(s,a):i.push(a,s)}return new Ud(i)}composeDesc(i){return this.empty?i:i.empty?this:eK(this,i)}mapDesc(i,o=!1){return i.empty?this:FI(this,i,o)}mapPos(i,o=-1,s=ca.Simple){let a=0,l=0;for(let c=0;c<this.sections.length;){let u=this.sections[c++],p=this.sections[c++],h=a+u;if(p<0){if(h>i)return l+(i-a);l+=u}else{if(s!=ca.Simple&&h>=i&&(s==ca.TrackDel&&a<i&&h>i||s==ca.TrackBefore&&a<i||s==ca.TrackAfter&&h>i))return null;if(h>i||h==i&&o<0&&!u)return i==a||o<0?l:l+p;l+=p}a=h}if(i>a)throw new RangeError(`Position ${i} is out of range for changeset of length ${a}`);return l}touchesRange(i,o=i){for(let s=0,a=0;s<this.sections.length&&a<=o;){let u=a+this.sections[s++];if(this.sections[s++]>=0&&a<=o&&u>=i)return!(a<i&&u>o)||"cover";a=u}return!1}toString(){let i="";for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++];i+=(i?" ":"")+s+(a>=0?":"+a:"")}return i}toJSON(){return this.sections}static fromJSON(i){if(!Array.isArray(i)||i.length%2||i.some(o=>"number"!=typeof o))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ud(i)}static create(i){return new Ud(i)}}class Ls extends Ud{constructor(i,o){super(i),this.inserted=o}apply(i){if(this.length!=i.length)throw new RangeError("Applying change set to a document with the wrong length");return LI(this,(o,s,a,l,c)=>i=i.replace(a,a+(s-o),c),!1),i}mapDesc(i,o=!1){return FI(this,i,o,!0)}invert(i){let o=this.sections.slice(),s=[];for(let a=0,l=0;a<o.length;a+=2){let c=o[a],u=o[a+1];if(u>=0){o[a]=u,o[a+1]=c;let p=a>>1;for(;s.length<p;)s.push(ti.empty);s.push(c?i.slice(l,l+c):ti.empty)}l+=c}return new Ls(o,s)}compose(i){return this.empty?i:i.empty?this:eK(this,i,!0)}map(i,o=!1){return i.empty?this:FI(this,i,o,!0)}iterChanges(i,o=!1){LI(this,i,o)}get desc(){return Ud.create(this.sections)}filter(i){let o=[],s=[],a=[],l=new lw(this);e:for(let c=0,u=0;;){let p=c==i.length?1e9:i[c++];for(;u<p||u==p&&0==l.len;){if(l.done)break e;let g=Math.min(l.len,p-u);Ba(a,g,-1);let y=-1==l.ins?-1:0==l.off?l.ins:0;Ba(o,g,y),y>0&&Mm(s,o,l.text),l.forward(g),u+=g}let h=i[c++];for(;u<h;){if(l.done)break e;let g=Math.min(l.len,h-u);Ba(o,g,-1),Ba(a,g,-1==l.ins?-1:0==l.off?l.ins:0),l.forward(g),u+=g}}return{changes:new Ls(o,s),filtered:Ud.create(a)}}toJSON(){let i=[];for(let o=0;o<this.sections.length;o+=2){let s=this.sections[o],a=this.sections[o+1];i.push(a<0?s:0==a?[s]:[s].concat(this.inserted[o>>1].toJSON()))}return i}static of(i,o,s){let a=[],l=[],c=0,u=null;function p(g=!1){if(!g&&!a.length)return;c<o&&Ba(a,o-c,-1);let y=new Ls(a,l);u=u?u.compose(y.map(u)):y,a=[],l=[],c=0}return function h(g){if(Array.isArray(g))for(let y of g)h(y);else if(g instanceof Ls){if(g.length!=o)throw new RangeError(`Mismatched change set length (got ${g.length}, expected ${o})`);p(),u=u?u.compose(g.map(u)):g}else{let{from:y,to:E=y,insert:C}=g;if(y>E||y<0||E>o)throw new RangeError(`Invalid change range ${y} to ${E} (in doc of length ${o})`);let D=C?"string"==typeof C?ti.of(C.split(s||NI)):C:ti.empty,O=D.length;if(y==E&&0==O)return;y<c&&p(),y>c&&Ba(a,y-c,-1),Ba(a,E-y,O),Mm(l,a,D),c=E}}(i),p(!u),u}static empty(i){return new Ls(i?[i,-1]:[],[])}static fromJSON(i){if(!Array.isArray(i))throw new RangeError("Invalid JSON representation of ChangeSet");let o=[],s=[];for(let a=0;a<i.length;a++){let l=i[a];if("number"==typeof l)o.push(l,-1);else{if(!Array.isArray(l)||"number"!=typeof l[0]||l.some((c,u)=>u&&"string"!=typeof c))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==l.length)o.push(l[0],0);else{for(;s.length<a;)s.push(ti.empty);s[a]=ti.of(l.slice(1)),o.push(l[0],s[a].length)}}}return new Ls(o,s)}static createSet(i,o){return new Ls(i,o)}}function Ba(t,i,o,s=!1){if(0==i&&o<=0)return;let a=t.length-2;a>=0&&o<=0&&o==t[a+1]?t[a]+=i:0==i&&0==t[a]?t[a+1]+=o:s?(t[a]+=i,t[a+1]+=o):t.push(i,o)}function Mm(t,i,o){if(0==o.length)return;let s=i.length-2>>1;if(s<t.length)t[t.length-1]=t[t.length-1].append(o);else{for(;t.length<s;)t.push(ti.empty);t.push(o)}}function LI(t,i,o){let s=t.inserted;for(let a=0,l=0,c=0;c<t.sections.length;){let u=t.sections[c++],p=t.sections[c++];if(p<0)a+=u,l+=u;else{let h=a,g=l,y=ti.empty;for(;h+=u,g+=p,p&&s&&(y=y.append(s[c-2>>1])),!(o||c==t.sections.length||t.sections[c+1]<0);)u=t.sections[c++],p=t.sections[c++];i(a,h,l,g,y),a=h,l=g}}}function FI(t,i,o,s=!1){let a=[],l=s?[]:null,c=new lw(t),u=new lw(i);for(let p=-1;;)if(-1==c.ins&&-1==u.ins){let h=Math.min(c.len,u.len);Ba(a,h,-1),c.forward(h),u.forward(h)}else if(u.ins>=0&&(c.ins<0||p==c.i||0==c.off&&(u.len<c.len||u.len==c.len&&!o))){let h=u.len;for(Ba(a,u.ins,-1);h;){let g=Math.min(c.len,h);c.ins>=0&&p<c.i&&c.len<=g&&(Ba(a,0,c.ins),l&&Mm(l,a,c.text),p=c.i),c.forward(g),h-=g}u.next()}else{if(!(c.ins>=0)){if(c.done&&u.done)return l?Ls.createSet(a,l):Ud.create(a);throw new Error("Mismatched change set lengths")}{let h=0,g=c.len;for(;g;)if(-1==u.ins){let y=Math.min(g,u.len);h+=y,g-=y,u.forward(y)}else{if(!(0==u.ins&&u.len<g))break;g-=u.len,u.next()}Ba(a,h,p<c.i?c.ins:0),l&&p<c.i&&Mm(l,a,c.text),p=c.i,c.forward(c.len-g)}}}function eK(t,i,o=!1){let s=[],a=o?[]:null,l=new lw(t),c=new lw(i);for(let u=!1;;){if(l.done&&c.done)return a?Ls.createSet(s,a):Ud.create(s);if(0==l.ins)Ba(s,l.len,0,u),l.next();else if(0!=c.len||c.done){if(l.done||c.done)throw new Error("Mismatched change set lengths");{let p=Math.min(l.len2,c.len),h=s.length;if(-1==l.ins){let g=-1==c.ins?-1:c.off?0:c.ins;Ba(s,p,g,u),a&&g&&Mm(a,s,c.text)}else-1==c.ins?(Ba(s,l.off?0:l.len,p,u),a&&Mm(a,s,l.textBit(p))):(Ba(s,l.off?0:l.len,c.off?0:c.ins,u),a&&!c.off&&Mm(a,s,c.text));u=(l.ins>p||c.ins>=0&&c.len>p)&&(u||s.length>h),l.forward2(p),c.forward(p)}}else Ba(s,0,c.ins,u),a&&Mm(a,s,c.text),c.next()}}class lw{constructor(i){this.set=i,this.i=0,this.next()}next(){let{sections:i}=this.set;this.i<i.length?(this.len=i[this.i++],this.ins=i[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:i}=this.set,o=this.i-2>>1;return o>=i.length?ti.empty:i[o]}textBit(i){let{inserted:o}=this.set,s=this.i-2>>1;return s>=o.length&&!i?ti.empty:o[s].slice(this.off,null==i?void 0:this.off+i)}forward(i){i==this.len?this.next():(this.len-=i,this.off+=i)}forward2(i){-1==this.ins?this.forward(i):i==this.ins?this.next():(this.ins-=i,this.off+=i)}}class jv{constructor(i,o,s){this.from=i,this.to=o,this.flags=s}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let i=7&this.flags;return 7==i?null:i}get goalColumn(){let i=this.flags>>6;return 16777215==i?void 0:i}map(i,o=-1){let s,a;return this.empty?s=a=i.mapPos(this.from,o):(s=i.mapPos(this.from,1),a=i.mapPos(this.to,-1)),s==this.from&&a==this.to?this:new jv(s,a,this.flags)}extend(i,o=i){if(i<=this.anchor&&o>=this.anchor)return ct.range(i,o);let s=Math.abs(i-this.anchor)>Math.abs(o-this.anchor)?i:o;return ct.range(this.anchor,s)}eq(i,o=!1){return!(this.anchor!=i.anchor||this.head!=i.head||o&&this.empty&&this.assoc!=i.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(i){if(!i||"number"!=typeof i.anchor||"number"!=typeof i.head)throw new RangeError("Invalid JSON representation for SelectionRange");return ct.range(i.anchor,i.head)}static create(i,o,s){return new jv(i,o,s)}}class ct{constructor(i,o){this.ranges=i,this.mainIndex=o}map(i,o=-1){return i.empty?this:ct.create(this.ranges.map(s=>s.map(i,o)),this.mainIndex)}eq(i,o=!1){if(this.ranges.length!=i.ranges.length||this.mainIndex!=i.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(i.ranges[s],o))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new ct([this.main],0)}addRange(i,o=!0){return ct.create([i].concat(this.ranges),o?0:this.mainIndex+1)}replaceRange(i,o=this.mainIndex){let s=this.ranges.slice();return s[o]=i,ct.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(i=>i.toJSON()),main:this.mainIndex}}static fromJSON(i){if(!i||!Array.isArray(i.ranges)||"number"!=typeof i.main||i.main>=i.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ct(i.ranges.map(o=>jv.fromJSON(o)),i.main)}static single(i,o=i){return new ct([ct.range(i,o)],0)}static create(i,o=0){if(0==i.length)throw new RangeError("A selection needs at least one range");for(let s=0,a=0;a<i.length;a++){let l=i[a];if(l.empty?l.from<=s:l.from<s)return ct.normalized(i.slice(),o);s=l.to}return new ct(i,o)}static cursor(i,o=0,s,a){return jv.create(i,i,(0==o?0:o<0?8:16)|(null==s?7:Math.min(6,s))|(a??16777215)<<6)}static range(i,o,s,a){let l=(s??16777215)<<6|(null==a?7:Math.min(6,a));return o<i?jv.create(o,i,48|l):jv.create(i,o,(o>i?8:0)|l)}static normalized(i,o=0){let s=i[o];i.sort((a,l)=>a.from-l.from),o=i.indexOf(s);for(let a=1;a<i.length;a++){let l=i[a],c=i[a-1];if(l.empty?l.from<=c.to:l.from<c.to){let u=c.from,p=Math.max(l.to,c.to);a<=o&&o--,i.splice(--a,2,l.anchor>l.head?ct.range(p,u):ct.range(u,p))}}return new ct(i,o)}}function tK(t,i){for(let o of t.ranges)if(o.to>i)throw new RangeError("Selection points outside of document")}let BI=0;class Ht{constructor(i,o,s,a,l){this.combine=i,this.compareInput=o,this.compare=s,this.isStatic=a,this.id=BI++,this.default=i([]),this.extensions="function"==typeof l?l(this):l}get reader(){return this}static define(i={}){return new Ht(i.combine||(o=>o),i.compareInput||((o,s)=>o===s),i.compare||(i.combine?(o,s)=>o===s:VI),!!i.static,i.enables)}of(i){return new cT([],this,0,i)}compute(i,o){if(this.isStatic)throw new Error("Can't compute a static facet");return new cT(i,this,1,o)}computeN(i,o){if(this.isStatic)throw new Error("Can't compute a static facet");return new cT(i,this,2,o)}from(i,o){return o||(o=s=>s),this.compute([i],s=>o(s.field(i)))}}function VI(t,i){return t==i||t.length==i.length&&t.every((o,s)=>o===i[s])}class cT{constructor(i,o,s,a){this.dependencies=i,this.facet=o,this.type=s,this.value=a,this.id=BI++}dynamicSlot(i){var o;let s=this.value,a=this.facet.compareInput,l=this.id,c=i[l]>>1,u=2==this.type,p=!1,h=!1,g=[];for(let y of this.dependencies)"doc"==y?p=!0:"selection"==y?h=!0:1&(null!==(o=i[y.id])&&void 0!==o?o:1)||g.push(i[y.id]);return{create:y=>(y.values[c]=s(y),1),update(y,E){if(p&&E.docChanged||h&&(E.docChanged||E.selection)||jI(y,g)){let C=s(y);if(u?!nK(C,y.values[c],a):!a(C,y.values[c]))return y.values[c]=C,1}return 0},reconfigure:(y,E)=>{let C,D=E.config.address[l];if(null!=D){let O=dT(E,D);if(this.dependencies.every(A=>A instanceof Ht?E.facet(A)===y.facet(A):!(A instanceof Js)||E.field(A,!1)==y.field(A,!1))||(u?nK(C=s(y),O,a):a(C=s(y),O)))return y.values[c]=O,0}else C=s(y);return y.values[c]=C,1}}}}function nK(t,i,o){if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++)if(!o(t[s],i[s]))return!1;return!0}function jI(t,i){let o=!1;for(let s of i)1&dw(t,s)&&(o=!0);return o}function _4e(t,i,o){let s=o.map(p=>t[p.id]),a=o.map(p=>p.type),l=s.filter(p=>!(1&p)),c=t[i.id]>>1;function u(p){let h=[];for(let g=0;g<s.length;g++){let y=dT(p,s[g]);if(2==a[g])for(let E of y)h.push(E);else h.push(y)}return i.combine(h)}return{create(p){for(let h of s)dw(p,h);return p.values[c]=u(p),1},update(p,h){if(!jI(p,l))return 0;let g=u(p);return i.compare(g,p.values[c])?0:(p.values[c]=g,1)},reconfigure(p,h){let g=jI(p,s),y=h.config.facets[i.id],E=h.facet(i);if(y&&!g&&VI(o,y))return p.values[c]=E,0;let C=u(p);return i.compare(C,E)?(p.values[c]=E,0):(p.values[c]=C,1)}}}const rK=Ht.define({static:!0});class Js{constructor(i,o,s,a,l){this.id=i,this.createF=o,this.updateF=s,this.compareF=a,this.spec=l,this.provides=void 0}static define(i){let o=new Js(BI++,i.create,i.update,i.compare||((s,a)=>s===a),i);return i.provide&&(o.provides=i.provide(o)),o}create(i){let o=i.facet(rK).find(s=>s.field==this);return(o?.create||this.createF)(i)}slot(i){let o=i[this.id]>>1;return{create:s=>(s.values[o]=this.create(s),1),update:(s,a)=>{let l=s.values[o],c=this.updateF(l,a);return this.compareF(l,c)?0:(s.values[o]=c,1)},reconfigure:(s,a)=>null!=a.config.address[this.id]?(s.values[o]=a.field(this),0):(s.values[o]=this.create(s),1)}}init(i){return[this,rK.of({field:this,create:i})]}get extension(){return this}}function cw(t){return i=>new iK(i,t)}const zv={highest:cw(0),high:cw(1),default:cw(2),low:cw(3),lowest:cw(4)};class iK{constructor(i,o){this.inner=i,this.prec=o}}class uw{of(i){return new $I(this,i)}reconfigure(i){return uw.reconfigure.of({compartment:this,extension:i})}get(i){return i.config.compartments.get(this)}}class $I{constructor(i,o){this.compartment=i,this.inner=o}}class uT{constructor(i,o,s,a,l,c){for(this.base=i,this.compartments=o,this.dynamicSlots=s,this.address=a,this.staticValues=l,this.facets=c,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(i){let o=this.address[i.id];return null==o?i.default:this.staticValues[o>>1]}static resolve(i,o,s){let a=[],l=Object.create(null),c=new Map;for(let E of function E4e(t,i,o){let s=[[],[],[],[],[]],a=new Map;return function l(c,u){let p=a.get(c);if(null!=p){if(p<=u)return;let h=s[p].indexOf(c);h>-1&&s[p].splice(h,1),c instanceof $I&&o.delete(c.compartment)}if(a.set(c,u),Array.isArray(c))for(let h of c)l(h,u);else if(c instanceof $I){if(o.has(c.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=i.get(c.compartment)||c.inner;o.set(c.compartment,h),l(h,u)}else if(c instanceof iK)l(c.inner,c.prec);else if(c instanceof Js)s[u].push(c),c.provides&&l(c.provides,u);else if(c instanceof cT)s[u].push(c),c.facet.extensions&&l(c.facet.extensions,2);else{let h=c.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${c}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(h,u)}}(t,2),s.reduce((c,u)=>c.concat(u))}(i,o,c))E instanceof Js?a.push(E):(l[E.facet.id]||(l[E.facet.id]=[])).push(E);let u=Object.create(null),p=[],h=[];for(let E of a)u[E.id]=h.length<<1,h.push(C=>E.slot(C));let g=s?.config.facets;for(let E in l){let C=l[E],D=C[0].facet,O=g&&g[E]||[];if(C.every(A=>0==A.type))if(u[D.id]=p.length<<1|1,VI(O,C))p.push(s.facet(D));else{let A=D.combine(C.map(F=>F.value));p.push(s&&D.compare(A,s.facet(D))?s.facet(D):A)}else{for(let A of C)0==A.type?(u[A.id]=p.length<<1|1,p.push(A.value)):(u[A.id]=h.length<<1,h.push(F=>A.dynamicSlot(F)));u[D.id]=h.length<<1,h.push(A=>_4e(A,D,C))}}let y=h.map(E=>E(u));return new uT(i,c,y,u,p,l)}}function dw(t,i){if(1&i)return 2;let o=i>>1,s=t.status[o];if(4==s)throw new Error("Cyclic dependency between fields and/or facets");if(2&s)return s;t.status[o]=4;let a=t.computeSlot(t,t.config.dynamicSlots[o]);return t.status[o]=2|a}function dT(t,i){return 1&i?t.config.staticValues[i>>1]:t.values[i>>1]}const oK=Ht.define(),zI=Ht.define({combine:t=>t.some(i=>i),static:!0}),sK=Ht.define({combine:t=>t.length?t[0]:void 0,static:!0}),aK=Ht.define(),lK=Ht.define(),cK=Ht.define(),uK=Ht.define({combine:t=>!!t.length&&t[0]});class Tf{constructor(i,o){this.type=i,this.value=o}static define(){return new x4e}}class x4e{of(i){return new Tf(this,i)}}class w4e{constructor(i){this.map=i}of(i){return new ni(this,i)}}let ni=(()=>{class t{constructor(o,s){this.type=o,this.value=s}map(o){let s=this.type.map(this.value,o);return void 0===s?void 0:s==this.value?this:new t(this.type,s)}is(o){return this.type==o}static define(o={}){return new w4e(o.map||(s=>s))}static mapEffects(o,s){if(!o.length)return o;let a=[];for(let l of o){let c=l.map(s);c&&a.push(c)}return a}}return t.reconfigure=t.define(),t.appendConfig=t.define(),t})(),E0=(()=>{class t{constructor(o,s,a,l,c,u){this.startState=o,this.changes=s,this.selection=a,this.effects=l,this.annotations=c,this.scrollIntoView=u,this._doc=null,this._state=null,a&&tK(a,s.newLength),c.some(p=>p.type==t.time)||(this.annotations=c.concat(t.time.of(Date.now())))}static create(o,s,a,l,c,u){return new t(o,s,a,l,c,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(o){for(let s of this.annotations)if(s.type==o)return s.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(o){let s=this.annotation(t.userEvent);return!(!s||!(s==o||s.length>o.length&&s.slice(0,o.length)==o&&"."==s[o.length]))}}return t.time=Tf.define(),t.userEvent=Tf.define(),t.addToHistory=Tf.define(),t.remote=Tf.define(),t})();function C4e(t,i){let o=[];for(let s=0,a=0;;){let l,c;if(s<t.length&&(a==i.length||i[a]>=t[s]))l=t[s++],c=t[s++];else{if(!(a<i.length))return o;l=i[a++],c=i[a++]}!o.length||o[o.length-1]<l?o.push(l,c):o[o.length-1]<c&&(o[o.length-1]=c)}}function dK(t,i,o){var s;let a,l,c;return o?(a=i.changes,l=Ls.empty(i.changes.length),c=t.changes.compose(i.changes)):(a=i.changes.map(t.changes),l=t.changes.mapDesc(i.changes,!0),c=t.changes.compose(a)),{changes:c,selection:i.selection?i.selection.map(l):null===(s=t.selection)||void 0===s?void 0:s.map(a),effects:ni.mapEffects(t.effects,a).concat(ni.mapEffects(i.effects,l)),annotations:t.annotations.length?t.annotations.concat(i.annotations):i.annotations,scrollIntoView:t.scrollIntoView||i.scrollIntoView}}function HI(t,i,o){let s=i.selection,a=X3(i.annotations);return i.userEvent&&(a=a.concat(E0.userEvent.of(i.userEvent))),{changes:i.changes instanceof Ls?i.changes:Ls.of(i.changes||[],o,t.facet(sK)),selection:s&&(s instanceof ct?s:ct.single(s.anchor,s.head)),effects:X3(i.effects),annotations:a,scrollIntoView:!!i.scrollIntoView}}function pK(t,i,o){let s=HI(t,i.length?i[0]:{},t.doc.length);i.length&&!1===i[0].filter&&(o=!1);for(let l=1;l<i.length;l++){!1===i[l].filter&&(o=!1);let c=!!i[l].sequential;s=dK(s,HI(t,i[l],c?s.changes.newLength:t.doc.length),c)}let a=E0.create(t,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return function D4e(t){let i=t.startState,o=i.facet(cK),s=t;for(let a=o.length-1;a>=0;a--){let l=o[a](t);l&&Object.keys(l).length&&(s=dK(s,HI(i,l,t.changes.newLength),!0))}return s==t?t:E0.create(i,t.changes,t.selection,s.effects,s.annotations,s.scrollIntoView)}(o?function S4e(t){let i=t.startState,o=!0;for(let a of i.facet(aK)){let l=a(t);if(!1===l){o=!1;break}Array.isArray(l)&&(o=!0===o?l:C4e(o,l))}if(!0!==o){let a,l;if(!1===o)l=t.changes.invertedDesc,a=Ls.empty(i.doc.length);else{let c=t.changes.filter(o);a=c.changes,l=c.filtered.mapDesc(c.changes).invertedDesc}t=E0.create(i,a,t.selection&&t.selection.map(l),ni.mapEffects(t.effects,l),t.annotations,t.scrollIntoView)}let s=i.facet(lK);for(let a=s.length-1;a>=0;a--){let l=s[a](t);t=l instanceof E0?l:Array.isArray(l)&&1==l.length&&l[0]instanceof E0?l[0]:pK(i,X3(l),!1)}return t}(a):a)}const T4e=[];function X3(t){return null==t?T4e:Array.isArray(t)?t:[t]}var fu=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(fu||(fu={}));const P4e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let UI;try{UI=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let Pc=(()=>{class t{constructor(o,s,a,l,c,u){this.config=o,this.doc=s,this.selection=a,this.values=l,this.status=o.statusTemplate.slice(),this.computeSlot=c,u&&(u._state=this);for(let p=0;p<this.config.dynamicSlots.length;p++)dw(this,p<<1);this.computeSlot=null}field(o,s=!0){let a=this.config.address[o.id];if(null!=a)return dw(this,a),dT(this,a);if(s)throw new RangeError("Field is not present in this state")}update(...o){return pK(this,o,!0)}applyTransaction(o){let c,s=this.config,{base:a,compartments:l}=s;for(let p of o.effects)p.is(uw.reconfigure)?(s&&(l=new Map,s.compartments.forEach((h,g)=>l.set(g,h)),s=null),l.set(p.value.compartment,p.value.extension)):p.is(ni.reconfigure)?(s=null,a=p.value):p.is(ni.appendConfig)&&(s=null,a=X3(a).concat(p.value));s?c=o.startState.values.slice():(s=uT.resolve(a,l,this),c=new t(s,this.doc,this.selection,s.dynamicSlots.map(()=>null),(h,g)=>g.reconfigure(h,this),null).values);let u=o.startState.facet(zI)?o.newSelection:o.newSelection.asSingle();new t(s,o.newDoc,u,c,(p,h)=>h.update(p,o),o)}replaceSelection(o){return"string"==typeof o&&(o=this.toText(o)),this.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:o},range:ct.cursor(s.from+o.length)}))}changeByRange(o){let s=this.selection,a=o(s.ranges[0]),l=this.changes(a.changes),c=[a.range],u=X3(a.effects);for(let p=1;p<s.ranges.length;p++){let h=o(s.ranges[p]),g=this.changes(h.changes),y=g.map(l);for(let C=0;C<p;C++)c[C]=c[C].map(y);let E=l.mapDesc(g,!0);c.push(h.range.map(E)),l=l.compose(y),u=ni.mapEffects(u,y).concat(ni.mapEffects(X3(h.effects),E))}return{changes:l,selection:ct.create(c,s.mainIndex),effects:u}}changes(o=[]){return o instanceof Ls?o:Ls.of(o,this.doc.length,this.facet(t.lineSeparator))}toText(o){return ti.of(o.split(this.facet(t.lineSeparator)||NI))}sliceDoc(o=0,s=this.doc.length){return this.doc.sliceString(o,s,this.lineBreak)}facet(o){let s=this.config.address[o.id];return null==s?o.default:(dw(this,s),dT(this,s))}toJSON(o){let s={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(o)for(let a in o){let l=o[a];l instanceof Js&&null!=this.config.address[l.id]&&(s[a]=l.spec.toJSON(this.field(o[a]),this))}return s}static fromJSON(o,s={},a){if(!o||"string"!=typeof o.doc)throw new RangeError("Invalid JSON representation for EditorState");let l=[];if(a)for(let c in a)if(Object.prototype.hasOwnProperty.call(o,c)){let u=a[c],p=o[c];l.push(u.init(h=>u.spec.fromJSON(p,h)))}return t.create({doc:o.doc,selection:ct.fromJSON(o.selection),extensions:s.extensions?l.concat([s.extensions]):l})}static create(o={}){let s=uT.resolve(o.extensions||[],new Map),a=o.doc instanceof ti?o.doc:ti.of((o.doc||"").split(s.staticFacet(t.lineSeparator)||NI)),l=o.selection?o.selection instanceof ct?o.selection:ct.single(o.selection.anchor,o.selection.head):ct.single(0);return tK(l,a.length),s.staticFacet(zI)||(l=l.asSingle()),new t(s,a,l,s.dynamicSlots.map(()=>null),(c,u)=>u.create(c),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||"\n"}get readOnly(){return this.facet(uK)}phrase(o,...s){for(let a of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(a,o)){o=a[o];break}return s.length&&(o=o.replace(/\$(\$|\d*)/g,(a,l)=>{if("$"==l)return"$";let c=+(l||1);return!c||c>s.length?a:s[c-1]})),o}languageDataAt(o,s,a=-1){let l=[];for(let c of this.facet(oK))for(let u of c(this,s,a))Object.prototype.hasOwnProperty.call(u,o)&&l.push(u[o]);return l}charCategorizer(o){return function O4e(t){return i=>{if(!/\S/.test(i))return fu.Space;if(function M4e(t){if(UI)return UI.test(t);for(let i=0;i<t.length;i++){let o=t[i];if(/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||P4e.test(o)))return!0}return!1}(i))return fu.Word;for(let o=0;o<t.length;o++)if(i.indexOf(t[o])>-1)return fu.Word;return fu.Other}}(this.languageDataAt("wordChars",o).join(""))}wordAt(o){let{text:s,from:a,length:l}=this.doc.lineAt(o),c=this.charCategorizer(o),u=o-a,p=o-a;for(;u>0;){let h=yl(s,u,!1);if(c(s.slice(h,u))!=fu.Word)break;u=h}for(;p<l;){let h=yl(s,p);if(c(s.slice(p,h))!=fu.Word)break;p=h}return u==p?null:ct.range(u+a,p+a)}}return t.allowMultipleSelections=zI,t.tabSize=Ht.define({combine:i=>i.length?i[0]:4}),t.lineSeparator=sK,t.readOnly=uK,t.phrases=Ht.define({compare(i,o){let s=Object.keys(i),a=Object.keys(o);return s.length==a.length&&s.every(l=>i[l]==o[l])}}),t.languageData=oK,t.changeFilter=aK,t.transactionFilter=lK,t.transactionExtender=cK,t})();function Pf(t,i,o={}){let s={};for(let a of t)for(let l of Object.keys(a)){let c=a[l],u=s[l];if(void 0===u)s[l]=c;else if(u!==c&&void 0!==c){if(!Object.hasOwnProperty.call(o,l))throw new Error("Config merge conflict for field "+l);s[l]=o[l](u,c)}}for(let a in i)void 0===s[a]&&(s[a]=i[a]);return s}uw.reconfigure=ni.define();class Hv{eq(i){return this==i}range(i,o=i){return pw.create(i,o,this)}}Hv.prototype.startSide=Hv.prototype.endSide=0,Hv.prototype.point=!1,Hv.prototype.mapMode=ca.TrackDel;class pw{constructor(i,o,s){this.from=i,this.to=o,this.value=s}static create(i,o,s){return new pw(i,o,s)}}function GI(t,i){return t.from-i.from||t.value.startSide-i.value.startSide}class qI{constructor(i,o,s,a){this.from=i,this.to=o,this.value=s,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(i,o,s,a=0){let l=s?this.to:this.from;for(let c=a,u=l.length;;){if(c==u)return c;let p=c+u>>1,h=l[p]-i||(s?this.value[p].endSide:this.value[p].startSide)-o;if(p==c)return h>=0?c:u;h>=0?u=p:c=p+1}}between(i,o,s,a){for(let l=this.findIndex(o,-1e9,!0),c=this.findIndex(s,1e9,!1,l);l<c;l++)if(!1===a(this.from[l]+i,this.to[l]+i,this.value[l]))return!1}map(i,o){let s=[],a=[],l=[],c=-1,u=-1;for(let p=0;p<this.value.length;p++){let E,C,h=this.value[p],g=this.from[p]+i,y=this.to[p]+i;if(g==y){let D=o.mapPos(g,h.startSide,h.mapMode);if(null==D||(E=C=D,h.startSide!=h.endSide&&(C=o.mapPos(g,h.endSide),C<E)))continue}else if(E=o.mapPos(g,h.startSide),C=o.mapPos(y,h.endSide),E>C||E==C&&h.startSide>0&&h.endSide<=0)continue;(C-E||h.endSide-h.startSide)<0||(c<0&&(c=E),h.point&&(u=Math.max(u,C-E)),s.push(h),a.push(E-c),l.push(C-c))}return{mapped:s.length?new qI(a,l,s,u):null,pos:c}}}let Bo=(()=>{class t{constructor(o,s,a,l){this.chunkPos=o,this.chunk=s,this.nextLayer=a,this.maxPoint=l}static create(o,s,a,l){return new t(o,s,a,l)}get length(){let o=this.chunk.length-1;return o<0?0:Math.max(this.chunkEnd(o),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let o=this.nextLayer.size;for(let s of this.chunk)o+=s.value.length;return o}chunkEnd(o){return this.chunkPos[o]+this.chunk[o].length}update(o){let{add:s=[],sort:a=!1,filterFrom:l=0,filterTo:c=this.length}=o,u=o.filter;if(0==s.length&&!u)return this;if(a&&(s=s.slice().sort(GI)),this.isEmpty)return s.length?t.of(s):this;let p=new hK(this,null,-1).goto(0),h=0,g=[],y=new Uv;for(;p.value||h<s.length;)if(h<s.length&&(p.from-s[h].from||p.startSide-s[h].value.startSide)>=0){let E=s[h++];y.addInner(E.from,E.to,E.value)||g.push(E)}else 1==p.rangeIndex&&p.chunkIndex<this.chunk.length&&(h==s.length||this.chunkEnd(p.chunkIndex)<s[h].from)&&(!u||l>this.chunkEnd(p.chunkIndex)||c<this.chunkPos[p.chunkIndex])&&y.addChunk(this.chunkPos[p.chunkIndex],this.chunk[p.chunkIndex])?p.nextChunk():((!u||l>p.to||c<p.from||u(p.from,p.to,p.value))&&(y.addInner(p.from,p.to,p.value)||g.push(pw.create(p.from,p.to,p.value))),p.next());return y.finishInner(this.nextLayer.isEmpty&&!g.length?t.empty:this.nextLayer.update({add:g,filter:u,filterFrom:l,filterTo:c}))}map(o){if(o.empty||this.isEmpty)return this;let s=[],a=[],l=-1;for(let u=0;u<this.chunk.length;u++){let p=this.chunkPos[u],h=this.chunk[u],g=o.touchesRange(p,p+h.length);if(!1===g)l=Math.max(l,h.maxPoint),s.push(h),a.push(o.mapPos(p));else if(!0===g){let{mapped:y,pos:E}=h.map(p,o);y&&(l=Math.max(l,y.maxPoint),s.push(y),a.push(E))}}let c=this.nextLayer.map(o);return 0==s.length?c:new t(a,s,c||t.empty,l)}between(o,s,a){if(!this.isEmpty){for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],u=this.chunk[l];if(s>=c&&o<=c+u.length&&!1===u.between(c,o-c,s-c,a))return}this.nextLayer.between(o,s,a)}}iter(o=0){return fw.from([this]).goto(o)}get isEmpty(){return this.nextLayer==this}static iter(o,s=0){return fw.from(o).goto(s)}static compare(o,s,a,l,c=-1){let u=o.filter(E=>E.maxPoint>0||!E.isEmpty&&E.maxPoint>=c),p=s.filter(E=>E.maxPoint>0||!E.isEmpty&&E.maxPoint>=c),h=fK(u,p,a),g=new hw(u,h,c),y=new hw(p,h,c);a.iterGaps((E,C,D)=>mK(g,E,y,C,D,l)),a.empty&&0==a.length&&mK(g,0,y,0,0,l)}static eq(o,s,a=0,l){null==l&&(l=999999999);let c=o.filter(y=>!y.isEmpty&&s.indexOf(y)<0),u=s.filter(y=>!y.isEmpty&&o.indexOf(y)<0);if(c.length!=u.length)return!1;if(!c.length)return!0;let p=fK(c,u),h=new hw(c,p,0).goto(a),g=new hw(u,p,0).goto(a);for(;;){if(h.to!=g.to||!XI(h.active,g.active)||h.point&&(!g.point||!h.point.eq(g.point)))return!1;if(h.to>l)return!0;h.next(),g.next()}}static spans(o,s,a,l,c=-1){let u=new hw(o,null,c).goto(s),p=s,h=u.openStart;for(;;){let g=Math.min(u.to,a);if(u.point){let y=u.activeForPoint(u.to),E=u.pointFrom<s?y.length+1:u.point.startSide<0?y.length:Math.min(y.length,h);l.point(p,g,u.point,y,E,u.pointRank),h=Math.min(u.openEnd(g),y.length)}else g>p&&(l.span(p,g,u.active,h),h=u.openEnd(g));if(u.to>a)return h+(u.point&&u.to>a?1:0);p=u.to,u.next()}}static of(o,s=!1){let a=new Uv;for(let l of o instanceof pw?[o]:s?function k4e(t){if(t.length>1)for(let i=t[0],o=1;o<t.length;o++){let s=t[o];if(GI(i,s)>0)return t.slice().sort(GI);i=s}return t}(o):o)a.add(l.from,l.to,l.value);return a.finish()}static join(o){if(!o.length)return t.empty;let s=o[o.length-1];for(let a=o.length-2;a>=0;a--)for(let l=o[a];l!=t.empty;l=l.nextLayer)s=new t(l.chunkPos,l.chunk,s,Math.max(l.maxPoint,s.maxPoint));return s}}return t.empty=new t([],[],null,-1),t})();Bo.empty.nextLayer=Bo.empty;class Uv{finishChunk(i){this.chunks.push(new qI(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,i&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(i,o,s){this.addInner(i,o,s)||(this.nextLayer||(this.nextLayer=new Uv)).add(i,o,s)}addInner(i,o,s){let a=i-this.lastTo||s.startSide-this.last.endSide;if(a<=0&&(i-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(a<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=i),this.from.push(i-this.chunkStart),this.to.push(o-this.chunkStart),this.last=s,this.lastFrom=i,this.lastTo=o,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,o-i)),0))}addChunk(i,o){if((i-this.lastTo||o.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,o.maxPoint),this.chunks.push(o),this.chunkPos.push(i);let s=o.value.length-1;return this.last=o.value[s],this.lastFrom=o.from[s]+i,this.lastTo=o.to[s]+i,!0}finish(){return this.finishInner(Bo.empty)}finishInner(i){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return i;let o=Bo.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(i):i,this.setMaxPoint);return this.from=null,o}}function fK(t,i,o){let s=new Map;for(let l of t)for(let c=0;c<l.chunk.length;c++)l.chunk[c].maxPoint<=0&&s.set(l.chunk[c],l.chunkPos[c]);let a=new Set;for(let l of i)for(let c=0;c<l.chunk.length;c++){let u=s.get(l.chunk[c]);null!=u&&(o?o.mapPos(u):u)==l.chunkPos[c]&&!o?.touchesRange(u,u+l.chunk[c].length)&&a.add(l.chunk[c])}return a}class hK{constructor(i,o,s,a=0){this.layer=i,this.skip=o,this.minPoint=s,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(i,o=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(i,o,!1),this}gotoInner(i,o,s){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<i||a.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(i-this.layer.chunkPos[this.chunkIndex],o,!0);(!s||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(i,o){(this.to-i||this.endSide-o)<0&&this.gotoInner(i,o,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let i=this.layer.chunkPos[this.chunkIndex],o=this.layer.chunk[this.chunkIndex];if(this.from=i+o.from[this.rangeIndex],this.to=i+o.to[this.rangeIndex],this.value=o.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(i){if(i==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=i}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(i){return this.from-i.from||this.startSide-i.startSide||this.rank-i.rank||this.to-i.to||this.endSide-i.endSide}}class fw{constructor(i){this.heap=i}static from(i,o=null,s=-1){let a=[];for(let l=0;l<i.length;l++)for(let c=i[l];!c.isEmpty;c=c.nextLayer)c.maxPoint>=s&&a.push(new hK(c,o,s,l));return 1==a.length?a[0]:new fw(a)}get startSide(){return this.value?this.value.startSide:0}goto(i,o=-1e9){for(let s of this.heap)s.goto(i,o);for(let s=this.heap.length>>1;s>=0;s--)WI(this.heap,s);return this.next(),this}forward(i,o){for(let s of this.heap)s.forward(i,o);for(let s=this.heap.length>>1;s>=0;s--)WI(this.heap,s);(this.to-i||this.value.endSide-o)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let i=this.heap[0];this.from=i.from,this.to=i.to,this.value=i.value,this.rank=i.rank,i.value&&i.next(),WI(this.heap,0)}}}function WI(t,i){for(let o=t[i];;){let s=1+(i<<1);if(s>=t.length)break;let a=t[s];if(s+1<t.length&&a.compare(t[s+1])>=0&&(a=t[s+1],s++),o.compare(a)<0)break;t[s]=o,t[i]=a,i=s}}class hw{constructor(i,o,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fw.from(i,o,s)}goto(i,o=-1e9){return this.cursor.goto(i,o),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=i,this.endSide=o,this.openStart=-1,this.next(),this}forward(i,o){for(;this.minActive>-1&&(this.activeTo[this.minActive]-i||this.active[this.minActive].endSide-o)<0;)this.removeActive(this.minActive);this.cursor.forward(i,o)}removeActive(i){pT(this.active,i),pT(this.activeTo,i),pT(this.activeRank,i),this.minActive=gK(this.active,this.activeTo)}addActive(i){let o=0,{value:s,to:a,rank:l}=this.cursor;for(;o<this.activeRank.length&&(l-this.activeRank[o]||a-this.activeTo[o])>0;)o++;fT(this.active,o,s),fT(this.activeTo,o,a),fT(this.activeRank,o,l),i&&fT(i,o,this.cursor.from),this.minActive=gK(this.active,this.activeTo)}next(){let i=this.to,o=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>i){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),s&&pT(s,a)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>i){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let l=this.cursor.value;if(l.point){if(!(o&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(s),this.cursor.next()}}}if(s){this.openStart=0;for(let a=s.length-1;a>=0&&s[a]<i;a--)this.openStart++}}activeForPoint(i){if(!this.active.length)return this.active;let o=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>i||this.activeTo[s]==i&&this.active[s].endSide>=this.point.endSide)&&o.push(this.active[s]);return o.reverse()}openEnd(i){let o=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>i;s--)o++;return o}}function mK(t,i,o,s,a,l){t.goto(i),o.goto(s);let c=s+a,u=s,p=s-i;for(;;){let h=t.to+p-o.to||t.endSide-o.endSide,g=h<0?t.to+p:o.to,y=Math.min(g,c);if(t.point||o.point?t.point&&o.point&&(t.point==o.point||t.point.eq(o.point))&&XI(t.activeForPoint(t.to),o.activeForPoint(o.to))||l.comparePoint(u,y,t.point,o.point):y>u&&!XI(t.active,o.active)&&l.compareRange(u,y,t.active,o.active),g>c)break;u=g,h<=0&&t.next(),h>=0&&o.next()}}function XI(t,i){if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!=i[o]&&!t[o].eq(i[o]))return!1;return!0}function pT(t,i){for(let o=i,s=t.length-1;o<s;o++)t[o]=t[o+1];t.pop()}function fT(t,i,o){for(let s=t.length-1;s>=i;s--)t[s+1]=t[s];t[i]=o}function gK(t,i){let o=-1,s=1e9;for(let a=0;a<i.length;a++)(i[a]-s||t[a].endSide-t[o].endSide)<0&&(o=a,s=i[a]);return o}function hT(t,i,o=t.length){let s=0;for(let a=0;a<o;)9==t.charCodeAt(a)?(s+=i-s%i,a++):(s++,a=yl(t,a));return s}const vK=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),KI=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),yK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Om{constructor(i,o){this.rules=[];let{finish:s}=o||{};function a(c){return/^@/.test(c)?[c]:c.split(/,\s*/)}function l(c,u,p,h){let g=[],y=/^@(\w+)\b/.exec(c[0]),E=y&&"keyframes"==y[1];if(y&&null==u)return p.push(c[0]+";");for(let C in u){let D=u[C];if(/&/.test(C))l(C.split(/,\s*/).map(O=>c.map(A=>O.replace(/&/,A))).reduce((O,A)=>O.concat(A)),D,p);else if(D&&"object"==typeof D){if(!y)throw new RangeError("The value of a property ("+C+") should be a primitive value.");l(a(C),D,g,E)}else null!=D&&g.push(C.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+D+";")}(g.length||E)&&p.push((!s||y||h?c:c.map(s)).join(", ")+" {"+g.join(" ")+"}")}for(let c in i)l(a(c),i[c],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let i=yK[vK]||1;return yK[vK]=i+1,"\u037c"+i.toString(36)}static mount(i,o,s){let a=i[KI],l=s&&s.nonce;a?l&&a.setNonce(l):a=new R4e(i,l),a.mount(Array.isArray(o)?o:[o],i)}}let bK=new Map;class R4e{constructor(i,o){let s=i.ownerDocument||i,a=s.defaultView;if(!i.head&&i.adoptedStyleSheets&&a.CSSStyleSheet){let l=bK.get(s);if(l)return i[KI]=l;this.sheet=new a.CSSStyleSheet,bK.set(s,this)}else this.styleTag=s.createElement("style"),o&&this.styleTag.setAttribute("nonce",o);this.modules=[],i[KI]=this}mount(i,o){let s=this.sheet,a=0,l=0;for(let c=0;c<i.length;c++){let u=i[c],p=this.modules.indexOf(u);if(p<l&&p>-1&&(this.modules.splice(p,1),l--,p=-1),-1==p){if(this.modules.splice(l++,0,u),s)for(let h=0;h<u.rules.length;h++)s.insertRule(u.rules[h],a++)}else{for(;l<p;)a+=this.modules[l++].rules.length;a+=u.rules.length,l++}}if(s)o.adoptedStyleSheets.indexOf(this.sheet)<0&&(o.adoptedStyleSheets=[this.sheet,...o.adoptedStyleSheets]);else{let c="";for(let p=0;p<this.modules.length;p++)c+=this.modules[p].getRules()+"\n";this.styleTag.textContent=c;let u=o.head||o;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(i){this.styleTag&&this.styleTag.getAttribute("nonce")!=i&&this.styleTag.setAttribute("nonce",i)}}for(var km={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},mw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},I4e=typeof navigator<"u"&&/Mac/.test(navigator.platform),N4e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ua=0;ua<10;ua++)km[48+ua]=km[96+ua]=String(ua);for(ua=1;ua<=24;ua++)km[ua+111]="F"+ua;for(ua=65;ua<=90;ua++)km[ua]=String.fromCharCode(ua+32),mw[ua]=String.fromCharCode(ua);for(var QI in km)mw.hasOwnProperty(QI)||(mw[QI]=km[QI]);function mT(t){let i;return i=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,i.getSelection()}function ZI(t,i){return!!i&&(t==i||t.contains(1!=i.nodeType?i.parentNode:i))}function gT(t,i){if(!i.anchorNode)return!1;try{return ZI(t,i.anchorNode)}catch{return!1}}function Y3(t){return 3==t.nodeType?qv(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function gw(t,i,o,s){return!!o&&(_K(t,i,o,s,-1)||_K(t,i,o,s,1))}function Gv(t){for(var i=0;;i++)if(!(t=t.previousSibling))return i}function vT(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function _K(t,i,o,s,a){for(;;){if(t==o&&i==s)return!0;if(i==(a<0?0:Mf(t))){if("DIV"==t.nodeName)return!1;let l=t.parentNode;if(!l||1!=l.nodeType)return!1;i=Gv(t)+(a<0?0:1),t=l}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[i+(a<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;i=a<0?Mf(t):0}}}function Mf(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function yT(t,i){let o=i?t.left:t.right;return{left:o,right:o,top:t.top,bottom:t.bottom}}function B4e(t){let i=t.visualViewport;return i?{left:0,right:i.width,top:0,bottom:i.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function EK(t,i){let o=i.width/t.offsetWidth,s=i.height/t.offsetHeight;return(o>.995&&o<1.005||!isFinite(o)||Math.abs(i.width-t.offsetWidth)<1)&&(o=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(i.height-t.offsetHeight)<1)&&(s=1),{scaleX:o,scaleY:s}}class $4e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(i){return this.anchorNode==i.anchorNode&&this.anchorOffset==i.anchorOffset&&this.focusNode==i.focusNode&&this.focusOffset==i.focusOffset}setRange(i){let{anchorNode:o,focusNode:s}=i;this.set(o,Math.min(i.anchorOffset,o?Mf(o):0),s,Math.min(i.focusOffset,s?Mf(s):0))}set(i,o,s,a){this.anchorNode=i,this.anchorOffset=o,this.focusNode=s,this.focusOffset=a}}let wK,K3=null;function xK(t){if(t.setActive)return t.setActive();if(K3)return t.focus(K3);let i=[];for(let o=t;o&&(i.push(o,o.scrollTop,o.scrollLeft),o!=o.ownerDocument);o=o.parentNode);if(t.focus(null==K3?{get preventScroll(){return K3={preventScroll:!0},!0}}:void 0),!K3){K3=!1;for(let o=0;o<i.length;){let s=i[o++],a=i[o++],l=i[o++];s.scrollTop!=a&&(s.scrollTop=a),s.scrollLeft!=l&&(s.scrollLeft=l)}}}function qv(t,i,o=i){let s=wK||(wK=document.createRange());return s.setEnd(t,o),s.setStart(t,i),s}function Q3(t,i,o,s){let a={key:i,code:i,keyCode:o,which:o,cancelable:!0};s&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=s);let l=new KeyboardEvent("keydown",a);l.synthetic=!0,t.dispatchEvent(l);let c=new KeyboardEvent("keyup",a);return c.synthetic=!0,t.dispatchEvent(c),l.defaultPrevented||c.defaultPrevented}function CK(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function SK(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function DK(t,i){for(let o=t,s=i;;){if(3==o.nodeType&&s>0)return{node:o,offset:s};if(1==o.nodeType&&s>0){if("false"==o.contentEditable)return null;o=o.childNodes[s-1],s=Mf(o)}else{if(!o.parentNode||vT(o))return null;s=Gv(o),o=o.parentNode}}}function TK(t,i){for(let o=t,s=i;;){if(3==o.nodeType&&s<o.nodeValue.length)return{node:o,offset:s};if(1==o.nodeType&&s<o.childNodes.length){if("false"==o.contentEditable)return null;o=o.childNodes[s],s=0}else{if(!o.parentNode||vT(o))return null;s=Gv(o)+1,o=o.parentNode}}}class Va{constructor(i,o,s=!0){this.node=i,this.offset=o,this.precise=s}static before(i,o){return new Va(i.parentNode,Gv(i),o)}static after(i,o){return new Va(i.parentNode,Gv(i)+1,o)}}const JI=[];class ji{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(i){let o=this.posAtStart;for(let s of this.children){if(s==i)return o;o+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(i){return this.posBefore(i)+i.length}sync(i,o){if(2&this.flags){let l,s=this.dom,a=null;for(let c of this.children){if(7&c.flags){if(!c.dom&&(l=a?a.nextSibling:s.firstChild)){let u=ji.get(l);(!u||!u.parent&&u.canReuseDOM(c))&&c.reuseDOM(l)}c.sync(i,o),c.flags&=-8}if(l=a?a.nextSibling:s.firstChild,o&&!o.written&&o.node==s&&l!=c.dom&&(o.written=!0),c.dom.parentNode==s)for(;l&&l!=c.dom;)l=PK(l);else s.insertBefore(c.dom,l);a=c.dom}for(l=a?a.nextSibling:s.firstChild,l&&o&&o.node==s&&(o.written=!0);l;)l=PK(l)}else if(1&this.flags)for(let s of this.children)7&s.flags&&(s.sync(i,o),s.flags&=-8)}reuseDOM(i){}localPosFromDOM(i,o){let s;if(i==this.dom)s=this.dom.childNodes[o];else{let a=0==Mf(i)?0:0==o?-1:1;for(;;){let l=i.parentNode;if(l==this.dom)break;0==a&&l.firstChild!=l.lastChild&&(a=i==l.firstChild?-1:1),i=l}s=a<0?i:i.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!ji.get(s);)s=s.nextSibling;if(!s)return this.length;for(let a=0,l=0;;a++){let c=this.children[a];if(c.dom==s)return l;l+=c.length+c.breakAfter}}domBoundsAround(i,o,s=0){let a=-1,l=-1,c=-1,u=-1;for(let p=0,h=s,g=s;p<this.children.length;p++){let y=this.children[p],E=h+y.length;if(h<i&&E>o)return y.domBoundsAround(i,o,h);if(E>=i&&-1==a&&(a=p,l=h),h>o&&y.dom.parentNode==this.dom){c=p,u=g;break}g=E,h=E+y.breakAfter}return{from:l,to:u<0?s+this.length:u,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:c<this.children.length&&c>=0?this.children[c].dom:null}}markDirty(i=!1){this.flags|=2,this.markParentsDirty(i)}markParentsDirty(i){for(let o=this.parent;o;o=o.parent){if(i&&(o.flags|=2),1&o.flags)return;o.flags|=1,i=!1}}setParent(i){this.parent!=i&&(this.parent=i,7&this.flags&&this.markParentsDirty(!0))}setDOM(i){this.dom!=i&&(this.dom&&(this.dom.cmView=null),this.dom=i,i.cmView=this)}get rootView(){for(let i=this;;){let o=i.parent;if(!o)return i;i=o}}replaceChildren(i,o,s=JI){this.markDirty();for(let a=i;a<o;a++){let l=this.children[a];l.parent==this&&s.indexOf(l)<0&&l.destroy()}this.children.splice(i,o-i,...s);for(let a=0;a<s.length;a++)s[a].setParent(this)}ignoreMutation(i){return!1}ignoreEvent(i){return!1}childCursor(i=this.length){return new MK(this.children,i,this.children.length)}childPos(i,o=1){return this.childCursor().findPos(i,o)}toString(){let i=this.constructor.name.replace("View","");return i+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==i?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(i){return i.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(i,o,s,a,l,c){return!1}become(i){return!1}canReuseDOM(i){return i.constructor==this.constructor&&!(8&(this.flags|i.flags))}getSide(){return 0}destroy(){for(let i of this.children)i.parent==this&&i.destroy();this.parent=null}}function PK(t){let i=t.nextSibling;return t.parentNode.removeChild(t),i}ji.prototype.breakAfter=0;class MK{constructor(i,o,s){this.children=i,this.pos=o,this.i=s,this.off=0}findPos(i,o=1){for(;;){if(i>this.pos||i==this.pos&&(o>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=i-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function OK(t,i,o,s,a,l,c,u,p){let{children:h}=t,g=h.length?h[i]:null,y=l.length?l[l.length-1]:null,E=y?y.breakAfter:c;if(!(i==s&&g&&!c&&!E&&l.length<2&&g.merge(o,a,l.length?y:null,0==o,u,p))){if(s<h.length){let C=h[s];C&&(a<C.length||C.breakAfter&&y?.breakAfter)?(i==s&&(C=C.split(a),a=0),!E&&y&&C.merge(0,a,y,!0,0,p)?l[l.length-1]=C:((a||C.children.length&&!C.children[0].length)&&C.merge(0,a,null,!1,0,p),l.push(C))):C?.breakAfter&&(y?y.breakAfter=1:c=1),s++}for(g&&(g.breakAfter=c,o>0&&(!c&&l.length&&g.merge(o,g.length,l[0],!1,u,0)?g.breakAfter=l.shift().breakAfter:(o<g.length||g.children.length&&0==g.children[g.children.length-1].length)&&g.merge(o,g.length,null,!1,u,0),i++));i<s&&l.length;)if(h[s-1].become(l[l.length-1]))s--,l.pop(),p=l.length?0:u;else{if(!h[i].become(l[0]))break;i++,l.shift(),u=l.length?0:p}!l.length&&i&&s<h.length&&!h[i-1].breakAfter&&h[s].merge(0,0,h[i-1],!1,u,p)&&i--,(i<s||l.length)&&t.replaceChildren(i,s,l)}}function kK(t,i,o,s,a,l){let c=t.childCursor(),{i:u,off:p}=c.findPos(o,1),{i:h,off:g}=c.findPos(i,-1),y=i-o;for(let E of s)y+=E.length;t.length+=y,OK(t,h,g,u,p,s,0,a,l)}let Mc=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},eN=typeof document<"u"?document:{documentElement:{style:{}}};const tN=/Edge\/(\d+)/.exec(Mc.userAgent),AK=/MSIE \d/.test(Mc.userAgent),nN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mc.userAgent),bT=!!(AK||nN||tN),RK=!bT&&/gecko\/(\d+)/i.test(Mc.userAgent),rN=!bT&&/Chrome\/(\d+)/.exec(Mc.userAgent),IK="webkitFontSmoothing"in eN.documentElement.style,NK=!bT&&/Apple Computer/.test(Mc.vendor),LK=NK&&(/Mobile\/\w+/.test(Mc.userAgent)||Mc.maxTouchPoints>2);var Xt={mac:LK||/Mac/.test(Mc.platform),windows:/Win/.test(Mc.platform),linux:/Linux|X11/.test(Mc.platform),ie:bT,ie_version:AK?eN.documentMode||6:nN?+nN[1]:tN?+tN[1]:0,gecko:RK,gecko_version:RK?+(/Firefox\/(\d+)/.exec(Mc.userAgent)||[0,0])[1]:0,chrome:!!rN,chrome_version:rN?+rN[1]:0,ios:LK,android:/Android\b/.test(Mc.userAgent),webkit:IK,safari:NK,webkit_version:IK?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=eN.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class x0 extends ji{constructor(i){super(),this.text=i}get length(){return this.text.length}createDOM(i){this.setDOM(i||document.createTextNode(this.text))}sync(i,o){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(o&&o.node==this.dom&&(o.written=!0),this.dom.nodeValue=this.text)}reuseDOM(i){3==i.nodeType&&this.createDOM(i)}merge(i,o,s){return!(8&this.flags||s&&(!(s instanceof x0)||this.length-(o-i)+s.length>256||8&s.flags)||(this.text=this.text.slice(0,i)+(s?s.text:"")+this.text.slice(o),this.markDirty(),0))}split(i){let o=new x0(this.text.slice(i));return this.text=this.text.slice(0,i),this.markDirty(),o.flags|=8&this.flags,o}localPosFromDOM(i,o){return i==this.dom?o:o?this.text.length:0}domAtPos(i){return new Va(this.dom,i)}domBoundsAround(i,o,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(i,o){return function G4e(t,i,o){let s=t.nodeValue.length;i>s&&(i=s);let a=i,l=i,c=0;0==i&&o<0||i==s&&o>=0?Xt.chrome||Xt.gecko||(i?(a--,c=1):l<s&&(l++,c=-1)):o<0?a--:l<s&&l++;let u=qv(t,a,l).getClientRects();if(!u.length)return null;let p=u[(c?c<0:o>=0)?0:u.length-1];return Xt.safari&&!c&&0==p.width&&(p=Array.prototype.find.call(u,h=>h.width)||p),c?yT(p,c<0):p||null}(this.dom,i,o)}}class Of extends ji{constructor(i,o=[],s=0){super(),this.mark=i,this.children=o,this.length=s;for(let a of o)a.setParent(this)}setAttrs(i){if(CK(i),this.mark.class&&(i.className=this.mark.class),this.mark.attrs)for(let o in this.mark.attrs)i.setAttribute(o,this.mark.attrs[o]);return i}canReuseDOM(i){return super.canReuseDOM(i)&&!(8&(this.flags|i.flags))}reuseDOM(i){i.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(i),this.flags|=6)}sync(i,o){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(i,o)}merge(i,o,s,a,l,c){return!(s&&(!(s instanceof Of&&s.mark.eq(this.mark))||i&&l<=0||o<this.length&&c<=0)||(kK(this,i,o,s?s.children.slice():[],l-1,c-1),this.markDirty(),0))}split(i){let o=[],s=0,a=-1,l=0;for(let u of this.children){let p=s+u.length;p>i&&o.push(s<i?u.split(i-s):u),a<0&&s>=i&&(a=l),s=p,l++}let c=this.length-i;return this.length=i,a>-1&&(this.children.length=a,this.markDirty()),new Of(this.mark,o,c)}domAtPos(i){return FK(this,i)}coordsAt(i,o){return VK(this,i,o)}}class Am extends ji{static create(i,o,s){return new Am(i,o,s)}constructor(i,o,s){super(),this.widget=i,this.length=o,this.side=s,this.prevWidget=null}split(i){let o=Am.create(this.widget,this.length-i,this.side);return this.length-=i,o}sync(i){(!this.dom||!this.widget.updateDOM(this.dom,i))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(i)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(i,o,s,a,l,c){return!(s&&(!(s instanceof Am&&this.widget.compare(s.widget))||i>0&&l<=0||o<this.length&&c<=0)||(this.length=i+(s?s.length:0)+(this.length-o),0))}become(i){return i instanceof Am&&i.side==this.side&&this.widget.constructor==i.widget.constructor&&(this.widget.compare(i.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=i.widget,this.length=i.length,!0)}ignoreMutation(){return!0}ignoreEvent(i){return this.widget.ignoreEvent(i)}get overrideDOMText(){if(0==this.length)return ti.empty;let i=this;for(;i.parent;)i=i.parent;let{view:o}=i,s=o&&o.state.doc,a=this.posAtStart;return s?s.slice(a,a+this.length):ti.empty}domAtPos(i){return(this.length?0==i:this.side>0)?Va.before(this.dom):Va.after(this.dom,i==this.length)}domBoundsAround(){return null}coordsAt(i,o){let s=this.widget.coordsAt(this.dom,i,o);if(s)return s;let a=this.dom.getClientRects(),l=null;if(!a.length)return null;let c=this.side?this.side<0:i>0;for(let u=c?a.length-1:0;l=a[u],!(i>0?0==u:u==a.length-1||l.top<l.bottom);u+=c?-1:1);return yT(l,!c)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Z3 extends ji{constructor(i){super(),this.side=i}get length(){return 0}merge(){return!1}become(i){return i instanceof Z3&&i.side==this.side}split(){return new Z3(this.side)}sync(){if(!this.dom){let i=document.createElement("img");i.className="cm-widgetBuffer",i.setAttribute("aria-hidden","true"),this.setDOM(i)}}getSide(){return this.side}domAtPos(i){return this.side>0?Va.before(this.dom):Va.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(i){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ti.empty}get isHidden(){return!0}}function FK(t,i){let o=t.dom,{children:s}=t,a=0;for(let l=0;a<s.length;a++){let c=s[a],u=l+c.length;if(!(u==l&&c.getSide()<=0)){if(i>l&&i<u&&c.dom.parentNode==o)return c.domAtPos(i-l);if(i<=l)break;l=u}}for(let l=a;l>0;l--){let c=s[l-1];if(c.dom.parentNode==o)return c.domAtPos(c.length)}for(let l=a;l<s.length;l++){let c=s[l];if(c.dom.parentNode==o)return c.domAtPos(0)}return new Va(o,0)}function BK(t,i,o){let s,{children:a}=t;o>0&&i instanceof Of&&a.length&&(s=a[a.length-1])instanceof Of&&s.mark.eq(i.mark)?BK(s,i.children[0],o-1):(a.push(i),i.setParent(t)),t.length+=i.length}function VK(t,i,o){let s=null,a=-1,l=null,c=-1;!function u(h,g){for(let y=0,E=0;y<h.children.length&&E<=g;y++){let C=h.children[y],D=E+C.length;D>=g&&(C.children.length?u(C,g-E):(!l||l.isHidden&&o>0)&&(D>g||E==D&&C.getSide()>0)?(l=C,c=g-E):(E<g||E==D&&C.getSide()<0&&!C.isHidden)&&(s=C,a=g-E)),E=D}}(t,i);let p=(o<0?s:l)||s||l;return p?p.coordsAt(Math.max(0,p==s?a:c),o):function q4e(t){let i=t.dom.lastChild;if(!i)return t.dom.getBoundingClientRect();let o=Y3(i);return o[o.length-1]||null}(t)}function iN(t,i){for(let o in t)"class"==o&&i.class?i.class+=" "+t.class:"style"==o&&i.style?i.style+=";"+t.style:i[o]=t[o];return i}x0.prototype.children=Am.prototype.children=Z3.prototype.children=JI;const jK=Object.create(null);function oN(t,i,o){if(t==i)return!0;t||(t=jK),i||(i=jK);let s=Object.keys(t),a=Object.keys(i);if(s.length-(o&&s.indexOf(o)>-1?1:0)!=a.length-(o&&a.indexOf(o)>-1?1:0))return!1;for(let l of s)if(l!=o&&(-1==a.indexOf(l)||t[l]!==i[l]))return!1;return!0}function sN(t,i,o){let s=!1;if(i)for(let a in i)o&&a in o||(s=!0,"style"==a?t.style.cssText="":t.removeAttribute(a));if(o)for(let a in o)i&&i[a]==o[a]||(s=!0,"style"==a?t.style.cssText=o[a]:t.setAttribute(a,o[a]));return s}function W4e(t){let i=Object.create(null);for(let o=0;o<t.attributes.length;o++){let s=t.attributes[o];i[s.name]=s.value}return i}class Fs extends ji{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(i,o,s,a,l,c){if(s){if(!(s instanceof Fs))return!1;this.dom||s.transferDOM(this)}return a&&this.setDeco(s?s.attrs:null),kK(this,i,o,s?s.children.slice():[],l,c),!0}split(i){let o=new Fs;if(o.breakAfter=this.breakAfter,0==this.length)return o;let{i:s,off:a}=this.childPos(i);a&&(o.append(this.children[s].split(a),0),this.children[s].merge(a,this.children[s].length,null,!1,0,0),s++);for(let l=s;l<this.children.length;l++)o.append(this.children[l],0);for(;s>0&&0==this.children[s-1].length;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=i,o}transferDOM(i){this.dom&&(this.markDirty(),i.setDOM(this.dom),i.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(i){oN(this.attrs,i)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=i)}append(i,o){BK(this,i,o)}addLineDeco(i){let o=i.spec.attributes,s=i.spec.class;o&&(this.attrs=iN(o,this.attrs||{})),s&&(this.attrs=iN({class:s},this.attrs||{}))}domAtPos(i){return FK(this,i)}reuseDOM(i){"DIV"==i.nodeName&&(this.setDOM(i),this.flags|=6)}sync(i,o){var s;this.dom?4&this.flags&&(CK(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(sN(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(i,o);let a=this.dom.lastChild;for(;a&&ji.get(a)instanceof Of;)a=a.lastChild;if(!(a&&this.length&&("BR"==a.nodeName||0!=(null===(s=ji.get(a))||void 0===s?void 0:s.isEditable)||Xt.ios&&this.children.some(l=>l instanceof x0)))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let o,i=0;for(let s of this.children){if(!(s instanceof x0)||/[^ -~]/.test(s.text))return null;let a=Y3(s.dom);if(1!=a.length)return null;i+=a[0].width,o=a[0].height}return i?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:i/this.length,textHeight:o}:null}coordsAt(i,o){let s=VK(this,i,o);if(!this.children.length&&s&&this.parent){let{heightOracle:a}=this.parent.view.viewState,l=s.bottom-s.top;if(Math.abs(l-a.lineHeight)<2&&a.textHeight<l){let c=(l-a.textHeight)/2;return{top:s.top+c,bottom:s.bottom-c,left:s.left,right:s.left}}}return s}become(i){return!1}covers(){return!0}static find(i,o){for(let s=0,a=0;s<i.children.length;s++){let l=i.children[s],c=a+l.length;if(c>=o){if(l instanceof Fs)return l;if(c>o)break}a=c+l.breakAfter}return null}}class Rm extends ji{constructor(i,o,s){super(),this.widget=i,this.length=o,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(i,o,s,a,l,c){return!(s&&(!(s instanceof Rm&&this.widget.compare(s.widget))||i>0&&l<=0||o<this.length&&c<=0)||(this.length=i+(s?s.length:0)+(this.length-o),0))}domAtPos(i){return 0==i?Va.before(this.dom):Va.after(this.dom,i==this.length)}split(i){let o=this.length-i;this.length=i;let s=new Rm(this.widget,o,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return JI}sync(i){(!this.dom||!this.widget.updateDOM(this.dom,i))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(i)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ti.empty}domBoundsAround(){return null}become(i){return i instanceof Rm&&i.widget.constructor==this.widget.constructor&&(i.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=i.widget,this.length=i.length,this.deco=i.deco,this.breakAfter=i.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(i){return this.widget.ignoreEvent(i)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(i,o){return this.widget.coordsAt(this.dom,i,o)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(i){let{startSide:o,endSide:s}=this.deco;return o!=s&&(i<0?o<0:s>0)}}class Gd{eq(i){return!1}updateDOM(i,o){return!1}compare(i){return this==i||this.constructor==i.constructor&&this.eq(i)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(i){return!0}coordsAt(i,o,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(i){}}var _l=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(_l||(_l={}));class zn extends Hv{constructor(i,o,s,a){super(),this.startSide=i,this.endSide=o,this.widget=s,this.spec=a}get heightRelevant(){return!1}static mark(i){return new vw(i)}static widget(i){let o=Math.max(-1e4,Math.min(1e4,i.side||0)),s=!!i.block;return o+=s&&!i.inlineOrder?o>0?3e8:-4e8:o>0?1e8:-1e8,new Im(i,o,o,s,i.widget||null,!1)}static replace(i){let s,a,o=!!i.block;if(i.isBlockGap)s=-5e8,a=4e8;else{let{start:l,end:c}=$K(i,o);s=(l?o?-3e8:-1:5e8)-1,a=1+(c?o?2e8:1:-6e8)}return new Im(i,s,a,o,i.widget||null,!0)}static line(i){return new yw(i)}static set(i,o=!1){return Bo.of(i,o)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}zn.none=Bo.empty;class vw extends zn{constructor(i){let{start:o,end:s}=$K(i);super(o?-1:5e8,s?1:-6e8,null,i),this.tagName=i.tagName||"span",this.class=i.class||"",this.attrs=i.attributes||null}eq(i){var o,s;return this==i||i instanceof vw&&this.tagName==i.tagName&&(this.class||(null===(o=this.attrs)||void 0===o?void 0:o.class))==(i.class||(null===(s=i.attrs)||void 0===s?void 0:s.class))&&oN(this.attrs,i.attrs,"class")}range(i,o=i){if(i>=o)throw new RangeError("Mark decorations may not be empty");return super.range(i,o)}}vw.prototype.point=!1;class yw extends zn{constructor(i){super(-2e8,-2e8,null,i)}eq(i){return i instanceof yw&&this.spec.class==i.spec.class&&oN(this.spec.attributes,i.spec.attributes)}range(i,o=i){if(o!=i)throw new RangeError("Line decoration ranges must be zero-length");return super.range(i,o)}}yw.prototype.mapMode=ca.TrackBefore,yw.prototype.point=!0;class Im extends zn{constructor(i,o,s,a,l,c){super(o,s,l,i),this.block=a,this.isReplace=c,this.mapMode=a?o<=0?ca.TrackBefore:ca.TrackAfter:ca.TrackDel}get type(){return this.startSide!=this.endSide?_l.WidgetRange:this.startSide<=0?_l.WidgetBefore:_l.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(i){return i instanceof Im&&function X4e(t,i){return t==i||!!(t&&i&&t.compare(i))}(this.widget,i.widget)&&this.block==i.block&&this.startSide==i.startSide&&this.endSide==i.endSide}range(i,o=i){if(this.isReplace&&(i>o||i==o&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&o!=i)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(i,o)}}function $K(t,i=!1){let{inclusiveStart:o,inclusiveEnd:s}=t;return null==o&&(o=t.inclusive),null==s&&(s=t.inclusive),{start:o??i,end:s??i}}function aN(t,i,o,s=0){let a=o.length-1;a>=0&&o[a]+s>=t?o[a]=Math.max(o[a],i):o.push(t,i)}Im.prototype.point=!0;class bw{constructor(i,o,s,a){this.doc=i,this.pos=o,this.end=s,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=i.iter(),this.skip=o}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let i=this.content[this.content.length-1];return!(i.breakAfter||i instanceof Rm&&i.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Fs),this.atCursorPos=!0),this.curLine}flushBuffer(i=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(_T(new Z3(-1),i),i.length),this.pendingBuffer=0)}addBlockWidget(i){this.flushBuffer(),this.curLine=null,this.content.push(i)}finish(i){this.pendingBuffer&&i<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(i&&this.content.length&&this.content[this.content.length-1]instanceof Rm)&&this.getLine()}buildText(i,o,s){for(;i>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,i--;continue}this.text=l,this.textOff=0}let a=Math.min(this.text.length-this.textOff,i,512);this.flushBuffer(o.slice(o.length-s)),this.getLine().append(_T(new x0(this.text.slice(this.textOff,this.textOff+a)),o),s),this.atCursorPos=!0,this.textOff+=a,i-=a,s=0}}span(i,o,s,a){this.buildText(o-i,s,a),this.pos=o,this.openStart<0&&(this.openStart=a)}point(i,o,s,a,l,c){if(this.disallowBlockEffectsFor[c]&&s instanceof Im){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(o>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=o-i;if(s instanceof Im)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Rm(s.widget||zK.block,u,s));else{let p=Am.create(s.widget||zK.inline,u,u?0:s.startSide),h=this.atCursorPos&&!p.isEditable&&l<=a.length&&(i<o||s.startSide>0),g=!p.isEditable&&(i<o||l>a.length||s.startSide<=0),y=this.getLine();2==this.pendingBuffer&&!h&&!p.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),h&&(y.append(_T(new Z3(1),a),l),l=a.length+Math.max(0,l-a.length)),y.append(_T(p,a),l),this.atCursorPos=g,this.pendingBuffer=g?i<o||l>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=o),this.openStart<0&&(this.openStart=l)}static build(i,o,s,a,l){let c=new bw(i,o,s,l);return c.openEnd=Bo.spans(a,o,s,c),c.openStart<0&&(c.openStart=c.openEnd),c.finish(c.openEnd),c}}function _T(t,i){for(let o of i)t=new Of(o,[t],t.length);return t}let zK=(()=>{class t extends Gd{constructor(o){super(),this.tag=o}eq(o){return o.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(o){return o.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return t.inline=new t("span"),t.block=new t("div"),t})();var $i=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}($i||($i={}));const Wv=$i.LTR,lN=$i.RTL;function HK(t){let i=[];for(let o=0;o<t.length;o++)i.push(1<<+t[o]);return i}const Y4e=HK("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),K4e=HK("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cN=Object.create(null),qd=[];for(let t of["()","[]","{}"]){let i=t.charCodeAt(0),o=t.charCodeAt(1);cN[i]=o,cN[o]=-i}function UK(t){return t<=247?Y4e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?K4e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Q4e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Nm{get dir(){return this.level%2?lN:Wv}constructor(i,o,s){this.from=i,this.to=o,this.level=s}side(i,o){return this.dir==o==i?this.to:this.from}forward(i,o){return i==(this.dir==o)}static find(i,o,s,a){let l=-1;for(let c=0;c<i.length;c++){let u=i[c];if(u.from<=o&&u.to>=o){if(u.level==s)return c;(l<0||(0!=a?a<0?u.from<o:u.to>o:i[l].level>u.level))&&(l=c)}}if(l<0)throw new RangeError("Index out of range");return l}}function GK(t,i){if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){let s=t[o],a=i[o];if(s.from!=a.from||s.to!=a.to||s.direction!=a.direction||!GK(s.inner,a.inner))return!1}return!0}const zi=[];function uN(t,i,o,s,a,l,c){let u=s%2?2:1;if(s%2==a%2)for(let p=i,h=0;p<o;){let g=!0,y=!1;if(h==l.length||p<l[h].from){let O=zi[p];O!=u&&(g=!1,y=16==O)}let E=g||1!=u?null:[],C=g?s:s+1,D=p;e:for(;;)if(h<l.length&&D==l[h].from){if(y)break e;let O=l[h];if(!g)for(let A=O.to,F=h+1;;){if(A==o)break e;if(!(F<l.length&&l[F].from==A)){if(zi[A]==u)break e;break}A=l[F++].to}h++,E?E.push(O):(O.from>p&&c.push(new Nm(p,O.from,C)),dN(t,O.direction==Wv!=!(C%2)?s+1:s,a,O.inner,O.from,O.to,c),p=O.to),D=O.to}else{if(D==o||(g?zi[D]!=u:zi[D]==u))break;D++}E?uN(t,p,D,s+1,a,E,c):p<D&&c.push(new Nm(p,D,C)),p=D}else for(let p=o,h=l.length;p>i;){let g=!0,y=!1;if(!h||p>l[h-1].to){let O=zi[p-1];O!=u&&(g=!1,y=16==O)}let E=g||1!=u?null:[],C=g?s:s+1,D=p;e:for(;;)if(h&&D==l[h-1].to){if(y)break e;let O=l[--h];if(!g)for(let A=O.from,F=h;;){if(A==i)break e;if(!F||l[F-1].to!=A){if(zi[A-1]==u)break e;break}A=l[--F].from}E?E.push(O):(O.to<p&&c.push(new Nm(O.to,p,C)),dN(t,O.direction==Wv!=!(C%2)?s+1:s,a,O.inner,O.from,O.to,c),p=O.from),D=O.from}else{if(D==i||(g?zi[D-1]!=u:zi[D-1]==u))break;D--}E?uN(t,D,p,s+1,a,E,c):D<p&&c.push(new Nm(D,p,C)),p=D}}function dN(t,i,o,s,a,l,c){let u=i%2?2:1;(function Z4e(t,i,o,s,a){for(let l=0;l<=s.length;l++){let c=l?s[l-1].to:i,u=l<s.length?s[l].from:o,p=l?256:a;for(let h=c,g=p,y=p;h<u;h++){let E=UK(t.charCodeAt(h));512==E?E=g:8==E&&4==y&&(E=16),zi[h]=4==E?2:E,7&E&&(y=E),g=E}for(let h=c,g=p,y=p;h<u;h++){let E=zi[h];if(128==E)h<u-1&&g==zi[h+1]&&24&g?E=zi[h]=g:zi[h]=256;else if(64==E){let C=h+1;for(;C<u&&64==zi[C];)C++;let D=h&&8==g||C<o&&8==zi[C]?1==y?1:8:256;for(let O=h;O<C;O++)zi[O]=D;h=C-1}else 8==E&&1==y&&(zi[h]=1);g=E,7&E&&(y=E)}}})(t,a,l,s,u),function J4e(t,i,o,s,a){let l=1==a?2:1;for(let c=0,u=0,p=0;c<=s.length;c++){let g=c<s.length?s[c].from:o;for(let E,C,D,y=c?s[c-1].to:i;y<g;y++)if(C=cN[E=t.charCodeAt(y)])if(C<0){for(let O=u-3;O>=0;O-=3)if(qd[O+1]==-C){let A=qd[O+2],F=2&A?a:4&A?1&A?l:a:0;F&&(zi[y]=zi[qd[O]]=F),u=O;break}}else{if(189==qd.length)break;qd[u++]=y,qd[u++]=E,qd[u++]=p}else if(2==(D=zi[y])||1==D){let O=D==a;p=O?0:1;for(let A=u-3;A>=0;A-=3){let F=qd[A+2];if(2&F)break;if(O)qd[A+2]|=2;else{if(4&F)break;qd[A+2]|=4}}}}}(t,a,l,s,u),function eEe(t,i,o,s){for(let a=0,l=s;a<=o.length;a++){let u=a<o.length?o[a].from:i;for(let p=a?o[a-1].to:t;p<u;){let h=zi[p];if(256==h){let g=p+1;for(;;)if(g==u){if(a==o.length)break;g=o[a++].to,u=a<o.length?o[a].from:i}else{if(256!=zi[g])break;g++}let y=1==l,C=y==(1==(g<i?zi[g]:s))?y?1:2:s;for(let D=g,O=a,A=O?o[O-1].to:t;D>p;)D==A&&(D=o[--O].from,A=O?o[O-1].to:t),zi[--D]=C;p=g}else l=h,p++}}}(a,l,s,u),uN(t,a,l,i,o,s,c)}function WK(t){return[new Nm(0,t,0)]}let XK="";function YK(t,i,o,s,a){var l;let c=s.head-t.from,u=Nm.find(i,c,null!==(l=s.bidiLevel)&&void 0!==l?l:-1,s.assoc),p=i[u],h=p.side(a,o);if(c==h){let E=u+=a?1:-1;if(E<0||E>=i.length)return null;p=i[u=E],c=p.side(!a,o),h=p.side(a,o)}let g=yl(t.text,c,p.forward(a,o));(g<p.from||g>p.to)&&(g=h),XK=t.text.slice(Math.min(c,g),Math.max(c,g));let y=u==(a?i.length-1:0)?null:i[u+(a?1:-1)];return y&&g==h&&y.level+(a?0:1)<p.level?ct.cursor(y.side(!a,o)+t.from,y.forward(a,o)?1:-1,y.level):ct.cursor(g+t.from,p.forward(a,o)?-1:1,p.level)}function tEe(t,i,o){for(let s=i;s<o;s++){let a=UK(t.charCodeAt(s));if(1==a)return Wv;if(2==a||4==a)return lN}return Wv}const KK=Ht.define(),QK=Ht.define(),ZK=Ht.define(),JK=Ht.define(),pN=Ht.define(),eQ=Ht.define(),tQ=Ht.define(),nQ=Ht.define({combine:t=>t.some(i=>i)}),rQ=Ht.define({combine:t=>t.some(i=>i)}),iQ=Ht.define();class J3{constructor(i,o="nearest",s="nearest",a=5,l=5,c=!1){this.range=i,this.y=o,this.x=s,this.yMargin=a,this.xMargin=l,this.isSnapshot=c}map(i){return i.empty?this:new J3(this.range.map(i),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(i){return this.range.to<=i.doc.length?this:new J3(ct.cursor(i.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ET=ni.define({map:(t,i)=>t.map(i)});function El(t,i,o){let s=t.facet(JK);s.length?s[0](i):window.onerror?window.onerror(String(i),o,void 0,void 0,i):o?console.error(o+":",i):console.error(i)}const xT=Ht.define({combine:t=>!t.length||t[0]});let nEe=0;const _w=Ht.define();class es{constructor(i,o,s,a,l){this.id=i,this.create=o,this.domEventHandlers=s,this.domEventObservers=a,this.extension=l(this)}static define(i,o){const{eventHandlers:s,eventObservers:a,provide:l,decorations:c}=o||{};return new es(nEe++,i,s,a,u=>{let p=[_w.of(u)];return c&&p.push(Ew.of(h=>{let g=h.plugin(u);return g?c(g):zn.none})),l&&p.push(l(u)),p})}static fromClass(i,o){return es.define(s=>new i(s),o)}}class fN{constructor(i){this.spec=i,this.mustUpdate=null,this.value=null}update(i){if(this.value){if(this.mustUpdate){let o=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(o)}catch(s){if(El(o.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(i)}catch(o){El(i.state,o,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(i){var o;if(null!==(o=this.value)&&void 0!==o&&o.destroy)try{this.value.destroy()}catch(s){El(i.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const oQ=Ht.define(),wT=Ht.define(),Ew=Ht.define(),sQ=Ht.define(),hN=Ht.define(),aQ=Ht.define();function lQ(t,i){let o=t.state.facet(aQ);if(!o.length)return o;let s=o.map(l=>l instanceof Function?l(t):l),a=[];return Bo.spans(s,i.from,i.to,{point(){},span(l,c,u,p){let h=l-i.from,g=c-i.from,y=a;for(let E=u.length-1;E>=0;E--,p--){let D,C=u[E].spec.bidiIsolate;if(null==C&&(C=tEe(i.text,h,g)),p>0&&y.length&&(D=y[y.length-1]).to==h&&D.direction==C)D.to=g,y=D.inner;else{let O={from:h,to:g,direction:C,inner:[]};y.push(O),y=O.inner}}}}),a}const cQ=Ht.define();function uQ(t){let i=0,o=0,s=0,a=0;for(let l of t.state.facet(cQ)){let c=l(t);c&&(null!=c.left&&(i=Math.max(i,c.left)),null!=c.right&&(o=Math.max(o,c.right)),null!=c.top&&(s=Math.max(s,c.top)),null!=c.bottom&&(a=Math.max(a,c.bottom)))}return{left:i,right:o,top:s,bottom:a}}const xw=Ht.define();class Oc{constructor(i,o,s,a){this.fromA=i,this.toA=o,this.fromB=s,this.toB=a}join(i){return new Oc(Math.min(this.fromA,i.fromA),Math.max(this.toA,i.toA),Math.min(this.fromB,i.fromB),Math.max(this.toB,i.toB))}addToSet(i){let o=i.length,s=this;for(;o>0;o--){let a=i[o-1];if(!(a.fromA>s.toA)){if(a.toA<s.fromA)break;s=s.join(a),i.splice(o-1,1)}}return i.splice(o,0,s),i}static extendWithRanges(i,o){if(0==o.length)return i;let s=[];for(let a=0,l=0,c=0,u=0;;a++){let p=a==i.length?null:i[a],h=c-u,g=p?p.fromB:1e9;for(;l<o.length&&o[l]<g;){let E=o[l+1],C=Math.max(u,o[l]),D=Math.min(g,E);if(C<=D&&new Oc(C+h,D+h,C,D).addToSet(s),E>g)break;l+=2}if(!p)return s;new Oc(p.fromA,p.toA,p.fromB,p.toB).addToSet(s),c=p.toA,u=p.toB}}}class CT{constructor(i,o,s){this.view=i,this.state=o,this.transactions=s,this.flags=0,this.startState=i.state,this.changes=Ls.empty(this.startState.doc.length);for(let l of s)this.changes=this.changes.compose(l.changes);let a=[];this.changes.iterChangedRanges((l,c,u,p)=>a.push(new Oc(l,c,u,p))),this.changedRanges=a}static create(i,o,s){return new CT(i,o,s)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(i=>i.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class dQ extends ji{get length(){return this.view.state.doc.length}constructor(i){super(),this.view=i,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(i.contentDOM),this.children=[new Fs],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Oc(0,0,0,i.state.doc.length)],0,null)}update(i){var o;let s=i.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:h,toA:g})=>g<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=i.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=i.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let a=-1;this.view.inputState.composing>=0&&(null!==(o=this.domChanged)&&void 0!==o&&o.newSel?a=this.domChanged.newSel.head:!function cEe(t,i){let o=!1;return i&&t.iterChangedRanges((s,a)=>{s<i.to&&a>i.from&&(o=!0)}),o}(i.changes,this.hasComposition)&&!i.selectionSet&&(a=i.state.selection.main.head));let l=a>-1?function iEe(t,i,o){let s=fQ(t,o);if(!s)return null;let{node:a,from:l,to:c}=s,u=a.nodeValue;if(/[\n\r]/.test(u)||t.state.doc.sliceString(s.from,s.to)!=u)return null;let p=i.invertedDesc,h=new Oc(p.mapPos(l),p.mapPos(c),l,c),g=[];for(let y=a.parentNode;;y=y.parentNode){let E=ji.get(y);if(E instanceof Of)g.push({node:y,deco:E.mark});else{if(E instanceof Fs||"DIV"==y.nodeName&&y.parentNode==t.contentDOM)return{range:h,text:a,marks:g,line:y};if(y==t.contentDOM)return null;g.push({node:y,deco:new vw({inclusive:!0,attributes:W4e(y),tagName:y.tagName.toLowerCase()})})}}}(this.view,i.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:g}=this.hasComposition;s=new Oc(h,g,i.changes.mapPos(h,-1),i.changes.mapPos(g,1)).addToSet(s.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(Xt.ie||Xt.chrome)&&!l&&i&&i.state.doc.lines!=i.startState.doc.lines&&(this.forceSelection=!0);let p=function aEe(t,i,o){let s=new sEe;return Bo.compare(t,i,o,s),s.changes}(this.decorations,this.updateDeco(),i.changes);return s=Oc.extendWithRanges(s,p),!!(7&this.flags||0!=s.length)&&(this.updateInner(s,i.startState.doc.length,l),i.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(i,o,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(i,o,s);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let c=Xt.chrome||Xt.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,c),this.flags&=-8,c&&(c.written||a.selectionRange.focusNode!=c.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(c=>c.flags&=-9);let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let c of this.children)c instanceof Rm&&c.widget instanceof pQ&&l.push(c.dom);a.updateGaps(l)}updateChildren(i,o,s){let a=s?s.range.addToSet(i.slice()):i,l=this.childCursor(o);for(let c=a.length-1;;c--){let u=c>=0?a[c]:null;if(!u)break;let E,C,D,O,{fromA:p,toA:h,fromB:g,toB:y}=u;if(s&&s.range.fromB<y&&s.range.toB>g){let j=bw.build(this.view.state.doc,g,s.range.fromB,this.decorations,this.dynamicDecorationMap),q=bw.build(this.view.state.doc,s.range.toB,y,this.decorations,this.dynamicDecorationMap);C=j.breakAtStart,D=j.openStart,O=q.openEnd;let ee=this.compositionView(s);q.breakAtStart?ee.breakAfter=1:q.content.length&&ee.merge(ee.length,ee.length,q.content[0],!1,q.openStart,0)&&(ee.breakAfter=q.content[0].breakAfter,q.content.shift()),j.content.length&&ee.merge(0,0,j.content[j.content.length-1],!0,0,j.openEnd)&&j.content.pop(),E=j.content.concat(ee).concat(q.content)}else({content:E,breakAtStart:C,openStart:D,openEnd:O}=bw.build(this.view.state.doc,g,y,this.decorations,this.dynamicDecorationMap));let{i:A,off:F}=l.findPos(h,1),{i:N,off:B}=l.findPos(p,-1);OK(this,N,B,A,F,E,C,D,O)}s&&this.fixCompositionDOM(s)}compositionView(i){let o=new x0(i.text.nodeValue);o.flags|=8;for(let{deco:a}of i.marks)o=new Of(a,[o],o.length);let s=new Fs;return s.append(o,0),s}fixCompositionDOM(i){let o=(l,c)=>{c.flags|=8|(c.children.some(p=>7&p.flags)?1:0),this.markedForComposition.add(c);let u=ji.get(l);u&&u!=c&&(u.dom=null),c.setDOM(l)},s=this.childPos(i.range.fromB,1),a=this.children[s.i];o(i.line,a);for(let l=i.marks.length-1;l>=-1;l--)s=a.childPos(s.off,1),a=a.children[s.i],o(l>=0?i.marks[l].node:i.text,a)}updateSelection(i=!1,o=!1){(i||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,a=s==this.dom,l=!a&&gT(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(a||o||l))return;let c=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,p=this.moveToLine(this.domAtPos(u.anchor)),h=u.empty?p:this.moveToLine(this.domAtPos(u.head));if(Xt.gecko&&u.empty&&!this.hasComposition&&function rEe(t){return 1==t.node.nodeType&&t.node.firstChild&&(0==t.offset||"false"==t.node.childNodes[t.offset-1].contentEditable)&&(t.offset==t.node.childNodes.length||"false"==t.node.childNodes[t.offset].contentEditable)}(p)){let y=document.createTextNode("");this.view.observer.ignore(()=>p.node.insertBefore(y,p.node.childNodes[p.offset]||null)),p=h=new Va(y,0),c=!0}let g=this.view.observer.selectionRange;(c||!g.focusNode||(!gw(p.node,p.offset,g.anchorNode,g.anchorOffset)||!gw(h.node,h.offset,g.focusNode,g.focusOffset))&&!this.suppressWidgetCursorChange(g,u))&&(this.view.observer.ignore(()=>{Xt.android&&Xt.chrome&&this.dom.contains(g.focusNode)&&function lEe(t,i){for(let o=t;o&&o!=i;o=o.assignedSlot||o.parentNode)if(1==o.nodeType&&"false"==o.contentEditable)return!0;return!1}(g.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=mT(this.view.root);if(y)if(u.empty){if(Xt.gecko){let E=function oEe(t,i){return 1!=t.nodeType?0:(i&&"false"==t.childNodes[i-1].contentEditable?1:0)|(i<t.childNodes.length&&"false"==t.childNodes[i].contentEditable?2:0)}(p.node,p.offset);if(E&&3!=E){let C=(1==E?DK:TK)(p.node,p.offset);C&&(p=new Va(C.node,C.offset))}}y.collapse(p.node,p.offset),null!=u.bidiLevel&&void 0!==y.caretBidiLevel&&(y.caretBidiLevel=u.bidiLevel)}else if(y.extend){y.collapse(p.node,p.offset);try{y.extend(h.node,h.offset)}catch{}}else{let E=document.createRange();u.anchor>u.head&&([p,h]=[h,p]),E.setEnd(h.node,h.offset),E.setStart(p.node,p.offset),y.removeAllRanges(),y.addRange(E)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(p,h)),this.impreciseAnchor=p.precise?null:new Va(g.anchorNode,g.anchorOffset),this.impreciseHead=h.precise?null:new Va(g.focusNode,g.focusOffset)}suppressWidgetCursorChange(i,o){return this.hasComposition&&o.empty&&gw(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)&&this.posFromDOM(i.focusNode,i.focusOffset)==o.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:i}=this,o=i.state.selection.main,s=mT(i.root),{anchorNode:a,anchorOffset:l}=i.observer.selectionRange;if(!(s&&o.empty&&o.assoc&&s.modify))return;let c=Fs.find(this,o.head);if(!c)return;let u=c.posAtStart;if(o.head==u||o.head==u+c.length)return;let p=this.coordsAt(o.head,-1),h=this.coordsAt(o.head,1);if(!p||!h||p.bottom>h.top)return;let g=this.domAtPos(o.head+o.assoc);s.collapse(g.node,g.offset),s.modify("move",o.assoc<0?"forward":"backward","lineboundary"),i.observer.readSelectionRange();let y=i.observer.selectionRange;i.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=o.from&&s.collapse(a,l)}moveToLine(i){let s,o=this.dom;if(i.node!=o)return i;for(let a=i.offset;!s&&a<o.childNodes.length;a++){let l=ji.get(o.childNodes[a]);l instanceof Fs&&(s=l.domAtPos(0))}for(let a=i.offset-1;!s&&a>=0;a--){let l=ji.get(o.childNodes[a]);l instanceof Fs&&(s=l.domAtPos(l.length))}return s?new Va(s.node,s.offset,!0):i}nearest(i){for(let o=i;o;){let s=ji.get(o);if(s&&s.rootView==this)return s;o=o.parentNode}return null}posFromDOM(i,o){let s=this.nearest(i);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(i,o)+s.posAtStart}domAtPos(i){let{i:o,off:s}=this.childCursor().findPos(i,-1);for(;o<this.children.length-1;){let a=this.children[o];if(s<a.length||a instanceof Fs)break;o++,s=0}return this.children[o].domAtPos(s)}coordsAt(i,o){let s=null,a=0;for(let l=this.length,c=this.children.length-1;c>=0;c--){let u=this.children[c],p=l-u.breakAfter,h=p-u.length;if(p<i)break;h<=i&&(h<i||u.covers(-1))&&(p>i||u.covers(1))&&(!s||u instanceof Fs&&!(s instanceof Fs&&o>=0))&&(s=u,a=h),l=h}return s?s.coordsAt(i-a,o):null}coordsForChar(i){let{i:o,off:s}=this.childPos(i,1),a=this.children[o];if(!(a instanceof Fs))return null;for(;a.children.length;){let{i:u,off:p}=a.childPos(s,1);for(;;u++){if(u==a.children.length)return null;if((a=a.children[u]).length)break}s=p}if(!(a instanceof x0))return null;let l=yl(a.text,s);if(l==s)return null;let c=qv(a.dom,s,l).getClientRects();for(let u=0;u<c.length;u++){let p=c[u];if(u==c.length-1||p.top<p.bottom&&p.left<p.right)return p}return null}measureVisibleLineHeights(i){let o=[],{from:s,to:a}=i,l=this.view.contentDOM.clientWidth,c=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,p=this.view.textDirection==$i.LTR;for(let h=0,g=0;g<this.children.length;g++){let y=this.children[g],E=h+y.length;if(E>a)break;if(h>=s){let C=y.dom.getBoundingClientRect();if(o.push(C.height),c){let D=y.dom.lastChild,O=D?Y3(D):[];if(O.length){let A=O[O.length-1],F=p?A.right-C.left:C.right-A.left;F>u&&(u=F,this.minWidth=l,this.minWidthFrom=h,this.minWidthTo=E)}}}h=E+y.breakAfter}return o}textDirectionAt(i){let{i:o}=this.childPos(i,1);return"rtl"==getComputedStyle(this.children[o].dom).direction?$i.RTL:$i.LTR}measureTextSize(){for(let l of this.children)if(l instanceof Fs){let c=l.measureTextSize();if(c)return c}let o,s,a,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let l=Y3(i.firstChild)[0];o=i.getBoundingClientRect().height,s=l?l.width/27:7,a=l?l.height:o,i.remove()}),{lineHeight:o,charWidth:s,textHeight:a}}childCursor(i=this.length){let o=this.children.length;return o&&(i-=this.children[--o].length),new MK(this.children,i,o)}computeBlockGapDeco(){let i=[],o=this.view.viewState;for(let s=0,a=0;;a++){let l=a==o.viewports.length?null:o.viewports[a],c=l?l.from-1:this.length;if(c>s){let u=(o.lineBlockAt(c).bottom-o.lineBlockAt(s).top)/this.view.scaleY;i.push(zn.replace({widget:new pQ(u),block:!0,inclusive:!0,isBlockGap:!0}).range(s,c))}if(!l)break;s=l.to+1}return zn.set(i)}updateDeco(){let i=0,o=this.view.state.facet(Ew).map(l=>(this.dynamicDecorationMap[i++]="function"==typeof l)?l(this.view):l),s=!1,a=this.view.state.facet(sQ).map((l,c)=>{let u="function"==typeof l;return u&&(s=!0),u?l(this.view):l});for(a.length&&(this.dynamicDecorationMap[i++]=s,o.push(Bo.join(a))),this.decorations=[...o,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];i<this.decorations.length;)this.dynamicDecorationMap[i++]=!1;return this.decorations}scrollIntoView(i){if(i.isSnapshot){let h=this.view.viewState.lineBlockAt(i.range.head);return this.view.scrollDOM.scrollTop=h.top-i.yMargin,void(this.view.scrollDOM.scrollLeft=i.xMargin)}for(let h of this.view.state.facet(iQ))try{if(h(this.view,i.range,i))return!0}catch(g){El(this.view.state,g,"scroll handler")}let a,{range:o}=i,s=this.coordsAt(o.head,o.empty?o.assoc:o.head>o.anchor?-1:1);if(!s)return;!o.empty&&(a=this.coordsAt(o.anchor,o.anchor>o.head?-1:1))&&(s={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top),right:Math.max(s.right,a.right),bottom:Math.max(s.bottom,a.bottom)});let l=uQ(this.view),c={left:s.left-l.left,top:s.top-l.top,right:s.right+l.right,bottom:s.bottom+l.bottom},{offsetWidth:u,offsetHeight:p}=this.view.scrollDOM;!function V4e(t,i,o,s,a,l,c,u){let p=t.ownerDocument,h=p.defaultView||window;for(let g=t,y=!1;g&&!y;)if(1==g.nodeType){let E,C=g==p.body,D=1,O=1;if(C)E=B4e(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(g).position)&&(y=!0),g.scrollHeight<=g.clientHeight&&g.scrollWidth<=g.clientWidth){g=g.assignedSlot||g.parentNode;continue}let N=g.getBoundingClientRect();({scaleX:D,scaleY:O}=EK(g,N)),E={left:N.left,right:N.left+g.clientWidth*D,top:N.top,bottom:N.top+g.clientHeight*O}}let A=0,F=0;if("nearest"==a)i.top<E.top?(F=-(E.top-i.top+c),o>0&&i.bottom>E.bottom+F&&(F=i.bottom-E.bottom+F+c)):i.bottom>E.bottom&&(F=i.bottom-E.bottom+c,o<0&&i.top-F<E.top&&(F=-(E.top+F-i.top+c)));else{let N=i.bottom-i.top,B=E.bottom-E.top;F=("center"==a&&N<=B?i.top+N/2-B/2:"start"==a||"center"==a&&o<0?i.top-c:i.bottom-B+c)-E.top}if("nearest"==s?i.left<E.left?(A=-(E.left-i.left+l),o>0&&i.right>E.right+A&&(A=i.right-E.right+A+l)):i.right>E.right&&(A=i.right-E.right+l,o<0&&i.left<E.left+A&&(A=-(E.left+A-i.left+l))):A=("center"==s?i.left+(i.right-i.left)/2-(E.right-E.left)/2:"start"==s==u?i.left-l:i.right-(E.right-E.left)+l)-E.left,A||F)if(C)h.scrollBy(A,F);else{let N=0,B=0;if(F){let j=g.scrollTop;g.scrollTop+=F/O,B=(g.scrollTop-j)*O}if(A){let j=g.scrollLeft;g.scrollLeft+=A/D,N=(g.scrollLeft-j)*D}i={left:i.left-N,top:i.top-B,right:i.right-N,bottom:i.bottom-B},N&&Math.abs(N-A)<1&&(s="nearest"),B&&Math.abs(B-F)<1&&(a="nearest")}if(C)break;g=g.assignedSlot||g.parentNode}else{if(11!=g.nodeType)break;g=g.host}}(this.view.scrollDOM,c,o.head<o.anchor?-1:1,i.x,i.y,Math.max(Math.min(i.xMargin,u),-u),Math.max(Math.min(i.yMargin,p),-p),this.view.textDirection==$i.LTR)}}class pQ extends Gd{constructor(i){super(),this.height=i}toDOM(){let i=document.createElement("div");return i.className="cm-gap",this.updateDOM(i),i}eq(i){return i.height==this.height}updateDOM(i){return i.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function fQ(t,i){let o=t.observer.selectionRange;if(!o.focusNode)return null;let s=DK(o.focusNode,o.focusOffset),a=TK(o.focusNode,o.focusOffset),l=s||a;if(a&&s&&a.node!=s.node){let u=ji.get(a.node);if(!u||u instanceof x0&&u.text!=a.node.nodeValue)l=a;else if(t.docView.lastCompositionAfterCursor){let p=ji.get(s.node);!p||p instanceof x0&&p.text!=s.node.nodeValue||(l=a)}}if(t.docView.lastCompositionAfterCursor=l!=s,!l)return null;let c=i-l.offset;return{from:c,to:c+l.node.nodeValue.length,node:l.node}}let sEe=class{constructor(){this.changes=[]}compareRange(i,o){aN(i,o,this.changes)}comparePoint(i,o){aN(i,o,this.changes)}};function dEe(t,i){return i.left>t?i.left-t:Math.max(0,t-i.right)}function pEe(t,i){return i.top>t?i.top-t:Math.max(0,t-i.bottom)}function mN(t,i){return t.top<i.bottom-1&&t.bottom>i.top+1}function hQ(t,i){return i<t.top?{top:i,left:t.left,right:t.right,bottom:t.bottom}:t}function mQ(t,i){return i>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:i}:t}function gN(t,i,o){let s,a,l,c,p,h,g,y,u=!1;for(let D=t.firstChild;D;D=D.nextSibling){let O=Y3(D);for(let A=0;A<O.length;A++){let F=O[A];a&&mN(a,F)&&(F=hQ(mQ(F,a.bottom),a.top));let N=dEe(i,F),B=pEe(o,F);if(0==N&&0==B)return 3==D.nodeType?gQ(D,i,o):gN(D,i,o);if(!s||c>B||c==B&&l>N){s=D,a=F,l=N,c=B;let j=B?o<F.top?-1:1:N?i<F.left?-1:1:0;u=!j||(j>0?A<O.length-1:A>0)}0==N?o>F.bottom&&(!g||g.bottom<F.bottom)?(p=D,g=F):o<F.top&&(!y||y.top>F.top)&&(h=D,y=F):g&&mN(g,F)?g=mQ(g,F.bottom):y&&mN(y,F)&&(y=hQ(y,F.top))}}if(g&&g.bottom>=o?(s=p,a=g):y&&y.top<=o&&(s=h,a=y),!s)return{node:t,offset:0};let E=Math.max(a.left,Math.min(a.right,i));return 3==s.nodeType?gQ(s,E,o):u&&"false"!=s.contentEditable?gN(s,E,o):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,s)+(i>=(a.left+a.right)/2?1:0)}}function gQ(t,i,o){let s=t.nodeValue.length,a=-1,l=1e9,c=0;for(let u=0;u<s;u++){let p=qv(t,u,u+1).getClientRects();for(let h=0;h<p.length;h++){let g=p[h];if(g.top==g.bottom)continue;c||(c=i-g.left);let y=(g.top>o?g.top-o:o-g.bottom)-1;if(g.left-1<=i&&g.right+1>=i&&y<l){let E=i>=(g.left+g.right)/2,C=E;if((Xt.chrome||Xt.gecko)&&qv(t,u).getBoundingClientRect().left==g.right&&(C=!E),y<=0)return{node:t,offset:u+(C?1:0)};a=u+(C?1:0),l=y}}}return{node:t,offset:a>-1?a:c>0?t.nodeValue.length:0}}function vQ(t,i,o,s=-1){var a,l;let p,c=t.contentDOM.getBoundingClientRect(),u=c.top+t.viewState.paddingTop,{docHeight:h}=t.viewState,{x:g,y}=i,E=y-u;if(E<0)return 0;if(E>h)return t.state.doc.length;for(let j=t.viewState.heightOracle.textHeight/2,q=!1;p=t.elementAtHeight(E),p.type!=_l.Text;)for(;E=s>0?p.bottom+j:p.top-j,!(E>=0&&E<=h);){if(q)return o?null:0;q=!0,s=-s}y=u+E;let C=p.from;if(C<t.viewport.from)return 0==t.viewport.from?0:o?null:yQ(t,c,p,g,y);if(C>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:o?null:yQ(t,c,p,g,y);let D=t.dom.ownerDocument,O=t.root.elementFromPoint?t.root:D,A=O.elementFromPoint(g,y);A&&!t.contentDOM.contains(A)&&(A=null),A||(g=Math.max(c.left+1,Math.min(c.right-1,g)),A=O.elementFromPoint(g,y),A&&!t.contentDOM.contains(A)&&(A=null));let F,N=-1;if(A&&0!=(null===(a=t.docView.nearest(A))||void 0===a?void 0:a.isEditable))if(D.caretPositionFromPoint){let j=D.caretPositionFromPoint(g,y);j&&({offsetNode:F,offset:N}=j)}else if(D.caretRangeFromPoint){let j=D.caretRangeFromPoint(g,y);j&&(({startContainer:F,startOffset:N}=j),(!t.contentDOM.contains(F)||Xt.safari&&function fEe(t,i,o){let s;if(3!=t.nodeType||i!=(s=t.nodeValue.length))return!1;for(let a=t.nextSibling;a;a=a.nextSibling)if(1!=a.nodeType||"BR"!=a.nodeName)return!1;return qv(t,s-1,s).getBoundingClientRect().left>o}(F,N,g)||Xt.chrome&&function hEe(t,i,o){if(0!=i)return!1;for(let a=t;;){let l=a.parentNode;if(!l||1!=l.nodeType||l.firstChild!=a)return!1;if(l.classList.contains("cm-line"))break;a=l}return o-(1==t.nodeType?t.getBoundingClientRect():qv(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(F,N,g))&&(F=void 0))}if(!F||!t.docView.dom.contains(F)){let j=Fs.find(t.docView,C);if(!j)return E>p.top+p.height/2?p.to:p.from;({node:F,offset:N}=gN(j.dom,g,y))}let B=t.docView.nearest(F);if(!B)return null;if(B.isWidget&&1==(null===(l=B.dom)||void 0===l?void 0:l.nodeType)){let j=B.dom.getBoundingClientRect();return i.y<j.top||i.y<=j.bottom&&i.x<=(j.left+j.right)/2?B.posAtStart:B.posAtEnd}return B.localPosFromDOM(F,N)+B.posAtStart}function yQ(t,i,o,s,a){let l=Math.round((s-i.left)*t.defaultCharacterWidth);if(t.lineWrapping&&o.height>1.5*t.defaultLineHeight){let u=t.viewState.heightOracle.textHeight;l+=Math.floor((a-o.top-.5*(t.defaultLineHeight-u))/u)*t.viewState.heightOracle.lineLength}let c=t.state.sliceDoc(o.from,o.to);return o.from+function A4e(t,i,o,s){for(let a=0,l=0;;){if(l>=i)return a;if(a==t.length)break;l+=9==t.charCodeAt(a)?o-l%o:1,a=yl(t,a)}return!0===s?-1:t.length}(c,l,t.state.tabSize)}function bQ(t,i,o,s){let a=t.state.doc.lineAt(i.head),l=t.bidiSpans(a),c=t.textDirectionAt(a.from);for(let u=i,p=null;;){let h=YK(a,l,c,u,o),g=XK;if(!h){if(a.number==(o?t.state.doc.lines:1))return u;g="\n",a=t.state.doc.line(a.number+(o?1:-1)),l=t.bidiSpans(a),h=t.visualLineSide(a,!o)}if(p){if(!p(g))return u}else{if(!s)return h;p=s(g)}u=h}}function ST(t,i,o){for(;;){let s=0;for(let a of t)a.between(i-1,i+1,(l,c,u)=>{if(i>l&&i<c){let p=s||o||(i-l<c-i?-1:1);i=p<0?l:c,s=p}});if(!s)return i}}function yN(t,i,o){let s=ST(t.state.facet(hN).map(a=>a(t)),o.from,i.head>o.from?-1:1);return s==o.from?o:ct.cursor(s,s<o.from?1:-1)}class yEe{setSelectionOrigin(i){this.lastSelectionOrigin=i,this.lastSelectionTime=Date.now()}constructor(i){this.view=i,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=i.hasFocus,Xt.safari&&i.contentDOM.addEventListener("input",()=>null),Xt.gecko&&function IEe(t){FQ.has(t)||(FQ.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}(i.contentDOM.ownerDocument)}handleEvent(i){!function DEe(t,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let s,o=i.target;o!=t.contentDOM;o=o.parentNode)if(!o||11==o.nodeType||(s=ji.get(o))&&s.ignoreEvent(i))return!1;return!0}(this.view,i)||this.ignoreDuringComposition(i)||"keydown"==i.type&&this.keydown(i)||this.runHandlers(i.type,i)}runHandlers(i,o){let s=this.handlers[i];if(s){for(let a of s.observers)a(this.view,o);for(let a of s.handlers){if(o.defaultPrevented)break;if(a(this.view,o)){o.preventDefault();break}}}}ensureHandlers(i){let o=function bEe(t){let i=Object.create(null);function o(s){return i[s]||(i[s]={observers:[],handlers:[]})}for(let s of t){let a=s.spec;if(a&&a.domEventHandlers)for(let l in a.domEventHandlers){let c=a.domEventHandlers[l];c&&o(l).handlers.push(_Q(s.value,c))}if(a&&a.domEventObservers)for(let l in a.domEventObservers){let c=a.domEventObservers[l];c&&o(l).observers.push(_Q(s.value,c))}}for(let s in w0)o(s).handlers.push(w0[s]);for(let s in hu)o(s).observers.push(hu[s]);return i}(i),s=this.handlers,a=this.view.contentDOM;for(let l in o)if("scroll"!=l){let c=!o[l].handlers.length,u=s[l];u&&c!=!u.handlers.length&&(a.removeEventListener(l,this.handleEvent),u=null),u||a.addEventListener(l,this.handleEvent,{passive:c})}for(let l in s)"scroll"!=l&&!o[l]&&a.removeEventListener(l,this.handleEvent);this.handlers=o}keydown(i){if(this.lastKeyCode=i.keyCode,this.lastKeyTime=Date.now(),9==i.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=i.keyCode&&xQ.indexOf(i.keyCode)<0&&(this.view.inputState.lastEscPress=0),Xt.android&&Xt.chrome&&!i.synthetic&&(13==i.keyCode||8==i.keyCode))return this.view.observer.delayAndroidKey(i.key,i.keyCode),!0;let o;return!Xt.ios||i.synthetic||i.altKey||i.metaKey||!((o=EQ.find(s=>s.keyCode==i.keyCode))&&!i.ctrlKey||_Ee.indexOf(i.key)>-1&&i.ctrlKey&&!i.shiftKey)?(229!=i.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=o||i,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(i){let o=this.pendingIOSKey;return!(!o||"Enter"==o.key&&i&&i.from<i.to&&/^\S+$/.test(i.insert.toString()))&&(this.pendingIOSKey=void 0,Q3(this.view.contentDOM,o.key,o.keyCode,o instanceof KeyboardEvent?o:void 0))}ignoreDuringComposition(i){return!!/^key/.test(i.type)&&(this.composing>0||!!(Xt.safari&&!Xt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(i){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=i}update(i){this.mouseSelection&&this.mouseSelection.update(i),this.draggedContent&&i.docChanged&&(this.draggedContent=this.draggedContent.map(i.changes)),i.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function _Q(t,i){return(o,s)=>{try{return i.call(t,s,o)}catch(a){El(o.state,a)}}}const EQ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],_Ee="dthko",xQ=[16,17,18,20,91,92,224,225];function TT(t){return.7*Math.max(0,t)+8}class xEe{constructor(i,o,s,a){this.view=i,this.startEvent=o,this.style=s,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=o,this.scrollParent=function j4e(t){let i=t.ownerDocument;for(let o=t.parentNode;o&&o!=i.body;)if(1==o.nodeType){if(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth)return o;o=o.assignedSlot||o.parentNode}else{if(11!=o.nodeType)break;o=o.host}return null}(i.contentDOM),this.atoms=i.state.facet(hN).map(c=>c(i));let l=i.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=o.shiftKey,this.multiple=i.state.facet(Pc.allowMultipleSelections)&&function wEe(t,i){let o=t.state.facet(KK);return o.length?o[0](i):Xt.mac?i.metaKey:i.ctrlKey}(i,o),this.dragging=!(!function SEe(t,i){let{main:o}=t.state.selection;if(o.empty)return!1;let s=mT(t.root);if(!s||0==s.rangeCount)return!0;let a=s.getRangeAt(0).getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(c.left<=i.clientX&&c.right>=i.clientX&&c.top<=i.clientY&&c.bottom>=i.clientY)return!0}return!1}(i,o)||1!=AQ(o))&&null}start(i){!1===this.dragging&&this.select(i)}move(i){var o;if(0==i.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function EEe(t,i){return Math.max(Math.abs(t.clientX-i.clientX),Math.abs(t.clientY-i.clientY))}(this.startEvent,i)<10)return;this.select(this.lastEvent=i);let s=0,a=0,l=(null===(o=this.scrollParent)||void 0===o?void 0:o.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},c=uQ(this.view);i.clientX-c.left<=l.left+6?s=-TT(l.left-i.clientX):i.clientX+c.right>=l.right-6&&(s=TT(i.clientX-l.right)),i.clientY-c.top<=l.top+6?a=-TT(l.top-i.clientY):i.clientY+c.bottom>=l.bottom-6&&(a=TT(i.clientY-l.bottom)),this.setScrollSpeed(s,a)}up(i){null==this.dragging&&this.select(this.lastEvent),this.dragging||i.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let i=this.view.contentDOM.ownerDocument;i.removeEventListener("mousemove",this.move),i.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(i,o){this.scrollSpeed={x:i,y:o},i||o?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(i){let o=null;for(let s=0;s<i.ranges.length;s++){let a=i.ranges[s],l=null;if(a.empty){let c=ST(this.atoms,a.from,0);c!=a.from&&(l=ct.cursor(c,-1))}else{let c=ST(this.atoms,a.from,-1),u=ST(this.atoms,a.to,1);(c!=a.from||u!=a.to)&&(l=ct.range(a.from==a.anchor?c:u,a.from==a.head?c:u))}l&&(o||(o=i.ranges.slice()),o[s]=l)}return o?ct.create(o,i.mainIndex):i}select(i){let{view:o}=this,s=this.skipAtoms(this.style.get(i,this.extend,this.multiple));(this.mustSelect||!s.eq(o.state.selection,!1===this.dragging))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(i){this.style.update(i)&&setTimeout(()=>this.select(this.lastEvent),20)}}const w0=Object.create(null),hu=Object.create(null),wQ=Xt.ie&&Xt.ie_version<15||Xt.ios&&Xt.webkit_version<604;function CQ(t,i){let s,{state:o}=t,a=1,l=o.toText(i),c=l.lines==o.selection.ranges.length;if(null!=bN&&o.selection.ranges.every(p=>p.empty)&&bN==l.toString()){let p=-1;s=o.changeByRange(h=>{let g=o.doc.lineAt(h.from);if(g.from==p)return{range:h};p=g.from;let y=o.toText((c?l.line(a++).text:i)+o.lineBreak);return{changes:{from:g.from,insert:y},range:ct.cursor(h.from+y.length)}})}else s=c?o.changeByRange(p=>{let h=l.line(a++);return{changes:{from:p.from,to:p.to,insert:h.text},range:ct.cursor(p.from+h.length)}}):o.replaceSelection(l);t.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}function SQ(t,i,o,s){if(1==s)return ct.cursor(i,o);if(2==s)return function uEe(t,i,o=1){let s=t.charCategorizer(i),a=t.doc.lineAt(i),l=i-a.from;if(0==a.length)return ct.cursor(i);0==l?o=1:l==a.length&&(o=-1);let c=l,u=l;o<0?c=yl(a.text,l,!1):u=yl(a.text,l);let p=s(a.text.slice(c,u));for(;c>0;){let h=yl(a.text,c,!1);if(s(a.text.slice(h,c))!=p)break;c=h}for(;u<a.length;){let h=yl(a.text,u);if(s(a.text.slice(u,h))!=p)break;u=h}return ct.range(c+a.from,u+a.from)}(t.state,i,o);{let a=Fs.find(t.docView,i),l=t.state.doc.lineAt(a?a.posAtEnd:i),u=a?a.posAtEnd:l.to;return u<t.state.doc.length&&u==l.to&&u++,ct.range(a?a.posAtStart:l.from,u)}}hu.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},w0.keydown=(t,i)=>(t.inputState.setSelectionOrigin("select"),27==i.keyCode&&(t.inputState.lastEscPress=Date.now()),!1),hu.touchstart=(t,i)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},hu.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},w0.mousedown=(t,i)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let o=null;for(let s of t.state.facet(ZK))if(o=s(t,i),o)break;if(!o&&0==i.button&&(o=function OEe(t,i){let o=PQ(t,i),s=AQ(i),a=t.state.selection;return{update(l){l.docChanged&&(o.pos=l.changes.mapPos(o.pos),a=a.map(l.changes))},get(l,c,u){let h,p=PQ(t,l),g=SQ(t,p.pos,p.bias,s);if(o.pos!=p.pos&&!c){let y=SQ(t,o.pos,o.bias,s),E=Math.min(y.from,g.from),C=Math.max(y.to,g.to);g=E<g.from?ct.range(E,C):ct.range(C,E)}return c?a.replaceRange(a.main.extend(g.from,g.to)):u&&1==s&&a.ranges.length>1&&(h=function kEe(t,i){for(let o=0;o<t.ranges.length;o++){let{from:s,to:a}=t.ranges[o];if(s<=i&&a>=i)return ct.create(t.ranges.slice(0,o).concat(t.ranges.slice(o+1)),t.mainIndex==o?0:t.mainIndex-(t.mainIndex>o?1:0))}return null}(a,p.pos))?h:u?a.addRange(g):ct.create([g])}}}(t,i)),o){let s=!t.hasFocus;t.inputState.startMouseSelection(new xEe(t,i,o,s)),s&&t.observer.ignore(()=>xK(t.contentDOM));let a=t.inputState.mouseSelection;if(a)return a.start(i),!1===a.dragging}return!1};let DQ=(t,i)=>t>=i.top&&t<=i.bottom,TQ=(t,i,o)=>DQ(i,o)&&t>=o.left&&t<=o.right;function PEe(t,i,o,s){let a=Fs.find(t.docView,i);if(!a)return 1;let l=i-a.posAtStart;if(0==l)return 1;if(l==a.length)return-1;let c=a.coordsAt(l,-1);if(c&&TQ(o,s,c))return-1;let u=a.coordsAt(l,1);return u&&TQ(o,s,u)?1:c&&DQ(s,c)?-1:1}function PQ(t,i){let o=t.posAtCoords({x:i.clientX,y:i.clientY},!1);return{pos:o,bias:PEe(t,o,i.clientX,i.clientY)}}const MEe=Xt.ie&&Xt.ie_version<=11;let MQ=null,OQ=0,kQ=0;function AQ(t){if(!MEe)return t.detail;let i=MQ,o=kQ;return MQ=t,kQ=Date.now(),OQ=!i||o>Date.now()-400&&Math.abs(i.clientX-t.clientX)<2&&Math.abs(i.clientY-t.clientY)<2?(OQ+1)%3:1}function RQ(t,i,o,s){if(!o)return;let a=t.posAtCoords({x:i.clientX,y:i.clientY},!1),{draggedContent:l}=t.inputState,c=s&&l&&function CEe(t,i){let o=t.state.facet(QK);return o.length?o[0](i):Xt.mac?!i.altKey:!i.ctrlKey}(t,i)?{from:l.from,to:l.to}:null,u={from:a,insert:o},p=t.state.changes(c?[c,u]:u);t.focus(),t.dispatch({changes:p,selection:{anchor:p.mapPos(a,-1),head:p.mapPos(a,1)},userEvent:c?"move.drop":"input.drop"}),t.inputState.draggedContent=null}w0.dragstart=(t,i)=>{let{selection:{main:o}}=t.state;if(i.target.draggable){let a=t.docView.nearest(i.target);if(a&&a.isWidget){let l=a.posAtStart,c=l+a.length;(l>=o.to||c<=o.from)&&(o=ct.range(l,c))}}let{inputState:s}=t;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=o,i.dataTransfer&&(i.dataTransfer.setData("Text",t.state.sliceDoc(o.from,o.to)),i.dataTransfer.effectAllowed="copyMove"),!1},w0.dragend=t=>(t.inputState.draggedContent=null,!1),w0.drop=(t,i)=>{if(!i.dataTransfer)return!1;if(t.state.readOnly)return!0;let o=i.dataTransfer.files;if(o&&o.length){let s=Array(o.length),a=0,l=()=>{++a==o.length&&RQ(t,i,s.filter(c=>null!=c).join(t.state.lineBreak),!1)};for(let c=0;c<o.length;c++){let u=new FileReader;u.onerror=l,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(s[c]=u.result),l()},u.readAsText(o[c])}return!0}{let s=i.dataTransfer.getData("Text");if(s)return RQ(t,i,s,!0),!0}return!1},w0.paste=(t,i)=>{if(t.state.readOnly)return!0;t.observer.flush();let o=wQ?null:i.clipboardData;return o?(CQ(t,o.getData("text/plain")||o.getData("text/uri-list")),!0):(function TEe(t){let i=t.dom.parentNode;if(!i)return;let o=i.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(()=>{t.focus(),o.remove(),CQ(t,o.value)},50)}(t),!1)};let bN=null;w0.copy=w0.cut=(t,i)=>{let{text:o,ranges:s,linewise:a}=function REe(t){let i=[],o=[],s=!1;for(let a of t.selection.ranges)a.empty||(i.push(t.sliceDoc(a.from,a.to)),o.push(a));if(!i.length){let a=-1;for(let{from:l}of t.selection.ranges){let c=t.doc.lineAt(l);c.number>a&&(i.push(c.text),o.push({from:c.from,to:Math.min(t.doc.length,c.to+1)})),a=c.number}s=!0}return{text:i.join(t.lineBreak),ranges:o,linewise:s}}(t.state);if(!o&&!a)return!1;bN=a?o:null,"cut"==i.type&&!t.state.readOnly&&t.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let l=wQ?null:i.clipboardData;return l?(l.clearData(),l.setData("text/plain",o),!0):(function AEe(t,i){let o=t.dom.parentNode;if(!o)return;let s=o.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=i,s.focus(),s.selectionEnd=i.length,s.selectionStart=0,setTimeout(()=>{s.remove(),t.focus()},50)}(t,o),!1)};const IQ=Tf.define();function NQ(t,i){let o=[];for(let s of t.facet(tQ)){let a=s(t,i);a&&o.push(a)}return o?t.update({effects:o,annotations:IQ.of(!0)}):null}function LQ(t){setTimeout(()=>{let i=t.hasFocus;if(i!=t.inputState.notifiedFocused){let o=NQ(t.state,i);o?t.dispatch(o):t.update([])}},10)}hu.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),LQ(t)},hu.blur=t=>{t.observer.clearSelectionRange(),LQ(t)},hu.compositionstart=hu.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)},hu.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Xt.chrome&&Xt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)},hu.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},w0.beforeinput=(t,i)=>{var o;let s;if(Xt.chrome&&Xt.android&&(s=EQ.find(a=>a.inputType==i.inputType))&&(t.observer.delayAndroidKey(s.key,s.keyCode),"Backspace"==s.key||"Delete"==s.key)){let a=(null===(o=window.visualViewport)||void 0===o?void 0:o.height)||0;setTimeout(()=>{var l;((null===(l=window.visualViewport)||void 0===l?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Xt.ios&&"deleteContentForward"==i.inputType&&t.observer.flushSoon(),Xt.safari&&"insertText"==i.inputType&&t.inputState.composing>=0&&setTimeout(()=>hu.compositionend(t,i),20),!1};const FQ=new Set,BQ=["pre-wrap","normal","pre-line","break-spaces"];class VQ{constructor(i){this.lineWrapping=i,this.doc=ti.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(i,o){let s=this.doc.lineAt(o).number-this.doc.lineAt(i).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((o-i-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(i){return this.lineWrapping?(1+Math.max(0,Math.ceil((i-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(i){return this.doc=i,this}mustRefreshForWrapping(i){return BQ.indexOf(i)>-1!=this.lineWrapping}mustRefreshForHeights(i){let o=!1;for(let s=0;s<i.length;s++){let a=i[s];a<0?s++:this.heightSamples[Math.floor(10*a)]||(o=!0,this.heightSamples[Math.floor(10*a)]=!0)}return o}refresh(i,o,s,a,l,c){let u=BQ.indexOf(i)>-1,p=Math.round(o)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=o,this.charWidth=s,this.textHeight=a,this.lineLength=l,p){this.heightSamples={};for(let h=0;h<c.length;h++){let g=c[h];g<0?h++:this.heightSamples[Math.floor(10*g)]=!0}}return p}}class jQ{constructor(i,o){this.from=i,this.heights=o,this.index=0}get more(){return this.index<this.heights.length}}class Wd{constructor(i,o,s,a,l){this.from=i,this.length=o,this.top=s,this.height=a,this._content=l}get type(){return"number"==typeof this._content?_l.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Im?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(i){let o=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(i._content)?i._content:[i]);return new Wd(this.from,this.length+i.length,this.top,this.height+i.height,o)}}var Ji=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ji||(Ji={}));const PT=.001;class ja{constructor(i,o,s=2){this.length=i,this.height=o,this.flags=s}get outdated(){return(2&this.flags)>0}set outdated(i){this.flags=(i?2:0)|-3&this.flags}setHeight(i,o){this.height!=o&&(Math.abs(this.height-o)>PT&&(i.heightChanged=!0),this.height=o)}replace(i,o,s){return ja.of(s)}decomposeLeft(i,o){o.push(this)}decomposeRight(i,o){o.push(this)}applyChanges(i,o,s,a){let l=this,c=s.doc;for(let u=a.length-1;u>=0;u--){let{fromA:p,toA:h,fromB:g,toB:y}=a[u],E=l.lineAt(p,Ji.ByPosNoHeight,s.setDoc(o),0,0),C=E.to>=h?E:l.lineAt(h,Ji.ByPosNoHeight,s,0,0);for(y+=C.to-h,h=C.to;u>0&&E.from<=a[u-1].toA;)p=a[u-1].fromA,g=a[u-1].fromB,u--,p<E.from&&(E=l.lineAt(p,Ji.ByPosNoHeight,s,0,0));g+=E.from-p,p=E.from;let D=_N.build(s.setDoc(c),i,g,y);l=l.replace(p,h,D)}return l.updateHeight(s,0)}static empty(){return new kc(0,0)}static of(i){if(1==i.length)return i[0];let o=0,s=i.length,a=0,l=0;for(;;)if(o==s)if(a>2*l){let u=i[o-1];u.break?i.splice(--o,1,u.left,null,u.right):i.splice(--o,1,u.left,u.right),s+=1+u.break,a-=u.size}else{if(!(l>2*a))break;{let u=i[s];u.break?i.splice(s,1,u.left,null,u.right):i.splice(s,1,u.left,u.right),s+=2+u.break,l-=u.size}}else if(a<l){let u=i[o++];u&&(a+=u.size)}else{let u=i[--s];u&&(l+=u.size)}let c=0;return null==i[o-1]?(c=1,o--):null==i[o]&&(c=1,s++),new NEe(ja.of(i.slice(0,o)),c,ja.of(i.slice(s)))}}ja.prototype.size=1;class $Q extends ja{constructor(i,o,s){super(i,o),this.deco=s}blockAt(i,o,s,a){return new Wd(a,this.length,s,this.height,this.deco||0)}lineAt(i,o,s,a,l){return this.blockAt(0,s,a,l)}forEachLine(i,o,s,a,l,c){i<=l+this.length&&o>=l&&c(this.blockAt(0,s,a,l))}updateHeight(i,o=0,s=!1,a){return a&&a.from<=o&&a.more&&this.setHeight(i,a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class kc extends $Q{constructor(i,o){super(i,o,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(i,o,s,a){return new Wd(a,this.length,s,this.height,this.breaks)}replace(i,o,s){let a=s[0];return 1==s.length&&(a instanceof kc||a instanceof da&&4&a.flags)&&Math.abs(this.length-a.length)<10?(a instanceof da?a=new kc(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):ja.of(s)}updateHeight(i,o=0,s=!1,a){return a&&a.from<=o&&a.more?this.setHeight(i,a.heights[a.index++]):(s||this.outdated)&&this.setHeight(i,Math.max(this.widgetHeight,i.heightForLine(this.length-this.collapsed))+this.breaks*i.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class da extends ja{constructor(i){super(i,0)}heightMetrics(i,o){let c,s=i.doc.lineAt(o).number,a=i.doc.lineAt(o+this.length).number,l=a-s+1,u=0;if(i.lineWrapping){let p=Math.min(this.height,i.lineHeight*l);c=p/l,this.length>l+1&&(u=(this.height-p)/(this.length-l-1))}else c=this.height/l;return{firstLine:s,lastLine:a,perLine:c,perChar:u}}blockAt(i,o,s,a){let{firstLine:l,lastLine:c,perLine:u,perChar:p}=this.heightMetrics(o,a);if(o.lineWrapping){let h=a+(i<o.lineHeight?0:Math.round(Math.max(0,Math.min(1,(i-s)/this.height))*this.length)),g=o.doc.lineAt(h),y=u+g.length*p,E=Math.max(s,i-y/2);return new Wd(g.from,g.length,E,y,0)}{let h=Math.max(0,Math.min(c-l,Math.floor((i-s)/u))),{from:g,length:y}=o.doc.line(l+h);return new Wd(g,y,s+u*h,u,0)}}lineAt(i,o,s,a,l){if(o==Ji.ByHeight)return this.blockAt(i,s,a,l);if(o==Ji.ByPosNoHeight){let{from:C,to:D}=s.doc.lineAt(i);return new Wd(C,D-C,0,0,0)}let{firstLine:c,perLine:u,perChar:p}=this.heightMetrics(s,l),h=s.doc.lineAt(i),g=u+h.length*p,y=h.number-c;return new Wd(h.from,h.length,Math.max(a,Math.min(a+u*y+p*(h.from-l-y),a+this.height-g)),g,0)}forEachLine(i,o,s,a,l,c){i=Math.max(i,l),o=Math.min(o,l+this.length);let{firstLine:u,perLine:p,perChar:h}=this.heightMetrics(s,l);for(let g=i,y=a;g<=o;){let E=s.doc.lineAt(g);if(g==i){let D=E.number-u;y+=p*D+h*(i-l-D)}let C=p+h*E.length;c(new Wd(E.from,E.length,y,C,0)),y+=C,g=E.to+1}}replace(i,o,s){let a=this.length-o;if(a>0){let l=s[s.length-1];l instanceof da?s[s.length-1]=new da(l.length+a):s.push(null,new da(a-1))}if(i>0){let l=s[0];l instanceof da?s[0]=new da(i+l.length):s.unshift(new da(i-1),null)}return ja.of(s)}decomposeLeft(i,o){o.push(new da(i-1),null)}decomposeRight(i,o){o.push(null,new da(this.length-i-1))}updateHeight(i,o=0,s=!1,a){let l=o+this.length;if(a&&a.from<=o+this.length&&a.more){let c=[],u=Math.max(o,a.from),p=-1;for(a.from>o&&c.push(new da(a.from-o-1).updateHeight(i,o));u<=l&&a.more;){let g=i.doc.lineAt(u).length;c.length&&c.push(null);let y=a.heights[a.index++];-1==p?p=y:Math.abs(y-p)>=PT&&(p=-2);let E=new kc(g,y);E.outdated=!1,c.push(E),u+=g+1}u<=l&&c.push(null,new da(l-u).updateHeight(i,u));let h=ja.of(c);return(p<0||Math.abs(h.height-this.height)>=PT||Math.abs(p-this.heightMetrics(i,o).perLine)>=PT)&&(i.heightChanged=!0),h}return(s||this.outdated)&&(this.setHeight(i,i.heightForGap(o,o+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class NEe extends ja{constructor(i,o,s){super(i.length+o+s.length,i.height+s.height,o|(i.outdated||s.outdated?2:0)),this.left=i,this.right=s,this.size=i.size+s.size}get break(){return 1&this.flags}blockAt(i,o,s,a){let l=s+this.left.height;return i<l?this.left.blockAt(i,o,s,a):this.right.blockAt(i,o,l,a+this.left.length+this.break)}lineAt(i,o,s,a,l){let c=a+this.left.height,u=l+this.left.length+this.break,p=o==Ji.ByHeight?i<c:i<u,h=p?this.left.lineAt(i,o,s,a,l):this.right.lineAt(i,o,s,c,u);if(this.break||(p?h.to<u:h.from>u))return h;let g=o==Ji.ByPosNoHeight?Ji.ByPosNoHeight:Ji.ByPos;return p?h.join(this.right.lineAt(u,g,s,c,u)):this.left.lineAt(u,g,s,a,l).join(h)}forEachLine(i,o,s,a,l,c){let u=a+this.left.height,p=l+this.left.length+this.break;if(this.break)i<p&&this.left.forEachLine(i,o,s,a,l,c),o>=p&&this.right.forEachLine(i,o,s,u,p,c);else{let h=this.lineAt(p,Ji.ByPos,s,a,l);i<h.from&&this.left.forEachLine(i,h.from-1,s,a,l,c),h.to>=i&&h.from<=o&&c(h),o>h.to&&this.right.forEachLine(h.to+1,o,s,u,p,c)}}replace(i,o,s){let a=this.left.length+this.break;if(o<a)return this.balanced(this.left.replace(i,o,s),this.right);if(i>this.left.length)return this.balanced(this.left,this.right.replace(i-a,o-a,s));let l=[];i>0&&this.decomposeLeft(i,l);let c=l.length;for(let u of s)l.push(u);if(i>0&&zQ(l,c-1),o<this.length){let u=l.length;this.decomposeRight(o,l),zQ(l,u)}return ja.of(l)}decomposeLeft(i,o){let s=this.left.length;if(i<=s)return this.left.decomposeLeft(i,o);o.push(this.left),this.break&&(s++,i>=s&&o.push(null)),i>s&&this.right.decomposeLeft(i-s,o)}decomposeRight(i,o){let s=this.left.length,a=s+this.break;if(i>=a)return this.right.decomposeRight(i-a,o);i<s&&this.left.decomposeRight(i,o),this.break&&i<a&&o.push(null),o.push(this.right)}balanced(i,o){return i.size>2*o.size||o.size>2*i.size?ja.of(this.break?[i,null,o]:[i,o]):(this.left=i,this.right=o,this.height=i.height+o.height,this.outdated=i.outdated||o.outdated,this.size=i.size+o.size,this.length=i.length+this.break+o.length,this)}updateHeight(i,o=0,s=!1,a){let{left:l,right:c}=this,u=o+l.length+this.break,p=null;return a&&a.from<=o+l.length&&a.more?p=l=l.updateHeight(i,o,s,a):l.updateHeight(i,o,s),a&&a.from<=u+c.length&&a.more?p=c=c.updateHeight(i,u,s,a):c.updateHeight(i,u,s),p?this.balanced(l,c):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function zQ(t,i){let o,s;null==t[i]&&(o=t[i-1])instanceof da&&(s=t[i+1])instanceof da&&t.splice(i-1,3,new da(o.length+1+s.length))}class _N{constructor(i,o){this.pos=i,this.oracle=o,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=i}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(i,o){if(this.lineStart>-1){let s=Math.min(o,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof kc?a.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new kc(s-this.pos,-1)),this.writtenTo=s,o>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=o}point(i,o,s){if(i<o||s.heightRelevant){let a=s.widget?s.widget.estimatedHeight:0,l=s.widget?s.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let c=o-i;s.block?this.addBlock(new $Q(c,a,s)):(c||l||a>=5)&&this.addLineDeco(a,l,c)}else o>i&&this.span(i,o);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:i,to:o}=this.oracle.doc.lineAt(this.pos);this.lineStart=i,this.lineEnd=o,this.writtenTo<i&&((this.writtenTo<i-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,i-1)),this.nodes.push(null)),this.pos>i&&this.nodes.push(new kc(this.pos-i,-1)),this.writtenTo=this.pos}blankContent(i,o){let s=new da(o-i);return this.oracle.doc.lineAt(i).to==o&&(s.flags|=4),s}ensureLine(){this.enterLine();let i=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(i instanceof kc)return i;let o=new kc(0,-1);return this.nodes.push(o),o}addBlock(i){this.enterLine();let o=i.deco;o&&o.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(i),this.writtenTo=this.pos=this.pos+i.length,o&&o.endSide>0&&(this.covering=i)}addLineDeco(i,o,s){let a=this.ensureLine();a.length+=s,a.collapsed+=s,a.widgetHeight=Math.max(a.widgetHeight,i),a.breaks+=o,this.writtenTo=this.pos=this.pos+s}finish(i){let o=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||o instanceof kc||this.isCovered?(this.writtenTo<this.pos||null==o)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new kc(0,-1));let s=i;for(let a of this.nodes)a instanceof kc&&a.updateHeight(this.oracle,s),s+=a?a.length:1;return this.nodes}static build(i,o,s,a){let l=new _N(s,i);return Bo.spans(o,s,a,l,0),l.finish(s)}}class BEe{constructor(){this.changes=[]}compareRange(){}comparePoint(i,o,s,a){(i<o||s&&s.heightRelevant||a&&a.heightRelevant)&&aN(i,o,this.changes,5)}}function VEe(t,i){let o=t.getBoundingClientRect(),s=t.ownerDocument,a=s.defaultView||window,l=Math.max(0,o.left),c=Math.min(a.innerWidth,o.right),u=Math.max(0,o.top),p=Math.min(a.innerHeight,o.bottom);for(let h=t.parentNode;h&&h!=s.body;)if(1==h.nodeType){let g=h,y=window.getComputedStyle(g);if((g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth)&&"visible"!=y.overflow){let E=g.getBoundingClientRect();l=Math.max(l,E.left),c=Math.min(c,E.right),u=Math.max(u,E.top),p=h==t.parentNode?E.bottom:Math.min(p,E.bottom)}h="absolute"==y.position||"fixed"==y.position?g.offsetParent:g.parentNode}else{if(11!=h.nodeType)break;h=h.host}return{left:l-o.left,right:Math.max(l,c)-o.left,top:u-(o.top+i),bottom:Math.max(u,p)-(o.top+i)}}function jEe(t,i){let o=t.getBoundingClientRect();return{left:0,right:o.right-o.left,top:i,bottom:o.bottom-(o.top+i)}}class EN{constructor(i,o,s){this.from=i,this.to=o,this.size=s}static same(i,o){if(i.length!=o.length)return!1;for(let s=0;s<i.length;s++){let a=i[s],l=o[s];if(a.from!=l.from||a.to!=l.to||a.size!=l.size)return!1}return!0}draw(i,o){return zn.replace({widget:new $Ee(this.size*(o?i.scaleY:i.scaleX),o)}).range(this.from,this.to)}}class $Ee extends Gd{constructor(i,o){super(),this.size=i,this.vertical=o}eq(i){return i.size==this.size&&i.vertical==this.vertical}toDOM(){let i=document.createElement("div");return this.vertical?i.style.height=this.size+"px":(i.style.width=this.size+"px",i.style.height="2px",i.style.display="inline-block"),i}get estimatedHeight(){return this.vertical?this.size:-1}}class HQ{constructor(i){this.state=i,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=UQ,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=$i.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let o=i.facet(wT).some(s=>"function"!=typeof s&&"cm-lineWrapping"==s.class);this.heightOracle=new VQ(o),this.stateDeco=i.facet(Ew).filter(s=>"function"!=typeof s),this.heightMap=ja.empty().applyChanges(this.stateDeco,ti.empty,this.heightOracle.setDoc(i.doc),[new Oc(0,0,0,i.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=zn.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let i=[this.viewport],{main:o}=this.state.selection;for(let s=0;s<=1;s++){let a=s?o.head:o.anchor;if(!i.some(({from:l,to:c})=>a>=l&&a<=c)){let{from:l,to:c}=this.lineBlockAt(a);i.push(new MT(l,c))}}this.viewports=i.sort((s,a)=>s.from-a.from),this.scaler=this.heightMap.height<=7e6?UQ:new UEe(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,i=>{this.viewportLines.push(1==this.scaler.scale?i:ww(i,this.scaler))})}update(i,o=null){this.state=i.state;let s=this.stateDeco;this.stateDeco=this.state.facet(Ew).filter(g=>"function"!=typeof g);let l=Oc.extendWithRanges(i.changedRanges,function FEe(t,i,o){let s=new BEe;return Bo.compare(t,i,o,s,0),s.changes}(s,this.stateDeco,i?i.changes:Ls.empty(this.state.doc.length))),c=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,i.startState.doc,this.heightOracle.setDoc(this.state.doc),l),this.heightMap.height!=c&&(i.flags|=2),u?(this.scrollAnchorPos=i.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let p=l.length?this.mapViewport(this.viewport,i.changes):this.viewport;(o&&(o.range.head<p.from||o.range.head>p.to)||!this.viewportIsAppropriate(p))&&(p=this.getViewport(0,o));let h=!i.changes.empty||2&i.flags||p.from!=this.viewport.from||p.to!=this.viewport.to;this.viewport=p,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,i.changes))),i.flags|=this.computeVisibleRanges(),o&&(this.scrollTarget=o),!this.mustEnforceCursorAssoc&&i.selectionSet&&i.view.lineWrapping&&i.state.selection.main.empty&&i.state.selection.main.assoc&&!i.state.facet(rQ)&&(this.mustEnforceCursorAssoc=!0)}measure(i){let o=i.contentDOM,s=window.getComputedStyle(o),a=this.heightOracle,l=s.whiteSpace;this.defaultTextDirection="rtl"==s.direction?$i.RTL:$i.LTR;let c=this.heightOracle.mustRefreshForWrapping(l),u=o.getBoundingClientRect(),p=c||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let h=0,g=0;if(u.width&&u.height){let{scaleX:j,scaleY:q}=EK(o,u);(j>.005&&Math.abs(this.scaleX-j)>.005||q>.005&&Math.abs(this.scaleY-q)>.005)&&(this.scaleX=j,this.scaleY=q,h|=8,c=p=!0)}let y=(parseInt(s.paddingTop)||0)*this.scaleY,E=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=E)&&(this.paddingTop=y,this.paddingBottom=E,h|=10),this.editorWidth!=i.scrollDOM.clientWidth&&(a.lineWrapping&&(p=!0),this.editorWidth=i.scrollDOM.clientWidth,h|=8);let C=i.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=C&&(this.scrollAnchorHeight=-1,this.scrollTop=C),this.scrolledToBottom=SK(i.scrollDOM);let D=(this.printing?jEe:VEe)(o,this.paddingTop),O=D.top-this.pixelViewport.top,A=D.bottom-this.pixelViewport.bottom;this.pixelViewport=D;let F=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(F!=this.inView&&(this.inView=F,F&&(p=!0)),!this.inView&&!this.scrollTarget)return 0;let N=u.width;if((this.contentDOMWidth!=N||this.editorHeight!=i.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=i.scrollDOM.clientHeight,h|=8),p){let j=i.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(j)&&(c=!0),c||a.lineWrapping&&Math.abs(N-this.contentDOMWidth)>a.charWidth){let{lineHeight:q,charWidth:ee,textHeight:ae}=i.docView.measureTextSize();c=q>0&&a.refresh(l,q,ee,ae,N/ee,j),c&&(i.docView.minWidth=0,h|=8)}O>0&&A>0?g=Math.max(O,A):O<0&&A<0&&(g=Math.min(O,A)),a.heightChanged=!1;for(let q of this.viewports){let ee=q.from==this.viewport.from?j:i.docView.measureVisibleLineHeights(q);this.heightMap=(c?ja.empty().applyChanges(this.stateDeco,ti.empty,this.heightOracle,[new Oc(0,0,0,i.state.doc.length)]):this.heightMap).updateHeight(a,0,c,new jQ(q.from,ee))}a.heightChanged&&(h|=2)}let B=!this.viewportIsAppropriate(this.viewport,g)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(this.viewport=this.getViewport(g,this.scrollTarget)),this.updateForViewport(),(2&h||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(c?[]:this.lineGaps,i)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,i.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(i,o){let s=.5-Math.max(-.5,Math.min(.5,i/1e3/2)),a=this.heightMap,l=this.heightOracle,{visibleTop:c,visibleBottom:u}=this,p=new MT(a.lineAt(c-1e3*s,Ji.ByHeight,l,0,0).from,a.lineAt(u+1e3*(1-s),Ji.ByHeight,l,0,0).to);if(o){let{head:h}=o.range;if(h<p.from||h>p.to){let E,g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=a.lineAt(h,Ji.ByPos,l,0,0);E="center"==o.y?(y.top+y.bottom)/2-g/2:"start"==o.y||"nearest"==o.y&&h<p.from?y.top:y.bottom-g,p=new MT(a.lineAt(E-500,Ji.ByHeight,l,0,0).from,a.lineAt(E+g+500,Ji.ByHeight,l,0,0).to)}}return p}mapViewport(i,o){let s=o.mapPos(i.from,-1),a=o.mapPos(i.to,1);return new MT(this.heightMap.lineAt(s,Ji.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,Ji.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:i,to:o},s=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(i,Ji.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(o,Ji.ByPos,this.heightOracle,0,0),{visibleTop:c,visibleBottom:u}=this;return(0==i||a<=c-Math.max(10,Math.min(-s,250)))&&(o==this.state.doc.length||l>=u+Math.max(10,Math.min(s,250)))&&a>c-2e3&&l<u+2e3}mapLineGaps(i,o){if(!i.length||o.empty)return i;let s=[];for(let a of i)o.touchesRange(a.from,a.to)||s.push(new EN(o.mapPos(a.from),o.mapPos(a.to),a.size));return s}ensureLineGaps(i,o){let s=this.heightOracle.lineWrapping,a=s?1e4:2e3,l=a>>1,c=a<<1;if(this.defaultTextDirection!=$i.LTR&&!s)return[];let u=[],p=(h,g,y,E)=>{if(g-h<l)return;let C=this.state.selection.main,D=[C.from];C.empty||D.push(C.to);for(let A of D)if(A>h&&A<g)return p(h,A-10,y,E),void p(A+10,g,y,E);let O=function HEe(t,i){for(let o of t)if(i(o))return o}(i,A=>A.from>=y.from&&A.to<=y.to&&Math.abs(A.from-h)<l&&Math.abs(A.to-g)<l&&!D.some(F=>A.from<F&&A.to>F));if(!O){if(g<y.to&&o&&s&&o.visibleRanges.some(A=>A.from<=g&&A.to>=g)){let A=o.moveToLineBoundary(ct.cursor(g),!1,!0).head;A>h&&(g=A)}O=new EN(h,g,this.gapSize(y,h,g,E))}u.push(O)};for(let h of this.viewportLines){if(h.length<c)continue;let g=zEe(h.from,h.to,this.stateDeco);if(g.total<c)continue;let E,C,y=this.scrollTarget?this.scrollTarget.range.head:null;if(s){let O,A,D=a/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=y){let F=kT(g,y),N=((this.visibleBottom-this.visibleTop)/2+D)/h.height;O=F-N,A=F+N}else O=(this.visibleTop-h.top-D)/h.height,A=(this.visibleBottom-h.top+D)/h.height;E=OT(g,O),C=OT(g,A)}else{let A,F,D=g.total*this.heightOracle.charWidth,O=a*this.heightOracle.charWidth;if(null!=y){let N=kT(g,y),B=((this.pixelViewport.right-this.pixelViewport.left)/2+O)/D;A=N-B,F=N+B}else A=(this.pixelViewport.left-O)/D,F=(this.pixelViewport.right+O)/D;E=OT(g,A),C=OT(g,F)}E>h.from&&p(h.from,E,h,g),C<h.to&&p(C,h.to,h,g)}return u}gapSize(i,o,s,a){let l=kT(a,s)-kT(a,o);return this.heightOracle.lineWrapping?i.height*l:a.total*this.heightOracle.charWidth*l}updateLineGaps(i){EN.same(i,this.lineGaps)||(this.lineGaps=i,this.lineGapDeco=zn.set(i.map(o=>o.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let i=this.stateDeco;this.lineGaps.length&&(i=i.concat(this.lineGapDeco));let o=[];Bo.spans(i,this.viewport.from,this.viewport.to,{span(a,l){o.push({from:a,to:l})},point(){}},20);let s=o.length!=this.visibleRanges.length||this.visibleRanges.some((a,l)=>a.from!=o[l].from||a.to!=o[l].to);return this.visibleRanges=o,s?4:0}lineBlockAt(i){return i>=this.viewport.from&&i<=this.viewport.to&&this.viewportLines.find(o=>o.from<=i&&o.to>=i)||ww(this.heightMap.lineAt(i,Ji.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(i){return ww(this.heightMap.lineAt(this.scaler.fromDOM(i),Ji.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(i){let o=this.lineBlockAtHeight(i+8);return o.from>=this.viewport.from||this.viewportLines[0].top-i>200?o:this.viewportLines[0]}elementAtHeight(i){return ww(this.heightMap.blockAt(this.scaler.fromDOM(i),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class MT{constructor(i,o){this.from=i,this.to=o}}function zEe(t,i,o){let s=[],a=t,l=0;return Bo.spans(o,t,i,{span(){},point(c,u){c>a&&(s.push({from:a,to:c}),l+=c-a),a=u}},20),a<i&&(s.push({from:a,to:i}),l+=i-a),{total:l,ranges:s}}function OT({total:t,ranges:i},o){if(o<=0)return i[0].from;if(o>=1)return i[i.length-1].to;let s=Math.floor(t*o);for(let a=0;;a++){let{from:l,to:c}=i[a],u=c-l;if(s<=u)return l+s;s-=u}}function kT(t,i){let o=0;for(let{from:s,to:a}of t.ranges){if(i<=a){o+=i-s;break}o+=a-s}return o/t.total}const UQ={toDOM:t=>t,fromDOM:t=>t,scale:1};class UEe{constructor(i,o,s){let a=0,l=0,c=0;this.viewports=s.map(({from:u,to:p})=>{let h=o.lineAt(u,Ji.ByPos,i,0,0).top,g=o.lineAt(p,Ji.ByPos,i,0,0).bottom;return a+=g-h,{from:u,to:p,top:h,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(o.height-a);for(let u of this.viewports)u.domTop=c+(u.top-l)*this.scale,c=u.domBottom=u.domTop+(u.bottom-u.top),l=u.bottom}toDOM(i){for(let o=0,s=0,a=0;;o++){let l=o<this.viewports.length?this.viewports[o]:null;if(!l||i<l.top)return a+(i-s)*this.scale;if(i<=l.bottom)return l.domTop+(i-l.top);s=l.bottom,a=l.domBottom}}fromDOM(i){for(let o=0,s=0,a=0;;o++){let l=o<this.viewports.length?this.viewports[o]:null;if(!l||i<l.domTop)return s+(i-a)/this.scale;if(i<=l.domBottom)return l.top+(i-l.domTop);s=l.bottom,a=l.domBottom}}}function ww(t,i){if(1==i.scale)return t;let o=i.toDOM(t.top),s=i.toDOM(t.bottom);return new Wd(t.from,t.length,o,s-o,Array.isArray(t._content)?t._content.map(a=>ww(a,i)):t._content)}const AT=Ht.define({combine:t=>t.join(" ")}),xN=Ht.define({combine:t=>t.indexOf(!0)>-1}),wN=Om.newName(),GQ=Om.newName(),qQ=Om.newName(),WQ={"&light":"."+GQ,"&dark":"."+qQ};function CN(t,i,o){return new Om(i,{finish:s=>/&/.test(s)?s.replace(/&\w*/,a=>{if("&"==a)return t;if(!o||!o[a])throw new RangeError(`Unsupported selector: ${a}`);return o[a]}):t+" "+s})}const GEe=CN("."+wN,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},WQ);class qEe{constructor(i,o){this.points=i,this.text="",this.lineSeparator=o.facet(Pc.lineSeparator)}append(i){this.text+=i}lineBreak(){this.text+="\uffff"}readRange(i,o){if(!i)return this;let s=i.parentNode;for(let a=i;;){this.findPointBefore(s,a);let l=this.text.length;this.readNode(a);let c=a.nextSibling;if(c==o)break;let u=ji.get(a),p=ji.get(c);(u&&p?u.breakAfter:(u?u.breakAfter:vT(a))||vT(c)&&("BR"!=a.nodeName||a.cmIgnore)&&this.text.length>l)&&this.lineBreak(),a=c}return this.findPointBefore(s,o),this}readTextNode(i){let o=i.nodeValue;for(let s of this.points)s.node==i&&(s.pos=this.text.length+Math.min(s.offset,o.length));for(let s=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let u,l=-1,c=1;if(this.lineSeparator?(l=o.indexOf(this.lineSeparator,s),c=this.lineSeparator.length):(u=a.exec(o))&&(l=u.index,c=u[0].length),this.append(o.slice(s,l<0?o.length:l)),l<0)break;if(this.lineBreak(),c>1)for(let p of this.points)p.node==i&&p.pos>this.text.length&&(p.pos-=c-1);s=l+c}}readNode(i){if(i.cmIgnore)return;let o=ji.get(i),s=o&&o.overrideDOMText;if(null!=s){this.findPointInside(i,s.length);for(let a=s.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else 3==i.nodeType?this.readTextNode(i):"BR"==i.nodeName?i.nextSibling&&this.lineBreak():1==i.nodeType&&this.readRange(i.firstChild,null)}findPointBefore(i,o){for(let s of this.points)s.node==i&&i.childNodes[s.offset]==o&&(s.pos=this.text.length)}findPointInside(i,o){for(let s of this.points)(3==i.nodeType?s.node==i:i.contains(s.node))&&(s.pos=this.text.length+(WEe(i,s.node,s.offset)?o:0))}}function WEe(t,i,o){for(;;){if(!i||o<Mf(i))return!1;if(i==t)return!0;o=Gv(i)+1,i=i.parentNode}}class XQ{constructor(i,o){this.node=i,this.offset=o,this.pos=-1}}class XEe{constructor(i,o,s,a){this.typeOver=a,this.bounds=null,this.text="";let{impreciseHead:l,impreciseAnchor:c}=i.docView;if(i.state.readOnly&&o>-1)this.newSel=null;else if(o>-1&&(this.bounds=i.docView.domBoundsAround(o,s,0))){let u=l||c?[]:function QEe(t){let i=[];if(t.root.activeElement!=t.contentDOM)return i;let{anchorNode:o,anchorOffset:s,focusNode:a,focusOffset:l}=t.observer.selectionRange;return o&&(i.push(new XQ(o,s)),(a!=o||l!=s)&&i.push(new XQ(a,l))),i}(i),p=new qEe(u,i.state);p.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=p.text,this.newSel=function ZEe(t,i){if(0==t.length)return null;let o=t[0].pos,s=2==t.length?t[1].pos:o;return o>-1&&s>-1?ct.single(o+i,s+i):null}(u,this.bounds.from)}else{let u=i.observer.selectionRange,p=l&&l.node==u.focusNode&&l.offset==u.focusOffset||!ZI(i.contentDOM,u.focusNode)?i.state.selection.main.head:i.docView.posFromDOM(u.focusNode,u.focusOffset),h=c&&c.node==u.anchorNode&&c.offset==u.anchorOffset||!ZI(i.contentDOM,u.anchorNode)?i.state.selection.main.anchor:i.docView.posFromDOM(u.anchorNode,u.anchorOffset),g=i.viewport;if((Xt.ios||Xt.chrome)&&i.state.selection.main.empty&&p!=h&&(g.from>0||g.to<i.state.doc.length)){let y=Math.min(p,h),E=Math.max(p,h),C=g.from-y,D=g.to-E;(0==C||1==C||0==y)&&(0==D||-1==D||E==i.state.doc.length)&&(p=0,h=i.state.doc.length)}this.newSel=ct.single(h,p)}}}function YQ(t,i){let o,{newSel:s}=i,a=t.state.selection.main,l=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(i.bounds){let{from:c,to:u}=i.bounds,p=a.from,h=null;(8===l||Xt.android&&i.text.length<u-c)&&(p=a.to,h="end");let g=function KEe(t,i,o,s){let a=Math.min(t.length,i.length),l=0;for(;l<a&&t.charCodeAt(l)==i.charCodeAt(l);)l++;if(l==a&&t.length==i.length)return null;let c=t.length,u=i.length;for(;c>0&&u>0&&t.charCodeAt(c-1)==i.charCodeAt(u-1);)c--,u--;return"end"==s&&(o-=c+Math.max(0,l-Math.min(c,u))-l),c<l&&t.length<i.length?(l-=o<=l&&o>=c?l-o:0,u=l+(u-c),c=l):u<l&&(l-=o<=l&&o>=u?l-o:0,c=l+(c-u),u=l),{from:l,toA:c,toB:u}}(t.state.doc.sliceString(c,u,"\uffff"),i.text,p-c,h);g&&(Xt.chrome&&13==l&&g.toB==g.from+2&&"\uffff\uffff"==i.text.slice(g.from,g.toB)&&g.toB--,o={from:c+g.from,to:c+g.toA,insert:ti.of(i.text.slice(g.from,g.toB).split("\uffff"))})}else s&&(!t.hasFocus&&t.state.facet(xT)||s.main.eq(a))&&(s=null);if(!o&&!s)return!1;if(!o&&i.typeOver&&!a.empty&&s&&s.main.empty?o={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)}:o&&o.from>=a.from&&o.to<=a.to&&(o.from!=a.from||o.to!=a.to)&&a.to-a.from-(o.to-o.from)<=4?o={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,o.from).append(o.insert).append(t.state.doc.slice(o.to,a.to))}:(Xt.mac||Xt.android)&&o&&o.from==o.to&&o.from==a.head-1&&/^\. ?$/.test(o.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(s&&2==o.insert.length&&(s=ct.single(s.main.anchor-1,s.main.head-1)),o={from:a.from,to:a.to,insert:ti.of([" "])}):Xt.chrome&&o&&o.from==o.to&&o.from==a.head&&"\n "==o.insert.toString()&&t.lineWrapping&&(s&&(s=ct.single(s.main.anchor-1,s.main.head-1)),o={from:a.from,to:a.to,insert:ti.of([" "])}),o){if(Xt.ios&&t.inputState.flushIOSKey(o)||Xt.android&&(o.to==a.to&&(o.from==a.from||o.from==a.from-1&&" "==t.state.sliceDoc(o.from,a.from))&&1==o.insert.length&&2==o.insert.lines&&Q3(t.contentDOM,"Enter",13)||(o.from==a.from-1&&o.to==a.to&&0==o.insert.length||8==l&&o.insert.length<o.to-o.from&&o.to>a.head)&&Q3(t.contentDOM,"Backspace",8)||o.from==a.from&&o.to==a.to+1&&0==o.insert.length&&Q3(t.contentDOM,"Delete",46)))return!0;let c=o.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let u,p=()=>u||(u=function YEe(t,i,o){let s,a=t.state,l=a.selection.main;if(i.from>=l.from&&i.to<=l.to&&i.to-i.from>=(l.to-l.from)/3&&(!o||o.main.empty&&o.main.from==i.from+i.insert.length)&&t.inputState.composing<0){let u=l.from<i.from?a.sliceDoc(l.from,i.from):"",p=l.to>i.to?a.sliceDoc(i.to,l.to):"";s=a.replaceSelection(t.state.toText(u+i.insert.sliceString(0,void 0,t.state.lineBreak)+p))}else{let u=a.changes(i),p=o&&o.main.to<=u.newLength?o.main:void 0;if(a.selection.ranges.length>1&&t.inputState.composing>=0&&i.to<=l.to&&i.to>=l.to-10){let g,h=t.state.sliceDoc(i.from,i.to),y=o&&fQ(t,o.main.head);g=y?{from:y.from,to:y.to-(i.insert.length-(i.to-i.from))}:t.state.doc.lineAt(l.head);let E=l.to-i.to,C=l.to-l.from;s=a.changeByRange(D=>{if(D.from==l.from&&D.to==l.to)return{changes:u,range:p||D.map(u)};let O=D.to-E,A=O-h.length;if(D.to-D.from!=C||t.state.sliceDoc(A,O)!=h||D.to>=g.from&&D.from<=g.to)return{range:D};let F=a.changes({from:A,to:O,insert:i.insert}),N=D.to-l.to;return{changes:F,range:p?ct.range(Math.max(0,p.anchor+N),Math.max(0,p.head+N)):D.map(F)}})}else s={changes:u,selection:p&&a.selection.replaceRange(p)}}let c="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,c+=".compose",t.inputState.compositionFirstChange&&(c+=".start",t.inputState.compositionFirstChange=!1)),a.update(s,{userEvent:c,scrollIntoView:!0})}(t,o,s));return t.state.facet(eQ).some(h=>h(t,o.from,o.to,c,p))||t.dispatch(p()),!0}if(s&&!s.main.eq(a)){let c=!1,u="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(c=!0),u=t.inputState.lastSelectionOrigin),t.dispatch({selection:s,scrollIntoView:c,userEvent:u}),!0}return!1}const JEe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},SN=Xt.ie&&Xt.ie_version<=11;class exe{constructor(i){this.view=i,this.active=!1,this.selectionRange=new $4e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=i.contentDOM,this.observer=new MutationObserver(o=>{for(let s of o)this.queue.push(s);(Xt.ie&&Xt.ie_version<=11||Xt.ios&&i.composing)&&o.some(s=>"childList"==s.type&&s.removedNodes.length||"characterData"==s.type&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),SN&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var o;(null===(o=this.view.docView)||void 0===o?void 0:o.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(i.scrollDOM)),this.addWindowListeners(this.win=i.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(o=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),o.length>0&&o[o.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(o=>{o.length>0&&o[o.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(i){this.view.inputState.runHandlers("scroll",i),this.intersecting&&this.view.measure()}onScroll(i){this.intersecting&&this.flush(!1),this.onScrollChanged(i)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(i){"change"==i.type&&!i.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(i){if(this.gapIntersection&&(i.length!=this.gaps.length||this.gaps.some((o,s)=>o!=i[s]))){this.gapIntersection.disconnect();for(let o of i)this.gapIntersection.observe(o);this.gaps=i}}onSelectionChange(i){let o=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,a=this.selectionRange;if(s.state.facet(xT)?s.root.activeElement!=this.dom:!gT(s.dom,a))return;let l=a.anchorNode&&s.docView.nearest(a.anchorNode);l&&l.ignoreEvent(i)?o||(this.selectionChanged=!1):(Xt.ie&&Xt.ie_version<=11||Xt.android&&Xt.chrome)&&!s.state.selection.main.empty&&a.focusNode&&gw(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:i}=this,o=mT(i.root);if(!o)return!1;let s=Xt.safari&&11==i.root.nodeType&&function F4e(t){let i=t.activeElement;for(;i&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}(this.dom.ownerDocument)==this.dom&&function txe(t,i){if(i.getComposedRanges){let a=i.getComposedRanges(t.root)[0];if(a)return QQ(t,a)}let o=null;function s(a){a.preventDefault(),a.stopImmediatePropagation(),o=a.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",s,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",s,!0),o?QQ(t,o):null}(this.view,o)||o;if(!s||this.selectionRange.eq(s))return!1;let a=gT(this.dom,s);return a&&!this.selectionChanged&&i.inputState.lastFocusTime>Date.now()-200&&i.inputState.lastTouchTime<Date.now()-300&&function H4e(t,i){let o=i.focusNode,s=i.focusOffset;if(!o||i.anchorNode!=o||i.anchorOffset!=s)return!1;for(s=Math.min(s,Mf(o));;)if(s){if(1!=o.nodeType)return!1;let a=o.childNodes[s-1];"false"==a.contentEditable?s--:(o=a,s=Mf(o))}else{if(o==t)return!0;s=Gv(o),o=o.parentNode}}(this.dom,s)?(this.view.inputState.lastFocusTime=0,i.docView.updateSelection(),!1):(this.selectionRange.setRange(s),a&&(this.selectionChanged=!0),!0)}setSelectionRange(i,o){this.selectionRange.set(i.node,i.offset,o.node,o.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let i=0,o=null;for(let s=this.dom;s;)if(1==s.nodeType)!o&&i<this.scrollTargets.length&&this.scrollTargets[i]==s?i++:o||(o=this.scrollTargets.slice(0,i)),o&&o.push(s),s=s.assignedSlot||s.parentNode;else{if(11!=s.nodeType)break;s=s.host}if(i<this.scrollTargets.length&&!o&&(o=this.scrollTargets.slice(0,i)),o){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=o)s.addEventListener("scroll",this.onScroll)}}ignore(i){if(!this.active)return i();try{return this.stop(),i()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,JEe),SN&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),SN&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(i,o){var s;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&Q3(this.dom,l.key,l.keyCode))})),(!this.delayedAndroidKey||"Enter"==i)&&(this.delayedAndroidKey={key:i,keyCode:o,force:this.lastChange<Date.now()-50||!(null===(s=this.delayedAndroidKey)||void 0===s||!s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let i of this.observer.takeRecords())this.queue.push(i);return this.queue}processRecords(){let i=this.pendingRecords();i.length&&(this.queue=[]);let o=-1,s=-1,a=!1;for(let l of i){let c=this.readMutation(l);c&&(c.typeOver&&(a=!0),-1==o?({from:o,to:s}=c):(o=Math.min(c.from,o),s=Math.max(c.to,s)))}return{from:o,to:s,typeOver:a}}readChange(){let{from:i,to:o,typeOver:s}=this.processRecords(),a=this.selectionChanged&&gT(this.dom,this.selectionRange);if(i<0&&!a)return null;i>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new XEe(this.view,i,o,s);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(i=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;i&&this.readSelectionRange();let o=this.readChange();if(!o)return this.view.requestMeasure(),!1;let s=this.view.state,a=YQ(this.view,o);return this.view.state==s&&this.view.update([]),a}readMutation(i){let o=this.view.docView.nearest(i.target);if(!o||o.ignoreMutation(i))return null;if(o.markDirty("attributes"==i.type),"attributes"==i.type&&(o.flags|=4),"childList"==i.type){let s=KQ(o,i.previousSibling||i.target.previousSibling,-1),a=KQ(o,i.nextSibling||i.target.nextSibling,1);return{from:s?o.posAfter(s):o.posAtStart,to:a?o.posBefore(a):o.posAtEnd,typeOver:!1}}return"characterData"==i.type?{from:o.posAtStart,to:o.posAtEnd,typeOver:i.target.nodeValue==i.oldValue}:null}setWindow(i){i!=this.win&&(this.removeWindowListeners(this.win),this.win=i,this.addWindowListeners(this.win))}addWindowListeners(i){i.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):i.addEventListener("beforeprint",this.onPrint),i.addEventListener("scroll",this.onScroll),i.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(i){i.removeEventListener("scroll",this.onScroll),i.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):i.removeEventListener("beforeprint",this.onPrint),i.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var i,o,s;this.stop(),null===(i=this.intersection)||void 0===i||i.disconnect(),null===(o=this.gapIntersection)||void 0===o||o.disconnect(),null===(s=this.resizeScroll)||void 0===s||s.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function KQ(t,i,o){for(;i;){let s=ji.get(i);if(s&&s.parent==t)return s;let a=i.parentNode;i=a!=t.dom?a:o>0?i.nextSibling:i.previousSibling}return null}function QQ(t,i){let o=i.startContainer,s=i.startOffset,a=i.endContainer,l=i.endOffset,c=t.docView.domAtPos(t.state.selection.main.anchor);return gw(c.node,c.offset,a,l)&&([o,s,a,l]=[a,l,o,s]),{anchorNode:o,anchorOffset:s,focusNode:a,focusOffset:l}}let Tn=(()=>{class t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(o={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),o.parent&&o.parent.appendChild(this.dom);let{dispatch:s}=o;this.dispatchTransactions=o.dispatchTransactions||s&&(a=>a.forEach(l=>s(l,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=o.root||function z4e(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(o.parent)||document,this.viewState=new HQ(o.state||Pc.create(o)),o.scrollTo&&o.scrollTo.is(ET)&&(this.viewState.scrollTarget=o.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(_w).map(a=>new fN(a));for(let a of this.plugins)a.update(this);this.observer=new exe(this),this.inputState=new yEe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new dQ(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...o){let s=1==o.length&&o[0]instanceof E0?o:1==o.length&&Array.isArray(o[0])?o[0]:[this.state.update(...o)];this.dispatchTransactions(s,this)}update(o){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let l,s=!1,a=!1,c=this.state;for(let C of o){if(C.startState!=c)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");c=C.state}if(this.destroyed)return void(this.viewState.state=c);let u=this.hasFocus,p=0,h=null;o.some(C=>C.annotation(IQ))?(this.inputState.notifiedFocused=u,p=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,h=NQ(c,u),h||(p=1));let g=this.observer.delayedAndroidKey,y=null;if(g?(this.observer.clearDelayedAndroidKey(),y=this.observer.readChange(),(y&&!this.state.doc.eq(c.doc)||!this.state.selection.eq(c.selection))&&(y=null)):this.observer.clear(),c.facet(Pc.phrases)!=this.state.facet(Pc.phrases))return this.setState(c);l=CT.create(this,c,o),l.flags|=p;let E=this.viewState.scrollTarget;try{this.updateState=2;for(let C of o){if(E&&(E=E.map(C.changes)),C.scrollIntoView){let{main:D}=C.state.selection;E=new J3(D.empty?D:ct.cursor(D.head,D.head>D.anchor?-1:1))}for(let D of C.effects)D.is(ET)&&(E=D.value.clip(this.state))}this.viewState.update(l,E),this.bidiCache=RT.update(this.bidiCache,l.changes),l.empty||(this.updatePlugins(l),this.inputState.update(l)),s=this.docView.update(l),this.state.facet(xw)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(o),this.docView.updateSelection(s,o.some(C=>C.isUserEvent("select.pointer")))}finally{this.updateState=0}if(l.startState.facet(AT)!=l.state.facet(AT)&&(this.viewState.mustMeasureContent=!0),(s||a||E||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),s&&this.docViewUpdate(),!l.empty)for(let C of this.state.facet(pN))try{C(l)}catch(D){El(this.state,D,"update listener")}(h||y)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),y&&!YQ(this,y)&&g.force&&Q3(this.contentDOM,g.key,g.keyCode)})}setState(o){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=o);this.updateState=2;let s=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new HQ(o),this.plugins=o.facet(_w).map(a=>new fN(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new dQ(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}s&&this.focus(),this.requestMeasure()}updatePlugins(o){let s=o.startState.facet(_w),a=o.state.facet(_w);if(s!=a){let l=[];for(let c of a){let u=s.indexOf(c);if(u<0)l.push(new fN(c));else{let p=this.plugins[u];p.mustUpdate=o,l.push(p)}}for(let c of this.plugins)c.mustUpdate!=o&&c.destroy(this);this.plugins=l,this.pluginMap.clear()}else for(let l of this.plugins)l.mustUpdate=o;for(let l=0;l<this.plugins.length;l++)this.plugins[l].update(this);s!=a&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let o of this.plugins){let s=o.value;if(s&&s.docViewUpdate)try{s.docViewUpdate(this)}catch(a){El(this.state,a,"doc view update listener")}}}measure(o=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,o&&this.observer.forceFlush();let s=null,a=this.scrollDOM,l=a.scrollTop*this.scaleY,{scrollAnchorPos:c,scrollAnchorHeight:u}=this.viewState;Math.abs(l-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let p=0;;p++){if(u<0)if(SK(a))c=-1,u=this.viewState.heightMap.height;else{let D=this.viewState.scrollAnchorAt(l);c=D.from,u=D.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(p>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let g=[];4&h||([this.measureRequests,g]=[g,this.measureRequests]);let y=g.map(D=>{try{return D.read(this)}catch(O){return El(this.state,O),ZQ}}),E=CT.create(this,this.state,[]),C=!1;E.flags|=h,s?s.flags|=h:s=E,this.updateState=2,E.empty||(this.updatePlugins(E),this.inputState.update(E),this.updateAttrs(),C=this.docView.update(E),C&&this.docViewUpdate());for(let D=0;D<g.length;D++)if(y[D]!=ZQ)try{let O=g[D];O.write&&O.write(y[D],this)}catch(O){El(this.state,O)}if(C&&this.docView.updateSelection(!0),!E.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}{let O=(c<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(c).top)-u;if(O>1||O<-1){l+=O,a.scrollTop=l/this.scaleY,u=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(s&&!s.empty)for(let p of this.state.facet(pN))p(s)}get themeClasses(){return wN+" "+(this.state.facet(xN)?qQ:GQ)+" "+this.state.facet(AT)}updateAttrs(){let o=JQ(this,oQ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),s={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(xT)?"true":"false",class:"cm-content",style:`${Xt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(s["aria-readonly"]="true"),JQ(this,wT,s);let a=this.observer.ignore(()=>{let l=sN(this.contentDOM,this.contentAttrs,s),c=sN(this.dom,this.editorAttrs,o);return l||c});return this.editorAttrs=o,this.contentAttrs=s,a}showAnnouncements(o){let s=!0;for(let a of o)for(let l of a.effects)l.is(t.announce)&&(s&&(this.announceDOM.textContent=""),s=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=l.value)}mountStyles(){this.styleModules=this.state.facet(xw);let o=this.state.facet(t.cspNonce);Om.mount(this.root,this.styleModules.concat(GEe).reverse(),o?{nonce:o}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(o){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),o){if(this.measureRequests.indexOf(o)>-1)return;if(null!=o.key)for(let s=0;s<this.measureRequests.length;s++)if(this.measureRequests[s].key===o.key)return void(this.measureRequests[s]=o);this.measureRequests.push(o)}}plugin(o){let s=this.pluginMap.get(o);return(void 0===s||s&&s.spec!=o)&&this.pluginMap.set(o,s=this.plugins.find(a=>a.spec==o)||null),s&&s.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(o){return this.readMeasured(),this.viewState.elementAtHeight(o)}lineBlockAtHeight(o){return this.readMeasured(),this.viewState.lineBlockAtHeight(o)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(o){return this.viewState.lineBlockAt(o)}get contentHeight(){return this.viewState.contentHeight}moveByChar(o,s,a){return yN(this,o,bQ(this,o,s,a))}moveByGroup(o,s){return yN(this,o,bQ(this,o,s,a=>function gEe(t,i,o){let s=t.state.charCategorizer(i),a=s(o);return l=>{let c=s(l);return a==fu.Space&&(a=c),a==c}}(this,o.head,a)))}visualLineSide(o,s){let a=this.bidiSpans(o),l=this.textDirectionAt(o.from),c=a[s?a.length-1:0];return ct.cursor(c.side(s,l)+o.from,c.forward(!s,l)?1:-1)}moveToLineBoundary(o,s,a=!0){return function mEe(t,i,o,s){let a=function vN(t,i){let o=t.lineBlockAt(i);if(Array.isArray(o.type))for(let s of o.type)if(s.to>i||s.to==i&&(s.to==o.to||s.type==_l.Text))return s;return o}(t,i.head),l=s&&a.type==_l.Text&&(t.lineWrapping||a.widgetLineBreaks)?t.coordsAtPos(i.assoc<0&&i.head>a.from?i.head-1:i.head):null;if(l){let c=t.dom.getBoundingClientRect(),u=t.textDirectionAt(a.from),p=t.posAtCoords({x:o==(u==$i.LTR)?c.right-1:c.left+1,y:(l.top+l.bottom)/2});if(null!=p)return ct.cursor(p,o?-1:1)}return ct.cursor(o?a.to:a.from,o?-1:1)}(this,o,s,a)}moveVertically(o,s,a){return yN(this,o,function vEe(t,i,o,s){let a=i.head,l=o?1:-1;if(a==(o?t.state.doc.length:0))return ct.cursor(a,i.assoc);let u,c=i.goalColumn,p=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(a,i.assoc||-1),g=t.documentTop;if(h)null==c&&(c=h.left-p.left),u=l<0?h.top:h.bottom;else{let C=t.viewState.lineBlockAt(a);null==c&&(c=Math.min(p.right-p.left,t.defaultCharacterWidth*(a-C.from))),u=(l<0?C.top:C.bottom)+g}let y=p.left+c,E=s??t.viewState.heightOracle.textHeight>>1;for(let C=0;;C+=10){let D=u+(E+C)*l,O=vQ(t,{x:y,y:D},!1,l);if(D<p.top||D>p.bottom||(l<0?O<a:O>a)){let A=t.docView.coordsForChar(O);return ct.cursor(O,!A||D<A.top?-1:1,void 0,c)}}}(this,o,s,a))}domAtPos(o){return this.docView.domAtPos(o)}posAtDOM(o,s=0){return this.docView.posFromDOM(o,s)}posAtCoords(o,s=!0){return this.readMeasured(),vQ(this,o,s)}coordsAtPos(o,s=1){this.readMeasured();let a=this.docView.coordsAt(o,s);if(!a||a.left==a.right)return a;let l=this.state.doc.lineAt(o),c=this.bidiSpans(l);return yT(a,c[Nm.find(c,o-l.from,-1,s)].dir==$i.LTR==s>0)}coordsForChar(o){return this.readMeasured(),this.docView.coordsForChar(o)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(o){return!this.state.facet(nQ)||o<this.viewport.from||o>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(o))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(o){if(o.length>nxe)return WK(o.length);let a,s=this.textDirectionAt(o.from);for(let c of this.bidiCache)if(c.from==o.from&&c.dir==s&&(c.fresh||GK(c.isolates,a=lQ(this,o))))return c.order;a||(a=lQ(this,o));let l=function qK(t,i,o){if(!t)return[new Nm(0,0,i==lN?1:0)];if(i==Wv&&!o.length&&!Q4e.test(t))return WK(t.length);if(o.length)for(;t.length>zi.length;)zi[zi.length]=256;let s=[],a=i==Wv?0:1;return dN(t,a,a,o,0,t.length,s),s}(o.text,s,a);return this.bidiCache.push(new RT(o.from,o.to,s,a,!0,l)),l}get hasFocus(){var o;return(this.dom.ownerDocument.hasFocus()||Xt.safari&&(null===(o=this.inputState)||void 0===o?void 0:o.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{xK(this.contentDOM),this.docView.updateSelection()})}setRoot(o){this._root!=o&&(this._root=o,this.observer.setWindow((9==o.nodeType?o:o.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let o of this.plugins)o.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(o,s={}){return ET.of(new J3("number"==typeof o?ct.cursor(o):o,s.y,s.x,s.yMargin,s.xMargin))}scrollSnapshot(){let{scrollTop:o,scrollLeft:s}=this.scrollDOM,a=this.viewState.scrollAnchorAt(o);return ET.of(new J3(ct.cursor(a.from),"start","start",a.top-o,s,!0))}static domEventHandlers(o){return es.define(()=>({}),{eventHandlers:o})}static domEventObservers(o){return es.define(()=>({}),{eventObservers:o})}static theme(o,s){let a=Om.newName(),l=[AT.of(a),xw.of(CN(`.${a}`,o))];return s&&s.dark&&l.push(xN.of(!0)),l}static baseTheme(o){return zv.lowest(xw.of(CN("."+wN,o,WQ)))}static findFromDOM(o){var s;let a=o.querySelector(".cm-content"),l=a&&ji.get(a)||ji.get(o);return(null===(s=l?.rootView)||void 0===s?void 0:s.view)||null}}return t.styleModule=xw,t.inputHandler=eQ,t.scrollHandler=iQ,t.focusChangeEffect=tQ,t.perLineTextDirection=nQ,t.exceptionSink=JK,t.updateListener=pN,t.editable=xT,t.mouseSelectionStyle=ZK,t.dragMovesSelection=QK,t.clickAddsSelectionRange=KK,t.decorations=Ew,t.outerDecorations=sQ,t.atomicRanges=hN,t.bidiIsolatedRanges=aQ,t.scrollMargins=cQ,t.darkTheme=xN,t.cspNonce=Ht.define({combine:i=>i.length?i[0]:""}),t.contentAttributes=wT,t.editorAttributes=oQ,t.lineWrapping=t.contentAttributes.of({class:"cm-lineWrapping"}),t.announce=ni.define(),t})();const nxe=4096,ZQ={};class RT{constructor(i,o,s,a,l,c){this.from=i,this.to=o,this.dir=s,this.isolates=a,this.fresh=l,this.order=c}static update(i,o){if(o.empty&&!i.some(l=>l.fresh))return i;let s=[],a=i.length?i[i.length-1].dir:$i.LTR;for(let l=Math.max(0,i.length-10);l<i.length;l++){let c=i[l];c.dir==a&&!o.touchesRange(c.from,c.to)&&s.push(new RT(o.mapPos(c.from,1),o.mapPos(c.to,-1),c.dir,c.isolates,!1,c.order))}return s}}function JQ(t,i,o){for(let s=t.state.facet(i),a=s.length-1;a>=0;a--){let l=s[a],c="function"==typeof l?l(t):l;c&&iN(c,o)}return o}const rxe=Xt.mac?"mac":Xt.windows?"win":Xt.linux?"linux":"key";function IT(t,i,o){return i.altKey&&(t="Alt-"+t),i.ctrlKey&&(t="Ctrl-"+t),i.metaKey&&(t="Meta-"+t),!1!==o&&i.shiftKey&&(t="Shift-"+t),t}const Sw=Ht.define({enables:zv.default(Tn.domEventHandlers({keydown:(t,i)=>function nZ(t,i,o,s){let a=function L4e(t){var o=!(I4e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||N4e&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?mw:km)[t.keyCode]||t.key||"Unidentified";return"Esc"==o&&(o="Escape"),"Del"==o&&(o="Delete"),"Left"==o&&(o="ArrowLeft"),"Up"==o&&(o="ArrowUp"),"Right"==o&&(o="ArrowRight"),"Down"==o&&(o="ArrowDown"),o}(i),c=_0(bl(a,0))==a.length&&" "!=a,u="",p=!1,h=!1,g=!1;Lm&&Lm.view==o&&Lm.scope==s&&(u=Lm.prefix+" ",xQ.indexOf(i.keyCode)<0&&(h=!0,Lm=null));let D,O,y=new Set,E=A=>{if(A){for(let F of A.run)if(!y.has(F)&&(y.add(F),F(o,i)))return A.stopPropagation&&(g=!0),!0;A.preventDefault&&(A.stopPropagation&&(g=!0),h=!0)}return!1},C=t[s];return C&&(E(C[u+IT(a,i,!c)])?p=!0:c&&(i.altKey||i.metaKey||i.ctrlKey)&&!(Xt.windows&&i.ctrlKey&&i.altKey)&&(D=km[i.keyCode])&&D!=a?(E(C[u+IT(D,i,!0)])||i.shiftKey&&(O=mw[i.keyCode])!=a&&O!=D&&E(C[u+IT(O,i,!1)]))&&(p=!0):c&&i.shiftKey&&E(C[u+IT(a,i,!0)])&&(p=!0),!p&&E(C._any)&&(p=!0)),h&&(p=!0),p&&g&&i.stopPropagation(),p}(function tZ(t){let i=t.facet(Sw),o=eZ.get(i);return o||eZ.set(i,o=function axe(t,i=rxe){let o=Object.create(null),s=Object.create(null),a=(c,u)=>{let p=s[c];if(null==p)s[c]=u;else if(p!=u)throw new Error("Key binding "+c+" is used both as a regular binding and as a multi-stroke prefix")},l=(c,u,p,h,g)=>{var y,E;let C=o[c]||(o[c]=Object.create(null)),D=u.split(/ (?!$)/).map(F=>function ixe(t,i){const o=t.split(/-(?!$)/);let a,l,c,u,s=o[o.length-1];"Space"==s&&(s=" ");for(let p=0;p<o.length-1;++p){const h=o[p];if(/^(cmd|meta|m)$/i.test(h))u=!0;else if(/^a(lt)?$/i.test(h))a=!0;else if(/^(c|ctrl|control)$/i.test(h))l=!0;else if(/^s(hift)?$/i.test(h))c=!0;else{if(!/^mod$/i.test(h))throw new Error("Unrecognized modifier name: "+h);"mac"==i?u=!0:l=!0}}return a&&(s="Alt-"+s),l&&(s="Ctrl-"+s),u&&(s="Meta-"+s),c&&(s="Shift-"+s),s}(F,i));for(let F=1;F<D.length;F++){let N=D.slice(0,F).join(" ");a(N,!0),C[N]||(C[N]={preventDefault:!0,stopPropagation:!1,run:[B=>{let j=Lm={view:B,prefix:N,scope:c};return setTimeout(()=>{Lm==j&&(Lm=null)},sxe),!0}]})}let O=D.join(" ");a(O,!1);let A=C[O]||(C[O]={preventDefault:!1,stopPropagation:!1,run:(null===(E=null===(y=C._any)||void 0===y?void 0:y.run)||void 0===E?void 0:E.slice())||[]});p&&A.run.push(p),h&&(A.preventDefault=!0),g&&(A.stopPropagation=!0)};for(let c of t){let u=c.scope?c.scope.split(" "):["editor"];if(c.any)for(let h of u){let g=o[h]||(o[h]=Object.create(null));g._any||(g._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let y in g)g[y].run.push(c.any)}let p=c[i]||c.key;if(p)for(let h of u)l(h,p,c.run,c.preventDefault,c.stopPropagation),c.shift&&l(h,"Shift-"+p,c.shift,c.preventDefault,c.stopPropagation)}return o}(i.reduce((s,a)=>s.concat(a),[]))),o}(i.state),t,i,"editor")}))}),eZ=new WeakMap;let Lm=null;const sxe=4e3;const cZ={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};!Xt.ios&&(cZ[".cm-line"].caretColor="transparent !important",cZ[".cm-content"]={caretColor:"transparent !important"});const Pw="-10000px";class mZ{constructor(i,o,s,a){this.facet=o,this.createTooltipView=s,this.removeTooltipView=a,this.input=i.state.facet(o),this.tooltips=this.input.filter(c=>c);let l=null;this.tooltipViews=this.tooltips.map(c=>l=s(c,l))}update(i,o){var s;let a=i.state.facet(this.facet),l=a.filter(p=>p);if(a===this.input){for(let p of this.tooltipViews)p.update&&p.update(i);return!1}let c=[],u=o?[]:null;for(let p=0;p<l.length;p++){let h=l[p],g=-1;if(h){for(let y=0;y<this.tooltips.length;y++){let E=this.tooltips[y];E&&E.create==h.create&&(g=y)}if(g<0)c[p]=this.createTooltipView(h,p?c[p-1]:null),u&&(u[p]=!!h.above);else{let y=c[p]=this.tooltipViews[g];u&&(u[p]=o[g]),y.update&&y.update(i)}}}for(let p of this.tooltipViews)c.indexOf(p)<0&&(this.removeTooltipView(p),null===(s=p.destroy)||void 0===s||s.call(p));return o&&(u.forEach((p,h)=>o[h]=p),o.length=u.length),this.input=a,this.tooltips=l,this.tooltipViews=c,!0}}function gZ(t={}){return FT.of(t)}function Axe(t){let{win:i}=t;return{top:0,left:0,bottom:i.innerHeight,right:i.innerWidth}}const FT=Ht.define({combine:t=>{var i,o,s;return{position:Xt.ios?"absolute":(null===(i=t.find(a=>a.position))||void 0===i?void 0:i.position)||"fixed",parent:(null===(o=t.find(a=>a.parent))||void 0===o?void 0:o.parent)||null,tooltipSpace:(null===(s=t.find(a=>a.tooltipSpace))||void 0===s?void 0:s.tooltipSpace)||Axe}}}),vZ=new WeakMap,BT=es.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let i=t.state.facet(FT);this.position=i.position,this.parent=i.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new mZ(t,VT,(o,s)=>this.createTooltip(o,s),o=>{this.resizeObserver&&this.resizeObserver.unobserve(o.dom),o.dom.remove()}),this.above=this.manager.tooltips.map(o=>!!o.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(o=>{Date.now()>this.lastTransaction-50&&o.length>0&&o[o.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let i=this.manager.update(t,this.above);i&&this.observeIntersection();let o=i||t.geometryChanged,s=t.state.facet(FT);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;o=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);o=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);o&&this.maybeMeasure()}createTooltip(t,i){let o=t.create(this.view),s=i?i.dom:null;if(o.dom.classList.add("cm-tooltip"),t.arrow&&!o.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",o.dom.appendChild(a)}return o.dom.style.position=this.position,o.dom.style.top=Pw,o.dom.style.left="0px",this.container.insertBefore(o.dom,s),o.mount&&o.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(o.dom),o}destroy(){var t,i,o;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),null===(t=s.destroy)||void 0===t||t.call(s);this.parent&&this.container.remove(),null===(i=this.resizeObserver)||void 0===i||i.disconnect(),null===(o=this.intersectionObserver)||void 0===o||o.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),i=1,o=1,s=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(Xt.gecko)s=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==Pw&&"0px"==a.style.left){let l=a.getBoundingClientRect();s=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}}if(s||"absolute"==this.position)if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(i=a.width/this.parent.offsetWidth,o=a.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:o}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((a,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(FT).tooltipSpace(this.view),scaleX:i,scaleY:o,makeAbsolute:s}}writeMeasure(t){var i;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{editor:o,space:s,scaleX:a,scaleY:l}=t,c=[];for(let u=0;u<this.manager.tooltips.length;u++){let p=this.manager.tooltips[u],h=this.manager.tooltipViews[u],{dom:g}=h,y=t.pos[u],E=t.size[u];if(!y||y.bottom<=Math.max(o.top,s.top)||y.top>=Math.min(o.bottom,s.bottom)||y.right<Math.max(o.left,s.left)-.1||y.left>Math.min(o.right,s.right)+.1){g.style.top=Pw;continue}let C=p.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,D=C?7:0,O=E.right-E.left,A=null!==(i=vZ.get(h))&&void 0!==i?i:E.bottom-E.top,F=h.offset||Ixe,N=this.view.textDirection==$i.LTR,B=E.width>s.right-s.left?N?s.left:s.right-E.width:N?Math.min(y.left-(C?14:0)+F.x,s.right-O):Math.max(s.left,y.left-O+(C?14:0)-F.x),j=this.above[u];!p.strictSide&&(j?y.top-(E.bottom-E.top)-F.y<s.top:y.bottom+(E.bottom-E.top)+F.y>s.bottom)&&j==s.bottom-y.bottom>y.top-s.top&&(j=this.above[u]=!j);let q=(j?y.top-s.top:s.bottom-y.bottom)-D;if(q<A&&!1!==h.resize){if(q<this.view.defaultLineHeight){g.style.top=Pw;continue}vZ.set(h,A),g.style.height=(A=q)/l+"px"}else g.style.height&&(g.style.height="");let ee=j?y.top-A-D-F.y:y.bottom+D+F.y,ae=B+O;if(!0!==h.overlap)for(let te of c)te.left<ae&&te.right>B&&te.top<ee+A&&te.bottom>ee&&(ee=j?te.top-A-2-D:te.bottom+D+2);"absolute"==this.position?(g.style.top=(ee-t.parent.top)/l+"px",g.style.left=(B-t.parent.left)/a+"px"):(g.style.top=ee/l+"px",g.style.left=B/a+"px"),C&&(C.style.left=(y.left+(N?F.x:-F.x)-(B+14-7))/a+"px"),!0!==h.overlap&&c.push({left:B,top:ee,right:ae,bottom:ee+A}),g.classList.toggle("cm-tooltip-above",j),g.classList.toggle("cm-tooltip-below",!j),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Pw}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Ixe={x:0,y:0},VT=Ht.define({enables:[BT,Tn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),Mw=Ht.define({combine:t=>t.reduce((i,o)=>i.concat(o),[])});class jT{static create(i){return new jT(i)}constructor(i){this.view=i,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new mZ(i,Mw,(o,s)=>this.createHostedView(o,s),o=>o.dom.remove())}createHostedView(i,o){let s=i.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,o?o.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(i){for(let o of this.manager.tooltipViews)o.mount&&o.mount(i);this.mounted=!0}positioned(i){for(let o of this.manager.tooltipViews)o.positioned&&o.positioned(i)}update(i){this.manager.update(i)}destroy(){var i;for(let o of this.manager.tooltipViews)null===(i=o.destroy)||void 0===i||i.call(o)}passProp(i){let o;for(let s of this.manager.tooltipViews){let a=s[i];if(void 0!==a)if(void 0===o)o=a;else if(o!==a)return}return o}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Nxe=VT.compute([Mw],t=>{let i=t.facet(Mw);return 0===i.length?null:{pos:Math.min(...i.map(o=>o.pos)),end:Math.max(...i.map(o=>{var s;return null!==(s=o.end)&&void 0!==s?s:o.pos})),create:jT.create,above:i[0].above,arrow:i.some(o=>o.arrow)}});class Lxe{constructor(i,o,s,a,l){this.view=i,this.source=o,this.field=s,this.setHover=a,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:i.dom,time:0},this.checkHover=this.checkHover.bind(this),i.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),i.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let i=Date.now()-this.lastMove.time;i<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-i):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:i,lastMove:o}=this,s=i.docView.nearest(o.target);if(!s)return;let a,l=1;if(s instanceof Am)a=s.posAtStart;else{if(a=i.posAtCoords(o),null==a)return;let u=i.coordsAtPos(a);if(!u||o.y<u.top||o.y>u.bottom||o.x<u.left-i.defaultCharacterWidth||o.x>u.right+i.defaultCharacterWidth)return;let p=i.bidiSpans(i.state.doc.lineAt(a)).find(g=>g.from<=a&&g.to>=a),h=p&&p.dir==$i.RTL?-1:1;l=o.x<u.left?-h:h}let c=this.source(i,a,l);if(c?.then){let u=this.pending={pos:a};c.then(p=>{this.pending==u&&(this.pending=null,p&&(!Array.isArray(p)||p.length)&&i.dispatch({effects:this.setHover.of(Array.isArray(p)?p:[p])}))},p=>El(i.state,p,"hover tooltip"))}else c&&(!Array.isArray(c)||c.length)&&i.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])})}get tooltip(){let i=this.view.plugin(BT),o=i?i.manager.tooltips.findIndex(s=>s.create==jT.create):-1;return o>-1?i.manager.tooltipViews[o]:null}mousemove(i){var o,s;this.lastMove={x:i.clientX,y:i.clientY,target:i.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:l}=this;if(a.length&&l&&!function Fxe(t,i){let o=t.getBoundingClientRect();return i.clientX>=o.left-$T&&i.clientX<=o.right+$T&&i.clientY>=o.top-$T&&i.clientY<=o.bottom+$T}(l.dom,i)||this.pending){let{pos:c}=a[0]||this.pending,u=null!==(s=null===(o=a[0])||void 0===o?void 0:o.end)&&void 0!==s?s:c;(c==u?this.view.posAtCoords(this.lastMove)!=c:!function Bxe(t,i,o,s,a,l){let c=t.scrollDOM.getBoundingClientRect();if(c.left>s||c.right<s||c.top>a||Math.min(c.bottom,t.documentTop+t.documentPadding.top+t.contentHeight)<a)return!1;let p=t.posAtCoords({x:s,y:a},!1);return p>=i&&p<=o}(this.view,c,u,i.clientX,i.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(i){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:o}=this;if(o.length){let{tooltip:s}=this;s&&s.dom.contains(i.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(i){let o=s=>{i.removeEventListener("mouseleave",o),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};i.addEventListener("mouseleave",o)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const $T=4;function Vxe(t,i={}){let o=ni.define(),s=Js.define({create:()=>[],update(a,l){if(a.length&&(i.hideOnChange&&(l.docChanged||l.selection)?a=[]:i.hideOn&&(a=a.filter(c=>!i.hideOn(l,c))),l.docChanged)){let c=[];for(let u of a){let p=l.changes.mapPos(u.pos,-1,ca.TrackDel);if(null!=p){let h=Object.assign(Object.create(null),u);h.pos=p,null!=h.end&&(h.end=l.changes.mapPos(h.end)),c.push(h)}}a=c}for(let c of l.effects)c.is(o)&&(a=c.value),c.is(jxe)&&(a=[]);return a},provide:a=>Mw.from(a)});return[s,es.define(a=>new Lxe(a,t,s,o,i.hoverTime||300)),Nxe]}function yZ(t,i){let o=t.plugin(BT);if(!o)return null;let s=o.manager.tooltips.indexOf(i);return s<0?null:o.manager.tooltipViews[s]}const jxe=ni.define(),ON=Ht.define({combine(t){let i,o;for(let s of t)i=i||s.topContainer,o=o||s.bottomContainer;return{topContainer:i,bottomContainer:o}}}),bZ=es.fromClass(class{constructor(t){this.input=t.state.facet(kN),this.specs=this.input.filter(o=>o),this.panels=this.specs.map(o=>o(t));let i=t.state.facet(ON);this.top=new zT(t,!0,i.topContainer),this.bottom=new zT(t,!1,i.bottomContainer),this.top.sync(this.panels.filter(o=>o.top)),this.bottom.sync(this.panels.filter(o=>!o.top));for(let o of this.panels)o.dom.classList.add("cm-panel"),o.mount&&o.mount()}update(t){let i=t.state.facet(ON);this.top.container!=i.topContainer&&(this.top.sync([]),this.top=new zT(t.view,!0,i.topContainer)),this.bottom.container!=i.bottomContainer&&(this.bottom.sync([]),this.bottom=new zT(t.view,!1,i.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let o=t.state.facet(kN);if(o!=this.input){let s=o.filter(p=>p),a=[],l=[],c=[],u=[];for(let p of s){let g,h=this.specs.indexOf(p);h<0?(g=p(t.view),u.push(g)):(g=this.panels[h],g.update&&g.update(t)),a.push(g),(g.top?l:c).push(g)}this.specs=s,this.panels=a,this.top.sync(l),this.bottom.sync(c);for(let p of u)p.dom.classList.add("cm-panel"),p.mount&&p.mount()}else for(let s of this.panels)s.update&&s.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Tn.scrollMargins.of(i=>{let o=i.plugin(t);return o&&{top:o.top.scrollMargin(),bottom:o.bottom.scrollMargin()}})});class zT{constructor(i,o,s){this.view=i,this.top=o,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(i){for(let o of this.panels)o.destroy&&i.indexOf(o)<0&&o.destroy();this.panels=i,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let o=this.container||this.view.dom;o.insertBefore(this.dom,this.top?o.firstChild:null)}let i=this.dom.firstChild;for(let o of this.panels)if(o.dom.parentNode==this.dom){for(;i!=o.dom;)i=_Z(i);i=i.nextSibling}else this.dom.insertBefore(o.dom,i);for(;i;)i=_Z(i)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let i of this.classes.split(" "))i&&this.container.classList.remove(i);for(let i of(this.classes=this.view.themeClasses).split(" "))i&&this.container.classList.add(i)}}}function _Z(t){let i=t.nextSibling;return t.remove(),i}const kN=Ht.define({enables:bZ});class Xd extends Hv{compare(i){return this==i||this.constructor==i.constructor&&this.eq(i)}eq(i){return!1}destroy(i){}}Xd.prototype.elementClass="",Xd.prototype.toDOM=void 0,Xd.prototype.mapMode=ca.TrackBefore,Xd.prototype.startSide=Xd.prototype.endSide=-1,Xd.prototype.point=!0;const AN=Ht.define(),Ow=Ht.define(),RN=Ht.define({combine:t=>t.some(i=>i)});function EZ(t){let i=[Uxe];return t&&!1===t.fixed&&i.push(RN.of(!0)),i}const Uxe=es.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ow).map(i=>new wZ(t,i));for(let i of this.gutters)this.dom.appendChild(i.dom);this.fixed=!t.state.facet(RN),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let i=this.prevViewport,o=t.view.viewport,s=Math.min(i.to,o.to)-Math.max(i.from,o.from);this.syncGutters(s<.8*(o.to-o.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(RN)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let i=this.dom.nextSibling;t&&this.dom.remove();let o=Bo.iter(this.view.state.facet(AN),this.view.viewport.from),s=[],a=this.gutters.map(l=>new Gxe(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(l.type)){let c=!0;for(let u of l.type)if(u.type==_l.Text&&c){IN(o,s,u.from);for(let p of a)p.line(this.view,u,s);c=!1}else if(u.widget)for(let p of a)p.widget(this.view,u)}else if(l.type==_l.Text){IN(o,s,l.from);for(let c of a)c.line(this.view,l,s)}else if(l.widget)for(let c of a)c.widget(this.view,l);for(let l of a)l.finish();t&&this.view.scrollDOM.insertBefore(this.dom,i)}updateGutters(t){let i=t.startState.facet(Ow),o=t.state.facet(Ow),s=t.docChanged||t.heightChanged||t.viewportChanged||!Bo.eq(t.startState.facet(AN),t.state.facet(AN),t.view.viewport.from,t.view.viewport.to);if(i==o)for(let a of this.gutters)a.update(t)&&(s=!0);else{s=!0;let a=[];for(let l of o){let c=i.indexOf(l);c<0?a.push(new wZ(this.view,l)):(this.gutters[c].update(t),a.push(this.gutters[c]))}for(let l of this.gutters)l.dom.remove(),a.indexOf(l)<0&&l.destroy();for(let l of a)this.dom.appendChild(l.dom);this.gutters=a}return s}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Tn.scrollMargins.of(i=>{let o=i.plugin(t);return o&&0!=o.gutters.length&&o.fixed?i.textDirection==$i.LTR?{left:o.dom.offsetWidth*i.scaleX}:{right:o.dom.offsetWidth*i.scaleX}:null})});function xZ(t){return Array.isArray(t)?t:[t]}function IN(t,i,o){for(;t.value&&t.from<=o;)t.from==o&&i.push(t.value),t.next()}class Gxe{constructor(i,o,s){this.gutter=i,this.height=s,this.i=0,this.cursor=Bo.iter(i.markers,o.from)}addElement(i,o,s){let{gutter:a}=this,l=(o.top-this.height)/i.scaleY,c=o.height/i.scaleY;if(this.i==a.elements.length){let u=new CZ(i,c,l,s);a.elements.push(u),a.dom.appendChild(u.dom)}else a.elements[this.i].update(i,c,l,s);this.height=o.bottom,this.i++}line(i,o,s){let a=[];IN(this.cursor,a,o.from),s.length&&(a=a.concat(s));let l=this.gutter.config.lineMarker(i,o,a);l&&a.unshift(l),0==a.length&&!this.gutter.config.renderEmptyElements||this.addElement(i,o,a)}widget(i,o){let s=this.gutter.config.widgetMarker(i,o.widget,o);s&&this.addElement(i,o,[s])}finish(){let i=this.gutter;for(;i.elements.length>this.i;){let o=i.elements.pop();i.dom.removeChild(o.dom),o.destroy()}}}class wZ{constructor(i,o){this.view=i,this.config=o,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in o.domEventHandlers)this.dom.addEventListener(s,a=>{let c,l=a.target;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let p=l.getBoundingClientRect();c=(p.top+p.bottom)/2}else c=a.clientY;let u=i.lineBlockAtHeight(c-i.documentTop);o.domEventHandlers[s](i,u,a)&&a.preventDefault()});this.markers=xZ(o.markers(i)),o.initialSpacer&&(this.spacer=new CZ(i,0,0,[o.initialSpacer(i)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(i){let o=this.markers;if(this.markers=xZ(this.config.markers(i.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],i);a!=this.spacer.markers[0]&&this.spacer.update(i.view,0,0,[a])}let s=i.view.viewport;return!Bo.eq(this.markers,o,s.from,s.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(i)}destroy(){for(let i of this.elements)i.destroy()}}class CZ{constructor(i,o,s,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(i,o,s,a)}update(i,o,s,a){this.height!=o&&(this.height=o,this.dom.style.height=o+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),function qxe(t,i){if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++)if(!t[o].compare(i[o]))return!1;return!0}(this.markers,a)||this.setMarkers(i,a)}setMarkers(i,o){let s="cm-gutterElement",a=this.dom.firstChild;for(let l=0,c=0;;){let u=c,p=l<o.length?o[l++]:null,h=!1;if(p){let g=p.elementClass;g&&(s+=" "+g);for(let y=c;y<this.markers.length;y++)if(this.markers[y].compare(p)){u=y,h=!0;break}}else u=this.markers.length;for(;c<u;){let g=this.markers[c++];if(g.toDOM){g.destroy(a);let y=a.nextSibling;a.remove(),a=y}}if(!p)break;p.toDOM&&(h?a=a.nextSibling:this.dom.insertBefore(p.toDOM(i),a)),h&&c++}this.dom.className=s,this.markers=o}destroy(){this.setMarkers(null,[])}}const Wxe=Ht.define(),t5=Ht.define({combine:t=>Pf(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(i,o){let s=Object.assign({},i);for(let a in o){let l=s[a],c=o[a];s[a]=l?(u,p,h)=>l(u,p,h)||c(u,p,h):c}return s}})});class NN extends Xd{constructor(i){super(),this.number=i}eq(i){return this.number==i.number}toDOM(){return document.createTextNode(this.number)}}function LN(t,i){return t.state.facet(t5).formatNumber(i,t.state)}const Xxe=Ow.compute([t5],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:i=>i.state.facet(Wxe),lineMarker:(i,o,s)=>s.some(a=>a.toDOM)?null:new NN(LN(i,i.state.doc.lineAt(o.from).number)),widgetMarker:()=>null,lineMarkerChange:i=>i.startState.facet(t5)!=i.state.facet(t5),initialSpacer:i=>new NN(LN(i,DZ(i.state.doc.lines))),updateSpacer(i,o){let s=LN(o.view,DZ(o.view.state.doc.lines));return s==i.number?i:new NN(s)},domEventHandlers:t.facet(t5).domEventHandlers}));function SZ(t={}){return[t5.of(t),EZ(),Xxe]}function DZ(t){let i=9;for(;i<t;)i=10*i+9;return i}var FN;const Xv=new $n;const Jxe=new $n;let Ac=(()=>{class t{constructor(o,s,a=[],l=""){this.data=o,this.name=l,Pc.prototype.hasOwnProperty("tree")||Object.defineProperty(Pc.prototype,"tree",{get(){return eo(this)}}),this.parser=s,this.extension=[Fm.of(this),Pc.languageData.of((c,u,p)=>{let h=OZ(c,u,p),g=h.type.prop(Xv);if(!g)return[];let y=c.facet(g),E=h.type.prop(Jxe);if(E){let C=h.resolve(u-h.from,p);for(let D of E)if(D.test(C,c)){let O=c.facet(D.facet);return"replace"==D.type?O:O.concat(y)}}return y})].concat(a)}isActiveAt(o,s,a=-1){return OZ(o,s,a).type.prop(Xv)==this.data}findRegions(o){let s=o.facet(Fm);if(s?.data==this.data)return[{from:0,to:o.doc.length}];if(!s||!s.allowsNesting)return[];let a=[],l=(c,u)=>{if(c.prop(Xv)==this.data)return void a.push({from:u,to:u+c.length});let p=c.prop($n.mounted);if(p){if(p.tree.prop(Xv)==this.data){if(p.overlay)for(let h of p.overlay)a.push({from:h.from+u,to:h.to+u});else a.push({from:u,to:u+c.length});return}if(p.overlay){let h=a.length;if(l(p.tree,p.overlay[0].from+u),a.length>h)return}}for(let h=0;h<c.children.length;h++){let g=c.children[h];g instanceof Pr&&l(g,c.positions[h]+u)}};return l(eo(o),0),a}get allowsNesting(){return!0}}return t.setState=ni.define(),t})();function OZ(t,i,o){let s=t.facet(Fm),a=eo(t).topNode;if(!s||s.allowsNesting)for(let l=a;l;l=l.enter(i,o,So.ExcludeBuffers))l.type.isTop&&(a=l);return a}class kw extends Ac{constructor(i,o,s){super(i,o,[],s),this.parser=o}static define(i){let o=function MZ(t){return Ht.define({combine:t?i=>i.concat(t):void 0})}(i.languageData);return new kw(o,i.parser.configure({props:[Xv.add(s=>s.isTop?o:void 0)]}),i.name)}configure(i,o){return new kw(this.data,this.parser.configure(i),o||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function eo(t){let i=t.field(Ac.state,!1);return i?i.tree:Pr.empty}class twe{constructor(i){this.doc=i,this.cursorPos=0,this.string="",this.cursor=i.iter()}get length(){return this.doc.length}syncTo(i){return this.string=this.cursor.next(i-this.cursorPos).value,this.cursorPos=i+this.string.length,this.cursorPos-this.string.length}chunk(i){return this.syncTo(i),this.string}get lineChunks(){return!0}read(i,o){let s=this.cursorPos-this.string.length;return i<s||o>=this.cursorPos?this.doc.sliceString(i,o):this.string.slice(i-s,o-s)}}let Aw=null;class n5{constructor(i,o,s=[],a,l,c,u,p){this.parser=i,this.state=o,this.fragments=s,this.tree=a,this.treeLen=l,this.viewport=c,this.skipped=u,this.scheduleOn=p,this.parse=null,this.tempSkipped=[]}static create(i,o,s){return new n5(i,o,[],Pr.empty,0,s,[],null)}startParse(){return this.parser.startParse(new twe(this.state.doc),this.fragments)}work(i,o){return null!=o&&o>=this.state.doc.length&&(o=void 0),this.tree!=Pr.empty&&this.isDone(o??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if("number"==typeof i){let a=Date.now()+i;i=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),null!=o&&(null==this.parse.stoppedAt||this.parse.stoppedAt>o)&&o<this.state.doc.length&&this.parse.stopAt(o);;){let a=this.parse.advance();if(a){if(this.fragments=this.withoutTempSkipped(Sf.addTree(a,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(s=this.parse.stoppedAt)&&void 0!==s?s:this.state.doc.length,this.tree=a,this.parse=null,!(this.treeLen<(o??this.state.doc.length)))return!0;this.parse=this.startParse()}if(i())return!1}})}takeTree(){let i,o;this.parse&&(i=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>i)&&this.parse.stopAt(i),this.withContext(()=>{for(;!(o=this.parse.advance()););}),this.treeLen=i,this.tree=o,this.fragments=this.withoutTempSkipped(Sf.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(i){let o=Aw;Aw=this;try{return i()}finally{Aw=o}}withoutTempSkipped(i){for(let o;o=this.tempSkipped.pop();)i=kZ(i,o.from,o.to);return i}changes(i,o){let{fragments:s,tree:a,treeLen:l,viewport:c,skipped:u}=this;if(this.takeTree(),!i.empty){let p=[];if(i.iterChangedRanges((h,g,y,E)=>p.push({fromA:h,toA:g,fromB:y,toB:E})),s=Sf.applyChanges(s,p),a=Pr.empty,l=0,c={from:i.mapPos(c.from,-1),to:i.mapPos(c.to,1)},this.skipped.length){u=[];for(let h of this.skipped){let g=i.mapPos(h.from,1),y=i.mapPos(h.to,-1);g<y&&u.push({from:g,to:y})}}}return new n5(this.parser,o,s,a,l,c,u,this.scheduleOn)}updateViewport(i){if(this.viewport.from==i.from&&this.viewport.to==i.to)return!1;this.viewport=i;let o=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:a,to:l}=this.skipped[s];a<i.to&&l>i.from&&(this.fragments=kZ(this.fragments,a,l),this.skipped.splice(s--,1))}return!(this.skipped.length>=o||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(i,o){this.skipped.push({from:i,to:o})}static getSkippingParser(i){return new class extends JD{createParse(o,s,a){let l=a[0].from,c=a[a.length-1].to;return{parsedPos:l,advance(){let p=Aw;if(p){for(let h of a)p.tempSkipped.push(h);i&&(p.scheduleOn=p.scheduleOn?Promise.all([p.scheduleOn,i]):i)}return this.parsedPos=c,new Pr(hs.none,[],[],c-l)},stoppedAt:null,stopAt(){}}}}}isDone(i){i=Math.min(i,this.state.doc.length);let o=this.fragments;return this.treeLen>=i&&o.length&&0==o[0].from&&o[0].to>=i}static get(){return Aw}}function kZ(t,i,o){return Sf.applyChanges(t,[{fromA:i,toA:o,fromB:i,toB:o}])}class r5{constructor(i){this.context=i,this.tree=i.tree}apply(i){if(!i.docChanged&&this.tree==this.context.tree)return this;let o=this.context.changes(i.changes,i.state),s=this.context.treeLen==i.startState.doc.length?void 0:Math.max(i.changes.mapPos(this.context.treeLen),o.viewport.to);return o.work(20,s)||o.takeTree(),new r5(o)}static init(i){let o=Math.min(3e3,i.doc.length),s=n5.create(i.facet(Fm).parser,i,{from:0,to:o});return s.work(20,o)||s.takeTree(),new r5(s)}}Ac.state=Js.define({create:r5.init,update(t,i){for(let o of i.effects)if(o.is(Ac.setState))return o.value;return i.startState.facet(Fm)!=i.state.facet(Fm)?r5.init(i.state):t.apply(i)}});let AZ=t=>{let i=setTimeout(()=>t(),500);return()=>clearTimeout(i)};typeof requestIdleCallback<"u"&&(AZ=t=>{let i=-1,o=setTimeout(()=>{i=requestIdleCallback(t,{timeout:400})},100);return()=>i<0?clearTimeout(o):cancelIdleCallback(i)});const BN=typeof navigator<"u"&&null!==(FN=navigator.scheduling)&&void 0!==FN&&FN.isInputPending?()=>navigator.scheduling.isInputPending():null,RZ=es.fromClass(class{constructor(i){this.view=i,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(i){let o=this.view.state.field(Ac.state).context;(o.updateViewport(i.view.viewport)||this.view.viewport.to>o.treeLen)&&this.scheduleWork(),(i.docChanged||i.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(o)}scheduleWork(){if(this.working)return;let{state:i}=this.view,o=i.field(Ac.state);(o.tree!=o.context.tree||!o.context.isDone(i.doc.length))&&(this.working=AZ(this.work))}work(i){this.working=null;let o=Date.now();if(this.chunkEnd<o&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=o+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:a}}=this.view,l=s.field(Ac.state);if(l.tree==l.context.tree&&l.context.isDone(a+1e5))return;let c=Date.now()+Math.min(this.chunkBudget,100,i&&!BN?Math.max(25,i.timeRemaining()-5):1e9),u=l.context.treeLen<a&&s.doc.length>a+1e3,p=l.context.work(()=>BN&&BN()||Date.now()>c,a+(u?0:1e5));this.chunkBudget-=Date.now()-o,(p||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Ac.setState.of(new r5(l.context))})),this.chunkBudget>0&&!(p&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(i){i.scheduleOn&&(this.workScheduled++,i.scheduleOn.then(()=>this.scheduleWork()).catch(o=>El(this.view.state,o)).then(()=>this.workScheduled--),i.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Fm=Ht.define({combine:t=>t.length?t[0]:null,enables:t=>[Ac.state,RZ,Tn.contentAttributes.compute([t],i=>{let o=i.facet(t);return o&&o.name?{"data-language":o.name}:{}})]});class IZ{constructor(i,o=[]){this.language=i,this.support=o,this.extension=[i,o]}}const LZ=Ht.define(),HT=Ht.define({combine:t=>{if(!t.length)return"  ";let i=t[0];if(!i||/\S/.test(i)||Array.from(i).some(o=>o!=i[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return i}});function Yv(t){let i=t.facet(HT);return 9==i.charCodeAt(0)?t.tabSize*i.length:i.length}function i5(t,i){let o="",s=t.tabSize,a=t.facet(HT)[0];if("\t"==a){for(;i>=s;)o+="\t",i-=s;a=" "}for(let l=0;l<i;l++)o+=a;return o}function UT(t,i){t instanceof Pc&&(t=new Rw(t));for(let s of t.state.facet(LZ)){let a=s(t,i);if(void 0!==a)return a}let o=eo(t.state);return o.length>=i?function nwe(t,i,o){let s=i.resolveStack(o),a=s.node.enterUnfinishedNodesBefore(o);if(a!=s.node){let l=[];for(let c=a;c!=s.node;c=c.parent)l.push(c);for(let c=l.length-1;c>=0;c--)s={node:l[c],next:s}}return BZ(s,t,o)}(t,o,i):null}class Rw{constructor(i,o={}){this.state=i,this.options=o,this.unit=Yv(i)}lineAt(i,o=1){let s=this.state.doc.lineAt(i),{simulateBreak:a,simulateDoubleBreak:l}=this.options;return null!=a&&a>=s.from&&a<=s.to?l&&a==i?{text:"",from:i}:(o<0?a<i:a<=i)?{text:s.text.slice(a-s.from),from:a}:{text:s.text.slice(0,a-s.from),from:s.from}:s}textAfterPos(i,o=1){if(this.options.simulateDoubleBreak&&i==this.options.simulateBreak)return"";let{text:s,from:a}=this.lineAt(i,o);return s.slice(i-a,Math.min(s.length,i+100-a))}column(i,o=1){let{text:s,from:a}=this.lineAt(i,o),l=this.countColumn(s,i-a),c=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return c>-1&&(l+=c-this.countColumn(s,s.search(/\S|$/))),l}countColumn(i,o=i.length){return hT(i,this.state.tabSize,o)}lineIndent(i,o=1){let{text:s,from:a}=this.lineAt(i,o),l=this.options.overrideIndentation;if(l){let c=l(a);if(c>-1)return c}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const FZ=new $n;function BZ(t,i,o){for(let s=t;s;s=s.next){let a=iwe(s.node);if(a)return a(VN.create(i,o,s))}return 0}function iwe(t){let i=t.type.prop(FZ);if(i)return i;let s,o=t.firstChild;if(o&&(s=o.type.prop($n.closedBy))){let a=t.lastChild,l=a&&s.indexOf(a.name)>-1;return c=>jZ(c,!0,1,void 0,l&&!function rwe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(c)?a.from:void 0)}return null==t.parent?owe:null}function owe(){return 0}class VN extends Rw{constructor(i,o,s){super(i.state,i.options),this.base=i,this.pos=o,this.context=s}get node(){return this.context.node}static create(i,o,s){return new VN(i,o,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(i){let o=this.state.doc.lineAt(i.from);for(;;){let s=i.resolve(o.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(swe(s,i))break;o=this.state.doc.lineAt(s.from)}return this.lineIndent(o.from)}continue(){return BZ(this.context.next,this.base,this.pos)}}function swe(t,i){for(let o=i;o;o=o.parent)if(t==o)return!0;return!1}function VZ({closing:t,align:i=!0,units:o=1}){return s=>jZ(s,i,o,t)}function jZ(t,i,o,s,a){let l=t.textAfter,c=l.match(/^\s*/)[0].length,u=s&&l.slice(c,c+s.length)==s||a==t.pos+c,p=i?function awe(t){let i=t.node,o=i.childAfter(i.from),s=i.lastChild;if(!o)return null;let a=t.options.simulateBreak,l=t.state.doc.lineAt(o.from),c=null==a||a<=l.from?l.to:Math.min(l.to,a);for(let u=o.to;;){let p=i.childAfter(u);if(!p||p==s)return null;if(!p.type.isSkipped)return p.from<c?o:null;u=p.to}}(t):null;return p?t.column(u?p.from:p.to):t.baseIndent+(u?0:t.unit*o)}function jN({except:t,units:i=1}={}){return o=>{let s=t&&t.test(o.textAfter);return o.baseIndent+(s?0:i*o.unit)}}const lwe=200;function $Z(){return Pc.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let i=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!i.length)return t;let o=t.newDoc,{head:s}=t.newSelection.main,a=o.lineAt(s);if(s>a.from+lwe)return t;let l=o.sliceString(a.from,s);if(!i.some(h=>h.test(l)))return t;let{state:c}=t,u=-1,p=[];for(let{head:h}of c.selection.ranges){let g=c.doc.lineAt(h);if(g.from==u)continue;u=g.from;let y=UT(c,g.from);if(null==y)continue;let E=/^\s*/.exec(g.text)[0],C=i5(c,y);E!=C&&p.push({from:g.from,to:g.from+E.length,insert:C})}return p.length?[t,{changes:p,sequential:!0}]:t})}const $N=new $n;function Iw(t){let i=t.firstChild,o=t.lastChild;return i&&i.to<o.from?{from:i.to,to:o.type.isError?t.to:o.from}:null}class Vm{constructor(i,o){let s;function a(u){let p=Om.newName();return(s||(s=Object.create(null)))["."+p]=u,p}this.specs=i;const l="string"==typeof o.all?o.all:o.all?a(o.all):void 0,c=o.scope;this.scope=c instanceof Ac?u=>u.prop(Xv)==c.data:c?u=>u==c:void 0,this.style=$Y(i.map(u=>({tag:u.tag,class:u.class||a(Object.assign({},u,{tag:null}))})),{all:l}).style,this.module=s?new Om(s):null,this.themeType=o.themeType}static define(i,o){return new Vm(i,o||{})}}const qN=Ht.define(),qZ=Ht.define({combine:t=>t.length?[t[0]]:null});function qT(t){let i=t.facet(qN);return i.length?i:t.facet(qZ)}function WT(t,i){let s,o=[wwe];return t instanceof Vm&&(t.module&&o.push(Tn.styleModule.of(t.module)),s=t.themeType),o.push(i?.fallback?qZ.of(t):s?qN.computeN([Tn.darkTheme],a=>a.facet(Tn.darkTheme)==("dark"==s)?[t]:[]):qN.of(t)),o}class xwe{constructor(i){this.markCache=Object.create(null),this.tree=eo(i.state),this.decorations=this.buildDeco(i,qT(i.state)),this.decoratedTo=i.viewport.to}update(i){let o=eo(i.state),s=qT(i.state),a=s!=qT(i.startState),{viewport:l}=i.view,c=i.changes.mapPos(this.decoratedTo,1);o.length<l.to&&!a&&o.type==this.tree.type&&c>=l.to?(this.decorations=this.decorations.map(i.changes),this.decoratedTo=c):(o!=this.tree||i.viewportChanged||a)&&(this.tree=o,this.decorations=this.buildDeco(i.view,s),this.decoratedTo=l.to)}buildDeco(i,o){if(!o||!this.tree.length)return zn.none;let s=new Uv;for(let{from:a,to:l}of i.visibleRanges)zY(this.tree,o,(c,u,p)=>{s.add(c,u,this.markCache[p]||(this.markCache[p]=zn.mark({class:p})))},a,l);return s.finish()}}const wwe=zv.high(es.fromClass(xwe,{decorations:t=>t.decorations})),Cwe=Tn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),WZ=1e4,XZ="()[]{}",YZ=Ht.define({combine:t=>Pf(t,{afterCursor:!0,brackets:XZ,maxScanDistance:WZ,renderMatch:Twe})}),Swe=zn.mark({class:"cm-matchingBracket"}),Dwe=zn.mark({class:"cm-nonmatchingBracket"});function Twe(t){let i=[],o=t.matched?Swe:Dwe;return i.push(o.range(t.start.from,t.start.to)),t.end&&i.push(o.range(t.end.from,t.end.to)),i}const Pwe=[Js.define({create:()=>zn.none,update(t,i){if(!i.docChanged&&!i.selection)return t;let o=[],s=i.state.facet(YZ);for(let a of i.state.selection.ranges){if(!a.empty)continue;let l=Yd(i.state,a.head,-1,s)||a.head>0&&Yd(i.state,a.head-1,1,s)||s.afterCursor&&(Yd(i.state,a.head,1,s)||a.head<i.state.doc.length&&Yd(i.state,a.head+1,-1,s));l&&(o=o.concat(s.renderMatch(l,i.state)))}return zn.set(o,!0)},provide:t=>Tn.decorations.from(t)}),Cwe];function KZ(t={}){return[YZ.of(t),Pwe]}const Mwe=new $n;function WN(t,i,o){let s=t.prop(i<0?$n.openedBy:$n.closedBy);if(s)return s;if(1==t.name.length){let a=o.indexOf(t.name);if(a>-1&&a%2==(i<0?1:0))return[o[a+i]]}return null}function XN(t){let i=t.type.prop(Mwe);return i?i(t.node):t}function Yd(t,i,o,s={}){let a=s.maxScanDistance||WZ,l=s.brackets||XZ,c=eo(t),u=c.resolveInner(i,o);for(let p=u;p;p=p.parent){let h=WN(p.type,o,l);if(h&&p.from<p.to){let g=XN(p);if(g&&(o>0?i>=g.from&&i<g.to:i>g.from&&i<=g.to))return Owe(0,0,o,p,g,h,l)}}return function kwe(t,i,o,s,a,l,c){let u=o<0?t.sliceDoc(i-1,i):t.sliceDoc(i,i+1),p=c.indexOf(u);if(p<0||p%2==0!=o>0)return null;let h={from:o<0?i-1:i,to:o>0?i+1:i},g=t.doc.iterRange(i,o>0?t.doc.length:0),y=0;for(let E=0;!g.next().done&&E<=l;){let C=g.value;o<0&&(E+=C.length);let D=i+E*o;for(let O=o>0?0:C.length-1,A=o>0?C.length:-1;O!=A;O+=o){let F=c.indexOf(C[O]);if(!(F<0||s.resolveInner(D+O,1).type!=a))if(F%2==0==o>0)y++;else{if(1==y)return{start:h,end:{from:D+O,to:D+O+1},matched:F>>1==p>>1};y--}}o>0&&(E+=C.length)}return g.done?{start:h,matched:!1}:null}(t,i,o,c,u.type,a,l)}function Owe(t,i,o,s,a,l,c){let u=s.parent,p={from:a.from,to:a.to},h=0,g=u?.cursor();if(g&&(o<0?g.childBefore(s.from):g.childAfter(s.to)))do{if(o<0?g.to<=s.from:g.from>=s.to){if(0==h&&l.indexOf(g.type.name)>-1&&g.from<g.to){let y=XN(g);return{start:p,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}if(WN(g.type,o,c))h++;else if(WN(g.type,-o,c)){if(0==h){let y=XN(g);return{start:p,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}h--}}}while(o<0?g.prevSibling():g.nextSibling());return{start:p,matched:!1}}const KN=Object.create(null),Bw=[hs.none],rJ=[],iJ=Object.create(null),oJ=Object.create(null);for(let[t,i]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])oJ[t]=aJ(KN,i);function QN(t,i){rJ.indexOf(t)>-1||(rJ.push(t),console.warn(i))}function aJ(t,i){let o=[];for(let u of i.split(" ")){let p=[];for(let h of u.split(".")){let g=t[h]||ce[h];g?"function"==typeof g?p.length?p=p.map(g):QN(h,`Modifier ${h} used at start of tag`):p.length?QN(h,`Tag ${h} used as modifier`):p=Array.isArray(g)?g:[g]:QN(h,`Unknown highlighting tag ${h}`)}for(let h of p)o.push(h)}if(!o.length)return 0;let s=i.replace(/ /g,"_"),a=s+" "+o.map(u=>u.id),l=iJ[a];if(l)return l.id;let c=iJ[a]=hs.define({id:Bw.length,name:s,props:[ow({[s]:o})]});return Bw.push(c),c.id}class dJ{constructor(i,o,s){this.state=i,this.pos=o,this.explicit=s,this.abortListeners=[]}tokenBefore(i){let o=eo(this.state).resolveInner(this.pos,-1);for(;o&&i.indexOf(o.name)<0;)o=o.parent;return o?{from:o.from,to:this.pos,text:this.state.sliceDoc(o.from,this.pos),type:o.type}:null}matchBefore(i){let o=this.state.doc.lineAt(this.pos),s=Math.max(o.from,this.pos-250),a=o.text.slice(s-o.from,this.pos-o.from),l=a.search(hJ(i,!1));return l<0?null:{from:s+l,to:this.pos,text:a.slice(l)}}get aborted(){return null==this.abortListeners}addEventListener(i,o){"abort"==i&&this.abortListeners&&this.abortListeners.push(o)}}function pJ(t){let i=Object.keys(t).join(""),o=/\w/.test(i);return o&&(i=i.replace(/\w/g,"")),`[${o?"\\w":""}${i.replace(/[^\w\s]/g,"\\$&")}]`}function JN(t){let i=t.map(a=>"string"==typeof a?{label:a}:a),[o,s]=i.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:function Hwe(t){let i=Object.create(null),o=Object.create(null);for(let{label:a}of t){i[a[0]]=!0;for(let l=1;l<a.length;l++)o[a[l]]=!0}let s=pJ(i)+pJ(o)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(i);return a=>{let l=a.matchBefore(s);return l||a.explicit?{from:l?l.from:a.pos,options:i,validFor:o}:null}}class fJ{constructor(i,o,s,a){this.completion=i,this.source=o,this.match=s,this.score=a}}function jm(t){return t.selection.main.from}function hJ(t,i){var o;let{source:s}=t,a=i&&"^"!=s[0],l="$"!=s[s.length-1];return a||l?new RegExp(`${a?"^":""}(?:${s})${l?"$":""}`,null!==(o=t.flags)&&void 0!==o?o:t.ignoreCase?"i":""):t}const eL=Tf.define(),mJ=new WeakMap;function Gwe(t){if(!Array.isArray(t))return t;let i=mJ.get(t);return i||mJ.set(t,i=JN(t)),i}const XT=ni.define(),Vw=ni.define();class qwe{constructor(i){this.pattern=i,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let o=0;o<i.length;){let s=bl(i,o),a=_0(s);this.chars.push(s);let l=i.slice(o,o+a),c=l.toUpperCase();this.folded.push(bl(c==l?l.toLowerCase():c,0)),o+=a}this.astral=i.length!=this.chars.length}ret(i,o){return this.score=i,this.matched=o,this}match(i){if(0==this.pattern.length)return this.ret(-100,[]);if(i.length<this.pattern.length)return null;let{chars:o,folded:s,any:a,precise:l,byWord:c}=this;if(1==o.length){let N=bl(i,0),B=_0(N),j=B==i.length?0:-100;if(N!=o[0]){if(N!=s[0])return null;j+=-200}return this.ret(j,[0,B])}let u=i.indexOf(this.pattern);if(0==u)return this.ret(i.length==this.pattern.length?0:-100,[0,this.pattern.length]);let p=o.length,h=0;if(u<0){for(let N=0,B=Math.min(i.length,200);N<B&&h<p;){let j=bl(i,N);(j==o[h]||j==s[h])&&(a[h++]=N),N+=_0(j)}if(h<p)return null}let g=0,y=0,E=!1,C=0,D=-1,O=-1,A=/[a-z]/.test(i),F=!0;for(let N=0,B=Math.min(i.length,200),j=0;N<B&&y<p;){let q=bl(i,N);u<0&&(g<p&&q==o[g]&&(l[g++]=N),C<p&&(q==o[C]||q==s[C]?(0==C&&(D=N),O=N+1,C++):C=0));let ee,ae=q<255?q>=48&&q<=57||q>=97&&q<=122?2:q>=65&&q<=90?1:0:(ee=JY(q))!=ee.toLowerCase()?1:ee!=ee.toUpperCase()?2:0;(!N||1==ae&&A||0==j&&0!=ae)&&(o[y]==q||s[y]==q&&(E=!0)?c[y++]=N:c.length&&(F=!1)),j=ae,N+=_0(q)}return y==p&&0==c[0]&&F?this.result((E?-200:0)-100,c,i):C==p&&0==D?this.ret(-200-i.length+(O==i.length?0:-100),[0,O]):u>-1?this.ret(-700-i.length,[u,u+this.pattern.length]):C==p?this.ret(-900-i.length,[D,O]):y==p?this.result((E?-200:0)-100-700+(F?0:-1100),c,i):2==o.length?null:this.result((a[0]?-700:0)-200-1100,a,i)}result(i,o,s){let a=[],l=0;for(let c of o){let u=c+(this.astral?_0(bl(s,c)):1);l&&a[l-1]==c?a[l-1]=u:(a[l++]=c,a[l++]=u)}return this.ret(i-s.length,a)}}class Wwe{constructor(i){this.pattern=i,this.matched=[],this.score=0,this.folded=i.toLowerCase()}match(i){if(i.length<this.pattern.length)return null;let o=i.slice(0,this.pattern.length),s=o==this.pattern?0:o.toLowerCase()==this.folded?-200:null;return null==s?null:(this.matched=[0,o.length],this.score=s+(i.length==this.pattern.length?0:-100),this)}}const pa=Ht.define({combine:t=>Pf(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Xwe,filterStrict:!1,compareCompletions:(i,o)=>i.label.localeCompare(o.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(i,o)=>i&&o,closeOnBlur:(i,o)=>i&&o,icons:(i,o)=>i&&o,tooltipClass:(i,o)=>s=>gJ(i(s),o(s)),optionClass:(i,o)=>s=>gJ(i(s),o(s)),addToOptions:(i,o)=>i.concat(o),filterStrict:(i,o)=>i||o})});function gJ(t,i){return t?i?t+" "+i:t:i}function Xwe(t,i,o,s,a,l){let g,y,c=t.textDirection==$i.RTL,u=c,p=!1,h="top",E=i.left-a.left,C=a.right-i.right,D=s.right-s.left,O=s.bottom-s.top;if(u&&E<Math.min(D,C)?u=!1:!u&&C<Math.min(D,E)&&(u=!0),D<=(u?E:C))g=Math.max(a.top,Math.min(o.top,a.bottom-O))-i.top,y=Math.min(400,u?E:C);else{p=!0,y=Math.min(400,(c?i.right:a.right-i.left)-30);let N=a.bottom-i.bottom;N>=O||N>i.top?g=o.bottom-i.top:(h="bottom",g=i.bottom-o.top)}return{style:`${h}: ${g/((i.bottom-i.top)/l.offsetHeight)}px; max-width: ${y/((i.right-i.left)/l.offsetWidth)}px`,class:"cm-completionInfo-"+(p?c?"left-narrow":"right-narrow":u?"left":"right")}}function tL(t,i,o){if(t<=o)return{from:0,to:t};if(i<0&&(i=0),i<=t>>1){let a=Math.floor(i/o);return{from:a*o,to:(a+1)*o}}let s=Math.floor((t-i)/o);return{from:t-(s+1)*o,to:t-s*o}}class Kwe{constructor(i,o,s){this.view=i,this.stateField=o,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:p=>this.placeInfo(p),key:this},this.space=null,this.currentClass="";let a=i.state.field(o),{options:l,selected:c}=a.open,u=i.state.facet(pa);this.optionContent=function Ywe(t){let i=t.addToOptions.slice();return t.icons&&i.push({render(o){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),o.type&&s.classList.add(...o.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),s.setAttribute("aria-hidden","true"),s},position:20}),i.push({render(o,s,a,l){let c=document.createElement("span");c.className="cm-completionLabel";let u=o.displayLabel||o.label,p=0;for(let h=0;h<l.length;){let g=l[h++],y=l[h++];g>p&&c.appendChild(document.createTextNode(u.slice(p,g)));let E=c.appendChild(document.createElement("span"));E.appendChild(document.createTextNode(u.slice(g,y))),E.className="cm-completionMatchedText",p=y}return p<u.length&&c.appendChild(document.createTextNode(u.slice(p))),c},position:50},{render(o){if(!o.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=o.detail,s},position:80}),i.sort((o,s)=>o.position-s.position).map(o=>o.render)}(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=tL(l.length,c,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(i.state),this.dom.addEventListener("mousedown",p=>{let{options:h}=i.state.field(o).open;for(let y,g=p.target;g&&g!=this.dom;g=g.parentNode)if("LI"==g.nodeName&&(y=/-(\d+)$/.exec(g.id))&&+y[1]<h.length)return this.applyCompletion(i,h[+y[1]]),void p.preventDefault()}),this.dom.addEventListener("focusout",p=>{let h=i.state.field(this.stateField,!1);h&&h.tooltip&&i.state.facet(pa).closeOnBlur&&p.relatedTarget!=i.contentDOM&&i.dispatch({effects:Vw.of(null)})}),this.showOptions(l,a.id)}mount(){this.updateSel()}showOptions(i,o){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(i,o,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(i){var o;let s=i.state.field(this.stateField),a=i.startState.field(this.stateField);if(this.updateTooltipClass(i.state),s!=a){let{options:l,selected:c,disabled:u}=s.open;(!a.open||a.open.options!=l)&&(this.range=tL(l.length,c,i.state.facet(pa).maxRenderedOptions),this.showOptions(l,s.id)),this.updateSel(),u!=(null===(o=a.open)||void 0===o?void 0:o.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(i){let o=this.tooltipClass(i);if(o!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of o.split(" "))s&&this.dom.classList.add(s);this.currentClass=o}}positioned(i){this.space=i,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let i=this.view.state.field(this.stateField),o=i.open;if((o.selected>-1&&o.selected<this.range.from||o.selected>=this.range.to)&&(this.range=tL(o.options.length,o.selected,this.view.state.facet(pa).maxRenderedOptions),this.showOptions(o.options,i.id)),this.updateSelectedOption(o.selected)){this.destroyInfo();let{completion:s}=o.options[o.selected],{info:a}=s;if(!a)return;let l="string"==typeof a?document.createTextNode(a):a(s);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==i&&this.addInfoPane(c,s)}).catch(c=>El(this.view.state,c,"completion info")):this.addInfoPane(l,s)}}addInfoPane(i,o){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",null!=i.nodeType)s.appendChild(i),this.infoDestroy=null;else{let{dom:a,destroy:l}=i;s.appendChild(a),this.infoDestroy=l||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(i){let o=null;for(let s=this.list.firstChild,a=this.range.from;s;s=s.nextSibling,a++)"LI"==s.nodeName&&s.id?a==i?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),o=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected"):a--;return o&&function Zwe(t,i){let o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a=o.height/t.offsetHeight;s.top<o.top?t.scrollTop-=(o.top-s.top)/a:s.bottom>o.bottom&&(t.scrollTop+=(s.bottom-o.bottom)/a)}(this.list,o),o}measureInfo(){let i=this.dom.querySelector("[aria-selected]");if(!i||!this.info)return null;let o=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),a=i.getBoundingClientRect(),l=this.space;if(!l){let c=this.dom.ownerDocument.defaultView||window;l={left:0,top:0,right:c.innerWidth,bottom:c.innerHeight}}return a.top>Math.min(l.bottom,o.bottom)-10||a.bottom<Math.max(l.top,o.top)+10?null:this.view.state.facet(pa).positionInfo(this.view,o,a,s,l,this.dom)}placeInfo(i){this.info&&(i?(i.style&&(this.info.style.cssText=i.style),this.info.className="cm-tooltip cm-completionInfo "+(i.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(i,o,s){const a=document.createElement("ul");a.id=o,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions"));let l=null;for(let c=s.from;c<s.to;c++){let{completion:u,match:p}=i[c],{section:h}=u;if(h){let E="string"==typeof h?h:h.name;E!=l&&(c>s.from||0==s.from)&&(l=E,"string"!=typeof h&&h.header?a.appendChild(h.header(h)):a.appendChild(document.createElement("completion-section")).textContent=E)}const g=a.appendChild(document.createElement("li"));g.id=o+"-"+c,g.setAttribute("role","option");let y=this.optionClass(u);y&&(g.className=y);for(let E of this.optionContent){let C=E(u,this.view.state,this.view,p);C&&g.appendChild(C)}}return s.from&&a.classList.add("cm-completionListIncompleteTop"),s.to<i.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Qwe(t,i){return o=>new Kwe(o,t,i)}function vJ(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class s5{constructor(i,o,s,a,l,c){this.options=i,this.attrs=o,this.tooltip=s,this.timestamp=a,this.selected=l,this.disabled=c}setSelected(i,o){return i==this.selected||i>=this.options.length?this:new s5(this.options,yJ(o,i),this.tooltip,this.timestamp,i,this.disabled)}static build(i,o,s,a,l){let c=function Jwe(t,i){let o=[],s=null,a=h=>{o.push(h);let{section:g}=h.completion;if(g){s||(s=[]);let y="string"==typeof g?g:g.name;s.some(E=>E.name==y)||s.push("string"==typeof g?{name:y}:g)}},l=i.facet(pa);for(let h of t)if(h.hasResult()){let g=h.result.getMatch;if(!1===h.result.filter)for(let y of h.result.options)a(new fJ(y,h.source,g?g(y):[],1e9-o.length));else{let E,y=i.sliceDoc(h.from,h.to),C=l.filterStrict?new Wwe(y):new qwe(y);for(let D of h.result.options)if(E=C.match(D.label)){let O=D.displayLabel?g?g(D,E.matched):[]:E.matched;a(new fJ(D,h.source,O,E.score+(D.boost||0)))}}}if(s){let h=Object.create(null),g=0,y=(E,C)=>{var D,O;return(null!==(D=E.rank)&&void 0!==D?D:1e9)-(null!==(O=C.rank)&&void 0!==O?O:1e9)||(E.name<C.name?-1:1)};for(let E of s.sort(y))g-=1e5,h[E.name]=g;for(let E of o){let{section:C}=E.completion;C&&(E.score+=h["string"==typeof C?C:C.name])}}let c=[],u=null,p=l.compareCompletions;for(let h of o.sort((g,y)=>y.score-g.score||p(g.completion,y.completion))){let g=h.completion;!u||u.label!=g.label||u.detail!=g.detail||null!=u.type&&null!=g.type&&u.type!=g.type||u.apply!=g.apply||u.boost!=g.boost?c.push(h):vJ(h.completion)>vJ(u)&&(c[c.length-1]=h),u=h.completion}return c}(i,o);if(!c.length)return a&&i.some(p=>1==p.state)?new s5(a.options,a.attrs,a.tooltip,a.timestamp,a.selected,!0):null;let u=o.facet(pa).selectOnOpen?0:-1;if(a&&a.selected!=u&&-1!=a.selected){let p=a.options[a.selected].completion;for(let h=0;h<c.length;h++)if(c[h].completion==p){u=h;break}}return new s5(c,yJ(s,u),{pos:i.reduce((p,h)=>h.hasResult()?Math.min(p,h.from):p,1e8),create:i6e,above:l.aboveCursor},a?a.timestamp:Date.now(),u,!1)}map(i){return new s5(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:i.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class YT{constructor(i,o,s){this.active=i,this.id=o,this.open=s}static start(){return new YT(n6e,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(i){let{state:o}=i,s=o.facet(pa),l=(s.override||o.languageDataAt("autocomplete",jm(o)).map(Gwe)).map(u=>(this.active.find(h=>h.source==u)||new xl(u,this.active.some(h=>0!=h.state)?1:0)).update(i,s));l.length==this.active.length&&l.every((u,p)=>u==this.active[p])&&(l=this.active);let c=this.open;c&&i.docChanged&&(c=c.map(i.changes)),i.selection||l.some(u=>u.hasResult()&&i.changes.touchesRange(u.from,u.to))||!function e6e(t,i){if(t==i)return!0;for(let o=0,s=0;;){for(;o<t.length&&!t[o].hasResult;)o++;for(;s<i.length&&!i[s].hasResult;)s++;let a=o==t.length,l=s==i.length;if(a||l)return a==l;if(t[o++].result!=i[s++].result)return!1}}(l,this.active)?c=s5.build(l,o,this.id,c,s):c&&c.disabled&&!l.some(u=>1==u.state)&&(c=null),!c&&l.every(u=>1!=u.state)&&l.some(u=>u.hasResult())&&(l=l.map(u=>u.hasResult()?new xl(u.source,0):u));for(let u of i.effects)u.is(rL)&&(c=c&&c.setSelected(u.value,this.id));return l==this.active&&c==this.open?this:new YT(l,this.id,c)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:t6e}}const t6e={"aria-autocomplete":"list"};function yJ(t,i){let o={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return i>-1&&(o["aria-activedescendant"]=t+"-"+i),o}const n6e=[];function nL(t,i){if(t.isUserEvent("input.complete")){let o=t.annotation(eL);if(o&&i.activateOnCompletion(o))return"input"}return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class xl{constructor(i,o,s=-1){this.source=i,this.state=o,this.explicitPos=s}hasResult(){return!1}update(i,o){let s=nL(i,o),a=this;s?a=a.handleUserEvent(i,s,o):i.docChanged?a=a.handleChange(i):i.selection&&0!=a.state&&(a=new xl(a.source,0));for(let l of i.effects)if(l.is(XT))a=new xl(a.source,1,l.value?jm(i.state):-1);else if(l.is(Vw))a=new xl(a.source,0);else if(l.is(bJ))for(let c of l.value)c.source==a.source&&(a=c);return a}handleUserEvent(i,o,s){return"delete"!=o&&s.activateOnTyping?new xl(this.source,1):this.map(i.changes)}handleChange(i){return i.changes.touchesRange(jm(i.startState))?new xl(this.source,0):this.map(i.changes)}map(i){return i.empty||this.explicitPos<0?this:new xl(this.source,this.state,i.mapPos(this.explicitPos))}}class a5 extends xl{constructor(i,o,s,a,l){super(i,2,o),this.result=s,this.from=a,this.to=l}hasResult(){return!0}handleUserEvent(i,o,s){var a;let l=this.result;l.map&&!i.changes.empty&&(l=l.map(l,i.changes));let c=i.changes.mapPos(this.from),u=i.changes.mapPos(this.to,1),p=jm(i.state);if((this.explicitPos<0?p<=c:p<this.from)||p>u||!l||"delete"==o&&jm(i.startState)==this.from)return new xl(this.source,"input"==o&&s.activateOnTyping?1:0);let h=this.explicitPos<0?-1:i.changes.mapPos(this.explicitPos);return function r6e(t,i,o,s){if(!t)return!1;let a=i.sliceDoc(o,s);return"function"==typeof t?t(a,o,s,i):hJ(t,!0).test(a)}(l.validFor,i.state,c,u)?new a5(this.source,h,l,c,u):l.update&&(l=l.update(l,c,u,new dJ(i.state,p,h>=0)))?new a5(this.source,h,l,l.from,null!==(a=l.to)&&void 0!==a?a:jm(i.state)):new xl(this.source,1,h)}handleChange(i){return i.changes.touchesRange(this.from,this.to)?new xl(this.source,0):this.map(i.changes)}map(i){return i.empty?this:(this.result.map?this.result.map(this.result,i):this.result)?new a5(this.source,this.explicitPos<0?-1:i.mapPos(this.explicitPos),this.result,i.mapPos(this.from),i.mapPos(this.to,1)):new xl(this.source,0)}}const bJ=ni.define({map:(t,i)=>t.map(o=>o.map(i))}),rL=ni.define(),ea=Js.define({create:()=>YT.start(),update:(t,i)=>t.update(i),provide:t=>[VT.from(t,i=>i.tooltip),Tn.contentAttributes.from(t,i=>i.attrs)]});function iL(t,i){const o=i.completion.apply||i.completion.label;let s=t.state.field(ea).active.find(a=>a.source==i.source);return s instanceof a5&&("string"==typeof o?t.dispatch(Object.assign(Object.assign({},function Uwe(t,i,o,s){let{main:a}=t.selection,l=o-a.from,c=s-a.from;return Object.assign(Object.assign({},t.changeByRange(u=>u!=a&&o!=s&&t.sliceDoc(u.from+l,u.from+c)!=t.sliceDoc(o,s)?{range:u}:{changes:{from:u.from+l,to:s==a.from?u.to:u.from+c,insert:i},range:ct.cursor(u.from+l+i.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,o,s.from,s.to)),{annotations:eL.of(i.completion)})):o(t,i.completion,s.from,s.to),!0)}const i6e=Qwe(ea,iL);function KT(t,i="option"){return o=>{let s=o.state.field(ea,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<o.state.facet(pa).interactionDelay)return!1;let l,a=1;"page"==i&&(l=yZ(o,s.open.tooltip))&&(a=Math.max(2,Math.floor(l.dom.offsetHeight/l.dom.querySelector("li").offsetHeight)-1));let{length:c}=s.open.options,u=s.open.selected>-1?s.open.selected+a*(t?1:-1):t?0:c-1;return u<0?u="page"==i?0:c-1:u>=c&&(u="page"==i?c-1:0),o.dispatch({effects:rL.of(u)}),!0}}class l6e{constructor(i,o){this.active=i,this.context=o,this.time=Date.now(),this.updates=[],this.done=void 0}}const d6e=es.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let i of t.state.field(ea).active)1==i.state&&this.startQuery(i)}update(t){let i=t.state.field(ea),o=t.state.facet(pa);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ea)==i)return;let s=t.transactions.some(l=>(l.selection||l.docChanged)&&!nL(l,o));for(let l=0;l<this.running.length;l++){let c=this.running[l];if(s||c.updates.length+t.transactions.length>50&&Date.now()-c.time>1e3){for(let u of c.context.abortListeners)try{u()}catch(p){El(this.view.state,p)}c.context.abortListeners=null,this.running.splice(l--,1)}else c.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(l=>l.effects.some(c=>c.is(XT)))&&(this.pendingStart=!0);let a=this.pendingStart?50:o.activateOnTypingDelay;if(this.debounceUpdate=i.active.some(l=>1==l.state&&!this.running.some(c=>c.active.source==l.source))?setTimeout(()=>this.startUpdate(),a):-1,0!=this.composing)for(let l of t.transactions)"input"==nL(l,o)?this.composing=2:2==this.composing&&l.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,i=t.field(ea);for(let o of i.active)1==o.state&&!this.running.some(s=>s.active.source==o.source)&&this.startQuery(o)}startQuery(t){let{state:i}=this.view,o=jm(i),s=new dJ(i,o,t.explicitPos==o),a=new l6e(t,s);this.running.push(a),Promise.resolve(t.source(s)).then(l=>{a.context.aborted||(a.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:Vw.of(null)}),El(this.view.state,l)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pa).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let i=[],o=this.view.state.facet(pa);for(let s=0;s<this.running.length;s++){let a=this.running[s];if(void 0===a.done)continue;if(this.running.splice(s--,1),a.done){let c=new a5(a.active.source,a.active.explicitPos,a.done,a.done.from,null!==(t=a.done.to)&&void 0!==t?t:jm(a.updates.length?a.updates[0].startState:this.view.state));for(let u of a.updates)c=c.update(u,o);if(c.hasResult()){i.push(c);continue}}let l=this.view.state.field(ea).active.find(c=>c.source==a.active.source);if(l&&1==l.state)if(null==a.done){let c=new xl(a.active.source,0);for(let u of a.updates)c=c.update(u,o);1!=c.state&&i.push(c)}else this.startQuery(l)}i.length&&this.view.dispatch({effects:bJ.of(i)})}},{eventHandlers:{blur(t){let i=this.view.state.field(ea,!1);if(i&&i.tooltip&&this.view.state.facet(pa).closeOnBlur){let o=i.open&&yZ(this.view,i.open.tooltip);(!o||!o.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Vw.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:XT.of(!1)}),20),this.composing=0}}}),p6e="object"==typeof navigator&&/Win/.test(navigator.platform),f6e=zv.highest(Tn.domEventHandlers({keydown(t,i){let o=i.state.field(ea,!1);if(!o||!o.open||o.open.disabled||o.open.selected<0||t.key.length>1||t.ctrlKey&&(!p6e||!t.altKey)||t.metaKey)return!1;let s=o.open.options[o.open.selected],a=o.active.find(c=>c.source==s.source),l=s.completion.commitCharacters||a.result.commitCharacters;return l&&l.indexOf(t.key)>-1&&iL(i,s),!1}})),_J=Tn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class h6e{constructor(i,o,s,a){this.field=i,this.line=o,this.from=s,this.to=a}}class oL{constructor(i,o,s){this.field=i,this.from=o,this.to=s}map(i){let o=i.mapPos(this.from,-1,ca.TrackDel),s=i.mapPos(this.to,1,ca.TrackDel);return null==o||null==s?null:new oL(this.field,o,s)}}class sL{constructor(i,o){this.lines=i,this.fieldPositions=o}instantiate(i,o){let s=[],a=[o],l=i.doc.lineAt(o),c=/^\s*/.exec(l.text)[0];for(let p of this.lines){if(s.length){let h=c,g=/^\t*/.exec(p)[0].length;for(let y=0;y<g;y++)h+=i.facet(HT);a.push(o+h.length-g),p=h+p.slice(g)}s.push(p),o+=p.length+1}return{text:s,ranges:this.fieldPositions.map(p=>new oL(p.field,a[p.line]+p.from,a[p.line]+p.to))}}static parse(i){let l,o=[],s=[],a=[];for(let c of i.split(/\r\n?|\n/)){for(;l=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(c);){let u=l[1]?+l[1]:null,p=l[2]||l[3]||"",h=-1;for(let g=0;g<o.length;g++)(null!=u?o[g].seq==u:p&&o[g].name==p)&&(h=g);if(h<0){let g=0;for(;g<o.length&&(null==u||null!=o[g].seq&&o[g].seq<u);)g++;o.splice(g,0,{seq:u,name:p}),h=g;for(let y of a)y.field>=h&&y.field++}a.push(new h6e(h,s.length,l.index,l.index+p.length)),c=c.slice(0,l.index)+p+c.slice(l.index+l[0].length)}for(let u;u=/\\([{}])/.exec(c);){c=c.slice(0,u.index)+u[1]+c.slice(u.index+u[0].length);for(let p of a)p.line==s.length&&p.from>u.index&&(p.from--,p.to--)}s.push(c)}return new sL(s,a)}}let m6e=zn.widget({widget:new class extends Gd{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),g6e=zn.mark({class:"cm-snippetField"});class l5{constructor(i,o){this.ranges=i,this.active=o,this.deco=zn.set(i.map(s=>(s.from==s.to?m6e:g6e).range(s.from,s.to)))}map(i){let o=[];for(let s of this.ranges){let a=s.map(i);if(!a)return null;o.push(a)}return new l5(o,this.active)}selectionInsideField(i){return i.ranges.every(o=>this.ranges.some(s=>s.field==this.active&&s.from<=o.from&&s.to>=o.to))}}const jw=ni.define({map:(t,i)=>t&&t.map(i)}),v6e=ni.define(),Kv=Js.define({create:()=>null,update(t,i){for(let o of i.effects){if(o.is(jw))return o.value;if(o.is(v6e)&&t)return new l5(t.ranges,o.value)}return t&&i.docChanged&&(t=t.map(i.changes)),t&&i.selection&&!t.selectionInsideField(i.selection)&&(t=null),t},provide:t=>Tn.decorations.from(t,i=>i?i.deco:zn.none)});function aL(t,i){return ct.create(t.filter(o=>o.field==i).map(o=>ct.range(o.from,o.to)))}function y6e(t){let i=sL.parse(t);return(o,s,a,l)=>{let{text:c,ranges:u}=i.instantiate(o.state,a),p={changes:{from:a,to:l,insert:ti.of(c)},scrollIntoView:!0,annotations:s?[eL.of(s),E0.userEvent.of("input.complete")]:void 0};if(u.length&&(p.selection=aL(u,0)),u.some(h=>h.field>0)){let h=new l5(u,0),g=p.effects=[jw.of(h)];void 0===o.state.field(Kv,!1)&&g.push(ni.appendConfig.of([Kv,w6e,C6e,_J]))}o.dispatch(o.state.update(p))}}function EJ(t){return({state:i,dispatch:o})=>{let s=i.field(Kv,!1);if(!s||t<0&&0==s.active)return!1;let a=s.active+t,l=t>0&&!s.ranges.some(c=>c.field==a+t);return o(i.update({selection:aL(s.ranges,a),effects:jw.of(l?null:new l5(s.ranges,a)),scrollIntoView:!0})),!0}}const x6e=[{key:"Tab",run:EJ(1),shift:EJ(-1)},{key:"Escape",run:({state:t,dispatch:i})=>!!t.field(Kv,!1)&&(i(t.update({effects:jw.of(null)})),!0)}],xJ=Ht.define({combine:t=>t.length?t[0]:x6e}),w6e=zv.highest(Sw.compute([xJ],t=>t.facet(xJ)));function Qv(t,i){return Object.assign(Object.assign({},i),{apply:y6e(t)})}const C6e=Tn.domEventHandlers({mousedown(t,i){let s,o=i.state.field(Kv,!1);if(!o||null==(s=i.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let a=o.ranges.find(l=>l.from<=s&&l.to>=s);return!(!a||a.field==o.active||(i.dispatch({selection:aL(o.ranges,a.field),effects:jw.of(o.ranges.some(l=>l.field>a.field)?new l5(o.ranges,a.field):null),scrollIntoView:!0}),0))}}),$w={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Zv=ni.define({map:(t,i)=>i.mapPos(t,-1,ca.TrackAfter)??void 0}),lL=new class extends Hv{};lL.startSide=1,lL.endSide=-1;const TJ=Js.define({create:()=>Bo.empty,update(t,i){if(t=t.map(i.changes),i.selection){let o=i.state.doc.lineAt(i.selection.main.head);t=t.update({filter:s=>s>=o.from&&s<=o.to})}for(let o of i.effects)o.is(Zv)&&(t=t.update({add:[lL.range(o.value,o.value+1)]}));return t}});function PJ(){return[P6e,TJ]}const cL="()[]{}<>";function MJ(t){for(let i=0;i<8;i+=2)if(cL.charCodeAt(i)==t)return cL.charAt(i+1);return JY(t<128?t:t+1)}const T6e="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),P6e=Tn.inputHandler.of((t,i,o,s)=>{if((T6e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let a=t.state.selection.main;if(s.length>2||2==s.length&&1==_0(bl(s,0))||i!=a.from||o!=a.to)return!1;let l=function M6e(t,i){let o=function OJ(t,i){return t.languageDataAt("closeBrackets",i)[0]||$w}(t,t.selection.main.head),s=o.brackets||$w.brackets;for(let a of s){let l=MJ(bl(a,0));if(i==a)return l==a?R6e(t,a,s.indexOf(a+a+a)>-1,o):k6e(t,a,l,o.before||$w.before);if(i==l&&kJ(t,t.selection.main.from))return A6e(t,0,l)}return null}(t.state,s);return!!l&&(t.dispatch(l),!0)});function kJ(t,i){let o=!1;return t.field(TJ).between(0,t.doc.length,s=>{s==i&&(o=!0)}),o}function QT(t,i){let o=t.sliceString(i,i+2);return o.slice(0,_0(bl(o,0)))}function k6e(t,i,o,s){let a=null,l=t.changeByRange(c=>{if(!c.empty)return{changes:[{insert:i,from:c.from},{insert:o,from:c.to}],effects:Zv.of(c.to+i.length),range:ct.range(c.anchor+i.length,c.head+i.length)};let u=QT(t.doc,c.head);return!u||/\s/.test(u)||s.indexOf(u)>-1?{changes:{insert:i+o,from:c.head},effects:Zv.of(c.head+i.length),range:ct.cursor(c.head+i.length)}:{range:a=c}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function A6e(t,i,o){let s=null,a=t.changeByRange(l=>l.empty&&QT(t.doc,l.head)==o?{changes:{from:l.head,to:l.head+o.length,insert:o},range:ct.cursor(l.head+o.length)}:s={range:l});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function R6e(t,i,o,s){let a=s.stringPrefixes||$w.stringPrefixes,l=null,c=t.changeByRange(u=>{if(!u.empty)return{changes:[{insert:i,from:u.from},{insert:i,from:u.to}],effects:Zv.of(u.to+i.length),range:ct.range(u.anchor+i.length,u.head+i.length)};let g,p=u.head,h=QT(t.doc,p);if(h==i){if(AJ(t,p))return{changes:{insert:i+i,from:p},effects:Zv.of(p+i.length),range:ct.cursor(p+i.length)};if(kJ(t,p)){let E=o&&t.sliceDoc(p,p+3*i.length)==i+i+i?i+i+i:i;return{changes:{from:p,to:p+E.length,insert:E},range:ct.cursor(p+E.length)}}}else{if(o&&t.sliceDoc(p-2*i.length,p)==i+i&&(g=RJ(t,p-2*i.length,a))>-1&&AJ(t,g))return{changes:{insert:i+i+i+i,from:p},effects:Zv.of(p+i.length),range:ct.cursor(p+i.length)};if(t.charCategorizer(p)(h)!=fu.Word&&RJ(t,p,a)>-1&&!function I6e(t,i,o,s){let a=eo(t).resolveInner(i,-1),l=s.reduce((c,u)=>Math.max(c,u.length),0);for(let c=0;c<5;c++){let u=t.sliceDoc(a.from,Math.min(a.to,a.from+o.length+l)),p=u.indexOf(o);if(!p||p>-1&&s.indexOf(u.slice(0,p))>-1){let g=a.firstChild;for(;g&&g.from==a.from&&g.to-g.from>o.length+p;){if(t.sliceDoc(g.to-o.length,g.to)==o)return!1;g=g.firstChild}return!0}let h=a.to==i&&a.parent;if(!h)break;a=h}return!1}(t,p,i,a))return{changes:{insert:i+i,from:p},effects:Zv.of(p+i.length),range:ct.cursor(p+i.length)}}return{range:l=u}});return l?null:t.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function AJ(t,i){let o=eo(t).resolveInner(i+1);return o.parent&&o.from==i}function RJ(t,i,o){let s=t.charCategorizer(i);if(s(t.sliceDoc(i-1,i))!=fu.Word)return i;for(let a of o){let l=i-a.length;if(t.sliceDoc(l,i)==a&&s(t.sliceDoc(l-1,l))!=fu.Word)return l}return-1}function N6e(t={}){return[f6e,ea,pa.of(t),d6e,F6e,_J]}const L6e=[{key:"Ctrl-Space",run:t=>!!t.state.field(ea,!1)&&(t.dispatch({effects:XT.of(!0)}),!0)},{key:"Escape",run:t=>{let i=t.state.field(ea,!1);return!(!i||!i.active.some(o=>0!=o.state)||(t.dispatch({effects:Vw.of(null)}),0))}},{key:"ArrowDown",run:KT(!0)},{key:"ArrowUp",run:KT(!1)},{key:"PageDown",run:KT(!0,"page")},{key:"PageUp",run:KT(!1,"page")},{key:"Enter",run:t=>{let i=t.state.field(ea,!1);return!(t.state.readOnly||!i||!i.open||i.open.selected<0||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(pa).interactionDelay)&&iL(t,i.open.options[i.open.selected])}}],F6e=zv.highest(Sw.computeN([pa],t=>t.facet(pa).defaultKeymap?[L6e]:[]));function uL(t,i){return({state:o,dispatch:s})=>{if(o.readOnly)return!1;let a=t(i,o);return!!a&&(s(o.update(a)),!0)}}const V6e=uL(U6e,0),j6e=uL(NJ,0),$6e=uL((t,i)=>NJ(t,i,function H6e(t){let i=[];for(let o of t.selection.ranges){let s=t.doc.lineAt(o.from),a=o.to<=s.to?s:t.doc.lineAt(o.to),l=i.length-1;l>=0&&i[l].to>s.from?i[l].to=a.to:i.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:a.to})}return i}(i)),0);function dL(t,i){let o=t.languageDataAt("commentTokens",i);return o.length?o[0]:{}}const zw=50;function NJ(t,i,o=i.selection.ranges){let s=o.map(l=>dL(i,l.from).block);if(!s.every(l=>l))return null;let a=o.map((l,c)=>function z6e(t,{open:i,close:o},s,a){let g,y,l=t.sliceDoc(s-zw,s),c=t.sliceDoc(a,a+zw),u=/\s*$/.exec(l)[0].length,p=/^\s*/.exec(c)[0].length,h=l.length-u;if(l.slice(h-i.length,h)==i&&c.slice(p,p+o.length)==o)return{open:{pos:s-u,margin:u&&1},close:{pos:a+p,margin:p&&1}};a-s<=2*zw?g=y=t.sliceDoc(s,a):(g=t.sliceDoc(s,s+zw),y=t.sliceDoc(a-zw,a));let E=/^\s*/.exec(g)[0].length,C=/\s*$/.exec(y)[0].length,D=y.length-C-o.length;return g.slice(E,E+i.length)==i&&y.slice(D,D+o.length)==o?{open:{pos:s+E+i.length,margin:/\s/.test(g.charAt(E+i.length))?1:0},close:{pos:a-C-o.length,margin:/\s/.test(y.charAt(D-1))?1:0}}:null}(i,s[c],l.from,l.to));if(2!=t&&!a.every(l=>l))return{changes:i.changes(o.map((l,c)=>a[c]?[]:[{from:l.from,insert:s[c].open+" "},{from:l.to,insert:" "+s[c].close}]))};if(1!=t&&a.some(l=>l)){let l=[];for(let u,c=0;c<a.length;c++)if(u=a[c]){let p=s[c],{open:h,close:g}=u;l.push({from:h.pos-p.open.length,to:h.pos+h.margin},{from:g.pos-g.margin,to:g.pos+p.close.length})}return{changes:l}}return null}function U6e(t,i,o=i.selection.ranges){let s=[],a=-1;for(let{from:l,to:c}of o){let u=s.length,p=1e9,h=dL(i,l).line;if(h){for(let g=l;g<=c;){let y=i.doc.lineAt(g);if(y.from>a&&(l==c||c>y.from)){a=y.from;let E=/^\s*/.exec(y.text)[0].length,C=E==y.length,D=y.text.slice(E,E+h.length)==h?E:-1;E<y.text.length&&E<p&&(p=E),s.push({line:y,comment:D,token:h,indent:E,empty:C,single:!1})}g=y.to+1}if(p<1e9)for(let g=u;g<s.length;g++)s[g].indent<s[g].line.text.length&&(s[g].indent=p);s.length==u+1&&(s[u].single=!0)}}if(2!=t&&s.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:u,token:p,indent:h,empty:g,single:y}of s)(y||!g)&&l.push({from:u.from+h,insert:p+" "});let c=i.changes(l);return{changes:c,selection:i.selection.map(c,1)}}if(1!=t&&s.some(l=>l.comment>=0)){let l=[];for(let{line:c,comment:u,token:p}of s)if(u>=0){let h=c.from+u,g=h+p.length;" "==c.text[g-c.from]&&g++,l.push({from:h,to:g})}return{changes:l}}return null}function c5(t,i){return ct.create(t.ranges.map(i),t.mainIndex)}function Kd(t,i){return t.update({selection:i,scrollIntoView:!0,userEvent:"select"})}function gu({state:t,dispatch:i},o){let s=c5(t.selection,o);return!s.eq(t.selection,!0)&&(i(Kd(t,s)),!0)}function Hw(t,i){return ct.cursor(i?t.to:t.from)}function e9(t,i){return gu(t,o=>o.empty?t.moveByChar(o,i):Hw(o,i))}function $a(t){return t.textDirectionAt(t.state.selection.main.head)==$i.LTR}const jJ=t=>e9(t,!$a(t)),$J=t=>e9(t,$a(t));function t9(t,i){return gu(t,o=>o.empty?t.moveByGroup(o,i):Hw(o,i))}function rCe(t,i,o){if(i.type.prop(o))return!0;let s=i.to-i.from;return s&&(s>2||/[^\s,.;:]/.test(t.sliceDoc(i.from,i.to)))||i.firstChild}function n9(t,i,o){let c,u,s=eo(t).resolveInner(i.head),a=o?$n.closedBy:$n.openedBy;for(let p=i.head;;){let h=o?s.childAfter(p):s.childBefore(p);if(!h)break;rCe(t,h,a)?s=h:p=o?h.to:h.from}return u=s.type.prop(a)&&(c=o?Yd(t,s.from,1):Yd(t,s.to,-1))&&c.matched?o?c.end.to:c.end.from:o?s.to:s.from,ct.cursor(u,o?-1:1)}function GJ(t,i){return gu(t,o=>{if(!o.empty)return Hw(o,i);let s=t.moveVertically(o,i);return s.head!=o.head?s:t.moveToLineBoundary(o,i)})}typeof Intl<"u"&&Intl;const qJ=t=>GJ(t,!1),WJ=t=>GJ(t,!0);function XJ(t){let a,i=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,o=0,s=0;if(i){for(let l of t.state.facet(Tn.scrollMargins)){let c=l(t);c?.top&&(o=Math.max(c?.top,o)),c?.bottom&&(s=Math.max(c?.bottom,s))}a=t.scrollDOM.clientHeight-o-s}else a=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:o,marginBottom:s,selfScroll:i,height:Math.max(t.defaultLineHeight,a-5)}}function YJ(t,i){let l,o=XJ(t),{state:s}=t,a=c5(s.selection,c=>c.empty?t.moveVertically(c,i,o.height):Hw(c,i));if(a.eq(s.selection))return!1;if(o.selfScroll){let c=t.coordsAtPos(s.selection.main.head),u=t.scrollDOM.getBoundingClientRect(),p=u.top+o.marginTop;c&&c.top>p&&c.bottom<u.bottom-o.marginBottom&&(l=Tn.scrollIntoView(a.main.head,{y:"start",yMargin:c.top-p}))}return t.dispatch(Kd(s,a),{effects:l}),!0}const KJ=t=>YJ(t,!1),vL=t=>YJ(t,!0);function $m(t,i,o){let s=t.lineBlockAt(i.head),a=t.moveToLineBoundary(i,o);if(a.head==i.head&&a.head!=(o?s.to:s.from)&&(a=t.moveToLineBoundary(i,o,!1)),!o&&a.head==s.from&&s.length){let l=/^\s*/.exec(t.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;l&&i.head!=s.from+l&&(a=ct.cursor(s.from+l))}return a}function Rc(t,i){let o=c5(t.state.selection,s=>{let a=i(s);return ct.range(s.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return!o.eq(t.state.selection)&&(t.dispatch(Kd(t.state,o)),!0)}function r9(t,i){return Rc(t,o=>t.moveByChar(o,i))}const ZJ=t=>r9(t,!$a(t)),JJ=t=>r9(t,$a(t));function i9(t,i){return Rc(t,o=>t.moveByGroup(o,i))}function tee(t,i){return Rc(t,o=>t.moveVertically(o,i))}const nee=t=>tee(t,!1),ree=t=>tee(t,!0);function iee(t,i){return Rc(t,o=>t.moveVertically(o,i,XJ(t).height))}const oee=t=>iee(t,!1),see=t=>iee(t,!0),aee=({state:t,dispatch:i})=>(i(Kd(t,{anchor:0})),!0),lee=({state:t,dispatch:i})=>(i(Kd(t,{anchor:t.doc.length})),!0),cee=({state:t,dispatch:i})=>(i(Kd(t,{anchor:t.selection.main.anchor,head:0})),!0),uee=({state:t,dispatch:i})=>(i(Kd(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function u5(t,i){if(t.state.readOnly)return!1;let o="delete.selection",{state:s}=t,a=s.changeByRange(l=>{let{from:c,to:u}=l;if(c==u){let p=i(l);p<c?(o="delete.backward",p=o9(t,p,!1)):p>c&&(o="delete.forward",p=o9(t,p,!0)),c=Math.min(c,p),u=Math.max(u,p)}else c=o9(t,c,!1),u=o9(t,u,!0);return c==u?{range:l}:{changes:{from:c,to:u},range:ct.cursor(c,c<l.head?-1:1)}});return!a.changes.empty&&(t.dispatch(s.update(a,{scrollIntoView:!0,userEvent:o,effects:"delete.selection"==o?Tn.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function o9(t,i,o){if(t instanceof Tn)for(let s of t.state.facet(Tn.atomicRanges).map(a=>a(t)))s.between(i,i,(a,l)=>{a<i&&l>i&&(i=o?l:a)});return i}const dee=(t,i)=>u5(t,o=>{let c,u,s=o.from,{state:a}=t,l=a.doc.lineAt(s);if(!i&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,s-l.from))){if("\t"==c[c.length-1])return s-1;let h=hT(c,a.tabSize)%Yv(a)||Yv(a);for(let g=0;g<h&&" "==c[c.length-1-g];g++)s--;u=s}else u=yl(l.text,s-l.from,i,i)+l.from,u==s&&l.number!=(i?a.doc.lines:1)?u+=i?1:-1:!i&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,s-l.from))&&(u=yl(l.text,u-l.from,!1,!1)+l.from);return u}),yL=t=>dee(t,!1),pee=t=>dee(t,!0),fee=(t,i)=>u5(t,o=>{let s=o.head,{state:a}=t,l=a.doc.lineAt(s),c=a.charCategorizer(s);for(let u=null;;){if(s==(i?l.to:l.from)){s==o.head&&l.number!=(i?a.doc.lines:1)&&(s+=i?1:-1);break}let p=yl(l.text,s-l.from,i)+l.from,h=l.text.slice(Math.min(s,p)-l.from,Math.max(s,p)-l.from),g=c(h);if(null!=u&&g!=u)break;(" "!=h||s!=o.head)&&(u=g),s=p}return s}),hee=t=>fee(t,!1);function s9(t){let i=[],o=-1;for(let s of t.selection.ranges){let a=t.doc.lineAt(s.from),l=t.doc.lineAt(s.to);if(!s.empty&&s.to==l.from&&(l=t.doc.lineAt(s.to-1)),o>=a.number){let c=i[i.length-1];c.to=l.to,c.ranges.push(s)}else i.push({from:a.from,to:l.to,ranges:[s]});o=l.number+1}return i}function mee(t,i,o){if(t.readOnly)return!1;let s=[],a=[];for(let l of s9(t)){if(o?l.to==t.doc.length:0==l.from)continue;let c=t.doc.lineAt(o?l.to+1:l.from-1),u=c.length+1;if(o){s.push({from:l.to,to:c.to},{from:l.from,insert:c.text+t.lineBreak});for(let p of l.ranges)a.push(ct.range(Math.min(t.doc.length,p.anchor+u),Math.min(t.doc.length,p.head+u)))}else{s.push({from:c.from,to:l.from},{from:l.to,insert:t.lineBreak+c.text});for(let p of l.ranges)a.push(ct.range(p.anchor-u,p.head-u))}}return!!s.length&&(i(t.update({changes:s,scrollIntoView:!0,selection:ct.create(a,t.selection.mainIndex),userEvent:"move.line"})),!0)}function gee(t,i,o){if(t.readOnly)return!1;let s=[];for(let a of s9(t))s.push(o?{from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}:{from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});return i(t.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const VCe=vee(!1);function vee(t){return({state:i,dispatch:o})=>{if(i.readOnly)return!1;let s=i.changeByRange(a=>{let{from:l,to:c}=a,u=i.doc.lineAt(l),p=!t&&l==c&&function BCe(t,i){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(i-1,i+1)))return{from:i,to:i};let l,o=eo(t).resolveInner(i),s=o.childBefore(i),a=o.childAfter(i);return s&&a&&s.to<=i&&a.from>=i&&(l=s.type.prop($n.closedBy))&&l.indexOf(a.name)>-1&&t.doc.lineAt(s.to).from==t.doc.lineAt(a.from).from&&!/\S/.test(t.sliceDoc(s.to,a.from))?{from:s.to,to:a.from}:null}(i,l);t&&(l=c=(c<=u.to?u:i.doc.lineAt(c)).to);let h=new Rw(i,{simulateBreak:l,simulateDoubleBreak:!!p}),g=UT(h,l);for(null==g&&(g=hT(/^\s*/.exec(i.doc.lineAt(l).text)[0],i.tabSize));c<u.to&&/\s/.test(u.text[c-u.from]);)c++;p?({from:l,to:c}=p):l>u.from&&l<u.from+100&&!/\S/.test(u.text.slice(0,l))&&(l=u.from);let y=["",i5(i,g)];return p&&y.push(i5(i,h.lineIndent(u.from,-1))),{changes:{from:l,to:c,insert:ti.of(y)},range:ct.cursor(l+1+y[1].length)}});return o(i.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function bL(t,i){let o=-1;return t.changeByRange(s=>{let a=[];for(let c=s.from;c<=s.to;){let u=t.doc.lineAt(c);u.number>o&&(s.empty||s.to>u.from)&&(i(u,a,s),o=u.number),c=u.to+1}let l=t.changes(a);return{changes:a,range:ct.range(l.mapPos(s.anchor,1),l.mapPos(s.head,1))}})}const bee=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>gu(t,i=>n9(t.state,i,!$a(t))),shift:t=>Rc(t,i=>n9(t.state,i,!$a(t)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>gu(t,i=>n9(t.state,i,$a(t))),shift:t=>Rc(t,i=>n9(t.state,i,$a(t)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:i})=>mee(t,i,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:i})=>gee(t,i,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:i})=>mee(t,i,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:i})=>gee(t,i,!0)},{key:"Escape",run:({state:t,dispatch:i})=>{let o=t.selection,s=null;return o.ranges.length>1?s=ct.create([o.main]):o.main.empty||(s=ct.create([ct.cursor(o.main.head)])),!!s&&(i(Kd(t,s)),!0)}},{key:"Mod-Enter",run:vee(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:i})=>{let o=s9(t).map(({from:s,to:a})=>ct.range(s,Math.min(a+1,t.doc.length)));return i(t.update({selection:ct.create(o),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:i})=>{let o=c5(t.selection,s=>{var a;for(let c=eo(t).resolveStack(s.from,1);c;c=c.next){let{node:u}=c;if((u.from<s.from&&u.to>=s.to||u.to>s.to&&u.from<=s.from)&&null!==(a=u.parent)&&void 0!==a&&a.parent)return ct.range(u.to,u.from)}return s});return i(Kd(t,o)),!0},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:i})=>!t.readOnly&&(i(t.update(bL(t,(o,s)=>{let a=/^\s*/.exec(o.text)[0];if(!a)return;let l=hT(a,t.tabSize),c=0,u=i5(t,Math.max(0,l-Yv(t)));for(;c<a.length&&c<u.length&&a.charCodeAt(c)==u.charCodeAt(c);)c++;s.push({from:o.from+c,to:o.from+a.length,insert:u.slice(c)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:i})=>!t.readOnly&&(i(t.update(bL(t,(o,s)=>{s.push({from:o.from,insert:t.facet(HT)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:i})=>{if(t.readOnly)return!1;let o=Object.create(null),s=new Rw(t,{overrideIndentation:l=>o[l]??-1}),a=bL(t,(l,c,u)=>{let p=UT(s,l.from);if(null==p)return;/\S/.test(l.text)||(p=0);let h=/^\s*/.exec(l.text)[0],g=i5(t,p);(h!=g||u.from<l.from+h.length)&&(o[l.from]=p,c.push({from:l.from,to:l.from+h.length,insert:g}))});return a.changes.empty||i(t.update(a,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:i}=t,o=i.changes(s9(i).map(({from:a,to:l})=>(a>0?a--:l<i.doc.length&&l++,{from:a,to:l}))),s=c5(i.selection,a=>t.moveVertically(a,!0)).map(o);return t.dispatch({changes:o,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:i})=>function QJ(t,i,o){let s=!1,a=c5(t.selection,l=>{let c=Yd(t,l.head,-1)||Yd(t,l.head,1)||l.head>0&&Yd(t,l.head-1,1)||l.head<t.doc.length&&Yd(t,l.head+1,-1);if(!c||!c.end)return l;s=!0;let u=c.start.from==l.head?c.end.to:c.end.from;return o?ct.range(l.anchor,u):ct.cursor(u)});return!!s&&(i(Kd(t,a)),!0)}(t,i,!1)},{key:"Mod-/",run:t=>{let{state:i}=t,o=i.doc.lineAt(i.selection.main.from),s=dL(t.state,o.from);return s.line?V6e(t):!!s.block&&$6e(t)}},{key:"Alt-A",run:j6e}].concat([{key:"ArrowLeft",run:jJ,shift:ZJ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>t9(t,!$a(t)),shift:t=>i9(t,!$a(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>gu(t,i=>$m(t,i,!$a(t))),shift:t=>Rc(t,i=>$m(t,i,!$a(t))),preventDefault:!0},{key:"ArrowRight",run:$J,shift:JJ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>t9(t,$a(t)),shift:t=>i9(t,$a(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>gu(t,i=>$m(t,i,$a(t))),shift:t=>Rc(t,i=>$m(t,i,$a(t))),preventDefault:!0},{key:"ArrowUp",run:qJ,shift:nee,preventDefault:!0},{mac:"Cmd-ArrowUp",run:aee,shift:cee},{mac:"Ctrl-ArrowUp",run:KJ,shift:oee},{key:"ArrowDown",run:WJ,shift:ree,preventDefault:!0},{mac:"Cmd-ArrowDown",run:lee,shift:uee},{mac:"Ctrl-ArrowDown",run:vL,shift:see},{key:"PageUp",run:KJ,shift:oee},{key:"PageDown",run:vL,shift:see},{key:"Home",run:t=>gu(t,i=>$m(t,i,!1)),shift:t=>Rc(t,i=>$m(t,i,!1)),preventDefault:!0},{key:"Mod-Home",run:aee,shift:cee},{key:"End",run:t=>gu(t,i=>$m(t,i,!0)),shift:t=>Rc(t,i=>$m(t,i,!0)),preventDefault:!0},{key:"Mod-End",run:lee,shift:uee},{key:"Enter",run:VCe},{key:"Mod-a",run:({state:t,dispatch:i})=>(i(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:yL,shift:yL},{key:"Delete",run:pee},{key:"Mod-Backspace",mac:"Alt-Backspace",run:hee},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>fee(t,!0)},{mac:"Mod-Backspace",run:t=>u5(t,i=>{let o=t.moveToLineBoundary(i,!1).head;return i.head>o?o:Math.max(0,i.head-1)})},{mac:"Mod-Delete",run:t=>u5(t,i=>{let o=t.moveToLineBoundary(i,!0).head;return i.head<o?o:Math.min(t.state.doc.length,i.head+1)})}].concat([{key:"Ctrl-b",run:jJ,shift:ZJ,preventDefault:!0},{key:"Ctrl-f",run:$J,shift:JJ},{key:"Ctrl-p",run:qJ,shift:nee},{key:"Ctrl-n",run:WJ,shift:ree},{key:"Ctrl-a",run:t=>gu(t,i=>ct.cursor(t.lineBlockAt(i.head).from,1)),shift:t=>Rc(t,i=>ct.cursor(t.lineBlockAt(i.head).from))},{key:"Ctrl-e",run:t=>gu(t,i=>ct.cursor(t.lineBlockAt(i.head).to,-1)),shift:t=>Rc(t,i=>ct.cursor(t.lineBlockAt(i.head).to))},{key:"Ctrl-d",run:pee},{key:"Ctrl-h",run:yL},{key:"Ctrl-k",run:t=>u5(t,i=>{let o=t.lineBlockAt(i.head).to;return i.head<o?o:Math.min(t.state.doc.length,i.head+1)})},{key:"Ctrl-Alt-h",run:hee},{key:"Ctrl-o",run:({state:t,dispatch:i})=>{if(t.readOnly)return!1;let o=t.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:ti.of(["",""])},range:ct.cursor(s.from)}));return i(t.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:i})=>{if(t.readOnly)return!1;let o=t.changeByRange(s=>{if(!s.empty||0==s.from||s.from==t.doc.length)return{range:s};let a=s.from,l=t.doc.lineAt(a),c=a==l.from?a-1:yl(l.text,a-l.from,!1)+l.from,u=a==l.to?a+1:yl(l.text,a-l.from,!0)+l.from;return{changes:{from:c,to:u,insert:t.doc.slice(a,u).append(t.doc.slice(c,a))},range:ct.cursor(u)}});return!o.changes.empty&&(i(t.update(o,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:vL}].map(t=>({mac:t.key,run:t.run,shift:t.shift}))));function Qd(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var i=1,o=arguments[1];if(o&&"object"==typeof o&&null==o.nodeType&&!Array.isArray(o)){for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){var a=o[s];"string"==typeof a?t.setAttribute(s,a):null!=a&&(t[s]=a)}i++}for(;i<arguments.length;i++)_ee(t,arguments[i]);return t}function _ee(t,i){if("string"==typeof i)t.appendChild(document.createTextNode(i));else if(null!=i)if(null!=i.nodeType)t.appendChild(i);else{if(!Array.isArray(i))throw new RangeError("Unsupported child node: "+i);for(var o=0;o<i.length;o++)_ee(t,i[o])}}class UCe{constructor(i,o,s){this.from=i,this.to=o,this.diagnostic=s}}class Jv{constructor(i,o,s){this.diagnostics=i,this.panel=o,this.selected=s}static init(i,o,s){let a=i,l=s.facet(ey).markerFilter;l&&(a=l(a,s));let c=zn.set(a.map(u=>u.from==u.to||u.from==u.to-1&&s.doc.lineAt(u.from).to==u.from?zn.widget({widget:new KCe(u),diagnostic:u}).range(u.from):zn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity+(u.markClass?" "+u.markClass:"")},diagnostic:u,inclusive:!0}).range(u.from,u.to)),!0);return new Jv(c,o,d5(c))}}function d5(t,i=null,o=0){let s=null;return t.between(o,1e9,(a,l,{spec:c})=>{if(!i||c.diagnostic==i)return s=new UCe(a,l,c.diagnostic),!1}),s}function xee(t,i){return t.field(za,!1)?i:i.concat(ni.appendConfig.of(Iee))}const p5=ni.define(),EL=ni.define(),wee=ni.define(),za=Js.define({create:()=>new Jv(zn.none,null,null),update(t,i){if(i.docChanged){let o=t.diagnostics.map(i.changes),s=null;if(t.selected){let a=i.changes.mapPos(t.selected.from,1);s=d5(o,t.selected.diagnostic,a)||d5(o,null,a)}t=new Jv(o,t.panel,s)}for(let o of i.effects)o.is(p5)?t=Jv.init(o.value,t.panel,i.state):o.is(EL)?t=new Jv(t.diagnostics,o.value?a9.open:null,t.selected):o.is(wee)&&(t=new Jv(t.diagnostics,t.panel,o.value));return t},provide:t=>[kN.from(t,i=>i.panel),Tn.decorations.from(t,i=>i.diagnostics)]}),qCe=zn.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function WCe(t,i,o){let{diagnostics:s}=t.state.field(za),a=[],l=2e8,c=0;s.between(i-(o<0?1:0),i+(o>0?1:0),(p,h,{spec:g})=>{i>=p&&i<=h&&(p==h||(i>p||o>0)&&(i<h||o<0))&&(a.push(g.diagnostic),l=Math.min(p,l),c=Math.max(h,c))});let u=t.state.facet(ey).tooltipFilter;return u&&(a=u(a,t.state)),a.length?{pos:l,end:c,above:t.state.doc.lineAt(l).to<c,create:()=>({dom:Cee(t,a)})}:null}function Cee(t,i){return Qd("ul",{class:"cm-tooltip-lint"},i.map(o=>Mee(t,o,!1)))}const See=t=>{let i=t.state.field(za,!1);return!(!i||!i.panel||(t.dispatch({effects:EL.of(!1)}),0))},Dee=es.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:i}=t.state.facet(ey);this.lintTime=Date.now()+i,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,i)}run(){let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:i}=this.view,{sources:o}=i.facet(ey);o.length&&Promise.all(o.map(s=>Promise.resolve(s(this.view)))).then(s=>{let a=s.reduce((l,c)=>l.concat(c));this.view.state.doc==i.doc&&this.view.dispatch(function GCe(t,i){return{effects:xee(t,[p5.of(i)])}}(this.view.state,a))},s=>{El(this.view.state,s)})}}update(t){let i=t.state.facet(ey);(t.docChanged||i!=t.startState.facet(ey)||i.needsRefresh&&i.needsRefresh(t))&&(this.lintTime=Date.now()+i.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,i.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),ey=Ht.define({combine:t=>Object.assign({sources:t.map(i=>i.source).filter(i=>null!=i)},Pf(t.map(i=>i.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(i,o)=>i?o?s=>i(s)||o(s):i:o}))});function Tee(t,i={}){return[ey.of({source:t,config:i}),Dee,Iee]}function Pee(t){let i=[];if(t)e:for(let{name:o}of t){for(let s=0;s<o.length;s++){let a=o[s];if(/[a-zA-Z]/.test(a)&&!i.some(l=>l.toLowerCase()==a.toLowerCase())){i.push(a);continue e}}i.push("")}return i}function Mee(t,i,o){var s;let a=o?Pee(i.actions):[];return Qd("li",{class:"cm-diagnostic cm-diagnostic-"+i.severity},Qd("span",{class:"cm-diagnosticText"},i.renderMessage?i.renderMessage():i.message),null===(s=i.actions)||void 0===s?void 0:s.map((l,c)=>{let u=!1,p=E=>{if(E.preventDefault(),u)return;u=!0;let C=d5(t.state.field(za).diagnostics,i);C&&l.apply(t,C.from,C.to)},{name:h}=l,g=a[c]?h.indexOf(a[c]):-1,y=g<0?h:[h.slice(0,g),Qd("u",h.slice(g,g+1)),h.slice(g+1)];return Qd("button",{type:"button",class:"cm-diagnosticAction",onclick:p,onmousedown:p,"aria-label":` Action: ${h}${g<0?"":` (access key "${a[c]})"`}.`},y)}),i.source&&Qd("div",{class:"cm-diagnosticSource"},i.source))}class KCe extends Gd{constructor(i){super(),this.diagnostic=i}eq(i){return i.diagnostic==this.diagnostic}toDOM(){return Qd("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Oee{constructor(i,o){this.diagnostic=o,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Mee(i,o,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class a9{constructor(i){this.view=i,this.items=[],this.list=Qd("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:a=>{if(27==a.keyCode)See(this.view),this.view.focus();else if(38==a.keyCode||33==a.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==a.keyCode||34==a.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==a.keyCode)this.moveSelection(0);else if(35==a.keyCode)this.moveSelection(this.items.length-1);else if(13==a.keyCode)this.view.focus();else{if(!(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:l}=this.items[this.selectedIndex],c=Pee(l.actions);for(let u=0;u<c.length;u++)if(c[u].toUpperCase().charCodeAt(0)==a.keyCode){let p=d5(this.view.state.field(za).diagnostics,l);p&&l.actions[u].apply(i,p.from,p.to)}}}a.preventDefault()},onclick:a=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(a.target)&&this.moveSelection(l)}}),this.dom=Qd("div",{class:"cm-panel-lint"},this.list,Qd("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>See(this.view)},"\xd7")),this.update()}get selectedIndex(){let i=this.view.state.field(za).selected;if(!i)return-1;for(let o=0;o<this.items.length;o++)if(this.items[o].diagnostic==i.diagnostic)return o;return-1}update(){let{diagnostics:i,selected:o}=this.view.state.field(za),s=0,a=!1,l=null;for(i.between(0,this.view.state.doc.length,(c,u,{spec:p})=>{let g,h=-1;for(let y=s;y<this.items.length;y++)if(this.items[y].diagnostic==p.diagnostic){h=y;break}h<0?(g=new Oee(this.view,p.diagnostic),this.items.splice(s,0,g),a=!0):(g=this.items[h],h>s&&(this.items.splice(s,h-s),a=!0)),o&&g.diagnostic==o.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),l=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),s++});s<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();0==this.items.length&&(this.items.push(new Oee(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let p=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/p:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/p)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let i=this.list.firstChild;function o(){let s=i;i=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;i!=s.dom;)o();i=s.dom.nextSibling}else this.list.insertBefore(s.dom,i);for(;i;)o()}moveSelection(i){if(this.selectedIndex<0)return;let s=d5(this.view.state.field(za).diagnostics,this.items[i].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:wee.of(s)})}static open(i){return new a9(i)}}function c9(t){return function l9(t,i='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${i}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const QCe=Tn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:c9("#d11")},".cm-lintRange-warning":{backgroundImage:c9("orange")},".cm-lintRange-info":{backgroundImage:c9("#999")},".cm-lintRange-hint":{backgroundImage:c9("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Iee=[za,Tn.decorations.compute([za],t=>{let{selected:i,panel:o}=t.field(za);return i&&o&&i.from!=i.to?zn.set([qCe.range(i.from,i.to)]):zn.none}),Vxe(WCe,{hideOn:function Eee(t,i){let o=t.startState.doc.lineAt(i.pos);return!(!t.effects.some(s=>s.is(p5))&&!t.changes.touchesRange(o.from,o.to))}}),QCe];class d9{static create(i,o,s,a,l){return new d9(i,o,s,a+(a<<8)+i+(o<<4)|0,l,[],[])}constructor(i,o,s,a,l,c,u){this.type=i,this.value=o,this.from=s,this.hash=a,this.end=l,this.children=c,this.positions=u,this.hashProp=[[$n.contextHash,a]]}addChild(i,o){i.prop($n.contextHash)!=this.hash&&(i=new Pr(i.type,i.children,i.positions,i.length,this.hashProp)),this.children.push(i),this.positions.push(o)}toTree(i,o=this.end){let s=this.children.length-1;return s>=0&&(o=Math.max(o,this.positions[s]+this.children[s].length+this.from)),new Pr(i.types[this.type],this.children,this.positions,o-this.from).balance({makeTree:(a,l,c)=>new Pr(hs.none,a,l,c,this.hashProp)})}}var wt=function(t){return t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL",t}(wt||{});class iSe{constructor(i,o){this.start=i,this.content=o,this.marks=[],this.parsers=[]}}class oSe{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let i=this.skipSpace(this.basePos);this.indent=this.countIndent(i,this.pos,this.indent),this.pos=i,this.next=i==this.text.length?-1:this.text.charCodeAt(i)}skipSpace(i){return Uw(this.text,i)}reset(i){for(this.text=i,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(i){this.basePos=i,this.baseIndent=this.countIndent(i,this.pos,this.indent)}moveBaseColumn(i){this.baseIndent=i,this.basePos=this.findColumn(i)}addMarker(i){this.markers.push(i)}countIndent(i,o=0,s=0){for(let a=o;a<i;a++)s+=9==this.text.charCodeAt(a)?4-s%4:1;return s}findColumn(i){let o=0;for(let s=0;o<this.text.length&&s<i;o++)s+=9==this.text.charCodeAt(o)?4-s%4:1;return o}scrub(){if(!this.baseIndent)return this.text;let i="";for(let o=0;o<this.basePos;o++)i+=" ";return i+this.text.slice(this.basePos)}}function Nee(t,i,o){if(o.pos==o.text.length||t!=i.block&&o.indent>=i.stack[o.depth+1].value+o.baseIndent)return!0;if(o.indent>=o.baseIndent+4)return!1;let s=(t.type==wt.OrderedList?SL:CL)(o,i,!1);return s>0&&(t.type!=wt.BulletList||wL(o,i,!1)<0)&&o.text.charCodeAt(o.pos+s-1)==t.value}const Lee={[wt.Blockquote]:(t,i,o)=>62==o.next&&(o.markers.push(Ur(wt.QuoteMark,i.lineStart+o.pos,i.lineStart+o.pos+1)),o.moveBase(o.pos+(vu(o.text.charCodeAt(o.pos+1))?2:1)),t.end=i.lineStart+o.text.length,!0),[wt.ListItem]:(t,i,o)=>!(o.indent<o.baseIndent+t.value&&o.next>-1||(o.moveBaseColumn(o.baseIndent+t.value),0)),[wt.OrderedList]:Nee,[wt.BulletList]:Nee,[wt.Document]:()=>!0};function vu(t){return 32==t||9==t||10==t||13==t}function Uw(t,i=0){for(;i<t.length&&vu(t.charCodeAt(i));)i++;return i}function Fee(t,i,o){for(;i>o&&vu(t.charCodeAt(i-1));)i--;return i}function Bee(t){if(96!=t.next&&126!=t.next)return-1;let i=t.pos+1;for(;i<t.text.length&&t.text.charCodeAt(i)==t.next;)i++;if(i<t.pos+3)return-1;if(96==t.next)for(let o=i;o<t.text.length;o++)if(96==t.text.charCodeAt(o))return-1;return i}function Vee(t){return 62!=t.next?-1:32==t.text.charCodeAt(t.pos+1)?2:1}function wL(t,i,o){if(42!=t.next&&45!=t.next&&95!=t.next)return-1;let s=1;for(let a=t.pos+1;a<t.text.length;a++){let l=t.text.charCodeAt(a);if(l==t.next)s++;else if(!vu(l))return-1}return o&&45==t.next&&zee(t)>-1&&t.depth==i.stack.length||s<3?-1:1}function jee(t,i){for(let o=t.stack.length-1;o>=0;o--)if(t.stack[o].type==i)return!0;return!1}function CL(t,i,o){return 45!=t.next&&43!=t.next&&42!=t.next||t.pos!=t.text.length-1&&!vu(t.text.charCodeAt(t.pos+1))||!(!o||jee(i,wt.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?-1:1}function SL(t,i,o){let s=t.pos,a=t.next;for(;a>=48&&a<=57;){if(s++,s==t.text.length)return-1;a=t.text.charCodeAt(s)}return s==t.pos||s>t.pos+9||46!=a&&41!=a||s<t.text.length-1&&!vu(t.text.charCodeAt(s+1))||o&&!jee(i,wt.OrderedList)&&(t.skipSpace(s+1)==t.text.length||s>t.pos+1||49!=t.next)?-1:s+1-t.pos}function $ee(t){if(35!=t.next)return-1;let i=t.pos+1;for(;i<t.text.length&&35==t.text.charCodeAt(i);)i++;if(i<t.text.length&&32!=t.text.charCodeAt(i))return-1;let o=i-t.pos;return o>6?-1:o}function zee(t){if(45!=t.next&&61!=t.next||t.indent>=t.baseIndent+4)return-1;let i=t.pos+1;for(;i<t.text.length&&t.text.charCodeAt(i)==t.next;)i++;let o=i;for(;i<t.text.length&&vu(t.text.charCodeAt(i));)i++;return i==t.text.length?o:-1}const DL=/^[ \t]*$/,Hee=/-->/,Uee=/\?>/,TL=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Hee],[/^\s*<\?/,Uee],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,DL],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,DL]];function Gee(t,i,o){if(60!=t.next)return-1;let s=t.text.slice(t.pos);for(let a=0,l=TL.length-(o?1:0);a<l;a++)if(TL[a][0].test(s))return a;return-1}function qee(t,i){let o=t.countIndent(i,t.pos,t.indent),s=t.countIndent(t.skipSpace(i),i,o);return s>=o+5?o+1:s}function ty(t,i,o){let s=t.length-1;s>=0&&t[s].to==i&&t[s].type==wt.CodeText?t[s].to=o:t.push(Ur(wt.CodeText,i,o))}const p9={LinkReference:void 0,IndentedCode(t,i){let o=i.baseIndent+4;if(i.indent<o)return!1;let s=i.findColumn(o),a=t.lineStart+s,l=t.lineStart+i.text.length,c=[],u=[];for(ty(c,a,l);t.nextLine()&&i.depth>=t.stack.length;)if(i.pos==i.text.length){ty(u,t.lineStart-1,t.lineStart);for(let p of i.markers)u.push(p)}else{if(i.indent<o)break;{if(u.length){for(let h of u)h.type==wt.CodeText?ty(c,h.from,h.to):c.push(h);u=[]}ty(c,t.lineStart-1,t.lineStart);for(let h of i.markers)c.push(h);l=t.lineStart+i.text.length;let p=t.lineStart+i.findColumn(i.baseIndent+4);p<l&&ty(c,p,l)}}return u.length&&(u=u.filter(p=>p.type!=wt.CodeText),u.length&&(i.markers=u.concat(i.markers))),t.addNode(t.buffer.writeElements(c,-a).finish(wt.CodeBlock,l-a),a),!0},FencedCode(t,i){let o=Bee(i);if(o<0)return!1;let s=t.lineStart+i.pos,a=i.next,l=o-i.pos,c=i.skipSpace(o),u=Fee(i.text,i.text.length,c),p=[Ur(wt.CodeMark,s,s+l)];c<u&&p.push(Ur(wt.CodeInfo,t.lineStart+c,t.lineStart+u));for(let h=!0;t.nextLine()&&i.depth>=t.stack.length;h=!1){let g=i.pos;if(i.indent-i.baseIndent<4)for(;g<i.text.length&&i.text.charCodeAt(g)==a;)g++;if(g-i.pos>=l&&i.skipSpace(g)==i.text.length){for(let y of i.markers)p.push(y);p.push(Ur(wt.CodeMark,t.lineStart+i.pos,t.lineStart+g)),t.nextLine();break}{h||ty(p,t.lineStart-1,t.lineStart);for(let C of i.markers)p.push(C);let y=t.lineStart+i.basePos,E=t.lineStart+i.text.length;y<E&&ty(p,y,E)}}return t.addNode(t.buffer.writeElements(p,-s).finish(wt.FencedCode,t.prevLineEnd()-s),s),!0},Blockquote(t,i){let o=Vee(i);return!(o<0)&&(t.startContext(wt.Blockquote,i.pos),t.addNode(wt.QuoteMark,t.lineStart+i.pos,t.lineStart+i.pos+1),i.moveBase(i.pos+o),null)},HorizontalRule(t,i){if(wL(i,t,!1)<0)return!1;let o=t.lineStart+i.pos;return t.nextLine(),t.addNode(wt.HorizontalRule,o),!0},BulletList(t,i){let o=CL(i,t,!1);if(o<0)return!1;t.block.type!=wt.BulletList&&t.startContext(wt.BulletList,i.basePos,i.next);let s=qee(i,i.pos+1);return t.startContext(wt.ListItem,i.basePos,s-i.baseIndent),t.addNode(wt.ListMark,t.lineStart+i.pos,t.lineStart+i.pos+o),i.moveBaseColumn(s),null},OrderedList(t,i){let o=SL(i,t,!1);if(o<0)return!1;t.block.type!=wt.OrderedList&&t.startContext(wt.OrderedList,i.basePos,i.text.charCodeAt(i.pos+o-1));let s=qee(i,i.pos+o);return t.startContext(wt.ListItem,i.basePos,s-i.baseIndent),t.addNode(wt.ListMark,t.lineStart+i.pos,t.lineStart+i.pos+o),i.moveBaseColumn(s),null},ATXHeading(t,i){let o=$ee(i);if(o<0)return!1;let s=i.pos,a=t.lineStart+s,l=Fee(i.text,i.text.length,s),c=l;for(;c>s&&i.text.charCodeAt(c-1)==i.next;)c--;(c==l||c==s||!vu(i.text.charCodeAt(c-1)))&&(c=i.text.length);let u=t.buffer.write(wt.HeaderMark,0,o).writeElements(t.parser.parseInline(i.text.slice(s+o+1,c),a+o+1),-a);c<i.text.length&&u.write(wt.HeaderMark,c-s,l-s);let p=u.finish(wt.ATXHeading1-1+o,i.text.length-s);return t.nextLine(),t.addNode(p,a),!0},HTMLBlock(t,i){let o=Gee(i,0,!1);if(o<0)return!1;let s=t.lineStart+i.pos,a=TL[o][1],l=[],c=a!=DL;for(;!a.test(i.text)&&t.nextLine();){if(i.depth<t.stack.length){c=!1;break}for(let h of i.markers)l.push(h)}c&&t.nextLine();let u=a==Hee?wt.CommentBlock:a==Uee?wt.ProcessingInstructionBlock:wt.HTMLBlock,p=t.prevLineEnd();return t.addNode(t.buffer.writeElements(l,-s).finish(u,p-s),s),!0},SetextHeading:void 0};class sSe{constructor(i){this.stage=0,this.elts=[],this.pos=0,this.start=i.start,this.advance(i.content)}nextLine(i,o,s){if(-1==this.stage)return!1;let a=s.content+"\n"+o.scrub(),l=this.advance(a);return l>-1&&l<a.length&&this.complete(i,s,l)}finish(i,o){return(2==this.stage||3==this.stage)&&Uw(o.content,this.pos)==o.content.length&&this.complete(i,o,o.content.length)}complete(i,o,s){return i.addLeafElement(o,Ur(wt.LinkReference,this.start,this.start+s,this.elts)),!0}nextStage(i){return i?(this.pos=i.to-this.start,this.elts.push(i),this.stage++,!0):(!1===i&&(this.stage=-1),!1)}advance(i){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(nte(i,this.pos,this.start,!0)))return-1;if(58!=i.charCodeAt(this.pos))return this.stage=-1;this.elts.push(Ur(wt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let o=Uw(i,this.pos),s=0;if(o>this.pos){let a=tte(i,o,this.start);if(a){let l=PL(i,a.to-this.start);l>0&&(this.nextStage(a),s=l)}}return s||(s=PL(i,this.pos)),s>0&&s<i.length?s:-1}return PL(i,this.pos)}if(!this.nextStage(ete(i,Uw(i,this.pos),this.start)))return-1}}}}function PL(t,i){for(;i<t.length;i++){let o=t.charCodeAt(i);if(10==o)break;if(!vu(o))return-1}return i}class aSe{nextLine(i,o,s){let a=o.depth<i.stack.length?-1:zee(o),l=o.next;if(a<0)return!1;let c=Ur(wt.HeaderMark,i.lineStart+o.pos,i.lineStart+a);return i.nextLine(),i.addLeafElement(s,Ur(61==l?wt.SetextHeading1:wt.SetextHeading2,s.start,i.prevLineEnd(),[...i.parser.parseInline(s.content,s.start),c])),!0}finish(){return!1}}const lSe={LinkReference:(t,i)=>91==i.content.charCodeAt(0)?new sSe(i):null,SetextHeading:()=>new aSe},cSe=[(t,i)=>$ee(i)>=0,(t,i)=>Bee(i)>=0,(t,i)=>Vee(i)>=0,(t,i)=>CL(i,t,!0)>=0,(t,i)=>SL(i,t,!0)>=0,(t,i)=>wL(i,t,!0)>=0,(t,i)=>Gee(i,0,!0)>=0],uSe={text:"",end:0};class dSe{constructor(i,o,s,a){this.parser=i,this.input=o,this.ranges=a,this.line=new oSe,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=d9.create(wt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=s.length?new mSe(s,o):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:i}=this;for(;;){for(let s=0;;){let a=i.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;s<i.markers.length&&(!a||i.markers[s].from<a.end);){let l=i.markers[s++];this.addNode(l.type,l.from,l.to)}if(!a)break;this.finishContext()}if(i.pos<i.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(i.basePos))return null;e:for(;;){for(let s of this.parser.blockParsers)if(s){let a=s(this,i);if(0!=a){if(1==a)return null;i.forward();continue e}}break}let o=new iSe(this.lineStart+i.pos,i.text.slice(i.pos));for(let s of this.parser.leafBlockParsers)if(s){let a=s(this,o);a&&o.parsers.push(a)}e:for(;this.nextLine()&&i.pos!=i.text.length;){if(i.indent<i.baseIndent+4)for(let s of this.parser.endLeafBlock)if(s(this,i,o))break e;for(let s of o.parsers)if(s.nextLine(this,i,o))return null;o.content+="\n"+i.scrub();for(let s of i.markers)o.marks.push(s)}return this.finishLeaf(o),null}stopAt(i){if(null!=this.stoppedAt&&this.stoppedAt<i)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=i}reuseFragment(i){if(!this.fragments.moveTo(this.absoluteLineStart+i,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let o=this.fragments.takeNodes(this);return!!o&&(this.absoluteLineStart+=o,this.lineStart=rte(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0)}get depth(){return this.stack.length}parentType(i=this.depth-1){return this.parser.nodeSet.types[this.stack[i].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(i){let o=uSe;if(o.end=i,i>=this.to)o.text="";else if(o.text=this.lineChunkAt(i),o.end+=o.text.length,this.ranges.length>1){let s=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<o.end;){a++;let l=this.ranges[a].from,c=this.lineChunkAt(l);o.end=l+c.length,o.text=o.text.slice(0,this.ranges[a-1].to-s)+c,s=o.end-o.text.length}}return o}readLine(){let{line:i}=this,{text:o,end:s}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=s,i.reset(o);i.depth<this.stack.length;i.depth++){let a=this.stack[i.depth],l=this.parser.skipContextMarkup[a.type];if(!l)throw new Error("Unhandled block context "+wt[a.type]);if(!l(a,this,i))break;i.forward()}}lineChunkAt(i){let s,o=this.input.chunk(i);if(this.input.lineChunks)s="\n"==o?"":o;else{let a=o.indexOf("\n");s=a<0?o:o.slice(0,a)}return i+s.length>this.to?s.slice(0,this.to-i):s}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(i,o,s=0){this.block=d9.create(i,s,this.lineStart+o,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(i,o,s=0){this.startContext(this.parser.getNodeType(i),o,s)}addNode(i,o,s){"number"==typeof i&&(i=new Pr(this.parser.nodeSet.types[i],f5,f5,(s??this.prevLineEnd())-o)),this.block.addChild(i,o-this.block.from)}addElement(i){this.block.addChild(i.toTree(this.parser.nodeSet),i.from-this.block.from)}addLeafElement(i,o){this.addNode(this.buffer.writeElements(RL(o.children,i.marks),-o.from).finish(o.type,o.to-o.from),o.from)}finishContext(){let i=this.stack.pop(),o=this.stack[this.stack.length-1];o.addChild(i.toTree(this.parser.nodeSet),i.from-o.from),this.block=o}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(i){return this.ranges.length>1?Wee(this.ranges,0,i.topNode,this.ranges[0].from,this.reusePlaceholders):i}finishLeaf(i){for(let s of i.parsers)if(s.finish(this,i))return;let o=RL(this.parser.parseInline(i.content,i.start),i.marks);this.addNode(this.buffer.writeElements(o,-i.start).finish(wt.Paragraph,i.content.length),i.start)}elt(i,o,s,a){return"string"==typeof i?Ur(this.parser.getNodeType(i),o,s,a):new Kee(i,o)}get buffer(){return new Yee(this.parser.nodeSet)}}function Wee(t,i,o,s,a){let l=t[i].to,c=[],u=[],p=o.from+s;function h(g,y){for(;y?g>=l:g>l;){let E=t[i+1].from-l;s+=E,g+=E,i++,l=t[i].to}}for(let g=o.firstChild;g;g=g.nextSibling){h(g.from+s,!0);let E,y=g.from+s,C=a.get(g.tree);C?E=C:g.to+s>l?(E=Wee(t,i,g,s,a),h(g.to+s,!1)):E=g.toTree(),c.push(E),u.push(y-p)}return h(o.to+s,!1),new Pr(o.type,c,u,o.to+s-p,o.tree?o.tree.propValues:void 0)}class ML extends JD{constructor(i,o,s,a,l,c,u,p,h){super(),this.nodeSet=i,this.blockParsers=o,this.leafBlockParsers=s,this.blockNames=a,this.endLeafBlock=l,this.skipContextMarkup=c,this.inlineParsers=u,this.inlineNames=p,this.wrappers=h,this.nodeTypes=Object.create(null);for(let g of i.types)this.nodeTypes[g.name]=g.id}createParse(i,o,s){let a=new dSe(this,i,o,s);for(let l of this.wrappers)a=l(a,i,o,s);return a}configure(i){let o=OL(i);if(!o)return this;let{nodeSet:s,skipContextMarkup:a}=this,l=this.blockParsers.slice(),c=this.leafBlockParsers.slice(),u=this.blockNames.slice(),p=this.inlineParsers.slice(),h=this.inlineNames.slice(),g=this.endLeafBlock.slice(),y=this.wrappers;if(Gw(o.defineNodes)){a=Object.assign({},a);let C,E=s.types.slice();for(let D of o.defineNodes){let{name:O,block:A,composite:F,style:N}="string"==typeof D?{name:D}:D;if(E.some(q=>q.name==O))continue;F&&(a[E.length]=(q,ee,ae)=>F(ee,ae,q.value));let B=E.length,j=F?["Block","BlockContext"]:A?B>=wt.ATXHeading1&&B<=wt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;E.push(hs.define({id:B,name:O,props:j&&[[$n.group,j]]})),N&&(C||(C={}),Array.isArray(N)||N instanceof b0?C[O]=N:Object.assign(C,N))}s=new H3(E),C&&(s=s.extend(ow(C)))}if(Gw(o.props)&&(s=s.extend(...o.props)),Gw(o.remove))for(let E of o.remove){let C=this.blockNames.indexOf(E),D=this.inlineNames.indexOf(E);C>-1&&(l[C]=c[C]=void 0),D>-1&&(p[D]=void 0)}if(Gw(o.parseBlock))for(let E of o.parseBlock){let C=u.indexOf(E.name);if(C>-1)l[C]=E.parse,c[C]=E.leaf;else{let D=E.before?f9(u,E.before):E.after?f9(u,E.after)+1:u.length-1;l.splice(D,0,E.parse),c.splice(D,0,E.leaf),u.splice(D,0,E.name)}E.endLeaf&&g.push(E.endLeaf)}if(Gw(o.parseInline))for(let E of o.parseInline){let C=h.indexOf(E.name);if(C>-1)p[C]=E.parse;else{let D=E.before?f9(h,E.before):E.after?f9(h,E.after)+1:h.length-1;p.splice(D,0,E.parse),h.splice(D,0,E.name)}}return o.wrap&&(y=y.concat(o.wrap)),new ML(s,l,c,u,g,a,p,h,y)}getNodeType(i){let o=this.nodeTypes[i];if(null==o)throw new RangeError(`Unknown node type '${i}'`);return o}parseInline(i,o){let s=new fSe(this,i,o);e:for(let a=o;a<s.end;){let l=s.char(a);for(let c of this.inlineParsers)if(c){let u=c(s,l,a);if(u>=0){a=u;continue e}}a++}return s.resolveMarkers(0)}}function Gw(t){return null!=t&&t.length>0}function OL(t){if(!Array.isArray(t))return t;if(0==t.length)return null;let i=OL(t[0]);if(1==t.length)return i;let o=OL(t.slice(1));if(!o||!i)return i||o;let s=(c,u)=>(c||f5).concat(u||f5),a=i.wrap,l=o.wrap;return{props:s(i.props,o.props),defineNodes:s(i.defineNodes,o.defineNodes),parseBlock:s(i.parseBlock,o.parseBlock),parseInline:s(i.parseInline,o.parseInline),remove:s(i.remove,o.remove),wrap:a?l?(c,u,p,h)=>a(l(c,u,p,h),u,p,h):a:l}}function f9(t,i){let o=t.indexOf(i);if(o<0)throw new RangeError(`Position specified relative to unknown parser ${i}`);return o}let Xee=[hs.none];for(let i,t=1;i=wt[t];t++)Xee[t]=hs.define({id:t,name:i,props:t>=wt.Escape?[]:[[$n.group,t in Lee?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==i});const f5=[];class Yee{constructor(i){this.nodeSet=i,this.content=[],this.nodes=[]}write(i,o,s,a=0){return this.content.push(i,o,s,4+4*a),this}writeElements(i,o=0){for(let s of i)s.writeTo(this,o);return this}finish(i,o){return Pr.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:i,length:o})}}class qw{constructor(i,o,s,a=f5){this.type=i,this.from=o,this.to=s,this.children=a}writeTo(i,o){let s=i.content.length;i.writeElements(this.children,o),i.content.push(this.type,this.from+o,this.to+o,i.content.length+4-s)}toTree(i){return new Yee(i).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class Kee{constructor(i,o){this.tree=i,this.from=o}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return f5}writeTo(i,o){i.nodes.push(this.tree),i.content.push(i.nodes.length-1,this.from+o,this.to+o,-1)}toTree(){return this.tree}}function Ur(t,i,o,s){return new qw(t,i,o,s)}const Qee={resolve:"Emphasis",mark:"EmphasisMark"},Zee={resolve:"Emphasis",mark:"EmphasisMark"},h5={},kL={};class yu{constructor(i,o,s,a){this.type=i,this.from=o,this.to=s,this.side=a}}let Ww=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Ww=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const AL={Escape(t,i,o){if(92!=i||o==t.end-1)return-1;let s=t.char(o+1);for(let a=0;a<32;a++)if("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".charCodeAt(a)==s)return t.append(Ur(wt.Escape,o,o+2));return-1},Entity(t,i,o){if(38!=i)return-1;let s=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(o+1,o+31));return s?t.append(Ur(wt.Entity,o,o+1+s[0].length)):-1},InlineCode(t,i,o){if(96!=i||o&&96==t.char(o-1))return-1;let s=o+1;for(;s<t.end&&96==t.char(s);)s++;let a=s-o,l=0;for(;s<t.end;s++)if(96==t.char(s)){if(l++,l==a&&96!=t.char(s+1))return t.append(Ur(wt.InlineCode,o,s+1,[Ur(wt.CodeMark,o,o+a),Ur(wt.CodeMark,s+1-a,s+1)]))}else l=0;return-1},HTMLTag(t,i,o){if(60!=i||o==t.end-1)return-1;let s=t.slice(o+1,t.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(s);if(a)return t.append(Ur(wt.Autolink,o,o+1+a[0].length,[Ur(wt.LinkMark,o,o+1),Ur(wt.URL,o+1,o+a[0].length),Ur(wt.LinkMark,o+a[0].length,o+1+a[0].length)]));let l=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(s);if(l)return t.append(Ur(wt.Comment,o,o+1+l[0].length));let c=/^\?[^]*?\?>/.exec(s);if(c)return t.append(Ur(wt.ProcessingInstruction,o,o+1+c[0].length));let u=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(s);return u?t.append(Ur(wt.HTMLTag,o,o+1+u[0].length)):-1},Emphasis(t,i,o){if(95!=i&&42!=i)return-1;let s=o+1;for(;t.char(s)==i;)s++;let a=t.slice(o-1,o),l=t.slice(s,s+1),c=Ww.test(a),u=Ww.test(l),p=/\s|^$/.test(a),h=/\s|^$/.test(l),g=!h&&(!u||p||c),y=!p&&(!c||h||u);return t.append(new yu(95==i?Qee:Zee,o,s,(!g||42!=i&&y&&!c?0:1)|(!y||42!=i&&g&&!u?0:2)))},HardBreak(t,i,o){if(92==i&&10==t.char(o+1))return t.append(Ur(wt.HardBreak,o,o+2));if(32==i){let s=o+1;for(;32==t.char(s);)s++;if(10==t.char(s)&&s>=o+2)return t.append(Ur(wt.HardBreak,o,s+1))}return-1},Link:(t,i,o)=>91==i?t.append(new yu(h5,o,o+1,1)):-1,Image:(t,i,o)=>33==i&&91==t.char(o+1)?t.append(new yu(kL,o,o+2,1)):-1,LinkEnd(t,i,o){if(93!=i)return-1;for(let s=t.parts.length-1;s>=0;s--){let a=t.parts[s];if(a instanceof yu&&(a.type==h5||a.type==kL)){if(!a.side||t.skipSpace(a.to)==o&&!/[(\[]/.test(t.slice(o+1,o+2)))return t.parts[s]=null,-1;let l=t.takeContent(s),c=t.parts[s]=pSe(t,l,a.type==h5?wt.Link:wt.Image,a.from,o+1);if(a.type==h5)for(let u=0;u<s;u++){let p=t.parts[u];p instanceof yu&&p.type==h5&&(p.side=0)}return c.to}}return-1}};function pSe(t,i,o,s,a){let{text:l}=t,c=t.char(a),u=a;if(i.unshift(Ur(wt.LinkMark,s,s+(o==wt.Image?2:1))),i.push(Ur(wt.LinkMark,a-1,a)),40==c){let g,p=t.skipSpace(a+1),h=ete(l,p-t.offset,t.offset);h&&(p=t.skipSpace(h.to),p!=h.to&&(g=tte(l,p-t.offset,t.offset),g&&(p=t.skipSpace(g.to)))),41==t.char(p)&&(i.push(Ur(wt.LinkMark,a,a+1)),u=p+1,h&&i.push(h),g&&i.push(g),i.push(Ur(wt.LinkMark,p,u)))}else if(91==c){let p=nte(l,a-t.offset,t.offset,!1);p&&(i.push(p),u=p.to)}return Ur(o,s,u,i)}function ete(t,i,o){if(60==t.charCodeAt(i)){for(let a=i+1;a<t.length;a++){let l=t.charCodeAt(a);if(62==l)return Ur(wt.URL,i+o,a+1+o);if(60==l||10==l)return!1}return null}{let a=0,l=i;for(let c=!1;l<t.length;l++){let u=t.charCodeAt(l);if(vu(u))break;if(c)c=!1;else if(40==u)a++;else if(41==u){if(!a)break;a--}else 92==u&&(c=!0)}return l>i?Ur(wt.URL,i+o,l+o):l==t.length&&null}}function tte(t,i,o){let s=t.charCodeAt(i);if(39!=s&&34!=s&&40!=s)return!1;let a=40==s?41:s;for(let l=i+1,c=!1;l<t.length;l++){let u=t.charCodeAt(l);if(c)c=!1;else{if(u==a)return Ur(wt.LinkTitle,i+o,l+1+o);92==u&&(c=!0)}}return null}function nte(t,i,o,s){for(let a=!1,l=i+1,c=Math.min(t.length,l+999);l<c;l++){let u=t.charCodeAt(l);if(a)a=!1;else{if(93==u)return!s&&Ur(wt.LinkLabel,i+o,l+1+o);if(s&&!vu(u)&&(s=!1),91==u)return!1;92==u&&(a=!0)}}return null}class fSe{constructor(i,o,s){this.parser=i,this.text=o,this.offset=s,this.parts=[]}char(i){return i>=this.end?-1:this.text.charCodeAt(i-this.offset)}get end(){return this.offset+this.text.length}slice(i,o){return this.text.slice(i-this.offset,o-this.offset)}append(i){return this.parts.push(i),i.to}addDelimiter(i,o,s,a,l){return this.append(new yu(i,o,s,(a?1:0)|(l?2:0)))}get hasOpenLink(){for(let i=this.parts.length-1;i>=0;i--){let o=this.parts[i];if(o instanceof yu&&(o.type==h5||o.type==kL))return!0}return!1}addElement(i){return this.append(i)}resolveMarkers(i){for(let s=i;s<this.parts.length;s++){let a=this.parts[s];if(!(a instanceof yu&&a.type.resolve&&2&a.side))continue;let u,l=a.type==Qee||a.type==Zee,c=a.to-a.from,p=s-1;for(;p>=i;p--){let O=this.parts[p];if(O instanceof yu&&1&O.side&&O.type==a.type&&!(l&&(1&a.side||2&O.side)&&(O.to-O.from+c)%3==0&&((O.to-O.from)%3||c%3))){u=O;break}}if(!u)continue;let h=a.type.resolve,g=[],y=u.from,E=a.to;if(l){let O=Math.min(2,u.to-u.from,c);y=u.to-O,E=a.from+O,h=1==O?"Emphasis":"StrongEmphasis"}u.type.mark&&g.push(this.elt(u.type.mark,y,u.to));for(let O=p+1;O<s;O++)this.parts[O]instanceof qw&&g.push(this.parts[O]),this.parts[O]=null;a.type.mark&&g.push(this.elt(a.type.mark,a.from,E));let C=this.elt(h,y,E,g);this.parts[p]=l&&u.from!=y?new yu(u.type,u.from,y,u.side):null,(this.parts[s]=l&&a.to!=E?new yu(a.type,E,a.to,a.side):null)?this.parts.splice(s,0,C):this.parts[s]=C}let o=[];for(let s=i;s<this.parts.length;s++){let a=this.parts[s];a instanceof qw&&o.push(a)}return o}findOpeningDelimiter(i){for(let o=this.parts.length-1;o>=0;o--){let s=this.parts[o];if(s instanceof yu&&s.type==i)return o}return null}takeContent(i){let o=this.resolveMarkers(i);return this.parts.length=i,o}skipSpace(i){return Uw(this.text,i-this.offset)+this.offset}elt(i,o,s,a){return"string"==typeof i?Ur(this.parser.getNodeType(i),o,s,a):new Kee(i,o)}}function RL(t,i){if(!i.length)return t;if(!t.length)return i;let o=t.slice(),s=0;for(let a of i){for(;s<o.length&&o[s].to<a.to;)s++;if(s<o.length&&o[s].from<a.from){let l=o[s];l instanceof qw&&(o[s]=new qw(l.type,l.from,l.to,RL(l.children,[a])))}else o.splice(s++,0,a)}return o}const hSe=[wt.CodeBlock,wt.ListItem,wt.OrderedList,wt.BulletList];class mSe{constructor(i,o){this.fragments=i,this.input=o,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,i.length&&(this.fragment=i[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(i,o){for(;this.fragment&&this.fragment.to<=i;)this.nextFragment();if(!this.fragment||this.fragment.from>(i?i-1:0))return!1;if(this.fragmentEnd<0){let l=this.fragment.to;for(;l>0&&"\n"!=this.input.read(l-1,l);)l--;this.fragmentEnd=l?l-1:0}let s=this.cursor;s||(s=this.cursor=this.fragment.tree.cursor(),s.firstChild());let a=i+this.fragment.offset;for(;s.to<=a;)if(!s.parent())return!1;for(;;){if(s.from>=a)return this.fragment.from<=o;if(!s.childAfter(a))return!1}}matches(i){let o=this.cursor.tree;return o&&o.prop($n.contextHash)==i}takeNodes(i){let o=this.cursor,s=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),l=i.absoluteLineStart,c=l,u=i.block.children.length,p=c,h=u;for(;;){if(o.to-s>a){if(o.type.isAnonymous&&o.firstChild())continue;break}let g=rte(o.from-s,i.ranges);if(o.to-s<=i.ranges[i.rangeI].to)i.addNode(o.tree,g);else{let y=new Pr(i.parser.nodeSet.types[wt.Paragraph],[],[],0,i.block.hashProp);i.reusePlaceholders.set(y,o.tree),i.addNode(y,g)}if(o.type.is("Block")&&(hSe.indexOf(o.type.id)<0?(c=o.to-s,u=i.block.children.length):(c=p,u=h,p=o.to-s,h=i.block.children.length)),!o.nextSibling())break}for(;i.block.children.length>u;)i.block.children.pop(),i.block.positions.pop();return c-l}}function rte(t,i){let o=t;for(let s=1;s<i.length;s++){let a=i[s-1].to;a<t&&(o-=i[s].from-a)}return o}const gSe=ow({"Blockquote/...":ce.quote,HorizontalRule:ce.contentSeparator,"ATXHeading1/... SetextHeading1/...":ce.heading1,"ATXHeading2/... SetextHeading2/...":ce.heading2,"ATXHeading3/...":ce.heading3,"ATXHeading4/...":ce.heading4,"ATXHeading5/...":ce.heading5,"ATXHeading6/...":ce.heading6,"Comment CommentBlock":ce.comment,Escape:ce.escape,Entity:ce.character,"Emphasis/...":ce.emphasis,"StrongEmphasis/...":ce.strong,"Link/... Image/...":ce.link,"OrderedList/... BulletList/...":ce.list,"BlockQuote/...":ce.quote,"InlineCode CodeText":ce.monospace,"URL Autolink":ce.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":ce.processingInstruction,"CodeInfo LinkLabel":ce.labelName,LinkTitle:ce.string,Paragraph:ce.content}),vSe=new ML(new H3(Xee).extend(gSe),Object.keys(p9).map(t=>p9[t]),Object.keys(p9).map(t=>lSe[t]),Object.keys(p9),cSe,Lee,Object.keys(AL).map(t=>AL[t]),Object.keys(AL),[]);function fte(t,i,o){return(s,a,l)=>{if(a!=t||s.char(l+1)==t)return-1;let c=[s.elt(o,l,l+1)];for(let u=l+1;u<s.end;u++){let p=s.char(u);if(p==t)return s.addElement(s.elt(i,l,u+1,c.concat(s.elt(o,u,u+1))));if(92==p&&c.push(s.elt("Escape",u,2+u++)),vu(p))break}return-1}}ce.special(ce.content),fte(94,"Superscript","SuperscriptMark"),ce.special(ce.content),fte(126,"Subscript","SubscriptMark");const NL=typeof process<"u"&&process.env&&/\bfparse(:dbg)?\b/.test(process.env.LOG),LL=typeof process<"u"&&process.env&&/\bfparse:dbg\b/.test(process.env.LOG),kf=typeof process<"u"&&process.env&&/\bcontext\b/.test(process.env.LOG),xte=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],a8e=Cte("\n\r"),l8e=Cte("'./-+*^");function Cte(t){return Array.from(t).map(i=>i.charCodeAt(0))}function c8e(t){return 63===t||t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=55296&&t<=56319||t>=56320&&t<=57343}function d8e(t){return t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}function p8e(t){return xte.includes(t)}function Ste(t,i){return i.concat(t.split(/\n/g).join("\n"+i))}function f8e(t,i=0){const o=t.peek(i);return 42===o&&42===t.peek(i+1)?{offset:2,token:"**"}:function u8e(t){return l8e.includes(t)}(o)?{offset:1,token:String.fromCharCode(o)}:null}function h9(t,i=0,o=!1){for(let s=!1,a=[],l=0;;l++){const c=t.peek(i+l);if(!(c8e(c)||(s||o)&&d8e(c)))return a.length?{token:String.fromCharCode(...a),offset:l}:null;s||(s=!0),a.push(c)}}function Dte(t,i){for(let o=!1,s=0;;s++){if(!p8e(t.peek(i+s)))return o?{token:" ",offset:s}:null;o||(o=!0)}}const m8e={121:"identifier",122:"nameIdentifier"},g8e=new G3((t,i)=>{LL&&console.log("%s: T <identifier | nameIdentifier>",t.pos);const o=function h8e(t,i){const o=i.contextKeys(),s=i.tokens;for(let a=0,l=[],c=null;;){const u=s.length+l.length>0,p=l.length>0,h=h9(t,a,u)||u&&f8e(t,a)||p&&Dte(t,a);if(!h)return c;const{token:g,offset:y}=h;if(a+=y," "===g)continue;l=[...l,g];const E=[...s,...l].join(" ");if(o.some(C=>C===E)){const C=l[0];c={token:C,offset:C.length,term:122}}if(!o.some(C=>C.startsWith(E))){if(Tte.some(C=>C===E)){const C=l[0];c={token:C,offset:C.length,term:121}}if(!Tte.some(C=>C.startsWith(E)))return c}}}(t,i.context),a=o||h9(t,0,i.context.tokens.length>0);a&&(t.advance(a.offset),t.acceptToken(o?o.term:121),NL&&console.log("%s: MATCH <%s> <%s>",t.pos,o?m8e[o.term]:"identifier",a.token))},{contextual:!0}),v8e=new G3((t,i)=>{LL&&console.log("%s: T <propertyIdentifier>",t.pos);const s=h9(t,0,i.context.tokens.length>0);s&&(t.advance(s.offset),t.acceptToken(120),NL&&console.log("%s: MATCH <propertyIdentifier> <%s>",t.pos,s.token))}),y8e=new G3((t,i)=>{LL&&console.log("%s: T <insertSemi>",t.pos);let o,s=!1;for(o=0;;o++){const a=t.peek(o);if(!xte.includes(a)){a8e.includes(a)&&(s=!0);break}}if(s){const a=h9(t,o+1);if(Dte(t,o+1)||a&&/^(then|else|return|satisfies)$/.test(a.token))return;NL&&console.log("%s: MATCH <insertSemi>",t.pos),t.acceptToken(123)}}),b8e={154:"FunctionInvocation",153:"FilterExpression",152:"PathExpression"},_8e={169:"Context",167:"FunctionDefinition",130:"ForExpression",165:"List",139:"IfExpression",140:"QuantifiedExpression"},E8e={96:"Context",89:"FunctionDefinition",4:"ForExpression",88:"List",19:"IfExpression",23:"QuantifiedExpression",67:"PathExpression",71:"FunctionInvocation",69:"FilterExpression",41:"ArithmeticExpression"};class Yw{constructor(i){this.fn=i}get(i){return this.fn(i)}static of(i){return new Yw(i)}}const Tte=Object.keys({"date and time":1,date:1,time:1,duration:1});class x8e{constructor(i={}){this.value=i}getKeys(){return Object.keys(this.value)}get(i){const o=this.value[i],s=this.constructor;return s.isAtomic(o)?o:s.of(o)}set(i,o){return this.constructor.of({...this.value,[i]:o})}static isAtomic(i){return!i||i instanceof this||i instanceof Yw||"object"!=typeof i}static of(...i){const o=a=>a&&"object"==typeof a?a instanceof this?a.value:{...a}:{};return new this(i.reduce((a,l)=>({...a,...o(l)}),{}))}}class Kw{constructor({name:i="Expressions",tokens:o=[],children:s=[],parent:a=null,context:l=null,value:c=null,raw:u=null}={}){this.name=i,this.tokens=o,this.children=s,this.parent=a,this.context=l,this.value=c,this.raw=u}enterScope(i){const o=this.of({name:i,parent:this});return kf&&console.log("[%s] enter",o.path,o.context),o}exitScope(i){return this.parent?(kf&&console.log("[%s] exit %o\n%s",this.path,this.context,Ste(i,"  ")),this.parent.pushChild(this)):(kf&&console.log("[%s] NO exit %o\n%s",this.path,this.context,Ste(i,"  ")),this)}token(i){return kf&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),i),this.assign({tokens:[...this.tokens,i]})}literal(i){return kf&&console.log("[%s] literal %o",this.path,i),this.pushChild(this.of({name:"Literal",value:i}))}computedValue(){for(let i=this;;i=m5(i.children)){if(!i)return null;if(i.value)return i.value}}contextKeys(){return this.context.getKeys().map(m9)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(i){const o=[i,i&&m9(i)],s=this.context.getKeys().find(l=>o.includes(m9(l)));if(typeof s>"u")return;const a=this.context.get(s);return a instanceof Yw?a.get(this):a}resolveName(){const i=this.tokens.join(" "),s=this.assign({tokens:[]}),a=this.of({name:"VariableName",parent:s,value:this.get(i),raw:i});return kf&&console.log("[%s] resolve name <%s=%s>",a.path,i,this.get(i)),s.pushChild(a)}pushChild(i){if(!i)return this;const o=this.assign({children:[...this.children,i]});return i.parent=o,o}pushChildren(i){let o=this;for(const s of i)o=o.pushChild(s);return o}declareName(){if(0===this.tokens.length)throw Error("no tokens to declare name");const i=this.tokens.join(" ");return kf&&console.log("[%s] declareName <%s>",this.path,i),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:i}))}define(i,o){if("string"!=typeof i)return kf&&console.log("[%s] no define <%s=%s>",this.path,i,o),this;kf&&console.log("[%s] define <%s=%s>",this.path,i,o);const s=this.context.set(i,o);return this.assign({context:s})}assign(i={}){return Kw.of({...this,...i})}of(i={}){return Kw.of({context:this.context,parent:this.parent,...i})}static of(i){const{name:o,tokens:s=[],children:a=[],parent:l=null,context:c,value:u,raw:p}=i;if(!c)throw new Error("must provide <context>");return new Kw({name:o,tokens:[...s],children:[...a],context:c,parent:l,value:u,raw:p})}}function m9(t){return t.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function Pte(t,i,o){const s=t.children.filter(h=>h.name!==i),a=t.children.filter(h=>h.name===i),l=s[0],c=s[Math.max(1,s.length-1)],u=l?.computedValue(),p=c?.computedValue()||null;return t.assign({children:a}).enterScope(i).pushChildren(s).exitScope(o).define(u,p)}const C8e=function w8e(t={},i=x8e){const o=Kw.of({context:i.of(t)});return new a4e({start:o,reduce(s,a,l,c){if(19===a){const[y,E]=s.children.slice(-2);s=s.assign({value:i.of(y?.computedValue(),E?.computedValue())})}if(88===a&&(s=s.assign({value:i.of(...s.children.map(y=>y?.computedValue()))})),69===a){const[y,E]=s.children.slice(-2);s=s.assign({value:y?.computedValue()})}if(71===a){const[y,...E]=s.children;"get value"===y?.raw&&(s=function S8e(t,i){if(!i.length)return t.assign({value:null});if("Name"===i[0].name&&(i=function D8e(t,i){const o={};for(let s=0;s<t.length;s+=2){const[a,l]=t.slice(s,s+2);o[a.value]=l}return i.map(s=>o[s])}(i,["m","key"])),2!==i.length)return t.assign({value:null});const[o,s]=i,a=s?.computedValue(),l=o?.computedValue();return t.assign(l&&"object"==typeof l&&"string"==typeof a?{value:[m9(a),a].reduce((c,u)=>l.get(u)||c,null)}:{value:null})}(s,E))}const u=_8e[a];if(u)return s.enterScope(u);const p=b8e[a];if(p){const{children:y,context:E}=s,C=y.slice(0,-1),D=m5(y);let O=null;return 152===a&&(O=i.of(D?.computedValue())),153===a&&(O=i.of(E,D?.computedValue()).set("item",D?.computedValue())),s.assign({children:C}).enterScope(p).pushChild(D).assign({context:O||E})}const h=c.read(c.pos,l.pos);if(E8e[a])return s.exitScope(h);if(97===a){const y=s.children.filter(D=>"ContextEntry"!==D.name),E=y[0],C=m5(y);return Pte(s,"ContextEntry",h).assign({value:i.of(s.value).set(E?.computedValue(),C?.computedValue())})}if(7===a||27===a)return Pte(s,"InExpression",h);if(138===a)return s.define("partial",Yw.of(y=>m5(y.children)?.computedValue()));if(75===a){const y=m5(s.children).computedValue();return s.define(y,1)}if(144===a||145===a||146===a){const y=s.children.slice(0,-1),E=m5(s.children);return s.assign({children:y}).enterScope("ArithmeticExpression").pushChild(E)}if(147===a)return s.enterScope("ArithmeticExpression");if(9===a||10===a||100===a)return s.token(h);if(79===a)return s.literal(h.replace(/^"|"$/g,""));if(80===a)return s.literal("true"===h);if(78===a)return s.literal(parseFloat(h));if(159===a)return s.literal(null);if(47===a)return s.resolveName();if(8===a||99===a)return s.declareName();if((127===a||37===a)&&s.tokens.length>0)throw new Error("uncleared name");if(127===a){let y=s;for(;y.parent;)y=y.exitScope(h);return y}return s}})}({});function m5(t){return t[t.length-1]}const T8e=ow({StringLiteral:ce.string,NumericLiteral:ce.number,BooleanLiteral:ce.bool,"AtLiteral!":ce.special(ce.string),CompareOp:ce.compareOperator,ArithOp:ce.arithmeticOperator,"for if then else some every satisfies between return":ce.controlKeyword,"in instance of and or":ce.operatorKeyword,function:ce.definitionKeyword,as:ce.keyword,"Type/...":ce.typeName,Wildcard:ce.special(ce.variableName),null:ce.null,LineComment:ce.lineComment,BlockComment:ce.blockComment,'VariableName! "?"':ce.variableName,"DateTimeConstructor! SpecialFunctionName!":ce.function(ce.special(ce.variableName)),"List Interval":ce.list,Context:ce.definition(ce.literal),"Name!":ce.definition(ce.variableName),"Key/Name! ContextEntryType/Name!":ce.definition(ce.propertyName),"PathExpression/VariableName!":ce.function(ce.propertyName),"FormalParameter/ParameterName!":ce.function(ce.definition(ce.variableName)),"( )":ce.paren,"[ ]":ce.squareBracket,"{ }":ce.brace,".":ce.derefOperator,", ;":ce.separator,"..":ce.punctuation}),P8e={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:99,time:101,duration:103,years:105,months:107,date:109,list:115,context:121,function:128,null:154,true:326,false:326,"?":168,external:184,not:209},Mte=iw.deserialize({version:14,states:"CpO`QYOOO`QYOOO$gQYOOOOQU'#Ce'#CeO$qQYO'#C`O%zQYO'#FPOOQQ'#Fe'#FeO&UQYO'#FeO`QYO'#DVOOQU'#Em'#EmO'rQ^O'#D]OOQO'#Fl'#FlO)oQWO'#DuOOQQ'#D|'#D|OOQQ'#D}'#D}OOQQ'#EO'#EOO)tOWO'#ERO)oQWO'#EPOOQQ'#EP'#EPOOQQ'#Fr'#FrOOQQ'#Fp'#FpOOQQ'#Fw'#FwOOQQ'#ET'#ETO`QYO'#EVOOQQ'#FR'#FRO)yQ^O'#FRO+pQYO'#EWO+wQWO'#EXOOQP'#F{'#F{O+|QXO'#E`OOQQ'#Fx'#FxOOQQ'#FQ'#FQQOQWOOOOQQ'#FS'#FSOOQQ'#F]'#F]O`QYO'#CoOOQQ'#F^'#F^O$qQYO'#CsO,XQYO'#DvOOQQ'#Fq'#FqO,^QYO'#EQOOQO'#EQ'#EQO`QYO'#EUO`QYO'#ETOOQO'#Fy'#FyQ,fQWOOO,kQYO'#DRO-bQWO'#FaOOQO'#DT'#DTO-mQYO'#FeO-tQWOOO.kQYO'#CdO.xQYO'#FUOOQQ'#Cc'#CcO.}QYO'#FTOOQQ'#Cb'#CbO/VQYO,58zO`QYO,59iOOQQ'#Fb'#FbOOQQ'#Fc'#FcOOQQ'#Fd'#FdO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fj'#FjO$qQYO,5:]OOQQ'#Fk'#FkO`QYO,5:_O`QYO,59eO`QYO,59gO`QYO,59iO0uQYO,59iO0|QYO,59rOOQQ,5:h,5:hO1RQYO,59qOOQU-E8k-E8kO2uQYO'#FmOOQQ,5:a,5:aOOQQ,5:m,5:mOOQQ,5:k,5:kO2|QYO,5:qOOQQ,5;m,5;mO3WQYO,5:pO3eQWO,5:rO3jQYO,5:sOOQP'#Ed'#EdO4aQXO'#EcOOQO'#Eb'#EbO4hQWO'#EaO4mQWO'#F|O4uQWO,5:zO4zQYO,59ZO.xQYO'#F`OOQQ'#Cw'#CwO5RQYO'#F_OOQQ'#Cv'#CvO5ZQYO,59_O5`QYO,5:bO5eQYO,5:lO3PQYO,5:pO5jQYO,5:oO`QYO'#EvQ,fQWOOO`QYO'#ElO6aQWO,5;{O`QYOOOOQR'#Cf'#CfOOQQ'#Ei'#EiO7ZQYO,59OO`QYO,5;pOOQQ'#FX'#FXO$qQYO'#EjO7kQYO,5;oO`QYO1G.fOOQQ'#F['#F[O8bQYO1G/TO;XQYO1G/]O;cQYO1G/]O;mQYO1G/]OOQQ1G/w1G/wO=aQYO1G/yO=hQYO1G/PO>qQYO1G/RO?zQYO1G/TO`QYO1G/TOOQQ1G/T1G/TO@bQYO1G/^O@|Q^O'#CdOB`QYO'#FoOOQO'#Dy'#DyOBjQWO'#DxOBoQWO'#FnOOQO'#Dw'#DwOOQO'#Dz'#DzOBwQWO,5<XOOQQ1G0]1G0]O`QYO1G0[O`QYO'#ErOB|QWO,5<ZOOQQ1G0^1G0^OCXQWO'#EZOCdQWO'#FzOOQO'#EY'#EYOClQWO1G0_OOQP'#Et'#EtOCqQXO,5:}O`QYO,5:{OCxQXO'#EuODQQWO,5<hOOQQ1G0f1G0fO`QYO1G.uO`QYO,5;zO$qQYO'#EkODYQYO,5;yO`QYO1G.yODbQYO1G/|OOQO1G0W1G0WOOQO,5;b,5;bOOQO-E8t-E8tOOQO,5;W,5;WOOQO-E8j-E8jODgQWOOOOQQ-E8g-E8gODlQYO'#CmOOQQ1G1[1G1[OOQQ,5;U,5;UOOQQ-E8h-E8hODyQYO7+$QOOQQ7+%e7+%eO`QYO7+$oOEpQYO,5:qOE}QWO7+$oOFSQYO'#D[OOQQ'#DZ'#DZOGvQYO'#D^OG{QYO'#D^OHQQYO'#D^OHVQ`O'#DfOH[Q`O'#DiOHaQ`O'#DmOOQQ7+$x7+$xO`QYO,5:dO$qQYO'#EqOHfQWO,5<YOOQQ1G1s1G1sOIlQYO7+%vOIyQYO,5;^OOQO-E8p-E8pO@bQYO,5:uO$qQYO'#EsOJWQWO,5<fOJ`QYO7+%yOOQP-E8r-E8rOJgQYO1G0gOOQO,5;a,5;aOOQO-E8s-E8sOJqQYO7+$aOJxQYO1G1fOOQQ,5;V,5;VOOQQ-E8i-E8iOKSQYO7+$eOOQO7+%h7+%hO`QYO,59XOKyQYO<<HZOOQQ<<HZ<<HZO$qQYO'#EnOMSQYO,59vONvQYO,59xON{QYO,59xO! QQYO,59xO! VQYO,5:QO$qQYO,5:TO! qQbO,5:XO! xQYO1G0OOOQO,5;],5;]OOQO-E8o-E8oO!!SQYO<<IbOOQQ<<Ib<<IbOOQO1G0a1G0aOOQO,5;_,5;_OOQO-E8q-E8qO!%OQYO'#E]OOQQ<<Ie<<IeO`QYO<<IeO`QYO<<G{O!%uQYO1G.sOOQQ,5;Y,5;YOOQQ-E8l-E8lO!&PQYO1G/dOOQQ1G/d1G/dO!&UQbO'#D]O!&gQ`O'#D[O!&rQ`O1G/lO!&wQWO'#DlO!&|Q`O'#FfOOQO'#Dk'#DkO!'UQ`O1G/oOOQO'#Dp'#DpO!'ZQ`O'#FhOOQO'#Do'#DoO!'cQ`O1G/sOOQQAN?PAN?PO!'hQYOAN=gOOQQ7+%O7+%OO!(_Q`O,59vOOQQ7+%W7+%WO! VQYO,5:WO$qQYO'#EoO!(jQ`O,5<QOOQQ7+%Z7+%ZO! VQYO'#EpO!(rQ`O,5<SO!(zQ`O7+%_OOQO1G/r1G/rOOQO,5;Z,5;ZOOQO-E8m-E8mOOQO,5;[,5;[OOQO-E8n-E8nO@bQYO<<HyOOQQAN>eAN>eO$qQYO'#EnO! VQYO<<HyO!)PQ`O7+%_O!)UQ`O1G/sO! qQbO,5:XO!)ZQ`O'#Dm",stateData:"!)h~O#qOS#rOSPOSQOS~OTqOZVO[UOdrOhtOitOs{OvgO!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~OTqO[UOdrOhtOitOs{OvgO!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~OZ!RO#[!SO~P!|O#mRO#nRO~OZ![O[![O]!]O^!]O_!^O`!iOn!fOp!gOr!ZOs!ZOt!hO{!jO!h!dO#y!bOv$`X~O#k#sX$q#sX~P$yO$g!kOT$XXZ$XX[$XXd$XXh$XXi$XXs$XXv$XX!S$XX!T$XX!U$XX!W$XX!b$XX!f$XX!h$XX!o$XX!v$XX#R$XX#m$XX#n$XX$h$XX$i$XX$j$XX~O#mRO#nROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!h!PX#k!PX#o!PX#y!PX$q!PX#}!PXx!PX#|!PX!f!PXe!PXb!PX#Q!PXf!PXl!PX~Ov!nO~O$h^O~O#o!sOZ#uX[#uX]#uX^#uX_#uX`#uXn#uXp#uXr#uXs#uXt#uXv#uX{#uX!h#uX#k#uX#y#uX$q#uX#}#uXx#uX#|#uX!f#uXe#uXb#uX#Q#uXf#uXl#uX~O!f$cP~P`Ov!vO~O#l!wO$h^O#Q$pP~Op#TO~Op#UOv!tX~O$q#XO~O#kuX#}uX$quXxuX#|uX!fuXeuXbuX#QuXfuXluX~P$yO#}#ZO#k$TXx$TX~O#k#ZX~P&UOv#]O~OZ#^O[#^O]#^O^#^O_#^O#mRO#nRO#y#^O#z#^O$ZWX~O`WXxWX#}WX~P-yO`#bO~O#}#cOb#wX~Ob#fO~OTqOZVO[UOdrOhtOitOs{O!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~Ov#pO~P/[O|#rO~O{!jO!h!dO#y!bOZya[ya]ya^ya_ya`yanyapyaryasyatyav$`X#kya$qya#}yaxya#|ya!fyaeyabya#Qyafyalya~Ox$cP~P`Ox#{O#|#|O~P$yO#|#|O#}#}O!f$cX~P$yO!f$PO~O#mRO#nROx$nP~OZ#^O[#^O]#^O^#^O_#^O#l!wO#y#^O#z#^O~O$Z#VX~P3uO$Z$WO~O#}$XO#Q$pX~O#Q$ZO~Oe$[O~P$yO#}$^Ol$RX~Ol$`O~O!V$aO~O!S$bO~O#k!wa$q!wa#}!wax!wa#|!wa!f!wae!wab!wa#Q!waf!wal!wa~P$yO#}#ZO#k$Tax$Ta~OZ#^O[#^O]#^O^#^O_#^O#mRO#nRO#y#^O#z#^O~O`Wa$ZWaxWa#}Wa~P6lO#}#cOb#wa~OZ![O[![O]!]O^!]O_!^O{!jO!h!dO#y!bOv$`X~O`qinqipqirqisqitqi#kqi$qqi#}qixqi#|qi!fqieqibqi#Qqifqilqi~P7sO_!^O{!jO!h!dO#y!bOZyi[yi`yinyipyiryisyityiv$`X#kyi$qyi#}yixyi#|yi!fyieyibyi#Qyifyilyi~O]!]O^!]O~P9kO]yi^yi~P9kO{!jO!h!dO#y!bOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$`X#kyi$qyi#}yixyi#|yi!fyieyibyi#Qyifyilyi~O!f$nO~P$yO`!iOp!gOr!ZOs!ZOt!hOnmi#kmi$qmi#}mixmi#|mi!fmiemibmi#Qmifmilmi~P7sO`!iOr!ZOs!ZOt!hOnoipoi#koi$qoi#}oixoi#|oi!foieoiboi#Qoifoiloi~P7sO`!iOn!fOp$oOr!ZOs!ZOt!hO~P7sO!R$tO!U$uO!W$vO!Z$wO!^$xO!b$yO#mRO#nRO~OZ#aX[#aX]#aX^#aX_#aX`#aXn#aXp#aXr#aXs#aXt#aXv#aXx#aX{#aX!h#aX#m#aX#n#aX#o#aX#y#aX#}#aX~P-yO#}#}Ox$cX~P$yO$Z${O~O#}$|Ox$bX~Ox%OO~O#}#}O!f$cax$ca~O$Z%SOx!}X#}!}X~O#}%TOx$nX~Ox%VO~O$Z#Va~P3uO#l!wO$h^O~O#}$XO#Q$pa~O#}$^Ol$Ra~O!T%aO~OxpO~O#|%bObaX#}aX~P$yO#kSq$qSq#}SqxSq#|Sq!fSqeSqbSq#QSqfSqlSq~P$yOx#{O#|#|O#}uX~P$yOx%dO~O#y%eOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!h!OX#k!OX$q!OX#}!OXx!OX#|!OX!f!OXe!OXb!OX#Q!OXf!OXl!OX~Op%gO~Op%hO~Op%iO~O![%jO~O![%kO~O![%lO~O#}$|Ox$ba~OZ![O[![O]!]O^!]O_!^O`!iOn!fOp!gOr!ZOs!ZOt!hO{!jO#y!bOv$`X~Ox%qO!f%qO!h%pO~PHnO!f#fa#}#fax#fa~P$yO#}%TOx$na~O#O%wO~P`O#Q#Ti#}#Ti~P$yOf%xO~P$yOl$Si#}$Si~P$yO#kgq$qgq#}gqxgq#|gq!fgqegqbgq#Qgqfgqlgq~P$yO`qynqypqyrqysqytqy#kqy$qqy#}qyxqy#|qy!fqyeqybqy#Qqyfqylqy~P7sO#y%eOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!h!Oa#k!Oa$q!Oa#}!Oax!Oa#|!Oa!f!Oae!Oab!Oa#Q!Oaf!Oal!Oa~O!S%|O~O!V%|O~O!S%}O~O!R$tO!U$uO!W$vO!Z$wO!^$xO!b&sO#mRO#nRO~O!X$[P~P! VOx!li#}!li~P$yOT$_XZ$_X[$_X]!xy^!xy_!xy`!xyd$_Xh$_Xi$_Xn!xyp!xyr!xys$_Xt!xyv$_X{!xy!S$_X!T$_X!U$_X!W$_X!b$_X!f$_X!h$_X!o$_X!v$_X#R$_X#k!xy#m$_X#n$_X#y!xy$g$_X$h$_X$i$_X$j$_X$q!xy#}!xyx!xy#|!xye!xyb!xy#Q!xyf!xyl!xy~O#k#PX$q#PX#}#PXx#PX#|#PX!f#PXe#PXb#PX#Q#PXf#PXl#PX~P$yObai#}ai~P$yO!T&]O~O#mRO#nRO!X!PX#y!PX#}!PX~O#y&nO!X!OX#}!OX~O!X&_O~O$Z&`O~O#}&aO!X$YX~O!X&cO~O#}&dO!X$[X~O!X&fO~O#kc!R$qc!R#}c!Rxc!R#|c!R!fc!Rec!Rbc!R#Qc!Rfc!Rlc!R~P$yO#y&nO!X!Oa#}!Oa~O#}&aO!X$Ya~O#}&dO!X$[a~O$]&lO~O$]&oO~O!X&pO~O![&rO~OQP_^$g]#y~",goto:"Du$qPPPP$rP%k%n%t&W'qPPPPPP'zP$rPPP$rPP'}(QP$rP$rP$rPPP(WP(cP$r$rPP(l)R)^)RPPPPPPP)RPP)RP*k*n)RP*t*z$rP$rP$r+R+z+},T+zP,]-U,],].U.}P$r/v$r0o0o1h1kP1qPP0o1w1}.Q2RPP2ZP2^2e2k2q2w4S4^4d4j4p4w4}5T5ZPPPPPPPP5a5j7q8j9c9fPP9jPP9p9s:l;e;h;l;q<`=O=o>hP>kP>o?b@T@|ASAV$rA]A]PPPPBU7qB}CvCyDr!mhOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!YSQ!WSR$k#cS!US#cS#Ou$^W#u!n!v$|%TT&R%k&a#WXOPQWYgjsz{!Z!_!`!a!c!e!f!g!h!i#X#Z#]#a#e#p#r#|#}$W$[$]$`$o${%S%V%b%e%j%l%w%x&O&`&d&l&n&o&rb!TSu!v#c$^$|%T%k&aU#_!T#`#sR#s!nU#_!T#`#sT$U!x$VR$j#aR#SuQ#QuR%^$^U!PQ#]#pQ#q!iR$e#ZQpQQ$g#]R$q#pQ$z#rQ%r%SQ&Q%jU&V%l&d&rQ&g&`T&m&l&oc$s#r%S%j%l&`&d&l&o&r!liOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ#k!cU$r#r%S&lS%z%e&n]&P%j%l&`&d&o&rR&U%kQ&S%kR&h&aQ&Y%lR&q&rS&W%l&rR&j&d!mZOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR#z!nQ#w!nR%n$|S#v!n$|T$Q!v%T!mcOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!lcOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ!p`T!ym$X!maOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mbOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mfOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mnOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR$T!vQ$R!vR%s%TQ%v%VR&Z%wQ!{mR%Y$XT!zm$XS!xm$XT$U!x$VRpQS#`!T#sR$h#`Q#d!WR$l#dQ$_#QR%_$_Q#[!PR$f#[!vYOPQWgjsz{!Z!_!`!a!c!e!f!g!h!i!n#X#Z#]#a#e#p#r#|#}$W$[$]$`$o${%S%V%b%e%w%x&lS!mY&O_&O%j%l&`&d&n&o&rQ%f$rS%{%f&^R&^&PQ&b&SR&i&bQ&e&WR&k&eQ$}#wR%o$}S$O!t#tR%R$OQ%U$RR%t%UQ$V!xR%W$VQ$Y!{R%Z$YQ#Y}R$d#YQpOQ}PR$c#XUTOP#XW!OQ!i#Z#]Q!lWQ!rgQ!tjQ!}sQ#VzQ#W{Q#g!ZQ#h!_Q#i!`Q#j!aQ#l!eQ#m!fQ#n!gQ#o!hQ#t!nQ$i#aQ$m#eQ$p#pQ%P#|Q%Q#}Q%X$WQ%[$[Q%]$]Q%`$`Q%c$oQ%m${S%u%V%wQ%y%bR&[%x!moOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mSOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!XST!VS#cQ#a!UR$]#OR#e!Y!msOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!muOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR#RuT#Pu$^V!QQ#]#p!X!_T!O!r!t!}#V#W#g#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!Z!`T!O!r!t!}#V#W#g#h#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!]!aT!O!r!t!}#V#W#g#h#i#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!mWOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR&T%kT&X%l&r!a!cT!O!l!r!t!}#V#W#g#h#i#j#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!a!eT!O!l!r!t!}#V#W#g#h#i#j#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!m[OPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ!o[R!qaR#x!nQ!ujR#y!n!mdOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mjOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mkOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR$S!v!mmOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!|m",nodeNames:"\u26a0 LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:171,context:C8e,nodeProps:[["closedBy",38,")",70,"]",95,"}"],["openedBy",40,"(",68,"[",94,"{"],["group",-5,77,78,79,80,81,"Literal"]],propSources:[T8e],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:"+l~RuXY#fYZ$ZZ[#f]^$Zpq#fqr$`rs$kwx&cxy&hyz&mz{&r{|'P|}'U}!O'Z!O!P'h!P!Q(Q!Q![){![!]*^!]!^*c!^!_*h!_!`$f!`!a*w!b!c+R!}#O+W#P#Q+]#Q#R&z#o#p+b#q#r+g$f$g#f#BY#BZ#f$IS$I_#f$I|$I}$Z$I}$JO$Z$JT$JU#f$KV$KW#f&FU&FV#f?HT?HU#f~#kY#q~XY#fZ[#fpq#f$f$g#f#BY#BZ#f$IS$I_#f$JT$JU#f$KV$KW#f&FU&FV#f?HT?HU#f~$`O#r~~$cP!_!`$f~$kOr~~$pW$h~OY$kZr$krs%Ys#O$k#O#P%_#P;'S$k;'S;=`&]<%lO$k~%_O$h~~%bRO;'S$k;'S;=`%k;=`O$k~%pX$h~OY$kZr$krs%Ys#O$k#O#P%_#P;'S$k;'S;=`&];=`<%l$k<%lO$k~&`P;=`<%l$k~&hO#z~~&mOv~~&rOx~~&wP^~z{&z~'PO_~~'UO[~~'ZO#}~R'`PZP!`!a'cQ'hO$]Q~'mQ#y~!O!P's!Q!['x~'xO#|~~'}P$g~!Q!['x~(VQ]~z{(]!P!Q)d~(`TOz(]z{(o{;'S(];'S;=`)^<%lO(]~(rVOz(]z{(o{!P(]!P!Q)X!Q;'S(];'S;=`)^<%lO(]~)^OQ~~)aP;=`<%l(]~)iSP~OY)dZ;'S)d;'S;=`)u<%lO)d~)xP;=`<%l)d~*QQ$g~!O!P*W!Q![){~*ZP!Q!['x~*cO$Z~~*hO$q~R*oP![QsP!_!`*rP*wOsPR+OP!XQsP!_!`*r~+WO$j~~+]O!h~~+bO!f~~+gO#R~~+lO#Q~",tokenizers:[v8e,g8e,y8e,0,1],topRules:{Expression:[0,3],Expressions:[1,101],UnaryTests:[2,102]},dynamicPrecedences:{31:-1,71:-1,73:-1},specialized:[{term:121,get:t=>P8e[t]||-1}],tokenPrec:2500});function M8e(t){const i=[];return t.iterate({enter:o=>{const s=o.node;if(!s.type.isError)return;const a=s.parent,l=Ote(s),c={from:s.from,to:s.to,severity:"error",type:"Syntax Error"};if(s.from!==s.to)c.message=`Unrecognized token in <${a.name}>`;else if(l)c.message=`Unrecognized token <${l.name}> in <${a.name}>`,c.to=l.to;else{const u=a.enterUnfinishedNodesBefore(s.to);c.message=`Incomplete <${(u||a).name}>`}i.push(c)}}),i}function Ote(t){return t?t.nextSibling||Ote(t.parent):null}const Ate=()=>t=>0===t.state.doc.length?[]:function kte(t){return[...M8e(t)]}(eo(t.state)).map(s=>({...s,source:s.type})),O8e=WT(Vm.define([{tag:ce.strong,fontWeight:"bold"},{tag:ce.emphasis,fontStyle:"italic"}]));var Rte=[Tn.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}}),O8e];const Ite=t=>`%23${t.slice(1)}`,nr={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},Bs={lightBackground:nr.white,darkBackground:nr.snowWhite,selection:nr.snowWhite,tooltipBackground:nr.offWhite,error:nr.red,warning:nr.yellow,invalid:"#b40000"};var R8e=[Tn.theme({"&":{color:nr.black,backgroundColor:Bs.lightBackground},".cm-content":{caretColor:nr.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:nr.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Bs.selection},".cm-panels":{backgroundColor:Bs.darkBackground,color:nr.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${nr.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${nr.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${nr.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:nr.offWhite},".cm-activeLine":{backgroundColor:Bs.selection},".cm-selectionMatch":{backgroundColor:nr.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${nr.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:nr.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:Bs.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Bs.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Bs.tooltipBackground,borderBottomColor:Bs.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Bs.darkBackground,color:nr.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${Ite(Bs.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${Ite(Bs.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${Bs.warning}`,borderLeft:`5px solid ${Bs.warning}`,background:Bs.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${Bs.error}`,borderLeft:`5px solid ${Bs.error}`,background:Bs.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),WT(Vm.define([{tag:[ce.macroName,ce.variableName],color:nr.waterBlue},{tag:[ce.special(ce.bracket)],color:nr.waterBlue,fontWeight:"bold"},{tag:[ce.color,ce.name,ce.definition(ce.name),ce.constant(ce.name),ce.standard(ce.name),ce.propertyName],color:nr.deepBlue},{tag:[ce.definition(ce.variableName),ce.function(ce.variableName),ce.function(ce.propertyName)],color:nr.brightBlue},{tag:[ce.labelName],color:nr.orangeBrown},{tag:[ce.annotation],color:Bs.invalid},{tag:[ce.number,ce.changed,ce.annotation,ce.modifier,ce.self,ce.namespace,ce.atom,ce.bool,ce.special(ce.variableName)],color:nr.red},{tag:[ce.typeName,ce.className,ce.attributeName],color:nr.lila},{tag:[ce.operator,ce.operatorKeyword,ce.tagName,ce.keyword],color:nr.purple},{tag:[ce.angleBracket,ce.squareBracket,ce.brace,ce.separator,ce.punctuation],color:nr.midGrey},{tag:[ce.regexp],color:nr.deepBlue},{tag:[ce.quote],color:nr.darkGrey},{tag:[ce.string,ce.character,ce.deleted],color:nr.orangeBrown},{tag:ce.link,color:nr.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[ce.url,ce.escape,ce.special(ce.string)],color:nr.red},{tag:[ce.meta],color:nr.iceBlue},{tag:[ce.comment],color:nr.midGrey,fontStyle:"italic"},{tag:ce.strong,fontWeight:"bold",color:nr.deepBlue},{tag:ce.emphasis,fontStyle:"italic",color:nr.deepBlue},{tag:ce.strikethrough,textDecoration:"line-through"},{tag:ce.heading,fontWeight:"bold",color:nr.midGray},{tag:ce.special(ce.heading1),fontWeight:"bold",color:nr.darkGrey},{tag:[ce.heading1,ce.heading2,ce.heading3,ce.heading4],fontWeight:"bold",color:nr.midGrey},{tag:[ce.heading5,ce.heading6,ce.processingInstruction,ce.inserted],color:nr.grey},{tag:[ce.contentSeparator],color:nr.yellow},{tag:ce.invalid,color:nr.midGrey,borderBottom:`1px dotted ${Bs.invalid}`}]))];const FL="#f07178",g5="#fffce1",BL="#ec9e6f",VL="rgba(0, 0, 0, 0.5)",jL="#353a42";var H8e=[Tn.theme({"&":{color:"#ffffff",backgroundColor:"#292d3e"},".cm-content":{caretColor:"#ffcc00"},"&.cm-focused .cm-cursor":{borderLeftColor:"#ffcc00"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"rgba(128, 203, 196, 0.2)"},".cm-panels":{backgroundColor:"#21252b",color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:VL},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:VL},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:jL},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:jL,borderBottomColor:jL},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:VL,color:"#abb2bf"}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='%23fff890' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='red' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-diagnostic-warning":{borderLeft:"5px solid #fff890",background:"#281e16"},"& .cm-diagnostic-error":{borderLeft:"5px solid red",background:"#281616"},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),WT(Vm.define([{tag:ce.heading1,color:g5},{tag:ce.heading2,color:g5},{tag:ce.heading3,color:g5},{tag:ce.heading4,color:g5},{tag:ce.heading5,color:g5},{tag:ce.heading6,color:g5},{tag:ce.special(ce.bracket),color:BL,fontWeight:"bold"},{tag:ce.keyword,color:"#c792ea"},{tag:ce.operator,color:"#89ddff"},{tag:ce.special(ce.variableName),color:"#eeffff"},{tag:ce.typeName,color:"#f07178"},{tag:ce.atom,color:"#f78c6c"},{tag:ce.number,color:"#ff5370"},{tag:ce.bool,color:"#ff5370"},{tag:ce.definition(ce.variableName),color:"#82aaff"},{tag:ce.string,color:"#c3e88d"},{tag:ce.comment,color:"#7d8799"},{tag:ce.tagName,color:"#ff5370"},{tag:ce.bracket,color:"#a2a1a4"},{tag:ce.meta,color:"#ffcb6b"},{tag:ce.special(ce.string),color:FL},{tag:ce.propertyName,color:BL},{tag:ce.variableName,color:BL},{tag:ce.attributeName,color:FL},{tag:ce.className,color:FL},{tag:ce.invalid,color:"#ffffff"}]))];const U8e=[...Rte,...R8e],G8e=[...Rte,...H8e],Y8e=(t,i=0)=>{const o=125===t.peek(i),s=125===t.peek(i+1);return o&&s||-1===t.peek(i)},K8e=new G3((t,i)=>{let o=0;for(;!Y8e(t,o);)o++;o>0&&(t.advance(o),t.acceptToken(2))}),Q8e=(t,i=0)=>{const o=123===t.peek(i),s=123===t.peek(i+1);return o&&s||-1===t.peek(i)},Z8e=new G3((t,i)=>{let o=0;for(;!Q8e(t,o);)o++;o>0&&(t.advance(o),t.acceptToken(3))}),J8e=new G3((t,i)=>{let o=0;for(;-1!==t.peek(o);)o++;o>0&&(t.advance(o),t.acceptToken(1))}),e7e=ow({ConditionalSpanner:ce.special(ce.bracket),ConditionalSpannerClose:ce.special(ce.bracket),ConditionalSpannerCloseNl:ce.special(ce.bracket),LoopSpanner:ce.special(ce.bracket),LoopSpannerClose:ce.special(ce.bracket),LoopSpannerCloseNl:ce.special(ce.bracket),EmptyInsert:ce.special(ce.bracket),Insert:ce.special(ce.bracket)}),Bte=iw.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:"\u26a0 Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[e7e],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,J8e,K8e,Z8e],topRules:{Feelers:[0,4]},tokenPrec:0}),r7e={ConditionalSpanner:Iw,LoopSpanner:Iw};function s7e(t){const i=[];return t.iterate({enter:o=>{"EmptyInsert"===o.type.name&&i.push({from:o.from,to:o.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),i}var c7e=Tee(function l7e(){const t=Ate();return i=>{const o=t(i);if(0===i.state.doc.length)return[];const a=function a7e(t){return[...s7e(t)]}(eo(i.state));return[...o,...a.map(l=>({...l,source:"feelers linter"}))]}}());function v9({container:t,tooltipContainer:i,hostLanguage:o,hostLanguageParser:s,onChange:a=(()=>{}),onKeyDown:l=(()=>{}),onLint:c=(()=>{}),contentAttributes:u={},readOnly:p=!1,value:h="",enableGutters:g=!1,singleLine:y=!1,darkMode:E=!1}){const C=Tn.updateListener.of(q=>{q.docChanged&&a(q.state.doc.toString())}),D=Tn.updateListener.of(q=>{const ee=q.transactions.flatMap(te=>te.effects).filter(te=>te.is(p5));if(!ee.length)return;const ae=ee.flatMap(te=>te.value);c(ae)}),O=Tn.contentAttributes.of(u),A=Tn.domEventHandlers({keydown:l});"string"==typeof i&&(i=document.querySelector(i));const F=i?gZ({tooltipSpace:function(){return i.getBoundingClientRect()}}):[],B=(t=>new IZ(function i7e(t=null){const i=Bte.configure({wrap:q_e(o=>"Feel"==o.name||"FeelBlock"==o.name?{parser:Mte}:t&&"SimpleTextBlock"==o.name?{parser:t}:null),props:[$N.add(r7e)]});return kw.define({parser:i})}(t),[]))(s||o&&("markdown"===o?vSe:null)),j=[KZ(),C,O,PJ(),$Z(),A,Sw.of([...bee]),B,c7e,D,F,E?G8e:U8e,...g?[SZ()]:[],...y?[Pc.transactionFilter.of(q=>q.newDoc.lines>1?[]:q)]:[]];return p&&j.push(Tn.editable.of(!1)),y&&h&&(h=h.toString().split("\n")[0]),this._cmEditor=new Tn({state:Pc.create({doc:h,extensions:j}),parent:t}),this}v9.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})},v9.prototype.focus=function(t){const i=this._cmEditor;if(i.contentDOM.focus(),i.focus(),"number"==typeof t){const o=i.state.doc.length;i.dispatch({selection:{anchor:t<=o?t:o}})}},v9.prototype.getSelection=function(){return this._cmEditor.state.selection};const jte=[Qv("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),Qv("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),Qv("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),Qv("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),Qv("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),Qv("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"})];function Qw(t){const{context:i,after:o,before:s,keyword:a}=t;return function h7e(t,i){const{nodes:o,before:s,after:a,keyword:l}=t;return c=>{const{state:u,pos:p}=c,h=function f7e(t,i){for(Array.isArray(i)||(i=[i]);t;t=t.parent){if(i.includes(t.name))return t;if(t.type.isTop)break}return null}(eo(u).resolveInner(p,-1),o);return!h||zte(h,p,[l,s])||function p7e(t,i,o){return Hte(t,i,o,1)}(h,p,[l,a])||a&&!zte(h,p,[a])?null:i(c)}}({nodes:i,before:s,after:o,keyword:a},JN([{label:a,type:"keyword",boost:10}]))}const $te=[Qw({context:"InExpression",keyword:"in"}),Qw({context:"IfExpression",keyword:"then",after:"if",before:"else"}),Qw({context:"IfExpression",keyword:"else",after:"then"}),Qw({context:"QuantifiedExpression",keyword:"satisfies"}),Qw({context:"ForExpression",after:"InExpressions",keyword:"return"})];function zte(t,i,o){return Hte(t,i,o,-1)}function Hte(t,i,o,s){let a=t[s>0?"childAfter":"childBefore"](i);for(;a;){if(o.includes(a.name))return a;if(a.type.isError&&a.firstChild&&o.includes(a.firstChild.name))return a.firstChild;a=a[s>0?"nextSibling":"prevSibling"]}return null}const y9=kw.define({parser:Mte.configure({props:[FZ.add({Context:VZ({closing:"}"}),"List FilterExpression":VZ({closing:"]"}),"ParenthesizedExpression FunctionInvocation":jN({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":jN({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:jN({except:/^\s*(\(|\))/})}),$N.add({Context:Iw,List:Iw,ParenthesizedExpression:Iw,FunctionDefinition(t){const i=t.getChild(")");return i?{from:i.to,to:t.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}});function b9(t){return t.from===t.to}function _9(t){return!!t&&("PathExpression"===t.name||_9(t.parent))}y9.configure({top:"UnaryTests"}),y9.configure({top:"Expression"});const Ute=[{name:"not(negand)",description:'<p>Returns the logical negation of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">not(negand: boolean): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">not(true)\n// false\n\nnot(null)\n// null\n</code></pre>\n'},{name:"is defined(value)",description:'<p><em>Camunda Extension</em></p>\n<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.\nOtherwise, the function returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is defined(value: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is defined(1)\n// true\n\nis defined(null)\n// false\n\nis defined(x)\n// false - if no variable &quot;x&quot; exists\n\nis defined(x.y)\n// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;\n</code></pre>\n<p>:::caution Breaking change</p>\n<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.\nSince this version, the function returns <code>false</code> if the value is <code>null</code>.</p>\n<p>:::</p>\n'},{name:"get or else(value, default)",description:'<p><em>Camunda Extension</em></p>\n<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get or else(value: Any, default: Any): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)\n// &quot;this&quot;\n\nget or else(null, &quot;default&quot;)\n// &quot;default&quot;\n\nget or else(null, null)\n// null\n</code></pre>\n'},{name:"assert(value, condition)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0)\n// 4 - if x is 4\n// error - if x is less than zero\n</code></pre>\n'},{name:"assert(value, condition, cause)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error containing the given message.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)\n// 4 - if x is 4\n// error(&#39;x&#39; should be positive) - if x is less than zero\n</code></pre>\n'},{name:"get value(context, key)",description:'<p>Returns the value of the context entry with the given key.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, key: string): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)\n// 123\n\nget value({a: 1}, &quot;b&quot;)\n// null\n</code></pre>\n'},{name:"get value(context, keys)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the value of the context entry for a context path defined by the given keys.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>\n<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])\n// 0\n\nget value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])\n// {z:0}\n\nget value({a: {b: 3}}, [&quot;b&quot;])\n// null\n</code></pre>\n'},{name:"get entries(context)",description:'<p>Returns the entries of the context as a list of key-value-pairs.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;\n</code></pre>\n<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get entries({foo: 123})\n// [{key: &quot;foo&quot;, value: 123}]\n</code></pre>\n'},{name:"context put(context, key, value)",description:'<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>\n<p>If an entry for the same key already exists in the context, it overrides the value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, key: string, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"context put(context, keys, value)",description:'<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>\n<p>If an entry for the same keys already exists in the context, it overrides the value.</p>\n<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)\n// {x:1, y:2}\n\ncontext put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n\ncontext put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n</code></pre>\n'},{name:"context merge(contexts)",description:'<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>\n<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context merge([{x:1}, {y:2}])\n// {x:1, y:2}\n\ncontext merge([{x:1, y: 0}, {y:2}])\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"string(from)",description:'<p>Returns the given value as a string representation.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string(from: Any): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string(1.1)\n// &quot;1.1&quot;\n\nstring(date(&quot;2012-12-25&quot;))\n// &quot;2012-12-25&quot;\n</code></pre>\n'},{name:"number(from)",description:'<p>Parses the given string to a number.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">number(from: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">number(&quot;1500.5&quot;)\n// 1500.5\n</code></pre>\n'},{name:"context(entries)",description:'<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>\n<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>\n<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>\n<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context(entries: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])\n// {a:1, b:2}\n</code></pre>\n'},{name:"date(from)",description:'<p>Returns a date from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(from: string): date\n</code></pre>\n<p>Parses the given string into a date.</p>\n<pre><code class="language-feel">date(from: date and time): date\n</code></pre>\n<p>Extracts the date component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(&quot;2018-04-29&quot;)\n// date(&quot;2018-04-29&quot;)\n\ndate(date and time(&quot;2012-12-25T11:00:00&quot;))\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"date(year, month, day)",description:'<p>Returns a date from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(year: number, month: number, day: number): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(2012, 12, 25)\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"time(from)",description:'<p>Returns a time from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(from: string): time\n</code></pre>\n<p>Parses the given string into a time.</p>\n<pre><code class="language-feel">time(from: date and time): time\n</code></pre>\n<p>Extracts the time component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(&quot;12:00:00&quot;)\n// time(&quot;12:00:00&quot;)\n\ntime(date and time(&quot;2012-12-25T11:00:00&quot;))\n// time(&quot;11:00:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second)",description:'<p>Returns a time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(23, 59, 0)\n// time(&quot;23:59:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second, offset)",description:'<p>Returns a time from the given components, including a timezone offset.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))\n// time(&quot;14:30:00+01:00&quot;)\n</code></pre>\n'},{name:"date and time(from)",description:'<p>Parses the given string into a date and time.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(from: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(&quot;2018-04-29T009:30:00&quot;)\n// date and time(&quot;2018-04-29T009:30:00&quot;)\n</code></pre>\n'},{name:"date and time(date, time)",description:'<p>Returns a date and time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date, time: time): date and time\n</code></pre>\n<pre><code class="language-feel">date and time(date: date and time, time: time): date and time\n</code></pre>\n<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-24T23:59:00&quot;)\n\ndate and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-25T23:59:00&quot;)\n</code></pre>\n'},{name:"date and time(date, timezone)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given date and time value at the given timezone.</p>\n<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)\n// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)\n\ndate and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)\n// date and time(&quot;2020-07-31T12:27:30Z&quot;)\n</code></pre>\n'},{name:"duration(from)",description:'<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duration(from: string): days and time duration\n</code></pre>\n<pre><code class="language-feel">duration(from: string): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duration(&quot;P5D&quot;)\n// duration(&quot;P5D&quot;)\n\nduration(&quot;P32Y&quot;)\n// duration(&quot;P32Y&quot;)\n</code></pre>\n'},{name:"years and months duration(from, to)",description:'<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))\n// duration(&quot;P1Y8M&quot;)\n</code></pre>\n'},{name:"list contains(list, element)",description:'<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">list contains(list: list, element: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">list contains([1,2,3], 2)\n// true\n</code></pre>\n'},{name:"count(list)",description:'<p>Returns the number of elements of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">count(list: list): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">count([1,2,3])\n// 3\n</code></pre>\n'},{name:"min(list)",description:'<p>Returns the minimum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">min(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">min([1,2,3])\n// 1\n\nmin(1,2,3)\n// 1\n</code></pre>\n'},{name:"max(list)",description:'<p>Returns the maximum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">max(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">max([1,2,3])\n// 3\n\nmax(1,2,3)\n// 3\n</code></pre>\n'},{name:"sum(list)",description:'<p>Returns the sum of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sum(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sum([1,2,3])\n// 6\n\nsum(1,2,3)\n// 6\n</code></pre>\n'},{name:"product(list)",description:'<p>Returns the product of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">product(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">product([2, 3, 4])\n// 24\n\nproduct(2, 3, 4)\n// 24\n</code></pre>\n'},{name:"mean(list)",description:'<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mean(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mean([1,2,3])\n// 2\n\nmean(1,2,3)\n// 2\n</code></pre>\n'},{name:"median(list)",description:'<p>Returns the median element of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">median(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">median(8, 2, 5, 3, 4)\n// 4\n\nmedian([6, 1, 2, 3])\n// 2.5\n</code></pre>\n'},{name:"stddev(list)",description:'<p>Returns the standard deviation of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">stddev(2, 4, 7, 5)\n// 2.0816659994661326\n\nstddev([2, 4, 7, 5])\n// 2.0816659994661326\n</code></pre>\n'},{name:"mode(list)",description:'<p>Returns the mode of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mode(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mode(6, 3, 9, 6, 6)\n// [6]\n\nmode([6, 1, 9, 6, 1])\n// [1, 6]\n</code></pre>\n'},{name:"all(list)",description:'<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>\n<p>If the given list is empty, it returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">all([true,false])\n// false\n\nall(false,null,true)\n// false\n</code></pre>\n<p>:::info\nThe function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"any(list)",description:'<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>\n<p>If the given list is empty, it returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">any([false,true])\n// true\n\nany(false,null,true)\n// true\n</code></pre>\n<p>:::info\nThe function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"sublist(list, start position)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 2)\n// [2,3]\n</code></pre>\n'},{name:"sublist(list, start position, length)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 1, 2)\n// [1,2]\n</code></pre>\n'},{name:"append(list, items)",description:'<p>Returns the given list with all <code>items</code> appended.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">append(list: list, items: Any): list\n</code></pre>\n<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">append([1], 2, 3)\n// [1,2,3]\n</code></pre>\n'},{name:"concatenate(lists)",description:'<p>Returns a list that includes all elements of the given lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">concatenate(lists: list): list\n</code></pre>\n<p>The parameter <code>lists</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">concatenate([1,2],[3])\n// [1,2,3]\n\nconcatenate([1],[2],[3])\n// [1,2,3]\n</code></pre>\n'},{name:"insert before(list, position, newItem)",description:'<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">insert before([1,3],1,2)\n// [2,1,3]\n</code></pre>\n'},{name:"remove(list, position)",description:'<p>Returns the given list without the element at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">remove(list: list, position: number): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">remove([1,2,3], 2)\n// [1,3]\n</code></pre>\n'},{name:"reverse(list)",description:'<p>Returns the given list in revered order.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">reverse(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">reverse([1,2,3])\n// [3,2,1]\n</code></pre>\n'},{name:"index of(list, match)",description:'<p>Returns an ascending list of positions containing <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">index of([1,2,3,2],2)\n// [2,4]\n</code></pre>\n'},{name:"union(list)",description:'<p>Returns a list that includes all elements of the given lists without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">union(list: list): list\n</code></pre>\n<p>The parameter <code>list</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">union([1,2],[2,3])\n// [1,2,3]\n</code></pre>\n'},{name:"distinct values(list)",description:'<p>Returns the given list without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">distinct values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">distinct values([1,2,3,2,1])\n// [1,2,3]\n</code></pre>\n'},{name:"duplicate values(list)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all duplicate values of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duplicate values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duplicate values([1,2,3,2,1])\n// [1,2]\n</code></pre>\n'},{name:"flatten(list)",description:'<p>Returns a list that includes all elements of the given list without nested lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">flatten(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">flatten([[1,2],[[3]], 4])\n// [1,2,3,4]\n</code></pre>\n'},{name:"sort(list, precedes)",description:'<p>Returns the given list sorted by the <code>precedes</code> function.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)\n// [1,2,3,4,5]\n</code></pre>\n'},{name:"string join(list)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])\n// &quot;abc&quot;\n\nstring join([&quot;a&quot;,null,&quot;c&quot;])\n// &quot;ac&quot;\n\nstring join([])\n// &quot;&quot;\n</code></pre>\n'},{name:"string join(list, delimiter)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string contains a <code>delimiter</code> between each element.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)\n// &quot;a&quot;\n\nstring join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)\n// &quot;a, b, c&quot;\n</code></pre>\n'},{name:"string join(list, delimiter, prefix, suffix)",description:'<p><em>Camunda Extension</em></p>\n<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends\nwith <code>suffix</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)\n// &quot;[a, b, c]&quot;\n</code></pre>\n'},{name:"decimal(n, scale)",description:'<p>Rounds the given value at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">decimal(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">decimal(1/3, 2)\n// .33\n\ndecimal(1.5, 0)\n// 2\n</code></pre>\n'},{name:"floor(n)",description:'<p>Rounds the given value with rounding mode flooring.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(1.5)\n// 1\n\nfloor(-1.5)\n// -2\n</code></pre>\n'},{name:"floor(n, scale)",description:'<p>Rounds the given value with rounding mode flooring at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(-1.56, 1)\n// -1.6\n</code></pre>\n'},{name:"ceiling(n)",description:'<p>Rounds the given value with rounding mode ceiling.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(1.5)\n// 2\n\nceiling(-1.5)\n// -1\n</code></pre>\n'},{name:"ceiling(n, scale)",description:'<p>Rounds the given value with rounding mode ceiling at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(-1.56, 1)\n// -1.5\n</code></pre>\n'},{name:"round up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round up(5.5)\n// 6\n\nround up(-5.5)\n// -6\n\nround up(1.121, 2)\n// 1.13\n\nround up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round down(5.5, 0)\n// 5\n\nround down (-5.5, 0)\n// -5\n\nround down (1.121, 2)\n// 1.12\n\nround down (-1.126, 2)\n// -1.12\n</code></pre>\n'},{name:"round half up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half up(5.5, 0)\n// 6\n\nround half up(-5.5, 0)\n// -6\n\nround half up(1.121, 2)\n// 1.12\n\nround half up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round half down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half down (5.5, 0)\n// 5\n\nround half down (-5.5, 0)\n// -5\n\nround half down (1.121, 2)\n// 1.12\n\nround half down (-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"abs(number)",description:'<p>Returns the absolute value of the given numeric value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(10)\n// 10\n\nabs(-10)\n// 10\n</code></pre>\n'},{name:"modulo(dividend, divisor)",description:'<p>Returns the remainder of the division of dividend by divisor.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">modulo(dividend: number, divisor: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">modulo(12, 5)\n// 2\n</code></pre>\n'},{name:"sqrt(number)",description:'<p>Returns the square root of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sqrt(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sqrt(16)\n// 4\n</code></pre>\n'},{name:"log(number)",description:'<p>Returns the natural logarithm (base e) of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">log(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">log(10)\n// 2.302585092994046\n</code></pre>\n'},{name:"exp(number)",description:'<p>Returns the Euler\u2019s number e raised to the power of the given number .</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">exp(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">exp(5)\n// 148.4131591025766\n</code></pre>\n'},{name:"odd(number)",description:'<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">odd(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">odd(5)\n// true\n\nodd(2)\n// false\n</code></pre>\n'},{name:"even(number)",description:'<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">even(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">even(5)\n// false\n\neven(2)\n// true\n</code></pre>\n'},{name:"random number()",description:'<p><em>Camunda Extension</em></p>\n<p>Returns a random number between <code>0</code> and <code>1</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">random number(): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">random number()\n// 0.9701618132579795\n</code></pre>\n'},{name:"before(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, 10)\n// true\n\nbefore(10, 1)\n// false\n</code></pre>\n'},{name:"before(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], 10)\n// true\n</code></pre>\n'},{name:"before(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, [2..5])\n// true\n</code></pre>\n'},{name:"before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], [6..10])\n// true\n\nbefore([1..5),[5..10])\n// true\n</code></pre>\n'},{name:"after(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(10, 1)\n// true\n\nafter(1, 10)\n// false\n</code></pre>\n'},{name:"after(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([1..5], 10)\n// false\n</code></pre>\n'},{name:"after(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(12, [2..5])\n// true\n</code></pre>\n'},{name:"after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([6..10], [1..5])\n// true\n\nafter([5..10], [1..5))\n// true\n</code></pre>\n'},{name:"meets(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">meets(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">meets([1..5], [5..10])\n// true\n\nmeets([1..3], [4..6])\n// false\n\nmeets([1..3], [3..5])\n// true\n\nmeets([1..5], (5..8])\n// false\n</code></pre>\n'},{name:"met by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">met by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">met by([5..10], [1..5])\n// true\n\nmet by([3..4], [1..2])\n// false\n\nmet by([3..5], [1..3])\n// true\n\nmet by((5..8], [1..5))\n// false\n\nmet by([5..10], [1..5))\n// false\n</code></pre>\n'},{name:"overlaps(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps([5..10], [1..6])\n// true\n\noverlaps((3..7], [1..4])\n// true\n\noverlaps([1..3], (3..6])\n// false\n\noverlaps((5..8], [1..5))\n// false\n\noverlaps([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"overlaps before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps before([1..5], [4..10])\n// true\n\noverlaps before([3..4], [1..2])\n// false\n\noverlaps before([1..3], (3..5])\n// false\n\noverlaps before([1..5), (3..8])\n// true\n\noverlaps before([1..5), [5..10])\n// false\n</code></pre>\n'},{name:"overlaps after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps after([4..10], [1..5])\n// true\n\noverlaps after([3..4], [1..2])\n// false\n\noverlaps after([3..5], [1..3))\n// false\n\noverlaps after((5..8], [1..5))\n// false\n\noverlaps after([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"finishes(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes(5, [1..5])\n// true\n\nfinishes(10, [1..7])\n// false\n</code></pre>\n'},{name:"finishes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes([3..5], [1..5])\n// true\n\nfinishes((1..5], [1..5))\n// false\n\nfinishes([5..10], [1..10))\n// false\n</code></pre>\n'},{name:"finished by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([5..10], 10)\n// true\n\nfinished by([3..4], 2)\n// false\n</code></pre>\n'},{name:"finished by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([1..5], [3..5])\n// true\n\nfinished by((5..8], [1..5))\n// false\n\nfinished by([5..10], (1..10))\n// false\n</code></pre>\n'},{name:"includes(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([5..10], 6)\n// true\n\nincludes([3..4], 5)\n// false\n</code></pre>\n'},{name:"includes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([1..10], [4..6])\n// true\n\nincludes((5..8], [1..5))\n// false\n\nincludes([1..10], [1..5))\n// true\n</code></pre>\n'},{name:"during(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during(5, [1..10])\n// true\n\nduring(12, [1..10])\n// false\n\nduring(1, (1..10])\n// false\n</code></pre>\n'},{name:"during(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during([4..6], [1..10))\n// true\n\nduring((1..5], (1..10])\n// true\n</code></pre>\n'},{name:"starts(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts(1, [1..5])\n// true\n\nstarts(1, (1..8])\n// false\n</code></pre>\n'},{name:"starts(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts((1..5], [1..5])\n// false\n\nstarts([1..10], [1..5])\n// false\n\nstarts((1..5), (1..10))\n// true\n</code></pre>\n'},{name:"started by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], 1)\n// true\n\nstarted by((1..10], 1)\n// false\n</code></pre>\n'},{name:"started by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], [1..5])\n// true\n\nstarted by((1..10], [1..5))\n// false\n\nstarted by([1..10], [1..10))\n// true\n</code></pre>\n'},{name:"coincides(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides(5, 5)\n// true\n\ncoincides(3, 4)\n// false\n</code></pre>\n'},{name:"coincides(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides([1..5], [1..5])\n// true\n\ncoincides((1..5], [1..5))\n// false\n\ncoincides([1..5], [2..6])\n// false\n</code></pre>\n'},{name:"substring(string, start position)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)\n// &quot;obar&quot;\n</code></pre>\n'},{name:"substring(string, start position, length)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number, length: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)\n// &quot;oba&quot;\n</code></pre>\n'},{name:"string length(string)",description:'<p>Returns the number of characters in the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string length(string: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string length(&quot;foo&quot;)\n// 3\n</code></pre>\n'},{name:"upper case(string)",description:'<p>Returns the given value with all characters are uppercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">upper case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">upper case(&quot;aBc4&quot;)\n// &quot;ABC4&quot;\n</code></pre>\n'},{name:"lower case(string)",description:'<p>Returns the given value with all characters are lowercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">lower case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">lower case(&quot;aBc4&quot;)\n// &quot;abc4&quot;\n</code></pre>\n'},{name:"substring before(string, match)",description:'<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring before(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)\n// &quot;foo&quot;\n</code></pre>\n'},{name:"substring after(string, match)",description:'<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring after(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)\n// &quot;ar&quot;\n</code></pre>\n'},{name:"contains(string, match)",description:'<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">contains(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)\n// false\n</code></pre>\n'},{name:"starts with(string, match)",description:'<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)\n// true\n</code></pre>\n'},{name:"ends with(string, match)",description:'<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ends with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern, flags)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)\n// true\n</code></pre>\n'},{name:"replace(input, pattern, replacement)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)\n// &quot;[1=ab][2=]cd&quot;\n\nreplace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)\n// &quot;(012) 345-6789&quot;\n</code></pre>\n'},{name:"replace(input, pattern, replacement, flags)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)\n// &quot;How do you FEEL?&quot;\n</code></pre>\n'},{name:"split(string, delimiter)",description:'<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>delimiter</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )\n// [&quot;John&quot;, &quot;Doe&quot;]\n\nsplit(&quot;a;b;c;;&quot;, &quot;;&quot;)\n// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]\n</code></pre>\n'},{name:"extract(string, pattern)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t\nmatch.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)\n// [&quot;1234&quot;,&quot;1256&quot;]\n</code></pre>\n'},{name:"now()",description:'<p>Returns the current date and time including the timezone.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">now(): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">now()\n// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)\n</code></pre>\n'},{name:"today()",description:'<p>Returns the current date.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">today(): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">today()\n// date(&quot;2020-07-31&quot;)\n</code></pre>\n'},{name:"day of week(date)",description:'<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of week(date: date): string\n</code></pre>\n<pre><code class="language-feel">day of week(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))\n// &quot;Tuesday&quot;\n\nday of week(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;Tuesday&quot;\n</code></pre>\n'},{name:"day of year(date)",description:'<p>Returns the Gregorian number of the day within the year.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">day of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))\n// 260\n\nday of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 260\n</code></pre>\n'},{name:"week of year(date)",description:'<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">week of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">week of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))\n// 38\n\nweek of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 38\n</code></pre>\n'},{name:"month of year(date)",description:'<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">month of year(date: date): string\n</code></pre>\n<pre><code class="language-feel">month of year(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))\n// &quot;September&quot;\n\nmonth of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;September&quot;\n</code></pre>\n'},{name:"abs(n)",description:'<p>Returns the absolute value of a given duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(n: days and time duration): days and time duration\n</code></pre>\n<pre><code class="language-feel">abs(n: years and months duration): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;-P2M&quot;))\n// duration(&quot;P2M&quot;)\n</code></pre>\n'},{name:"last day of month(date)",description:'<p><em>Camunda Extension</em></p>\n<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">last day of month(date: date): date\n</code></pre>\n<pre><code class="language-feel">last day of month(date: date and time): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))\n// date(&quot;2022-10-31&quot;))\n\nlast day of month(date and time(&quot;2022-10-16T12:00:00&quot;))\n// date(&quot;2022-10-31&quot;))\n</code></pre>\n'}].map(t=>{const i=t.name.match(/^([\w\s]+)\((.*)\)$/);return Qv(`${i[1]}(${i[2].split(", ").map(l=>`\${${l}}`).join(", ")})`,{label:t.name,type:"function",info:()=>fi(`<div class="description">${t.description}<div>`),boost:-1})});var y7e=t=>{let i=eo(t.state).resolve(t.pos,-1),o=i.nextSibling;return b9(i)||o&&o.from===t.pos&&b9(o)?t.explicit?{from:t.pos,options:Ute}:null:i.parent&&"VariableName"!==i.parent.name||_9(i)?null:{from:i.from,options:Ute}};const E9=Ht.define();var b7e=t=>{const i=t.state.facet(E9)[0],o=eo(t.state).resolve(t.pos,-1);if(!_9(o))return;const s=function _7e(t){for(;t;){if("PathExpression"===t.name)return t;t=t.parent}}(o),a=o===s?t.pos:o.from,l=zL(s,t);let c=i;for(var u=0;u<l.length-1;u++){var p=c.find(g=>g.name===l[u].name);if(!p)return null;if("optional"!==p.isList&&!!p.isList!==l[u].isList)return;c=p.entries}return c?(c=c.map(g=>({label:g.name,type:"variable",info:g.info,detail:g.detail})),{from:a,options:c}):void 0};function zL(t,i){let o=[];for(let s=t.firstChild;s;s=s.nextSibling)"PathExpression"===s.name?o.push(...zL(s,i)):"FilterExpression"===s.name?o.push(...E7e(s,i)):o.push({name:Gte(s,i),isList:!1});return o}function E7e(t,i){const o=t.firstChild;if("PathExpression"===o.name){const s=zL(o,i);return s[s.length-1].isList=!0,s}return[{name:Gte(o,i),isList:!0}]}function Gte(t,i){return i.state.sliceDoc(t.from,t.to)}var x7e=t=>{const o=t.state.facet(E9)[0].map(u=>({label:u.name,type:"variable",info:u.info,detail:u.detail}));let s=eo(t.state).resolve(t.pos,-1),a=s.nextSibling;if(b9(s)||a&&a.from===t.pos&&b9(a))return t.explicit?{from:t.pos,options:o}:null;const c={from:s.from,options:o};return s.parent&&"VariableName"!==s.parent.name||_9(s)?null:c},S7e=[Tee(Ate())],M7e=[Tn.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),Tn.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),WT(Vm.define([{tag:ce.variableName,class:"variableName"},{tag:ce.name,class:"variableName"},{tag:ce.number,class:"number"},{tag:ce.string,class:"string"},{tag:ce.bool,class:"bool"},{tag:ce.function(ce.variableName),class:"function"},{tag:ce.function(ce.special(ce.variableName)),class:"function"},{tag:ce.controlKeyword,class:"control"},{tag:ce.operatorKeyword,class:"control"}]))];const qte=new uw;function Zw({extensions:t=[],container:i,contentAttributes:o={},tooltipContainer:s,onChange:a=(()=>{}),onKeyDown:l=(()=>{}),onLint:c=(()=>{}),readOnly:u=!1,value:p="",variables:h=[]}){const g=Tn.updateListener.of(O=>{O.docChanged&&a(O.state.doc.toString())}),y=Tn.updateListener.of(O=>{const A=O.transactions.flatMap(N=>N.effects).filter(N=>N.is(p5));if(!A.length)return;const F=A.flatMap(N=>N.value);c(F)}),E=Tn.domEventHandlers({keydown:l});"string"==typeof s&&(s=document.querySelector(s));const C=s?gZ({tooltipSpace:function(){return s.getBoundingClientRect()}}):[],D=[qte.of(E9.of(h)),[N6e({override:[x7e,y7e,JN(jte.map(t=>({...t,boost:-1}))),b7e,...$te]})],KZ(),g,PJ(),Tn.contentAttributes.of(o),$Z(),E,Sw.of([...bee]),new IZ(y9,[]),S7e,y,C,M7e,...t];return u&&D.push(Tn.editable.of(!1)),this._cmEditor=new Tn({state:Pc.create({doc:p,extensions:D}),parent:i}),this}Zw.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})},Zw.prototype.focus=function(t){const i=this._cmEditor;if(i.contentDOM.focus(),i.focus(),"number"==typeof t){const o=i.state.doc.length;i.dispatch({selection:{anchor:t<=o?t:o}})}},Zw.prototype.getSelection=function(){return this._cmEditor.state.selection},Zw.prototype.setVariables=function(t){this._cmEditor.dispatch({effects:qte.reconfigure(E9.of(t))})};var Wte=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],x9=Wte.join(","),Xte=typeof Element>"u",ny=Xte?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,w9=!Xte&&Element.prototype.getRootNode?function(t){var i;return null==t||null===(i=t.getRootNode)||void 0===i?void 0:i.call(t)}:function(t){return t?.ownerDocument},C9=function t(i,o){var s;void 0===o&&(o=!0);var a=null==i||null===(s=i.getAttribute)||void 0===s?void 0:s.call(i,"inert");return""===a||"true"===a||o&&i&&t(i.parentNode)},Yte=function(i,o,s){if(C9(i))return[];var a=Array.prototype.slice.apply(i.querySelectorAll(x9));return o&&ny.call(i,x9)&&a.unshift(i),a.filter(s)},Kte=function t(i,o,s){for(var a=[],l=Array.from(i);l.length;){var c=l.shift();if(!C9(c,!1))if("SLOT"===c.tagName){var u=c.assignedElements(),h=t(u.length?u:c.children,!0,s);s.flatten?a.push.apply(a,h):a.push({scopeParent:c,candidates:h})}else{ny.call(c,x9)&&s.filter(c)&&(o||!i.includes(c))&&a.push(c);var y=c.shadowRoot||"function"==typeof s.getShadowRoot&&s.getShadowRoot(c),E=!C9(y,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(c));if(y&&E){var C=t(!0===y?c.children:y.children,!0,s);s.flatten?a.push.apply(a,C):a.push({scopeParent:c,candidates:C})}else l.unshift.apply(l,c.children)}}return a},Qte=function(i){return!isNaN(parseInt(i.getAttribute("tabindex"),10))},ry=function(i){if(!i)throw new Error("No node provided");return i.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(i.tagName)||function(i){var o,s=null==i||null===(o=i.getAttribute)||void 0===o?void 0:o.call(i,"contenteditable");return""===s||"true"===s}(i))&&!Qte(i)?0:i.tabIndex},A7e=function(i,o){return i.tabIndex===o.tabIndex?i.documentOrder-o.documentOrder:i.tabIndex-o.tabIndex},Zte=function(i){return"INPUT"===i.tagName},Jte=function(i){var o=i.getBoundingClientRect();return 0===o.width&&0===o.height},S9=function(i,o){return!(o.disabled||C9(o)||function(i){return Zte(i)&&"hidden"===i.type}(o)||function(i,o){var s=o.displayCheck,a=o.getShadowRoot;if("hidden"===getComputedStyle(i).visibility)return!0;var l=ny.call(i,"details>summary:first-of-type");if(ny.call(l?i.parentElement:i,"details:not([open]) *"))return!0;if(s&&"full"!==s&&"legacy-full"!==s){if("non-zero-area"===s)return Jte(i)}else{if("function"==typeof a){for(var u=i;i;){var p=i.parentElement,h=w9(i);if(p&&!p.shadowRoot&&!0===a(p))return Jte(i);i=i.assignedSlot?i.assignedSlot:p||h===i.ownerDocument?p:h.host}i=u}if(function(i){var o,c,u,p,s=i&&w9(i),a=null===(o=s)||void 0===o?void 0:o.host,l=!1;if(s&&s!==i)for(l=!!(null!==(c=a)&&void 0!==c&&null!==(u=c.ownerDocument)&&void 0!==u&&u.contains(a)||null!=i&&null!==(p=i.ownerDocument)&&void 0!==p&&p.contains(i));!l&&a;){var h,g,y;l=!(null===(g=a=null===(h=s=w9(a))||void 0===h?void 0:h.host)||void 0===g||null===(y=g.ownerDocument)||void 0===y||!y.contains(a))}return l}(i))return!i.getClientRects().length;if("legacy-full"!==s)return!0}return!1}(o,i)||function(i){return"DETAILS"===i.tagName&&Array.prototype.slice.apply(i.children).some(function(s){return"SUMMARY"===s.tagName})}(o)||function(i){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(i.tagName))for(var o=i.parentElement;o;){if("FIELDSET"===o.tagName&&o.disabled){for(var s=0;s<o.children.length;s++){var a=o.children.item(s);if("LEGEND"===a.tagName)return!!ny.call(o,"fieldset[disabled] *")||!a.contains(i)}return!0}o=o.parentElement}return!1}(o))},HL=function(i,o){return!(function(i){return function(i){return Zte(i)&&"radio"===i.type}(i)&&!function(i){if(!i.name)return!0;var a,o=i.form||w9(i),s=function(u){return o.querySelectorAll('input[type="radio"][name="'+u+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)a=s(window.CSS.escape(i.name));else try{a=s(i.name)}catch(c){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",c.message),!1}var l=function(i,o){for(var s=0;s<i.length;s++)if(i[s].checked&&i[s].form===o)return i[s]}(a,i.form);return!l||l===i}(i)}(o)||ry(o)<0||!S9(i,o))},z7e=function(i){var o=parseInt(i.getAttribute("tabindex"),10);return!!(isNaN(o)||o>=0)},H7e=function t(i){var o=[],s=[];return i.forEach(function(a,l){var c=!!a.scopeParent,u=c?a.scopeParent:a,p=function(i,o){var s=ry(i);return s<0&&o&&!Qte(i)?0:s}(u,c),h=c?t(a.candidates):u;0===p?c?o.push.apply(o,h):o.push(u):s.push({documentOrder:l,tabIndex:p,item:a,isScope:c,content:h})}),s.sort(A7e).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(o)},v5=function(i,o){if(o=o||{},!i)throw new Error("No node provided");return!1!==ny.call(i,x9)&&HL(o,i)},q7e=Wte.concat("iframe").join(","),UL=function(i,o){if(o=o||{},!i)throw new Error("No node provided");return!1!==ny.call(i,q7e)&&S9(o,i)};function ene(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,s)}return o}function tne(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?ene(Object(o),!0).forEach(function(s){W7e(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ene(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function W7e(t,i,o){return i=function Y7e(t){var i=function X7e(t,i){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var s=o.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i),i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}var Jw=function(i){return"Tab"===i?.key||9===i?.keyCode},Z7e=function(i){return Jw(i)&&!i.shiftKey},J7e=function(i){return Jw(i)&&i.shiftKey},rne=function(i){return setTimeout(i,0)},ine=function(i,o){var s=-1;return i.every(function(a,l){return!o(a)||(s=l,!1)}),s},e6=function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return"function"==typeof i?i.apply(void 0,s):i},D9=function(i){return i.target.shadowRoot&&"function"==typeof i.composedPath?i.composedPath()[0]:i.target},eDe=[],tDe=function(i,o){var u,s=o?.document||document,a=o?.trapStack||eDe,l=tne({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Z7e,isKeyBackward:J7e},o),c={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},p=function(fe,ye,Fe){return fe&&void 0!==fe[ye]?fe[ye]:l[Fe||ye]},h=function(fe,ye){var Fe="function"==typeof ye?.composedPath?ye.composedPath():void 0;return c.containerGroups.findIndex(function(_t){var xt=_t.container,Pt=_t.tabbableNodes;return xt.contains(fe)||Fe?.includes(xt)||Pt.find(function(Bt){return Bt===fe})})},g=function(fe){var ye=l[fe];if("function"==typeof ye){for(var Fe=arguments.length,_t=new Array(Fe>1?Fe-1:0),xt=1;xt<Fe;xt++)_t[xt-1]=arguments[xt];ye=ye.apply(void 0,_t)}if(!0===ye&&(ye=void 0),!ye){if(void 0===ye||!1===ye)return ye;throw new Error("`".concat(fe,"` was specified but was not a node, or did not return a node"))}var Pt=ye;if("string"==typeof ye&&!(Pt=s.querySelector(ye)))throw new Error("`".concat(fe,"` as selector refers to no known node"));return Pt},y=function(){var fe=g("initialFocus");if(!1===fe)return!1;if(void 0===fe||!UL(fe,l.tabbableOptions))if(h(s.activeElement)>=0)fe=s.activeElement;else{var ye=c.tabbableGroups[0];fe=ye&&ye.firstTabbableNode||g("fallbackFocus")}if(!fe)throw new Error("Your focus-trap needs to have at least one focusable element");return fe},E=function(){if(c.containerGroups=c.containers.map(function(fe){var ye=function(i,o){var s;return s=(o=o||{}).getShadowRoot?Kte([i],o.includeContainer,{filter:HL.bind(null,o),flatten:!1,getShadowRoot:o.getShadowRoot,shadowRootFilter:z7e}):Yte(i,o.includeContainer,HL.bind(null,o)),H7e(s)}(fe,l.tabbableOptions),Fe=function(i,o){return(o=o||{}).getShadowRoot?Kte([i],o.includeContainer,{filter:S9.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):Yte(i,o.includeContainer,S9.bind(null,o))}(fe,l.tabbableOptions),_t=ye.length>0?ye[0]:void 0,xt=ye.length>0?ye[ye.length-1]:void 0,Pt=Fe.find(function(U){return v5(U)}),Bt=Fe.slice().reverse().find(function(U){return v5(U)}),pe=!!ye.find(function(U){return ry(U)>0});return{container:fe,tabbableNodes:ye,focusableNodes:Fe,posTabIndexesFound:pe,firstTabbableNode:_t,lastTabbableNode:xt,firstDomTabbableNode:Pt,lastDomTabbableNode:Bt,nextTabbableNode:function(Se){var ke=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Pe=ye.indexOf(Se);return Pe<0?ke?Fe.slice(Fe.indexOf(Se)+1).find(function(Be){return v5(Be)}):Fe.slice(0,Fe.indexOf(Se)).reverse().find(function(Be){return v5(Be)}):ye[Pe+(ke?1:-1)]}}}),c.tabbableGroups=c.containerGroups.filter(function(fe){return fe.tabbableNodes.length>0}),c.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(c.containerGroups.find(function(fe){return fe.posTabIndexesFound})&&c.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},C=function Ce(fe){var ye=fe.activeElement;if(ye)return ye.shadowRoot&&null!==ye.shadowRoot.activeElement?Ce(ye.shadowRoot):ye},D=function Ce(fe){if(!1!==fe&&fe!==C(document)){if(!fe||!fe.focus)return void Ce(y());fe.focus({preventScroll:!!l.preventScroll}),c.mostRecentlyFocusedNode=fe,function(i){return i.tagName&&"input"===i.tagName.toLowerCase()&&"function"==typeof i.select}(fe)&&fe.select()}},O=function(fe){var ye=g("setReturnFocus",fe);return ye||!1!==ye&&fe},A=function(fe){var ye=fe.target,Fe=fe.event,_t=fe.isBackward,xt=void 0!==_t&&_t;ye=ye||D9(Fe),E();var Pt=null;if(c.tabbableGroups.length>0){var Bt=h(ye,Fe),pe=Bt>=0?c.containerGroups[Bt]:void 0;if(Bt<0)Pt=xt?c.tabbableGroups[c.tabbableGroups.length-1].lastTabbableNode:c.tabbableGroups[0].firstTabbableNode;else if(xt){var U=ine(c.tabbableGroups,function(Mn){return ye===Mn.firstTabbableNode});if(U<0&&(pe.container===ye||UL(ye,l.tabbableOptions)&&!v5(ye,l.tabbableOptions)&&!pe.nextTabbableNode(ye,!1))&&(U=Bt),U>=0){var ke=c.tabbableGroups[0===U?c.tabbableGroups.length-1:U-1];Pt=ry(ye)>=0?ke.lastTabbableNode:ke.lastDomTabbableNode}else Jw(Fe)||(Pt=pe.nextTabbableNode(ye,!1))}else{var Pe=ine(c.tabbableGroups,function(Mn){return ye===Mn.lastTabbableNode});if(Pe<0&&(pe.container===ye||UL(ye,l.tabbableOptions)&&!v5(ye,l.tabbableOptions)&&!pe.nextTabbableNode(ye))&&(Pe=Bt),Pe>=0){var tt=c.tabbableGroups[Pe===c.tabbableGroups.length-1?0:Pe+1];Pt=ry(ye)>=0?tt.firstTabbableNode:tt.firstDomTabbableNode}else Jw(Fe)||(Pt=pe.nextTabbableNode(ye))}}else Pt=g("fallbackFocus");return Pt},F=function(fe){var ye=D9(fe);if(!(h(ye,fe)>=0)){if(e6(l.clickOutsideDeactivates,fe))return void u.deactivate({returnFocus:l.returnFocusOnDeactivate});e6(l.allowOutsideClick,fe)||fe.preventDefault()}},N=function(fe){var ye=D9(fe),Fe=h(ye,fe)>=0;if(Fe||ye instanceof Document)Fe&&(c.mostRecentlyFocusedNode=ye);else{fe.stopImmediatePropagation();var _t,xt=!0;if(c.mostRecentlyFocusedNode)if(ry(c.mostRecentlyFocusedNode)>0){var Pt=h(c.mostRecentlyFocusedNode),Bt=c.containerGroups[Pt].tabbableNodes;if(Bt.length>0){var pe=Bt.findIndex(function(U){return U===c.mostRecentlyFocusedNode});pe>=0&&(l.isKeyForward(c.recentNavEvent)?pe+1<Bt.length&&(_t=Bt[pe+1],xt=!1):pe-1>=0&&(_t=Bt[pe-1],xt=!1))}}else c.containerGroups.some(function(U){return U.tabbableNodes.some(function(Se){return ry(Se)>0})})||(xt=!1);else xt=!1;xt&&(_t=A({target:c.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(c.recentNavEvent)})),D(_t||c.mostRecentlyFocusedNode||y())}c.recentNavEvent=void 0},j=function(fe){if(function(i){return"Escape"===i?.key||"Esc"===i?.key||27===i?.keyCode}(fe)&&!1!==e6(l.escapeDeactivates,fe))return fe.preventDefault(),void u.deactivate();(l.isKeyForward(fe)||l.isKeyBackward(fe))&&function(fe){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.recentNavEvent=fe;var Fe=A({event:fe,isBackward:ye});Fe&&(Jw(fe)&&fe.preventDefault(),D(Fe))}(fe,l.isKeyBackward(fe))},q=function(fe){var ye=D9(fe);h(ye,fe)>=0||e6(l.clickOutsideDeactivates,fe)||e6(l.allowOutsideClick,fe)||(fe.preventDefault(),fe.stopImmediatePropagation())},ee=function(){if(c.active)return function(i,o){if(i.length>0){var s=i[i.length-1];s!==o&&s.pause()}var a=i.indexOf(o);-1===a||i.splice(a,1),i.push(o)}(a,u),c.delayInitialFocusTimer=l.delayInitialFocus?rne(function(){D(y())}):D(y()),s.addEventListener("focusin",N,!0),s.addEventListener("mousedown",F,{capture:!0,passive:!1}),s.addEventListener("touchstart",F,{capture:!0,passive:!1}),s.addEventListener("click",q,{capture:!0,passive:!1}),s.addEventListener("keydown",j,{capture:!0,passive:!1}),u},ae=function(){if(c.active)return s.removeEventListener("focusin",N,!0),s.removeEventListener("mousedown",F,!0),s.removeEventListener("touchstart",F,!0),s.removeEventListener("click",q,!0),s.removeEventListener("keydown",j,!0),u},ne=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(function(fe){fe.some(function(Fe){return Array.from(Fe.removedNodes).some(function(xt){return xt===c.mostRecentlyFocusedNode})})&&D(y())}):void 0,he=function(){ne&&(ne.disconnect(),c.active&&!c.paused&&c.containers.map(function(fe){ne.observe(fe,{subtree:!0,childList:!0})}))};return(u={get active(){return c.active},get paused(){return c.paused},activate:function(fe){if(c.active)return this;var ye=p(fe,"onActivate"),Fe=p(fe,"onPostActivate"),_t=p(fe,"checkCanFocusTrap");_t||E(),c.active=!0,c.paused=!1,c.nodeFocusedBeforeActivation=s.activeElement,ye?.();var xt=function(){_t&&E(),ee(),he(),Fe?.()};return _t?(_t(c.containers.concat()).then(xt,xt),this):(xt(),this)},deactivate:function(fe){if(!c.active)return this;var ye=tne({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},fe);clearTimeout(c.delayInitialFocusTimer),c.delayInitialFocusTimer=void 0,ae(),c.active=!1,c.paused=!1,he(),function(i,o){var s=i.indexOf(o);-1!==s&&i.splice(s,1),i.length>0&&i[i.length-1].unpause()}(a,u);var Fe=p(ye,"onDeactivate"),_t=p(ye,"onPostDeactivate"),xt=p(ye,"checkCanReturnFocus"),Pt=p(ye,"returnFocus","returnFocusOnDeactivate");Fe?.();var Bt=function(){rne(function(){Pt&&D(O(c.nodeFocusedBeforeActivation)),_t?.()})};return Pt&&xt?(xt(O(c.nodeFocusedBeforeActivation)).then(Bt,Bt),this):(Bt(),this)},pause:function(fe){if(c.paused||!c.active)return this;var ye=p(fe,"onPause"),Fe=p(fe,"onPostPause");return c.paused=!0,ye?.(),ae(),he(),Fe?.(),this},unpause:function(fe){if(!c.paused||!c.active)return this;var ye=p(fe,"onUnpause"),Fe=p(fe,"onPostUnpause");return c.paused=!1,ye?.(),E(),ee(),he(),Fe?.(),this},updateContainerElements:function(fe){var ye=[].concat(fe).filter(Boolean);return c.containers=ye.map(function(Fe){return"string"==typeof Fe?s.querySelector(Fe):Fe}),c.active&&E(),he(),this}}).updateContainerElements(i),u},t6=function(i){return X("svg",{...i,children:X("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};t6.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var one=function(i){return X("svg",{...i,children:[X("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),X("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),X("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};one.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var WL=function(i){return X("svg",{...i,children:X("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};WL.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var sne=function(i){return X("svg",{...i,children:X("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};sne.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var XL=function(i){return X("svg",{...i,children:[X("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"}),X("circle",{cx:"16",cy:"23.5",r:"1.5"}),X("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"}),X("path",{style:{fill:"none"},d:"M0 0h32v32H0z"})]})};XL.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var ane=function(i){return X("svg",{...i,children:[X("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),X("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};function nDe(t){const{element:i,headerProvider:o}=t,{getElementIcon:s,getDocumentationRef:a,getElementLabel:l,getTypeLabel:c}=o,u=l(i),p=c(i),h=a&&a(i),g=s(i);return X("div",{class:"bio-properties-panel-header",children:[X("div",{class:"bio-properties-panel-header-icon",children:g&&X(g,{width:"32",height:"32",viewBox:"0 0 32 32"})}),X("div",{class:"bio-properties-panel-header-labels",children:[X("div",{title:p,class:"bio-properties-panel-header-type",children:p}),u?X("div",{title:u,class:"bio-properties-panel-header-label",children:u}):null]}),X("div",{class:"bio-properties-panel-header-actions",children:h?X("a",{rel:"noopener",class:"bio-properties-panel-header-link",href:h,title:"Open documentation",target:"_blank",children:X(WL,{})}):null})]})}ane.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};const lne=Cm({description:{},getDescriptionForId:()=>{}}),YL=Cm({errors:{}}),cne=Cm({eventBus:null}),C0=Cm({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),une=Cm({tooltip:{},getTooltipForId:()=>{}});function zm(t){const{forId:i,element:o}=t,s=function rDe(t,i){const{getTooltipForId:o}=ml(une);return o(t,i)}(i,o),a=t.value||s;return a?X(iDe,{...t,value:a,forId:aDe(i)}):t.children}function iDe(t){const{forId:i,value:o,parent:s,direction:a="right",position:l}=t,[c,u]=Yn(!1),[p,h]=Yn(!1);let g=null;const y=wi(null),E=wi(null),C=function(){var N=Ye(function*(B){const j=()=>u(!0);!c&&!g&&(B instanceof MouseEvent?g=setTimeout(j,200):(j(),h(!0)))});return function(j){return N.apply(this,arguments)}}(),D=()=>{u(!1),h(!1)};fn(()=>{const{current:N}=y;if(!N)return;const B=q=>{const ee=document.activeElement===y.current||document.activeElement.closest(".bio-properties-panel-tooltip");c&&!(({x:N,y:B})=>{const j=E.current;return j&&(dne(N,B,y.current.getBoundingClientRect())||dne(N,B,j.getBoundingClientRect()))})({x:q.x,y:q.y})&&(!ee||!p)&&D()},j=q=>{const{relatedTarget:ee}=q;c&&!function sDe(t){return t.matches(":hover")}(y.current)&&ee&&!ee.closest(".bio-properties-panel-tooltip")&&D()};return document.addEventListener("wheel",B),document.addEventListener("focusout",j),document.addEventListener("mousemove",B),()=>{document.removeEventListener("wheel",B),document.removeEventListener("mousemove",B),document.removeEventListener("focusout",j)}},[y.current,c,p]);const F=()=>X("div",{class:`bio-properties-panel-tooltip ${a}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":i,style:l||oDe(y.current),ref:E,onClick:N=>N.stopPropagation(),children:[X("div",{class:"bio-properties-panel-tooltip-content",children:o}),X("div",{class:"bio-properties-panel-tooltip-arrow"})]});return X("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:y,onMouseEnter:C,onMouseLeave:()=>{clearTimeout(g),g=null},onFocus:C,onKeyDown:N=>{"Escape"===N.code&&D()},children:[t.children,c?s?EI(F(),s.current):F():null]})}function dne(t,i,o){const{top:s,right:a,bottom:l,left:c}=o;return t>=c&&t<=a&&i>=s&&i<=l}function oDe(t){const i=t.getBoundingClientRect();return`right: calc(100% - ${i.x}px); top: ${i.top-10+"px"};`}function aDe(t){return`bio-properties-panel-${t}`}function iy(t){const{errors:i}=ml(YL);return i[t]}function n6(t,i,o){const s=ml(cne);o||({eventBus:o}=s);const a=wi(!1);o&&!a.current&&o.on(t,i),fn(()=>(o&&a.current&&o.on(t,i),a.current=!0,()=>{o&&o.off(t,i)}),[i,t,o])}function oy(t){const i=wi();return fn(()=>{i.current=t}),i.current}function y5(t){const{onShow:i}=ml(C0),o=wi(),s=wi(!1),a=Yl(l=>{l.id===t&&(i(),s.current||(s.current=!0))},[t]);return fn(()=>{s.current&&o.current&&(Vr(o.current.focus)&&o.current.focus(),Vr(o.current.select)&&o.current.select(),s.current=!1)}),n6("propertiesPanel.showEntry",a),o}function Hm(t){const i=wi(t);return i.current=t,Yl((...o)=>i.current(...o),[])}function hr(t){const{element:i,entries:o=[],id:s,label:a,shouldOpen:l=!1}=t,c=wi(null),[u,p]=function fne(t,i){const{getLayoutForKey:o,setLayoutForKey:s}=ml(C0);return[o(t,i),Yl(c=>{s(t,c)},[s])]}(["groups",s,"open"],l),h=Yl(()=>p(!0),[p]),[y,E]=Yn(!1),[C,D]=Yn(!1);fn(()=>{const N=requestAnimationFrame(()=>{const B=o.find(j=>{const{id:q,isEdited:ee}=j,ae=tr(`[data-entry-id="${q}"]`);return!(!Vr(ee)||!ae)&&ee(tr(".bio-properties-panel-input",ae))});E(B)});return()=>cancelAnimationFrame(N)},[o,E]);const O=function pne(){const{errors:t}=ml(YL);return t}(),A=o.some(N=>O[N.id]);!function hne(t,i,o){const[s,a]=Yn(tr(i)),l=Yl(()=>{const c=tr(i);c!==s&&a(c)},[i,s]);fn(()=>{l()},[l]),n6("propertiesPanel.attach",l),n6("propertiesPanel.detach",l),fn(()=>{const c=IntersectionObserver;if(!c||!t.current||!s)return;const u=new c(p=>{0!==s.scrollHeight&&p.forEach(h=>{h.intersectionRatio<1?o(!0):1===h.intersectionRatio&&o(!1)})},{root:s,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return u.observe(t.current),()=>{u.unobserve(t.current)}},[t.current,s,o])}(c,"div.bio-properties-panel-scroll-container",D);const F={...ml(C0),onShow:h};return X("div",{class:"bio-properties-panel-group","data-group-id":"group-"+s,ref:c,children:[X("div",{class:Vi()("bio-properties-panel-group-header",y?"":"empty",u?"open":"",C&&u?"sticky":""),onClick:()=>p(!u),children:[X("div",{title:t.tooltip?null:a,"data-title":a,class:"bio-properties-panel-group-header-title",children:X(zm,{value:t.tooltip,forId:"group-"+s,element:i,parent:c,children:a})}),X("div",{class:"bio-properties-panel-group-header-buttons",children:[X(dDe,{edited:y,hasErrors:A}),X("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:X(t6,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),X("div",{class:Vi()("bio-properties-panel-group-entries",u?"open":""),children:X(C0.Provider,{value:F,children:o.map(N=>{const{component:B,id:j}=N;return Xl(B,{...N,element:i,key:j})})})})]})}function dDe(t){const{edited:i,hasErrors:o}=t;return o?X("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):i?X("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function mne(t){const{text:i,icon:o}=t;return X("div",{class:"bio-properties-panel open",children:X("section",{class:"bio-properties-panel-placeholder",children:[o&&X(o,{class:"bio-properties-panel-placeholder-icon"}),X("p",{class:"bio-properties-panel-placeholder-text",children:i})]})})}function Um(t){const{element:i,forId:o,value:s}=t,a=function lDe(t,i){const{getDescriptionForId:o}=ml(lne);return o(t,i)}(o,i),l=s||a;if(l)return X("div",{class:"bio-properties-panel-description",children:l})}const gne=()=>{},KL=wf((t,i)=>{const{onInput:o,disabled:s,tooltipContainer:a,enableGutters:l,value:c,onLint:u=gne,onPopupOpen:p=gne,popupOpen:h,contentAttributes:g={},hostLanguage:y=null,singleLine:E=!1}=t,C=wi(),[D,O]=Yn(),[A,F]=Yn(c||"");!function(t,i){const[o,s]=Yn(void 0);i.current=Ia(()=>({focus:a=>{t?t.focus(a):(typeof a>"u"&&(a=1/0),s(a))}}),[t]),fn(()=>{typeof o<"u"&&t&&(t.focus(o),s(!1))},[t,o])}(D,i);const N=Hm(j=>{o(j),F(j)});return fn(()=>{let j;return j=new v9({container:C.current,onChange:N,value:A,onLint:u,contentAttributes:g,tooltipContainer:a,enableGutters:l,hostLanguage:y,singleLine:E}),O(j),()=>{u([]),C.current.innerHTML="",O(null)}},[]),fn(()=>{D&&c!==A&&(D.setValue(c),F(c))},[c]),X("div",{class:Vi()("bio-properties-panel-feelers-editor-container",h?"popupOpen":null),children:[X("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),X("div",{name:t.name,class:Vi()("bio-properties-panel-feelers-editor bio-properties-panel-input",A?"edited":null,s?"disabled":null),ref:C,onClick:()=>{i.current.focus()}}),X("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>p("feelers"),children:X(WL,{})})]})}),QL=()=>{},vne=wf((t,i)=>{const{contentAttributes:o,enableGutters:s,value:a,onInput:l,onFeelToggle:c=QL,onLint:u=QL,onPopupOpen:p=QL,popupOpen:h,disabled:g,tooltipContainer:y,variables:E}=t,C=wi(),[D,O]=Yn(),[A,F]=Yn(a||"");!function(t,i){const[o,s]=Yn(void 0);i.current=Ia(()=>({focus:a=>{t?t.focus(a):(typeof a>"u"&&(a=1/0),s(a))}}),[t]),fn(()=>{typeof o<"u"&&t&&(t.focus(o),s(!1))},[t,o])}(D,i);const N=Hm(j=>{l(j),F(j)});return fn(()=>{let j;return j=new Zw({container:C.current,onChange:N,onKeyDown:ee=>{if("Backspace"!==ee.key||!j)return;const ae=j.getSelection(),te=ae.ranges[ae.mainIndex];0===te.from&&0===te.to&&c()},onLint:u,tooltipContainer:y,value:A,variables:E,extensions:[...s?[SZ()]:[],Tn.lineWrapping],contentAttributes:o}),O(j),()=>{u([]),C.current.innerHTML="",O(null)}},[]),fn(()=>{D&&a!==A&&(D.setValue(a),F(a))},[a]),fn(()=>{D&&D.setVariables(E)},[E]),X("div",{class:Vi()("bio-properties-panel-feel-editor-container",g?"disabled":null,h?"popupOpen":null),children:[X("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),X("div",{name:t.name,class:Vi()("bio-properties-panel-input",A?"edited":null),ref:C,onClick:()=>{i.current.focus()}}),X("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>p(),children:X(ane,{})})]})});function hDe(t){const{active:i}=t;return i?X("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const mDe=()=>{};function gDe(t){const{feel:i=!1,active:o,disabled:s=!1,onClick:a=mDe}=t,c=`Click to ${o?"remove":"set a"} dynamic value with FEEL expression`;return X("button",{type:"button",class:Vi()("bio-properties-panel-feel-icon",o?"active":null,"required"===i?"required":"optional"),onClick:p=>{a(p),p.pointerType||p.stopPropagation()},disabled:"required"===i||s,title:"required"===i?"FEEL expression is mandatory":c,children:X(sne,{})})}const ZL=Cm({open:()=>{},close:()=>{},source:null});function T9(t){t.preventDefault(),t.stopPropagation()}const yne=()=>{},sy=wf(function bDe(t,i){const{container:o,className:s,delayInitialFocus:a,position:l,width:c,height:u,onClose:p,onPostActivate:h=yne,onPostDeactivate:g=yne,returnFocus:y=!0,closeOnEscape:E=!0,title:C}=t,D=wi(null),O=wi(null),A=i||O,F=Ia(()=>function CDe(t){return"string"==typeof t?tr(t):t}(o),[o]),B=()=>{D.current&&D.current.activate()};let j={};return l&&(j={...j,top:l.top+"px",left:l.left+"px"}),c&&(j.width=c+"px"),u&&(j.height=u+"px"),fn(()=>(A.current&&A.current.addEventListener("focusin",B),()=>{A.current.removeEventListener("focusin",B)}),[A]),fn(()=>(A.current&&(D.current=tDe(A.current,{clickOutsideDeactivates:!0,delayInitialFocus:a,fallbackFocus:A.current,onPostActivate:h,onPostDeactivate:g,returnFocusOnDeactivate:y}),D.current.activate()),()=>D.current&&D.current.deactivate()),[A]),n6("propertiesPanel.detach",p),EI(X("div",{"aria-label":C,tabIndex:-1,ref:A,onKeyDown:q=>{q.stopPropagation(),E&&"Escape"===q.key&&p()},role:"dialog",class:Vi()("bio-properties-panel-popup",s),style:j,children:t.children}),F||document.body)});function bne(t){return t.closest(".bio-properties-panel-popup")}sy.Title=function _De(t){const{children:i,className:o,draggable:s,emit:a=(()=>{}),title:l,...c}=t,u=wi({startPosition:null,newPosition:null}),p=wi(),h=wi(),g=(C,D)=>{!function wDe(t){t.preventDefault(),t.stopPropagation()}(C);const{x:O,y:A}=D,F={x:u.current.startPosition.x+O,y:u.current.startPosition.y+A},N=bne(h.current);N.style.top=F.y+"px",N.style.left=F.x+"px",a("dragover",{newPosition:F,delta:D})};return X("div",{class:Vi()("bio-properties-panel-popup__header",s&&"draggable",o),ref:h,draggable:s,onDragStart:C=>{(function vDe(t,i){let o,s,a;function c(p){return t.call(o,p,{x:p.clientX-s,y:p.clientY-a})}function u(){document.removeEventListener("dragover",c,!0),document.removeEventListener("dragenter",T9,!0),document.removeEventListener("dragend",u),document.removeEventListener("drop",T9)}return function l(p){o=this,s=p.clientX,a=p.clientY,p.dataTransfer&&p.dataTransfer.setDragImage(i||function yDe(){return fi('<canvas width="0" height="0" />')}(),0,0),document.addEventListener("dragover",c,!0),document.addEventListener("dragenter",T9,!0),document.addEventListener("dragend",u),document.addEventListener("drop",T9)}})(g,p.current)(C),C.stopPropagation();const A=bne(h.current).getBoundingClientRect();u.current.startPosition={x:A.left,y:A.top},a("dragstart")},onDragEnd:()=>{u.current.newPosition=null,a("dragend")},...c,children:[s&&X(Nd,{children:[X("div",{ref:p,class:"bio-properties-panel-popup__drag-preview"}),X("div",{class:"bio-properties-panel-popup__drag-handle",children:X(one,{})})]}),X("div",{class:"bio-properties-panel-popup__title",children:l}),i]})},sy.Body=function EDe(t){const{children:i,className:o,...s}=t;return X("div",{class:Vi()("bio-properties-panel-popup__body",o),...s,children:i})},sy.Footer=function xDe(t){const{children:i,className:o,...s}=t;return X("div",{class:Vi()("bio-properties-panel-popup__footer",o),...s,children:t.children})};const _ne=700,SDe=250;function DDe(t){const{element:i,eventBus:o={fire(){},on(){},off(){}},popupContainer:s}=t,a=oy(i),[l,c]=Yn({}),[u,p]=Yn(!1),[h,g]=Yn(null),[y,E]=Yn(null),C=(N,B)=>{o.fire("feelPopup."+N,B)},D=Yl(()=>!!u,[u]);!function MDe(t,i){const o=wi(!1);fn(()=>{if(o.current)return t();o.current=!0},i)}(()=>{u||C("closed")},[u]);const O=(N,B,j)=>{g(N),c(B),p(!0),E(j),C("open")},A=(N={})=>{const{id:B}=N;B&&B!==h||(p(!1),g(null))},F={open:O,close:A,source:h};return fn(()=>{i&&a&&i!==a&&A()},[i]),fn(()=>{const B=()=>D();return o.on("feelPopup._close",A),o.on("feelPopup._open",j=>{const{entryId:q,popupConfig:ee,sourceElement:ae}=j;O(q,ee,ae)}),o.on("feelPopup._isOpen",B),()=>{o.off("feelPopup._close",A),o.off("feelPopup._open",O),o.off("feelPopup._isOpen",B)}},[o,D]),X(ZL.Provider,{value:F,children:[u&&X(TDe,{onClose:A,container:s,sourceElement:y,emit:C,...l}),t.children]})}function TDe(t){const{container:i,id:o,hostLanguage:s,onInput:a,onClose:l,position:c,singleLine:u,sourceElement:p,title:h,tooltipContainer:g,type:y,value:E,variables:C,emit:D}=t,O=wi(),A=wi(),F=wi(!1);return fn(()=>(D("opened",{domNode:A.current}),()=>D("close",{domNode:A.current})),[]),fn(()=>{O.current&&O.current.focus()},[O]),X(sy,{container:i,className:"bio-properties-panel-feel-popup",emit:D,position:c,title:h,onClose:l,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:()=>{p&&p.focus()},height:SDe,width:_ne,ref:A,children:[X(sy.Title,{title:h,emit:D,draggable:!0,children:["feel"===y&&X("a",{href:"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn FEEL expressions",X(XL,{})]}),"feelers"===y&&X("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn templating",X(XL,{})]})]}),X(sy.Body,{children:X("div",{onKeyDownCapture:q=>{"Escape"===q.key&&(F.current=function PDe(t){return t.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}(q.target))},onKeyDown:q=>{"Escape"===q.key&&(F.current||(l(),F.current=!1))},class:"bio-properties-panel-feel-popup__body",children:["feel"===y&&X(vne,{enableGutters:!0,id:Ene(o),name:o,onInput:a,value:E,variables:C,ref:O,tooltipContainer:g}),"feelers"===y&&X(KL,{id:Ene(o),contentAttributes:{"aria-label":h},enableGutters:!0,hostLanguage:s,name:o,onInput:a,value:E,ref:O,singleLine:u,tooltipContainer:g})]})}),X(sy.Footer,{children:X("button",{type:"button",onClick:()=>l(),title:"Close pop-up editor",class:"bio-properties-panel-feel-popup__close-btn",children:"Close"})})]})}function Ene(t){return`bio-properties-panel-${t}`}function xne(t){const{id:i,label:o,onInput:s,value:a,switcherLabel:l,inline:c,onFocus:u,onBlur:p,inputRef:h,tooltip:g}=t,[y,E]=Yn(a),C=function(){var O=Ye(function*(){s(!a)});return function(){return O.apply(this,arguments)}}();return fn(()=>{a!==y&&E(a)},[a]),X("div",{class:Vi()("bio-properties-panel-toggle-switch",{inline:c}),children:[X("label",{class:"bio-properties-panel-label",for:Sne(i),children:X(zm,{value:g,forId:i,element:t.element,children:o})}),X("div",{class:"bio-properties-panel-field-wrapper",children:[X("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[X("input",{ref:h,id:Sne(i),class:"bio-properties-panel-input",type:"checkbox",onFocus:u,onBlur:p,name:i,onInput:O=>{C(),E(O.target.value)},checked:!!y}),X("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),l&&X("p",{class:"bio-properties-panel-toggle-switch__label",children:l})]})]})}function Sne(t){return`bio-properties-panel-${t}`}function Dne(t){const{debounce:i,disabled:o,displayLabel:s=!0,id:a,inputRef:l,label:c,max:u,min:p,onInput:h,step:g,value:y="",onFocus:E,onBlur:C}=t,[D,O]=Yn(y),A=Ia(()=>i(N=>{N.validity.valid&&h(N.value?parseFloat(N.value):void 0)}),[h,i]);return fn(()=>{y!==D&&O(y)},[y]),X("div",{class:"bio-properties-panel-numberfield",children:[s&&X("label",{for:Tne(a),class:"bio-properties-panel-label",children:c}),X("input",{id:Tne(a),ref:l,type:"number",name:a,spellCheck:"false",autoComplete:"off",disabled:o,class:"bio-properties-panel-input",max:u,min:p,onInput:N=>{A(N.target),O(N.target.value)},onFocus:E,onBlur:C,step:g,value:D})]})}function Tne(t){return`bio-properties-panel-${t}`}const RDe=wf((t,i)=>{const{id:o,disabled:s,onInput:a,value:l,onFocus:c,onBlur:u}=t,p=wi();return i.current={focus:h=>{const g=p.current;g&&(g.focus(),"number"==typeof h&&(h>l.length&&(h=l.length),g.setSelectionRange(h,h)))}},X("input",{id:_5(o),type:"text",ref:p,name:o,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:h=>a(h.target.value),onFocus:c,onBlur:u,value:l||""})});function _5(t){return`bio-properties-panel-${t}`}function BDe(t){const{top:i,left:o}=t.getBoundingClientRect();return{left:o-_ne-20,top:i}}function VDe(t,i){let o="";return t&&t.type&&(o=`${t.type} / `),`${o}${i}`}wf((t,i)=>{const{id:o,debounce:s,disabled:a,onInput:l,value:c,min:u,max:p,step:h,onFocus:g,onBlur:y}=t,E=wi();return i.current={focus:C=>{const D=E.current;D&&(D.focus(),"number"==typeof C&&C!==1/0&&(C>c.length&&(C=c.length),D.setSelectionRange(C,C)))}},X(Dne,{id:o,debounce:s,disabled:a,displayLabel:!1,inputRef:E,max:p,min:u,onInput:l,step:h,value:c,onFocus:g,onBlur:y})}),wf((t,i)=>{const{id:o,disabled:s,onInput:a,value:l,onFocus:c,onBlur:u}=t,p=wi();return i.current={focus:()=>{const h=p.current;h&&(h.focus(),h.setSelectionRange(0,0))}},X("textarea",{id:_5(o),type:"text",ref:p,name:o,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:h=>a(h.target.value),onFocus:c,onBlur:u,value:l||"","data-gramm":"false"})}),wf((t,i)=>{const{id:o,onInput:s,value:a,onFocus:l,onBlur:c,switcherLabel:u}=t,p=wi();return i.current={focus:()=>{const h=p.current;h&&h.focus()}},X(xne,{id:o,value:a,inputRef:p,onInput:s,onFocus:l,onBlur:c,switcherLabel:u})}),wf((t,i)=>{const{id:o,disabled:s,onInput:a,value:l,onFocus:c,onBlur:u}=t,p=wi();return i.current={focus:()=>{const g=p.current;g&&g.focus()}},X("input",{ref:p,id:_5(o),name:o,onFocus:c,onBlur:u,type:"checkbox",class:"bio-properties-panel-input",onChange:({target:g})=>{a(g.checked)},checked:l,disabled:s})});const $De={},zDe={},HDe={};function UDe(t){const{element:i,headerProvider:o,placeholderProvider:s,groups:a,layoutConfig:l,layoutChanged:c,descriptionConfig:u,descriptionLoaded:p,tooltipConfig:h,tooltipLoaded:g,feelPopupContainer:y,eventBus:E}=t,[C,D]=Yn(Pne(l));(function WDe(t,i){const o=wi(!1);j3(()=>{if(o.current)return t();o.current=!0},i)})(()=>{const Fe=Pne(l);D(Fe)},[l]),fn(()=>{"function"==typeof c&&c(C)},[C,c]);const F={layout:C,setLayout:D,getLayoutForKey:(Fe,_t)=>function F5e(t,i,o){let s=t;return _e(i,function(a){if($D(s))return s=void 0,!1;s=s[a]}),Kl(s)?o:s}(C,Fe,_t),setLayoutForKey:(Fe,_t)=>{const xt=Re({},C);JX(xt,Fe,_t),D(xt)}},N=Ia(()=>function GDe(t={}){return{...zDe,...t}}(u),[u]);fn(()=>{"function"==typeof p&&p(N)},[N,p]);const j={description:N,getDescriptionForId:(Fe,_t)=>N[Fe]&&N[Fe](_t)},q=Ia(()=>function qDe(t={}){return{...HDe,...t}}(h),[h]);fn(()=>{"function"==typeof g&&g(q)},[q,g]);const ae={tooltip:q,getTooltipForId:(Fe,_t)=>q[Fe]&&q[Fe](_t)},[te,ne]=Yn({});n6("propertiesPanel.setErrors",({errors:Fe})=>ne(Fe),E);const Ce={errors:te},fe={eventBus:E},ye={element:i};return s&&!i?X(mne,{...s.getEmpty()}):s&&Rn(i)?X(mne,{...s.getMultiple()}):X(C0.Provider,{value:ye,children:X(YL.Provider,{value:Ce,children:X(lne.Provider,{value:j,children:X(une.Provider,{value:ae,children:X(C0.Provider,{value:F,children:X(cne.Provider,{value:fe,children:X(DDe,{element:i,eventBus:E,popupContainer:y,children:X("div",{class:"bio-properties-panel",children:[X(nDe,{element:i,headerProvider:o}),X("div",{class:"bio-properties-panel-scroll-container",children:a.map(Fe=>{const{component:_t=hr,id:xt}=Fe;return Xl(_t,{...Fe,key:xt,element:i})})})]})})})})})})})})}function Pne(t={},i=$De){return{...i,...t}}function ZDe(t){const{id:i,label:o,onChange:s,disabled:a,value:l=!1,onFocus:c,onBlur:u,tooltip:p}=t,[h,g]=Yn(l);return fn(()=>{l!==h&&g(l)},[l]),X("div",{class:"bio-properties-panel-checkbox",children:[X("input",{ref:y5(i),id:One(i),name:i,onFocus:c,onBlur:u,type:"checkbox",class:"bio-properties-panel-input",onChange:D=>{(({target:D})=>{s(D.checked)})(D),g(D.target.value)},checked:h,disabled:a}),X("label",{for:One(i),class:"bio-properties-panel-label",children:X(zm,{value:p,forId:i,element:t.element,children:o})})]})}function wl(t){const{element:i,id:o,description:s,label:a,getValue:l,setValue:c,disabled:u,onFocus:p,onBlur:h,tooltip:g}=t,y=l(i),E=iy(o);return X("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":o,children:[X(ZDe,{disabled:u,id:o,label:a,onChange:c,onFocus:p,onBlur:h,value:y,tooltip:g,element:i},i),E&&X("div",{class:"bio-properties-panel-error",children:E}),X(Um,{forId:o,element:i,value:s})]})}function S0(t){return t&&!!t.checked}function One(t){return`bio-properties-panel-${t}`}function iTe(t){const{id:i,label:o,onChange:s,options:a=[],value:l="",disabled:c,onFocus:u,onBlur:p,tooltip:h}=t,g=y5(i),[y,E]=Yn(l);return fn(()=>{l!==y&&E(l)},[l]),X("div",{class:"bio-properties-panel-select",children:[X("label",{for:Ane(i),class:"bio-properties-panel-label",children:X(zm,{value:h,forId:i,element:t.element,children:o})}),X("select",{ref:g,id:Ane(i),name:i,class:"bio-properties-panel-input",onInput:O=>{(({target:O})=>{s(O.value)})(O),E(O.target.value)},onFocus:u,onBlur:p,value:y,disabled:c,children:a.map((O,A)=>O.children?X("optgroup",{label:O.label,children:O.children.map((F,N)=>X("option",{value:F.value,disabled:F.disabled,children:F.label},N))},A):X("option",{value:O.value,disabled:O.disabled,children:O.label},A))})]})}function Hi(t){const{element:i,id:o,description:s,label:a,getValue:l,setValue:c,getOptions:u,disabled:p,onFocus:h,onBlur:g,validate:y,tooltip:E}=t,C=u(i),D=iy(o),[O,A]=Yn(null);let F=l(i);fn(()=>{if(Vr(y)){const j=y(F)||null;A(j)}},[F,y]);const B=D||O;return X("div",{class:Vi()("bio-properties-panel-entry",B?"has-error":""),"data-entry-id":o,children:[X(iTe,{id:o,label:a,value:F,onChange:j=>{let q=null;Vr(y)&&(q=y(j)||null),c(j,q),A(q)},onFocus:h,onBlur:g,options:C,disabled:p,tooltip:E,element:i},i),B&&X("div",{class:"bio-properties-panel-error",children:B}),X(Um,{forId:o,element:i,value:s})]})}function Do(t){return t&&!!t.value}function Ane(t){return`bio-properties-panel-${t}`}function Rne(t){t.style.height="auto",t.style.height=`${t.scrollHeight+2}px`}function aTe(t){const{id:i,label:o,debounce:s,onInput:a,value:l="",disabled:c,monospace:u,onFocus:p,onBlur:h,autoResize:g,rows:y=(g?1:2),tooltip:E}=t,[C,D]=Yn(l),O=y5(i),A=Ia(()=>s(N=>a(N.value.length?N.value:void 0)),[a,s]);return j3(()=>{g&&Rne(O.current)},[]),fn(()=>{l!==C&&D(l)},[l]),X("div",{class:"bio-properties-panel-textarea",children:[X("label",{for:Ine(i),class:"bio-properties-panel-label",children:X(zm,{value:E,forId:i,element:t.element,children:o})}),X("textarea",{ref:O,id:Ine(i),name:i,spellCheck:"false",class:Vi()("bio-properties-panel-input",u?"bio-properties-panel-input-monospace":"",g?"auto-resize":""),onInput:N=>{A(N.target),g&&Rne(N.target),D(N.target.value)},onFocus:p,onBlur:h,rows:y,value:C,disabled:c,"data-gramm":"false"})]})}function ay(t){const{element:i,id:o,description:s,debounce:a,label:l,getValue:c,setValue:u,rows:p,monospace:h,disabled:g,validate:y,onFocus:E,onBlur:C,autoResize:D,tooltip:O}=t,A=iy(o),[F,N]=Yn(null);let B=c(i);fn(()=>{if(Vr(y)){const ee=y(B)||null;N(ee)}},[B,y]);const q=A||F;return X("div",{class:Vi()("bio-properties-panel-entry",q?"has-error":""),"data-entry-id":o,children:[X(aTe,{id:o,label:l,value:B,onInput:ee=>{let ae=null;Vr(y)&&(ae=y(ee)||null),u(ee,ae),N(ae)},onFocus:E,onBlur:C,rows:p,debounce:a,monospace:h,disabled:g,autoResize:D,tooltip:O,element:i},i),q&&X("div",{class:"bio-properties-panel-error",children:q}),X(Um,{forId:o,element:i,value:s})]})}function ly(t){return t&&!!t.value}function Ine(t){return`bio-properties-panel-${t}`}function lTe(t){const{debounce:i,disabled:o=!1,id:s,label:a,onInput:l,onFocus:c,onBlur:u,value:p="",tooltip:h}=t,[g,y]=Yn(p||""),E=y5(s),C=Ia(()=>i(O=>l(O.value.length?O.value:void 0)),[l,i]);return fn(()=>{p!==g&&y(p)},[p]),X("div",{class:"bio-properties-panel-textfield",children:[X("label",{for:Nne(s),class:"bio-properties-panel-label",children:X(zm,{value:h,forId:s,element:t.element,children:a})}),X("input",{ref:E,id:Nne(s),type:"text",name:s,spellCheck:"false",autoComplete:"off",disabled:o,class:"bio-properties-panel-input",onInput:O=>{C(O.target),y(O.target.value)},onFocus:c,onBlur:u,value:g})]})}function ot(t){const{element:i,id:o,description:s,debounce:a,disabled:l,label:c,getValue:u,setValue:p,validate:h,onFocus:g,onBlur:y,tooltip:E}=t,C=iy(o),[D,O]=Yn(null);let A=u(i);fn(()=>{if(Vr(h)){const B=h(A)||null;O(B)}},[A,h]);const N=C||D;return X("div",{class:Vi()("bio-properties-panel-entry",N?"has-error":""),"data-entry-id":o,children:[X(lTe,{debounce:a,disabled:l,id:o,label:c,onInput:B=>{let j=null;Vr(h)&&(j=h(B)||null),p(B,j),O(j)},onFocus:g,onBlur:y,value:A,tooltip:E,element:i},i),N&&X("div",{class:"bio-properties-panel-error",children:N}),X(Um,{forId:o,element:i,value:s})]})}function Dt(t){return t&&!!t.value}function Nne(t){return`bio-properties-panel-${t}`}function Lne(t){return function(o){return!1!==t?yI(o,gn(t)?t:300):o}}Lne.$inject=["config.debounceInput"];var uTe={debounceInput:["factory",Lne]},dTe={feelPopup:["type",(()=>{class t{constructor(o){this._eventBus=o}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(o,s,a){return this._eventBus.fire("feelPopup._open",{entryId:o,popupConfig:s,sourceElement:a})}close(){return this._eventBus.fire("feelPopup._close")}}return t.$inject=["eventBus"],t})()]};function V(t,i){var o=le(t);return o&&"function"==typeof o.$instanceOf&&o.$instanceOf(i)}function sn(t,i){return xf(i,function(o){return V(t,o)})}function le(t){return t&&t.businessObject||t}function Mr(t){return t&&t.di}function Mi(t){return Lo(t)&&Ql(t,"waypoints")}function Ir(t){return Lo(t)&&Ql(t,"labelTarget")}var r6={width:90,height:20},Fne=15;function cy(t){return V(t,"bpmn:Event")||V(t,"bpmn:Gateway")||V(t,"bpmn:DataStoreReference")||V(t,"bpmn:DataObjectReference")||V(t,"bpmn:DataInput")||V(t,"bpmn:DataOutput")||V(t,"bpmn:SequenceFlow")||V(t,"bpmn:MessageFlow")||V(t,"bpmn:Group")}function M9(t){return Ir(t.label)}function eF(t){return t.waypoints?function pTe(t){var i=t.length/2-1,o=t[Math.floor(i)],s=t[Math.ceil(i+.01)],a=function fTe(t){var i=t.length/2-1,o=t[Math.floor(i)],s=t[Math.ceil(i+.01)];return{x:o.x+(s.x-o.x)/2,y:o.y+(s.y-o.y)/2}}(t),l=Math.atan((s.y-o.y)/(s.x-o.x)),c=a.x,u=a.y;return Math.abs(l)<Math.PI/2?u-=Fne:c+=Fne,{x:c,y:u}}(t.waypoints):V(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+r6.height/2}:{x:t.x+t.width/2,y:t.y+t.height+r6.height/2}}function Bne(t){return V(t,"bpmn:FlowElement")||V(t,"bpmn:Participant")||V(t,"bpmn:Lane")||V(t,"bpmn:SequenceFlow")||V(t,"bpmn:MessageFlow")||V(t,"bpmn:DataInput")||V(t,"bpmn:DataOutput")?"name":V(t,"bpmn:TextAnnotation")?"text":V(t,"bpmn:Group")?"categoryValueRef":void 0}function Ic(t){var i=t.businessObject,o=Bne(i);if(o)return"categoryValueRef"===o?function mTe(t){var i=t.categoryValueRef;return i&&i.value||""}(i):i[o]||""}function mr(t,i){return!V(t,"bpmn:CallActivity")&&(V(t,"bpmn:SubProcess")?!(!(i=i||Mr(t))||!V(i,"bpmndi:BPMNPlane"))||i&&!!i.isExpanded:!V(t,"bpmn:Participant")||!!le(t).processRef)}function Vne(t){return t&&!1!==le(t).isInterrupting}function Cl(t){return t&&!!le(t).triggeredByEvent}function O9(t,i){return xf(le(t).eventDefinitions,function(s){return V(s,i)})}var xTe=["y","Y"],jne=["z","Z"];function k9(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function i6(t,i){return-1!==(t=Rn(t)?t:[t]).indexOf(i.key)||-1!==t.indexOf(i.code)}function $ne(t){return t.shiftKey}var DTe=function STe(t,i){return t(i={exports:{}},i.exports),i.exports}(function(t){var i=t.exports=function(o,s){if(s||(s=16),void 0===o&&(o=128),o<=0)return"0";for(var a=Math.log(Math.pow(2,o))/Math.log(s),l=2;a===1/0;l*=2)a=Math.log(Math.pow(2,o/l))/Math.log(s)*l;var c=a-Math.floor(a),u="";for(l=0;l<Math.floor(a);l++)u=Math.floor(Math.random()*s).toString(s)+u;if(c){var h=Math.pow(s,c);u=Math.floor(Math.random()*h).toString(s)+u}var g=parseInt(u,s);return g!==1/0&&g>=Math.pow(2,o)?i(o,s):u};i.rack=function(o,s,a){var l=function(u){var p=0;do{if(p++>10){if(!a)throw new Error("too many ID collisions, use more bits");o+=a}var h=i(o,s)}while(Object.hasOwnProperty.call(c,h));return c[h]=u,h},c=l.hats={};return l.get=function(u){return l.hats[u]},l.set=function(u,p){return l.hats[u]=p,l},l.bits=o||128,l.base=s||16,l}});function Af(t){if(!(this instanceof Af))return new Af(t);this._seed=(t=t||[128,36,1]).length?DTe.rack(t[0],t[1],t[2]):t}Af.prototype.next=function(t){return this._seed(t||!0)},Af.prototype.nextPrefixed=function(t,i){var o;do{o=t+this.next(!0)}while(this.assigned(o));return this.claim(o,i),o},Af.prototype.claim=function(t,i){this._seed.set(t,i||!0)},Af.prototype.assigned=function(t){return this._seed.get(t)||!1},Af.prototype.unclaim=function(t){delete this._seed.hats[t]},Af.prototype.clear=function(){var i,t=this._seed.hats;for(i in t)this.unclaim(i)};const tF=Af;Hn(632);Hn(751);const Hne=Cm({selectedElement:null,injector:null,getService:()=>null});function L(t,i){const{getService:o}=ml(Hne);return o(t,i)}function nF(){return nF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},nF.apply(this,arguments)}function rF(){return rF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},rF.apply(this,arguments)}function iF(){return iF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},iF.apply(this,arguments)}function oF(){return oF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},oF.apply(this,arguments)}function sF(){return sF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},sF.apply(this,arguments)}function aF(){return aF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},aF.apply(this,arguments)}function lF(){return lF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},lF.apply(this,arguments)}var Une=({styles:t={},...i})=>Me_createElement("svg",lF({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},i),Me_createElement("path",{stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1.1,4.3",d:"M1.5 30.5L27 5"}),Me_createElement("path",{d:"M31.803.197L26.5 16.107l-1.52-1.52 3.783-11.35-11.35 3.783-1.52-1.52z"}));function cF(){return cF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},cF.apply(this,arguments)}function uF(){return uF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},uF.apply(this,arguments)}function dF(){return dF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},dF.apply(this,arguments)}function pF(){return pF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},pF.apply(this,arguments)}function fF(){return fF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},fF.apply(this,arguments)}function hF(){return hF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},hF.apply(this,arguments)}function mF(){return mF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},mF.apply(this,arguments)}function gF(){return gF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},gF.apply(this,arguments)}function vF(){return vF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},vF.apply(this,arguments)}function yF(){return yF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},yF.apply(this,arguments)}function bF(){return bF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},bF.apply(this,arguments)}function _F(){return _F=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},_F.apply(this,arguments)}function EF(){return EF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},EF.apply(this,arguments)}function xF(){return xF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},xF.apply(this,arguments)}function wF(){return wF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},wF.apply(this,arguments)}function CF(){return CF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},CF.apply(this,arguments)}function SF(){return SF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},SF.apply(this,arguments)}function DF(){return DF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},DF.apply(this,arguments)}function TF(){return TF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},TF.apply(this,arguments)}function PF(){return PF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},PF.apply(this,arguments)}function MF(){return MF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},MF.apply(this,arguments)}function OF(){return OF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},OF.apply(this,arguments)}function kF(){return kF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},kF.apply(this,arguments)}function AF(){return AF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},AF.apply(this,arguments)}var Gne=({styles:t={},...i})=>Me_createElement("svg",AF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.111.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.454 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 5.021zm-3.956 3.946l-3.096 3.097 3.985 3.985-3.913 3.913 3.047 3.048 3.913-3.913 3.988 3.987 3.097-3.096L19.076 16l3.914-3.913-3.048-3.048-3.913 3.913-3.986-3.985zm-.002 1.222l3.988 3.987 3.913-3.913 1.826 1.826-3.913 3.913 3.985 3.986-1.873 1.873-3.985-3.985-3.913 3.913-1.827-1.827 3.914-3.913-3.988-3.987 1.873-1.873z"}));function RF(){return RF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},RF.apply(this,arguments)}var qne=({styles:t={},...i})=>Me_createElement("svg",RF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.793l-7.157 5.055v-5.055zm-.865 1.665v7.125l-5.048-3.562 5.048-3.563zm7.161 0v7.132l-5.048-3.566 5.048-3.566z"}));function IF(){return IF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},IF.apply(this,arguments)}var Wne=({styles:t={},...i})=>Me_createElement("svg",IF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-5.352 4.266V22.761h10.716V9.279H10.642zm.863.866h8.987v11.75h-8.987v-11.75zm.927 1.323v.862h7.133v-.862h-7.133zm0 2.602v.866h7.133v-.866h-7.133zm0 3.008v.862h7.133v-.862h-7.133zm0 2.717v.863h7.133v-.863h-7.133z"}));function NF(){return NF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},NF.apply(this,arguments)}var Xne=({styles:t={},...i})=>Me_createElement("svg",NF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm6.132 4.194c-1.21 2.455-2.422 4.91-3.633 7.364l-4.516-5.875-4.103 12.133 4.6-5.912c1.58 1.81 3.162 3.619 4.744 5.429L22.13 9.215zM14.383 13.1l4.295 5.445 1.073-2.387-1.027 4.131-4.384-5.157-1.778 2.75 1.821-4.782z"}));function LF(){return LF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},LF.apply(this,arguments)}var Yne=({styles:t={},...i})=>Me_createElement("svg",LF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156zm.032 2.929c.822 2.586 1.598 5.186 2.42 7.771l-2.42-2.612c-.682.597-2.452 2.884-2.338 2.388.87-2.487 1.447-5.067 2.338-7.547z"}));function FF(){return FF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},FF.apply(this,arguments)}var Kne=({styles:t={},...i})=>Me_createElement("svg",FF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912zm.974 2.584l3.61 4.295-3.61 4.294v-1.933h-7.88v-4.688h7.88v-1.968z"}));function BF(){return BF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},BF.apply(this,arguments)}var Qne=({styles:t={},...i})=>Me_createElement("svg",BF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-7.245 5.475v11.06h14.502v-11.06H8.754zm3.222 1.728h8.057c-1.427.878-2.854 2.806-4.281 3.016l-3.776-3.016zm9.554 1.017v6.587H10.48V13.24l5.524 4.414 5.526-4.414z"}));function VF(){return VF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},VF.apply(this,arguments)}var Zne=({styles:t={},...i})=>Me_createElement("svg",VF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.531 2.91 8.95h9.42l2.91-8.95-7.62-5.53zm0 1.067l6.604 4.794-2.523 7.757h-8.162l-2.522-7.757 6.603-4.794z"}));function jF(){return jF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},jF.apply(this,arguments)}var Jne=({styles:t={},...i})=>Me_createElement("svg",jF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M10.638 9.563V23.056h10.724V9.563H10.638zm.863.866h8.995v11.76H11.5V10.43zm.928 1.324v.862h7.139v-.862h-7.14zm0 2.605v.866h7.139v-.866h-7.14zm0 3.01v.863h7.139v-.863h-7.14zm0 2.72v.863h7.139v-.864h-7.14zM15.999.308h-.004l-.188.001h-.011l-.188.004h-.011L15.41.32h-.011l-.187.008h-.005L15.2.33l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.37h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003.178-.001h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 1.023l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.62h-.005l-.005-.002-.182-.035h-.006L18.938.58l-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.43 17.783.41l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.37h-.005L17.38.368l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.328h-.011L16.6.32h-.011l-.187-.006h-.011L16.204.31h-.011L16.005.31H16zm9.016 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zm-18.381.344l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003L4.682 5l-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.595h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01L16.32 3.6h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 13.135l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187V16.7l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zm-30.21.572l-.161.001-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158-.074-.155-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178-.001-.177v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057-.159-.028zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14v-.005l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 23.019l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 27.127l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function $F(){return $F=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},$F.apply(this,arguments)}var ere=({styles:t={},...i})=>Me_createElement("svg",$F({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.012 9.222c-1.673 4.657-2.735 9.508-4.409 14.164 1.536-1.526 2.874-3.236 4.41-4.762l4.408 4.762c-1.497-4.712-2.911-9.451-4.409-14.164zm.032 2.93c.823 2.588 1.599 5.19 2.421 7.777l-2.42-2.614c-.683.598-2.454 2.886-2.34 2.39.871-2.489 1.448-5.07 2.34-7.552zM16.012.312c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function zF(){return zF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},zF.apply(this,arguments)}var tre=({styles:t={},...i})=>Me_createElement("svg",zF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M8.742 10.464v11.072h14.516V10.464H8.742zm3.224 1.73h8.066a69569 69569 0 00-4.034 3.22l-4.032-3.22zm9.565 1.018v6.594H10.469v-6.593L16 17.63l5.532-4.419zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function HF(){return HF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},HF.apply(this,arguments)}var nre=({styles:t={},...i})=>Me_createElement("svg",HF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M23.637 13.902l-7.625-5.535-7.624 5.535 2.912 8.956h9.425l2.912-8.956zm-1.017.33l-2.524 7.762H11.93l-2.524-7.762 6.607-4.796 6.608 4.796zM16.012.311c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function UF(){return UF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},UF.apply(this,arguments)}var rre=({styles:t={},...i})=>Me_createElement("svg",UF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M13.51 9.081v4.428H9.08v4.982h4.428v4.428h4.982V18.49h4.428v-4.982H18.49V9.081h-4.982zm.83.83h3.32v4.428h4.429v3.322H17.66v4.428h-3.32v-4.454H9.91v-3.296h4.428V9.911zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z",opacity:".98"}));function GF(){return GF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},GF.apply(this,arguments)}var ire=({styles:t={},...i})=>Me_createElement("svg",GF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.012 8.816L9.21 21.026h13.606l-6.803-12.21zm0 1.776l5.332 9.57H10.681l5.331-9.57zm0-10.281c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function qF(){return qF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},qF.apply(this,arguments)}var ore=({styles:t={},...i})=>Me_createElement("svg",qF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.998 8.406c-3.018-.041-5.92 1.926-7.031 4.727-1.138 2.695-.51 6.012 1.537 8.103 1.99 2.141 5.268 2.93 8.014 1.927 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.88-4.3-7.137a7.552 7.552 0 00-3.288-.75zm0 1.384c2.759-.052 5.373 1.973 6.015 4.655.704 2.578-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.086-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86zm1.962 1.765l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.615c-.252-.14-.505-.278-.757-.417zm-1.965-8.268h-.158l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.048.12.047.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.138-.107-.121-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.005-.002-.006-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.141-.031-.006-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.001-.143-.026-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.01l-.148-.001h-.01zM10.357 4.66l-.156.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.004.003-.005.004-.11.096-.004.004-.004.003-.109.098-.004.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.003.004-.004.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.005-.086.117-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.029.15-.058.138-.085.119-.108.082-.106.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022-.16.008zm13.91 2.116l-.158.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.026.159.054.152.082.139.086.102.09.09.094.098.093.099.092.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.115.068.117.067.115.065.118.064.117.062.118.061.12.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.049.127.046.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.086.137.109.119.129.096.145.07.155.043.16.013.161-.017.155-.046.143-.074.126-.1.106-.122.082-.138.055-.152.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.059-.132-.002-.005-.002-.004-.061-.132-.003-.004-.002-.005-.062-.13-.003-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.073-.125-.003-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.08-.12-.004-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.117-.003-.005-.003-.004-.088-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.093-.113-.004-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.109-.004-.004-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023-.16.008zM4.288 12.828l-.158.032-.15.06-.135.088-.117.11-.095.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.006-.019.144v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.006l-.001.005-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.006.033.14v.006l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.103.102-.126.076-.142.049-.153.02-.16-.01-.161-.032-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.132-.024-.134-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.132.01-.139.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029-.16.002zm23.286 4.202l-.156.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.134-.026.132-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.062.119-.063.116-.067.119-.066.116-.068.115-.07.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.108-.085.109-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.082-.12.003-.005.002-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.004.003-.005.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.003-.005.002-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.002-.006.04-.138.002-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.141.001-.006.001-.005.031-.141.002-.006v-.005l.03-.142.001-.005.001-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022-.16.007zM6.681 22.734l-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.11.04.047.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.106.004.003.004.004.103.105.004.004.004.004.105.103.004.004.003.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.005.004.004.003.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.003.126.072.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.068.005.002.004.002.13.066.004.003.005.002.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.003.133.056.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.161-.015.155-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.158-.061-.15-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.079-.11-.08-.109-.082-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm15.063 2.691l-.156.044-.12.057-.06.034-.12.066-.116.064-.119.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.036-.13.035-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021h.005l.006-.002.143-.022h.006l.005-.002.143-.024h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.036.005-.002.005-.001.14-.038.005-.001.005-.002.14-.04h.005l.005-.002.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.056.005-.003.005-.002.132-.057.005-.002.005-.003.132-.059.005-.002.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.002.005-.003.129-.066.004-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.002.065-.038.132-.093.112-.115.089-.135.062-.149.034-.157.004-.161-.027-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.045-.16-.017-.161.014zM15.994 0l-.187.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.01L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.184.027h-.006l-.005.001-.184.029h-.005l-.005.001-.183.031-.005.001-.006.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.177.027.17.03.173.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.088-.135.06-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.144-.073-.129-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.005-.001-.184-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06 17.385.06h-.005l-.187-.015h-.005l-.005-.001-.187-.013h-.01L16.799.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0h-.01zm8.86 2.939l-.157.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.127.125.123.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.085.152.083.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.161-.016.155-.046.143-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.002-.005-.003-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.002-.005-.102-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.004-.003-.005-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.003-.004-.004-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.003-.004-.133-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027-.16.004zm-18.381.348l-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.005-.003.004-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.005-.003.004-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023-.161.008zm24.514 11.15l-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.024.175-.027.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.161-.061.164-.063.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.078.158-.081.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.12.13.096.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.004.002-.005.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.17.002-.006.001-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.18.001-.006.001-.005.038-.182v-.005l.002-.005.035-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02-.161.009zM.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.005.074.169.002.005.002.004.076.169.002.005.002.004.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.156-.07-.162-.068-.16-.067-.164-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15 .777 15zM6.17 26.842l-.152.052-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.005.003.004.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.003.162.088.005.002.004.002.164.087.005.002.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.169.076.004.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.061.005.002.005.001.175.06.005.001.005.002.176.057.005.001.005.002.177.055.005.001.005.002.177.052.005.002.005.001.178.051.005.001.005.002.178.048.006.002h.005l.179.047.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.169-.044-.17-.045-.166-.048-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm19.214.073l-.156.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.157.073-.158.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.048-.17.045-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.008.133-.017.115-.024h.005l.005-.002.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002h.005l.18-.047.004-.001.005-.002.179-.048.005-.002.005-.001.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.005-.002.004-.002.172-.068.005-.001.005-.002.171-.07.005-.002.005-.002.17-.072.005-.002.005-.002.169-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.002.167-.08.004-.003.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.002.163-.087.005-.002.005-.002.162-.088.005-.003.005-.003.161-.09.005-.002.004-.003.16-.092.005-.002.005-.003.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.002.155-.102.005-.003.004-.003.154-.104.004-.003.005-.003.152-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.111.004-.004.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02-.16.009z"}));function WF(){return WF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},WF.apply(this,arguments)}var sre=({styles:t={},...i})=>Me_createElement("svg",WF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.003C8.195-.157.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.408 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 4.975zm-2.15 3.281v5.534H8.213v4.38h5.636v5.534h4.31V18.17h5.639v-4.38h-5.64V8.256h-4.31zm.865.865h2.583v5.534h5.635v2.65h-5.635v5.533h-2.583v-5.534h-5.64v-2.649h5.64V9.121z"}));function XF(){return XF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},XF.apply(this,arguments)}var are=({styles:t={},...i})=>Me_createElement("svg",XF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.521L9.206 20.745h13.598L16.005 8.542zm0 1.775l5.329 9.564H10.677l5.328-9.564z"}));function YF(){return YF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},YF.apply(this,arguments)}var lre=({styles:t={},...i})=>Me_createElement("svg",YF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-.137 3.42c-2.965.02-5.792 1.968-6.884 4.722-1.137 2.693-.509 6.007 1.536 8.096 1.988 2.14 5.263 2.929 8.007 1.926 2.875-.98 4.987-3.824 5.063-6.865.154-2.954-1.622-5.875-4.295-7.13a7.545 7.545 0 00-3.427-.75zm.27 1.381c2.708.013 5.249 2.014 5.88 4.652.704 2.576-.481 5.512-2.788 6.862-2.356 1.478-5.677 1.084-7.611-.918-2.042-1.97-2.405-5.376-.839-7.738 1.11-1.762 3.146-2.877 5.229-2.857h.13zm1.831 1.764l-2.072 3.76c-.64.068-.792 1.039-.202 1.298.39.27.696-.18 1.051-.164h3.168v-.864h-3.18l1.992-3.612-.757-.418z"}));function KF(){return KF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},KF.apply(this,arguments)}var cre=({styles:t={},...i})=>Me_createElement("svg",KF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.848.001C8.113-.093.931 6.281.125 13.983c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.207C29.105 4.938 23.55.48 17.367.06A16.448 16.448 0 0015.848 0v.001zm.293 1.727c7.113-.099 13.662 5.97 14.077 13.08.56 6.299-3.516 12.735-9.582 14.679-5.798 2.004-12.806-.12-16.283-5.237C.717 19.159.874 11.638 5.016 6.876 7.722 3.638 11.902 1.63 16.14 1.728zm-.415 1.555C9.157 3.258 3.256 9.156 3.278 15.729c-.16 5.965 4.365 11.725 10.293 12.737 5.409 1.065 11.37-1.744 13.775-6.753 2.534-4.986 1.386-11.627-2.953-15.251-2.364-2.077-5.512-3.27-8.667-3.18zm.507 1.692c5.82-.026 11.013 5.318 10.79 11.143-.024 5.3-4.313 10.267-9.636 10.803-5.075.667-10.426-2.588-11.885-7.553-1.535-4.744.494-10.46 4.925-12.885a11.072 11.072 0 015.806-1.508z"}));function QF(){return QF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},QF.apply(this,arguments)}function ZF(){return ZF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},ZF.apply(this,arguments)}function JF(){return JF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},JF.apply(this,arguments)}function eB(){return eB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},eB.apply(this,arguments)}function tB(){return tB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},tB.apply(this,arguments)}function nB(){return nB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},nB.apply(this,arguments)}function rB(){return rB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},rB.apply(this,arguments)}function iB(){return iB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},iB.apply(this,arguments)}function oB(){return oB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},oB.apply(this,arguments)}function sB(){return sB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},sB.apply(this,arguments)}function aB(){return aB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},aB.apply(this,arguments)}function lB(){return lB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},lB.apply(this,arguments)}function cB(){return cB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},cB.apply(this,arguments)}function uB(){return uB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},uB.apply(this,arguments)}function dB(){return dB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},dB.apply(this,arguments)}function pB(){return pB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},pB.apply(this,arguments)}function fB(){return fB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},fB.apply(this,arguments)}function hB(){return hB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},hB.apply(this,arguments)}function mB(){return mB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},mB.apply(this,arguments)}function gB(){return gB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},gB.apply(this,arguments)}function vB(){return vB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},vB.apply(this,arguments)}function yB(){return yB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},yB.apply(this,arguments)}function bB(){return bB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},bB.apply(this,arguments)}function _B(){return _B=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},_B.apply(this,arguments)}function EB(){return EB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},EB.apply(this,arguments)}function xB(){return xB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},xB.apply(this,arguments)}function wB(){return wB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},wB.apply(this,arguments)}function CB(){return CB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},CB.apply(this,arguments)}function SB(){return SB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},SB.apply(this,arguments)}function DB(){return DB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},DB.apply(this,arguments)}function TB(){return TB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},TB.apply(this,arguments)}function PB(){return PB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},PB.apply(this,arguments)}function MB(){return MB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},MB.apply(this,arguments)}var ure=({styles:t={},...i})=>Me_createElement("svg",MB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M5.637 3A5.644 5.644 0 000 8.637v15.417a5.644 5.644 0 005.637 5.637h20.726A5.644 5.644 0 0032 24.054V8.637A5.644 5.644 0 0026.363 3H5.637zm0 1.778h20.726a3.83 3.83 0 013.859 3.859v15.417a3.83 3.83 0 01-3.859 3.858h-4.201V16.695H9.838v11.217H5.637a3.83 3.83 0 01-3.859-3.858V8.637a3.83 3.83 0 013.859-3.859zm5.33 13.046h10.066v10.065H10.967V17.824zm4.189 1.431V22.06H12.35v1.689h2.804V26.554h1.69V23.749h2.804V22.06h-2.804V19.255h-1.69z"}));function OB(){return OB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},OB.apply(this,arguments)}var dre=({styles:t={},...i})=>Me_createElement("svg",OB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M5.636 3A5.642 5.642 0 000 8.636v15.418a5.643 5.643 0 005.636 5.636h20.728A5.643 5.643 0 0032 24.054V8.636A5.642 5.642 0 0026.364 3H5.636zm0 1.778h20.728a3.83 3.83 0 013.858 3.858v15.418a3.83 3.83 0 01-3.858 3.858h-4.203V16.723H9.84v11.189H5.636a3.83 3.83 0 01-3.858-3.858V8.636a3.83 3.83 0 013.858-3.858zm5.331 13.074h10.066v10.06H10.967v-10.06zm1.336 3.996v1.711h7.394v-1.71h-7.394z"}));function kB(){return kB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},kB.apply(this,arguments)}function AB(){return AB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},AB.apply(this,arguments)}function RB(){return RB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},RB.apply(this,arguments)}function IB(){return IB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},IB.apply(this,arguments)}var $9e={Association:({styles:t={},...i})=>Me_createElement("svg",nF({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},i),Me_createElement("path",{stroke:"#000",strokeWidth:"2",fill:"none",strokeDasharray:"3.3,6",strokeLinecap:"square",d:"M1.5 30.5l29-29"})),BusinessRuleTask:({styles:t={},...i})=>Me_createElement("svg",rF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.296 7.398v12.665h16.87V7.398H5.296zm.718 4.386h15.433v3.44H9.985v-3.432h-.719v3.431H6.014v-3.44zm0 4.158h3.252v3.403H6.014v-3.403zm3.97 0h11.463v3.403H9.985v-3.403z"}),Me_createElement("path",{d:"M6.079 8.209v3.587H21.44V8.209z"})),CallActivity:({styles:t={},...i})=>Me_createElement("svg",iF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M24.978 3c3.761 0 6.89 2.979 7.018 6.695l.004.238V22.4c0 3.747-3.05 6.804-6.783 6.93l-.24.003H7.023c-3.761 0-6.89-2.978-7.018-6.695L0 22.4V9.933C0 6.187 3.05 3.13 6.783 3.004L7.023 3h17.955zm0 3.667H7.022c-1.842 0-3.255 1.344-3.35 3.079l-.005.187V22.4c0 1.761 1.35 3.167 3.16 3.262l.195.005L10 25.666V15h12v10.666h2.978c1.842 0 3.255-1.344 3.35-3.079l.005-.187V9.933c0-1.761-1.35-3.166-3.16-3.261l-.195-.005zm-3.732 9.087H10.754v9.912h10.491v-9.912zm-4.475 1.817v2.658h2.658v1.542H16.77v2.658H15.23V21.77H12.57V20.23h2.658V17.57h1.542z"})),Collaboration:({styles:t={},...i})=>Me_createElement("svg",oF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("g",{fillRule:"evenodd"},Me_createElement("path",{fillRule:"nonzero",d:"M0 0v8.62h32V0H0zm1.655 7.054v-5.37h28.62v5.37H1.656zM0 23.38V32h32v-8.62H0zm1.655 7.054v-5.37h28.62v5.37H1.656z"}),Me_createElement("path",{d:"M24 8l4 7h-8l4-7zm0 2l-2.28 4h4.56L24 10zM23.5 21h1v3h-1zM23.5 15h1v3h-1zM8 24l-4-7h8l-4 7zm0-2l2.28-4H5.72L8 22zM7.5 8h1v3h-1zM7.5 14h1v3h-1z"}))),ConditionalFlow:({styles:t={},...i})=>Me_createElement("svg",sF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M32 .041S20.42 5.95 14.537 8.713c1.26 1.15 2.432 2.392 3.648 3.588-5.703 5.78-3.15 3.303-8.087 8.316l-8.472 1.377L0 32l10.006-1.626.098-.598 1.279-7.873c4.975-5.052 2.403-2.555 8.118-8.346 1.218 1.214 2.43 2.435 3.648 3.648C26.29 11.018 32 .041 32 .041zM9.603 22.397L8.54 28.91 2.03 29.97l1.061-6.515 6.512-1.058z"})),SequenceFlow:({styles:t={},...i})=>Me_createElement("svg",aF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.12 32 .06 32 .06z"})),DataInput:({styles:t={},...i})=>Me_createElement("svg",cF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354zm.808 1.868l3.711 3.487-3.71 3.487V9.329H7.888V7.723h4.283V5.039z"})),DataInputAssociation:Une,DataOutput:({styles:t={},...i})=>Me_createElement("svg",dF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354z"})),DataOutputAssociation:Une,DataObjectReference:({styles:t={},...i})=>Me_createElement("svg",uF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M21.345 0H4v32h24.512V7.36L21.345 0zM19.24 1.818v7.507h7.454v20.857H5.818V1.818H19.24zm1.818.493l5.06 5.196h-5.06V2.311z"})),DataStoreReference:({styles:t={},...i})=>Me_createElement("svg",pF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.008 1c-3.712 0-7.417.306-10.319.939-1.45.316-2.7.71-3.68 1.226C1.065 3.662.297 4.304.061 5.23a.823.823 0 00-.035.15L0 5.502l.017.084c-.012 7.41 0 14.46 0 22.08l.017.082c.203.985.995 1.656 1.975 2.172.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.98-.516 1.772-1.187 1.975-2.172l.017-.082V5.541a.825.825 0 000-.106v-.016l-.002-.013a.823.823 0 00-.046-.197c-.244-.916-1.007-1.55-1.943-2.044-.98-.516-2.23-.91-3.68-1.226C23.423 1.306 19.718 1 16.006 1zm0 1.646c3.62 0 7.245.308 9.968.901 1.36.297 2.497.67 3.263 1.074.612.323.932.643 1.063.882-.131.24-.451.56-1.063.882-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.901-1.361-.297-2.497-.67-3.264-1.074-.611-.322-.931-.642-1.062-.882.13-.24.451-.56 1.062-.882.767-.403 1.903-.777 3.264-1.074 2.723-.593 6.348-.9 9.968-.9zM1.664 7.647c.112.067.227.132.345.194.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.119-.062.234-.127.346-.194v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.671-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.187c.112.067.227.132.345.195.98.516 2.23.91 3.68 1.226 2.902.632 6.607.938 10.319.938 3.711 0 7.416-.306 10.318-.938 1.451-.317 2.701-.71 3.68-1.226.119-.063.234-.128.346-.195v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.67-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.188c.112.067.227.131.345.194.98.516 2.23.91 3.68 1.226 2.902.633 6.607.939 10.319.939 3.711 0 7.416-.306 10.318-.94 1.451-.316 2.701-.709 3.68-1.225.119-.063.234-.127.346-.194V27.47c-.08.245-.398.618-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.9-9.968.9-3.62 0-7.245-.306-9.968-.9-1.361-.297-2.497-.67-3.264-1.074-.714-.377-1.032-.75-1.112-.995V16.022z"})),DefaultFlow:({styles:t={},...i})=>Me_createElement("svg",fF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L6.84 23.804H.046v1.755h5.063L0 30.735 1.325 32l6.357-6.441h7.145v-1.756H9.414l9.99-10.123c1.228 1.223 2.45 2.453 3.677 3.676C26.247 11.12 32 .06 32 .06z"})),CancelEndEvent:({styles:t={},...i})=>Me_createElement("svg",hF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-3.955 3.918L8.94 12.072l3.985 3.985-3.913 3.913 3.048 3.047 3.913-3.913 3.987 3.987 3.096-3.096-3.987-3.987 3.913-3.913-3.047-3.048-3.913 3.913-3.985-3.985z"})),CompensateEndEvent:({styles:t={},...i})=>Me_createElement("svg",mF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-.56 5.744l-7.407 5.23 7.408 5.234v-5.057c2.384 1.687 4.771 3.371 7.157 5.057V10.801l-7.157 5.054v-5.054z"})),ErrorEndEvent:({styles:t={},...i})=>Me_createElement("svg",gF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm6.132 4.166l-3.633 7.363-4.516-5.874-4.102 12.131 4.599-5.91 4.743 5.427 2.909-13.137z"})),EscalationEndEvent:({styles:t={},...i})=>Me_createElement("svg",vF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.9c-1.672 4.653-2.733 9.5-4.406 14.153 1.535-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.497-4.71-2.91-9.445-4.406-14.155z"})),LinkEndEvent:({styles:t={},...i})=>Me_createElement("svg",yF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm1.78 4.065v3.555H9.779v6.713h7.994v3.554l5.828-6.91-5.828-6.912z"})),MessageEndEvent:({styles:t={},...i})=>Me_createElement("svg",bF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-5.91 5.448l6.041 4.9 6.04-4.9H10.084zm-1.34 1.137v9.92h14.513v-9.718l-7.132 5.786-7.381-5.988z"})),MultipleEndEvent:({styles:t={},...i})=>Me_createElement("svg",_F({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.529 18.529 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.011 3.039l-7.619 5.53 2.91 8.95h9.418l2.91-8.95-7.619-5.53z"})),EndEvent:({styles:t={},...i})=>Me_createElement("svg",EF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.84.042C8.654-.01 1.913 5.437.4 12.454-1.057 18.62 1.554 25.495 6.784 29.09c5.076 3.636 12.31 3.92 17.59.544 5.309-3.251 8.435-9.744 7.445-15.921C30.91 7.307 25.795 1.738 19.442.422a16.064 16.064 0 00-3.602-.38zm.382 5.01c5.28-.017 10.13 4.353 10.669 9.61.687 5.025-2.552 10.281-7.423 11.792-4.754 1.617-10.486-.447-12.962-4.856-2.74-4.575-1.574-11.094 2.768-14.27a11.05 11.05 0 016.948-2.276z"})),SignalEndEvent:({styles:t={},...i})=>Me_createElement("svg",xF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.492c-2.261 4.07-4.532 8.136-6.797 12.204h13.595L15.999 8.55z"})),TerminateEndEvent:({styles:t={},...i})=>Me_createElement("svg",wF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 2.859c-5.264-.2-9.495 5.551-7.755 10.516 1.366 5.085 8.108 7.436 12.339 4.301 4.455-2.807 4.708-9.943.462-13.058A8.128 8.128 0 0016 7.915z"})),EventSubProcess:({styles:t={},...i})=>Me_createElement("svg",CF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M7.295 4.78h1.779V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.78V4.78zm3.557 0h1.78V3.003h-1.78V4.78zm3.558 0h1.78V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.779V4.78zm3.558 0c.55.014 1.106-.034 1.654.045l.245-1.762c-.629-.096-1.266-.05-1.9-.061V4.78zM5.732 3.004a5.933 5.933 0 00-.915.093c.111.582.226 1.164.315 1.75.358-.101.947.098.746-.483-.096-.382.164-1.208-.146-1.36zm22.372 2.281c.427.234.812.547 1.13.915.42-.4 1.002-.777 1.33-1.18a5.863 5.863 0 00-1.593-1.289l-.867 1.554zm-25.27-1.44c-.587.354-1.11.811-1.539 1.345.47.333.96.86 1.417 1.077.299-.362.66-.673 1.065-.913-.328-.493-.55-1.055-.944-1.509zM30.515 7.26c-.563.046-.557.342-.378.784.154.25-.097.862.25.85.525-.023 1.14.043 1.612-.032a5.891 5.891 0 00-.362-2.027l-1.122.425zM.268 7.114A6.042 6.042 0 000 9.052h1.78c-.013-.5.047-1.003.208-1.478L.296 7.027l-.026.079-.002.008zM30.22 12.45H32v-1.779h-1.779v1.779zm-30.22.16h1.78v-1.779H0v1.78zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.779H0v1.779zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.78H0v1.78zm30.22 3.397H32v-1.779h-1.779v1.78zm-30.22.16h1.78v-1.778H0v1.778zm30.137 1.47a4.059 4.059 0 01-.522 1.32c.506.283 1.046.715 1.53.908a5.836 5.836 0 00.744-1.918c-.576-.094-1.209-.264-1.752-.31zm-29.984.51c.157.676.435 1.325.82 1.904l1.486-.977a4.065 4.065 0 01-.577-1.347l-1.73.42zm28.427 1.943c-.371.277-.79.49-1.234.627l.548 1.693a5.84 5.84 0 001.835-.96l-1.082-1.412-.066.05-.001.002zm-26.164 1.47c.567.413 1.21.722 1.886.907.14-.569.343-1.175.444-1.722a4.062 4.062 0 01-1.283-.624l-1.047 1.438zm3.88 1.119h1.779v-1.78h-1.78v1.78zm3.55 0h1.787v-1.78H9.846v1.78zm3.565 0h1.78v-1.78h-1.78v1.78zm3.558 0h1.78v-1.78h-1.78v1.78zm3.451 0h1.743v-1.78h-1.743v1.78zm3.665 0h1.779v-1.78h-1.78v1.78zm-1.922-.545V16.776H9.846V29.25h12.318zM10.967 17.905h10.068V27.97H10.967V17.905zm1.336 3.998v1.711h7.396v-1.711h-7.396z",opacity:".97"})),ComplexGateway:({styles:t={},...i})=>Me_createElement("svg",SF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.327 6.79v.007l-.145.027-.118.08-.083.123-.028.145v4.954L11.793 10.8l-.125-.08-.14-.029-.144.027-.122.082-.46.46-.085.125-.026.142.028.14.08.125 3.505 3.505H9.347l-.001-.002-.145.032-.118.08-.083.122-.028.146v.652l.029.147.082.119.12.08.144.032h4.956L10.8 20.207v-.001l-.084.124-.026.142.028.14.08.124.46.461.126.082.14.029.143-.027.124-.084L15.3 17.69v4.964-.001l.028.147.082.12.12.08.144.031h.652l.148-.03.118-.08.083-.12.028-.146v-4.962l3.505 3.505.126.082.14.027.142-.027.124-.084.461-.46.083-.123s.028-.144.027-.146l-.028-.14-.082-.126-3.496-3.496h4.948l.148-.03.119-.08.082-.12.028-.147v-.652l-.028-.145-.083-.122-.119-.08s-.147-.033-.147-.031h-4.964l3.512-3.512.082-.122.029-.144-.028-.14-.084-.124-.46-.461-.123-.082-.14-.027-.145.027-.122.082-3.507 3.507V9.348l-.028-.146-.082-.122-.12-.08-.147-.029h-.652z"})),EventBasedGateway:({styles:t={},...i})=>Me_createElement("svg",DF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm0 5.876l-.254.185-7.377 5.355 2.915 8.964h9.433l2.915-8.964-7.631-5.54zm0 1.07l6.614 4.8-2.526 7.769h-8.175l-2.526-7.768 6.614-4.802z"})),ExclusiveGateway:({styles:t={},...i})=>Me_createElement("svg",OF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm-5.162 7.69l-.166.032-.141.096-.532.532s-.097.142-.097.144l-.03.164.032.162.093.144 4.857 4.858-4.855 4.855v-.001L9.9 21l-.03.164.032.162s.093.142.093.144l.531.532.146.095.162.032.164-.03.144-.097 4.855-4.856 4.857 4.857.145.095.162.032.164-.03.144-.097.531-.532.095-.14.033-.168-.033-.162-.095-.146L17.144 16 22 11.144l.095-.14.033-.166-.033-.163-.097-.144-.532-.532-.14-.095-.163-.032-.166.032-.141.095L16 14.855l-4.858-4.858v-.002l-.144-.092-.162-.032z"})),Gateway:({styles:t={},...i})=>Me_createElement("svg",TF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.373a1.313 1.313 0 00-1.833 0L.373 15.084zm1.806.918L16 2.182l13.821 13.82L16 29.823 2.179 16.003z"})),InclusiveGateway:({styles:t={},...i})=>Me_createElement("svg",PF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm0 6.379a7.447 7.447 0 00-7.44 7.441A7.447 7.447 0 0016 23.443 7.447 7.447 0 0023.443 16a7.447 7.447 0 00-7.441-7.441zm0 .825a6.61 6.61 0 016.617 6.616A6.61 6.61 0 0116 22.618 6.61 6.61 0 019.385 16 6.61 6.61 0 0116 9.385z"})),ParallelGateway:({styles:t={},...i})=>Me_createElement("svg",MF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.377 5.708l-.168.032-.136.092-.096.14-.032.168v6.868h-6.87l-.002-.002-.166.037-.137.092v-.002l-.095.141-.033.167v.753s.032.169.034.17l.094.138.138.092.167.036h6.87v6.867l-.001-.001.033.17.095.138.138.092s.166.035.167.037h.752l.17-.036.137-.092.095-.137.033-.17v-6.867h6.868l.17-.035.137-.092.095-.137.033-.17v-.753s-.033-.165-.032-.167l-.096-.14-.138-.093s-.17-.037-.17-.035H16.81V8.323l-.033-.168-.094-.14-.138-.092-.17-.034h-.752z"})),Group:({styles:t={},...i})=>Me_createElement("svg",kF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.34.016c-2.333.025-4.684 1.77-5.29 4.17C.608 5.848.88 7.608.804 9.314v2.922h2.041c.038-2.332-.076-4.673.062-7C3.14 3.355 4.869 1.938 6.643 2.04h8.956V.009c-3.086 0-6.173-.02-9.258 0v.007zm13.094 2.023h1.92V.009h-1.92v2.03zm5.756 0c1.265-.069 2.66.045 3.602 1.055 1.036.983 1.201 2.523 1.122 3.91v6.313h2.078c-.03-2.677.062-5.36-.047-8.032-.17-2.743-2.62-5.111-5.215-5.236-.511-.064-1.027-.02-1.54-.033v2.023zM.803 18.319h2.041v-2.026H.804v2.026zm29.11 1.084h2.08v-2.03h-2.08v2.03zM.804 26.148c.004 2.218 1.393 4.366 3.313 5.28 1.728.853 3.681.448 5.521.544.43-.112 1.29.231 1.435-.183v-1.847c-1.788-.043-3.584.094-5.365-.082-1.67-.354-2.919-2.048-2.863-3.844v-3.644H.804v3.777zm29.11-.068c.04 1.961-1.508 3.787-3.381 3.842-1.954.06-3.914.02-5.87.026v2.03c2.118-.042 4.242.08 6.355-.063 2.524-.264 4.818-2.644 4.94-5.323.08-1.039.014-2.085.035-3.126h-2.078v2.613zm-15.006 5.898h1.92v-2.03h-1.92v2.03z"})),CancelIntermediateCatchEvent:Gne,CompensateIntermediateCatchEvent:qne,ConditionalIntermediateCatchEvent:Wne,ErrorIntermediateCatchEvent:Xne,EscalationIntermediateCatchEvent:Yne,LinkIntermediateCatchEvent:Kne,MessageIntermediateCatchEvent:Qne,MultipleIntermediateCatchEvent:Zne,ConditionalIntermediateCatchEventNonInterrupting:Jne,EscalationIntermediateCatchEventNonInterrupting:ere,MessageIntermediateCatchEventNonInterrupting:tre,MultipleIntermediateCatchEventNonInterrupting:nre,ParallelIntermediateCatchEventNonInterrupting:rre,SignalIntermediateCatchEventNonInterrupting:ire,TimerIntermediateCatchEventNonInterrupting:ore,ParallelMultipleIntermediateCatchEvent:sre,SignalIntermediateCatchEvent:are,TimerIntermediateCatchEvent:lre,IntermediateThrowEvent:cre,CompensateIntermediateThrowEvent:({styles:t={},...i})=>Me_createElement("svg",QF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.747l-7.157 5.055v-5.055z"})),EscalationIntermediateThrowEvent:({styles:t={},...i})=>Me_createElement("svg",ZF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156z"})),LinkIntermediateThrowEvent:({styles:t={},...i})=>Me_createElement("svg",JF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912z"})),MessageIntermediateThrowEvent:({styles:t={},...i})=>Me_createElement("svg",eB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-5.91 5.475l6.04 4.901 6.042-4.9H10.088zm-1.341 1.138v9.921h14.514V11.79l-7.132 5.787-7.382-5.99z"})),MultipleIntermediateThrowEvent:({styles:t={},...i})=>Me_createElement("svg",tB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.532 2.91 8.95h9.42l2.91-8.95-7.62-5.532z"})),SignalIntermediateThrowEvent:({styles:t={},...i})=>Me_createElement("svg",nB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.52c-2.261 4.07-4.533 8.136-6.798 12.205h13.596L16.005 8.495z"})),Lane:({styles:t={},...i})=>Me_createElement("svg",rB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M0 7v18.62h32V7H0zm1.655 17.056V8.684h28.62v15.372H1.656z"})),ManualTask:({styles:t={},...i})=>Me_createElement("svg",iB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm4.43 1.328c-.222.005-.43.09-.606.203-.985.638-4.356 2.977-5.096 3.486-.67.46-1.12 1.153-1.38 1.974-.27.858-.235 1.793-.232 2.576.002.59.016 1.104.17 1.727.22.908.634 1.63 1.23 2.118.597.49 1.363.732 2.23.734 3.038.012 6.078.016 9.119 0 .327-.002.645-.127.848-.37.204-.241.287-.56.291-.914a1.732 1.732 0 00-.097-.625h.327c.335 0 .641-.11.852-.316.21-.206.317-.475.374-.754a1.783 1.783 0 00-.126-1.143 1.18 1.18 0 00.877-.521c.196-.306.257-.666.258-1.025.001-.375-.088-.738-.293-1.033a1.179 1.179 0 00-.958-.512h-.478c.108-.237.156-.505.155-.782-.003-.373-.098-.721-.316-.99a1.21 1.21 0 00-.943-.43c-2.273-.004-4.236.018-6.412.012l-.19-.001c.102-.104.202-.205.312-.314.337-.336.662-.652.83-.869.4-.516.46-1.215.123-1.729-.178-.272-.439-.456-.72-.494a.93.93 0 00-.148-.008zm.029.728l.022.001c.055.008.115.027.209.172.132.201.126.606-.09.884-.079.102-.431.465-.767.8-.337.334-.657.643-.815.836-.153.186-.096.338-.056.435.04.096.085.212.298.263.063.014.066.01.086.012l.066.003c2.429.027 4.986-.004 7.223-.003.194 0 .293.056.379.162.086.105.151.286.153.533 0 .257-.065.467-.155.59-.09.124-.183.182-.37.183-1.706-.001-3.411-.005-5.117-.009v.731c2.23.004 4.461.01 6.692.012.17 0 .265.06.361.2.096.138.164.364.163.615 0 .268-.058.501-.143.634-.085.132-.162.193-.385.195-2.32-.001-4.554-.006-6.688-.003v.73c1.905 0 3.809.003 5.713.001.194.005.316.09.416.26.102.173.151.442.093.728-.04.193-.102.313-.17.38-.067.065-.148.108-.343.108h-5.71l.002.734c1.445 0 2.89-.01 4.334-.001.162 0 .232.041.297.123.064.081.123.238.12.488-.003.244-.061.385-.12.455-.06.07-.127.11-.296.11-3.037.016-6.076.012-9.113 0-.735-.002-1.316-.196-1.77-.568-.454-.372-.793-.935-.986-1.728-.134-.546-.146-.978-.148-1.558-.003-.796-.018-1.664.199-2.354.222-.705.582-1.24 1.096-1.593.75-.515 4.14-2.866 5.079-3.474a.504.504 0 01.241-.087z"})),MessageFlow:({styles:t={},...i})=>Me_createElement("svg",oB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M4.073 26.607l1.295 1.296L1.325 32l-.662-.633L0 30.735l4.073-4.128zm6.953-7.046l1.296 1.296L1.325 32l7.555-7.656-1.295-1.296 1.455-1.474 1.986-2.013zM32 .06s-2.699 5.189-5.417 10.462l-.326.633c-1.14 2.214-2.265 4.407-3.176 6.2-1.228-1.222-2.449-2.452-3.676-3.675l-3.57 3.618-1.297-1.296 3.541-3.588c-.98-.964-1.932-1.958-2.923-2.91l-.753-.706c2.68-1.258 6.533-3.165 9.95-4.876l.617-.309C28.838 1.673 32 .06 32 .06zm-4.126 4.06l-.015.007-.115.057-.048.024-.115.057L17.7 9.172l5.017 4.948 5.157-10z"})),Participant:({styles:t={},...i})=>Me_createElement("svg",sB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M0 5v22.069h32V5H0zm30.276 1.684v18.82H6.62V6.684h23.655zm-28.62 0h3.31v18.82h-3.31V6.684z"})),Process:({styles:t={},...i})=>Me_createElement("svg",aB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{fillRule:"evenodd",d:"M16.177 0l.137.002c.452.009.9.037 1.342.082.346.036.62.303.68.646l.437 2.536c.055.319.296.57.608.655.986.269 1.923.653 2.796 1.14.28.155.624.145.885-.039l2.083-1.47a.775.775 0 01.937.022c.86.699 1.645 1.484 2.343 2.343.22.27.223.653.023.937l-1.439 2.038a.833.833 0 00-.031.896c.512.889.92 1.846 1.204 2.855a.833.833 0 00.653.601l2.435.42c.342.059.61.333.645.679a15.928 15.928 0 01.08 2.064l-.003.114c-.012.382-.038.76-.077 1.134a.775.775 0 01-.645.68l-2.396.412a.835.835 0 00-.656.61 12.511 12.511 0 01-1.2 2.917.832.832 0 00.034.892l1.396 1.978c.2.284.196.667-.023.936a16.104 16.104 0 01-2.343 2.343.775.775 0 01-.937.023l-1.99-1.404a.833.833 0 00-.88-.026c-.907.516-1.886.922-2.916 1.2a.833.833 0 00-.61.656l-.414 2.396a.775.775 0 01-.679.646 16.096 16.096 0 01-3.312 0 .775.775 0 01-.679-.646l-.423-2.452a.834.834 0 00-.598-.636 12.474 12.474 0 01-1.468-.514 12.49 12.49 0 01-1.417-.68.833.833 0 00-.878.03l-2.026 1.43a.775.775 0 01-.937-.023 16.069 16.069 0 01-2.342-2.342.774.774 0 01-.024-.936l1.402-1.986a.833.833 0 00.032-.896 12.507 12.507 0 01-1.214-2.911.833.833 0 00-.655-.606l-2.386-.412a.775.775 0 01-.646-.678 16.097 16.097 0 010-3.314.775.775 0 01.646-.678l2.386-.412a.833.833 0 00.655-.606 12.507 12.507 0 011.214-2.911.833.833 0 00-.032-.896L3.552 6.853a.774.774 0 01.023-.936 16.091 16.091 0 012.343-2.343.775.775 0 01.937-.023l2.03 1.433c.26.177.6.182.874.028.915-.512 1.88-.9 2.87-1.167a.833.833 0 00.612-.656l.424-2.46a.775.775 0 01.679-.645C14.845.032 15.348.004 15.85 0h.326zM16 6.4c-5.302 0-9.6 4.297-9.6 9.599 0 5.302 4.298 9.6 9.6 9.6s9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zm-3 4.283c0-1.425 1.637-2.203 2.715-1.29l5.69 4.815c.794.672.794 1.91 0 2.583l-5.69 4.815c-1.078.913-2.715.134-2.715-1.29z"})),ReceiveTask:({styles:t={},...i})=>Me_createElement("svg",lB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.23 7.764v11.577h17.55V7.764H5.23zm1.816.758h13.917l-6.959 4.577-6.958-4.577zm-1.06.21l8.018 5.274 8.018-5.275v9.853H5.987V8.73z"})),ScriptTask:({styles:t={},...i})=>Me_createElement("svg",cB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm2.99 3.077l-.077.045-.026.015c-1.09.646-1.84 1.239-2.336 1.818-.496.579-.735 1.162-.742 1.725-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.324.408-.911.897-1.85 1.445l-1.388.808h8.56l.101-.059c.996-.58 1.667-1.116 2.094-1.655.429-.54.603-1.107.547-1.638-.11-1.052-.967-1.818-1.688-2.556-.721-.739-1.306-1.436-1.298-2.092.004-.331.132-.7.535-1.171.402-.47 1.08-1.02 2.119-1.636l1.362-.806h-8.54zm.241.867h5.271a6.83 6.83 0 00-1.113 1.01c-.496.58-.736 1.163-.743 1.726-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.312.393-.872.862-1.753 1.386H8.728c.367-.286.658-.566.88-.847.43-.54.604-1.107.548-1.638-.11-1.052-.968-1.818-1.688-2.556-.721-.739-1.306-1.435-1.298-2.092.004-.331.132-.7.534-1.171.389-.454 1.04-.984 2.021-1.575zm-1.233 1.48v.4h4.12v-.4h-4.12zm-.154 2.158v.4H12.6v-.4H8.34zm1.931 2.158v.4h4.126v-.4H10.27zm.59 2.158v.4h4.276v-.4h-4.276z"})),SendTask:({styles:t={},...i})=>Me_createElement("svg",uB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm-1.38 3.16l8.332 4.717L21.78 8.16H5.114zm.021 1.745v9.309H21.8V9.905l-8.353 4.655-8.31-4.655z"})),ServiceTask:({styles:t={},...i})=>Me_createElement("svg",dB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm1.22 1.681V7.84c-.329.093-.63.223-.914.382l-.83-.82-1.554 1.561.83.82c-.16.288-.285.594-.372.911l-1.177.002v2.2l1.189-.004c.109.431.345.819.58 1.165v-1.898l-1.038.004v-.737l1.034-.002.058-.294c.084-.429.252-.838.493-1.203l.165-.25-.727-.718.523-.526.728.719.247-.165c.379-.25.793-.417 1.206-.505l.291-.06-.002-1.01h.75L9.19 8.417H11.16c-.185-.221-.951-.508-1.237-.588L9.93 6.68H7.713zm2.078 2.105l.003 1.158a4.19 4.19 0 00-.915.383l-.83-.821-1.553 1.562.83.82c-.16.288-.286.593-.373.91l-1.176.003v2.2l1.188-.004c.094.326.224.624.383.905l-.85.847 1.57 1.543.847-.843c.29.161.599.286.919.373v1.198c.756.006 1.56.003 2.206.003V17.81a4.19 4.19 0 00.915-.383l.847.835 1.554-1.56-.848-.836c.16-.288.286-.594.373-.912l1.152-.007V12.75l-1.165.007a4.09 4.09 0 00-.382-.905l.805-.807-1.57-1.546-.804.806a4.16 4.16 0 00-.915-.372l.007-1.147H9.792zm.732.73h.751l-.006 1.005.297.058c.43.085.844.252 1.21.492l.25.162.701-.704.528.52-.702.704.169.25c.248.374.412.779.505 1.196l.061.292 1.016-.006v.737l-1.01.006-.058.292c-.085.43-.252.838-.494 1.205l-.165.25.744.733-.523.525-.743-.734-.248.165c-.378.247-.789.418-1.203.503l-.294.058v1.067h-.745v-1.059l-.295-.057a3.395 3.395 0 01-1.21-.492l-.248-.162-.747.743-.528-.52.747-.744-.17-.25a3.546 3.546 0 01-.506-1.196l-.06-.291-1.04.004v-.738l1.034-.002.058-.294c.085-.428.252-.837.493-1.203l.165-.25-.726-.718.522-.526.728.72.248-.166a3.546 3.546 0 011.205-.504l.292-.06-.003-1.01zm.388 2.685a1.65 1.65 0 00-1.645 1.645c0 .904.74 1.645 1.645 1.645a1.65 1.65 0 001.645-1.645 1.65 1.65 0 00-1.645-1.645zm0 .73a.91.91 0 01.915.915.91.91 0 01-.915.914.91.91 0 01-.915-.914.91.91 0 01.915-.915z"})),CompensateStartEvent:({styles:t={},...i})=>Me_createElement("svg",pB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-.566 9.03l-7.415 5.235 7.415 5.238v-5.062c2.386 1.689 4.775 3.375 7.163 5.062V10.761l-7.163 5.058v-5.058zm-.866 1.666v7.13L9.51 15.993l5.052-3.565zm7.166 0v7.137l-5.052-3.568 5.052-3.569z"})),ConditionalStartEvent:({styles:t={},...i})=>Me_createElement("svg",fB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-5.362 7.523v13.493h10.724V9.253H10.638zm.863.866h8.995V21.88H11.501V10.12zm.928 1.324v.863h7.139v-.863h-7.139zm0 2.605v.867h7.139v-.867h-7.139zm0 3.01v.864h7.139v-.863h-7.139zm0 2.72v.863h7.139v-.863h-7.139z"})),ErrorStartEvent:({styles:t={},...i})=>Me_createElement("svg",hB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm6.13 7.45l-3.635 7.37-4.52-5.88c-1.37 4.048-2.738 8.095-4.106 12.143l4.603-5.917 4.748 5.433 2.91-13.149zm-7.754 3.889l4.299 5.449 1.073-2.39-1.028 4.135-4.387-5.16-1.78 2.75 1.823-4.784z"})),EscalationStartEvent:({styles:t={},...i})=>Me_createElement("svg",mB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 7.183c-1.674 4.658-2.736 9.509-4.41 14.166 1.535-1.526 2.874-3.236 4.41-4.763l4.41 4.763c-1.499-4.713-2.913-9.453-4.41-14.166zm.032 2.931c.822 2.588 1.598 5.19 2.42 7.778l-2.42-2.615c-.683.598-2.455 2.887-2.34 2.39.871-2.489 1.448-5.07 2.34-7.553z"})),MessageStartEvent:({styles:t={},...i})=>Me_createElement("svg",gB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-7.257 8.732v11.069h14.513v-11.07H8.738zm3.224 1.73h8.064c-1.428.878-2.857 2.807-4.285 3.018l-3.779-3.019zm9.562 1.017v6.593H10.465V13.21l5.528 4.417 5.53-4.418z"})),MultipleStartEvent:({styles:t={},...i})=>Me_createElement("svg",vB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 6.328l-7.626 5.536c.97 2.986 1.942 5.971 2.913 8.957h9.426l2.912-8.957-7.625-5.536zm0 1.068l6.609 4.798-2.525 7.763H11.91l-2.524-7.763 6.609-4.798z"})),ConditionalStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",yB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M10.632 9.189V22.68h10.723V9.189H10.632zm.862.865h8.994v11.76H11.494v-11.76zm.928 1.324v.863h7.138v-.863h-7.138zm0 2.605v.866h7.138v-.866h-7.138zm0 3.01v.863h7.138v-.863h-7.138zm0 2.72v.862h7.138v-.863h-7.138zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),EscalationStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",bB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16 9.209c-1.674 4.655-2.735 9.504-4.408 14.16 1.534-1.526 2.873-3.235 4.407-4.761l4.408 4.76c-1.497-4.71-2.91-9.448-4.408-14.16zm.031 2.93c.822 2.586 1.598 5.187 2.42 7.774l-2.42-2.614c-.682.598-2.453 2.886-2.34 2.389.873-2.488 1.45-5.068 2.34-7.55zM16.132.364c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.564c-.734.078-1.196.762-1.735 1.206C3.552 6.02 2.55 7.511 1.681 9.053c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786A15.932 15.932 0 011.728 16a.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MessageStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",_B({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M8.746 10.393v11.064h14.506V10.393H8.746zm3.223 1.728h8.06c-1.428.879-2.856 2.807-4.283 3.018l-3.777-3.018zm9.557 1.018v6.59H10.473v-6.59l5.525 4.416 5.528-4.416zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MultipleStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",EB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M23.621 13.524L16 7.99l-7.622 5.534 2.911 8.952h9.422l2.911-8.952zm-1.016.33l-2.523 7.759h-8.165l-2.524-7.76L16 9.059l6.606 4.796zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),ParallelMultipleStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",xB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M13.503 9.016v4.428H9.075v4.98h4.428v4.428h4.98v-4.427h4.428v-4.981h-4.427V9.016h-4.981zm.83.83h3.32v4.428h4.428v3.32h-4.428v4.428h-3.32v-4.454H9.905v-3.294h4.428V9.846zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z",opacity:".98"})),SignalStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",wB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16.007 8.82L9.21 21.022h13.596L16.007 8.82zm0 1.775l5.328 9.563H10.68l5.327-9.563zM16.14.386c-1.571.236-4.195-.284-4.9 1.381.619 1.703 2.745.069 4.085.365 1.421-.13 2.84.2 4.235.259C21.27.784 18.19.344 17 .413a20.456 20.456 0 00-.86-.027zM25 3.162c-2.19.694.401 2.26 1.181 3.094 1.083 1.152 1.954 2.484 2.715 3.864 1.48 1.005 1.845-1.26.81-2.03-1.158-1.897-2.613-3.704-4.513-4.89l-.192-.038zm-18.438.423c-1.793.712-2.909 2.548-4.01 4.061-.773.814-2.211 3.653.005 3.211 1.123-1.469 1.87-3.306 3.267-4.614.664-.7 2.73-2.013.738-2.658zm24.57 11.072c-1.659.435-.468 2.667-.99 3.895a13.427 13.427 0 01-1.497 4.435c-.23 1.659 1.991 1.165 2.018-.199a14.277 14.277 0 001.254-7.552.865.865 0 00-.785-.579zm-30.18.666c-1.677.386-.633 2.667-.608 3.876.371 1.623.792 3.35 1.79 4.696 2.382.321.571-2.338.292-3.492a15.92 15.92 0 01-.684-4.39.877.877 0 00-.79-.69zm24.558 11.81c-1.755.865-3.303 2.266-5.274 2.765-1.162-.016-3.074 1.271-1.331 2.102 2.66-.447 5.163-1.733 7.236-3.445.472-.506.06-1.432-.631-1.421zm-19.151.043c-2.004.786.416 2.405 1.43 2.913 1.608.904 3.379 1.636 5.208 1.877 1.77-.804-.228-2.094-1.357-2.073-1.75-.537-3.403-1.396-4.798-2.586l-.227-.104-.256-.027z"})),TimerStartEventNonInterrupting:({styles:t={},...i})=>Me_createElement("svg",CB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.991 8.7c-3.018-.042-5.92 1.925-7.03 4.725-1.138 2.695-.509 6.011 1.537 8.102 1.99 2.142 5.267 2.93 8.013 1.927 2.877-.98 4.99-3.826 5.067-6.87.153-2.956-1.624-5.88-4.299-7.135a7.551 7.551 0 00-3.288-.75zm0 1.383c2.758-.052 5.372 1.972 6.014 4.654.704 2.578-.482 5.516-2.79 6.867-2.358 1.48-5.682 1.085-7.617-.919-2.043-1.97-2.407-5.38-.84-7.743 1.11-1.764 3.149-2.88 5.233-2.86zm1.962 1.764l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.614-.757-.418zM16.12.358h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136L19.823.9l-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006L19.135.64l-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006L17.512.42l-.22-.017-.005-.001h-.006l-.22-.015h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012l-.221-.003h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zm-18.458.426l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1V9.5l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114V16.5l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V16.308l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),CancelBoundaryEvent:Gne,CompensateBoundaryEvent:qne,ConditionalBoundaryEvent:Wne,ErrorBoundaryEvent:Xne,EscalationBoundaryEvent:Yne,LinkBoundaryEvent:Kne,MessageBoundaryEvent:Qne,MultipleBoundaryEvent:Zne,BoundaryEvent:cre,ConditionalBoundaryEventNonInterrupting:Jne,EscalationBoundaryEventNonInterrupting:ere,MessageBoundaryEventNonInterrupting:tre,MultipleBoundaryEventNonInterrupting:nre,ParallelBoundaryEventNonInterrupting:rre,SignalBoundaryEventNonInterrupting:ire,TimerBoundaryEventNonInterrupting:ore,ParallelMultipleBoundaryEvent:sre,SignalBoundaryEvent:are,TimerBoundaryEvent:lre,StartEvent:({styles:t={},...i})=>Me_createElement("svg",SB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.847.004C9.61-.016 3.624 4.014 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846.004zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625-4.814-3.84-6.538-10.94-4.067-16.57 2.14-5.206 7.515-8.775 13.147-8.71.097-.001.194-.002.29-.001z"})),ParallelMultipleStartEvent:({styles:t={},...i})=>Me_createElement("svg",DB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.847 0C9.61-.02 3.624 4.01 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846 0zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625C2.101 23.17.377 16.07 2.848 10.44c2.134-5.2 7.522-8.78 13.147-8.71.097-.001.194-.002.29-.001zM13.504 9.08v4.427H9.077v4.98h4.427v4.427h4.98v-4.427h4.428v-4.98h-4.427V9.08h-4.98zm.83.83h3.32v4.427h4.428v3.32h-4.427v4.427h-3.32v-4.453H9.906v-3.294h4.427V9.91z"})),SignalStartEvent:({styles:t={},...i})=>Me_createElement("svg",TB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm0 6.776L9.19 20.724H22.8L15.995 8.511zm0 1.777l5.332 9.572H10.662l5.333-9.572z"})),TimerStartEvent:({styles:t={},...i})=>Me_createElement("svg",PB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-.143 6.676c-2.967.02-5.797 1.97-6.89 4.727-1.138 2.695-.51 6.012 1.537 8.102 1.99 2.142 5.268 2.932 8.014 1.928 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.881-4.3-7.137a7.552 7.552 0 00-3.43-.75zm.27 1.383c2.71.012 5.254 2.015 5.886 4.656.704 2.577-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.085-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86h.13zm1.833 1.765l-2.074 3.763c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.181l1.992-3.615-.757-.418z"})),CollapsedSubProcess:ure,CollapsedAdHocSubProcess:ure,ExpandedSubProcess:dre,ExpandedAdHocSubProcess:dre,Task:({styles:t={},...i})=>Me_createElement("svg",kB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M6.494 2.667C2.916 2.667 0 5.57 0 9.142v13.383C0 26.097 2.916 29 6.494 29h19.012C29.084 29 32 26.097 32 22.525V9.142c0-3.572-2.916-6.475-6.494-6.475H6.494zm0 2h19.012c2.509 0 4.494 1.98 4.494 4.475v13.383C30 25.02 28.015 27 25.506 27H6.494C3.985 27 2 25.02 2 22.525V9.142c0-2.495 1.985-4.475 4.494-4.475z"})),TextAnnotation:({styles:t={},...i})=>Me_createElement("svg",AB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913zm-2.924 13.999l-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737zm-5.475 4.335l-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737z"})),Transaction:({styles:t={},...i})=>Me_createElement("svg",RB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{d:"M5.422 3A5.424 5.424 0 000 8.422v15.822a5.424 5.424 0 005.422 5.423h21.156A5.424 5.424 0 0032 24.244V8.422A5.424 5.424 0 0026.578 3H5.422zm0 1.244h21.156a4.155 4.155 0 014.178 4.178v15.822a4.155 4.155 0 01-4.178 4.178H5.422a4.155 4.155 0 01-4.178-4.178V8.422a4.155 4.155 0 014.178-4.178zm1.056 1.778a3.373 3.373 0 00-3.367 3.366v13.89a3.373 3.373 0 003.367 3.366h19.044a3.373 3.373 0 003.367-3.366V9.388a3.373 3.373 0 00-3.367-3.366H6.478zm0 1.245h19.044c1.187 0 2.122.935 2.122 2.121v13.89a2.104 2.104 0 01-2.122 2.122H6.478a2.104 2.104 0 01-2.122-2.122V9.388c0-1.186.935-2.121 2.122-2.121z"})),UserTask:({styles:t={},...i})=>Me_createElement("svg",IB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Me_createElement("path",{fillRule:"evenodd",d:"M10.263 7.468c-1.698 0-2.912 1.305-2.915 2.791v.001c0 .45.121.924.311 1.352.138.309.308.593.516.82-1.235.423-2.683 1.119-3.414 2.49l-.04.075v4.44h11.083v-4.44l-.04-.074c-.72-1.352-2.136-2.047-3.36-2.471.597-.608.774-1.392.774-2.192-.004-1.487-1.218-2.792-2.915-2.792zm-1.16 1.583c.08 0 .165.003.26.008.757.045 1.012.181 1.207.31.196.13.334.252.851.268.404-.016.598-.087.737-.169.056-.033.103-.067.152-.1.128.275.197.578.198.893 0 .894-.154 1.52-.975 2.034l.08.604c.171.052.348.11.527.171.025.105.054.242.073.387.02.153.029.311.016.43a.422.422 0 01-.056.19c-.417.417-1.157.66-1.908.66-.75 0-1.49-.243-1.908-.66a.422.422 0 01-.056-.19 1.949 1.949 0 01.016-.43c.02-.146.049-.284.074-.388.177-.062.352-.118.521-.17l.048-.648a.616.616 0 00-.126-.118c-.183-.138-.405-.44-.562-.793-.157-.353-.254-.757-.254-1.08 0-.387.105-.758.297-1.079l.11-.04c.143-.046.339-.09.679-.09zm-1.448 4.304l-.002.014c-.025.185-.04.387-.018.589.021.202.074.42.248.593.595.594 1.494.857 2.382.857.889 0 1.788-.263 2.382-.857.174-.174.227-.391.249-.593a2.496 2.496 0 00-.018-.59l-.002-.01c.903.396 1.776.963 2.258 1.81v3.599H13.53v-2.538h-.67v2.538H7.651v-2.538h-.67v2.538H5.39v-3.599c.483-.849 1.359-1.416 2.264-1.813zM6.495 3C2.914 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.01C28.016 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5z"}))};function pre(t){const{type:i}=t;let o=fre(i);const s=function U9e(t){const o=le(t).eventDefinitions;return o&&o[0]}(t);return s?(o=`${function G9e(t){return fre(t.$type).replace("EventDefinition","")}(s)}${o}`,(V(t,"bpmn:StartEvent")&&!Vne(t)||V(t,"bpmn:BoundaryEvent")&&!function H9e(t){const i=le(t);return i&&!1!==i.cancelActivity}(t))&&(o=`${o}NonInterrupting`),o):(V(t,"bpmn:SubProcess")&&!V(t,"bpmn:Transaction")&&(o=Cl(t)?`Event${o}`:`${mr(t)&&!function X9e(t){return V(t&&(t.di||le(t).di),"bpmndi:BPMNPlane")}(t)?"Expanded":"Collapsed"}${o}`),function q9e(t){const i=le(t),o=le(t.source);return!(!V(t,"bpmn:SequenceFlow")||!o)&&o.default&&o.default===i&&(V(o,"bpmn:Gateway")||V(o,"bpmn:Activity"))}(t)&&(o="DefaultFlow"),function W9e(t){const i=le(t),o=le(t.source);return!(!V(t,"bpmn:SequenceFlow")||!o)&&i.conditionExpression&&V(o,"bpmn:Activity")}(t)&&(o="ConditionalFlow"),o)}const z9e={getDocumentationRef:t=>{const i=hre();if(i)return function Y9e(t,i){const o=mre(t,i);return o&&o.documentationRef}(t,i)},getElementLabel:t=>V(t,"bpmn:Process")?le(t).name:Ic(t),getElementIcon:t=>{const i=pre(t),o=L("config.elementTemplateIconRenderer",!1),{iconProperty:s="zeebe:modelerTemplateIcon"}=o||{},a=le(t).get(s);return a?()=>X("img",{class:"bio-properties-panel-header-template-icon",width:"32",height:"32",src:a}):$9e[i]},getTypeLabel:t=>{const i=hre();if(i){const s=mre(t,i);if(s&&s.name)return s.name}return pre(t).replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)")}};function fre(t){return t.split(":")[1]}function hre(){return L("elementTemplates",!1)}function mre(t,i){return i.get(t)}function NB(){return NB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},NB.apply(this,arguments)}var K9e=({styles:t={},...i})=>Me_createElement("svg",NB({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"64",height:"64"},i),Me_createElement("defs",null,Me_createElement("rect",{id:"a",width:"57",height:"47",x:"3",y:"8",rx:"7"}),Me_createElement("mask",{id:"b",width:"57",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},Me_createElement("use",{xlinkHref:"#a"}))),Me_createElement("g",{fill:"none",fillRule:"evenodd"},Me_createElement("path",{fill:"#818798",d:"M52 11a5 5 0 015 5v31a5 5 0 01-5 5H11a5 5 0 01-5-5V16a5 5 0 015-5h41zm0 2H11a3 3 0 00-2.995 2.824L8 16v31a3 3 0 002.824 2.995L11 50h41a3 3 0 002.995-2.824L55 47V16a3 3 0 00-2.824-2.995L52 13z"}),Me_createElement("path",{fill:"#D5D7DD",d:"M16 24h31v6H16zM21 33h21v6H21z"}),Me_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));function LB(){return LB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},LB.apply(this,arguments)}var Q9e=({styles:t={},...i})=>Me_createElement("svg",LB({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"128",height:"64"},i),Me_createElement("defs",null,Me_createElement("path",{id:"a",d:"M9 9h110v47H9z"}),Me_createElement("mask",{id:"b",width:"110",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},Me_createElement("use",{xlinkHref:"#a"}))),Me_createElement("g",{fill:"none",fillRule:"evenodd"},Me_createElement("path",{fill:"#818798",d:"M25 20.272L37.728 33 25 45.728 12.272 33 25 20.272zm0 2.829L15.1 33l9.9 9.9 9.9-9.9-9.9-9.9z"}),Me_createElement("path",{fill:"#D5D7DD",d:"M17 47h16v6H17z"}),Me_createElement("path",{fill:"#818798",d:"M35 32h27v2H35z"}),Me_createElement("path",{fill:"#818798",d:"M60 30v6l6-3z"}),Me_createElement("path",{fill:"#D5D7DD",d:"M80 34h21v6H80z"}),Me_createElement("g",null,Me_createElement("path",{fill:"#818798",d:"M111 12a5 5 0 015 5v31a5 5 0 01-5 5H70a5 5 0 01-5-5V17a5 5 0 015-5h41zm0 2H70a3 3 0 00-3 3v31a3 3 0 003 3h41a3 3 0 003-3V17a3 3 0 00-3-3z"}),Me_createElement("path",{fill:"#D5D7DD",d:"M75 25h31v6H75z"})),Me_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));const Z9e=t=>(t||(t=i=>i),{getEmpty:()=>({text:t("Select an element to edit its properties."),icon:K9e}),getMultiple:()=>({text:t("Multiple elements are selected. Select a single element to edit its properties."),icon:Q9e})});function J9e(t){const{element:i,injector:o,getProviders:s,layoutConfig:a,descriptionConfig:l,tooltipConfig:c,feelPopupContainer:u}=t,p=o.get("canvas"),h=o.get("elementRegistry"),g=o.get("eventBus"),y=o.get("translate"),[E,C]=Yn({selectedElement:i}),D=E.selectedElement,O=te=>{if(!te)return;let ne=te;ne&&"label"===ne.type&&(ne=ne.labelTarget),C({...E,selectedElement:ne}),g.fire("propertiesPanel.updated",{element:ne})};fn(()=>{const te=ne=>{const{newSelection:he=[]}=ne;if(he.length>1)return O(he);const Ce=he[0],fe=p.getRootElement();(function ePe(t){return t&&(t.isImplicit||"__implicitroot"===t.id)})(fe)||O(Ce||fe)};return g.on("selection.changed",te),()=>{g.off("selection.changed",te)}},[]),fn(()=>{const te=ne=>{const Ce=function tPe(t,i){return Qn(t,o=>o===i)}(ne.elements,D);Ce&&function nPe(t,i){return t&&i.get(t.id)}(Ce,h)&&O(Ce)};return g.on("elements.changed",te),()=>{g.off("elements.changed",te)}},[D]),fn(()=>{const te=ne=>{O(ne.element)};return g.on("root.added",te),()=>{g.off("root.added",te)}},[D]),fn(()=>{const te=()=>{O(D)};return g.on("propertiesPanel.providersChanged",te),()=>{g.off("propertiesPanel.providersChanged",te)}},[D]),fn(()=>{const te=()=>{O(D)};return g.on("elementTemplates.changed",te),()=>{g.off("elementTemplates.changed",te)}},[D]);const A={selectedElement:D,injector:o,getService:(te,ne)=>o.get(te,ne)},F=s(D),N=Ia(()=>gl(F,function(te,ne){return Rn(D)?[]:ne.getGroups(D)(te)},[]),[F,D]),[B,j]=Yn(a||{}),q=Yl(te=>{g.fire("propertiesPanel.layoutChanged",{layout:te})},[g]);return fn(()=>{const te=ne=>{const{layout:he}=ne;j(he)};return g.on("propertiesPanel.setLayout",te),()=>g.off("propertiesPanel.setLayout",te)},[g,j]),X(Hne.Provider,{value:A,children:X(UDe,{element:D,headerProvider:z9e,placeholderProvider:Z9e(y),groups:N,layoutConfig:B,layoutChanged:q,descriptionConfig:l,descriptionLoaded:te=>{g.fire("propertiesPanel.descriptionLoaded",{description:te})},tooltipConfig:c,tooltipLoaded:te=>{g.fire("propertiesPanel.tooltipLoaded",{tooltip:te})},feelPopupContainer:u,eventBus:g})})}let iPe=(()=>{class t{constructor(o,s,a){const{parent:l,layout:c,description:u,tooltip:p,feelPopupContainer:h}=o||{};this._eventBus=a,this._injector=s,this._layoutConfig=c,this._descriptionConfig=u,this._tooltipConfig=p,this._feelPopupContainer=h,this._container=fi('<div style="height: 100%" class="bio-properties-panel-container"></div>');var g=s.get("commandStack",!1);g&&function sPe(t,i,o){function s(l){l.preventDefault(),l.stopPropagation()}function a(l){return function wTe(t){return k9(t)&&!$ne(t)&&i6(jne,t)}(l)?(o.undo(),s(l)):function CTe(t){return k9(t)&&(i6(xTe,t)||i6(jne,t)&&$ne(t))}(l)?(o.redo(),s(l)):void 0}i.on("keyboard.bind",function(){hn.bind(t,"keydown",a)}),i.on("keyboard.unbind",function(){hn.unbind(t,"keydown",a)})}(this._container,a,g),a.on("diagram.init",()=>{l&&this.attachTo(l)}),a.on("diagram.destroy",()=>{this.detach()}),a.on("root.added",y=>{const{element:E}=y;this._render(E)})}attachTo(o){if(!o)throw new Error("container required");o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),"string"==typeof o&&(o=tr(o)),this.detach(),o.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const o=this._container.parentNode;o&&(o.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(o,s){s||(s=o,o=1e3),"function"==typeof s.getGroups?(this._eventBus.on("propertiesPanel.getProviders",o,function(a){a.providers.push(s)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}setLayout(o){this._eventBus.fire("propertiesPanel.setLayout",{layout:o})}_getProviders(){const o=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(o),o.providers}_render(o){const s=this._injector.get("canvas");o||(o=s.getRootElement()),!function oPe(t){return t&&(t.isImplicit||"__implicitroot"===t.id)}(o)&&(Lv(X(J9e,{element:o,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig,feelPopupContainer:this._feelPopupContainer}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(Lv(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return t.$inject=["config.propertiesPanel","injector","eventBus"],t})();const aPe={"properties-panel.multi-command-executor":(()=>{class t{constructor(o){this._commandStack=o}preExecute(o){const s=this._commandStack;_e(o,function(a){s.execute(a.cmd,a.context)})}}return t.$inject=["commandStack"],t})()};function gre(t,i){t.on("diagram.init",function(){_e(aPe,function(o,s){i.registerHandler(s,o)})})}gre.$inject=["eventBus","commandStack"];var cPe={__depends__:[{__init__:[gre]},uTe,dTe],__init__:["propertiesPanel"],propertiesPanel:["type",iPe]};function w5(t){const{autoFocusEntry:i,element:o,getOptions:s}=t,a=s(o),l=oy(a);return fn(()=>{if(i&&l&&a.length>l.length){const c=tr(`[data-entry-id="${i}"]`),u=tr(".bio-properties-panel-input",c);u&&u.select()}},[a]),X(Hi,{...t})}function C5(t){return Zd(t,"bpmn:ErrorEventDefinition")}function Gm(t){const i=C5(t);return i&&i.get("errorRef")}function Zd(t,i){return Qn(le(t).get("eventDefinitions")||[],function(a){return V(a,i)})}function uy(t){return V(t,"bpmn:ReceiveTask")?le(t):Zd(t,"bpmn:MessageEventDefinition")}function dy(t){const i=uy(t);return i&&i.get("messageRef")}function bre(t){return Zd(t,"bpmn:LinkEventDefinition")}function D0(t){return Zd(t,"bpmn:SignalEventDefinition")}function FB(t){const i=D0(t);return i&&i.get("signalRef")}function A9(t){return Zd(t,"bpmn:EscalationEventDefinition")}function S5(t){const i=A9(t);return i&&i.get("escalationRef")}function o6(t){return Zd(t,"bpmn:CompensateEventDefinition")}function mPe(t){const{element:i}=t;return function fPe(t){return sn(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!o6(t)}(i)?[{id:"waitForCompletion",component:gPe,isEdited:S0},{id:"activityRef",component:vPe,isEdited:Do}]:[]}function gPe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=o6(i);return wl({element:i,id:"waitForCompletion",label:s("Wait for completion"),getValue:()=>a.get("waitForCompletion"),setValue:u=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:a,properties:{waitForCompletion:u}})}})}function vPe(t){const{element:i}=t,o=L("commandStack"),s=L("elementRegistry"),a=L("translate"),l=o6(i);return w5({element:i,id:"activityRef",label:a("Activity reference"),getValue:()=>{const h=function hPe(t){const i=o6(t);return i&&i.get("activityRef")}(i);return h&&h.get("id")},setValue:h=>{const g=h?le(s.get(h)):void 0;o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{activityRef:g}})},getOptions:()=>{let h=[{value:"",label:a("<none>")}];const g=function xPe(t){let o=le(t).$parent,s=xre(o);return V(o,"bpmn:SubProcess")&&o.triggeredByEvent&&(o=o.$parent,o&&(s=[...s,...xre(o)])),s}(i);return function CPe(t){return fs(t,i=>(i.name||"").toLowerCase())}(g).forEach(function(y){h.push({value:y.id,label:wPe(y)})}),h}})}function Ere(t,i){const{flowElements:o}=t;return o.filter(function(s){return V(s,i)})}function xre(t){const i=function yPe(t){return Ere(t,"bpmn:Activity")}(t),o=function bPe(t){return Ere(t,"bpmn:BoundaryEvent")}(t);return i.filter(function(s){return function EPe(t,i){return V(t,"bpmn:CallActivity")||V(t,"bpmn:SubProcess")&&!t.triggeredByEvent&&!t.isForCompensation||function _Pe(t,i){const{id:o}=t;return!!Qn(i,function(s){const{attachedToRef:a}=s,l=o6(s);return a&&l&&a.id===o})}(t,i)}(s,o)})}function wPe(t){const{id:i,name:o}=t;return`${o?o+" ":""}(id=${i})`}const wre="text/plain";function SPe(t){const{element:i}=t,o=[{id:"documentation",component:DPe,isEdited:ly}];return function PPe(t){return V(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(i)&&o.push({id:"processDocumentation",component:TPe,isEdited:ly}),o}function DPe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("commandStack"),a=L("translate"),l=L("debounceInput"),c=Sre(le(i)),u=Dre(i,le(i),o,s);return ay({element:i,id:"documentation",label:a("Element documentation"),getValue:c,setValue:u,debounce:l})}function TPe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("commandStack"),a=L("translate"),l=L("debounceInput"),c=le(i).processRef,u=Sre(c),p=Dre(i,c,o,s);return ay({element:i,id:"processDocumentation",label:a("Process documentation"),getValue:u,setValue:p,debounce:l})}function Cre(t){return t.find(function(i){return(i.textFormat||wre)===wre})}function Sre(t){return function(){const i=Cre(t&&t.get("documentation"));return i&&i.text}}function Dre(t,i,o,s){return function(a){let l=Cre(i&&i.get("documentation"));return l?s.execute("element.updateModdleProperties",a?{element:t,moddleElement:l,properties:{text:a}}:{element:t,moddleElement:i,properties:{documentation:Pi(i.get("documentation"),l)}}):a?(l=o.create("bpmn:Documentation",{text:a}),s.execute("element.updateModdleProperties",{element:t,moddleElement:i,properties:{documentation:[...i.get("documentation"),l]}})):void 0}}function yt(t,i,o,s){const a=s.create(t,i);return o&&(a.$parent=o),a}function Rf(t){return new tF([32,32,1]).nextPrefixed(t)}function D5(t){let i=t;for(;i.$parent;)i=i.$parent;return i}function T5(t,i){return function MPe(t,i){return(t||[]).filter(s=>V(s,i))}(D5(t).get("rootElements"),i)}function s6(t,i,o){return T5(t,i).find(a=>a.id===o)}const Tre="",Pre="create-new";function OPe(t){const{element:i}=t;if(!function vre(t){return sn(t,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"])&&!!C5(t)}(i))return[];let s=[{id:"errorRef",component:kPe,isEdited:Do}];return Gm(i)&&(s=[...s,{id:"errorName",component:APe,isEdited:Dt},{id:"errorCode",component:RPe,isEdited:Dt}]),s}function kPe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("commandStack"),a=L("translate"),l=C5(i);return w5({element:i,id:"errorRef",label:a("Global error reference"),autoFocusEntry:"errorName",getValue:()=>{const h=Gm(i);return h?h.get("id"):Tre},setValue:h=>{const g=D5(l),y=[];let E;return h===Pre&&(E=yt("bpmn:Error",{name:Rf("Error_")},g,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:g,properties:{rootElements:[...g.get("rootElements"),E]}}})),E=E||s6(l,"bpmn:Error",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{errorRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:Tre,label:a("<none>")},{value:Pre,label:a("Create new ...")}];return function IPe(t){return fs(t,i=>(i.name||"").toLowerCase())}(T5(le(i),"bpmn:Error")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function APe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=Gm(i);return ot({element:i,id:"errorName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function RPe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=Gm(i);return ot({element:i,id:"errorCode",label:s("Code"),getValue:()=>l.get("errorCode"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{errorCode:p}}),debounce:a})}const Mre="create-new";function NPe(t){const{element:i}=t;if(!function _re(t){return V(t,"bpmn:Event")&&!!A9(t)}(i))return[];let s=[{id:"escalationRef",component:LPe,isEdited:Do}];return S5(i)&&(s=[...s,{id:"escalationName",component:FPe,isEdited:Dt},{id:"escalationCode",component:BPe,isEdited:Dt}]),s}function LPe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("commandStack"),a=L("translate"),l=A9(i);return w5({element:i,id:"escalationRef",label:a("Global escalation reference"),autoFocusEntry:"escalationName",getValue:()=>{const h=S5(i);return h&&h.get("id")},setValue:h=>{const g=D5(l),y=[];let E;if(h===Mre){const C=Rf("Escalation_");E=yt("bpmn:Escalation",{id:C,name:C},g,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:g,properties:{rootElements:[...g.get("rootElements"),E]}}})}return E=E||s6(l,"bpmn:Escalation",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{escalationRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:"",label:a("<none>")},{value:Mre,label:a("Create new ...")}];return function VPe(t){return fs(t,i=>(i.name||"").toLowerCase())}(T5(le(i),"bpmn:Escalation")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function FPe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=S5(i);return ot({element:i,id:"escalationName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function BPe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=S5(i);return ot({element:i,id:"escalationCode",label:s("Code"),getValue:()=>l.get("escalationCode"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{escalationCode:p}}),debounce:a})}function jPe(t){const{element:i}=t;return V(i,"bpmn:Process")||function zPe(t){return V(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(i)?[{id:"isExecutable",component:$Pe,isEdited:S0}]:[]}function $Pe(t){const{element:i}=t,o=L("modeling"),s=L("commandStack"),a=L("translate");let l,c;if(c=u=>{o.updateProperties(i,{isExecutable:u})},l=u=>u.businessObject.isExecutable,V(i,"bpmn:Participant")){const u=i.businessObject.get("processRef");c=p=>{s.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{isExecutable:p}})},l=()=>u.get("isExecutable")}return wl({element:i,id:"isExecutable",label:a("Executable"),getValue:l,setValue:c})}const HPe=/\s/,UPe=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,GPe=/^[a-z_][\w-.]*$/i;function Ore(t,i,o){const s=t.$model.ids.assigned(i);return i?s&&s!==t?o("ID must be unique."):function qPe(t,i){return function WPe(t){return HPe.test(t)}(t)?i("ID must not contain spaces."):GPe.test(t)?void 0:UPe.test(t)?i("ID must not contain prefix."):i("ID must be a valid QName.")}(i,o):o("ID must not be empty.")}function YPe(t){const{element:i}=t,o=L("modeling"),s=L("debounceInput"),a=L("translate"),c=Yl(p=>le(p).id,[i]),u=Yl(p=>Ore(le(i),p,a),[i,a]);return ot({element:i,id:"id",label:a(V(i,"bpmn:Participant")?"Participant ID":"ID"),getValue:c,setValue:(p,h)=>{h||o.updateProperties(i,{id:p})},debounce:s,validate:u})}function KPe(t){const{element:i}=t;return function dPe(t){return sn(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!bre(t)}(i)?[{id:"linkName",component:QPe,isEdited:Dt}]:[]}function QPe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=bre(i);return ot({element:i,id:"linkName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}})},debounce:a})}const kre="",Are="create-new";function ZPe(t){const{element:i}=t;if(!function uPe(t){return V(t,"bpmn:ReceiveTask")||sn(t,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!uy(t)}(i))return[];let s=[{id:"messageRef",component:JPe,isEdited:Do}];return dy(i)&&(s=[...s,{id:"messageName",component:eMe,isEdited:Dt}]),s}function JPe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("commandStack"),a=L("translate"),l=uy(i);return w5({element:i,id:"messageRef",label:a("Global message reference"),autoFocusEntry:"messageName",getValue:()=>{const h=dy(i);return h?h.get("id"):kre},setValue:h=>{const g=D5(l),y=[];let E;if(h===Are){const C=Rf("Message_");E=yt("bpmn:Message",{id:C,name:C},g,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:g,properties:{rootElements:[...g.get("rootElements"),E]}}})}return E=E||s6(l,"bpmn:Message",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{messageRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:kre,label:a("<none>")},{value:Are,label:a("Create new ...")}];return function tMe(t){return fs(t,i=>(i.name||"").toLowerCase())}(T5(le(i),"bpmn:Message")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function eMe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=dy(i);return ot({element:i,id:"messageName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function nMe(t){const{element:i}=t;return function oMe(t){const i=BB(t);return!!i&&V(i,"bpmn:MultiInstanceLoopCharacteristics")}(i)?[{id:"loopCardinality",component:rMe,isEdited:Dt},{id:"completionCondition",component:iMe,isEdited:Dt}]:[]}function rMe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("debounceInput"),a=L("commandStack"),l=L("translate");return ot({element:i,id:"loopCardinality",label:l("Loop cardinality"),getValue:()=>function lMe(t){const i=function aMe(t){return Ire(t,"loopCardinality")}(t);return Rre(i)}(i),setValue:p=>a.execute("element.updateModdleProperties",Nre(i,"loopCardinality",p,o)),debounce:s})}function iMe(t){const{element:i}=t,o=L("bpmnFactory"),s=L("debounceInput"),a=L("commandStack"),l=L("translate");return ot({element:i,id:"completionCondition",label:l("Completion condition"),getValue:()=>function uMe(t){const i=function cMe(t){return Ire(t,"completionCondition")}(t);return Rre(i)}(i),setValue:p=>a.execute("element.updateModdleProperties",Nre(i,"completionCondition",p,o)),debounce:s})}function Rre(t){return t&&t.get("body")}function Ire(t,i){const o=BB(t);return o&&o.get(i)}function BB(t){return le(t).loopCharacteristics}function Nre(t,i,o,s){const a=BB(t),l={};if(!o)return l[i]=void 0,{element:t,moddleElement:a,properties:l};const c=a.get(i);return c?{element:t,moddleElement:c,properties:{body:o}}:(l[i]=function sMe(t,i,o){return yt("bpmn:FormalExpression",{body:i},t,o)}(a,o,s),{element:t,moddleElement:a,properties:l})}function dMe(t){const{element:i}=t;return sn(i,["bpmn:Collaboration","bpmn:DataAssociation","bpmn:Association"])?[]:[{id:"name",component:pMe,isEdited:ly}]}function pMe(t){const{element:i}=t,o=L("modeling"),s=L("debounceInput"),a=L("canvas"),l=L("bpmnFactory"),c=L("translate");let u={element:i,id:"name",label:c("Name"),debounce:s,setValue:p=>{o.updateProperties(i,{name:p})},getValue:p=>p.businessObject.name,autoResize:!0};return V(i,"bpmn:TextAnnotation")?u={...u,setValue:p=>{o.updateProperties(i,{text:p})},getValue:p=>p.businessObject.text}:V(i,"bpmn:Group")?u={...u,setValue:p=>{const h=le(i);h.categoryValueRef||function fMe(t,i,o){const a=function hMe(t,i){const o=i.create("bpmn:CategoryValue"),s=i.create("bpmn:Category",{categoryValue:[o]});return function TTe(t,i,o){if(t&&i){"number"!=typeof o&&(o=-1);var s=t.indexOf(i);if(-1!==s){if(s===o)return;if(-1===o)return;t.splice(s,1)}-1!==o?t.splice(o,0,i):t.push(i)}}(t.get("rootElements"),s),le(s).$parent=t,le(o).$parent=s,o}(le(i).$parent,o);t.categoryValueRef=a}(h,a.getRootElement(),l),o.updateLabel(i,p)},getValue:p=>{const g=le(p).categoryValueRef;return g&&g.value}}:V(i,"bpmn:Participant")&&(u.label=c("Participant Name")),ay(u)}function mMe(t){const{element:i}=t;return function yMe(t){return V(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(i)?[{id:"processId",component:vMe,isEdited:Dt},{id:"processName",component:gMe,isEdited:Dt}]:[]}function gMe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=i.businessObject.get("processRef");return ot({element:i,id:"processName",label:s("Process name"),getValue:()=>l.get("name"),setValue:p=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}})},debounce:a})}function vMe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=i.businessObject.get("processRef"),p=Yl(h=>Ore(l,h,s),[l,s]);return ot({element:i,id:"processId",label:s("Process ID"),getValue:()=>l.get("id"),setValue:(h,g)=>{g||o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{id:h}})},debounce:a,validate:p})}const Lre="",Fre="create-new";function bMe(t){const{element:i}=t;if(!function pPe(t){return V(t,"bpmn:Event")&&!!D0(t)}(i))return[];let s=[{id:"signalRef",component:_Me,isEdited:Do}];return FB(i)&&(s=[...s,{id:"signalName",component:EMe,isEdited:Dt}]),s}function _Me(t){const{element:i}=t,o=L("bpmnFactory"),s=L("commandStack"),a=L("translate"),l=D0(i);return w5({element:i,id:"signalRef",label:a("Global signal reference"),autoFocusEntry:"signalName",getValue:()=>{const h=FB(i);return h?h.get("id"):Lre},setValue:h=>{const g=D5(l),y=[];let E;if(h===Fre){const C=Rf("Signal_");E=yt("bpmn:Signal",{id:C,name:C},g,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:g,properties:{rootElements:[...g.get("rootElements"),E]}}})}return E=E||s6(l,"bpmn:Signal",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{signalRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:Lre,label:a("<none>")},{value:Fre,label:a("Create new ...")}];return function xMe(t){return fs(t,i=>(i.name||"").toLowerCase())}(T5(le(i),"bpmn:Signal")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function EMe(t){const{element:i}=t,o=L("commandStack"),s=L("translate"),a=L("debounceInput"),l=FB(i);return ot({element:i,id:"signalName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function py(t){return function Bre(t,i){return Qn(le(t).get("eventDefinitions")||[],function(a){return V(a,i)})}(t,"bpmn:TimerEventDefinition")}function CMe(t){const{element:i,idPrefix:o}=t;let{timerEventDefinition:s}=t;s||(s=py(le(i)));const a=function R9(t){if(t)return typeof t.get("timeDate")<"u"?"timeDate":typeof t.get("timeCycle")<"u"?"timeCycle":typeof t.get("timeDuration")<"u"?"timeDuration":void 0}(s);if(!function VB(t){return sn(t,["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"])&&!!py(t)}(i))return[];const l=[];return l.push({id:$re(o,"timerEventDefinitionType"),component:SMe,isEdited:Do,timerEventDefinition:s,timerEventDefinitionType:a}),a&&l.push({id:$re(o,"timerEventDefinitionValue"),component:DMe,isEdited:Dt,timerEventDefinition:s,timerEventDefinitionType:a}),l}function SMe(t){const{element:i,timerEventDefinition:o,timerEventDefinitionType:s}=t,a=L("commandStack"),l=L("bpmnFactory"),c=L("translate");return Hi({element:i,id:"timerEventDefinitionType",label:c("Type"),getValue:()=>s||"",setValue:g=>{if(g===s)return;const y=l.create("bpmn:FormalExpression",{body:void 0});y.$parent=o;const E={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};""!==g&&(E[g]=y),a.execute("element.updateModdleProperties",{element:i,moddleElement:o,properties:E})},getOptions:g=>[{value:"",label:c("<none>")},{value:"timeDate",label:c("Date")},{value:"timeDuration",label:c("Duration")},{value:"timeCycle",label:c("Cycle")}]})}function DMe(t){const{element:i,timerEventDefinition:o,timerEventDefinitionType:s}=t,a=L("commandStack"),l=L("translate"),c=L("debounceInput"),u=o.get(s);return ot({element:i,id:"timerEventDefinitionValue",label:l("Value"),getValue:()=>u&&u.get("body"),setValue:g=>{a.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{body:g}})},debounce:c,tooltip:TMe(s,l)})}function TMe(t,i){switch(t){case"timeDate":return X("div",{children:[X("p",{children:i("A specific point in time defined as ISO 8601 combined date and time representation.")}),X("ul",{children:[X("li",{children:[X("code",{children:"2019-10-01T12:00:00Z"})," - ",i("UTC time")]}),X("li",{children:[X("code",{children:"2019-10-02T08:09:40+02:00"})," - ",i("UTC plus 2 hours zone offset")]})]}),X("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener",children:i("Documentation: Timer events")})]});case"timeCycle":return X("div",{children:[X("p",{children:i("A cycle defined as ISO 8601 repeating intervals format.")}),X("ul",{children:[X("li",{children:[X("code",{children:"R5/PT10S"})," - ",i("every 10 seconds, up to 5 times")]}),X("li",{children:[X("code",{children:"R/P1D"})," - ",i("every day, infinitely")]})]}),X("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener",children:i("Documentation: Timer events")})]});case"timeDuration":return X("div",{children:[X("p",{children:i("A time duration defined as ISO 8601 durations format.")}),X("ul",{children:[X("li",{children:[X("code",{children:"PT15S"})," - ",i("15 seconds")]}),X("li",{children:[X("code",{children:"PT1H30M"})," - ",i("1 hour and 30 minutes")]}),X("li",{children:[X("code",{children:"P14D"})," - ",i("14 days")]})]}),X("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener",children:i("Documentation: Timer events")})]})}}function $re(t,i){return t?t+i:i}function PMe(t,i){const o=i.get("translate"),s=[...dMe({element:t}),{id:"id",component:YPe,isEdited:Dt},...mMe({element:t}),...jPe({element:t})];return{id:"general",label:o("General"),entries:s,component:hr}}function MMe(t,i){const s={label:i.get("translate")("Compensation"),id:"compensation",component:hr,entries:[...mPe({element:t})]};return s.entries.length?s:null}function OMe(t,i){const o=i.get("translate"),s=[...SPe({element:t})];return{id:"documentation",label:o("Documentation"),entries:s,component:hr}}function kMe(t,i){const s={id:"error",label:i.get("translate")("Error"),component:hr,entries:[...OPe({element:t})]};return s.entries.length?s:null}function AMe(t,i){const s={id:"message",label:i.get("translate")("Message"),component:hr,entries:[...ZPe({element:t})]};return s.entries.length?s:null}function RMe(t,i){const s={id:"signal",label:i.get("translate")("Signal"),component:hr,entries:[...bMe({element:t})]};return s.entries.length?s:null}function IMe(t,i){const s={label:i.get("translate")("Link"),id:"link",component:hr,entries:[...KPe({element:t})]};return s.entries.length?s:null}function NMe(t,i){const s={id:"escalation",label:i.get("translate")("Escalation"),component:hr,entries:[...NPe({element:t})]};return s.entries.length?s:null}function LMe(t,i){const s={label:i.get("translate")("Timer"),id:"timer",component:hr,entries:[...CMe({element:t})]};return s.entries.length?s:null}function FMe(t,i){const s={label:i.get("translate")("Multi-instance"),id:"multiInstance",component:hr,entries:[...nMe({element:t})]};return s.entries.length?s:null}var VMe={__init__:["bpmnPropertiesProvider"],bpmnPropertiesProvider:["type",(()=>{class t{constructor(o,s){o.registerProvider(this),this._injector=s}getGroups(o){return s=>(s=s.concat(function BMe(t,i){return[PMe(t,i),OMe(t,i),MMe(t,i),kMe(t,i),IMe(t,i),AMe(t,i),FMe(t,i),RMe(t,i),NMe(t,i),LMe(t,i)].filter(s=>null!==s)}(o,this._injector)),s)}}return t.$inject=["propertiesPanel","injector"],t})()]};function jt(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function Doe(t,i){return i.appendChild(function uV(t,i){if(t.ownerDocument!==i.ownerDocument)try{return i.ownerDocument.importNode(t,!0)}catch{}return t}(t,i))}function bn(t,i){return Doe(i,t),t}var dV=2,Toe={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":dV,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":dV,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Poe(t,i,o){var s=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=Toe[s];a?(a===dV&&"number"==typeof o&&(o=String(o)+"px"),t.style[s]=o):t.setAttributeNS(null,i,o)}function Mt(t,i,o){if("string"==typeof i){if(void 0===o)return function gBe(t,i){return Toe[i]?t.style[i]:t.getAttributeNS(null,i)}(t,i);Poe(t,i,o)}else!function vBe(t,i){var s,a,o=Object.keys(i);for(s=0;a=o[s];s++)Poe(t,a,i[a])}(t,i);return t}const yBe=Object.prototype.toString;function ur(t){return new Ym(t)}function Ym(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function Eo(t){var i=t.parentNode;return i&&i.removeChild(t),t}function Y9(t){for(var i;i=t.firstChild;)Eo(i);return t}function Moe(t){return t.cloneNode(!0)}Ym.prototype.add=function(t){return this.list.add(t),this},Ym.prototype.remove=function(t){return"[object RegExp]"==yBe.call(t)?this.removeMatching(t):(this.list.remove(t),this)},Ym.prototype.removeMatching=function(t){const i=this.array();for(let o=0;o<i.length;o++)t.test(i[o])&&this.remove(i[o]);return this},Ym.prototype.toggle=function(t,i){return typeof i<"u"?i!==this.list.toggle(t,i)&&this.list.toggle(t):this.list.toggle(t),this},Ym.prototype.array=function(){return Array.from(this.list)},Ym.prototype.has=Ym.prototype.contains=function(t){return this.list.contains(t)};var pV={svg:"http://www.w3.org/2000/svg"},Ooe='<svg xmlns="'+pV.svg+'"';function koe(t){var i=!1;"<svg"===t.substring(0,4)?-1===t.indexOf(pV.svg)&&(t=Ooe+t.substring(4)):(t=Ooe+">"+t+"</svg>",i=!0);var o=function bBe(t){var i;return(i=new DOMParser).async=!1,i.parseFromString(t,"text/xml")}(t);if(!i)return o;for(var s=document.createDocumentFragment(),a=o.firstChild;a.firstChild;)s.appendChild(a.firstChild);return s}function an(t,i){var o;return"<"===t.charAt(0)?(o=koe(t).firstChild,o=document.importNode(o,!0)):o=document.createElementNS(pV.svg,t),i&&Mt(o,i),o}var fV=null;function K9(){return null===fV&&(fV=an("svg")),fV}function hV(t,i){var o,s,a=Object.keys(i);for(o=0;s=a[o];o++)t[s]=i[s];return t}function h6(t){return t?K9().createSVGTransformFromMatrix(t):K9().createSVGTransform()}var Aoe=/([&<>]{1})/g,EBe=/([\n\r"]{1})/g,xBe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function mV(t,i){return t.replace(i,function o(s,a){return xBe[a]||a})}function Roe(t,i){var o,s,a,l,c;switch(t.nodeType){case 3:i.push(mV(t.textContent,Aoe));break;case 1:if(i.push("<",t.tagName),t.hasAttributes())for(o=0,s=(a=t.attributes).length;o<s;++o)l=a.item(o),i.push(" ",l.name,'="',mV(l.value,EBe),'"');if(t.hasChildNodes()){for(i.push(">"),o=0,s=(c=t.childNodes).length;o<s;++o)Roe(c.item(o),i);i.push("</",t.tagName,">")}else i.push("/>");break;case 8:i.push("\x3c!--",mV(t.nodeValue,Aoe),"--\x3e");break;case 4:i.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return i}function Ioe(t,i){if(void 0!==i){try{!function wBe(t,i){var o=koe(i);if(Y9(t),i){(function SBe(t){return"#document-fragment"===t.nodeName})(o)||(o=o.documentElement);for(var s=function DBe(t){return Array.prototype.slice.call(t)}(o.childNodes),a=0;a<s.length;a++)Doe(s[a],t)}}(t,i)}catch(o){throw new Error("error parsing SVG: "+o.message)}return t}return function CBe(t){for(var i=t.firstChild,o=[];i;)Roe(i,o),i=i.nextSibling;return o.join("")}(t)}function PBe(t,i){return i instanceof SVGMatrix?t.createSVGTransformFromMatrix(i):i}function m6(t,i){var o=t.transform.baseVal;return i&&(Array.isArray(i)||(i=[i]),function MBe(t,i){var o,s;for(t.clear(),o=0;s=i[o];o++)t.appendItem(PBe(t,s))}(o,i)),o.consolidate()}const OBe=/^class[ {]/;function gV(t){return Array.isArray(t)}function vV(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function Q9(...t){1===t.length&&gV(t[0])&&(t=t[0]);const i=(t=[...t]).pop();return i.$inject=t,i}const ABe=/constructor\s*[^(]*\(\s*([^)]*)\)/m,RBe=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,IBe=/\/\*([^*]*)\*\//m;function NBe(t){if("function"!=typeof t)throw new Error(`Cannot annotate "${t}". Expected a function!`);const i=t.toString().match(function kBe(t){return OBe.test(t.toString())}(t)?ABe:RBe);if(!i)return[];const o=i[1]||i[2];return o&&o.split(",").map(s=>{const a=s.match(IBe);return(a&&a[1]||s).trim()})||[]}function Noe(t,i){i=i||{get:function(N,B){if(o.push(N),!1===B)return null;throw c(`No provider for "${N}"!`)}};const o=[],s=this._providers=Object.create(i._providers||null),a=this._instances=Object.create(null),l=a.injector=this,c=function(N){const B=o.join(" -> ");return o.length=0,new Error(B?`${N} (Resolving: ${B})`:N)};function u(N,B){if(!s[N]&&-1!==N.indexOf(".")){const j=N.split(".");let q=u(j.shift());for(;j.length;)q=q[j.shift()];return q}if(vV(a,N))return a[N];if(vV(s,N)){if(-1!==o.indexOf(N))throw o.push(N),c("Cannot resolve circular dependency!");return o.push(N),a[N]=s[N][0](s[N][1]),o.pop(),a[N]}return i.get(N,B)}function p(N,B){if(typeof B>"u"&&(B={}),"function"!=typeof N){if(!gV(N))throw c(`Cannot invoke "${N}". Expected a function!`);N=Q9(N.slice())}return{fn:N,dependencies:(N.$inject||NBe(N)).map(ee=>vV(B,ee)?B[ee]:u(ee))}}function h(N){const{fn:B,dependencies:j}=p(N);return new(Function.prototype.bind.apply(B,[null].concat(j)))}function g(N,B,j){const{fn:q,dependencies:ee}=p(N,j);return q.apply(B,ee)}function y(N){return Q9(B=>N.get(B))}function E(N,B){if(B&&B.length){const j=Object.create(null),q=Object.create(null),ee=[],ae=[],te=[];let ne,he,Ce,fe;for(let ye in s)ne=s[ye],-1!==B.indexOf(ye)&&("private"===ne[2]?(he=ee.indexOf(ne[3]),-1===he?(Ce=ne[3].createChild([],B),fe=y(Ce),ee.push(ne[3]),ae.push(Ce),te.push(fe),j[ye]=[fe,ye,"private",Ce]):j[ye]=[te[he],ye,"private",ae[he]]):j[ye]=[ne[2],ne[1]],q[ye]=!0),("factory"===ne[2]||"type"===ne[2])&&ne[1].$scope&&B.forEach(Fe=>{-1!==ne[1].$scope.indexOf(Fe)&&(j[ye]=[ne[2],ne[1]],q[Fe]=!0)});B.forEach(ye=>{if(!q[ye])throw new Error('No provider for "'+ye+'". Cannot use provider from the parent!')}),N.unshift(j)}return new Noe(N,l)}const C={factory:g,type:h,value:function(N){return N}};function D(N,B){const j=N.__init__||[];return function(){j.forEach(q=>{"string"==typeof q?B.get(q):B.invoke(q)})}}function O(N){const B=N.__exports__;if(B){const j=N.__modules__,q=Object.keys(N).reduce((he,Ce)=>("__exports__"!==Ce&&"__modules__"!==Ce&&"__init__"!==Ce&&"__depends__"!==Ce&&(he[Ce]=N[Ce]),he),Object.create(null)),ae=E((j||[]).concat(q)),te=Q9(function(he){return ae.get(he)});B.forEach(function(he){s[he]=[te,he,"private",ae]});const ne=(N.__init__||[]).slice();return ne.unshift(function(){ae.init()}),D(N=Object.assign({},N,{__init__:ne}),ae)}return Object.keys(N).forEach(function(j){if("__init__"===j||"__depends__"===j)return;if("private"===N[j][2])return void(s[j]=N[j]);const q=N[j][0];s[j]=[C[q],LBe(q,N[j][1]),q]}),D(N,l)}function A(N,B){return-1!==N.indexOf(B)||-1!==(N=(B.__depends__||[]).reduce(A,N)).indexOf(B)?N:N.concat(B)}this.get=u,this.invoke=g,this.instantiate=h,this.createChild=E,this.init=function F(N){const B=N.reduce(A,[]).map(O);let j=!1;return function(){j||(j=!0,B.forEach(q=>q()))}}(t)}function LBe(t,i){return"value"!==t&&gV(i)&&(i=Q9(i.slice())),i}var FBe=1e3;function Lf(t,i){var o=this;t.on(["render.shape","render.connection"],i=i||FBe,function(s,a){var l=s.type,c=a.element,u=a.gfx,p=a.attrs;if(o.canRender(c))return"render.shape"===l?o.drawShape(u,c,p):o.drawConnection(u,c,p)}),t.on(["render.getShapePath","render.getConnectionPath"],i,function(s,a){if(o.canRender(a))return"render.getShapePath"===s.type?o.getShapePath(a):o.getConnectionPath(a)})}function my(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function BBe(t){return["M",t.x,t.y]}function yV(t){return["L",t.x,t.y]}function VBe(t,i,o){return["C",t.x,t.y,i.x,i.y,o.x,o.y]}function jBe(t,i){const o=t.length,s=[BBe(t[0])];for(let a=1;a<o;a++){const l=t[a-1],c=t[a],u=t[a+1];if(!u||!i){s.push(yV(c));continue}const p=Math.min(i,bV(c.x-l.x,c.y-l.y),bV(u.x-c.x,u.y-c.y));if(!p){s.push(yV(c));continue}const h=Z9(c,l,p),g=Z9(c,l,.5*p),y=Z9(c,u,p),E=Z9(c,u,.5*p);s.push(yV(h)),s.push(VBe(g,E,y))}return s}function Z9(t,i,o){const s=i.x-t.x,a=i.y-t.y,c=o/bV(s,a);return{x:t.x+s*c,y:t.y+a*c}}function bV(t,i){return Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}function J9(t,i,o){gn(i)&&(o=i,i=null),i||(i={});const s=an("path",i);return gn(o)&&(s.dataset.cornerRadius=String(o)),Loe(s,t)}function Loe(t,i){return Mt(t,{d:my(jBe(i,parseInt(t.dataset.cornerRadius,10)||0))}),t}function eP(t){return On(t,function(i){return!Qn(t,function(o){return o!==i&&Foe(i,o)})})}function Foe(t,i){if(i){if(t===i)return i;if(t.parent)return Foe(t.parent,i)}}function Boe(t,i,o){var s=!o||-1===t.indexOf(i);return s&&t.push(i),s}function gy(t,i,o){o=o||0,Rn(t)||(t=[t]),_e(t,function(s,a){var l=i(s,a,o);Rn(l)&&l.length&&gy(l,i,o+1)})}function g6(t,i){return function Voe(t,i,o){var s=[],a=[];return gy(t,function(l,c,u){Boe(s,l,i);var p=l.children;if((-1===o||u<o)&&p&&Boe(a,p,i))return p}),s}(t,!i,-1)}function jo(t,i){var o,s,a,l;return i=!!i,Rn(t)||(t=[t]),_e(t,function(c){var u=c;c.waypoints&&!i&&(u=jo(c.waypoints,!0));var p=u.x,h=u.y,g=u.height||0,y=u.width||0;(p<o||void 0===o)&&(o=p),(h<s||void 0===s)&&(s=h),(p+y>a||void 0===a)&&(a=p+y),(h+g>l||void 0===l)&&(l=h+g)}),{x:o,y:s,height:l-s,width:a-o}}function joe(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function $oe(t){return!(!t||!t.isFrame)}function v6(t,i){return Re({},t||{},i||{})}function Km(t,i){Lf.call(this,t,1),this.CONNECTION_STYLE=i.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=i.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=i.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Lf.prototype.canRender=function(t){},Lf.prototype.drawShape=function(t,i){},Lf.prototype.drawConnection=function(t,i){},Lf.prototype.getShapePath=function(t){},Lf.prototype.getConnectionPath=function(t){},jt(Km,Lf),Km.prototype.canRender=function(){return!0},Km.prototype.drawShape=function(i,o,s){var a=an("rect");return Mt(a,{x:0,y:0,width:o.width||0,height:o.height||0}),$oe(o)?Mt(a,Re({},this.FRAME_STYLE,s||{})):Mt(a,Re({},this.SHAPE_STYLE,s||{})),bn(i,a),a},Km.prototype.drawConnection=function(i,o,s){var a=J9(o.waypoints,Re({},this.CONNECTION_STYLE,s||{}));return bn(i,a),a},Km.prototype.getShapePath=function(i){var a=i.width;return my([["M",i.x,i.y],["l",a,0],["l",0,i.height],["l",-a,0],["z"]])},Km.prototype.getConnectionPath=function(i){var s,a,o=i.waypoints,l=[];for(s=0;a=o[s];s++)l.push([0===s?"M":"L",(a=a.original||a).x,a.y]);return my(l)},Km.$inject=["eventBus","styles"];const GBe={__init__:["defaultRenderer"],defaultRenderer:["type",Km],styles:["type",function UBe(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},i=this;this.cls=function(o,s,a){return Re(this.style(s,a),{class:o})},this.style=function(o,s){!Rn(o)&&!s&&(s=o,o=[]);var a=gl(o,function(l,c){return Re(l,t[c]||{})},{});return s?Re(a,s):a},this.computeStyle=function(o,s,a){return Rn(s)||(a=s,s=[]),i.style(s||[],Re({},a,o||{}))}}]};function $o(t,i){if(!t||!i)return-1;var o=t.indexOf(i);return-1!==o&&t.splice(o,1),o}function ns(t,i,o){if(t&&i){"number"!=typeof o&&(o=-1);var s=t.indexOf(i);if(-1!==s){if(s===o)return;if(-1===o)return;t.splice(s,1)}-1!==o?t.splice(o,0,i):t.push(i)}}function _V(t,i){return t&&i?t.indexOf(i):-1}function y6(t,i){return t&&i?Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)):-1}function EV(t,i,o,s){if(typeof s>"u"&&(s=5),!t||!i||!o)return!1;var a=(i.x-t.x)*(o.y-t.y)-(i.y-t.y)*(o.x-t.x),l=y6(t,i);return Math.abs(a/l)<=s}var qBe=2;function Ff(t,i){var o=Array.from(arguments).flat();const s={x:"v",y:"h"};for(const[a,l]of Object.entries(s))if(WBe(a,o))return l;return!1}function WBe(t,i){const o=i[0];return $3(i,function(s){return Math.abs(o[t]-s[t])<=qBe})}function zoe(t,i,o){return t.x>i.x-(o=o||0)&&t.y>i.y-o&&t.x<i.x+i.width+o&&t.y<i.y+i.height+o}function xV(t,i){return{x:Math.round(t.x+(i.x-t.x)/2),y:Math.round(t.y+(i.y-t.y)/2)}}var XBe=Hn(563),Hoe=Hn.n(XBe);function Uoe(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function Bf(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function ln(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function tP(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function Sn(t){return Mi(t)?function KBe(t){for(var i=t.waypoints,o=i.reduce(function(h,g,y){var E=i[y-1];if(E){var C=h[h.length-1],D=C&&C.endLength||0,O=function JBe(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}(E,g);h.push({start:E,end:g,startLength:D,endLength:D+O,length:O})}return h},[]),a=o.reduce(function(h,g){return h+g.length},0)/2,l=0,c=o[l];c.endLength<a;)c=o[++l];var u=(a-c.startLength)/c.length;return{x:c.start.x+(c.end.x-c.start.x)*u,y:c.start.y+(c.end.y-c.start.y)*u}}(t):function YBe(t){return Bf({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}(t)}function ga(t,i,o){Lo(o=o||0)||(o={x:o,y:o});var s=ln(t),a=ln(i),h=s.bottom+o.y<=a.top?"top":s.top-o.y>=a.bottom?"bottom":null,g=s.right+o.x<=a.left?"left":s.left-o.x>=a.right?"right":null;return g&&h?h+"-"+g:g||h||"intersect"}function wV(t,i,o){var s=function QBe(t,i){return Hoe()(t,i)}(t,i);return 1===s.length||2===s.length&&y6(s[0],s[1])<1?Bf(s[0]):s.length>1?Bf((s=fs(s,function(a){var l=Math.floor(100*a.t2)||1;return a.segment2+"#"+((l=100-l)<10?"0":"")+l}))[o?0:s.length-1]):null}function nP(t,i){return Math.round(t*i)/i}function Goe(t){return gn(t)?t+"px":t}function qoe(t,i,o){const s=an("g");return ur(s).add(i),t.insertBefore(s,t.childNodes[void 0!==o?o:t.childNodes.length-1]||null),s}const iVe={shape:["x","y","width","height"],connection:["waypoints"]};function Ln(t,i,o,s){this._eventBus=i,this._elementRegistry=s,this._graphicsFactory=o,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(t||{})}function Xoe(t,i){t.setAttribute("transform","matrix("+i.a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")")}Ln.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Ln.prototype._init=function(t){const i=this._eventBus,o=this._container=function tVe(t){const i=(t=Re({},{width:"100%",height:"100%"},t)).container||document.body,o=document.createElement("div");return o.setAttribute("class","djs-container djs-parent"),Zs(o,{position:"relative",overflow:"hidden",width:Goe(t.width),height:Goe(t.height)}),i.appendChild(o),o}(t),s=this._svg=an("svg");Mt(s,{width:"100%",height:"100%"}),bn(o,s);const a=this._viewport=qoe(s,"viewport");t.deferUpdate&&(this._viewboxChanged=yI(vl(this._viewboxChanged,this),300)),i.on("diagram.init",()=>{i.fire("canvas.init",{svg:s,viewport:a})}),i.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),i.on("diagram.destroy",500,this._destroy,this),i.on("diagram.clear",500,this._clear,this)},Ln.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Ln.prototype._clear=function(){this._elementRegistry.getAll().forEach(i=>{const o=joe(i);"root"===o?this.removeRootElement(i):this._removeElement(i,o)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Ln.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Ln.prototype.getLayer=function(t,i){if(!t)throw new Error("must specify a name");let o=this._layers[t];if(o||(o=this._layers[t]=this._createLayer(t,i)),typeof i<"u"&&o.index!==i)throw new Error("layer <"+t+"> already created at index <"+i+">");return o.group},Ln.prototype._getChildIndex=function(t){return gl(this._layers,function(i,o){return o.visible&&t>=o.index&&i++,i},0)},Ln.prototype._createLayer=function(t,i){typeof i>"u"&&(i=1);const o=this._getChildIndex(i);return{group:qoe(this._viewport,"layer-"+t,o),index:i,visible:!0}},Ln.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");const i=this._layers[t];if(!i)throw new Error("layer <"+t+"> does not exist");const o=this._viewport,s=i.group;if(i.visible)return s;const l=this._getChildIndex(i.index);return o.insertBefore(s,o.childNodes[l]||null),i.visible=!0,s},Ln.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");const i=this._layers[t];if(!i)throw new Error("layer <"+t+"> does not exist");const o=i.group;return i.visible&&(Eo(o),i.visible=!1),o},Ln.prototype._removeLayer=function(t){const i=this._layers[t];i&&(delete this._layers[t],Eo(i.group))},Ln.prototype.getActiveLayer=function(){const t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null},Ln.prototype.findRoot=function(t){return"string"==typeof t&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(function eVe(t){for(;t.parent;)t=t.parent;return t}(t))||{}).rootElement:void 0},Ln.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})},Ln.prototype._findPlaneForRoot=function(t){return Qn(this._planes,function(i){return i.rootElement===t})},Ln.prototype.getContainer=function(){return this._container},Ln.prototype._updateMarker=function(t,i,o){let s;t.id||(t=this._elementRegistry.get(t)),s=this._elementRegistry._elements[t.id],s&&(_e([s.gfx,s.secondaryGfx],function(a){a&&(o?ur(a).add(i):ur(a).remove(i))}),this._eventBus.fire("element.marker.update",{element:t,gfx:s.gfx,marker:i,add:!!o}))},Ln.prototype.addMarker=function(t,i){this._updateMarker(t,i,!0)},Ln.prototype.removeMarker=function(t,i){this._updateMarker(t,i,!1)},Ln.prototype.hasMarker=function(t,i){return t.id||(t=this._elementRegistry.get(t)),ur(this.getGraphics(t)).has(i)},Ln.prototype.toggleMarker=function(t,i){this.hasMarker(t,i)?this.removeMarker(t,i):this.addMarker(t,i)},Ln.prototype.getRootElement=function(){const t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))},Ln.prototype.addRootElement=function(t){const i=this._rootsIdx++;t||(t={id:"__implicitroot_"+i,children:[],isImplicit:!0});const o=t.layer="root-"+i;this._ensureValid("root",t);const s=this.getLayer(o,0);return this.hideLayer(o),this._addRoot(t,s),this._planes.push({rootElement:t,layer:s}),t},Ln.prototype.removeRootElement=function(t){if("string"==typeof t&&(t=this._elementRegistry.get(t)),this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(o){return o.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t},Ln.prototype.setRootElement=function(t){if(t===this._rootElement)return;let i;if(!t)throw new Error("rootElement required");return i=this._findPlaneForRoot(t),i||(t=this.addRootElement(t)),this._setRoot(t),t},Ln.prototype._removeRoot=function(t){const i=this._elementRegistry,o=this._eventBus;o.fire("root.remove",{element:t}),o.fire("root.removed",{element:t}),i.remove(t)},Ln.prototype._addRoot=function(t,i){const o=this._elementRegistry,s=this._eventBus;s.fire("root.add",{element:t}),o.add(t,i),s.fire("root.added",{element:t,gfx:i})},Ln.prototype._setRoot=function(t,i){const o=this._rootElement;o&&(this._elementRegistry.updateGraphics(o,null,!0),this.hideLayer(o.layer)),t&&(i||(i=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})},Ln.prototype._ensureValid=function(t,i){if(!i.id)throw new Error("element must have an id");if(this._elementRegistry.get(i.id))throw new Error("element <"+i.id+"> already exists");const o=iVe[t];if(!$3(o,function(a){return typeof i[a]<"u"}))throw new Error("must supply { "+o.join(", ")+" } with "+t)},Ln.prototype._setParent=function(t,i,o){ns(i.children,t,o),t.parent=i},Ln.prototype._addElement=function(t,i,o,s){o=o||this.getRootElement();const a=this._eventBus,l=this._graphicsFactory;this._ensureValid(t,i),a.fire(t+".add",{element:i,parent:o}),this._setParent(i,o,s);const c=l.create(t,i,s);return this._elementRegistry.add(i,c),l.update(t,i,c),a.fire(t+".added",{element:i,gfx:c}),i},Ln.prototype.addShape=function(t,i,o){return this._addElement("shape",t,i,o)},Ln.prototype.addConnection=function(t,i,o){return this._addElement("connection",t,i,o)},Ln.prototype._removeElement=function(t,i){const o=this._elementRegistry,s=this._graphicsFactory,a=this._eventBus;if(t=o.get(t.id||t))return a.fire(i+".remove",{element:t}),s.remove(t),$o(t.parent&&t.parent.children,t),t.parent=null,a.fire(i+".removed",{element:t}),o.remove(t),t},Ln.prototype.removeShape=function(t){return this._removeElement(t,"shape")},Ln.prototype.removeConnection=function(t){return this._removeElement(t,"connection")},Ln.prototype.getGraphics=function(t,i){return this._elementRegistry.getGraphics(t,i)},Ln.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Ln.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Ln.prototype.viewbox=function(t){if(void 0===t&&this._cachedViewbox)return this._cachedViewbox;const i=this._viewport,o=this.getSize();let s,a,l,c,u,p,h;return t?(this._changeViewbox(function(){u=Math.min(o.width/t.width,o.height/t.height);const g=this._svg.createSVGMatrix().scale(u).translate(-t.x,-t.y);m6(i,g)}),t):(l=this._rootElement?this.getActiveLayer():null,s=l&&l.getBBox()||{},c=m6(i),a=c?c.matrix:function _Be(t,i,o,s,a,l){var c=K9().createSVGMatrix();switch(arguments.length){case 0:return c;case 1:return hV(c,t);case 6:return hV(c,{a:t,b:i,c:o,d:s,e:a,f:l})}}(),u=nP(a.a,1e3),p=nP(-a.e||0,1e3),h=nP(-a.f||0,1e3),t=this._cachedViewbox={x:p?p/u:0,y:h?h/u:0,width:o.width/u,height:o.height/u,scale:u,inner:{width:s.width||0,height:s.height||0,x:s.x||0,y:s.y||0},outer:o})},Ln.prototype.scroll=function(t){const i=this._viewport;let o=i.getCTM();return t&&this._changeViewbox(function(){t=Re({dx:0,dy:0},t||{}),o=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(o),Xoe(i,o)}),{x:o.e,y:o.f}},Ln.prototype.scrollToElement=function(t,i){let o=100;"string"==typeof t&&(t=this._elementRegistry.get(t));const s=this.findRoot(t);if(s!==this.getRootElement()&&this.setRootElement(s),s===t)return;i||(i={}),"number"==typeof i&&(o=i),i={top:i.top||o,right:i.right||o,bottom:i.bottom||o,left:i.left||o};const a=jo(t),l=ln(a),c=this.viewbox(),u=this.zoom();let p,h;c.y+=i.top/u,c.x+=i.left/u,c.width-=(i.right+i.left)/u,c.height-=(i.bottom+i.top)/u;const g=ln(c);if(a.width<c.width&&a.height<c.height){const E=Math.max(0,l.right-g.right),C=Math.min(0,l.left-g.left),D=Math.max(0,l.bottom-g.bottom),O=Math.min(0,l.top-g.top);p=E||C,h=D||O}else p=a.x-c.x,h=a.y-c.y;this.scroll({dx:-p*u,dy:-h*u})},Ln.prototype.zoom=function(t,i){if(!t)return this.viewbox(t).scale;if("fit-viewport"===t)return this._fitViewport(i);let o,s;return this._changeViewbox(function(){"object"!=typeof i&&(o=this.viewbox().outer,i={x:o.width/2,y:o.height/2}),s=this._setZoom(t,i)}),nP(s.a,1e3)},Ln.prototype._fitViewport=function(t){const i=this.viewbox(),o=i.outer,s=i.inner;let a,l;return s.x>=0&&s.y>=0&&s.x+s.width<=o.width&&s.y+s.height<=o.height&&!t?l={x:0,y:0,width:Math.max(s.width+s.x,o.width),height:Math.max(s.height+s.y,o.height)}:(a=Math.min(1,o.width/s.width,o.height/s.height),l={x:s.x+(t?s.width/2-o.width/a/2:0),y:s.y+(t?s.height/2-o.height/a/2:0),width:o.width/a,height:o.height/a}),this.viewbox(l),this.viewbox(!1).scale},Ln.prototype._setZoom=function(t,i){const o=this._svg,s=this._viewport,a=o.createSVGMatrix(),l=o.createSVGPoint();let c,u,p,h,g;p=s.getCTM();const y=p.a;return i?(c=Re(l,i),u=c.matrixTransform(p.inverse()),h=a.translate(u.x,u.y).scale(1/y*t).translate(-u.x,-u.y),g=p.multiply(h)):g=a.scale(t),Xoe(this._viewport,g),g},Ln.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Ln.prototype.getAbsoluteBBox=function(t){const i=this.viewbox();let o;return o=t.waypoints?this.getGraphics(t).getBBox():t,{x:o.x*i.scale-i.x*i.scale,y:o.y*i.scale-i.y*i.scale,width:o.width*i.scale,height:o.height*i.scale}},Ln.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var k5="data-element-id";function Nc(t){this._elements={},this._eventBus=t}Nc.$inject=["eventBus"],Nc.prototype.add=function(t,i,o){var s=t.id;this._validateId(s),Mt(i,k5,s),o&&Mt(o,k5,s),this._elements[s]={element:t,gfx:i,secondaryGfx:o}},Nc.prototype.remove=function(t){var i=this._elements,o=t.id||t,s=o&&i[o];s&&(Mt(s.gfx,k5,""),s.secondaryGfx&&Mt(s.secondaryGfx,k5,""),delete i[o])},Nc.prototype.updateId=function(t,i){this._validateId(i),"string"==typeof t&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:i});var o=this.getGraphics(t),s=this.getGraphics(t,!0);this.remove(t),t.id=i,this.add(t,o,s)},Nc.prototype.updateGraphics=function(t,i,o){var s=t.id||t,a=this._elements[s];return o?a.secondaryGfx=i:a.gfx=i,i&&Mt(i,k5,s),i},Nc.prototype.get=function(t){var i;i="string"==typeof t?t:t&&Mt(t,k5);var o=this._elements[i];return o&&o.element},Nc.prototype.filter=function(t){var i=[];return this.forEach(function(o,s){t(o,s)&&i.push(o)}),i},Nc.prototype.find=function(t){for(var i=this._elements,o=Object.keys(i),s=0;s<o.length;s++){var l=i[o[s]],c=l.element;if(t(c,l.gfx))return c}},Nc.prototype.getAll=function(){return this.filter(function(t){return t})},Nc.prototype.forEach=function(t){var i=this._elements;Object.keys(i).forEach(function(o){var s=i[o];return t(s.element,s.gfx)})},Nc.prototype.getGraphics=function(t,i){var s=this._elements[t.id||t];return s&&(i?s.secondaryGfx:s.gfx)},Nc.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};var oVe=Hn(932),b6=Hn.n(oVe),CV=new(b6())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Yoe=new(b6())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Koe=new(b6())({name:"attachers",collection:!0},{name:"host"}),Qoe=new(b6())({name:"outgoing",collection:!0},{name:"source"}),Zoe=new(b6())({name:"incoming",collection:!0},{name:"target"});function A5(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var i=this.label,o=this.labels;!t&&i?o.remove(i):o.add(t,0)}}),CV.bind(this,"parent"),Yoe.bind(this,"labels"),Qoe.bind(this,"outgoing"),Zoe.bind(this,"incoming")}function _6(){A5.call(this),CV.bind(this,"children"),Koe.bind(this,"host"),Koe.bind(this,"attachers")}function Joe(){A5.call(this),CV.bind(this,"children")}function ese(){_6.call(this),Yoe.bind(this,"labelTarget")}function tse(){A5.call(this),Qoe.bind(this,"source"),Zoe.bind(this,"target")}jt(_6,A5),jt(Joe,_6),jt(ese,_6),jt(tse,A5);var sVe={connection:tse,shape:_6,label:ese,root:Joe};function Vf(){this._uid=12}Vf.prototype.createRoot=function(t){return this.create("root",t)},Vf.prototype.createLabel=function(t){return this.create("label",t)},Vf.prototype.createShape=function(t){return this.create("shape",t)},Vf.prototype.createConnection=function(t){return this.create("connection",t)},Vf.prototype.create=function(t,i){return(i=Re({},i||{})).id||(i.id=t+"_"+this._uid++),function aVe(t,i){var o=sVe[t];if(!o)throw new Error("unknown type: <"+t+">");return Re(new o,i)}(t,i)};var rP="__fn",cVe=Array.prototype.slice;function Jl(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function E6(){}function iP(t){return t.childNodes[0]}function SV(t,i,o,s,a){var l=h6();l.setTranslate(i,o);var c=h6();c.setRotate(s||0,0,0);var u=h6();u.setScale(a||1,a||1),m6(t,[l,c,u])}function ec(t,i,o){var s=h6();s.setTranslate(i,o),m6(t,s)}function rse(t,i){var o=h6();o.setRotate(i,0,0),m6(t,o)}function Lc(t,i){this._eventBus=t,this._elementRegistry=i}function ise(t,i,o){var s=o||i.firstChild;t!==s&&i.insertBefore(t,s)}Jl.prototype.on=function(t,i,o,s){if(t=Rn(t)?t:[t],Vr(i)&&(s=o,o=i,i=1e3),!gn(i))throw new Error("priority must be a number");var a=o;s&&((a=vl(o,s))[rP]=o[rP]||o);var l=this;t.forEach(function(c){l._addListener(c,{priority:i,callback:a,next:null})})},Jl.prototype.once=function(t,i,o,s){var a=this;if(Vr(i)&&(s=o,o=i,i=1e3),!gn(i))throw new Error("priority must be a number");function l(){l.__isTomb=!0;var c=o.apply(s,arguments);return a.off(t,l),c}l[rP]=o,this.on(t,i,l)},Jl.prototype.off=function(t,i){t=Rn(t)?t:[t];var o=this;t.forEach(function(s){o._removeListener(s,i)})},Jl.prototype.createEvent=function(t){var i=new E6;return i.init(t),i},Jl.prototype.fire=function(t,i){var o,s,a,l;if(l=cVe.call(arguments),"object"==typeof t&&(t=(i=t).type),!t)throw new Error("no event type specified");if(s=this._listeners[t]){o=i instanceof E6?i:this.createEvent(i),l[0]=o;var c=o.type;t!==c&&(o.type=t);try{a=this._invokeListeners(o,l,s)}finally{t!==c&&(o.type=c)}return void 0===a&&o.defaultPrevented&&(a=!1),a}},Jl.prototype.handleError=function(t){return!1===this.fire("error",{error:t})},Jl.prototype._destroy=function(){this._listeners={}},Jl.prototype._invokeListeners=function(t,i,o){for(var s;o&&!t.cancelBubble;)s=this._invokeListener(t,i,o),o=o.next;return s},Jl.prototype._invokeListener=function(t,i,o){var s;if(o.callback.__isTomb)return s;try{s=function uVe(t,i){return t.apply(null,i)}(o.callback,i),void 0!==s&&(t.returnValue=s,t.stopPropagation()),!1===s&&t.preventDefault()}catch(a){if(!this.handleError(a))throw console.error("unhandled error in event listener",a),a}return s},Jl.prototype._addListener=function(t,i){var s,o=this._getListeners(t);if(o){for(;o;){if(o.priority<i.priority)return i.next=o,void(s?s.next=i:this._setListeners(t,i));s=o,o=o.next}s.next=i}else this._setListeners(t,i)},Jl.prototype._getListeners=function(t){return this._listeners[t]},Jl.prototype._setListeners=function(t,i){this._listeners[t]=i},Jl.prototype._removeListener=function(t,i){var s,a,l,o=this._getListeners(t);if(i)for(;o;)s=o.next,((l=o.callback)===i||l[rP]===i)&&(a?a.next=s:this._setListeners(t,s)),a=o,o=s;else this._setListeners(t,null)},E6.prototype.stopPropagation=function(){this.cancelBubble=!0},E6.prototype.preventDefault=function(){this.defaultPrevented=!0},E6.prototype.init=function(t){Re(this,t||{})},Lc.$inject=["eventBus","elementRegistry"],Lc.prototype._getChildrenContainer=function(t){var o,i=this._elementRegistry.getGraphics(t);return t.parent?(o=function dVe(t){return t.parentNode.childNodes[1]}(i),o||(ur(o=an("g")).add("djs-children"),bn(i.parentNode,o))):o=i,o},Lc.prototype._clear=function(t){var i=iP(t);return GD(i),i},Lc.prototype._createContainer=function(t,i,o,s){var a=an("g");ur(a).add("djs-group"),typeof o<"u"?ise(a,i,i.childNodes[o]):bn(i,a);var l=an("g");ur(l).add("djs-element"),ur(l).add("djs-"+t),s&&ur(l).add("djs-frame"),bn(a,l);var c=an("g");return ur(c).add("djs-visual"),bn(l,c),l},Lc.prototype.create=function(t,i,o){var s=this._getChildrenContainer(i.parent);return this._createContainer(t,s,o,$oe(i))},Lc.prototype.updateContainments=function(t){var i=this,o=this._elementRegistry;_e(gl(t,function(a,l){return l.parent&&(a[l.parent.id]=l.parent),a},{}),function(a){var l=a.children;if(l){var c=i._getChildrenContainer(a);_e(l.slice().reverse(),function(u){ise(o.getGraphics(u).parentNode,c)})}})},Lc.prototype.drawShape=function(t,i,o={}){return this._eventBus.fire("render.shape",{gfx:t,element:i,attrs:o})},Lc.prototype.getShapePath=function(t){return this._eventBus.fire("render.getShapePath",t)},Lc.prototype.drawConnection=function(t,i,o={}){return this._eventBus.fire("render.connection",{gfx:t,element:i,attrs:o})},Lc.prototype.getConnectionPath=function(t){return this._eventBus.fire("render.getConnectionPath",t)},Lc.prototype.update=function(t,i,o){if(i.parent){var s=this._clear(o);if("shape"===t)this.drawShape(s,i),ec(o,i.x,i.y);else{if("connection"!==t)throw new Error("unknown type: "+t);this.drawConnection(s,i)}Mt(o,"display",i.hidden?"none":"block")}},Lc.prototype.remove=function(t){Eo(this._elementRegistry.getGraphics(t).parentNode)};const pVe={__depends__:[GBe],__init__:["canvas"],canvas:["type",Ln],elementRegistry:["type",Nc],elementFactory:["type",Vf],eventBus:["type",Jl],graphicsFactory:["type",Lc]};function R5(t,i){this._injector=i=i||function hVe(t){return function fVe(t){var i=new Noe(t);return i.init(),i}([{config:["value",t=t||{}]},pVe].concat(t.modules||[]))}(t),this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("diagram.init")}function DV(){}function ose(t,i){this.model=t,this.properties=i}R5.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},R5.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},DV.prototype.get=function(t){return this.$model.properties.get(this,t)},DV.prototype.set=function(t,i){this.$model.properties.set(this,t,i)},ose.prototype.createType=function(t){var i=this.model,o=this.properties,s=Object.create(DV.prototype);_e(t.properties,function(c){!c.isMany&&void 0!==c.default&&(s[c.name]=c.default)}),o.defineModel(s,i),o.defineDescriptor(s,t);var a=t.ns.name;function l(c){o.define(this,"$type",{value:a,enumerable:!0}),o.define(this,"$attrs",{value:{}}),o.define(this,"$parent",{writable:!0}),_e(c,vl(function(u,p){this.set(p,u)},this))}return l.prototype=s,l.hasType=s.$instanceOf=this.model.hasType,o.defineModel(l,i),o.defineDescriptor(l,t),l};var mVe={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},sse={String:function(t){return t},Boolean:function(t){return"true"===t},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function TV(t,i){var o=sse[t];return o?o(i):i}function PV(t){return!!mVe[t]}function ase(t){return!!sse[t]}function Ha(t,i){var s,a,o=t.split(/:/);if(1===o.length)s=t,a=i;else{if(2!==o.length)throw new Error("expected <prefix:localName> or <localName>, got "+t);s=o[1],a=o[0]}return{name:t=(a?a+":":"")+s,prefix:a,localName:s}}function Fc(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Qm(t,i){this.packageMap={},this.typeMap={},this.packages=[],this.properties=i,_e(t,vl(this.registerPackage,this))}function lse(t,i,o){var s=i[o];if(s in t)throw new Error("package with "+o+" <"+s+"> already defined")}function vy(t){this.model=t}function cse(t,i,o){Object.defineProperty(t,i.name,{enumerable:!i.isReference,writable:!0,value:o,configurable:!0})}function MV(t){return t.replace(/^:/,"")}function _u(t,i={}){this.properties=new vy(this),this.factory=new ose(this,this.properties),this.registry=new Qm(t,this.properties),this.typeCache={},this.config=i}Fc.prototype.build=function(){return y0(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Fc.prototype.addProperty=function(t,i,o){"boolean"==typeof i&&(o=i,i=void 0),this.addNamedProperty(t,!1!==o);var s=this.properties;void 0!==i?s.splice(i,0,t):s.push(t)},Fc.prototype.replaceProperty=function(t,i,o){var s=t.ns,a=this.properties,l=this.propertiesByName,c=t.name!==i.name;if(t.isId){if(!i.isId)throw new Error("property <"+i.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(i,!1)}if(t.isBody){if(!i.isBody)throw new Error("property <"+i.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(i,!1)}var u=a.indexOf(t);if(-1===u)throw new Error("property <"+s.name+"> not found in property list");a.splice(u,1),this.addProperty(i,o?void 0:u,c),l[s.name]=l[s.localName]=i},Fc.prototype.redefineProperty=function(t,i,o){var s=t.ns.prefix,a=i.split("#"),l=Ha(a[0],s),c=Ha(a[1],l.prefix).name,u=this.propertiesByName[c];if(!u)throw new Error("refined property <"+c+"> not found");this.replaceProperty(u,t,o),delete t.redefines},Fc.prototype.addNamedProperty=function(t,i){var o=t.ns,s=this.propertiesByName;i&&(this.assertNotDefined(t,o.name),this.assertNotDefined(t,o.localName)),s[o.name]=s[o.localName]=t},Fc.prototype.removeNamedProperty=function(t){var i=t.ns,o=this.propertiesByName;delete o[i.name],delete o[i.localName]},Fc.prototype.setBodyProperty=function(t,i){if(i&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t},Fc.prototype.setIdProperty=function(t,i){if(i&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t},Fc.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)},Fc.prototype.assertNotDefined=function(t,i){var o=t.name,s=this.propertiesByName[o];if(s)throw new Error("property <"+o+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")},Fc.prototype.hasProperty=function(t){return this.propertiesByName[t]},Fc.prototype.addTrait=function(t,i){i&&this.assertNotTrait(t);var o=this.allTypesByName,s=this.allTypes,a=t.name;a in o||(_e(t.properties,vl(function(l){l=Re({},l,{name:l.ns.localName,inherited:i}),Object.defineProperty(l,"definedBy",{value:t});var c=l.replaces,u=l.redefines;c||u?this.redefineProperty(l,c||u,c):(l.isBody&&this.setBodyProperty(l),l.isId&&this.setIdProperty(l),this.addProperty(l))},this)),s.push(t),o[a]=t)},Qm.prototype.getPackage=function(t){return this.packageMap[t]},Qm.prototype.getPackages=function(){return this.packages},Qm.prototype.registerPackage=function(t){t=Re({},t);var i=this.packageMap;lse(i,t,"prefix"),lse(i,t,"uri"),_e(t.types,vl(function(o){this.registerType(o,t)},this)),i[t.uri]=i[t.prefix]=t,this.packages.push(t)},Qm.prototype.registerType=function(t,i){var o=Ha((t=Re({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:Re(t.meta||{})})).name,i.prefix),s=o.name,a={};_e(t.properties,vl(function(l){var c=Ha(l.name,o.prefix),u=c.name;PV(l.type)||(l.type=Ha(l.type,c.prefix).name),Re(l,{ns:c,name:u}),a[u]=l},this)),Re(t,{ns:o,name:s,propertiesByName:a}),_e(t.extends,vl(function(l){var c=Ha(l,o.prefix),u=this.typeMap[c.name];u.traits=u.traits||[],u.traits.push(s)},this)),this.definePackage(t,i),this.typeMap[s]=t},Qm.prototype.mapTypes=function(t,i,o){var s=PV(t.name)?{name:t.name}:this.typeMap[t.name],a=this;function l(p,h){var g=Ha(p,PV(p)?"":t.prefix);a.mapTypes(g,i,h)}function c(p){return l(p,!0)}if(!s)throw new Error("unknown type <"+t.name+">");_e(s.superClass,o?c:function u(p){return l(p,!1)}),i(s,!o),_e(s.traits,c)},Qm.prototype.getEffectiveDescriptor=function(t){var i=Ha(t),o=new Fc(i);this.mapTypes(i,function(a,l){o.addTrait(a,l)});var s=o.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},Qm.prototype.definePackage=function(t,i){this.properties.define(t,"$pkg",{value:i})},vy.prototype.set=function(t,i,o){if(!la(i)||!i.length)throw new TypeError("property name must be a non-empty string");var s=this.getProperty(t,i),a=s&&s.name;!function gVe(t){return typeof t>"u"}(o)?s?a in t?t[a]=o:cse(t,s,o):t.$attrs[MV(i)]=o:s?delete t[a]:delete t.$attrs[MV(i)]},vy.prototype.get=function(t,i){var o=this.getProperty(t,i);if(!o)return t.$attrs[MV(i)];var s=o.name;return!t[s]&&o.isMany&&cse(t,o,[]),t[s]},vy.prototype.define=function(t,i,o){if(!o.writable){var s=o.value;delete(o=Re({},o,{get:function(){return s}})).value}Object.defineProperty(t,i,o)},vy.prototype.defineDescriptor=function(t,i){this.define(t,"$descriptor",{value:i})},vy.prototype.defineModel=function(t,i){this.define(t,"$model",{value:i})},vy.prototype.getProperty=function(t,i){var o=this.model,s=o.getPropertyDescriptor(t,i);if(s)return s;if(i.includes(":"))return null;const a=o.config.strict;if(typeof a<"u"){const l=new TypeError(`unknown property <${i}> on <${t.$type}>`);if(a)throw l;typeof console<"u"&&console.warn(l)}return null},_u.prototype.create=function(t,i){var o=this.getType(t);if(!o)throw new Error("unknown type <"+t+">");return new o(i)},_u.prototype.getType=function(t){var i=this.typeCache,o=la(t)?t:t.ns.name,s=i[o];return s||(t=this.registry.getEffectiveDescriptor(o),s=i[o]=this.factory.createType(t)),s},_u.prototype.createAny=function(t,i,o){var s=Ha(t),a={$type:t,$instanceOf:function(c){return c===this.$type},get:function(c){return this[c]},set:function(c,u){JX(this,[c],u)}};return this.properties.defineDescriptor(a,{name:t,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:i}}),this.properties.defineModel(a,this),this.properties.define(a,"get",{enumerable:!1,writable:!0}),this.properties.define(a,"set",{enumerable:!1,writable:!0}),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),_e(o,function(c,u){Lo(c)&&void 0!==c.value?a[c.name]=c.value:a[u]=c}),a},_u.prototype.getPackage=function(t){return this.registry.getPackage(t)},_u.prototype.getPackages=function(){return this.registry.getPackages()},_u.prototype.getElementDescriptor=function(t){return t.$descriptor},_u.prototype.hasType=function(t,i){return void 0===i&&(i=t,t=this),i in t.$model.getElementDescriptor(t).allTypesByName},_u.prototype.getPropertyDescriptor=function(t,i){return this.getElementDescriptor(t).propertiesByName[i]},_u.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var use=String.fromCharCode,vVe=Object.prototype.hasOwnProperty,yVe=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,x6={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function bVe(t,i,o,s){return s?vVe.call(x6,s)?x6[s]:"&"+s+";":use(i||parseInt(o,16))}function yy(t){return t.length>3&&-1!==t.indexOf("&")?t.replace(yVe,bVe):t}Object.keys(x6).forEach(function(t){x6[t.toUpperCase()]=x6[t]});var pse="non-whitespace outside of root node";function I5(t){return new Error(t)}function fse(t){return"missing namespace for prefix <"+t+">"}function oP(t){return{get:t,enumerable:!0}}function xVe(t){var o,i={};for(o in t)i[o]=t[o];return i}function OV(t){return t+"$uri"}function hse(){return{line:0,column:0}}function CVe(t){throw t}function mse(t){if(!this)return new mse(t);var o,s,a,l,u,p,h,g,A,i=t&&t.proxy,c=CVe,y=hse,E=!1,C=!1,D=null,O=!1;function F(j){j instanceof Error||(j=I5(j)),D=j,c(j,y)}function N(j){u&&(j instanceof Error||(j=I5(j)),u(j,y))}this.on=function(j,q){if("function"!=typeof q)throw I5("required args <name, cb>");switch(j){case"openTag":s=q;break;case"text":o=q;break;case"closeTag":a=q;break;case"error":c=q;break;case"warn":u=q;break;case"cdata":l=q;break;case"attention":g=q;break;case"question":h=q;break;case"comment":p=q;break;default:throw I5("unsupported event: "+j)}return this},this.ns=function(j){if(typeof j>"u"&&(j={}),"object"!=typeof j)throw I5("required args <nsMap={}>");var ee,q={};for(ee in j)q[ee]=j[ee];return q["http://www.w3.org/2001/XMLSchema-instance"]="xsi",C=!0,A=q,this},this.parse=function(j){if("string"!=typeof j)throw I5("required args <xml=string>");return D=null,function B(j){var ae,Fe,_t,xt,Pt,Bt,pe,U,Se,ke,tt,q=C?[]:null,ee=C?function wVe(t){var o,s,i={};for(o in t)i[s=t[o]]=s,i[OV(s)]=o;return i}(A):null,te=[],ne=0,he=!1,Ce=!1,fe=0,ye=0,Pe="",Be=0;function Mn(){if(null!==tt)return tt;var ri,Ml,Uo,ype,x1,is,up,bi,k0,_n,mi,Ou=C&&ee.xmlns,O0=C&&E?[]:null,to=Be,$s=Pe,Jf=$s.length,s_={},bpe={};e:for(;to<Jf;to++)if(k0=!1,_n=$s.charCodeAt(to),!(32===_n||_n<14&&_n>8)){for((_n<65||_n>122||_n>90&&_n<97)&&95!==_n&&58!==_n&&(N("illegal first char attribute name"),k0=!0),mi=to+1;mi<Jf;mi++)if(!((_n=$s.charCodeAt(mi))>96&&_n<123||_n>64&&_n<91||_n>47&&_n<59||46===_n||45===_n||95===_n)){if(32===_n||_n<14&&_n>8){N("missing attribute value"),to=mi;continue e}if(61===_n)break;N("illegal attribute name char"),k0=!0}if("xmlns:xmlns"===(bi=$s.substring(to,mi))&&(N("illegal declaration of xmlns"),k0=!0),34===(_n=$s.charCodeAt(mi+1)))-1===(mi=$s.indexOf('"',to=mi+2))&&-1!==(mi=$s.indexOf("'",to))&&(N("attribute value quote missmatch"),k0=!0);else if(39===_n)-1===(mi=$s.indexOf("'",to=mi+2))&&-1!==(mi=$s.indexOf('"',to))&&(N("attribute value quote missmatch"),k0=!0);else for(N("missing attribute value quotes"),k0=!0,mi+=1;mi<Jf&&!(32===(_n=$s.charCodeAt(mi+1))||_n<14&&_n>8);mi++);for(-1===mi&&(N("missing closing quotes"),mi=Jf,k0=!0),k0||(is=$s.substring(to,mi)),to=mi;mi+1<Jf&&!(32===(_n=$s.charCodeAt(mi+1))||_n<14&&_n>8);mi++)to===mi&&(N("illegal character after attribute end"),k0=!0);if(to=mi+1,k0)continue e;if(bi in bpe){N("attribute <"+bi+"> already defined");continue}if(bpe[bi]=!0,!C){s_[bi]=is;continue}if(E){if(null!==(x1="xmlns"===bi?"xmlns":120===bi.charCodeAt(0)&&"xmlns:"===bi.substr(0,6)?bi.substr(6):null)){if(ri=yy(is),Ml=OV(x1),!(up=A[ri])){if("xmlns"===x1||Ml in ee&&ee[Ml]!==ri)do{up="ns"+ne++}while(typeof ee[up]<"u");else up=x1;A[ri]=up}ee[x1]!==up&&(ype||(ee=xVe(ee),ype=!0),ee[x1]=up,"xmlns"===x1&&(ee[OV(up)]=ri,Ou=up),ee[Ml]=ri),s_[bi]=is;continue}O0.push(bi,is);continue}if(-1===(_n=bi.indexOf(":"))){s_[bi]=is;continue}if(!(Uo=ee[bi.substring(0,_n)])){N(fse(bi.substring(0,_n)));continue}"xsi:type"===(bi=Ou===Uo?bi.substr(_n+1):Uo+bi.substr(_n))&&(-1!==(_n=is.indexOf(":"))?(Uo=is.substring(0,_n),is=(Uo=ee[Uo]||Uo)+is.substring(_n)):is=Ou+":"+is),s_[bi]=is}if(E)for(to=0,Jf=O0.length;to<Jf;to++){if(bi=O0[to++],is=O0[to],-1!==(_n=bi.indexOf(":"))){if(!(Uo=ee[bi.substring(0,_n)])){N(fse(bi.substring(0,_n)));continue}"xsi:type"===(bi=Ou===Uo?bi.substr(_n+1):Uo+bi.substr(_n))&&(-1!==(_n=is.indexOf(":"))?(Uo=is.substring(0,_n),is=(Uo=ee[Uo]||Uo)+is.substring(_n)):is=Ou+":"+is)}s_[bi]=is}return tt=s_}for(y=function Oi(){for(var to,$s,ri=/(\r\n|\r|\n)/g,Ml=0,Uo=0,Ou=0,O0=ye;fe>=Ou&&(to=ri.exec(j))&&!((O0=to[0].length+to.index)>fe);)Ml+=1,Ou=O0;return-1==fe?(Uo=O0,$s=j.substring(ye)):0===ye?$s=j.substring(ye,fe):(Uo=fe-Ou,$s=-1==ye?j.substring(fe):j.substring(fe,ye+1)),{data:$s,line:Ml,column:Uo}},i&&(ke=Object.create({},{name:oP(function(){return U}),originalName:oP(function(){return Se}),attrs:oP(Mn),ns:oP(function(){return ee})}));-1!==ye;){if(-1===(fe=60===j.charCodeAt(ye)?ye:j.indexOf("<",ye)))return te.length?F("unexpected end of file"):0===ye?F("missing start tag"):void(ye<j.length&&j.substring(ye).trim()&&N(pse));if(ye!==fe)if(te.length){if(o&&(o(j.substring(ye,fe),yy,y),O))return}else if(j.substring(ye,fe).trim()&&(N(pse),O))return;if(33===(Pt=j.charCodeAt(fe+1))){if(91===(xt=j.charCodeAt(fe+2))&&"CDATA["===j.substr(fe+3,6)){if(-1===(ye=j.indexOf("]]>",fe)))return F("unclosed cdata");if(l&&(l(j.substring(fe+9,ye),y),O))return;ye+=3;continue}if(45===xt&&45===j.charCodeAt(fe+3)){if(-1===(ye=j.indexOf("--\x3e",fe)))return F("unclosed comment");if(p&&(p(j.substring(fe+4,ye),yy,y),O))return;ye+=3;continue}}if(63!==Pt){for(Fe=fe+1;;Fe++){if(Bt=j.charCodeAt(Fe),isNaN(Bt))return ye=-1,F("unclosed tag");if(34===Bt)Fe=-1!==(xt=j.indexOf('"',Fe+1))?xt:Fe;else if(39===Bt)Fe=-1!==(xt=j.indexOf("'",Fe+1))?xt:Fe;else if(62===Bt){ye=Fe;break}}if(33!==Pt){if(tt={},47===Pt){if(he=!1,Ce=!0,!te.length)return F("missing open tag");if(Fe=U=te.pop(),j.substring(fe+2,xt=fe+2+Fe.length)!==Fe)return F("closing tag mismatch");for(;xt<ye;xt++)if(!(32===(Pt=j.charCodeAt(xt))||Pt>8&&Pt<14))return F("close tag")}else{if(47===j.charCodeAt(ye-1)?(Fe=U=j.substring(fe+1,ye-1),he=!0,Ce=!0):(Fe=U=j.substring(fe+1,ye),he=!0,Ce=!1),!(Pt>96&&Pt<123||Pt>64&&Pt<91||95===Pt||58===Pt))return F("illegal first char nodeName");for(xt=1,_t=Fe.length;xt<_t;xt++)if(!((Pt=Fe.charCodeAt(xt))>96&&Pt<123||Pt>64&&Pt<91||Pt>47&&Pt<59||45===Pt||95===Pt||46==Pt)){if(32===Pt||Pt<14&&Pt>8){U=Fe.substring(0,xt),tt=null;break}return F("invalid nodeName")}Ce||te.push(U)}if(C){if(ae=ee,he&&(Ce||q.push(ae),null===tt&&(E=-1!==Fe.indexOf("xmlns",xt))&&(Be=xt,Pe=Fe,Mn(),E=!1)),Se=U,-1!==(Pt=U.indexOf(":"))){if(!(pe=ee[U.substring(0,Pt)]))return F("missing namespace on <"+Se+">");U=U.substr(Pt+1)}else pe=ee.xmlns;pe&&(U=pe+":"+U)}if(he&&(Be=xt,Pe=Fe,s&&(i?s(ke,yy,Ce,y):s(U,Mn,yy,Ce,y),O)))return;if(Ce){if(a&&(a(i?ke:U,yy,he,y),O))return;C&&(ee=he?ae:q.pop())}ye+=1}else{if(g&&(g(j.substring(fe,ye+1),yy,y),O))return;ye+=1}}else{if(-1===(ye=j.indexOf("?>",fe)))return F("unclosed question");if(h&&(h(j.substring(fe,ye+2),y),O))return;ye+=2}}}(j),y=hse,O=!1,D},this.stop=function(){O=!0}}function gse(t){return t.xml&&"lowerCase"===t.xml.tagAlias}var SVe={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},sP="xsi:type";function vse(t){return t.xml&&t.xml.serialize}function yse(t){return vse(t)===sP}function bse(t,i){return gse(i)?t.prefix+":"+function TVe(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t.localName):t.name}function Zm(t){return new Error(t)}function jf(t){return t.$descriptor}function OVe(t){Re(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(i){this.references.push(i)},this.addElement=function(i){if(!i)throw Zm("expected element");var l,o=this.elementsById,a=jf(i).idProperty;if(a&&(l=i.get(a.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(l))throw new Error("illegal ID <"+l+">");if(o[l])throw Zm("duplicate ID <"+l+">");o[l]=i}},this.addWarning=function(i){this.warnings.push(i)}}function w6(){}function kV(){}function N5(){}function C6(t,i){this.property=t,this.context=i}function AV(t,i){this.element=i,this.propertyDesc=t}function aP(){}function Ua(t,i,o){this.model=t,this.type=t.getType(i),this.context=o}function RV(t,i,o){Ua.call(this,t,i,o)}function L5(t,i,o){this.model=t,this.context=o}function IV(t){t instanceof _u&&(t={model:t}),Re(this,{lax:!1},t)}w6.prototype.handleEnd=function(){},w6.prototype.handleText=function(){},w6.prototype.handleNode=function(){},(kV.prototype=Object.create(w6.prototype)).handleNode=function(){return this},(N5.prototype=Object.create(w6.prototype)).handleText=function(t){this.body=(this.body||"")+t},(C6.prototype=Object.create(N5.prototype)).handleNode=function(t){if(this.element)throw Zm("expected no sub nodes");return this.element=this.createReference(t),this},C6.prototype.handleEnd=function(){this.element.id=this.body},C6.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}},(AV.prototype=Object.create(N5.prototype)).handleEnd=function(){var t=this.body||"",i=this.element,o=this.propertyDesc;t=TV(o.type,t),o.isMany?i.get(o.name).push(t):i.set(o.name,t)},(aP.prototype=Object.create(N5.prototype)).handleNode=function(t){var i=this,o=this.element;return o?i=this.handleChild(t):(o=this.element=this.createElement(t),this.context.addElement(o)),i},(Ua.prototype=Object.create(aP.prototype)).addReference=function(t){this.context.addReference(t)},Ua.prototype.handleText=function(t){if(!jf(this.element).bodyProperty)throw Zm("unexpected body text <"+t+">");N5.prototype.handleText.call(this,t)},Ua.prototype.handleEnd=function(){var t=this.body,i=this.element,s=jf(i).bodyProperty;s&&void 0!==t&&(t=TV(s.type,t),i.set(s.name,t))},Ua.prototype.createElement=function(t){var u,i=t.attributes,o=this.type,s=jf(o),a=this.context,l=new o({}),c=this.model;return _e(i,function(p,h){var g=s.propertiesByName[h];g&&g.isReference?g.isMany?_e(p.split(" "),function(E){a.addReference({element:l,property:g.ns.name,id:E})}):a.addReference({element:l,property:g.ns.name,id:p}):(g?p=TV(g.type,p):"xmlns"!==h&&(u=Ha(h,s.ns.prefix),c.getPackage(u.prefix)&&a.addWarning({message:"unknown attribute <"+h+">",element:l,property:h,value:p})),l.set(h,p))}),l},Ua.prototype.getPropertyForNode=function(t){var p,h,o=Ha(t.name),a=this.model,l=jf(this.type),u=l.propertiesByName[o.name];if(u&&!u.isAttr)return yse(u)&&(p=t.attributes[sP])?(p=function MVe(t,i){var o=Ha(t);return function PVe(t,i){var o=t.name,s=t.localName,a=i.xml&&i.xml.typePrefix;return a&&0===s.indexOf(a)?t.prefix+":"+s.slice(a.length):o}(o,i.getPackage(o.prefix))}(p,a),Re({},u,{effectiveType:jf(h=a.getType(p)).name})):u;var g=a.getPackage(o.prefix);if(g){if(p=bse(o,g),h=a.getType(p),u=Qn(l.properties,function(y){return!y.isVirtual&&!y.isReference&&!y.isAttribute&&h.hasType(y.type)}))return Re({},u,{effectiveType:jf(h).name})}else if(u=Qn(l.properties,function(y){return!y.isReference&&!y.isAttribute&&"Element"===y.type}))return u;throw Zm("unrecognized element <"+o.name+">")},Ua.prototype.toString=function(){return"ElementDescriptor["+jf(this.type).name+"]"},Ua.prototype.valueHandler=function(t,i){return new AV(t,i)},Ua.prototype.referenceHandler=function(t){return new C6(t,this.context)},Ua.prototype.handler=function(t){return"Element"===t?new L5(this.model,t,this.context):new Ua(this.model,t,this.context)},Ua.prototype.handleChild=function(t){var i,o,s,a;if(i=this.getPropertyForNode(t),s=this.element,ase(o=i.effectiveType||i.type))return this.valueHandler(i,s);var l=(a=i.isReference?this.referenceHandler(i).handleNode(t):this.handler(o).handleNode(t)).element;return void 0!==l&&(i.isMany?s.get(i.name).push(l):s.set(i.name,l),i.isReference?(Re(l,{element:s}),this.context.addReference(l)):l.$parent=s),a},(RV.prototype=Object.create(Ua.prototype)).createElement=function(t){var i=t.name,o=Ha(i),a=this.type,l=this.model.getPackage(o.prefix),c=l&&bse(o,l)||i;if(!a.hasType(c))throw Zm("unexpected element <"+t.originalName+">");return Ua.prototype.createElement.call(this,t)},(L5.prototype=Object.create(aP.prototype)).createElement=function(t){var i=t.name,o=Ha(i);return this.model.createAny(i,t.ns[o.prefix+"$uri"],t.attributes)},L5.prototype.handleChild=function(t){var i=new L5(this.model,"Element",this.context).handleNode(t),o=this.element,s=i.element;return void 0!==s&&((o.$children=o.$children||[]).push(s),s.$parent=o),i},L5.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},IV.prototype.fromXML=function(t,i,o){var s=i.rootHandler;i instanceof Ua?(s=i,i={}):"string"==typeof i?(s=this.handler(i),i={}):"string"==typeof s&&(s=this.handler(s));var a=this.model,l=this.lax,c=new OVe(Re({},i,{rootHandler:s})),u=new mse({proxy:!0}),p=function kVe(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}();function h(q,ee,ae){var te=ee(),ne=te.line,he=te.column,Ce=te.data;"<"===Ce.charAt(0)&&-1!==Ce.indexOf(" ")&&(Ce=Ce.slice(0,Ce.indexOf(" "))+">");var fe="unparsable content "+(Ce?Ce+" ":"")+"detected\n\tline: "+ne+"\n\tcolumn: "+he+"\n\tnested error: "+q.message;if(ae)return c.addWarning({message:fe,error:q}),!0;throw Zm(fe)}function g(q,ee){return h(q,ee,!0)}s.context=c,p.push(s);var C=/^<\?xml /i,D=/ encoding="([^"]+)"/i,O=/^utf-8$/i;function N(q,ee){try{p.peek().handleText(q)}catch(ae){g(ae,ee)}}var j=a.getPackages().reduce(function(q,ee){return q[ee.uri]=ee.prefix,q},{"http://www.w3.org/XML/1998/namespace":"xml"});return u.ns(j).on("openTag",function(q,ee,ae,te){var ne=q.attrs||{},he=Object.keys(ne).reduce(function(fe,ye){var Fe=ee(ne[ye]);return fe[ye]=Fe,fe},{});!function F(q,ee){var ae=p.peek();try{p.push(ae.handleNode(q))}catch(te){h(te,ee,l)&&p.push(new kV)}}({name:q.name,originalName:q.originalName,attributes:he,ns:q.ns},te)}).on("question",function A(q){if(C.test(q)){var ee=D.exec(q),ae=ee&&ee[1];!ae||O.test(ae)||c.addWarning({message:"unsupported document encoding <"+ae+">, falling back to UTF-8"})}}).on("closeTag",function E(){p.pop().handleEnd()}).on("cdata",N).on("text",function(q,ee,ae){!function B(q,ee){q.trim()&&N(q,ee)}(ee(q),ae)}).on("error",h).on("warn",g),new Promise(function(q,ee){var ae;try{u.parse(t),function y(){var ae,te,q=c.elementsById,ee=c.references;for(ae=0;te=ee[ae];ae++){var ne=te.element,he=q[te.id],Ce=jf(ne).propertiesByName[te.property];if(he||c.addWarning({message:"unresolved reference <"+te.id+">",element:te.element,property:te.property,value:te.id}),Ce.isMany){var fe=ne.get(Ce.name),ye=fe.indexOf(te);-1===ye&&(ye=fe.length),he?fe[ye]=he:fe.splice(ye,1)}else ne.set(Ce.name,he)}}()}catch(fe){ae=fe}var te=s.element;!ae&&!te&&(ae=Zm("failed to parse document as <"+s.type.$descriptor.name+">"));var ne=c.warnings,he=c.references,Ce=c.elementsById;return ae?(ae.warnings=ne,ee(ae)):q({rootElement:te,elementsById:Ce,references:he,warnings:ne})})},IV.prototype.handler=function(t){return new RV(this.model,t)};var RVe=/<|>|'|"|&|\n\r|\n/g,_se=/<|>|&/g;function IVe(t){var i={},o={},s={},a=[],l=[];this.byUri=function(c){return o[c]||t&&t.byUri(c)},this.add=function(c,u){o[c.uri]=c,u?a.push(c):l.push(c),this.mapPrefix(c.prefix,c.uri)},this.uriByPrefix=function(c){return i[c||"xmlns"]},this.mapPrefix=function(c,u){i[c||"xmlns"]=u},this.getNSKey=function(c){return void 0!==c.prefix?c.uri+"|"+c.prefix:c.uri},this.logUsed=function(c){var u=c.uri,p=this.getNSKey(c);s[p]=this.byUri(u),t&&t.logUsed(c)},this.getUsed=function(c){var p=this;return[].concat(a,l).filter(function u(g){var y=p.getNSKey(g);return s[y]})}}function LVe(t,i){return gse(i)?function NVe(t){return t.charAt(0).toLowerCase()+t.slice(1)}(t):t}function Ese(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function xse(t){return la(t)?t:(t.prefix?t.prefix+":":"")+t.localName}var $Ve={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},zVe={"<":"lt",">":"gt","&":"amp"};function wse(t,i,o){return(t=la(t)?t:""+t).replace(i,function(s){return"&"+o[s]+";"})}function NV(t){this.tagName=t}function by(){}function LV(t){this.tagName=t}function ao(t,i){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=i}function lP(t,i){ao.call(this,t,i)}function WVe(){this.value="",this.write=function(t){this.value+=t}}function XVe(t,i){var o=[""];this.append=function(s){return t.write(s),this},this.appendNewLine=function(){return i&&t.write("\n"),this},this.appendIndent=function(){return i&&t.write(o.join("  ")),this},this.indent=function(){return o.push(""),this},this.unindent=function(){return o.pop(),this}}function YVe(t){return t=Re({format:!1,preamble:!0},t||{}),{toXML:function i(o,s){var a=s||new WVe,l=new XVe(a,t.format);if(t.preamble&&l.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new ao).build(o).serializeTo(l),!s)return a.value}}}function cP(t,i){_u.call(this,t,i)}NV.prototype.build=function(t){return this.element=t,this},NV.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},by.prototype.serializeValue=by.prototype.serializeTo=function(t){t.append(this.escape?function UVe(t){return wse(t,_se,zVe)}(this.value):this.value)},by.prototype.build=function(t,i){return this.value=i,"String"===t.type&&-1!==i.search(_se)&&(this.escape=!0),this},Ese(LV,by),LV.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()},ao.prototype.build=function(t){this.element=t;var s,a,i=t.$descriptor,o=this.propertyDescriptor,l=i.isGeneric;return s=l?this.parseGeneric(t):this.parseNsAttributes(t),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(i),this.tagName=this.addTagName(this.ns),l||(a=function jVe(t){return On(t.$descriptor.properties,function(o){var s=o.name;if(o.isVirtual||!Ql(t,s))return!1;var a=t[s];return a!==o.default&&null!==a&&(!o.isMany||a.length)})}(t),this.parseAttributes(function GVe(t){return On(t,function(i){return i.isAttr})}(a)),this.parseContainments(function qVe(t){return On(t,function(i){return!i.isAttr})}(a))),this.parseGenericAttributes(t,s),this},ao.prototype.nsTagName=function(t){return function BVe(t,i){return Re(i.isGeneric?{localName:i.ns.localName}:{localName:LVe(i.ns.localName,i.$pkg)},t)}(this.logNamespaceUsed(t.ns),t)},ao.prototype.nsPropertyTagName=function(t){return function VVe(t,i){return Re({localName:i.ns.localName},t)}(this.logNamespaceUsed(t.ns),t)},ao.prototype.isLocalNs=function(t){return t.uri===this.ns.uri},ao.prototype.nsAttributeName=function(t){var i;if(i=la(t)?Ha(t):t.ns,t.inherited)return{localName:i.localName};var o=this.logNamespaceUsed(i);return this.getNamespaces().logUsed(o),this.isLocalNs(o)?{localName:i.localName}:Re({localName:i.localName},o)},ao.prototype.parseGeneric=function(t){var i=this,o=this.body,s=[];return _e(t,function(a,l){"$body"===l?o.push((new by).build({type:"String"},a)):"$children"===l?_e(a,function(u){o.push(new ao(i).build(u))}):0!==l.indexOf("$")&&i.parseNsAttribute(t,l,a)&&s.push({name:l,value:a})}),s},ao.prototype.parseNsAttribute=function(t,i,o){var l,s=t.$model,a=Ha(i);if("xmlns"===a.prefix&&(l={prefix:a.localName,uri:o}),!a.prefix&&"xmlns"===a.localName&&(l={uri:o}),!l)return{name:i,value:o};if(s&&s.getPackage(o))this.logNamespace(l,!0,!0);else{var c=this.logNamespaceUsed(l,!0);this.getNamespaces().logUsed(c)}},ao.prototype.parseNsAttributes=function(t,i){var o=this,a=[];return _e(t.$attrs,function(l,c){var u=o.parseNsAttribute(t,c,l);u&&a.push(u)}),a},ao.prototype.parseGenericAttributes=function(t,i){var o=this;_e(i,function(s){if(s.name!==sP)try{o.addAttribute(o.nsAttributeName(s.name),s.value)}catch(a){console.warn("missing namespace information for ",s.name,"=",s.value,"on",t,a)}})},ao.prototype.parseContainments=function(t){var i=this,o=this.body,s=this.element;_e(t,function(a){var l=s.get(a.name),c=a.isReference;if(a.isMany||(l=[l]),a.isBody)o.push((new by).build(a,l[0]));else if(ase(a.type))_e(l,function(g){o.push(new LV(i.addTagName(i.nsPropertyTagName(a))).build(a,g))});else if(c)_e(l,function(g){o.push(new NV(i.addTagName(i.nsPropertyTagName(a))).build(g))});else{var p=yse(a),h=function DVe(t){return"property"===vse(t)}(a);_e(l,function(g){var y;y=p?new lP(i,a):h?new ao(i,a):new ao(i),o.push(y.build(g))})}})},ao.prototype.getNamespaces=function(t){var s,i=this.namespaces,o=this.parent;return i||(s=o&&o.getNamespaces(),t||!s?this.namespaces=i=new IVe(s):i=s),i},ao.prototype.logNamespace=function(t,i,o){var s=this.getNamespaces(o),a=t.uri,l=t.prefix;return(!s.byUri(a)||o)&&s.add(t,i),s.mapPrefix(l,a),t},ao.prototype.logNamespaceUsed=function(t,i){var u,p,h,s=this.element.$model,a=this.getNamespaces(i),l=t.prefix,c=t.uri;if(!l&&!c)return{localName:t.localName};if(h=SVe[l]||s&&(s.getPackage(l)||{}).uri,!(c=c||h||a.uriByPrefix(l)))throw new Error("no namespace uri given for prefix <"+l+">");if(!(t=a.byUri(c))){for(u=l,p=1;a.uriByPrefix(u);)u=l+"_"+p++;t=this.logNamespace({prefix:u,uri:c},h===c)}return l&&a.mapPrefix(l,c),t},ao.prototype.parseAttributes=function(t){var i=this,o=this.element;_e(t,function(s){var a=o.get(s.name);if(s.isReference)if(s.isMany){var l=[];_e(a,function(c){l.push(c.id)}),a=l.join(" ")}else a=a.id;i.addAttribute(i.nsAttributeName(s),a)})},ao.prototype.addTagName=function(t){var i=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(i),xse(t)},ao.prototype.addAttribute=function(t,i){var o=this.attrs;la(i)&&(i=function HVe(t){return wse(t,RVe,$Ve)}(i));var s=Zx(o,function(l){return l.name.localName===t.localName&&l.name.uri===t.uri&&l.name.prefix===t.prefix}),a={name:t,value:i};-1!==s?o.splice(s,1,a):o.push(a)},ao.prototype.serializeAttributes=function(t){var i=this.attrs,o=this.namespaces;o&&(i=function FVe(t){return t.getUsed().filter(function(i){return"xml"!==i.prefix}).map(function(i){return{name:"xmlns"+(i.prefix?":"+i.prefix:""),value:i.uri}})}(o).concat(i)),_e(i,function(s){t.append(" ").append(xse(s.name)).append('="').append(s.value).append('"')})},ao.prototype.serializeTo=function(t){var i=this.body[0],o=i&&i.constructor!==by;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(i?">":" />"),i&&(o&&t.appendNewLine().indent(),_e(this.body,function(s){s.serializeTo(t)}),o&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},Ese(lP,ao),lP.prototype.parseNsAttributes=function(t){var i=ao.prototype.parseNsAttributes.call(this,t),o=t.$descriptor;if(o.name===this.propertyDescriptor.type)return i;var s=this.typeNs=this.nsTagName(o);this.getNamespaces().logUsed(this.typeNs);var a=t.$model.getPackage(s.uri),l=a.xml&&a.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(sP),(s.prefix?s.prefix+":":"")+l+o.ns.localName),i},lP.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri},(cP.prototype=Object.create(_u.prototype)).fromXML=function(t,i,o){la(i)||(o=i,i="bpmn:Definitions");var s=new IV(Re({model:this,lax:!0},o)),a=s.handler(i);return s.fromXML(t,a)},cP.prototype.toXML=function(t,i){var o=new YVe(i);return new Promise(function(s,a){try{return s({xml:o.toXML(t)})}catch(c){return a(c)}})};var Bje={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function Vje(t,i){return new cP(Re({},Bje,t),i)}function va(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}var jje="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function Cse(t){Ql(t,"di")||Object.defineProperty(t,"di",{enumerable:!1,get:function(){throw new Error(jje)}})}function Sl(t,i){return t.$instanceOf(i)}function zje(t,i){var o={},s=[],a={};function l(Pe,Be){return function(tt){Pe(tt,Be)}}function c(Pe){o[Pe.id]=Pe}function g(Pe,Be){try{var tt=a[Pe.id]&&function p(Pe,Be){if(Pe.gfx)throw new Error(i("already rendered {element}",{element:va(Pe)}));return t.element(Pe,a[Pe.id],Be)}(Pe,Be);return c(Pe),tt}catch(Mn){y(Mn.message,{element:Pe,error:Mn}),console.error(i("failed to import {element}",{element:va(Pe)})),console.error(Mn)}}function y(Pe,Be){t.error(Pe,Be)}var E=this.registerDi=function(Be){var tt=Be.bpmnElement;tt?a[tt.id]?y(i("multiple DI elements defined for {element}",{element:va(tt)}),{element:tt}):(a[tt.id]=Be,Cse(tt)):y(i("no bpmnElement referenced in {element}",{element:va(Be)}),{element:Be})};function O(Pe){E(Pe)}this.handleDefinitions=function(Be,tt){var Mn=Be.diagrams;if(tt&&-1===Mn.indexOf(tt))throw new Error(i("diagram not part of bpmn:Definitions"));if(!tt&&Mn&&Mn.length&&(tt=Mn[0]),!tt)throw new Error(i("no diagram to display"));a={},function C(Pe){!function D(Pe){E(Pe),_e(Pe.planeElement,O)}(Pe.plane)}(tt);var Oi=tt.plane;if(!Oi)throw new Error(i("no plane for {element}",{element:va(tt)}));var ri=Oi.bpmnElement;if(!ri){if(ri=function $je(t){return Qn(t.rootElements,function(i){return Sl(i,"bpmn:Process")||Sl(i,"bpmn:Collaboration")})}(Be),!ri)throw new Error(i("no process or collaboration to display"));y(i("correcting missing bpmnElement on {plane} to {rootElement}",{plane:va(Oi),rootElement:va(ri)})),Oi.bpmnElement=ri,E(Oi)}var Ml=function h(Pe,Be){return t.root(Pe,a[Pe.id],Be)}(ri,Oi);if(Sl(ri,"bpmn:Process")||Sl(ri,"bpmn:SubProcess"))F(ri,Ml);else{if(!Sl(ri,"bpmn:Collaboration"))throw new Error(i("unsupported bpmnElement for {plane}: {rootElement}",{plane:va(Oi),rootElement:va(ri)}));(function Se(Pe,Be){_e(Pe.participants,l(U,Be)),ne(Pe.artifacts,Be),s.push(function(){!function j(Pe,Be){_e(Pe,l(B,Be))}(Pe.messageFlows,Be)})})(ri,Ml),function N(Pe,Be){var tt=On(Pe,function(Mn){return!function u(Pe){return o[Pe.id]}(Mn)&&Sl(Mn,"bpmn:Process")&&Mn.laneSets});tt.forEach(l(F,Be))}(Be.rootElements,Ml)}A(s)};var A=this.handleDeferred=function(){for(;s.length;)s.shift()()};function F(Pe,Be){Bt(Pe,Be),he(Pe.ioSpecification,Be),ne(Pe.artifacts,Be),c(Pe)}function B(Pe,Be){g(Pe,Be)}function q(Pe,Be){g(Pe,Be)}function ee(Pe,Be){g(Pe,Be)}function ae(Pe,Be){g(Pe,Be)}function te(Pe,Be){g(Pe,Be)}function ne(Pe,Be){_e(Pe,function(tt){Sl(tt,"bpmn:Association")?s.push(function(){te(tt,Be)}):te(tt,Be)})}function he(Pe,Be){Pe&&(_e(Pe.dataInputs,l(ee,Be)),_e(Pe.dataOutputs,l(ae,Be)))}var Ce=this.handleSubProcess=function(Be,tt){Bt(Be,tt),ne(Be.artifacts,tt)};function fe(Pe,Be){var tt=g(Pe,Be);Sl(Pe,"bpmn:SubProcess")&&Ce(Pe,tt||Be),Sl(Pe,"bpmn:Activity")&&he(Pe.ioSpecification,Be),s.push(function(){_e(Pe.dataInputAssociations,l(q,Be)),_e(Pe.dataOutputAssociations,l(q,Be))})}function _t(Pe,Be){s.push(function(){var tt=g(Pe,Be);Pe.childLaneSet&&xt(Pe.childLaneSet,tt||Be),function ke(Pe){_e(Pe.flowNodeRef,function(Be){var tt=Be.get("lanes");tt&&tt.push(Pe)})}(Pe)})}function xt(Pe,Be){_e(Pe.lanes,l(_t,Be))}function Bt(Pe,Be){(function pe(Pe,Be){_e(Pe,function(tt){Sl(tt,"bpmn:SequenceFlow")?s.push(function(){!function ye(Pe,Be){g(Pe,Be)}(tt,Be)}):Sl(tt,"bpmn:BoundaryEvent")?s.unshift(function(){fe(tt,Be)}):Sl(tt,"bpmn:FlowNode")?fe(tt,Be):Sl(tt,"bpmn:DataObject")||(Sl(tt,"bpmn:DataStoreReference")||Sl(tt,"bpmn:DataObjectReference")?function Fe(Pe,Be){g(Pe,Be)}(tt,Be):y(i("unrecognized flowElement {element} in context {context}",{element:va(tt),context:Be?va(Be.businessObject):"null"}),{element:tt,context:Be}))})})(Pe.flowElements,Be),Pe.laneSets&&function Pt(Pe,Be){_e(Pe,l(xt,Be))}(Pe.laneSets,Be)}function U(Pe,Be){var tt=g(Pe,Be),Mn=Pe.processRef;Mn&&F(Mn,tt||Be)}}function Hje(t,i,o){var s,a,l,c,p=[];function h(g,y){var C=new zje({root:function(A,F){return s.add(A,F)},element:function(A,F,N){return s.add(A,F,N)},error:function(A,F){p.push({message:A,context:F})}},l),D=function Uje(t,i){if(i){var a,o=i.plane.bpmnElement,s=o;!V(o,"bpmn:Process")&&!V(o,"bpmn:Collaboration")&&(s=function Gje(t){for(var i=t;i;){if(V(i,"bpmn:Process"))return i;i=i.$parent}}(o)),a=V(s,"bpmn:Collaboration")?s:Qn(t.rootElements,function(h){if(V(h,"bpmn:Collaboration"))return Qn(h.participants,function(g){return g.processRef===s})});var l=[s];a&&(l=Fo(a.participants,function(h){return h.processRef}),l.push(a));var c=Sse(l),u=[i],p=[o];return _e(t.diagrams,function(h){var g=h.plane.bpmnElement;-1!==c.indexOf(g)&&-1===p.indexOf(g)&&(u.push(h),p.push(g))}),u}}(g,y=y||g.diagrams&&g.diagrams[0]);if(!D)throw new Error(l("no diagram to display"));_e(D,function(A){C.handleDefinitions(g,A)});var O=y.plane.bpmnElement.id;c.setRootElement(c.findRoot(O+"_plane")||c.findRoot(O))}return new Promise(function(g,y){try{return s=t.get("bpmnImporter"),a=t.get("eventBus"),l=t.get("translate"),c=t.get("canvas"),a.fire("import.render.start",{definitions:i}),h(i,o),a.fire("import.render.complete",{error:void 0,warnings:p}),g({warnings:p})}catch(E){return E.warnings=p,y(E)}})}function Sse(t){var i=[];return _e(t,function(o){o&&(i.push(o),i=i.concat(Sse(o.flowElements)))}),i}var tp,Dse='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Tse={verticalAlign:"middle"},Pse={color:"#404040"},Wje={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Xje={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Yje={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},Kje='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+Dse+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function lo(t){t=Re({},e$e,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),function n$e(t){const s=fi('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Dse+"</a>");Zs(tr("svg",s),Tse),Zs(s,Pse,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),t.appendChild(s),hn.bind(s,"click",function(a){(function Zje(){tp||(function Qje(){Zs(tp=fi(Kje),Wje),Zs(tr("svg",tp),Tse),Zs(tr(".backdrop",tp),Xje),Zs(tr(".notice",tp),Yje),Zs(tr(".link",tp),Pse,{margin:"15px 20px 15px 10px",alignSelf:"center"})}(),La.bind(tp,".backdrop","click",function(t){document.body.removeChild(tp)})),document.body.appendChild(tp)})(),a.preventDefault()})}(this._container),this._init(this._container,this._moddle,t)}function uP(t,i){return t.warnings=i,t}jt(lo,R5),lo.prototype.importXML=function(){var t=Ye(function*(o,s){const a=this;let c=[];try{let u;o=this._emit("import.parse.start",{xml:o})||o;try{u=yield this._moddle.fromXML(o,"bpmn:Definitions")}catch(C){throw this._emit("import.parse.complete",{error:C}),C}let p=u.rootElement;const h=u.references,y=u.elementsById;c=c.concat(u.warnings),p=this._emit("import.parse.complete",function l(u){return a.get("eventBus").createEvent(u)}({error:null,definitions:p,elementsById:y,references:h,warnings:c}))||p;const E=yield this.importDefinitions(p,s);return c=c.concat(E.warnings),this._emit("import.done",{error:null,warnings:c}),{warnings:c}}catch(u){let p=u;throw c=c.concat(p.warnings||[]),uP(p,c),p=function Jje(t){const o=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return o&&(t.message="unparsable content <"+o[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+o[2]),t}(p),this._emit("import.done",{error:p,warnings:p.warnings}),p}});return function i(o,s){return t.apply(this,arguments)}}(),lo.prototype.importDefinitions=function(){var t=Ye(function*(o,s){return this._setDefinitions(o),{warnings:(yield this.open(s)).warnings}});return function i(o,s){return t.apply(this,arguments)}}(),lo.prototype.open=function(){var t=Ye(function*(o){const s=this._definitions;let a=o;if(!s){const c=new Error("no XML imported");throw uP(c,[]),c}if("string"==typeof o&&(a=function t$e(t,i){return i&&Qn(t.diagrams,function(o){return o.id===i})||null}(s,o),!a)){const c=new Error("BPMNDiagram <"+o+"> not found");throw uP(c,[]),c}try{this.clear()}catch(c){throw uP(c,[]),c}const{warnings:l}=yield Hje(this,s,a);return{warnings:l}});return function i(o){return t.apply(this,arguments)}}(),lo.prototype.saveXML=function(){var t=Ye(function*(o){o=o||{};let a,l,s=this._definitions;try{if(!s)throw new Error("no definitions loaded");s=this._emit("saveXML.start",{definitions:s})||s,l=(yield this._moddle.toXML(s,o)).xml,l=this._emit("saveXML.serialized",{xml:l})||l}catch(u){a=u}const c=a?{error:a}:{xml:l};if(this._emit("saveXML.done",c),a)throw a;return c});return function i(o){return t.apply(this,arguments)}}(),lo.prototype.saveSVG=function(){var t=Ye(function*(){let o,s;this._emit("saveSVG.start");try{const a=this.get("canvas"),l=a.getActiveLayer(),c=tr("defs",a._svg),u=Ioe(l),p=c?"<defs>"+Ioe(c)+"</defs>":"",h=l.getBBox();o='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+p+u+"</svg>"}catch(a){s=a}if(this._emit("saveSVG.done",{error:s,svg:o}),s)throw s;return{svg:o}});return function i(){return t.apply(this,arguments)}}(),lo.prototype._setDefinitions=function(t){this._definitions=t},lo.prototype.getModules=function(){return this._modules},lo.prototype.clear=function(){this.getDefinitions()&&R5.prototype.clear.call(this)},lo.prototype.destroy=function(){R5.prototype.destroy.call(this),Bd(this._container)},lo.prototype.on=function(t,i,o,s){return this.get("eventBus").on(t,i,o,s)},lo.prototype.off=function(t,i){this.get("eventBus").off(t,i)},lo.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),"string"==typeof t&&(t=tr(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},lo.prototype.getDefinitions=function(){return this._definitions},lo.prototype.detach=function(){const t=this._container,i=t.parentNode;i&&(this._emit("detach",{}),i.removeChild(t))},lo.prototype._init=function(t,i,o){const s=o.modules||this.getModules(o),c=[].concat([{bpmnjs:["value",this],moddle:["value",i]}],s,o.additionalModules||[]),u=Re(Fd(o,["additionalModules"]),{canvas:Re({},o.canvas,{container:t}),modules:c});R5.call(this,u),o&&o.container&&this.attachTo(o.container)},lo.prototype._emit=function(t,i){return this.get("eventBus").fire(t,i)},lo.prototype._createContainer=function(t){const i=fi('<div class="bjs-container"></div>');return Zs(i,{width:Mse(t.width),height:Mse(t.height),position:t.position}),i},lo.prototype._createModdle=function(t){return new Vje(Re({},this._moddleExtensions,t.moddleExtensions))},lo.prototype._modules=[];const e$e={width:"100%",height:"100%",position:"relative"};function Mse(t){return t+(gn(t)?"px":"")}function S6(t){lo.call(this,t),this.on("import.parse.complete",function(i){i.error||this._collectIds(i.definitions,i.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}jt(S6,lo),S6.prototype._createModdle=function(t){var i=lo.prototype._createModdle.call(this,t);return i.ids=new tF([32,36,1]),i},S6.prototype._collectIds=function(t,i){var a,s=t.$model.ids;for(a in s.clear(),i)s.claim(a,i[a])};var D6="hsl(225, 10%, 15%)";function np(t,i){return xf(t.eventDefinitions,function(o){return o.$type===i})}function gr(t,i){var o=Mr(t);return o.get("color:background-color")||o.get("bioc:fill")||i||"white"}function Tt(t,i){var o=Mr(t);return o.get("color:border-color")||o.get("bioc:stroke")||i||D6}function T6(t,i,o){var a=Mr(t).get("label");return a&&a.get("color:color")||i||Tt(t,o)}var c$e=new tF,F5=.95;function _y(t,i,o,s,a,l,c){Lf.call(this,i,c);var u=t&&t.defaultFillColor,p=t&&t.defaultStrokeColor,h=t&&t.defaultLabelColor,g=c$e.next(),y={};function E(pe){return o.computeStyle(pe,{strokeLinecap:"round",strokeLinejoin:"round",stroke:D6,strokeWidth:2,fill:"white"})}function C(pe){return o.computeStyle(pe,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:D6,strokeWidth:2})}function D(pe,U){var{ref:Se={x:0,y:0},scale:ke=1,element:Pe}=U,Be=an("marker",{id:pe,viewBox:"0 0 20 20",refX:Se.x,refY:Se.y,markerWidth:20*ke,markerHeight:20*ke,orient:"auto"});bn(Be,Pe);var tt=tr("defs",a._svg);tt||(tt=an("defs"),bn(a._svg,tt)),bn(tt,Be),y[pe]=Be}function O(pe){return pe.replace(/[^0-9a-zA-Z]+/g,"_")}function A(pe,U,Se){var ke=pe+"-"+O(U)+"-"+O(Se)+"-"+g;return y[ke]||function F(pe,U,Se,ke){"sequenceflow-end"===U&&D(pe,{element:an("path",{d:"M 1 5 L 11 10 L 1 15 Z",...E({fill:ke,stroke:ke,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),"messageflow-start"===U&&D(pe,{element:an("circle",{cx:6,cy:6,r:3.5,...E({fill:Se,stroke:ke,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),"messageflow-end"===U&&D(pe,{element:an("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...E({fill:Se,stroke:ke,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),"association-start"===U&&D(pe,{element:an("path",{d:"M 11 5 L 1 10 L 11 15",...C({fill:"none",stroke:ke,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),"association-end"===U&&D(pe,{element:an("path",{d:"M 1 5 L 11 10 L 1 15",...C({fill:"none",stroke:ke,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),"conditional-flow-marker"===U&&D(pe,{element:an("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...E({fill:Se,stroke:ke})}),ref:{x:-1,y:10},scale:.5}),"conditional-default-flow-marker"===U&&D(pe,{element:an("path",{d:"M 6 4 L 10 16",...E({stroke:ke})}),ref:{x:0,y:10},scale:.5})}(ke,pe,U,Se),"url(#"+ke+")"}function N(pe,U,Se,ke,Pe){Lo(ke)&&(Pe=ke,ke=0),ke=ke||0,"none"===(Pe=E(Pe)).fill&&delete Pe.fillOpacity;var Mn=an("circle",{cx:U/2,cy:Se/2,r:Math.round((U+Se)/4-ke),...Pe});return bn(pe,Mn),Mn}function B(pe,U,Se,ke,Pe,Be){Lo(Pe)&&(Be=Pe,Pe=0),Pe=Pe||0,Be=E(Be);var tt=an("rect",{x:Pe,y:Pe,width:U-2*Pe,height:Se-2*Pe,rx:ke,ry:ke,...Be});return bn(pe,tt),tt}function q(pe,U,Se,ke){var Pe=J9(U,Se=C(Se),ke);return bn(pe,Pe),Pe}function ee(pe,U,Se){return q(pe,U,Se,5)}function ae(pe,U,Se){Se=C(Se);var ke=an("path",{...Se,d:U});return bn(pe,ke),ke}function te(pe,U,Se,ke){return ae(U,Se,Re({"data-marker":pe},ke))}function ne(pe){return xt[pe]}function he(pe){return function(U,Se,ke){return ne(pe)(U,Se,ke)}}function Ce(pe,U){var Se=le(pe),ke=function r$e(t){return"bpmn:IntermediateThrowEvent"===t.$type||"bpmn:EndEvent"===t.$type}(Se);return Se.eventDefinitions&&Se.eventDefinitions.length>1?Se.parallelMultiple?ne("bpmn:ParallelMultipleEventDefinition")(U,pe,ke):ne("bpmn:MultipleEventDefinition")(U,pe,ke):np(Se,"bpmn:MessageEventDefinition")?ne("bpmn:MessageEventDefinition")(U,pe,ke):np(Se,"bpmn:TimerEventDefinition")?ne("bpmn:TimerEventDefinition")(U,pe,ke):np(Se,"bpmn:ConditionalEventDefinition")?ne("bpmn:ConditionalEventDefinition")(U,pe):np(Se,"bpmn:SignalEventDefinition")?ne("bpmn:SignalEventDefinition")(U,pe,ke):np(Se,"bpmn:EscalationEventDefinition")?ne("bpmn:EscalationEventDefinition")(U,pe,ke):np(Se,"bpmn:LinkEventDefinition")?ne("bpmn:LinkEventDefinition")(U,pe,ke):np(Se,"bpmn:ErrorEventDefinition")?ne("bpmn:ErrorEventDefinition")(U,pe,ke):np(Se,"bpmn:CancelEventDefinition")?ne("bpmn:CancelEventDefinition")(U,pe,ke):np(Se,"bpmn:CompensateEventDefinition")?ne("bpmn:CompensateEventDefinition")(U,pe,ke):np(Se,"bpmn:TerminateEventDefinition")?ne("bpmn:TerminateEventDefinition")(U,pe,ke):null}function fe(pe,U,Se){Se=Re({size:{width:100}},Se);var ke=l.createText(U||"",Se);return ur(ke).add("djs-label"),bn(pe,ke),ke}function ye(pe,U,Se){return fe(pe,le(U).name,{box:U,align:Se,padding:7,style:{fill:T6(U,h,p)}})}function _t(pe,U,Se){SV(fe(pe,U,{box:{height:30,width:Se.height},align:"center-middle",style:{fill:T6(Se,h,p)}}),0,1*Se.height,270)}var xt=this.handlers={"bpmn:Event":function(pe,U,Se){return"fillOpacity"in Se||(Se.fillOpacity=F5),N(pe,U.width,U.height,Se)},"bpmn:StartEvent":function(pe,U,Se){var ke={fill:gr(U,u),stroke:Tt(U,p)};le(U).isInterrupting||(ke={strokeDasharray:"6",fill:gr(U,u),stroke:Tt(U,p)});var Be=ne("bpmn:Event")(pe,U,ke);return(!Se||!1!==Se.renderIcon)&&Ce(U,pe),Be},"bpmn:MessageEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:U.width,containerHeight:U.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:Se?Tt(U,p):gr(U,u),stroke:Se?gr(U,u):Tt(U,p)})},"bpmn:TimerEventDefinition":function(pe,U){var Se=N(pe,U.width,U.height,.2*U.height,{strokeWidth:2,fill:gr(U,u),stroke:Tt(U,p)});ae(pe,s.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.5}}),{strokeWidth:2,stroke:Tt(U,p)});for(var Pe=0;Pe<12;Pe++)ae(pe,s.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.5}}),{strokeWidth:1,transform:"rotate("+30*Pe+","+U.height/2+","+U.width/2+")",stroke:Tt(U,p)});return Se},"bpmn:EscalationEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Se?Tt(U,p):"none",stroke:Tt(U,p)})},"bpmn:ConditionalEventDefinition":function(pe,U){return ae(pe,s.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:Tt(U,p)})},"bpmn:LinkEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:Se?Tt(U,p):"none",stroke:Tt(U,p)})},"bpmn:ErrorEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:U.width,containerHeight:U.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:Se?Tt(U,p):"none",stroke:Tt(U,p)})},"bpmn:CancelEventDefinition":function(pe,U,Se){var Be=ae(pe,s.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:Se?Tt(U,p):"none",stroke:Tt(U,p)});return rse(Be,45),Be},"bpmn:CompensateEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:Se?Tt(U,p):"none",stroke:Tt(U,p)})},"bpmn:SignalEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Se?Tt(U,p):"none",stroke:Tt(U,p)})},"bpmn:MultipleEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:U.width,containerHeight:U.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:Se?Tt(U,p):"none"})},"bpmn:ParallelMultipleEventDefinition":function(pe,U){return ae(pe,s.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:U.width,containerHeight:U.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:Tt(U,p),stroke:Tt(U,p)})},"bpmn:EndEvent":function(pe,U,Se){var ke=ne("bpmn:Event")(pe,U,{strokeWidth:4,fill:gr(U,u),stroke:Tt(U,p)});return(!Se||!1!==Se.renderIcon)&&Ce(U,pe),ke},"bpmn:TerminateEventDefinition":function(pe,U){return N(pe,U.width,U.height,8,{strokeWidth:4,fill:Tt(U,p),stroke:Tt(U,p)})},"bpmn:IntermediateEvent":function(pe,U,Se){var ke=ne("bpmn:Event")(pe,U,{strokeWidth:1.5,fill:gr(U,u),stroke:Tt(U,p)});return N(pe,U.width,U.height,3,{strokeWidth:1.5,fill:gr(U,"none"),stroke:Tt(U,p)}),(!Se||!1!==Se.renderIcon)&&Ce(U,pe),ke},"bpmn:IntermediateCatchEvent":he("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":he("bpmn:IntermediateEvent"),"bpmn:Activity":function(pe,U,Se){return"fillOpacity"in(Se=Se||{})||(Se.fillOpacity=F5),B(pe,U.width,U.height,10,Se)},"bpmn:Task":function(pe,U){var Se={fill:gr(U,u),stroke:Tt(U,p)},ke=ne("bpmn:Activity")(pe,U,Se);return ye(pe,U,"center-middle"),Pt(pe,U),ke},"bpmn:ServiceTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:gr(U,u),stroke:Tt(U,p)}),ae(pe,s.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:gr(U,u)}),ae(pe,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:gr(U,u),stroke:Tt(U,p)}),Se},"bpmn:UserTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:gr(U,u),stroke:Tt(U,p)}),ae(pe,s.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:gr(U,u),stroke:Tt(U,p)}),ae(pe,s.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Tt(U,p),stroke:Tt(U,p)}),Se},"bpmn:ManualTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:gr(U,u),stroke:Tt(U,p)}),Se},"bpmn:SendTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:Tt(U,p),stroke:gr(U,u)}),Se},"bpmn:ReceiveTask":function(pe,U){var Pe,Se=le(U),ke=ne("bpmn:Task")(pe,U);return Se.instantiate?(N(pe,28,28,4.4,{strokeWidth:1}),Pe=s.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Pe=s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),ae(pe,Pe,{strokeWidth:1,fill:gr(U,u),stroke:Tt(U,p)}),ke},"bpmn:ScriptTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:Tt(U,p)}),Se},"bpmn:BusinessRuleTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return Mt(ae(pe,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:gr(U,"#aaaaaa"),stroke:Tt(U,p)}),Mt(ae(pe,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:Tt(U,p)}),Se},"bpmn:SubProcess":function(pe,U,Se){Se={fill:gr(U,u),stroke:Tt(U,p),...Se};var ke=ne("bpmn:Activity")(pe,U,Se),Pe=mr(U);return Cl(U)&&Mt(ke,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),ye(pe,U,Pe?"center-top":"center-middle"),Pe?Pt(pe,U):Pt(pe,U,["SubProcessMarker"]),ke},"bpmn:AdHocSubProcess":function(pe,U){return ne("bpmn:SubProcess")(pe,U)},"bpmn:Transaction":function(pe,U){var Se=ne("bpmn:SubProcess")(pe,U,{strokeWidth:1.5}),ke=o.style(["no-fill","no-events"],{stroke:Tt(U,p),strokeWidth:1.5});return B(pe,U.width,U.height,7,3,ke),Se},"bpmn:CallActivity":function(pe,U){return ne("bpmn:SubProcess")(pe,U,{strokeWidth:5})},"bpmn:Participant":function(pe,U){var ke={fillOpacity:F5,fill:gr(U,u),stroke:Tt(U,p),strokeWidth:1.5},Pe=ne("bpmn:Lane")(pe,U,ke);return mr(U)?(q(pe,[{x:30,y:0},{x:30,y:U.height}],{stroke:Tt(U,p),strokeWidth:1.5}),_t(pe,le(U).name,U)):fe(pe,le(U).name,{box:U,align:"center-middle",style:{fill:T6(U,h,p)}}),!!le(U).participantMultiplicity&&ne("ParticipantMultiplicityMarker")(pe,U),Pe},"bpmn:Lane":function(pe,U,Se){var ke=B(pe,U.width,U.height,0,{fill:gr(U,u),fillOpacity:.35,stroke:Tt(U,p),strokeWidth:1.5,...Se}),Pe=le(U);return"bpmn:Lane"===Pe.$type&&_t(pe,Pe.name,U),ke},"bpmn:InclusiveGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U);return N(pe,U.width,U.height,.24*U.height,{strokeWidth:2.5,fill:gr(U,u),stroke:Tt(U,p)}),Se},"bpmn:ExclusiveGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U),ke=s.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:U.width,containerHeight:U.height,position:{mx:.32,my:.3}});return Mr(U).isMarkerVisible&&ae(pe,ke,{strokeWidth:1,fill:Tt(U,p),stroke:Tt(U,p)}),Se},"bpmn:ComplexGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U);return ae(pe,s.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:U.width,containerHeight:U.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:Tt(U,p),stroke:Tt(U,p)}),Se},"bpmn:ParallelGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U);return ae(pe,s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:U.width,containerHeight:U.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:Tt(U,p),stroke:Tt(U,p)}),Se},"bpmn:EventBasedGateway":function(pe,U){var Se=le(U),ke=ne("bpmn:Gateway")(pe,U);N(pe,U.width,U.height,.2*U.height,{strokeWidth:1,fill:"none",stroke:Tt(U,p)});var Pe=Se.eventGatewayType,Be=!!Se.instantiate;if("Parallel"===Pe){var Mn=s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:U.width,containerHeight:U.height,position:{mx:.474,my:.296}});ae(pe,Mn,{strokeWidth:1,fill:"none"})}else"Exclusive"===Pe&&(Be||N(pe,U.width,U.height,.26*U.height,{strokeWidth:1,fill:"none",stroke:Tt(U,p)}),function tt(){var Oi=s.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:U.width,containerHeight:U.height,position:{mx:.36,my:.44}});ae(pe,Oi,{strokeWidth:2,fill:gr(U,"none"),stroke:Tt(U,p)})}());return ke},"bpmn:Gateway":function(pe,U){return function j(pe,U,Se,ke){var Pe=U/2,Be=Se/2,Mn=[{x:Pe,y:0},{x:U,y:Be},{x:Pe,y:Se},{x:0,y:Be}].map(function(ri){return ri.x+","+ri.y}).join(" ");ke=E(ke);var Oi=an("polygon",{...ke,points:Mn});return bn(pe,Oi),Oi}(pe,U.width,U.height,{fill:gr(U,u),fillOpacity:F5,stroke:Tt(U,p)})},"bpmn:SequenceFlow":function(pe,U){var tt,Se=gr(U,u),ke=Tt(U,p),Pe=ee(pe,U.waypoints,{markerEnd:A("sequenceflow-end",Se,ke),stroke:Tt(U,p)}),Be=le(U);return U.source&&(tt=U.source.businessObject,Be.conditionExpression&&tt.$instanceOf("bpmn:Activity")&&Mt(Pe,{markerStart:A("conditional-flow-marker",Se,ke)}),tt.default&&(tt.$instanceOf("bpmn:Gateway")||tt.$instanceOf("bpmn:Activity"))&&tt.default===Be&&Mt(Pe,{markerStart:A("conditional-default-flow-marker",Se,ke)})),Pe},"bpmn:Association":function(pe,U,Se){var ke=le(U),Pe=gr(U,u),Be=Tt(U,p);return Se={strokeDasharray:"0, 5",stroke:Tt(U,p),...Se},("One"===ke.associationDirection||"Both"===ke.associationDirection)&&(Se.markerEnd=A("association-end",Pe,Be)),"Both"===ke.associationDirection&&(Se.markerStart=A("association-start",Pe,Be)),ee(pe,U.waypoints,Se)},"bpmn:DataInputAssociation":function(pe,U){var Se=gr(U,u),ke=Tt(U,p);return ne("bpmn:Association")(pe,U,{markerEnd:A("association-end",Se,ke)})},"bpmn:DataOutputAssociation":function(pe,U){var Se=gr(U,u),ke=Tt(U,p);return ne("bpmn:Association")(pe,U,{markerEnd:A("association-end",Se,ke)})},"bpmn:MessageFlow":function(pe,U){var Se=le(U),ke=Mr(U),Pe=gr(U,u),Be=Tt(U,p),tt=ee(pe,U.waypoints,{markerEnd:A("messageflow-end",Pe,Be),markerStart:A("messageflow-start",Pe,Be),strokeDasharray:"10, 11",strokeWidth:1.5,stroke:Tt(U,p)});if(Se.messageRef){var Mn=tt.getPointAtLength(tt.getTotalLength()/2),Oi=s.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Mn.x,y:Mn.y}}),ri={strokeWidth:1};"initiating"===ke.messageVisibleKind?(ri.fill="white",ri.stroke=D6):(ri.fill="#888",ri.stroke="white");var Ml=ae(pe,Oi,ri),Ou=fe(pe,Se.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:Tt(U,h)}}),O0=Ml.getBBox(),to=Ou.getBBox();SV(Ou,Mn.x-to.width/2,Mn.y+O0.height/2+10,0)}return tt},"bpmn:DataObject":function(pe,U){var ke=ae(pe,s.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.474,my:.296}}),{fill:gr(U,u),fillOpacity:F5,stroke:Tt(U,p)});return function i$e(t){var i=t.dataObjectRef;return t.isCollection||i&&i.isCollection}(le(U))&&function Bt(pe,U){ae(pe,s.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.33,my:(U.height-18)/U.height}}),{strokeWidth:2})}(pe,U),ke},"bpmn:DataObjectReference":he("bpmn:DataObject"),"bpmn:DataInput":function(pe,U){var Se=s.getRawPath("DATA_ARROW"),ke=ne("bpmn:DataObject")(pe,U);return ae(pe,Se,{strokeWidth:1}),ke},"bpmn:DataOutput":function(pe,U){var Se=s.getRawPath("DATA_ARROW"),ke=ne("bpmn:DataObject")(pe,U);return ae(pe,Se,{strokeWidth:1,fill:D6}),ke},"bpmn:DataStoreReference":function(pe,U){return ae(pe,s.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:gr(U,u),fillOpacity:F5,stroke:Tt(U,p)})},"bpmn:BoundaryEvent":function(pe,U,Se){var Pe=le(U).cancelActivity,Be={strokeWidth:1.5,fill:gr(U,u),stroke:Tt(U,p)};Pe||(Be.strokeDasharray="6");var tt={...Be,fillOpacity:1},Mn={...Be,fill:"none"},Oi=ne("bpmn:Event")(pe,U,tt);return N(pe,U.width,U.height,3,Mn),(!Se||!1!==Se.renderIcon)&&Ce(U,pe),Oi},"bpmn:Group":function(pe,U){return B(pe,U.width,U.height,10,{stroke:Tt(U,p),strokeWidth:1.5,strokeDasharray:"10,6,0,6",fill:"none",pointerEvents:"none"})},label:function(pe,U){return function Fe(pe,U){var Se={width:90,height:30,x:U.width/2+U.x,y:U.height/2+U.y};return fe(pe,Ic(U),{box:Se,fitBox:!0,style:Re({},l.getExternalStyle(),{fill:T6(U,h,p)})})}(pe,U)},"bpmn:TextAnnotation":function(pe,U){var Se=B(pe,U.width,U.height,0,0,{fill:"none",stroke:"none"});return ae(pe,s.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:0,my:0}}),{stroke:Tt(U,p)}),fe(pe,le(U).text||"",{box:U,align:"left-top",padding:7,style:{fill:T6(U,h,p)}}),Se},ParticipantMultiplicityMarker:function(pe,U){te("participant-multiplicity",pe,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:U.width/2/U.width,my:(U.height-15)/U.height}}),{strokeWidth:2,fill:gr(U,u),stroke:Tt(U,p)})},SubProcessMarker:function(pe,U){ec(B(pe,14,14,0,{strokeWidth:1,fill:gr(U,u),stroke:Tt(U,p)}),U.width/2-7.5,U.height-20),te("sub-process",pe,s.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2-7.5)/U.width,my:(U.height-20)/U.height}}),{fill:gr(U,u),stroke:Tt(U,p)})},ParallelMarker:function(pe,U,Se){te("parallel",pe,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.parallel)/U.width,my:(U.height-20)/U.height}}),{fill:gr(U,u),stroke:Tt(U,p)})},SequentialMarker:function(pe,U,Se){te("sequential",pe,s.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.seq)/U.width,my:(U.height-19)/U.height}}),{fill:gr(U,u),stroke:Tt(U,p)})},CompensationMarker:function(pe,U,Se){te("compensation",pe,s.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.compensation)/U.width,my:(U.height-13)/U.height}}),{strokeWidth:1,fill:gr(U,u),stroke:Tt(U,p)})},LoopMarker:function(pe,U,Se){te("loop",pe,s.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.loop)/U.width,my:(U.height-7)/U.height}}),{strokeWidth:1.5,fill:gr(U,u),stroke:Tt(U,p),strokeMiterlimit:.5})},AdhocMarker:function(pe,U,Se){te("adhoc",pe,s.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.adhoc)/U.width,my:(U.height-15)/U.height}}),{strokeWidth:1,fill:Tt(U,p),stroke:Tt(U,p)})}};function Pt(pe,U,Se){var Be,ke=le(U),Pe=Se&&-1!==Se.indexOf("SubProcessMarker");Be=Pe?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},_e(Se,function(Oi){ne(Oi)(pe,U,Be)}),ke.isForCompensation&&ne("CompensationMarker")(pe,U,Be),"bpmn:AdHocSubProcess"===ke.$type&&ne("AdhocMarker")(pe,U,Be);var tt=ke.loopCharacteristics,Mn=tt&&tt.isSequential;tt&&(void 0===Mn&&ne("LoopMarker")(pe,U,Be),!1===Mn&&ne("ParallelMarker")(pe,U,Be),!0===Mn&&ne("SequentialMarker")(pe,U,Be))}this._drawPath=ae,this._renderer=ne}jt(_y,Lf),_y.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],_y.prototype.canRender=function(t){return V(t,"bpmn:BaseElement")},_y.prototype.drawShape=function(t,i){return this._renderer(i.type)(t,i)},_y.prototype.drawConnection=function(t,i){return this._renderer(i.type)(t,i)},_y.prototype.getShapePath=function(t){return V(t,"bpmn:Event")?function o$e(t){var s=t.width/2;return my([["M",t.x+t.width/2,t.y+t.height/2],["m",0,-s],["a",s,s,0,1,1,0,2*s],["a",s,s,0,1,1,0,-2*s],["z"]])}(t):V(t,"bpmn:Activity")?function s$e(t,i){var a=t.width,l=t.height;return my([["M",t.x+i,t.y],["l",a-2*i,0],["a",i,i,0,0,1,i,i],["l",0,l-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-a,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-l],["a",i,i,0,0,1,i,-i],["z"]])}(t,10):V(t,"bpmn:Gateway")?function a$e(t){var l=t.width/2,c=t.height/2;return my([["M",t.x+l,t.y],["l",l,c],["l",-l,c],["l",-l,-c],["z"]])}(t):function l$e(t){var s=t.width;return my([["M",t.x,t.y],["l",s,0],["l",0,t.height],["l",-s,0],["z"]])}(t)};var p$e=0,f$e={width:150,height:50};function g$e(t,i){var o;i.textContent=t;try{var s,a=""===t;return i.textContent=a?"dummy":t,s={width:(o=i.getBBox()).width+2*o.x,height:o.height},a&&(s.width=0),s}catch{return{width:0,height:0}}}function v$e(t,i,o){for(var l,s=t.shift(),a=s;;){if((l=g$e(a,o)).width=a?l.width:0," "===a||""===a||l.width<Math.round(i)||a.length<2)return y$e(t,a,s,l);a=_$e(a,l.width,i)}}function y$e(t,i,o,s){if(i.length<o.length){var a=o.slice(i.length).trim();t.unshift(a)}return{width:s.width,height:s.height,text:i}}var Ose="\xad";function _$e(t,i,o){var s=Math.max(t.length*(o/i),1),a=function b$e(t,i){var s,o=t.split(/(\s|-|\u00AD)/g),a=[],l=0;if(o.length>1)for(;s=o.shift();){if(!(s.length+l<i)){("-"===s||s===Ose)&&a.pop();break}a.push(s),l+=s.length}var c=a[a.length-1];return c&&c===Ose&&(a[a.length-1]="-"),a.join("")}(t,s);return a||(a=t.slice(0,Math.max(Math.round(s-1),1))),a}function pP(t){this._config=Re({},{size:f$e,padding:p$e,style:{},align:"center-top"},t||{})}function kse(t){var i=Re({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},t&&t.defaultStyle||{}),o=parseInt(i.fontSize,10)-1,s=Re({},i,{fontSize:o},t&&t.externalStyle||{}),a=new pP({style:i});this.getExternalLabelBounds=function(l,c){var u=a.getDimensions(c,{box:{width:90,height:30},style:s});return{x:Math.round(l.x+l.width/2-u.width/2),y:Math.round(l.y),width:Math.ceil(u.width),height:Math.ceil(u.height)}},this.getTextAnnotationBounds=function(l,c){var u=a.getDimensions(c,{box:l,style:i,align:"left-top",padding:5});return{x:l.x,y:l.y,width:l.width,height:Math.max(30,Math.round(u.height))}},this.createText=function(l,c){return a.createText(l,c||{})},this.getDefaultStyle=function(){return i},this.getExternalStyle=function(){return s}}pP.prototype.createText=function(t,i){return this.layoutText(t,i).element},pP.prototype.getDimensions=function(t,i){return this.layoutText(t,i).dimensions},pP.prototype.layoutText=function(t,i){var o=Re({},this._config.size,i.box),s=Re({},this._config.style,i.style),a=function h$e(t){var i=t.split("-");return{horizontal:i[0]||"center",vertical:i[1]||"top"}}(i.align||this._config.align),l=function m$e(t){return Lo(t)?Re({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}(void 0!==i.padding?i.padding:this._config.padding),c=i.fitBox||!1,u=function x$e(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}(s),p=t.split(/\u00AD?\r?\n/),h=[],g=o.width-l.left-l.right,y=an("text");Mt(y,{x:0,y:0}),Mt(y,s);var E=function E$e(){var t=document.getElementById("helper-svg");return t||(Mt(t=an("svg"),{id:"helper-svg"}),Zs(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}();for(bn(E,y);p.length;)h.push(v$e(p,g,y));"middle"===a.vertical&&(l.top=l.bottom=0);var C=gl(h,function(N,B,j){return N+(u||B.height)},0)+l.top+l.bottom,D=gl(h,function(N,B,j){return B.width>N?B.width:N},0),O=l.top;"middle"===a.vertical&&(O+=(o.height-C)/2),O-=(u||h[0].height)/4;var A=an("text");return Mt(A,s),_e(h,function(N){var B;switch(O+=u||N.height,a.horizontal){case"left":B=l.left;break;case"right":B=(c?D:g)-l.right-N.width;break;default:B=Math.max(((c?D:g)-N.width)/2+l.left,0)}var j=an("tspan");Mt(j,{x:B,y:O}),j.textContent=N.text,bn(A,j)}),Eo(y),{dimensions:{width:D,height:C},element:A}},kse.$inject=["config.textRenderer"];var T$e=/\{([^{}]+)\}/g,P$e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const k$e={__init__:["bpmnRenderer"],bpmnRenderer:["type",_y],textRenderer:["type",kse],pathMap:["type",function D$e(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(i){return this.pathMap[i].d},this.getScaledPath=function(i,o){var a,l,s=this.pathMap[i];o.abspos?(a=o.abspos.x,l=o.abspos.y):(a=o.containerWidth*o.position.mx,l=o.containerHeight*o.position.my);var c={};if(o.position){for(var u=o.containerHeight/s.height*o.yScaleFactor,p=o.containerWidth/s.width*o.xScaleFactor,h=0;h<s.heightElements.length;h++)c["y"+h]=s.heightElements[h]*u;for(var g=0;g<s.widthElements.length;g++)c["x"+g]=s.widthElements[g]*p}var y=function O$e(t,i){return String(t).replace(T$e,function(o,s){return function M$e(t,i,o){var s=o;return i.replace(P$e,function(a,l,c,u,p){l=l||u,s&&(l in s&&(s=s[l]),"function"==typeof s&&p&&(s=s()))}),s=(null==s||s==o?t:s)+""}(o,s,i)})}(s.d,{mx:a,my:l,e:c});return y}}]},fP={translate:["value",function A$e(t,i){return i=i||{},t.replace(/{([^}]+)}/g,function(o,s){return i[s]||"{"+s+"}"})}]};function hP(t,i,o){return Re({id:t.id,type:t.$type,businessObject:t,di:i},o)}function R$e(t,i,o){var s=t.waypoint;return!s||s.length<2?[Sn(i),Sn(o)]:s.map(function(a){return{x:a.x,y:a.y}})}function Ase(t,i,o,s){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:va(o),referenced:va(i),property:s}))}function $f(t,i,o,s,a,l){this._eventBus=t,this._canvas=i,this._elementFactory=o,this._elementRegistry=s,this._translate=a,this._textRenderer=l}$f.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],$f.prototype.add=function(t,i,o){var s,c,a=this._translate;if(V(i,"bpmndi:BPMNPlane")){var u=V(t,"bpmn:SubProcess")?{id:t.id+"_plane"}:{};s=this._elementFactory.createRoot(hP(t,i,u)),this._canvas.addRootElement(s)}else if(V(i,"bpmndi:BPMNShape")){var p=!mr(t,i),h=function N$e(t){return V(t,"bpmn:Group")}(t),g=i.bounds;s=this._elementFactory.createShape(hP(t,i,{collapsed:p,hidden:o&&(o.hidden||o.collapsed),x:Math.round(g.x),y:Math.round(g.y),width:Math.round(g.width),height:Math.round(g.height),isFrame:h})),V(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,s),V(t,"bpmn:Lane")&&(c=0),V(t,"bpmn:DataStoreReference")&&(function I$e(t,i){var o=i.x,s=i.y;return o>=t.x&&o<=t.x+t.width&&s>=t.y&&s<=t.y+t.height}(o,Sn(g))||(o=this._canvas.findRoot(o))),this._canvas.addShape(s,o,c)}else{if(!V(i,"bpmndi:BPMNEdge"))throw new Error(a("unknown di {di} for element {semantic}",{di:va(i),semantic:va(t)}));var y=this._getSource(t),E=this._getTarget(t);s=this._elementFactory.createConnection(hP(t,i,{hidden:o&&(o.hidden||o.collapsed),source:y,target:E,waypoints:R$e(i,y,E)})),V(t,"bpmn:DataAssociation")&&(o=this._canvas.findRoot(o)),this._canvas.addConnection(s,o,c)}return cy(t)&&Ic(s)&&this.addLabel(t,i,s),this._eventBus.fire("bpmnElement.added",{element:s}),s},$f.prototype._attachBoundary=function(t,i){var o=this._translate,s=t.attachedToRef;if(!s)throw new Error(o("missing {semantic}#attachedToRef",{semantic:va(t)}));var a=this._elementRegistry.get(s.id),l=a&&a.attachers;if(!a)throw Ase(o,t,s,"attachedToRef");i.host=a,l||(a.attachers=l=[]),-1===l.indexOf(i)&&l.push(i)},$f.prototype.addLabel=function(t,i,o){var s,a,l;return s=function hTe(t,i){var o,s,a,l=t.label;return l&&l.bounds?(a=l.bounds,s={width:Math.max(r6.width,a.width),height:a.height},o={x:a.x+a.width/2,y:a.y+a.height/2}):(o=eF(i),s=r6),Re({x:o.x-s.width/2,y:o.y-s.height/2},s)}(i,o),(a=Ic(o))&&(s=this._textRenderer.getExternalLabelBounds(s,a)),l=this._elementFactory.createLabel(hP(t,i,{id:t.id+"_label",labelTarget:o,type:"label",hidden:o.hidden||!Ic(o),x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)})),this._canvas.addShape(l,o.parent)},$f.prototype._getConnectedElement=function(t,i){var o,s,a=t.$type,l=this._translate;if(s=t[i+"Ref"],"source"===i&&"bpmn:DataInputAssociation"===a&&(s=s&&s[0]),("source"===i&&"bpmn:DataOutputAssociation"===a||"target"===i&&"bpmn:DataInputAssociation"===a)&&(s=t.$parent),o=s&&this._getElement(s))return o;throw s?Ase(l,t,s,i+"Ref"):new Error(l("{semantic}#{side} Ref not specified",{semantic:va(t),side:i}))},$f.prototype._getSource=function(t){return this._getConnectedElement(t,"source")},$f.prototype._getTarget=function(t){return this._getConnectedElement(t,"target")},$f.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};const L$e={__depends__:[k$e,{__depends__:[fP],bpmnImporter:["type",$f]}]};function Rse(t){!t||"function"!=typeof t.stopPropagation||t.stopPropagation()}function B5(t){return t.originalEvent||t.srcEvent}function BV(t){Rse(t),Rse(B5(t))}function Jm(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function Ise(){return/mac/i.test(navigator.platform)}function VV(t,i){return(B5(t)||t).button===i}function e1(t){return VV(t,0)}function V5(t){var i=B5(t)||t;return!!e1(t)&&(Ise()?i.metaKey:i.ctrlKey)}function jV(t){var i=B5(t)||t;return e1(t)&&i.shiftKey}function B$e(t){return!0}function mP(t){return e1(t)||function F$e(t){return VV(t,1)}(t)}function Lse(t,i,o){var s=this;function a(te,ne,he){var Ce,fe;(function u(te,ne){return!(h[te]||e1)(ne)})(te,ne)||(he?fe=i.getGraphics(he):(Ce=ne.delegateTarget||ne.target)&&(he=i.get(fe=Ce)),fe&&he&&!1===t.fire(te,{element:he,gfx:fe,originalEvent:ne})&&(ne.stopPropagation(),ne.preventDefault()))}var l={};function c(te){return l[te]}var p={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":B$e,"element.mousedown":mP,"element.mouseup":mP,"element.click":mP,"element.dblclick":mP};function E(te,ne,he,Ce){var fe=l[he]=function(ye){a(he,ye)};Ce&&(h[he]=Ce),fe.$delegate=La.bind(te,"svg, .djs-element",ne,fe)}function C(te,ne,he){var Ce=c(he);Ce&&La.unbind(te,ne,Ce.$delegate)}t.on("canvas.destroy",function(te){!function O(te){_e(p,function(ne,he){C(te,he,ne)})}(te.svg)}),t.on("canvas.init",function(te){!function D(te){_e(p,function(ne,he){E(te,he,ne)})}(te.svg)}),t.on(["shape.added","connection.added"],function(te){t.fire("interactionEvents.createHit",{element:te.element,gfx:te.gfx})}),t.on(["shape.changed","connection.changed"],500,function(te){t.fire("interactionEvents.updateHit",{element:te.element,gfx:te.gfx})}),t.on("interactionEvents.createHit",500,function(te){s.createDefaultHit(te.element,te.gfx)}),t.on("interactionEvents.updateHit",function(te){s.updateDefaultHit(te.element,te.gfx)});var A=q("djs-hit djs-hit-stroke"),F=q("djs-hit djs-hit-click-stroke"),j={all:q("djs-hit djs-hit-all"),"click-stroke":F,stroke:A,"no-move":q("djs-hit djs-hit-no-move")};function q(te,ne){return ne=Re({stroke:"white",strokeWidth:15},ne||{}),o.cls(te,["no-fill","no-border"],ne)}function ee(te,ne){var he=j[ne];if(!he)throw new Error("invalid hit type <"+ne+">");return Mt(te,he),te}function ae(te,ne){bn(te,ne)}this.removeHits=function(te){_e(YD(".djs-hit",te),Eo)},this.createDefaultHit=function(te,ne){var he=te.waypoints,Ce=te.isFrame;return he?this.createWaypointsHit(ne,he):this.createBoxHit(ne,Ce?"stroke":"all",{width:te.width,height:te.height})},this.createWaypointsHit=function(te,ne){var he=J9(ne);return ee(he,"stroke"),ae(te,he),he},this.createBoxHit=function(te,ne,he){he=Re({x:0,y:0},he);var Ce=an("rect");return ee(Ce,ne),Mt(Ce,he),ae(te,Ce),Ce},this.updateDefaultHit=function(te,ne){var he=tr(".djs-hit",ne);if(he)return te.waypoints?Loe(he,te.waypoints):Mt(he,{width:te.width,height:te.height}),he},this.fire=a,this.triggerMouseEvent=function g(te,ne,he){var Ce=p[te];if(!Ce)throw new Error("unmapped DOM event name <"+te+">");return a(Ce,ne,he)},this.mouseHandler=c,this.registerEvent=E,this.unregisterEvent=C}Lse.$inject=["eventBus","elementRegistry","styles"];const gP={__init__:["interactionEvents"],interactionEvents:["type",Lse]};function Ey(t,i){this._eventBus=t,this.offset=5;var o=i.cls("djs-outline",["no-fill"]),s=this;function a(l){var c=an("rect");return Mt(c,Re({x:0,y:0,rx:4,width:100,height:100},o)),c}t.on(["shape.added","shape.changed"],500,function(l){var c=l.element,u=l.gfx,p=tr(".djs-outline",u);p||bn(u,p=s.getOutline(c)||a()),s.updateShapeOutline(p,c)}),t.on(["connection.added","connection.changed"],function(l){var c=l.element,u=l.gfx,p=tr(".djs-outline",u);p||bn(u,p=a()),s.updateConnectionOutline(p,c)})}Ey.prototype.updateShapeOutline=function(t,i){var o=!1,s=this._getProviders();s.length&&_e(s,function(a){o=o||a.updateOutline(i,t)}),o||Mt(t,{x:-this.offset,y:-this.offset,width:i.width+2*this.offset,height:i.height+2*this.offset})},Ey.prototype.updateConnectionOutline=function(t,i){var o=jo(i);Mt(t,{x:o.x-this.offset,y:o.y-this.offset,width:o.width+2*this.offset,height:o.height+2*this.offset})},Ey.prototype.registerProvider=function(t,i){i||(i=t,t=1e3),this._eventBus.on("outline.getProviders",t,function(o){o.providers.push(i)})},Ey.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Ey.prototype.getOutline=function(t){var i;return _e(this._getProviders(),function(s){Vr(s.getOutline)&&(i=i||s.getOutline(t))}),i},Ey.$inject=["eventBus","styles","elementRegistry"];const Fse={__init__:["outline"],outline:["type",Ey]};function j5(t,i){this._eventBus=t,this._canvas=i,this._selectedElements=[];var o=this;t.on(["shape.remove","connection.remove"],function(s){o.deselect(s.element)}),t.on(["diagram.clear","root.set"],function(s){o.select(null)})}function $V(t,i,o){this._canvas=t;var s=this;function a(c,u){t.addMarker(c,u)}function l(c,u){t.removeMarker(c,u)}this._multiSelectionBox=null,i.on("element.hover",function(c){a(c.element,"hover")}),i.on("element.out",function(c){l(c.element,"hover")}),i.on("selection.changed",function(c){var h=c.oldSelection,g=c.newSelection;_e(h,function(y){-1===g.indexOf(y)&&function u(y){l(y,"selected")}(y)}),_e(g,function(y){-1===h.indexOf(y)&&function p(y){a(y,"selected")}(y)}),s._updateSelectionOutline(g)}),i.on("element.changed",function(c){o.isSelected(c.element)&&s._updateSelectionOutline(o.get())})}function jse(t,i,o,s){t.on("create.end",500,function(a){var l=a.context,u=l.elements,h=(l.hints||{}).autoSelect;if(l.canExecute){if(!1===h)return;Rn(h)?i.select(h):i.select(u.filter(z$e))}}),t.on("connect.end",500,function(a){var c=a.context.connection;c&&i.select(c)}),t.on("shape.move.end",500,function(a){var l=a.previousSelection||[],c=s.get(a.context.shape.id);Qn(l,function(p){return c.id===p.id})||i.select(c)}),t.on("element.click",function(a){if(e1(a)){var l=a.element;l===o.getRootElement()&&(l=null);var c=i.isSelected(l),u=i.get().length>1,p=V5(a)||jV(a);if(c&&u)return p?i.deselect(l):i.select(l);c?i.deselect(l):i.select(l,p)}})}function z$e(t){return!t.hidden}j5.$inject=["eventBus","canvas"],j5.prototype.deselect=function(t){var i=this._selectedElements,o=i.indexOf(t);if(-1!==o){var s=i.slice();i.splice(o,1),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:i})}},j5.prototype.get=function(){return this._selectedElements},j5.prototype.isSelected=function(t){return-1!==this._selectedElements.indexOf(t)},j5.prototype.select=function(t,i){var o=this._selectedElements,s=o.slice();Rn(t)||(t=t?[t]:[]);var a=this._canvas,l=a.getRootElement();t=t.filter(function(c){var u=a.findRoot(c);return l===u}),i?_e(t,function(c){-1===o.indexOf(c)&&o.push(c)}):this._selectedElements=o=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:o})},$V.$inject=["canvas","eventBus","selection"],$V.prototype._updateSelectionOutline=function(t){var i=this._canvas.getLayer("selectionOutline");Y9(i);var o=t.length>1;if(ur(this._canvas.getContainer())[o?"add":"remove"]("djs-multi-select"),o){var a=function $$e(t){return{x:t.x-6,y:t.y-6,width:t.width+12,height:t.height+12}}(jo(t)),l=an("rect");Mt(l,Re({rx:3},a)),ur(l).add("djs-selection-outline"),bn(i,l)}},jse.$inject=["eventBus","selection","canvas","elementRegistry"];const rp={__init__:["selectionVisuals","selectionBehavior"],__depends__:[gP,Fse],selection:["type",j5],selectionVisuals:["type",$V],selectionBehavior:["type",jse]};function zV(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(1e9*Math.random())+"-"}zV.prototype.next=function(){return this._prefix+ ++this._counter};var H$e=new zV("ov");function Vs(t,i,o,s){this._eventBus=i,this._canvas=o,this._elementRegistry=s,this._ids=H$e,this._overlayDefaults=Re({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function G$e(t){var i=fi('<div class="djs-overlay-container" />');return Zs(i,{position:"absolute",width:0,height:0}),t.insertBefore(i,t.firstChild),i}(o.getContainer()),this._init()}function $se(t,i,o){Zs(t,{left:i+"px",top:o+"px"})}function yP(t,i){t.style.display=!1===i?"none":""}function zse(t,i){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(o){t.style[o+"transform"]=i})}Vs.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Vs.prototype.get=function(t){if(la(t)&&(t={id:t}),la(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var i=this._getOverlayContainer(t.element,!0);return i?t.type?On(i.overlays,v0({type:t.type})):i.overlays.slice():[]}return t.type?On(this._overlays,v0({type:t.type})):t.id?this._overlays[t.id]:null},Vs.prototype.add=function(t,i,o){if(Lo(i)&&(o=i,i=null),t.id||(t=this._elementRegistry.get(t)),!o.position)throw new Error("must specifiy overlay position");if(!o.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var s=this._ids.next();return o=Re({},this._overlayDefaults,o,{id:s,type:i,element:t,html:o.html}),this._addOverlay(o),s},Vs.prototype.remove=function(t){var i=this.get(t)||[];Rn(i)||(i=[i]);var o=this;_e(i,function(s){var a=o._getOverlayContainer(s.element,!0);if(s&&(Bd(s.html),Bd(s.htmlContainer),delete s.htmlContainer,delete s.element,delete o._overlays[s.id]),a){var l=a.overlays.indexOf(s);-1!==l&&a.overlays.splice(l,1)}})},Vs.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},Vs.prototype.show=function(){yP(this._overlayRoot)},Vs.prototype.hide=function(){yP(this._overlayRoot,!1)},Vs.prototype.clear=function(){this._overlays={},this._overlayContainers=[],GD(this._overlayRoot)},Vs.prototype._updateOverlayContainer=function(t){var i=t.element,o=t.html,s=i.x,a=i.y;if(i.waypoints){var l=jo(i);s=l.x,a=l.y}$se(o,s,a),Na(t.html,"data-container-id",i.id)},Vs.prototype._updateOverlay=function(t){var c,u,i=t.position,o=t.htmlContainer,s=t.element,a=i.left,l=i.top;void 0!==i.right&&(c=s.waypoints?jo(s).width:s.width,a=-1*i.right+c),void 0!==i.bottom&&(u=s.waypoints?jo(s).height:s.height,l=-1*i.bottom+u),$se(o,a||0,l||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())},Vs.prototype._createOverlayContainer=function(t){var i=fi('<div class="djs-overlays" />');Zs(i,{position:"absolute"}),this._overlayRoot.appendChild(i);var o={html:i,element:t,overlays:[]};return this._updateOverlayContainer(o),this._overlayContainers.push(o),o},Vs.prototype._updateRoot=function(t){var i=t.scale||1,o="matrix("+[i,0,0,i,-1*t.x*i,-1*t.y*i].join(",")+")";zse(this._overlayRoot,o)},Vs.prototype._getOverlayContainer=function(t,i){var o=Qn(this._overlayContainers,function(s){return s.element===t});return o||i?o:this._createOverlayContainer(t)},Vs.prototype._addOverlay=function(t){var a,l,i=t.id,o=t.element,s=t.html;s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),la(s)&&(s=fi(s)),l=this._getOverlayContainer(o),Zs(a=fi('<div class="djs-overlay" data-overlay-id="'+i+'">'),{position:"absolute"}),a.appendChild(s),t.type&&Ns(a).add("djs-overlay-"+t.type),yP(a,this._canvas.findRoot(o)===this._canvas.getRootElement()),t.htmlContainer=a,l.overlays.push(t),l.html.appendChild(a),this._overlays[i]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())},Vs.prototype._updateOverlayVisibilty=function(t,i){var o=t.show,s=this._canvas.findRoot(t.element),a=o&&o.minZoom,l=o&&o.maxZoom,c=t.htmlContainer,p=!0;(s!==this._canvas.getRootElement()||o&&(Bi(a)&&a>i.scale||Bi(l)&&l<i.scale))&&(p=!1),yP(c,p),this._updateOverlayScale(t,i)},Vs.prototype._updateOverlayScale=function(t,i){var s,a,c,o=t.scale,l=t.htmlContainer,u="";!0!==o&&(!1===o?(s=1,a=1):(s=o.min,a=o.max),Bi(s)&&i.scale<s&&(c=(1/i.scale||1)*s),Bi(a)&&i.scale>a&&(c=(1/i.scale||1)*a)),Bi(c)&&(u="scale("+c+","+c+")"),zse(l,u)},Vs.prototype._updateOverlaysVisibilty=function(t){var i=this;_e(this._overlays,function(o){i._updateOverlayVisibilty(o,t)})},Vs.prototype._init=function(){var t=this._eventBus,i=this;t.on("canvas.viewbox.changing",function(s){i.hide()}),t.on("canvas.viewbox.changed",function(s){!function o(s){i._updateRoot(s),i._updateOverlaysVisibilty(s),i.show()}(s.viewbox)}),t.on(["shape.remove","connection.remove"],function(s){var a=s.element;_e(i.get({element:a}),function(p){i.remove(p.id)});var c=i._getOverlayContainer(a);if(c){Bd(c.html);var u=i._overlayContainers.indexOf(c);-1!==u&&i._overlayContainers.splice(u,1)}}),t.on("element.changed",500,function(s){var l=i._getOverlayContainer(s.element,!0);l&&(_e(l.overlays,function(c){i._updateOverlay(c)}),i._updateOverlayContainer(l))}),t.on("element.marker.update",function(s){var a=i._getOverlayContainer(s.element,!0);a&&Ns(a.html)[s.add?"add":"remove"](s.marker)}),t.on("root.set",function(){i._updateOverlaysVisibilty(i._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};const bP={__init__:["overlays"],overlays:["type",Vs]};function Hse(t,i,o,s){t.on("element.changed",function(a){var l=a.element;(l.parent||l===i.getRootElement())&&(a.gfx=o.getGraphics(l)),a.gfx&&t.fire(joe(l)+".changed",a)}),t.on("elements.changed",function(a){var l=a.elements;l.forEach(function(c){t.fire("element.changed",{element:c})}),s.updateContainments(l)}),t.on("shape.changed",function(a){s.update("shape",a.element,a.gfx)}),t.on("connection.changed",function(a){s.update("connection",a.element,a.gfx)})}Hse.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const HV={__init__:["changeSupport"],changeSupport:["type",Hse]};function ft(t){this._eventBus=t}function zf(t){return function(o,s,a,l,c){(Vr(o)||gn(o))&&(c=l,l=a,a=s,s=o,o=null),this.on(o,t,s,a,l,c)}}function UV(t,i){i.invoke(ft,this),this.executed(function(o){var s=o.context;s.rootElement?t.setRootElement(s.rootElement):s.rootElement=t.getRootElement()}),this.revert(function(o){var s=o.context;s.rootElement&&t.setRootElement(s.rootElement)})}ft.$inject=["eventBus"],ft.prototype.on=function(t,i,o,s,a,l){if((Vr(i)||gn(i))&&(l=a,a=s,s=o,o=i,i=null),Vr(o)&&(l=a,a=s,s=o,o=1e3),Lo(a)&&(l=a,a=!1),!Vr(s))throw new Error("handlerFn must be a function");Rn(t)||(t=[t]);var c=this._eventBus;_e(t,function(u){var p=["commandStack",u,i].filter(function(h){return h}).join(".");c.on(p,o,a?function W$e(t,i){return function(o){return t.call(i||null,o.context,o.command,o)}}(s,l):s,l)})},ft.prototype.canExecute=zf("canExecute"),ft.prototype.preExecute=zf("preExecute"),ft.prototype.preExecuted=zf("preExecuted"),ft.prototype.execute=zf("execute"),ft.prototype.executed=zf("executed"),ft.prototype.postExecute=zf("postExecute"),ft.prototype.postExecuted=zf("postExecuted"),ft.prototype.revert=zf("revert"),ft.prototype.reverted=zf("reverted"),jt(UV,ft),UV.$inject=["canvas","injector"];const X$e={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",UV]};function P6(t){return CSS.escape(t)}var Y$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function GV(t){return(t=""+t)&&t.replace(/[&<>"']/g,function(i){return Y$e[i]})}var Use="_plane";function Gse(t){return function K$e(t){return t.replace(new RegExp(Use+"$"),"")}(t.id)}function Hf(t){var i=t.id;return V(t,"bpmn:SubProcess")?qse(i):i}function xy(t){return qse(t)}function qV(t){return V(Mr(t),"bpmndi:BPMNPlane")}function qse(t){return t+Use}function Wse(t,i,o){var s=fi('<ul class="bjs-breadcrumbs"></ul>'),a=o.getContainer(),l=Ns(a);a.appendChild(s);var c=[];function u(p){p&&(c=function Z$e(t){for(var o=[],s=le(t);s;s=s.$parent)(V(s,"bpmn:SubProcess")||V(s,"bpmn:Process"))&&o.push(s);return o.reverse()}(p));var h=c.map(function(y){var E=GV(y.name||y.id),C=fi('<li><span class="bjs-crumb"><a title="'+E+'">'+E+"</a></span></li>"),D=o.findRoot(Hf(y))||o.findRoot(y.id);if(!D&&V(y,"bpmn:Process")){var O=i.find(function(A){var F=le(A);return F&&F.get("processRef")&&F.get("processRef")===y});D=o.findRoot(O.id)}return C.addEventListener("click",function(){o.setRootElement(D)}),C});s.innerHTML="",l.toggle("bjs-breadcrumbs-shown",h.length>1),h.forEach(function(y){s.appendChild(y)})}t.on("element.changed",function(p){var g=le(p.element);Qn(c,function(E){return E===g})&&u()}),t.on("root.set",function(p){u(p.element)})}function Xse(t,i){var o=null,s=new J$e;t.on("root.set",function(a){var l=a.element,c=i.viewbox(),u=s.get(l);if(s.set(o,{x:c.x,y:c.y,zoom:c.scale}),o=l,!V(l,"bpmn:Collaboration")||u){var p=(c.x-(u=u||{x:0,y:0,zoom:1}).x)*c.scale,h=(c.y-u.y)*c.scale;(0!==p||0!==h)&&i.scroll({dx:p,dy:h}),u.zoom!==c.scale&&i.zoom(u.zoom,{x:0,y:0})}}),t.on("diagram.clear",function(){s.clear(),o=null})}function J$e(){this._entries=[],this.set=function(t,i){var o=!1;for(var s in this._entries)if(this._entries[s][0]===t){this._entries[s][1]=i,o=!0;break}o||this._entries.push([t,i])},this.get=function(t){for(var i in this._entries)if(this._entries[i][0]===t)return this._entries[i][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(t){var i=-1;for(var o in this._entries)if(this._entries[o][0]===t){i=o;break}-1!==i&&this._entries.splice(i,1)}}Wse.$inject=["eventBus","elementRegistry","canvas"],Xse.$inject=["eventBus","canvas"];function wy(t,i){this._eventBus=t,this._moddle=i;var o=this;t.on("import.render.start",1500,function(s,a){o._handleImport(a.definitions)})}function Kse(t){return V(t,"bpmndi:BPMNDiagram")?t:Kse(t.$parent)}function t1(t,i,o,s){ft.call(this,i),this._canvas=t,this._eventBus=i,this._elementRegistry=o,this._overlays=s;var a=this;this.executed("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.reverted("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,p=l.shape;a._canDrillDown(p)&&a._addOverlay(p),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(p)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,p=l.shape;a._canDrillDown(p)&&a._addOverlay(p),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(p)},!0),i.on("import.render.complete",function(){o.filter(function(l){return a._canDrillDown(l)}).map(function(l){a._addOverlay(l)})})}wy.prototype._handleImport=function(t){if(t.diagrams){var i=this;this._definitions=t,this._processToDiagramMap={},t.diagrams.forEach(function(s){!s.plane||!s.plane.bpmnElement||(i._processToDiagramMap[s.plane.bpmnElement.id]=s)});var o=[];t.diagrams.forEach(function(s){var a=i._createNewDiagrams(s.plane);Array.prototype.push.apply(o,a)}),o.forEach(function(s){i._movePlaneElementsToOrigin(s.plane)})}},wy.prototype._createNewDiagrams=function(t){var i=this,o=[],s=[];t.get("planeElement").forEach(function(l){var c=l.bpmnElement;if(c){var u=c.$parent;V(c,"bpmn:SubProcess")&&!l.isExpanded&&o.push(c),function tze(t,i){var o=t.$parent;return!(!V(o,"bpmn:SubProcess")||o===i.bpmnElement||sn(t,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(c,t)&&s.push({diElement:l,parent:u})}});var a=[];return o.forEach(function(l){if(!i._processToDiagramMap[l.id]){var c=i._createDiagram(l);i._processToDiagramMap[l.id]=c,a.push(c)}}),s.forEach(function(l){for(var c=l.diElement,u=l.parent;u&&-1===o.indexOf(u);)u=u.$parent;u&&i._moveToDiPlane(c,i._processToDiagramMap[u.id].plane)}),a},wy.prototype._movePlaneElementsToOrigin=function(t){var i=t.get("planeElement"),o=function eze(t){var i={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return t.planeElement.forEach(function(o){if(o.bounds){var s=ln(o.bounds);i.top=Math.min(s.top,i.top),i.left=Math.min(s.left,i.left)}}),tP(i)}(t),s_x=o.x-180,s_y=o.y-160;i.forEach(function(a){a.waypoint?a.waypoint.forEach(function(l){l.x=l.x-s_x,l.y=l.y-s_y}):a.bounds&&(a.bounds.x=a.bounds.x-s_x,a.bounds.y=a.bounds.y-s_y)})},wy.prototype._moveToDiPlane=function(t,i){var s=Kse(t).plane.get("planeElement");s.splice(s.indexOf(t),1),i.get("planeElement").push(t)},wy.prototype._createDiagram=function(t){var i=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:t}),o=this._moddle.create("bpmndi:BPMNDiagram",{plane:i});return i.$parent=o,i.bpmnElement=t,o.$parent=this._definitions,this._definitions.diagrams.push(o),o},wy.$inject=["eventBus","moddle"],jt(t1,ft),t1.prototype._updateDrilldownOverlay=function(t){if(t){var o=this._canvas.findRoot(t);o&&this._updateOverlayVisibility(o)}},t1.prototype._canDrillDown=function(t){var i=this._canvas;return V(t,"bpmn:SubProcess")&&i.findRoot(Hf(t))},t1.prototype._updateOverlayVisibility=function(t){var i=this._overlays,o=le(t),s=i.get({element:o.id,type:"drilldown"})[0];if(s){var a=o&&o.get("flowElements")&&o.get("flowElements").length;Ns(s.html).toggle("bjs-drilldown-empty",!a)}},t1.prototype._addOverlay=function(t){var i=this._canvas,o=this._overlays;o.get({element:t,type:"drilldown"}).length&&this._removeOverlay(t);var a=fi('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');a.addEventListener("click",function(){i.setRootElement(i.findRoot(Hf(t)))}),o.add(t,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(t)},t1.prototype._removeOverlay=function(t){this._overlays.remove({element:t,type:"drilldown"})},t1.$inject=["canvas","eventBus","elementRegistry","overlays"];const ize={__depends__:[bP,HV,X$e],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",Wse],drilldownCentering:["type",Xse],drilldownOverlayBehavior:["type",t1],subprocessCompatibility:["type",wy]};function n1(t){lo.call(this,t)}jt(n1,lo),n1.prototype._modules=[L$e,fP,rp,bP,ize],n1.prototype._moddleExtensions={};var oze=["c","C"],sze=["v","V"],aze=["y","Y"],Qse=["z","Z"];function Bc(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function js(t,i){return-1!==(t=Rn(t)?t:[t]).indexOf(i.key)||-1!==t.indexOf(i.code)}function WV(t){return t.shiftKey}var EP="keyboard.keydown",Zse="input-handle-modified-keys";function ta(t,i){var o=this;this._config=t||{},this._eventBus=i,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),i.on("diagram.destroy",function(){o._fire("destroy"),o.unbind()}),i.on("diagram.init",function(){o._fire("init")}),i.on("attach",function(){t&&t.bindTo&&o.bind(t.bindTo)}),i.on("detach",function(){o.unbind()})}ta.$inject=["config.keyboard","eventBus"],ta.prototype._keydownHandler=function(t){this._keyHandler(t,EP)},ta.prototype._keyupHandler=function(t){this._keyHandler(t,"keyboard.keyup")},ta.prototype._keyHandler=function(t,i){this._isEventIgnored(t)||this._eventBus.fire(i||EP,{keyEvent:t})&&t.preventDefault()},ta.prototype._isEventIgnored=function(t){return!!t.defaultPrevented||function mze(t){return t&&(ew(t,"input, textarea")||"true"===t.contentEditable)}(t.target)&&this._isModifiedKeyIgnored(t)},ta.prototype._isModifiedKeyIgnored=function(t){return!Bc(t)||-1===this._getAllowedModifiers(t.target).indexOf(t.key)},ta.prototype._getAllowedModifiers=function(t){var i=Cf(t,"["+Zse+"]",!0);return!i||this._node&&!this._node.contains(i)?[]:i.getAttribute(Zse).split(",")},ta.prototype.bind=function(t){this.unbind(),this._node=t,hn.bind(t,"keydown",this._keydownHandler),hn.bind(t,"keyup",this._keyupHandler),this._fire("bind")},ta.prototype.getBinding=function(){return this._node},ta.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),hn.unbind(t,"keydown",this._keydownHandler),hn.unbind(t,"keyup",this._keyupHandler)),this._node=null},ta.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})},ta.prototype.addListener=function(t,i,o){Vr(t)&&(o=i,i=t,t=1e3),this._eventBus.on(o||EP,t,i)},ta.prototype.removeListener=function(t,i){this._eventBus.off(i||EP,t)},ta.prototype.hasModifier=function lze(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey},ta.prototype.isCmd=Bc,ta.prototype.isShift=WV,ta.prototype.isKey=js;var gze=500;function $5(t,i){var o=this;t.on("editorActions.init",gze,function(s){o.registerBindings(i,s.editorActions)})}$5.$inject=["eventBus","keyboard"],$5.prototype.registerBindings=function(t,i){function o(s,a){i.isRegistered(s)&&t.addListener(a)}o("undo",function(s){if(function dze(t){return Bc(t)&&!WV(t)&&js(Qse,t)}(s.keyEvent))return i.trigger("undo"),!0}),o("redo",function(s){if(function pze(t){return Bc(t)&&(js(aze,t)||js(Qse,t)&&WV(t))}(s.keyEvent))return i.trigger("redo"),!0}),o("copy",function(s){if(function cze(t){return Bc(t)&&js(oze,t)}(s.keyEvent))return i.trigger("copy"),!0}),o("paste",function(s){if(function uze(t){return Bc(t)&&js(sze,t)}(s.keyEvent))return i.trigger("paste"),!0}),o("stepZoom",function(s){var a=s.keyEvent;if(js(["+","Add","="],a)&&Bc(a))return i.trigger("stepZoom",{value:1}),!0}),o("stepZoom",function(s){var a=s.keyEvent;if(js(["-","Subtract"],a)&&Bc(a))return i.trigger("stepZoom",{value:-1}),!0}),o("zoom",function(s){var a=s.keyEvent;if(js("0",a)&&Bc(a))return i.trigger("zoom",{value:1}),!0}),o("removeSelection",function(s){if(js(["Backspace","Delete","Del"],s.keyEvent))return i.trigger("removeSelection"),!0})};const XV={__init__:["keyboard","keyboardBindings"],keyboard:["type",ta],keyboardBindings:["type",$5]};var vze={moveSpeed:50,moveSpeedAccelerated:200};function Jse(t,i,o){var s=this;this._config=Re({},vze,t||{}),i.addListener(function a(l){var c=l.keyEvent,u=s._config;if(i.isCmd(c)&&i.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],c)){var h,p=i.isShift(c)?u.moveSpeedAccelerated:u.moveSpeed;switch(c.key){case"ArrowLeft":case"Left":h="left";break;case"ArrowUp":case"Up":h="up";break;case"ArrowRight":case"Right":h="right";break;case"ArrowDown":case"Down":h="down"}return s.moveCanvas({speed:p,direction:h}),!0}}),this.moveCanvas=function(l){var c=0,u=0,h=l.speed/Math.min(Math.sqrt(o.viewbox().scale),1);switch(l.direction){case"left":c=h;break;case"up":u=h;break;case"right":c=-h;break;case"down":u=-h}o.scroll({dx:c,dy:u})}}Jse.$inject=["config.keyboardMove","keyboard","canvas"];const eae={__depends__:[XV],__init__:["keyboardMove"],keyboardMove:["type",Jse]};var yze=/^djs-cursor-.*$/;function xP(t){var i=Ns(document.body);i.removeMatching(yze),t&&i.add("djs-cursor-"+t)}function tae(){xP(null)}var bze=5e3;function nae(t,i){function o(){return!1}return t.once(i=i||"element.click",bze,o),function(){t.off(i,o)}}function M6(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function T0(t,i){return{x:t.x-i.x,y:t.y-i.y}}function rae(t,i){var o;function s(c){var u=o.start,p=o.button,h=Jm(c),g=T0(h,u);!o.dragging&&function Eze(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(g)>15&&(o.dragging=!0,0===p&&nae(t),xP("grab")),o.dragging&&(g=T0(h,o.last||o.start),i.scroll({dx:g.x,dy:g.y}),o.last=h),c.preventDefault()}function a(c){hn.unbind(document,"mousemove",s),hn.unbind(document,"mouseup",a),o=null,tae()}t.on("element.mousedown",500,function(c){return function l(c){if(!Cf(c.target,".djs-draggable")){var u=c.button;if(!(u>=2||c.ctrlKey||c.shiftKey||c.altKey))return o={button:u,start:Jm(c)},hn.bind(document,"mousemove",s),hn.bind(document,"mouseup",a),!0}}(c.originalEvent)}),this.isActive=function(){return!!o}}rae.$inject=["eventBus","canvas"];const iae={__init__:["moveCanvas"],moveCanvas:["type",rae]};function YV(t){return Math.log(t)/Math.log(10)}function oae(t,i){var o=YV(t.min),s=YV(t.max);return(Math.abs(o)+Math.abs(s))/i}var wze=Math.sign||function(t){return t>=0?1:-1},KV={min:.2,max:4};function ip(t,i,o){t=t||{},this._enabled=!1,this._canvas=o,this._container=o._container,this._handleWheel=vl(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||.75;var s=this;i.on("canvas.init",function(a){s._init(!1!==t.enabled)})}ip.$inject=["config.zoomScroll","eventBus","canvas"],ip.prototype.scroll=function(i){this._canvas.scroll(i)},ip.prototype.reset=function(){this._canvas.zoom("fit-viewport")},ip.prototype.zoom=function(i,o){var s=oae(KV,20);this._totalDelta+=i,Math.abs(this._totalDelta)>.1&&(this._zoom(i,o,s),this._totalDelta=0)},ip.prototype._handleWheel=function(i){if(!Cf(i.target,".djs-scrollable",!0)){var o=this._container;i.preventDefault();var c,s=i.ctrlKey||Ise()&&i.metaKey,a=i.shiftKey,l=-1*this._scale;if(l*=s?0===i.deltaMode?.02:.32:0===i.deltaMode?1:16,s){var u=o.getBoundingClientRect(),p={x:i.clientX-u.left,y:i.clientY-u.top};c=Math.sqrt(Math.pow(i.deltaY,2)+Math.pow(i.deltaX,2))*wze(i.deltaY)*l,this.zoom(c,p)}else this.scroll(c=a?{dx:l*i.deltaY,dy:0}:{dx:l*i.deltaX,dy:l*i.deltaY})}},ip.prototype.stepZoom=function(i,o){var s=oae(KV,10);this._zoom(i,o,s)},ip.prototype._zoom=function(t,i,o){var s=this._canvas,a=t>0?1:-1,l=YV(s.zoom()),c=Math.round(l/o)*o,u=Math.pow(10,c+=o*a);s.zoom(function xze(t,i){return Math.max(t.min,Math.min(t.max,i))}(KV,u),i)},ip.prototype.toggle=function(i){var a=this._enabled;return typeof i>"u"&&(i=!a),a!==i&&hn[i?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=i,i},ip.prototype._init=function(t){this.toggle(t)};const aae={__init__:["zoomScroll"],zoomScroll:["type",ip]};function O6(t){n1.call(this,t)}jt(O6,n1),O6.prototype._modules=[].concat(n1.prototype._modules,O6.prototype._navigationModules=[eae,iae,aae]);var Dze=Hn(511),Cy=Hn.n(Dze),lae=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function wP(t,i){return i.get(t,!1)}function QV(t){t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.srcEvent&&"function"==typeof t.srcEvent.stopPropagation&&t.srcEvent.stopPropagation(),"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()}function ZV(t){function o(h){setTimeout(function(){_e(lae,function(g){hn.unbind(t,g,QV,!0)})},500)}hn.bind(t,"touchstart",function i(h){_e(lae,function(g){hn.bind(t,g,QV,!0)})},!0),hn.bind(t,"touchend",o,!0),hn.bind(t,"touchcancel",o,!0);var s=new(Cy().Manager)(t,{inputClass:Cy().TouchInput,recognizers:[],domEvents:!0}),a=new(Cy().Tap),l=new(Cy().Pan)({threshold:10}),c=new(Cy().Press),u=new(Cy().Pinch),p=new(Cy().Tap)({event:"doubletap",taps:2});return u.requireFailure(l),u.requireFailure(c),s.add([l,c,u,p,a]),s.reset=function(h){var g=this.recognizers,y=this.session;y.stopped||(s.stop(h),setTimeout(function(){var E,C;for(E=0;C=g[E];E++)C.reset(),C.state=8;y.curRecognizer=null},0))},s.on("hammer.input",function(h){h.srcEvent.defaultPrevented&&s.reset(!0)}),s}function cae(t,i,o,s,a){var h,l=wP("dragging",t),c=wP("move",t),u=wP("contextPad",t),p=wP("palette",t);function g(C,D){return function(O){var A=y(O.target),F=A&&s.get(A);return D&&(O.srcEvent.button=D),a.fire(C,O,F)}}function y(C){return Cf(C,"svg, .djs-element",!0)}l&&o.on("drag.move",function(C){var D=C.originalEvent;if(D&&!(D instanceof MouseEvent)){var O=Jm(D),F=y(document.elementFromPoint(O.x,O.y)),N=F&&s.get(F);N!==C.hover&&(C.hover&&l.out(C),N&&(l.hover({element:N,gfx:F}),C.hover=N,C.hoverGfx=F))}}),u&&o.on("contextPad.create",function(C){var O=ZV(C.pad.html);O.on("panstart",function(A){u.trigger("dragstart",A,!0)}),O.on("press",function(A){u.trigger("dragstart",A,!0)}),O.on("tap",function(A){u.trigger("click",A)})}),p&&o.on("palette.create",function(C){var O=ZV(C.container);O.on("panstart",function(A){p.trigger("dragstart",A,!0)}),O.on("press",function(A){p.trigger("dragstart",A,!0)}),O.on("tap",function(A){p.trigger("click",A)})}),o.on("canvas.init",function(C){!function E(C){function O(F){var N=y(F.target),B=N&&s.get(N);if(c&&i.getRootElement()!==B)return c.start(F,B,!0);!function D(F){var N=0,B=0;function j(ee){i.scroll({dx:ee.deltaX-N,dy:ee.deltaY-B}),N=ee.deltaX,B=ee.deltaY}function q(ee){h.off("panmove",j),h.off("panend",q),h.off("pancancel",q)}h.on("panmove",j),h.on("panend",q),h.on("pancancel",q)}()}(h=ZV(C)).on("tap",g("element.click")),h.on("doubletap",g("element.dblclick",1)),h.on("panstart",O),h.on("press",O),h.on("pinchstart",function A(F){var N=i.zoom(),B=F.center;function j(ee){var te=Math.max(.2,Math.min(4,(1-(1-ee.scale)/1.5)*N));i.zoom(te,B),QV(ee)}function q(ee){h.off("pinchmove",j),h.off("pinchend",q),h.off("pinchcancel",q),h.reset(!0)}h.on("pinchmove",j),h.on("pinchend",q),h.on("pinchcancel",q)})}(C.svg)})}function JV(t){var i=this;t.on("canvas.init",function(o){i.addBBoxMarker(o.svg)})}cae.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],JV.$inject=["eventBus"],JV.prototype.addBBoxMarker=function(t){var i={fill:"none",class:"outer-bound-marker"},o=an("rect");Mt(o,{x:-1e4,y:1e4,width:10,height:10}),Mt(o,i),bn(t,o);var s=an("rect");Mt(s,{x:1e4,y:1e4,width:10,height:10}),Mt(s,i),bn(t,s)};const Mze={__depends__:[{__depends__:[gP],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",cae],touchFix:["type",JV]}]};function ej(t){return t&&t[t.length-1]}function uae(t){return t.y}function dae(t){return t.x}var Oze={left:dae,center:dae,right:function(t){return t.x+t.width},top:uae,middle:uae,bottom:function(t){return t.y+t.height}};function z5(t,i){this._modeling=t,this._rules=i}z5.$inject=["modeling","rules"],z5.prototype._getOrientationDetails=function(t){var o="x",s="width";return-1!==["top","bottom","middle"].indexOf(t)&&(o="y",s="height"),{axis:o,dimension:s}},z5.prototype._isType=function(t,i){return-1!==i.indexOf(t)},z5.prototype._alignmentPosition=function(t,i){var p,h,g,o=this._getOrientationDetails(t),s=o.axis,a=o.dimension,l={},c={},u=!1;if(this._isType(t,["left","top"]))l[t]=i[0][s];else if(this._isType(t,["right","bottom"]))g=ej(i),l[t]=g[s]+g[a];else if(this._isType(t,["center","middle"])){if(_e(i,function(E){var C=E[s]+Math.round(E[a]/2);c[C]?c[C].elements.push(E):c[C]={elements:[E],center:C}}),p=fs(c,function(E){return E.elements.length>1&&(u=!0),E.elements.length}),u)return l[t]=ej(p).center,l;h=i[0],g=ej(i=fs(i,function(E){return E[s]+E[a]})),l[t]=function y(E,C){return Math.round((E[s]+C[s]+C[a])/2)}(h,g)}return l},z5.prototype.trigger=function(t,i){var s,o=this._modeling,a=On(t,function(p){return!(p.waypoints||p.host||p.labelTarget)});if(Rn(s=this._rules.allowed("elements.align",{elements:a}))&&(a=s),!(a.length<2)&&s){var c=fs(a,Oze[i]),u=this._alignmentPosition(i,c);o.alignElements(c,u)}};const kze={__init__:["alignElements"],alignElements:["type",z5]};var CP=".entry";function Dl(t,i,o,s){this._canvas=t,this._eventBus=o,this._overlays=s;var a=Bi(i&&i.scale)?i.scale:{min:1,max:1.5};this._overlaysConfig={scale:a},this._current=null,this._init()}function fae(t,i){return-1!==t.indexOf(i)}Dl.$inject=["canvas","config.contextPad","eventBus","overlays"],Dl.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(i){var o=i.newSelection,s=o.length?1===o.length?o[0]:o:null;s?t.open(s,!0):t.close()}),this._eventBus.on("elements.changed",function(i){var o=i.elements,s=t._current;if(s){var a=s.target;xf(Rn(a)?a:[a],function(c){return fae(o,c)})&&t.open(a,!0)}})},Dl.prototype.registerProvider=function(t,i){i||(i=t,t=1e3),this._eventBus.on("contextPad.getProviders",t,function(o){o.providers.push(i)})},Dl.prototype.getEntries=function(t){var i=this._getProviders(),o=Rn(t)?"getMultiElementContextPadEntries":"getContextPadEntries",s={};return _e(i,function(a){if(Vr(a[o])){var l=a[o](t);Vr(l)?s=l(s):_e(l,function(c,u){s[u]=c})}}),s},Dl.prototype.trigger=function(t,i,o){var s,a,l=i.delegateTarget||i.target;return l?(s=Na(l,"data-action"),a=i.originalEvent||i,"mouseover"===t?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(s,"hover",a,o)},300):"mouseout"===t&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(s,t,a,o)):i.preventDefault()},Dl.prototype.triggerEntry=function(t,i,o,s){if(this.isShown()){var a=this._current.target,c=this._current.entries[t];if(c){var u=c.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:c,event:o})){if(Vr(u)){if("click"===i)return u(o,a,s)}else if(u[i])return u[i](o,a,s);o.preventDefault()}}}},Dl.prototype.open=function(t,i){!i&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))},Dl.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Dl.prototype._updateAndOpen=function(t){var a,i=this.getEntries(t),o=this.getPad(t),s=o.html;_e(i,function(l,c){var h,u=l.group||"default",p=fi(l.html||'<div class="entry" draggable="true"></div>');Na(p,"data-action",c),(h=tr("[data-group="+P6(u)+"]",s))||(Na(h=fi('<div class="group"></div>'),"data-group",u),s.appendChild(h)),h.appendChild(p),l.className&&function Ize(t,i){var o=Ns(t);(i=Rn(i)?i:i.split(/\s+/g)).forEach(function(s){o.add(s)})}(p,l.className),l.title&&Na(p,"title",l.title),l.imageUrl&&(Na(a=fi("<img>"),"src",l.imageUrl),a.style.width="100%",a.style.height="100%",p.appendChild(a))}),Ns(s).add("open"),this._current={target:t,entries:i,pad:o},this._eventBus.fire("contextPad.open",{current:this._current})},Dl.prototype.getPad=function(t){if(this.isOpen())return this._current.pad;var i=this,o=this._overlays,s=fi('<div class="djs-context-pad"></div>'),a=this._getPosition(t),l=Re({html:s},this._overlaysConfig,a);La.bind(s,CP,"click",function(p){i.trigger("click",p)}),La.bind(s,CP,"dragstart",function(p){i.trigger("dragstart",p)}),La.bind(s,CP,"mouseover",function(p){i.trigger("mouseover",p)}),La.bind(s,CP,"mouseout",function(p){i.trigger("mouseout",p)}),hn.bind(s,"mousedown",function(p){p.stopPropagation()});var c=this._canvas.getRootElement();this._overlayId=o.add(c,"context-pad",l);var u=o.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:t,pad:u}),u},Dl.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Dl.prototype.isOpen=function(t){var i=this._current;if(!i)return!1;if(!t)return!0;var o=i.target;return Rn(t)===Rn(o)&&(Rn(t)?t.length===o.length&&$3(t,function(s){return fae(o,s)}):o===t)},Dl.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},Dl.prototype._getPosition=function(t){var o=jo(Rn(t=Mi(t)?function Nze(t){return t.waypoints[t.waypoints.length-1]}(t):t)?t:[t]);return{position:{left:o.x+o.width+12,top:o.y-6}}};const hae={__depends__:[gP,bP],contextPad:["type",Dl]};var k6,sr,mae,Sy,gae,vae,tj,nj,rj,ij,A6={},bae=[],Fze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,SP=Array.isArray;function Uf(t,i){for(var o in i)t[o]=i[o];return t}function _ae(t){var i=t.parentNode;i&&i.removeChild(t)}function Eae(t,i,o){var s,a,l,c={};for(l in i)"key"==l?s=i[l]:"ref"==l?a=i[l]:c[l]=i[l];if(arguments.length>2&&(c.children=arguments.length>3?k6.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===c[l]&&(c[l]=t.defaultProps[l]);return R6(t,c,s,a,null)}function R6(t,i,o,s,a){var l={type:t,props:i,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++mae,__i:-1,__u:0};return null==a&&null!=sr.vnode&&sr.vnode(l),l}function DP(t){return t.children}function TP(t,i){this.props=t,this.context=i}function Dy(t,i){if(null==i)return t.__?Dy(t.__,t.__i+1):null;for(var o;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e)return o.__e;return"function"==typeof t.type?Dy(t):null}function xae(t){var i,o;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e){t.__e=t.__c.base=o.__e;break}return xae(t)}}function oj(t){(!t.__d&&(t.__d=!0)&&Sy.push(t)&&!PP.__r++||gae!==sr.debounceRendering)&&((gae=sr.debounceRendering)||vae)(PP)}function PP(){var t,i,o,s,a,l,c,u;for(Sy.sort(tj);t=Sy.shift();)t.__d&&(i=Sy.length,s=void 0,l=(a=(o=t).__v).__e,c=[],u=[],o.__P&&((s=Uf({},a)).__v=a.__v+1,sr.vnode&&sr.vnode(s),sj(o.__P,s,a,o.__n,void 0!==o.__P.ownerSVGElement,32&a.__u?[l]:null,c,l??Dy(a),!!(32&a.__u),u),s.__v=a.__v,s.__.__k[s.__i]=s,Tae(c,s,u),s.__e!=l&&xae(s)),Sy.length>i&&Sy.sort(tj));PP.__r=0}function wae(t,i,o,s,a,l,c,u,p,h,g){var y,E,C,D,O,A=s&&s.__k||bae,F=i.length;for(o.__d=p,function Bze(t,i,o){var s,a,l,c,u,p=i.length,h=o.length,g=h,y=0;for(t.__k=[],s=0;s<p;s++)c=s+y,null!=(a=t.__k[s]=null==(a=i[s])||"boolean"==typeof a||"function"==typeof a?null:"string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?R6(null,a,null,null,null):SP(a)?R6(DP,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?R6(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)?(a.__=t,a.__b=t.__b+1,u=jze(a,o,c,g),a.__i=u,l=null,-1!==u&&(g--,(l=o[u])&&(l.__u|=131072)),null==l||null===l.__v?(-1==u&&y--,"function"!=typeof a.type&&(a.__u|=65536)):u!==c&&(u===c+1?y++:u>c?g>p-c?y+=u-c:y--:u<c?u==c-1&&(y=u-c):y=0,u!==s+y&&(a.__u|=65536))):(l=o[c])&&null==l.key&&l.__e&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=Dy(l)),lj(l,l,!1),o[c]=null,g--);if(g)for(s=0;s<h;s++)null!=(l=o[s])&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=Dy(l)),lj(l,l))}(o,i,A),p=o.__d,y=0;y<F;y++)null!=(C=o.__k[y])&&"boolean"!=typeof C&&"function"!=typeof C&&(E=-1===C.__i?A6:A[C.__i]||A6,C.__i=y,sj(t,C,E,a,l,c,u,p,h,g),D=C.__e,C.ref&&E.ref!=C.ref&&(E.ref&&aj(E.ref,null,C),g.push(C.ref,C.__c||D,C)),null==O&&null!=D&&(O=D),65536&C.__u||E.__k===C.__k?(p&&!p.isConnected&&(p=Dy(E)),p=Cae(C,p,t)):"function"==typeof C.type&&void 0!==C.__d?p=C.__d:D&&(p=D.nextSibling),C.__d=void 0,C.__u&=-196609);o.__d=p,o.__e=O}function Cae(t,i,o){var s,a;if("function"==typeof t.type){for(s=t.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=t,i=Cae(s[a],i,o));return i}t.__e!=i&&(o.insertBefore(t.__e,i||null),i=t.__e);do{i=i&&i.nextSibling}while(null!=i&&8===i.nodeType);return i}function jze(t,i,o,s){var a=t.key,l=t.type,c=o-1,u=o+1,p=i[o];if(null===p||p&&a==p.key&&l===p.type&&!(131072&p.__u))return o;if(s>(null==p||131072&p.__u?0:1))for(;c>=0||u<i.length;){if(c>=0){if((p=i[c])&&!(131072&p.__u)&&a==p.key&&l===p.type)return c;c--}if(u<i.length){if((p=i[u])&&!(131072&p.__u)&&a==p.key&&l===p.type)return u;u++}}return-1}function Sae(t,i,o){"-"===i[0]?t.setProperty(i,o??""):t[i]=null==o?"":"number"!=typeof o||Fze.test(i)?o:o+"px"}function MP(t,i,o,s,a){var l;e:if("style"===i)if("string"==typeof o)t.style.cssText=o;else{if("string"==typeof s&&(t.style.cssText=s=""),s)for(i in s)o&&i in o||Sae(t.style,i,"");if(o)for(i in o)s&&o[i]===s[i]||Sae(t.style,i,o[i])}else if("o"===i[0]&&"n"===i[1])l=i!==(i=i.replace(/(PointerCapture)$|Capture$/i,"$1")),i=i.toLowerCase()in t||"onFocusOut"===i||"onFocusIn"===i?i.toLowerCase().slice(2):i.slice(2),t.l||(t.l={}),t.l[i+l]=o,o?s?o.u=s.u:(o.u=nj,t.addEventListener(i,l?ij:rj,l)):t.removeEventListener(i,l?ij:rj,l);else{if(a)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=i&&"height"!=i&&"href"!=i&&"list"!=i&&"form"!=i&&"tabIndex"!=i&&"download"!=i&&"rowSpan"!=i&&"colSpan"!=i&&"role"!=i&&i in t)try{t[i]=o??"";break e}catch{}"function"==typeof o||(null==o||!1===o&&"-"!==i[4]?t.removeAttribute(i):t.setAttribute(i,o))}}function Dae(t){return function(i){if(this.l){var o=this.l[i.type+t];if(null==i.t)i.t=nj++;else if(i.t<o.u)return;return o(sr.event?sr.event(i):i)}}}function sj(t,i,o,s,a,l,c,u,p,h){var g,y,E,C,D,O,A,F,N,B,j,q,ee,ae,te,ne=i.type;if(void 0!==i.constructor)return null;128&o.__u&&(p=!!(32&o.__u),l=[u=i.__e=o.__e]),(g=sr.__b)&&g(i);e:if("function"==typeof ne)try{if(F=i.props,N=(g=ne.contextType)&&s[g.__c],B=g?N?N.props.value:g.__:s,o.__c?A=(y=i.__c=o.__c).__=y.__E:("prototype"in ne&&ne.prototype.render?i.__c=y=new ne(F,B):(i.__c=y=new TP(F,B),y.constructor=ne,y.render=zze),N&&N.sub(y),y.props=F,y.state||(y.state={}),y.context=B,y.__n=s,E=y.__d=!0,y.__h=[],y._sb=[]),null==y.__s&&(y.__s=y.state),null!=ne.getDerivedStateFromProps&&(y.__s==y.state&&(y.__s=Uf({},y.__s)),Uf(y.__s,ne.getDerivedStateFromProps(F,y.__s))),C=y.props,D=y.state,y.__v=i,E)null==ne.getDerivedStateFromProps&&null!=y.componentWillMount&&y.componentWillMount(),null!=y.componentDidMount&&y.__h.push(y.componentDidMount);else{if(null==ne.getDerivedStateFromProps&&F!==C&&null!=y.componentWillReceiveProps&&y.componentWillReceiveProps(F,B),!y.__e&&(null!=y.shouldComponentUpdate&&!1===y.shouldComponentUpdate(F,y.__s,B)||i.__v===o.__v)){for(i.__v!==o.__v&&(y.props=F,y.state=y.__s,y.__d=!1),i.__e=o.__e,i.__k=o.__k,i.__k.forEach(function(he){he&&(he.__=i)}),j=0;j<y._sb.length;j++)y.__h.push(y._sb[j]);y._sb=[],y.__h.length&&c.push(y);break e}null!=y.componentWillUpdate&&y.componentWillUpdate(F,y.__s,B),null!=y.componentDidUpdate&&y.__h.push(function(){y.componentDidUpdate(C,D,O)})}if(y.context=B,y.props=F,y.__P=t,y.__e=!1,q=sr.__r,ee=0,"prototype"in ne&&ne.prototype.render){for(y.state=y.__s,y.__d=!1,q&&q(i),g=y.render(y.props,y.state,y.context),ae=0;ae<y._sb.length;ae++)y.__h.push(y._sb[ae]);y._sb=[]}else do{y.__d=!1,q&&q(i),g=y.render(y.props,y.state,y.context),y.state=y.__s}while(y.__d&&++ee<25);y.state=y.__s,null!=y.getChildContext&&(s=Uf(Uf({},s),y.getChildContext())),E||null==y.getSnapshotBeforeUpdate||(O=y.getSnapshotBeforeUpdate(C,D)),wae(t,SP(te=null!=g&&g.type===DP&&null==g.key?g.props.children:g)?te:[te],i,o,s,a,l,c,u,p,h),y.base=i.__e,i.__u&=-161,y.__h.length&&c.push(y),A&&(y.__E=y.__=null)}catch(he){i.__v=null,p||null!=l?(i.__e=u,i.__u|=p?160:32,l[l.indexOf(u)]=null):(i.__e=o.__e,i.__k=o.__k),sr.__e(he,i,o)}else null==l&&i.__v===o.__v?(i.__k=o.__k,i.__e=o.__e):i.__e=function $ze(t,i,o,s,a,l,c,u,p){var h,g,y,E,C,D,O,A=o.props,F=i.props,N=i.type;if("svg"===N&&(a=!0),null!=l)for(h=0;h<l.length;h++)if((C=l[h])&&"setAttribute"in C==!!N&&(N?C.localName===N:3===C.nodeType)){t=C,l[h]=null;break}if(null==t){if(null===N)return document.createTextNode(F);t=a?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,F.is&&F),l=null,u=!1}if(null===N)A===F||u&&t.data===F||(t.data=F);else{if(l=l&&k6.call(t.childNodes),A=o.props||A6,!u&&null!=l)for(A={},h=0;h<t.attributes.length;h++)A[(C=t.attributes[h]).name]=C.value;for(h in A)C=A[h],"children"==h||("dangerouslySetInnerHTML"==h?y=C:"key"===h||h in F||MP(t,h,null,C,a));for(h in F)C=F[h],"children"==h?E=C:"dangerouslySetInnerHTML"==h?g=C:"value"==h?D=C:"checked"==h?O=C:"key"===h||u&&"function"!=typeof C||A[h]===C||MP(t,h,C,A[h],a);if(g)u||y&&(g.__html===y.__html||g.__html===t.innerHTML)||(t.innerHTML=g.__html),i.__k=[];else if(y&&(t.innerHTML=""),wae(t,SP(E)?E:[E],i,o,s,a&&"foreignObject"!==N,l,c,l?l[0]:o.__k&&Dy(o,0),u,p),null!=l)for(h=l.length;h--;)null!=l[h]&&_ae(l[h]);u||(h="value",void 0!==D&&(D!==t[h]||"progress"===N&&!D||"option"===N&&D!==A[h])&&MP(t,h,D,A[h],!1),h="checked",void 0!==O&&O!==t[h]&&MP(t,h,O,A[h],!1))}return t}(o.__e,i,o,s,a,l,c,p,h);(g=sr.diffed)&&g(i)}function Tae(t,i,o){i.__d=void 0;for(var s=0;s<o.length;s++)aj(o[s],o[++s],o[++s]);sr.__c&&sr.__c(i,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(l){l.call(a)})}catch(l){sr.__e(l,a.__v)}})}function aj(t,i,o){try{"function"==typeof t?t(i):t.current=i}catch(s){sr.__e(s,o)}}function lj(t,i,o){var s,a;if(sr.unmount&&sr.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||aj(s,null,i)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){sr.__e(l,i)}s.base=s.__P=null}if(s=t.__k)for(a=0;a<s.length;a++)s[a]&&lj(s[a],i,o||"function"!=typeof t.type);o||null==t.__e||_ae(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function zze(t,i,o){return this.constructor(t,o)}function cj(t,i,o){var s,a,l,c;sr.__&&sr.__(t,i),a=(s="function"==typeof o)?null:o&&o.__k||i.__k,l=[],c=[],sj(i,t=(!s&&o||i).__k=Eae(DP,null,[t]),a||A6,A6,void 0!==i.ownerSVGElement,!s&&o?[o]:a?null:i.firstChild?k6.call(i.childNodes):null,l,!s&&o?o:a?a.__e:i.firstChild,s,c),Tae(l,t,c)}k6=bae.slice,sr={__e:function(t,i,o,s){for(var a,l,c;i=i.__;)if((a=i.__c)&&!a.__)try{if((l=a.constructor)&&null!=l.getDerivedStateFromError&&(a.setState(l.getDerivedStateFromError(t)),c=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(t,s||{}),c=a.__d),c)return a.__E=a}catch(u){t=u}throw t}},mae=0,TP.prototype.setState=function(t,i){var o;o=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Uf({},this.state),"function"==typeof t&&(t=t(Uf({},o),this.props)),t&&Uf(o,t),null!=t&&this.__v&&(i&&this._sb.push(i),oj(this))},TP.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oj(this))},TP.prototype.render=DP,Sy=[],vae="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tj=function(t,i){return t.__v.__b-i.__v.__b},PP.__r=0,nj=0,rj=Dae(!1),ij=Dae(!0);var Gf,Ui,uj,Oae,Pae=function(t,i,o,s){var a;i[0]=0;for(var l=1;l<i.length;l++){var c=i[l++],u=i[l]?(i[0]|=c?1:2,o[i[l++]]):i[++l];3===c?s[0]=u:4===c?s[1]=Object.assign(s[1]||{},u):5===c?(s[1]=s[1]||{})[i[++l]]=u:6===c?s[1][i[++l]]+=u+"":c?(a=t.apply(u,Pae(t,u,o,["",null])),s.push(a),u[0]?i[0]|=2:(i[l-2]=0,i[l]=a)):s.push(u)}return s},Mae=new Map,rs=function Uze(t){var i=Mae.get(this);return i||Mae.set(this,i=new Map),(i=Pae(this,i.get(t)||(i.set(t,i=function(o){for(var s,a,l=1,c="",u="",p=[0],h=function(E){1===l&&(E||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?p.push(0,E,c):3===l&&(E||c)?(p.push(3,E,c),l=2):2===l&&"..."===c&&E?p.push(4,E,0):2===l&&c&&!E?p.push(5,0,!0,c):l>=5&&((c||!E&&5===l)&&(p.push(l,0,c,a),l=6),E&&(p.push(l,E,0,a),l=6)),c=""},g=0;g<o.length;g++){g&&(1===l&&h(),h(g));for(var y=0;y<o[g].length;y++)s=o[g][y],1===l?"<"===s?(h(),p=[p],l=3):c+=s:4===l?"--"===c&&">"===s?(l=1,c=""):c=s+c[0]:u?s===u?u="":c+=s:'"'===s||"'"===s?u=s:">"===s?(h(),l=1):l&&("="===s?(l=5,a=c,c=""):"/"===s&&(l<5||">"===o[g][y+1])?(h(),3===l&&(p=p[0]),l=p,(p=p[0]).push(2,0,l),l=0):" "===s||"\t"===s||"\n"===s||"\r"===s?(h(),l=2):c+=s),3===l&&"!--"===c&&(l=4,p=p[0])}return h(),p}(t)),i),arguments,[])).length>1?i:i[0]}.bind(Eae),H5=0,kae=[],OP=[],Aae=sr.__b,Rae=sr.__r,Iae=sr.diffed,Nae=sr.__c,Lae=sr.unmount;function Ty(t,i){sr.__h&&sr.__h(Ui,t,H5||i),H5=0;var o=Ui.__H||(Ui.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:OP}),o.__[t]}function kP(t){return H5=1,function Gze(t,i,o){var s=Ty(Gf++,2);if(s.t=t,!s.__c&&(s.__=[o?o(i):Bae(void 0,i),function(u){var p=s.__N?s.__N[0]:s.__[0],h=s.t(p,u);p!==h&&(s.__N=[h,s.__[1]],s.__c.setState({}))}],s.__c=Ui,!Ui.u)){var a=function(u,p,h){if(!s.__c.__H)return!0;var g=s.__c.__H.__.filter(function(E){return E.__c});if(g.every(function(E){return!E.__N}))return!l||l.call(this,u,p,h);var y=!1;return g.forEach(function(E){if(E.__N){var C=E.__[0];E.__=E.__N,E.__N=void 0,C!==E.__[0]&&(y=!0)}}),!(!y&&s.__c.props===u)&&(!l||l.call(this,u,p,h))};Ui.u=!0;var l=Ui.shouldComponentUpdate,c=Ui.componentWillUpdate;Ui.componentWillUpdate=function(u,p,h){if(this.__e){var g=l;l=void 0,a(u,p,h),l=g}c&&c.call(this,u,p,h)},Ui.shouldComponentUpdate=a}return s.__N||s.__}(Bae,t)}function dj(t,i){var o=Ty(Gf++,3);!sr.__s&&hj(o.__H,i)&&(o.__=t,o.i=i,Ui.__H.__h.push(o))}function I6(t,i){var o=Ty(Gf++,4);!sr.__s&&hj(o.__H,i)&&(o.__=t,o.i=i,Ui.__h.push(o))}function pj(t){return H5=5,N6(function(){return{current:t}},[])}function N6(t,i){var o=Ty(Gf++,7);return hj(o.__H,i)?(o.__V=t(),o.i=i,o.__h=t,o.__V):o.__}function U5(t,i){return H5=8,N6(function(){return t},i)}function qze(){for(var t;t=kae.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(AP),t.__H.__h.forEach(fj),t.__H.__h=[]}catch(i){t.__H.__h=[],sr.__e(i,t.__v)}}sr.__b=function(t){Ui=null,Aae&&Aae(t)},sr.__r=function(t){Rae&&Rae(t),Gf=0;var i=(Ui=t.__c).__H;i&&(uj===Ui?(i.__h=[],Ui.__h=[],i.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=OP,o.__N=o.i=void 0})):(i.__h.forEach(AP),i.__h.forEach(fj),i.__h=[],Gf=0)),uj=Ui},sr.diffed=function(t){Iae&&Iae(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==kae.push(i)&&Oae===sr.requestAnimationFrame||((Oae=sr.requestAnimationFrame)||Wze)(qze)),i.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==OP&&(o.__=o.__V),o.i=void 0,o.__V=OP})),uj=Ui=null},sr.__c=function(t,i){i.some(function(o){try{o.__h.forEach(AP),o.__h=o.__h.filter(function(s){return!s.__||fj(s)})}catch(s){i.some(function(a){a.__h&&(a.__h=[])}),i=[],sr.__e(s,o.__v)}}),Nae&&Nae(t,i)},sr.unmount=function(t){Lae&&Lae(t);var i,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(s){try{AP(s)}catch(a){i=a}}),o.__H=void 0,i&&sr.__e(i,o.__v))};var Fae="function"==typeof requestAnimationFrame;function Wze(t){var i,o=function(){clearTimeout(s),Fae&&cancelAnimationFrame(i),setTimeout(t)},s=setTimeout(o,100);Fae&&(i=requestAnimationFrame(o))}function AP(t){var i=Ui,o=t.__c;"function"==typeof o&&(t.__c=void 0,o()),Ui=i}function fj(t){var i=Ui;t.__c=t.__(),Ui=i}function hj(t,i){return!t||t.length!==i.length||i.some(function(o,s){return o!==t[s]})}function Bae(t,i){return"function"==typeof i?i(t):i}function Vae(t){var i,o,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(o=Vae(t[i]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}const RP=function Xze(){for(var t,i,o=0,s="",a=arguments.length;o<a;o++)(t=arguments[o])&&(i=Vae(t))&&(s&&(s+=" "),s+=i);return s};function Yze(t){const{entry:i,selected:o,onMouseEnter:s,onMouseLeave:a,onAction:l}=t;return rs`
    <li
      class=${RP("entry",{selected:o})}
      data-id=${i.id}
      title=${i.title||i.label}
      onClick=${l}
      onMouseEnter=${s}
      onMouseLeave=${a}
      onDragStart=${c=>l(c,i,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${RP("djs-popup-entry-name",i.className)}
        >
          ${i.imageUrl&&rs`<img class="djs-popup-entry-icon" src=${i.imageUrl} alt="" />`||i.imageHtml&&rs`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:i.imageHtml}} />`}

          ${i.label?rs`
            <span class="djs-popup-label">
              ${i.label}
            </span>
          `:null}
        </span>
        ${i.description&&rs`
          <span
            class="djs-popup-entry-description"
            title=${i.description}
          >
            ${i.description}
          </span>
        `}
      </div>
      ${i.documentationRef&&rs`
        <div class="djs-popup-entry-docs">
          <a
            href="${i.documentationRef}"
            onClick=${c=>c.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function Kze(t){const{selectedEntry:i,setSelectedEntry:o,entries:s,...a}=t,l=pj(),c=N6(()=>function Qze(t){const i=[],o=l=>i.find(c=>l.id===c.id);return t.forEach(l=>{const c=l.group?(l=>"string"==typeof l?{id:l}:l)(l.group):{id:"default"};(l=>!!o(l))(c)?o(c).entries.push(l):i.push({...c,entries:[l]})}),i}(s),[s]);return I6(()=>{const u=l.current;if(!u)return;const p=u.querySelector(".selected");p&&function Zze(t){"function"==typeof t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}(p)},[i]),rs`
    <div class="djs-popup-results" ref=${l}>
      ${c.map(u=>rs`
        ${u.name&&rs`
          <div key=${u.id} class="entry-header" title=${u.name}>
            ${u.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${u.id}>
          ${u.entries.map(p=>rs`
            <${Yze}
              key=${p.id}
              entry=${p}
              selected=${p===i}
              onMouseEnter=${()=>o(p)}
              onMouseLeave=${()=>o(null)}
              ...${a}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Jze(t){const{onClose:i,onSelect:o,className:s,headerEntries:a,position:l,title:c,width:u,scale:p,search:h,entries:g,onOpened:y,onClosed:E}=t,C=N6(()=>!!Bi(h)&&g.length>5,[h,g]),D=pj(),[O,A]=kP(""),F=U5((Ce,fe)=>C?Ce.filter(Fe=>{if(!fe)return(Fe.rank||0)>=0;const _t=[Fe.description||"",Fe.label||"",Fe.search||""].join("---").toLowerCase();return fe.toLowerCase().split(/\s/g).every(xt=>_t.includes(xt))}):Ce,[C]),[N,B]=kP(F(g,O)),[j,q]=kP(N[0]),ee=U5(Ce=>{(!j||!Ce.includes(j))&&q(Ce[0]),B(Ce)},[j,B,q]);dj(()=>{ee(F(g,O))},[O,g]),dj(()=>{const Ce=fe=>{if("Escape"===fe.key)return fe.preventDefault(),i()};return document.documentElement.addEventListener("keydown",Ce),()=>{document.documentElement.removeEventListener("keydown",Ce)}},[]),I6(()=>{D.current&&D.current.focus()},[]);const ae=U5(Ce=>{let ye=N.indexOf(j)+Ce;ye<0&&(ye=N.length-1),ye>=N.length&&(ye=0),q(N[ye])},[N,j,q]),te=U5(Ce=>"Enter"===Ce.key&&j?o(Ce,j):"ArrowUp"===Ce.key||"Tab"===Ce.key&&Ce.shiftKey?(ae(-1),Ce.preventDefault()):"ArrowDown"===Ce.key||"Tab"===Ce.key?(ae(1),Ce.preventDefault()):void 0,[o,i,j,ae]),ne=U5(Ce=>{ew(Ce.target,"input")&&A(()=>Ce.target.value)},[A]);dj(()=>(y(),()=>{E()}),[]);const he=N6(()=>c||a.length>0,[c,a]);return rs`
    <${jae}
      onClose=${i}
      onKeyup=${ne}
      onKeydown=${te}
      className=${s}
      position=${l}
      width=${u}
      scale=${p}
    >
      ${he&&rs`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${c}>${c}</h3>
          ${a.map(Ce=>rs`
            <span
              class=${function tHe(t,i){return RP("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",i?"selected":"")}(Ce,Ce===j)}
              onClick=${fe=>o(fe,Ce)}
              title=${Ce.title||Ce.label}
              data-id=${Ce.id}
              onMouseEnter=${()=>q(Ce)}
              onMouseLeave=${()=>q(null)}
            >
            ${Ce.imageUrl&&rs`<img class="djs-popup-entry-icon" src=${Ce.imageUrl} alt="" />`||Ce.imageHtml&&rs`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:Ce.imageHtml}} />`}

              ${Ce.label?rs`
                <span class="djs-popup-label">${Ce.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${g.length>0&&rs`
        <div class="djs-popup-body">

          ${C&&rs`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${D}
                type="text"
              />
          </div>
          `}

          <${Kze}
            entries=${N}
            selectedEntry=${j}
            setSelectedEntry=${q}
            onAction=${o}
          />
        </div>
        ${0===N.length&&rs`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${jae}>
  `}function jae(t){const{onClose:i,onKeydown:o,onKeyup:s,className:a,children:l,position:c}=t,u=pj(),p=U5(h=>{Cf(h.target,".djs-popup",!0)||i()},[i]);return I6(()=>{if("function"!=typeof c)return;const h=u.current,g=c(h);h.style.left=`${g.x}px`,h.style.top=`${g.y}px`},[u.current,c]),I6(()=>{u.current&&u.current.focus()},[]),rs`
    <div
      class="djs-popup-backdrop"
      onClick=${p}
    >
      <div
        class=${RP("djs-popup",a)}
        style=${function eHe(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`}}(t)}
        onKeydown=${o}
        onKeyup=${s}
        ref=${u}
        tabIndex="-1"
      >
        ${l}
      </div>
    </div>
  `}var $ae=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function To(t,i,o){this._eventBus=i,this._canvas=o,this._current=null;var s=Bi(t&&t.scale)?t.scale:{min:1,max:1.5};this._config={scale:s},i.on("diagram.destroy",()=>{this.close()}),i.on("element.changed",a=>{const l=this.isOpen()&&this._current.target;a.element===l&&this._render()})}To.$inject=["config.popupMenu","eventBus","canvas"],To.prototype._render=function(){const{position:t,className:i,entries:o,headerEntries:s,options:a}=this._current,l=Object.entries(o).map(([y,E])=>({id:y,...E})),c=Object.entries(s).map(([y,E])=>({id:y,...E})),u=t&&(y=>this._ensureVisible(y,t)),p=this._updateScale(this._current.container);cj(rs`
      <${Jze}
        onClose=${y=>this.close(y)}
        onSelect=${(y,E,C)=>this.trigger(y,E,C)}
        position=${u}
        className=${i}
        entries=${l}
        headerEntries=${c}
        scale=${p}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...a}}
      />
    `,this._current.container)},To.prototype.open=function(t,i,o,s){if(!t)throw new Error("target is missing");if(!i)throw new Error("providers for <"+i+"> not found");if(!o)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:a,headerEntries:l}=this._getContext(t,i);this._current={position:o,className:i,target:t,entries:a,headerEntries:l,container:this._createContainer({provider:i}),options:s},this._emit("open"),this._bindAutoClose(),this._render()},To.prototype._getContext=function(t,i){const o=this._getProviders(i);if(!o||!o.length)throw new Error("provider for <"+i+"> not found");const s=this._getEntries(t,o),a=this._getHeaderEntries(t,o);return{entries:s,headerEntries:a,empty:!(Object.keys(s).length||Object.keys(a).length)}},To.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},To.prototype.reset=function(){const t=this._current.container;cj(null,t),Bd(t)},To.prototype._emit=function(t,i){this._eventBus.fire(`popupMenu.${t}`,i)},To.prototype._onOpened=function(){this._emit("opened")},To.prototype._onClosed=function(){this._emit("closed")},To.prototype._createContainer=function(t){var o=this._canvas.getContainer();const s=fi(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return o.appendChild(s),s},To.prototype._bindAutoClose=function(){this._eventBus.once($ae,this.close,this)},To.prototype._unbindAutoClose=function(){this._eventBus.off($ae,this.close,this)},To.prototype._updateScale=function(){var o,s,t=this._canvas.zoom(),i=this._config.scale,a=t;return!0!==i&&(!1===i?(o=1,s=1):(o=i.min,s=i.max),Bi(o)&&t<o&&(a=o),Bi(s)&&t>s&&(a=s)),a},To.prototype._ensureVisible=function(t,i){var o=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect(),a={},l=i.x,c=i.y;return i.x+s.width>o.width&&(a.x=!0),i.y+s.height>o.height&&(a.y=!0),a.x&&a.y?(l=i.x-s.width,c=i.y-s.height):a.x?(l=i.x-s.width,c=i.y):a.y&&i.y<s.height?(l=i.x,c=10):a.y&&(l=i.x,c=i.y-s.height),i.y<o.top&&(c=i.y+s.height),{x:l,y:c}},To.prototype.isEmpty=function(t,i){if(!t)throw new Error("target is missing");if(!i)throw new Error("provider ID is missing");const o=this._getProviders(i);return!o||!o.length||this._getContext(t,i).empty},To.prototype.registerProvider=function(t,i,o){o||(o=i,i=1e3),this._eventBus.on("popupMenu.getProviders."+t,i,function(s){s.providers.push(o)})},To.prototype._getProviders=function(t){var i=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(i),i.providers},To.prototype._getEntries=function(t,i){var o={};return _e(i,function(s){if(s.getPopupMenuEntries){var a=s.getPopupMenuEntries(t);Vr(a)?o=a(o):_e(a,function(l,c){o[c]=l})}else _e(s.getEntries(t),function(l){var c=l.id;if(!c)throw new Error("entry ID is missing");o[c]=Fd(l,["id"])})}),o},To.prototype._getHeaderEntries=function(t,i){var o={};return _e(i,function(s){if(s.getPopupMenuHeaderEntries){var a=s.getPopupMenuHeaderEntries(t);Vr(a)?o=a(o):_e(a,function(l,c){o[c]=l})}else{if(!s.getHeaderEntries)return;_e(s.getHeaderEntries(t),function(l){var c=l.id;if(!c)throw new Error("entry ID is missing");o[c]=Fd(l,["id"])})}}),o},To.prototype.isOpen=function(){return!!this._current},To.prototype.trigger=function(t,i,o="click"){if(t.preventDefault(),!i){let l=Na(Cf(t.delegateTarget||t.target,".entry",!0),"data-id");i={id:l,...this._getEntry(l)}}const s=i.action;if(!1!==this._emit("trigger",{entry:i,event:t}))if(Vr(s)){if("click"===o)return s(t,i)}else if(s[o])return s[o](t,i)},To.prototype._getEntry=function(t){var i=this._current.entries[t]||this._current.headerEntries[t];if(!i)throw new Error("entry not found");return i};const mj={__init__:["popupMenu"],popupMenu:["type",To]},zae={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function G5(t,i,o,s){t.registerProvider(900,this),this._contextPad=t,this._popupMenu=i,this._translate=o,this._canvas=s}G5.$inject=["contextPad","popupMenu","translate","canvas"],G5.prototype.getMultiElementContextPadEntries=function(t){var i={};return this._isAllowed(t)&&Re(i,this._getEntries(t)),i},G5.prototype._isAllowed=function(t){return!this._popupMenu.isEmpty(t,"align-elements")},G5.prototype._getEntries=function(){var t=this;return{"align-elements":{group:"align-elements",title:t._translate("Align elements"),html:`<div class="entry">${zae.align}</div>`,action:{click:function(i,o){var s=t._getMenuPosition(o);Re(s,{cursor:{x:i.x,y:i.y}}),t._popupMenu.open(o,"align-elements",s)}}}}},G5.prototype._getMenuPosition=function(t){var s=this._contextPad.getPad(t).html.getBoundingClientRect();return{x:s.left,y:s.bottom+5}};var sHe=["left","center","right","top","middle","bottom"];function L6(t,i,o,s){this._alignElements=i,this._translate=o,this._popupMenu=t,this._rules=s,t.registerProvider("align-elements",this)}function Eu(t){ft.call(this,t),this.init()}function IP(t){Eu.call(this,t)}L6.$inject=["popupMenu","alignElements","translate","rules"],L6.prototype.getPopupMenuEntries=function(t){var i={};return this._isAllowed(t)&&Re(i,this._getEntries(t)),i},L6.prototype._isAllowed=function(t){return this._rules.allowed("elements.align",{elements:t})},L6.prototype._getEntries=function(t){var i=this._alignElements,o=this._translate,s=this._popupMenu,a={};return _e(sHe,function(l){a["align-elements-"+l]={group:"align",title:o("Align elements "+l),className:"bjs-align-elements-menu-entry",imageHtml:zae[l],action:function(){i.trigger(t,l),s.close()}}}),a},Eu.$inject=["eventBus"],jt(Eu,ft),Eu.prototype.addRule=function(t,i,o){var s=this;"string"==typeof t&&(t=[t]),t.forEach(function(a){s.canExecute(a,i,function(l,c,u){return o(l)},!0)})},Eu.prototype.init=function(){},IP.$inject=["eventBus"],jt(IP,Eu),IP.prototype.init=function(){this.addRule("elements.align",function(t){var o=On(t.elements,function(s){return!(s.waypoints||s.host||s.labelTarget)});return!((o=eP(o)).length<2)&&o})};const aHe={__depends__:[kze,hae,mj],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",G5],alignElementsMenuProvider:["type",L6],bpmnAlignElements:["type",IP]};var lHe=10,Hae=50,cHe=250;function gj(t,i,o,s){for(var a;a=uHe(t,o,i);)o=s(i,o,a);return o}function vj(t){return function(i,o,s){var a={x:o.x,y:o.y};return["x","y"].forEach(function(l){var c=t[l];if(c){var u="x"===l?"width":"height",p=c.margin,h=c.minDistance;a[l]=p<0?Math.min(s[l]+p-i[u]/2,o[l]-h+p):Math.max(s[l]+s[u]+p+i[u]/2,o[l]+h+p)}}),a}}function uHe(t,i,o){var s={x:i.x-o.width/2,y:i.y-o.height/2,width:o.width,height:o.height},a=function pHe(t){var i=yj(t);return t.host&&(i=i.concat(yj(t.host))),t.attachers&&(i=i.concat(t.attachers.reduce(function(o,s){return o.concat(yj(s))},[]))),i}(t);return Qn(a,function(l){return l!==o&&"intersect"===ga(l,s,lHe)})}function yj(t){return function hHe(t){return t.outgoing.map(function(i){return i.target})}(t).concat(function fHe(t){return t.incoming.map(function(i){return i.source})}(t))}function mHe(){return!0}function Uae(t,i,o){t.on("autoPlace",100,function(s){return function vHe(t,i,o){o||(o={});var s=o.defaultDistance||Hae,a=Sn(t);return{x:ln(t).right+s+i.width/2,y:a.y}}(s.source,s.shape)}),t.on("autoPlace.end",function(s){o.scrollToElement(s.shape)}),this.append=function(s,a,l){t.fire("autoPlace.start",{source:s,shape:a});var c=t.fire("autoPlace",{source:s,shape:a}),u=i.appendShape(s,a,c,s.parent,l);return t.fire("autoPlace.end",{source:s,shape:u}),u}}function Gae(t,i){t.on("autoPlace.end",500,function(o){i.select(o.shape)})}Uae.$inject=["eventBus","modeling","canvas"],Gae.$inject=["eventBus","selection"];const yHe={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Uae],autoPlaceSelectionBehavior:["type",Gae]};function qae(t,i){return V(i,"bpmn:TextAnnotation")?function EHe(t,i){var o=ln(t),s={x:o.right+i.width/2,y:o.top-50-i.height/2};return Mi(t)&&((s=Sn(t)).x+=100,s.y-=50),gj(t,i,s,vj({y:{margin:-30,minDistance:20}}))}(t,i):sn(i,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function xHe(t,i){var o=ln(t);return gj(t,i,{x:o.right-10+i.width/2,y:o.bottom+40+i.width/2},vj({x:{margin:30,minDistance:30}}))}(t,i):V(i,"bpmn:FlowNode")?function bHe(t,i){var o=ln(t),s=Sn(t),a=function dHe(t,i){i||(i={});var s=i.defaultDistance||Hae,a=i.direction||"e",l=i.filter,c=i.getWeight||function o(D){return D.source===t?1:-1},u=i.maxDistance||cHe,p=i.reference||"start";function h(D,O){return"n"===a?"start"===p?ln(D).top-ln(O).bottom:"center"===p?ln(D).top-Sn(O).y:ln(D).top-ln(O).top:"w"===a?"start"===p?ln(D).left-ln(O).right:"center"===p?ln(D).left-Sn(O).x:ln(D).left-ln(O).left:"s"===a?"start"===p?ln(O).top-ln(D).bottom:"center"===p?Sn(O).y-ln(D).bottom:ln(O).bottom-ln(D).bottom:"start"===p?ln(O).left-ln(D).right:"center"===p?Sn(O).x-ln(D).right:ln(O).right-ln(D).right}l||(l=mHe);var g=t.incoming.filter(l).map(function(D){var O=c(D),A=O<0?h(D.source,t):h(t,D.source);return{id:D.source.id,distance:A,weight:O}}),y=t.outgoing.filter(l).map(function(D){var O=c(D),A=O>0?h(t,D.target):h(D.target,t);return{id:D.target.id,distance:A,weight:O}});return gl(g.concat(y).reduce(function(D,O){return D[O.id+"__weight_"+O.weight]=O,D},{}),function(D,O){var A=O.distance,F=O.weight;return A<0||A>u||(D[String(A)]||(D[String(A)]=0),D[String(A)]+=1*F,(!D.distance||D[D.distance]<D[String(A)])&&(D.distance=A)),D},{}).distance||s}(t,{filter:function(g){return V(g,"bpmn:SequenceFlow")}}),l=30,u="left";return V(t,"bpmn:BoundaryEvent")&&(-1!==(u=ga(t,t.host,-25)).indexOf("top")&&(l*=-1)),gj(t,i,{x:o.right+a+i.width/2,y:s.y+_He(u,80)},vj({y:{margin:l,minDistance:80}}))}(t,i):void 0}function _He(t,i){return t.includes("top")?-1*i:t.includes("bottom")?i:0}function Wae(t){t.on("autoPlace",function(i){return qae(i.source,i.shape)})}Wae.$inject=["eventBus"];const Xae={__depends__:[yHe],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",Wae]};function qf(t,i,o,s){ft.call(this,t),this._elementRegistry=i,this._modeling=o,this._rules=s;var a=this;this.postExecuted(["shape.create"],function(l){var c=l.context;!1!==(c.hints||{}).autoResize&&a._expand([c.shape],c.parent||c.newParent)}),this.postExecuted(["elements.move"],function(l){var c=l.context,u=Kx(gI(c.closure.topLevel)),p=c.hints,h=!p||p.autoResize;!1!==h&&_e(Bv(u,function(y){return y.parent.id}),function(y,E){Rn(h)&&(y=y.filter(function(C){return Qn(h,v0({id:C.id}))})),a._expand(y,E)})}),this.postExecuted(["shape.toggleCollapse"],function(l){var c=l.context,u=c.hints,p=c.shape;u&&!1===u.autoResize||p.collapsed||a._expand(p.children||[],p)}),this.postExecuted(["shape.resize"],function(l){var c=l.context,u=c.hints,p=c.shape,h=p.parent;u&&!1===u.autoResize||h&&a._expand([p],h)})}function NP(t){t.invoke(qf,this)}function F6(t){Eu.call(this,t);var i=this;this.addRule("element.autoResize",function(o){return i.canResize(o.elements,o.target)})}function LP(t,i){F6.call(this,t),this._modeling=i}qf.$inject=["eventBus","elementRegistry","modeling","rules"],jt(qf,ft),qf.prototype._getOptimalBounds=function(t,i){var o=this.getOffset(i),s=this.getPadding(i),a=ln(jo(t)),l=ln(i),c={};return a.top-l.top<s.top&&(c.top=a.top-o.top),a.left-l.left<s.left&&(c.left=a.left-o.left),l.right-a.right<s.right&&(c.right=a.right+o.right),l.bottom-a.bottom<s.bottom&&(c.bottom=a.bottom+o.bottom),tP(Re({},l,c))},qf.prototype._expand=function(t,i){if("string"==typeof i&&(i=this._elementRegistry.get(i)),this._rules.allowed("element.autoResize",{elements:t,target:i})){var s=this._getOptimalBounds(t,i);if(function wHe(t,i){return t.x!==i.x||t.y!==i.y||t.width!==i.width||t.height!==i.height}(s,i)){var a=function CHe(t,i){var o="";return t=ln(t),i=ln(i),t.top>i.top&&(o=o.concat("n")),t.right<i.right&&(o=o.concat("w")),t.bottom<i.bottom&&(o=o.concat("s")),t.left>i.left&&(o=o.concat("e")),o}(y0(i,["x","y","width","height"]),s);this.resize(i,s,{autoResize:a});var l=i.parent;l&&this._expand([i],l)}}},qf.prototype.getOffset=function(t){return{top:60,bottom:60,left:100,right:100}},qf.prototype.getPadding=function(t){return{top:2,bottom:2,left:15,right:15}},qf.prototype.resize=function(t,i,o){this._modeling.resizeShape(t,i,null,o)},NP.$inject=["injector"],jt(NP,qf),NP.prototype.resize=function(t,i,o){V(t,"bpmn:Participant")?this._modeling.resizeLane(t,i,null,o):this._modeling.resizeShape(t,i,null,o)},F6.$inject=["eventBus"],jt(F6,Eu),F6.prototype.canResize=function(t,i){return!1},jt(LP,F6),LP.$inject=["eventBus","modeling"],LP.prototype.canResize=function(t,i){if(V(i.di,"bpmndi:BPMNPlane")||!V(i,"bpmn:Participant")&&!V(i,"bpmn:Lane")&&!V(i,"bpmn:SubProcess"))return!1;var o=!0;return _e(t,function(s){(V(s,"bpmn:Lane")||Ir(s))&&(o=!1)}),o};const SHe={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",NP],bpmnAutoResizeProvider:["type",LP]};function Kae(t,i,o){var c,u,s=this,a=o.get("dragging",!1);a&&i.on("drag.start",function(c){i.once("drag.move",1500,function(u){!function l(c){if(!c.hover){var u=c.originalEvent,p=s._findTargetGfx(u),h=p&&t.get(p);p&&h&&(c.stopPropagation(),a.hover({element:h,gfx:p}),a.move(u))}}(u)})}),i.on("element.hover",function(p){c=p.gfx,u=p.element}),i.on("element.hover",1500,function(p){u&&i.fire("element.out",{element:u,gfx:c})}),i.on("element.out",function(){c=null,u=null}),this._findTargetGfx=function(c){var u;if(c instanceof MouseEvent)return u=Jm(c),function DHe(t){return Cf(t,"svg, .djs-element",!0)}(document.elementFromPoint(u.x,u.y))}}Kae.$inject=["elementRegistry","eventBus","injector"];const THe={__init__:["hoverFix"],hoverFix:["type",Kae]};var q5=Math.round,Qae="djs-drag-active";function Py(t){t.preventDefault()}function Zae(t,i,o,s){var l,a={threshold:5,trapClick:!0};function c(B){var j=i.viewbox(),q=i._container.getBoundingClientRect();return{x:j.x+(B.x-q.left)/j.scale,y:j.y+(B.y-q.top)/j.scale}}function u(B,j){var q=t.createEvent(Re({},(j=j||l).payload,j.data,{isTouch:j.isTouch}));return!1!==t.fire("drag."+B,q)&&t.fire(j.prefix+"."+B,q)}function h(B,j){var q=l.payload,ee=l.displacement,ae=l.globalStart,te=Jm(B),ne=T0(te,ae),he=l.localStart,Ce=c(te),fe=T0(Ce,he);if(!l.active&&(j||function MHe(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(ne)>l.threshold)){if(Re(q,{x:q5(he.x+ee.x),y:q5(he.y+ee.y),dx:0,dy:0},{originalEvent:B}),!1===u("start"))return A();l.active=!0,l.keepSelection||(q.previousSelection=o.get(),o.select(null)),l.cursor&&xP(l.cursor),i.addMarker(i.getRootElement(),Qae)}BV(B),l.active&&(Re(q,{x:q5(Ce.x+ee.x),y:q5(Ce.y+ee.y),dx:q5(fe.x),dy:q5(fe.y)},{originalEvent:B}),u("move"))}function g(B){var q=!0;l.active&&(B&&(l.payload.originalEvent=B,BV(B)),q=u("end")),!1===q&&u("rejected"),u("ended",F(!0!==q))}function y(B){js("Escape",B)&&(Py(B),A())}function E(B){var j;l.active&&(j=nae(t),setTimeout(j,400),Py(B)),g(B)}function C(B){h(B)}function D(B){var j=l.payload;j.hoverGfx=B.gfx,j.hover=B.element,u("hover")}function O(B){u("out");var j=l.payload;j.hoverGfx=null,j.hover=null}function A(B){var j;if(l){var q=l.active;q&&u("cancel"),j=F(B),q&&u("canceled",j)}}function F(B){var j,q;u("cleanup"),tae(),q=l.trapClick?E:g,hn.unbind(document,"mousemove",h),hn.unbind(document,"dragstart",Py),hn.unbind(document,"selectstart",Py),hn.unbind(document,"mousedown",q,!0),hn.unbind(document,"mouseup",q,!0),hn.unbind(document,"keyup",y),hn.unbind(document,"touchstart",C,!0),hn.unbind(document,"touchcancel",A,!0),hn.unbind(document,"touchmove",h,!0),hn.unbind(document,"touchend",g,!0),t.off("element.hover",D),t.off("element.out",O),i.removeMarker(i.getRootElement(),Qae);var ee=l.payload.previousSelection;return!1!==B&&ee&&!o.get().length&&function p(B){var j=B.filter(function(q){return s.get(q.id)});j.length&&o.select(j)}(ee),j=l,l=null,j}t.on("diagram.destroy",A),this.init=function N(B,j,q,ee){l&&A(!1),"string"==typeof j&&(ee=q,q=j,j=null);var te,ne,he,Ce,fe,ae=(ee=Re({},a,ee||{})).data||{};Ce=ee.trapClick?E:g,B?(te=B5(B)||B,ne=Jm(B),BV(B),"dragstart"===te.type&&Py(te)):(te=null,ne={x:0,y:0}),he=c(ne),j||(j=he),fe=function PHe(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}(te),l=Re({prefix:q,data:ae,payload:{},globalStart:ne,displacement:T0(j,he),localStart:he,isTouch:fe},ee),ee.manual||(fe?(hn.bind(document,"touchstart",C,!0),hn.bind(document,"touchcancel",A,!0),hn.bind(document,"touchmove",h,!0),hn.bind(document,"touchend",g,!0)):(hn.bind(document,"mousemove",h),hn.bind(document,"dragstart",Py),hn.bind(document,"selectstart",Py),hn.bind(document,"mousedown",Ce,!0),hn.bind(document,"mouseup",Ce,!0)),hn.bind(document,"keyup",y),t.on("element.hover",D),t.on("element.out",O)),u("init"),ee.autoActivate&&h(B,!0)},this.move=h,this.hover=D,this.out=O,this.end=g,this.cancel=A,this.context=function(){return l},this.setOptions=function(B){Re(a,B)}}Zae.$inject=["eventBus","canvas","selection","elementRegistry"];const Wf={__depends__:[THe,rp],dragging:["type",Zae]};function W5(t,i,o){this._canvas=o,this._opts=Re({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var s=this;i.on("drag.move",function(a){var l=s._toBorderPoint(a);s.startScroll(l)}),i.on(["drag.cleanup"],function(){s.stopScroll()})}function OHe(t,i,o){return i<t&&t<o}W5.$inject=["config.autoScroll","eventBus","canvas"],W5.prototype.startScroll=function(t){var i=this._canvas,o=this._opts,s=this,a=i.getContainer().getBoundingClientRect(),l=[t.x,t.y,a.width-t.x,a.height-t.y];this.stopScroll();for(var c=0,u=0,p=0;p<4;p++)OHe(l[p],o.scrollThresholdOut[p],o.scrollThresholdIn[p])&&(0===p?c=o.scrollStep:1==p?u=o.scrollStep:2==p?c=-o.scrollStep:3==p&&(u=-o.scrollStep));(0!==c||0!==u)&&(i.scroll({dx:c,dy:u}),this._scrolling=setTimeout(function(){s.startScroll(t)},o.scrollRepeatTimeout))},W5.prototype.stopScroll=function(){clearTimeout(this._scrolling)},W5.prototype.setOptions=function(t){this._opts=Re({},this._opts,t)},W5.prototype._toBorderPoint=function(t){var i=this._canvas._container.getBoundingClientRect(),o=Jm(t.originalEvent);return{x:o.x-i.left,y:o.y-i.top}};const kHe={__depends__:[Wf],__init__:["autoScroll"],autoScroll:["type",W5]};function bj(t){this._commandStack=t.get("commandStack",!1)}bj.$inject=["injector"],bj.prototype.allowed=function(t,i){var o=!0,s=this._commandStack;return s&&(o=s.canExecute(t,i)),void 0===o||o};const op={__init__:["rules"],rules:["type",bj]};var FP=Math.round,AHe=Math.max,Jae=10;function _j(t,i){return function NHe(t,i){var o,s;for(o=0;s=t[o];o++)if(y6(s,i)<=Jae)return{point:t[o],bendpoint:!0,index:o};return null}(t,i)||function LHe(t,i){var l,o=Hoe()(function RHe(t,i){return[["M",t.x,t.y],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]]}(i,Jae),function IHe(t){var i=[];return t.forEach(function(o,s){i.push([0===s?"M":"L",o.x,o.y])}),i}(t)),s=o[0],a=o[o.length-1];return s?s!==a?s.segment2!==a.segment2?{point:t[l=AHe(s.segment2,a.segment2)-1],bendpoint:!0,index:l}:{point:{x:FP(s.x+a.x)/2,y:FP(s.y+a.y)/2},index:s.segment2}:{point:{x:FP(s.x),y:FP(s.y)},index:s.segment2}:null}(t,i)}function ele(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function tle(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function Ej(t,i){var o=i[0],s=i[1],a={x:s.x-o.x,y:s.y-o.y},l=function BHe(t,i,o){var s=[{n:t[0]-o[0],lambda:i[0]},{n:t[1]-o[1],lambda:i[1]}];return-(s[0].n*i[0]+s[1].n*i[1])/(s[0].lambda*i[0]+s[1].lambda*i[1])}([o.x,o.y],[a.x,a.y],[t.x,t.y]);return{x:o.x+l*a.x,y:o.y+l*a.y}}function nle(t,i){var o=Ej(t,i);return ele({x:o.x-t.x,y:o.y-t.y})}function BP(t,i){return ele({x:t.x-i.x,y:t.y-i.y})}var rle="djs-bendpoint",ile="djs-segment-dragger";function xj(t,i,o){var s=function VHe(t,i){var a,o=Jm(i),s=t._container.getBoundingClientRect();a={x:s.left,y:s.top};var l=t.viewbox();return{x:l.x+(o.x-a.x)/l.scale,y:l.y+(o.y-a.y)/l.scale}}(t,o);return _j(i,s)}function wj(t,i){var o=an("g");ur(o).add(rle),bn(t,o);var s=an("circle");Mt(s,{cx:0,cy:0,r:4}),ur(s).add("djs-visual"),bn(o,s);var a=an("circle");return Mt(a,{cx:0,cy:0,r:10}),ur(a).add("djs-hit"),bn(o,a),i&&ur(o).add(i),o}function ole(t,i,o){var s=an("g"),a=xV(i,o),l=Ff(i,o);return bn(t,s),function jHe(t,i,o,s){var a=an("g");bn(t,a);var p=function zHe(t,i,o){return Cj("h"===o?i.x-t.x:i.y-t.y)}(i,o,s),g=an("rect");Mt(g,{x:-9,y:-3,width:18,height:6}),ur(g).add("djs-visual"),bn(a,g);var y=an("rect");return Mt(y,{x:-p/2,y:-8.5,width:p,height:17}),ur(y).add("djs-hit"),bn(a,y),rse(a,"v"===s?90:0),a}(s,i,o,l),ur(s).add(ile),ur(s).add("h"===l?"horizontal":"vertical"),ec(s,a.x,a.y),s}function Cj(t){return Math.abs(Math.round(2*t/3))}function sle(t,i,o,s,a){function p(B,j,q){hn.bind(B,j,function(ee){o.triggerMouseEvent(j,ee,q),ee.stopPropagation()})}function h(B,j){var q=i.getLayer("overlays"),ee=tr('.djs-bendpoints[data-element-id="'+P6(B.id)+'"]',q);return!ee&&j&&(Mt(ee=an("g"),{"data-element-id":B.id}),ur(ee).add("djs-bendpoints"),bn(q,ee),p(ee,"mousedown",B),p(ee,"click",B),p(ee,"dblclick",B)),ee}function g(B,j){return tr('.djs-segment-dragger[data-segment-idx="'+B+'"]',j)}function y(B,j){j.waypoints.forEach(function(q,ee){var ae=wj(B);bn(B,ae),ec(ae,q.x,q.y)}),wj(B,"floating")}function E(B,j){for(var ee,ae,te,q=j.waypoints,ne=1;ne<q.length;ne++)Ff(ee=q[ne-1],ae=q[ne])&&(Mt(te=ole(B,ee,ae),{"data-segment-idx":ne}),p(te,"mousemove",j))}function O(B){var j=h(B);return j||(y(j=h(B,!0),B),E(j,B)),j}function A(B){var j=h(B);j&&(function D(B){_e(YD("."+ile,B),function(j){Eo(j)})}(j),function C(B){_e(YD("."+rle,B),function(j){Eo(j)})}(j),E(j,B),y(j,B))}t.on("connection.changed",function(B){A(B.element)}),t.on("connection.remove",function(B){var j=h(B.element);j&&Eo(j)}),t.on("element.marker.update",function(B){var q,j=B.element;j.waypoints&&(q=O(j),B.add?ur(q).add(B.marker):ur(q).remove(B.marker))}),t.on("element.mousemove",function(B){var ee,ae,j=B.element,q=j.waypoints;if(q){if(ee=h(j,!0),!(ae=xj(i,q,B.originalEvent)))return;(function F(B,j){var q=tr(".floating",B),ee=j.point;q&&ec(q,ee.x,ee.y)})(ee,ae),ae.bendpoint||function N(B,j,q){var fe,ye,ee=g(j.index,B),ae=q[j.index-1],te=q[j.index],ne=j.point,he=xV(ae,te),Ce=Ff(ae,te);ee&&(fe=function UHe(t){return tr(".djs-visual",t)}(ee),ye={x:ne.x-he.x,y:ne.y-he.y},"v"===Ce&&(ye={x:ye.y,y:ye.x}),ec(fe,ye.x,ye.y))}(ee,ae,q)}}),t.on("element.mousedown",function(B){if(e1(B)){var q=B.element;if(q.waypoints)return function u(B,j){var ae,q=j.waypoints,ee=xj(i,q,B);if(ee)return ae=function c(B,j){var ee,ae,q=B.waypoints;return j.index<=0||j.bendpoint||!(ae=Ff((ee={start:q[j.index-1],end:q[j.index]}).start,ee.end))?null:Cj("h"===ae?ee.end.x-ee.start.x:ee.end.y-ee.start.y)/2}(j,ee),function l(B,j,q){var te,ne,he,Ce,fe,ye,ee=B.index,ae=B.point;return!(ee<=0||B.bendpoint)&&(he=xV(te=j[ee-1],ne=j[ee]),Ce=Ff(te,ne),fe=Math.abs(ae.x-he.x),ye=Math.abs(ae.y-he.y),Ce&&fe<=q&&ye<=q)}(ee,q,ae)?a.start(B,j,ee.index):s.start(B,j,ee.index,!ee.bendpoint),!0}(B.originalEvent,q)}}),t.on("selection.changed",function(B){var q=B.newSelection[0];q&&q.waypoints&&O(q)}),t.on("element.hover",function(B){var j=B.element;j.waypoints&&(O(j),o.registerEvent(B.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(B){o.unregisterEvent(B.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(B){var j=B.element,q=B.newId;if(j.waypoints){var ee=h(j);ee&&Mt(ee,{"data-element-id":q})}}),this.addHandles=O,this.updateHandles=A,this.getBendpointsContainer=h,this.getSegmentDragger=g}sle.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var ale=Math.round,My="reconnectStart",Oy="reconnectEnd",B6="updateWaypoints";function Sj(t,i,o,s,a,l){this._injector=t,this.start=function(c,u,p,h){var D,g=o.getGraphics(u),y=u.source,E=u.target,O=(D=h||0!==p?h||p!==u.waypoints.length-1?B6:Oy:My)===B6?"connection.updateWaypoints":"connection.reconnect",A=a.allowed(O,{connection:u,source:y,target:E});!1===A&&(A=a.allowed(O,{connection:u,source:E,target:y})),!1!==A&&s.init(c,"bendpoint.move",{data:{connection:u,connectionGfx:g,context:{allowed:A,bendpointIndex:p,connection:u,source:y,target:E,insert:h,type:D}}})},i.on("bendpoint.move.hover",function(c){var C,u=c.context,p=u.connection,h=p.source,g=p.target,y=c.hover,E=u.type;if(u.hover=y,y){var D=E===B6?"connection.updateWaypoints":"connection.reconnect";if(C=u.allowed=a.allowed(D,{connection:p,source:E===My?y:h,target:E===Oy?y:g}))return u.source=E===My?y:h,void(u.target=E===Oy?y:g);!1===C&&(C=u.allowed=a.allowed(D,{connection:p,source:E===Oy?y:g,target:E===My?y:h})),C&&(u.source=E===Oy?y:g,u.target=E===My?y:h)}}),i.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(c){var u=c.context,p=u.type;u.hover=null,u.source=null,u.target=null,p!==B6&&(u.allowed=!1)}),i.on("bendpoint.move.end",function(c){var u=c.context,p=u.allowed,h=u.bendpointIndex,g=u.connection,y=u.insert,E=g.waypoints.slice(),C=u.source,D=u.target,O=u.type,A=u.hints||{},F={x:ale(c.x),y:ale(c.y)};if(!p)return!1;O===B6?(y?E.splice(h,0,F):E[h]=F,A.bendpointMove={insert:y,bendpointIndex:h},E=this.cropWaypoints(g,E),l.updateWaypoints(g,function ZBe(t){t=t.slice();for(var o,s,a,i=0;t[i];)s=t[i-1],0===y6(o=t[i],a=t[i+1])||EV(s,a,o)?t.splice(i,1):i++;return t}(E),A)):(O===My?(A.docking="source",VP(u)&&(A.docking="target",A.newWaypoints=E.reverse())):O===Oy&&(A.docking="target",VP(u)&&(A.docking="source",A.newWaypoints=E.reverse())),l.reconnect(g,C,D,F,A))},this)}function VP(t){var i=t.hover,o=t.source,s=t.target,a=t.type;return a===My?i&&s&&i===s&&o!==s:a===Oy?i&&o&&i===o&&o!==s:void 0}Sj.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Sj.prototype.cropWaypoints=function(t,i){var o=this._injector.get("connectionDocking",!1);if(!o)return i;var s=t.waypoints;return t.waypoints=i,t.waypoints=o.getCroppedWaypoints(t),i=t.waypoints,t.waypoints=s,i};var lle="updateWaypoints",V6="connect-ok",jP="connect-not-ok",cle="connect-hover",ule="djs-updating",dle="djs-dragging";function fle(t,i,o,s){this._injector=i;var a=i.get("connectionPreview",!1);o.on("bendpoint.move.start",function(l){var c=l.context,u=c.bendpointIndex,p=c.connection,h=c.insert,g=p.waypoints,y=g.slice();c.waypoints=g,h&&y.splice(u,0,{x:l.x,y:l.y}),p.waypoints=y,ur(c.draggerGfx=wj(s.getLayer("overlays"))).add("djs-dragging"),s.addMarker(p,dle),s.addMarker(p,ule)}),o.on("bendpoint.move.hover",function(l){var c=l.context,u=c.allowed,p=c.hover,h=c.type;if(p){if(s.addMarker(p,cle),h===lle)return;u?(s.removeMarker(p,jP),s.addMarker(p,V6)):!1===u&&(s.removeMarker(p,V6),s.addMarker(p,jP))}}),o.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(l){var c=l.context,u=c.hover,p=c.target;u&&(s.removeMarker(u,cle),s.removeMarker(u,p?V6:jP))}),o.on("bendpoint.move.move",function(l){var c=l.context,u=c.allowed,p=c.bendpointIndex,h=c.draggerGfx,g=c.hover,y=c.type,E=c.connection,C=E.source,D=E.target,O=E.waypoints.slice(),A={x:l.x,y:l.y},F=c.hints||{},N={};a&&(F.connectionStart&&(N.connectionStart=F.connectionStart),F.connectionEnd&&(N.connectionEnd=F.connectionEnd),"reconnectStart"===y?VP(c)?(N.connectionEnd=N.connectionEnd||A,N.source=D,N.target=g||C,O=O.reverse()):(N.connectionStart=N.connectionStart||A,N.source=g||C,N.target=D):"reconnectEnd"===y?VP(c)?(N.connectionStart=N.connectionStart||A,N.source=g||D,N.target=C,O=O.reverse()):(N.connectionEnd=N.connectionEnd||A,N.source=C,N.target=g||D):(N.noCropping=!0,N.noLayout=!0,O[p]=A),y===lle&&(O=t.cropWaypoints(E,O)),N.waypoints=O,a.drawPreview(c,u,N)),ec(h,l.x,l.y)},this),o.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(l){var c=l.context,u=c.connection,p=c.draggerGfx,h=c.hover,g=c.target;u.waypoints=c.waypoints,Eo(p),s.removeMarker(u,ule),s.removeMarker(u,dle),h&&(s.removeMarker(h,V6),s.removeMarker(h,g?V6:jP)),a&&a.cleanUp(c)})}fle.$inject=["bendpointMove","injector","eventBus","canvas"];var hle="connect-hover",mle="djs-updating";function gle(t,i,o){return Dj(t,i,t[i]+o)}function Dj(t,i,o){return{x:"x"===i?o:t.x,y:"y"===i?o:t.y}}function vle(t){return"x"===t?"y":"x"}function yle(t,i,o){var s,a;return t.original?t.original:(s=Sn(i),Dj(t,a=vle(o),s[a]))}function ble(t,i,o,s,a,l){var c=t.get("connectionDocking",!1);function u(y,E){if(!c)return E;var D,C=y.waypoints;return y.waypoints=E,D=c.getCroppedWaypoints(y),y.waypoints=C,D}function p(y){a.update("connection",y.connection,y.connectionGfx)}this.start=function(y,E,C){var ee,ae,te,O=o.getGraphics(E),A=C-1,F=C,N=E.waypoints,B=N[A],j=N[F],q=xj(o,N,y);(ee=Ff(B,j))&&(ae="v"===ee?"x":"y",0===A&&(B=yle(B,E.source,ae)),F===N.length-1&&(j=yle(j,E.target,ae)),s.init(y,te=q?q.point:{x:(B.x+j.x)/2,y:(B.y+j.y)/2},"connectionSegment.move",{cursor:"x"===ae?"resize-ew":"resize-ns",data:{connection:E,connectionGfx:O,context:{connection:E,segmentStartIndex:A,segmentEndIndex:F,segmentStart:B,segmentEnd:j,axis:ae,dragPosition:te}}}))},i.on("connectionSegment.move.start",function(y){var E=y.context,C=y.connection,D=o.getLayer("overlays");E.originalWaypoints=C.waypoints.slice(),E.draggerGfx=ole(D,E.segmentStart,E.segmentEnd),ur(E.draggerGfx).add("djs-dragging"),o.addMarker(C,mle)}),i.on("connectionSegment.move.move",function(y){var te,ne,E=y.context,C=E.connection,D=E.segmentStartIndex,O=E.segmentEndIndex,A=E.segmentStart,F=E.segmentEnd,N=E.axis,B=E.originalWaypoints.slice(),j=gle(A,N,y["d"+N]),q=gle(F,N,y["d"+N]),ee=B.length,ae=0;B[D]=j,B[O]=q,D<2&&(te=ga(C.source,j),1===D?"intersect"===te&&(B.shift(),B[0]=j,ae--):"intersect"!==te&&(B.unshift(A),ae++)),O>ee-3&&(ne=ga(C.target,q),O===ee-2?"intersect"===ne&&(B.pop(),B[B.length-1]=q):"intersect"!==ne&&B.push(F)),E.newWaypoints=C.waypoints=u(C,B),function h(y,E,C){var D=y.newWaypoints,j=function WHe(t,i,o,s){var a=Math.max(i[s],o[s]),l=Math.min(i[s],o[s]);return Dj(i,s,Math.min(Math.max(l+20,t[s]),a-20))}(C,D[y.segmentStartIndex+E],D[y.segmentEndIndex+E],vle(y.axis));ec(y.draggerGfx,j.x,j.y)}(E,ae,y),E.newSegmentStartIndex=D+ae,p(y)}),i.on("connectionSegment.move.hover",function(y){y.context.hover=y.hover,o.addMarker(y.hover,hle)}),i.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(y){var E=y.context.hover;E&&o.removeMarker(E,hle)}),i.on("connectionSegment.move.cleanup",function(y){var E=y.context,C=E.connection;E.draggerGfx&&Eo(E.draggerGfx),o.removeMarker(C,mle)}),i.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(y){var E=y.context;E.connection.waypoints=E.originalWaypoints,p(y)}),i.on("connectionSegment.move.end",function(y){var E=y.context,C=E.connection,D=E.newWaypoints,O=E.newSegmentStartIndex,A=function g(y,E){var C=0;return{waypoints:y.filter(function(O,A){return!EV(y[A-1],y[A+1],O)||(C=A<=E?C-1:C,!1)}),segmentOffset:C}}(D=D.map(function(q){return{original:q.original,x:Math.round(q.x),y:Math.round(q.y)}}),O),N=u(C,A.waypoints);l.updateWaypoints(C,N,{segmentMove:{segmentStartIndex:E.segmentStartIndex,newSegmentStartIndex:O+A.segmentOffset}})})}ble.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var XHe=Math.abs,_le=Math.round;function Ele(t){return{x:t.x,y:t.y}}function xle(t){return{x:t.x+t.width,y:t.y+t.height}}function xu(t,i){return!t||isNaN(t.x)||isNaN(t.y)?i:{x:_le(t.x+t.width/2),y:_le(t.y+t.height/2)}}function X5(t,i){var o=t.snapped;return!!o&&("string"==typeof i?o[i]:o.x&&o.y)}function zo(t,i,o){if("string"!=typeof i)throw new Error("axis must be in [x, y]");if("number"!=typeof o&&!1!==o)throw new Error("value must be Number or false");var s,a=t[i],l=t.snapped=t.snapped||{};return!1===o?l[i]=!1:(l[i]=!0,t[i]+=s=o-a,t["d"+i]+=s),a}function wle(t){return t.children||[]}var KHe=Math.abs,Cle=Math.round;function Sle(t){function i(l,c){if(Rn(l)){for(var u=l.length;u--;)if(KHe(l[u]-c)<=10)return l[u]}else{var p=c%(l=+l);if(p<10)return c-p;if(p>l-10)return c-p+l}return c}function o(l,c){return l.waypoints?function $He(t,i){var o=function HHe(t,i){for(var a,o=i.waypoints,s=1/0,l=0;l<o.length-1;l++){var p=nle(t,[o[l],o[l+1]]);p<s&&(s=p,a=l)}return[o[a],o[a+1]]}(t,i);return Ej(t,o)}(c,l):l.width?{x:Cle(l.width/2+l.x),y:Cle(l.height/2+l.y)}:void 0}t.on("connectionSegment.move.move",1500,function(l){var h,g,c=function s(l){var c=l.context,u=c.snapPoints,p=c.connection,h=p.waypoints,y=c.segmentStartIndex,C=c.segmentEndIndex,D=c.axis;if(u)return u;var O=[h[y-1],c.segmentStart,c.segmentEnd,h[C+1]];return y<2&&O.unshift(o(p.source,l)),C>h.length-3&&O.unshift(o(p.target,l)),c.snapPoints=u={horizontal:[],vertical:[]},_e(O,function(A){A&&(A=A.original||A,"y"===D&&u.horizontal.push(A.y),"x"===D&&u.vertical.push(A.x))}),u}(l),u=l.x,p=l.y;if(c){var y=u-(h=i(c.vertical,u)),E=p-(g=i(c.horizontal,p));Re(l,{dx:l.dx-y,dy:l.dy-E,x:h,y:g}),(y||-1!==c.vertical.indexOf(u))&&zo(l,"x",h),(E||-1!==c.horizontal.indexOf(p))&&zo(l,"y",g)}}),t.on(["connect.hover","connect.move","connect.end"],1500,function(l){var u=l.context.hover,p=u&&o(u,l);!Mi(u)||!p||!p.x||!p.y||(zo(l,"x",p.x),zo(l,"y",p.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(l){var E,C,c=l.context,u=function a(l){var c=l.snapPoints,u=l.connection.waypoints,p=l.bendpointIndex;if(c)return c;var h=[u[p-1],u[p+1]];return l.snapPoints=c={horizontal:[],vertical:[]},_e(h,function(g){g&&(c.horizontal.push((g=g.original||g).y),c.vertical.push(g.x))}),c}(c),p=c.hover,h=p&&o(p,l),g=l.x,y=l.y;if(u){var D=g-(E=i(h?u.vertical.concat([h.x]):u.vertical,g)),O=y-(C=i(h?u.horizontal.concat([h.y]):u.horizontal,y));Re(l,{dx:l.dx-D,dy:l.dy-O,x:l.x-D,y:l.y-O}),(D||-1!==u.vertical.indexOf(g))&&zo(l,"x",E),(O||-1!==u.horizontal.indexOf(y))&&zo(l,"y",C)}})}Sle.$inject=["eventBus"];const QHe={__depends__:[Wf,op],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",sle],bendpointMove:["type",Sj],bendpointMovePreview:["type",fle],connectionSegmentMove:["type",ble],bendpointSnapping:["type",Sle]};function Dle(t,i,o,s){function a(c,u){return s.allowed("connection.create",{source:c,target:u})}t.on("connect.hover",function(c){var g,u=c.context,p=u.start,h=c.hover;if(u.hover=h,!$D(g=u.canExecute=a(p,h))){if(!1!==g)return u.source=p,void(u.target=h);g=u.canExecute=function l(c,u){return a(u,c)}(p,h),!$D(g)&&!1!==g&&(u.source=h,u.target=p)}}),t.on(["connect.out","connect.cleanup"],function(c){var u=c.context;u.hover=null,u.source=null,u.target=null,u.canExecute=!1}),t.on("connect.end",function(c){var u=c.context,p=u.canExecute,h=u.connectionStart,g={x:c.x,y:c.y},y=u.source,E=u.target;if(!p)return!1;var C=null,D={connectionStart:Pj(u)?g:h,connectionEnd:Pj(u)?h:g};Lo(p)&&(C=p),u.connection=o.connect(y,E,C,D)}),this.start=function(c,u,p,h){Lo(p)||(h=p,p=Sn(u)),i.init(c,"connect",{autoActivate:h,data:{shape:u,context:{start:u,connectionStart:p}}})}}function Pj(t){var i=t.hover,o=t.source;return i&&o&&i===o&&o!==t.target}Dle.$inject=["eventBus","dragging","modeling","rules"];var Tle="connect-ok",Ple="connect-not-ok";function Mle(t,i,o){var s=t.get("connectionPreview",!1);s&&i.on("connect.move",function(a){var l=a.context,c=l.canExecute,u=l.hover,p=l.source,h=l.start,y=l.target,E=l.connectionStart||l.startPosition,C=l.connectionEnd||{x:a.x,y:a.y},D=E,O=C;Pj(l)&&(D=C,O=E),s.drawPreview(l,c,{source:p||h,target:y||u,connectionStart:D,connectionEnd:O})}),i.on("connect.hover",900,function(a){var u=a.context.canExecute;null!==u&&o.addMarker(a.hover,u?Tle:Ple)}),i.on(["connect.out","connect.cleanup"],1100,function(a){var l=a.hover;l&&(o.removeMarker(l,Tle),o.removeMarker(l,Ple))}),s&&i.on("connect.cleanup",function(a){s.cleanUp(a.context)})}Mle.$inject=["injector","eventBus","canvas"];const Mj={__depends__:[rp,op,Wf],__init__:["connectPreview"],connect:["type",Dle],connectPreview:["type",Mle]};function Xf(t,i,o,s){this._canvas=i,this._graphicsFactory=o,this._elementFactory=s,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}Xf.$inject=["injector","canvas","graphicsFactory","elementFactory"],Xf.prototype.drawPreview=function(t,i,o){var C,s=t.connectionPreviewGfx,a=t.getConnection,l=(o=o||{}).source,c=o.target,u=o.waypoints,p=o.connectionStart,h=o.connectionEnd,g=o.noLayout,y=o.noCropping,E=o.noNoop,D=this;s||(s=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),Y9(s),a||(a=t.getConnection=function tUe(t){var i={};return function(o){var s=JSON.stringify(o),a=i[s];return a||(a=i[s]=t.apply(null,arguments)),a}}(function(O,A,F){return D.getConnection(O,A,F)})),i&&(C=a(i,l,c)),C?(C.waypoints=u||[],this._layouter&&!g&&(C.waypoints=this._layouter.layoutConnection(C,{source:l,target:c,connectionStart:p,connectionEnd:h,waypoints:o.waypoints||C.waypoints})),(!C.waypoints||!C.waypoints.length)&&(C.waypoints=[l?Sn(l):p,c?Sn(c):h]),this._connectionDocking&&(l||c)&&!y&&(C.waypoints=this._connectionDocking.getCroppedWaypoints(C,l,c)),this._graphicsFactory.drawConnection(s,C,{stroke:"var(--element-dragger-color)"})):!E&&this.drawNoopPreview(s,o)},Xf.prototype.drawNoopPreview=function(t,i){var o=i.source,s=i.target,a=i.connectionStart||Sn(o),l=i.connectionEnd||Sn(s),c=this.cropWaypoints(a,l,o,s);bn(t,this.createNoopConnection(c[0],c[1]))},Xf.prototype.cropWaypoints=function(t,i,o,s){var a=this._graphicsFactory,l=o&&a.getShapePath(o),c=s&&a.getShapePath(s),u=a.getConnectionPath({waypoints:[t,i]});return[t=o&&wV(l,u,!0)||t,i=s&&wV(c,u,!1)||i]},Xf.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&Eo(t.connectionPreviewGfx)},Xf.prototype.getConnection=function(t){var i=function nUe(t){return Lo(t)?t:{}}(t);return this._elementFactory.createConnection(i)},Xf.prototype.createConnectionPreviewGfx=function(){var t=an("g");return Mt(t,{pointerEvents:"none"}),ur(t).add("djs-dragger"),bn(this._canvas.getActiveLayer(),t),t},Xf.prototype.createNoopConnection=function(t,i){return J9([t,i],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};const rUe={__init__:["connectionPreview"],connectionPreview:["type",Xf]};function Oj(t,i){return(function kle(t){return t.originalEvent||t.srcEvent}(t)||t).button===i}function $P(t){return Oj(t,0)}function oUe(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function sUe(t){return["M",t.x,t.y]}function kj(t){return["L",t.x,t.y]}function aUe(t,i,o){return["C",t.x,t.y,i.x,i.y,o.x,o.y]}function lUe(t,i){const o=t.length,s=[sUe(t[0])];for(let a=1;a<o;a++){const l=t[a-1],c=t[a],u=t[a+1];if(!u||!i){s.push(kj(c));continue}const p=Math.min(i,Aj(c.x-l.x,c.y-l.y),Aj(u.x-c.x,u.y-c.y));if(!p){s.push(kj(c));continue}const h=zP(c,l,p),g=zP(c,l,.5*p),y=zP(c,u,p),E=zP(c,u,.5*p);s.push(kj(h)),s.push(aUe(g,E,y))}return s}function zP(t,i,o){const s=i.x-t.x,a=i.y-t.y,c=o/Aj(s,a);return{x:t.x+s*c,y:t.y+a*c}}function Aj(t,i){return Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}function Ale(t,i){return Mt(t,{d:oUe(lUe(i,parseInt(t.dataset.cornerRadius,10)||0))}),t}function uUe(t){return!0}function HP(t){return $P(t)||function iUe(t){return Oj(t,1)}(t)}function Ile(t,i,o){var s=this;function a(te,ne,he){var Ce,fe;(function u(te,ne){return!(h[te]||$P)(ne)})(te,ne)||(he?fe=i.getGraphics(he):(Ce=ne.delegateTarget||ne.target)&&(he=i.get(fe=Ce)),fe&&he&&!1===t.fire(te,{element:he,gfx:fe,originalEvent:ne})&&(ne.stopPropagation(),ne.preventDefault()))}var l={};function c(te){return l[te]}var p={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":uUe,"element.mousedown":HP,"element.mouseup":HP,"element.click":HP,"element.dblclick":HP};function E(te,ne,he,Ce){var fe=l[he]=function(ye){a(he,ye)};Ce&&(h[he]=Ce),fe.$delegate=La.bind(te,"svg, .djs-element",ne,fe)}function C(te,ne,he){var Ce=c(he);Ce&&La.unbind(te,ne,Ce.$delegate)}t.on("canvas.destroy",function(te){!function O(te){_e(p,function(ne,he){C(te,he,ne)})}(te.svg)}),t.on("canvas.init",function(te){!function D(te){_e(p,function(ne,he){E(te,he,ne)})}(te.svg)}),t.on(["shape.added","connection.added"],function(te){t.fire("interactionEvents.createHit",{element:te.element,gfx:te.gfx})}),t.on(["shape.changed","connection.changed"],500,function(te){t.fire("interactionEvents.updateHit",{element:te.element,gfx:te.gfx})}),t.on("interactionEvents.createHit",500,function(te){s.createDefaultHit(te.element,te.gfx)}),t.on("interactionEvents.updateHit",function(te){s.updateDefaultHit(te.element,te.gfx)});var A=q("djs-hit djs-hit-stroke"),F=q("djs-hit djs-hit-click-stroke"),j={all:q("djs-hit djs-hit-all"),"click-stroke":F,stroke:A,"no-move":q("djs-hit djs-hit-no-move")};function q(te,ne){return ne=Re({stroke:"white",strokeWidth:15},ne||{}),o.cls(te,["no-fill","no-border"],ne)}function ee(te,ne){var he=j[ne];if(!he)throw new Error("invalid hit type <"+ne+">");return Mt(te,he),te}function ae(te,ne){bn(te,ne)}this.removeHits=function(te){_e(YD(".djs-hit",te),Eo)},this.createDefaultHit=function(te,ne){var he=te.waypoints,Ce=te.isFrame;return he?this.createWaypointsHit(ne,he):this.createBoxHit(ne,Ce?"stroke":"all",{width:te.width,height:te.height})},this.createWaypointsHit=function(te,ne){var he=function cUe(t,i,o){gn(i)&&(o=i,i=null),i||(i={});const s=an("path",i);return gn(o)&&(s.dataset.cornerRadius=String(o)),Ale(s,t)}(ne);return ee(he,"stroke"),ae(te,he),he},this.createBoxHit=function(te,ne,he){he=Re({x:0,y:0},he);var Ce=an("rect");return ee(Ce,ne),Mt(Ce,he),ae(te,Ce),Ce},this.updateDefaultHit=function(te,ne){var he=tr(".djs-hit",ne);if(he)return te.waypoints?Ale(he,te.waypoints):Mt(he,{width:te.width,height:te.height}),he},this.fire=a,this.triggerMouseEvent=function g(te,ne,he){var Ce=p[te];if(!Ce)throw new Error("unmapped DOM event name <"+te+">");return a(Ce,ne,he)},this.mouseHandler=c,this.registerEvent=E,this.unregisterEvent=C}Ile.$inject=["eventBus","elementRegistry","styles"];const dUe={__init__:["interactionEvents"],interactionEvents:["type",Ile]};var Nle=Math.min,Lle=Math.max;function Rj(t){t.preventDefault()}function j6(t){t.stopPropagation()}function P0(t){this.container=t.container,this.parent=fi('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=tr("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=vl(this.autoResize,this),this.handlePaste=vl(this.handlePaste,this)}function wu(t,i){this._eventBus=t,this._providers=[],this._textbox=new P0({container:i.getContainer(),keyHandler:vl(this._handleKey,this),resizeHandler:vl(this._handleResize,this)})}P0.prototype.create=function(t,i,o,s){var l=this.parent,c=this.content,u=this.container;s=this.options=s||{};var p=y0(i=this.style=i||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Re(l.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},p);var h=y0(i,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Re(c.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},h),s.centerVertically&&Re(c.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},h),c.innerText=o,hn.bind(c,"keydown",this.keyHandler),hn.bind(c,"mousedown",j6),hn.bind(c,"paste",this.handlePaste),s.autoResize&&hn.bind(c,"input",this.autoResize),s.resizable&&this.resizable(i),u.appendChild(l),this.setSelection(c.lastChild,c.lastChild&&c.lastChild.length),l},P0.prototype.handlePaste=function(t){var s,i=this.options,o=this.style;if(t.preventDefault(),s=t.clipboardData?t.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(s),i.autoResize){var a=this.autoResize(o);a&&this.resizeHandler(a)}},P0.prototype.insertText=function(t){t=function hUe(t){return t.replace(/\r\n|\r|\n/g,"\n")}(t),document.execCommand("insertText",!1,t)||this._insertTextIE(t)},P0.prototype._insertTextIE=function(t){var p,h,i=this.getSelection(),o=i.startContainer,s=i.endContainer,a=i.startOffset,l=i.endOffset,c=i.commonAncestorContainer,u=function fUe(t){return[].slice.call(t)}(c.childNodes);if(function pUe(t){return t.nodeType===Node.TEXT_NODE}(c)){var g=o.textContent;o.textContent=g.substring(0,a)+t+g.substring(l),p=o,h=a+t.length}else if(o===this.content&&s===this.content){var y=document.createTextNode(t);this.content.insertBefore(y,u[a]),p=y,h=y.textContent.length}else{var E=u.indexOf(o),C=u.indexOf(s);u.forEach(function(D,O){O===E?D.textContent=o.textContent.substring(0,a)+t+s.textContent.substring(l):O>E&&O<=C&&Bd(D)}),p=o,h=a+t.length}p&&void 0!==h&&setTimeout(function(){self.setSelection(p,h)})},P0.prototype.autoResize=function(){var t=this.parent,i=this.content,o=parseInt(this.style.fontSize)||12;if(i.scrollHeight>t.offsetHeight||i.scrollHeight<t.offsetHeight-o){var s=t.getBoundingClientRect(),a=i.scrollHeight;t.style.height=a+"px",this.resizeHandler({width:s.width,height:s.height,dx:0,dy:a-s.height})}},P0.prototype.resizable=function(){var t=this,i=this.parent,o=this.resizeHandle,s=parseInt(this.style.minWidth)||0,a=parseInt(this.style.minHeight)||0,l=parseInt(this.style.maxWidth)||1/0,c=parseInt(this.style.maxHeight)||1/0;if(!o){o=this.resizeHandle=fi('<div class="djs-direct-editing-resize-handle"></div>');var u,p,h,g,E=function(D){Rj(D),j6(D);var O=Nle(Lle(h+D.clientX-u,s),l),A=Nle(Lle(g+D.clientY-p,a),c);i.style.width=O+"px",i.style.height=A+"px",t.resizeHandler({width:h,height:g,dx:D.clientX-u,dy:D.clientY-p})},C=function(D){Rj(D),j6(D),hn.unbind(document,"mousemove",E,!1),hn.unbind(document,"mouseup",C,!1)};hn.bind(o,"mousedown",function(D){Rj(D),j6(D),u=D.clientX,p=D.clientY;var O=i.getBoundingClientRect();h=O.width,g=O.height,hn.bind(document,"mousemove",E),hn.bind(document,"mouseup",C)})}Re(o.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),i.appendChild(o)},P0.prototype.destroy=function(){var t=this.parent,i=this.content,o=this.resizeHandle;i.innerText="",t.removeAttribute("style"),i.removeAttribute("style"),hn.unbind(i,"keydown",this.keyHandler),hn.unbind(i,"mousedown",j6),hn.unbind(i,"input",this.autoResize),hn.unbind(i,"paste",this.handlePaste),o&&(o.removeAttribute("style"),Bd(o)),Bd(t)},P0.prototype.getValue=function(){return this.content.innerText.trim()},P0.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},P0.prototype.setSelection=function(t,i){var o=document.createRange();null===t?o.selectNodeContents(this.content):(o.setStart(t,i),o.setEnd(t,i));var s=window.getSelection();s.removeAllRanges(),s.addRange(o)},wu.$inject=["eventBus","canvas"],wu.prototype.registerProvider=function(t){this._providers.push(t)},wu.prototype.isActive=function(t){return!(!this._active||t&&this._active.element!==t)},wu.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},wu.prototype._fire=function(t,i){this._eventBus.fire("directEditing."+t,i||{active:this._active})},wu.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},wu.prototype.complete=function(){var t=this._active;if(t){var i,o=t.context.bounds,s=this.$textbox.getBoundingClientRect(),a=this.getValue();(a!==t.context.text||s.height!==o.height||s.width!==o.width)&&(i=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,a,t.context.text,{x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height})),this._fire("complete"),this.close()}},wu.prototype.getValue=function(){return this._textbox.getValue()},wu.prototype._handleKey=function(t){t.stopPropagation();var i=t.keyCode||t.charCode;return 27===i?(t.preventDefault(),this.cancel()):13!==i||t.shiftKey?void 0:(t.preventDefault(),this.complete())},wu.prototype._handleResize=function(t){this._fire("resize",t)},wu.prototype.activate=function(t){this.isActive()&&this.cancel();var i,o=Qn(this._providers,function(s){return(i=s.activate(t))?s:null});return i&&(this.$textbox=this._textbox.create(i.bounds,i.style,i.text,i.options),this._active={element:t,context:i,provider:o},i.options&&i.options.resizable&&(this.resizable=!0),this._fire("activate")),!!i};const Fle={__depends__:[dUe],__init__:["directEditing"],directEditing:["type",wu]};var mUe=["marker-start","marker-mid","marker-end"],gUe=["circle","ellipse","line","path","polygon","polyline","path","rect"];function r1(t,i,o,s){this._elementRegistry=t,this._canvas=o,this._styles=s,this._clonedMarkers={};var a=this;i.on("drag.cleanup",function(){a.cleanUp()})}r1.$inject=["elementRegistry","eventBus","canvas","styles"],r1.prototype.cleanUp=function(){_e(this._clonedMarkers,function(i){Eo(i)}),this._clonedMarkers={}},r1.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},r1.prototype.addDragger=function(t,i,o,s="djs-dragger"){var a=Moe(o=o||this.getGfx(t)),l=o.getBoundingClientRect();return this._cloneMarkers(iP(a),s),Mt(a,this._styles.cls(s,[],{x:l.top,y:l.left})),bn(i,a),Mt(a,"data-preview-support-element-id",t.id),a},r1.prototype.addFrame=function(t,i){var o=an("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return bn(i,o),Mt(o,"data-preview-support-element-id",t.id),o},r1.prototype._cloneMarkers=function(t,i="djs-dragger"){var o=this;if(t.childNodes)for(var s=0;s<t.childNodes.length;s++)o._cloneMarkers(t.childNodes[s],i);(function _Ue(t){return-1!==gUe.indexOf(t.nodeName)})(t)&&mUe.forEach(function(a){if(Mt(t,a)){var l=function vUe(t,i,o){var s=function yUe(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}(Mt(t,i));return tr("marker#"+s,o||document)}(t,a,o._canvas.getContainer());o._cloneMarker(t,l,a,i)}})},r1.prototype._cloneMarker=function(t,i,o,s="djs-dragger"){var a=i.id+"-"+s,l=this._clonedMarkers[a];if(!l){(l=Moe(i)).id=a+"-clone",ur(l).add(s),this._clonedMarkers[a]=l;var u=tr("defs",this._canvas._svg);u||(u=an("defs"),bn(this._canvas._svg,u)),bn(u,l)}var p=function bUe(t){return"url(#"+t+")"}(this._clonedMarkers[a].id);Mt(t,o,p)};const $6={__init__:["previewSupport"],previewSupport:["type",r1]};var EUe="drop-ok",Ble="drop-not-ok",Vle="attach-ok",jle="new-parent";function zle(t,i,o,s,a){function c(p,h){[Vle,EUe,Ble,jle].forEach(function(g){g===h?t.addMarker(p,g):t.removeMarker(p,g)})}function u(){var p=i.context();p&&"create"===p.prefix&&i.cancel()}o.on(["create.move","create.hover"],function(p){var h=p.context,g=h.elements,y=p.hover,E=h.source,C=h.hints||{};if(!y)return h.canExecute=!1,void(h.target=null);Hle(p);var O=h.canExecute=y&&function l(p,h,g,y,E){if(!h)return!1;var C=Qn(p=On(p,function(N){var B=N.labelTarget;return!(N.parent||Ir(N)&&-1!==p.indexOf(B))}),function(N){return!Mi(N)}),D=!1,O=!1,A=!1;Ule(p)&&(D=a.allowed("shape.attach",{position:g,shape:C,target:h})),D||(A=Ule(p)?a.allowed("shape.create",{position:g,shape:C,source:y,target:h}):a.allowed("elements.create",{elements:p,position:g,target:h}));var F=E.connectionTarget;return A||D?(C&&y&&(O=a.allowed("connection.create",{source:F===y?C:y,target:F===y?y:C,hints:{targetParent:h,targetAttach:D}})),{attach:D,connect:O}):(null===A||null===D)&&null}(g,y,{x:p.x,y:p.y},E,C);y&&null!==O&&(h.target=y,c(y,O&&O.attach?Vle:O?jle:Ble))}),o.on(["create.end","create.out","create.cleanup"],function(p){var h=p.hover;h&&c(h,null)}),o.on("create.end",function(p){var h=p.context,g=h.source,y=h.shape,E=h.elements,C=h.target,D=h.canExecute,O=D&&D.attach,A=D&&D.connect,F=h.hints||{};if(!1===D||!C)return!1;Hle(p);var N={x:p.x,y:p.y};y=A?s.appendShape(g,y,N,C,{attach:O,connection:!0===A?{}:A,connectionTarget:F.connectionTarget}):Qn(E=s.createElements(E,N,C,Re({},F,{attach:O})),function(B){return!Mi(B)}),Re(h,{elements:E,shape:y}),Re(p,{elements:E,shape:y})}),o.on("create.init",function(){o.on("elements.changed",u),o.once(["create.cancel","create.end"],2e3,function(){o.off("elements.changed",u)})}),this.start=function(p,h,g){Rn(h)||(h=[h]);var y=Qn(h,function(D){return!Mi(D)});if(y){g=Re({elements:h,hints:{},shape:y},g||{}),_e(h,function(D){gn(D.x)||(D.x=0),gn(D.y)||(D.y=0)});var C=jo(On(h,function(D){return!D.hidden}));_e(h,function(D){Mi(D)&&(D.waypoints=Fo(D.waypoints,function(O){return{x:O.x-C.x-C.width/2,y:O.y-C.y-C.height/2}})),Re(D,{x:D.x-C.x-C.width/2,y:D.y-C.y-C.height/2})}),i.init(p,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:y,elements:h,context:g}})}}}function Hle(t){var o=t.context.createConstraints;o&&(o.left&&(t.x=Math.max(t.x,o.left)),o.right&&(t.x=Math.min(t.x,o.right)),o.top&&(t.y=Math.max(t.y,o.top)),o.bottom&&(t.y=Math.min(t.y,o.bottom)))}function Ule(t){return t&&1===t.length&&!Mi(t[0])}function Gle(t,i,o,s,a){i.on("create.move",750,function(c){var u=c.hover,p=c.context,g=p.dragGroup;g||(g=p.dragGroup=function l(c){var u=an("g");Mt(u,a.cls("djs-drag-group",["no-events"]));var p=an("g");return c.forEach(function(h){var g;h.hidden||(h.waypoints?(g=o._createContainer("connection",p),o.drawConnection(iP(g),h)):(g=o._createContainer("shape",p),o.drawShape(iP(g),h),ec(g,h.x,h.y)),s.addDragger(h,u,g))}),u}(p.elements)),u?(g.parentNode||bn(t.getActiveLayer(),g),ec(g,c.x,c.y)):Eo(g)}),i.on("create.cleanup",function(c){var p=c.context.dragGroup;p&&Eo(p)})}zle.$inject=["canvas","dragging","eventBus","modeling","rules"],Gle.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const UP={__depends__:[Wf,$6,op,rp],__init__:["create","createPreview"],create:["type",zle],createPreview:["type",Gle]};function z6(){}z6.prototype.get=function(){return this._data},z6.prototype.set=function(t){this._data=t},z6.prototype.clear=function(){var t=this._data;return delete this._data,t},z6.prototype.isEmpty=function(){return!this._data};const CUe={clipboard:["type",z6]};function Ij(t){var i=this;function o(s){i._lastMoveEvent=s}this._lastMoveEvent=null,t.on("canvas.init",function(s){(i._svg=s.svg).addEventListener("mousemove",o)}),t.on("canvas.destroy",function(){i._lastMouseEvent=null,i._svg.removeEventListener("mousemove",o)})}Ij.$inject=["eventBus"],Ij.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function SUe(t,i){var o=document.createEvent("MouseEvent");return o.initMouseEvent&&o.initMouseEvent("mousemove",!0,!0,window,0,t,i,t,i,!1,!1,!1,!1,0,null),o}(0,0)};const H6={__init__:["mouse"],mouse:["type",Ij]};function M0(t,i,o,s,a,l,c,u){this._canvas=t,this._create=i,this._clipboard=o,this._elementFactory=s,this._eventBus=a,this._modeling=l,this._mouse=c,this._rules=u,a.on("copyPaste.copyElement",function(p){var h=p.descriptor,g=p.element,y=p.elements;h.priority=1,h.id=g.id,Qn(y,function(C){return C===g.parent})&&(h.parent=g.parent.id),function DUe(t){return!!t.host}(g)&&(h.priority=2,h.host=g.host.id),Mi(g)&&(h.priority=3,h.source=g.source.id,h.target=g.target.id,h.waypoints=function TUe(t){return Fo(t.waypoints,function(i){return(i=qle(i)).original&&(i.original=qle(i.original)),i})}(g)),Ir(g)&&(h.priority=4,h.labelTarget=g.labelTarget.id),_e(["x","y","width","height"],function(C){gn(g[C])&&(h[C]=g[C])}),h.hidden=g.hidden,h.collapsed=g.collapsed}),a.on("copyPaste.pasteElements",function(p){Re(p.hints,{createElementsBehavior:!1})})}function qle(t){return Re({},t)}function Wle(t,i){var o=i.indexOf(t);return-1===o?i:i.splice(o,1)}M0.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],M0.prototype.copy=function(t){var i,o;return Rn(t)||(t=t?[t]:[]),o=!1===(i=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}))?{}:this.createTree(Rn(i)?i:t),this._clipboard.set(o),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:o}),o},M0.prototype.paste=function(t){var i=this._clipboard.get();if(!this._clipboard.isEmpty()){var o=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:o});var s=this._createElements(i);if(t&&t.element&&t.point)return this._paste(s,t.element,t.point,o);this._create.start(this._mouse.getLastMoveEvent(),s,{hints:o||{}})}},M0.prototype._paste=function(t,i,o,s){_e(t,function(l){gn(l.x)||(l.x=0),gn(l.y)||(l.y=0)});var a=jo(t);return _e(t,function(l){Mi(l)&&(l.waypoints=Fo(l.waypoints,function(c){return{x:c.x-a.x-a.width/2,y:c.y-a.y-a.height/2}})),Re(l,{x:l.x-a.x-a.width/2,y:l.y-a.y-a.height/2})}),this._modeling.createElements(t,o,i,Re({},s))},M0.prototype._createElements=function(t){var i=this,o=this._eventBus,s={},a=[];return _e(t,function(l,c){c=parseInt(c,10),_e(l=fs(l,"priority"),function(u){var h,p=Re({},Fd(u,["priority"]));return s[u.parent]?p.parent=s[u.parent]:delete p.parent,o.fire("copyPaste.pasteElement",{cache:s,descriptor:p}),Mi(p)?(p.source=s[u.source],p.target=s[u.target],h=s[u.id]=i.createConnection(p),void a.push(h)):Ir(p)?(p.labelTarget=s[p.labelTarget],h=s[u.id]=i.createLabel(p),void a.push(h)):(p.host&&(p.host=s[p.host]),h=s[u.id]=i.createShape(p),void a.push(h))})}),a},M0.prototype.createConnection=function(t){return this._elementFactory.createConnection(Fd(t,["id"]))},M0.prototype.createLabel=function(t){return this._elementFactory.createLabel(Fd(t,["id"]))},M0.prototype.createShape=function(t){return this._elementFactory.createShape(Fd(t,["id"]))},M0.prototype.hasRelations=function(t,i){var o,s,a;return!(Mi(t)&&(s=Qn(i,v0({id:t.source.id})),a=Qn(i,v0({id:t.target.id})),!s||!a)||Ir(t)&&(o=Qn(i,v0({id:t.labelTarget.id})),!o))},M0.prototype.createTree=function(t){var i=this._rules,o=this,s={},a=[];function u(h,g){var y=Qn(a,function(E){return h===E.element});y?y.depth<g&&(a=function p(h,g){var y=g.indexOf(h);return-1!==y&&g.splice(y,1),g}(y,a),a.push({element:y.element,depth:g})):a.push({element:h,depth:g})}return gy(eP(t),function(h,g,y){if(!Ir(h)){_e(h.labels,function(D){u(D,y)}),_e([h.attachers,h.incoming,h.outgoing],function E(D){D&&D.length&&_e(D,function(O){_e(O.labels,function(A){u(A,y)}),u(O,y)})}),u(h,y);var C=[];return h.children&&(C=h.children.slice()),o._eventBus.fire("copyPaste.createTree",{element:h,children:C}),C}}),t=Fo(a,function(h){return h.element}),a=fs(a=Fo(a,function(h){return h.descriptor={},o._eventBus.fire("copyPaste.copyElement",{descriptor:h.descriptor,element:h.element,elements:t}),h}),function(h){return h.descriptor.priority}),t=Fo(a,function(h){return h.element}),_e(a,function(h){var g=h.depth;o.hasRelations(h.element,t)&&function c(h,g){return i.allowed("element.copy",{element:h,elements:g})}(h.element,t)?(s[g]||(s[g]=[]),s[g].push(h.descriptor)):Wle(h.element,t)}),s};const PUe={__depends__:[CUe,UP,H6,op],__init__:["copyPaste"],copyPaste:["type",M0]};function Nj(t,i,o){Rn(o)||(o=[o]),_e(o,function(s){Kl(t[s])||(i[s]=t[s])})}function Xle(t,i,o){function s(p,h){var g=t.create(p.$type);return o.copyElement(p,g,null,h)}i.on("copyPaste.copyElement",750,function(p){var h=p.descriptor,g=p.element,y=le(g);if(Ir(g))return h;var E=h.businessObject=s(y,!0),C=h.di=s(Mr(g),!0);C.bpmnElement=E,Nj(E,h,"name"),Nj(C,h,"isExpanded"),y.default&&(h.default=y.default.id)});var a="-bpmn-js-refs";i.on("copyPaste.pasteElement",function(p){var h=p.cache,g=p.descriptor,y=g.businessObject,E=g.di;if(Ir(g))return g.businessObject=le(h[g.labelTarget]),void(g.di=Mr(h[g.labelTarget]));y=g.businessObject=s(y),(E=g.di=s(E)).bpmnElement=y,Nj(g,y,["isExpanded","name"]),g.type=y.$type}),i.on("copyPaste.copyElement",750,function(p){var h=p.descriptor,g=p.element;if(V(g,"bpmn:Participant")){var y=le(g);y.processRef&&(h.processRef=s(y.processRef,!0))}}),i.on("copyPaste.pasteElement",function(p){var h=p.descriptor,g=h.processRef;g&&(h.processRef=s(g))}),i.on("copyPaste.pasteElement",750,function(p){var h=p.cache;!function c(p,h){p[a]=h}(h,function u(p,h,g){var y=le(p);return p.default&&(g[p.default]={element:y,property:"default"}),p.host&&(le(p).attachedToRef=le(h[p.host])),Fd(g,gl(g,function(E,C,D){return D===p.id&&(C.element.set(C.property,y),E.push(p.id)),E},[]))}(p.descriptor,h,function l(p){return p[a]=p[a]||{}}(h)))})}Xle.$inject=["bpmnFactory","eventBus","moddleCopy"];var MUe=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function U6(t,i,o){this._bpmnFactory=i,this._eventBus=t,this._moddle=o,t.on("moddleCopy.canCopyProperties",function(s){var a=s.propertyNames;if(a&&a.length)return fs(a,function(l){return"extensionElements"===l})}),t.on("moddleCopy.canCopyProperty",function(s){var a=s.parent,l=Lo(a)&&a.$descriptor,c=s.propertyName;if(c&&-1!==MUe.indexOf(c)||c&&l&&!Qn(l.properties,v0({name:c})))return!1}),t.on("moddleCopy.canSetCopiedProperty",function(s){var a=s.property;if(function OUe(t,i){return t&&Vr(t.$instanceOf)&&t.$instanceOf(i)}(a,"bpmn:ExtensionElements")&&(!a.values||!a.values.length))return!1})}function Fj(t,i){return gl(t.properties,function(o,s){return i&&s.default?o:o.concat(s.name)},[])}U6.$inject=["eventBus","bpmnFactory","moddle"],U6.prototype.copyElement=function(t,i,o,s=!1){var a=this;o&&!Rn(o)&&(o=[o]),o=o||Fj(t.$descriptor);var l=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:o,sourceElement:t,targetElement:i,clone:s});return!1===l||(Rn(l)&&(o=l),_e(o,function(c){var u;Ql(t,c)&&(u=t.get(c));var p=a.copyProperty(u,i,c,s);Bi(p)&&!1!==a._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:i,property:p,propertyName:c})&&i.set(c,p)})),i},U6.prototype.copyProperty=function(t,i,o,s=!1){var a=this,l=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:i,property:t,propertyName:o,clone:s});if(!1!==l){if(l)return Lo(l)&&l.$type&&!l.$parent&&(l.$parent=i),l;var c=this._moddle.getPropertyDescriptor(i,o);if(!c.isReference)return c.isId?t&&this._copyId(t,i,s):Rn(t)?gl(t,function(u,p){return(l=a.copyProperty(p,i,o,s))?u.concat(l):u},[]):Lo(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:((l=a._bpmnFactory.create(t.$type)).$parent=i,l=a.copyElement(t,l,null,s)):t}},U6.prototype._copyId=function(t,i,o=!1){return o?t:this._moddle.ids.assigned(t)?void 0:(this._moddle.ids.claim(t,i),t)};const Yle={__depends__:[PUe],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",Xle],moddleCopy:["type",U6]};var Kle=Math.round;function Bj(t,i){this._modeling=t,this._eventBus=i}function Qle(t,i){i.on("replace.end",500,function(o){const{newElement:s,hints:a={}}=o;!1!==a.select&&t.select(s)})}Bj.$inject=["modeling","eventBus"],Bj.prototype.replaceElement=function(t,i,o){if(t.waypoints)return null;var s=this._modeling,a=this._eventBus;a.fire("replace.start",{element:t,attrs:i,hints:o});var l=i.width||t.width,c=i.height||t.height,p=i.y||t.y,h=Kle((i.x||t.x)+l/2),g=Kle(p+c/2),y=s.replaceShape(t,Re({},i,{x:h,y:g,width:l,height:c}),o);return a.fire("replace.end",{element:t,newElement:y,hints:o}),y},Qle.$inject=["selection","eventBus"];const kUe={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",Qle],replace:["type",Bj]};var RUe=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function Zle(t,i,o,s,a,l){this.replaceElement=function c(u,p,h){h=h||{};var g=p.type,y=u.businessObject;if(GP(y)&&"bpmn:SubProcess"===g&&function IUe(t,i){var o=t&&Ql(t,"collapsed")?t.collapsed:!mr(t);return o!==(i&&(Ql(i,"collapsed")||Ql(i,"isExpanded"))?Ql(i,"collapsed")?i.collapsed:!i.isExpanded:o)}(u,p))return s.toggleCollapse(u),u;var E=t.create(g),C={type:g,businessObject:E,di:{}};!function AUe(t,i,o){Rn(o)||(o=[o]),_e(o,function(s){Kl(t[s])||(i[s]=t[s])})}(u.di,C.di,["fill","stroke","background-color","border-color","color"]);var A=function NUe(t,i){return t.filter(function(o){return i.includes(o)})}(Fj(y.$descriptor),Fj(E.$descriptor,!0));Re(E,y0(p,RUe));var F=On(A,function(B){return"eventDefinitions"===B?Jle(u,p.eventDefinitionType):"loopCharacteristics"===B?!Cl(E):!(Ql(E,B)||"processRef"===B&&!1===p.isExpanded||"triggeredByEvent"===B)});if(E=o.copyElement(y,E,F),p.eventDefinitionType&&(Jle(E,p.eventDefinitionType)||(C.eventDefinitionType=p.eventDefinitionType,C.eventDefinitionAttrs=p.eventDefinitionAttrs)),V(y,"bpmn:Activity")){if(GP(y))C.isExpanded=mr(u);else if(p&&Ql(p,"isExpanded")){C.isExpanded=p.isExpanded;var N=i.getDefaultSize(E,{isExpanded:C.isExpanded});C.width=N.width,C.height=N.height,C.x=u.x-(C.width-u.width)/2,C.y=u.y-(C.height-u.height)/2}mr(u)&&!V(y,"bpmn:Task")&&C.isExpanded&&(C.width=u.width,C.height=u.height)}return GP(y)&&!GP(E)&&(h.moveChildren=!1),V(y,"bpmn:Participant")&&(!0===p.isExpanded?E.processRef=t.create("bpmn:Process"):h.moveChildren=!1,C.width=u.width,C.height=i.getDefaultSize(C).height),l.allowed("shape.resize",{shape:E})||(C.height=i.getDefaultSize(C).height,C.width=i.getDefaultSize(C).width),E.name=y.name,sn(y,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&sn(E,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(E.default=y.default),p.host&&!V(y,"bpmn:BoundaryEvent")&&V(E,"bpmn:BoundaryEvent")&&(C.host=p.host),("bpmn:DataStoreReference"===C.type||"bpmn:DataObjectReference"===C.type)&&(C.x=u.x+(u.width-C.width)/2),a.replaceElement(u,C,h)}}function GP(t){return V(t,"bpmn:SubProcess")}function Jle(t,i){var o=le(t);return i&&o.get("eventDefinitions").some(function(s){return V(s,i)})}Zle.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];const ece={__depends__:[Yle,kUe,rp],bpmnReplace:["type",Zle]};function tce(t){return function(i){var o=i.target,s=le(t),a=s.eventDefinitions&&s.eventDefinitions[0],l=s.$type===o.type,c=(a&&a.$type)===o.eventDefinitionType,u=!!o.triggeredByEvent==!!s.triggeredByEvent,p=void 0===o.isExpanded||o.isExpanded===mr(t);return!(l&&c&&u&&p)}}var LUe=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],FUe=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],BUe=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],VUe=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],jUe=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],$Ue=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],nce=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],zUe=nce,rce=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],HUe=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],UUe=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],GUe=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],qUe=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],WUe=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],XUe=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(t){var i="Empty Pool";return t.children&&t.children.length&&(i+=" (removes content)"),i},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function Cu(t,i,o,s,a,l,c,u){this._bpmnFactory=t,this._popupMenu=i,this._modeling=o,this._moddle=s,this._bpmnReplace=a,this._rules=l,this._translate=c,this._moddleCopy=u,this._register()}Cu.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],Cu.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Cu.prototype.getPopupMenuEntries=function(t){var i=t.businessObject,o=this._rules,s=[];if(Rn(t)||!o.allowed("shape.replace",{element:t}))return{};var a=tce(t);return V(i,"bpmn:DataObjectReference")?this._createEntries(t,HUe):V(i,"bpmn:DataStoreReference")&&!V(t.parent,"bpmn:Collaboration")?this._createEntries(t,UUe):V(i,"bpmn:StartEvent")&&!V(i.$parent,"bpmn:SubProcess")?(s=On(LUe,a),this._createEntries(t,s)):V(i,"bpmn:Participant")?(s=On(XUe,function(l){return mr(t)!==l.target.isExpanded}),this._createEntries(t,s)):V(i,"bpmn:StartEvent")&&Cl(i.$parent)?(s=On(qUe,function(l){var p=i.isInterrupting===(!1!==l.target.isInterrupting);return a(l)||!a(l)&&!p}),this._createEntries(t,s)):V(i,"bpmn:StartEvent")&&!Cl(i.$parent)&&V(i.$parent,"bpmn:SubProcess")?(s=On(FUe,a),this._createEntries(t,s)):V(i,"bpmn:EndEvent")?(s=On(VUe,function(l){return!("bpmn:CancelEventDefinition"==l.target.eventDefinitionType&&!V(i.$parent,"bpmn:Transaction"))&&a(l)}),this._createEntries(t,s)):V(i,"bpmn:BoundaryEvent")?(s=On(GUe,function(l){var c=l.target;if("bpmn:CancelEventDefinition"==c.eventDefinitionType&&!V(i.attachedToRef,"bpmn:Transaction"))return!1;var p=i.cancelActivity==(!1!==c.cancelActivity);return a(l)||!a(l)&&!p}),this._createEntries(t,s)):V(i,"bpmn:IntermediateCatchEvent")||V(i,"bpmn:IntermediateThrowEvent")?(s=On(BUe,a),this._createEntries(t,s)):V(i,"bpmn:Gateway")?(s=On(jUe,a),this._createEntries(t,s)):V(i,"bpmn:Transaction")?(s=On(nce,a),this._createEntries(t,s)):Cl(i)&&mr(t)?(s=On(zUe,a),this._createEntries(t,s)):V(i,"bpmn:SubProcess")&&mr(t)?(s=On($Ue,a),this._createEntries(t,s)):V(i,"bpmn:AdHocSubProcess")&&!mr(t)?(s=On(rce,function(l){var c=l.target,u="bpmn:SubProcess"===c.type,p=!0===c.isExpanded;return tce(c)&&(!u||p)}),this._createEntries(t,s)):V(i,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(t,WUe):V(i,"bpmn:FlowNode")?(s=On(rce,a),V(i,"bpmn:SubProcess")&&!mr(t)&&(s=On(s,function(l){return"Sub Process (collapsed)"!==l.label})),this._createEntries(t,s)):{}},Cu.prototype.getPopupMenuHeaderEntries=function(t){var i={};return V(t,"bpmn:Activity")&&!Cl(t)&&(i={...i,...this._getLoopCharacteristicsHeaderEntries(t)}),V(t,"bpmn:DataObjectReference")&&(i={...i,...this._getCollectionHeaderEntries(t)}),V(t,"bpmn:Participant")&&(i={...i,...this._getParticipantMultiplicityHeaderEntries(t)}),V(t,"bpmn:SubProcess")&&!V(t,"bpmn:Transaction")&&!Cl(t)&&(i={...i,...this._getAdHocHeaderEntries(t)}),i},Cu.prototype._createEntries=function(t,i){var o={},s=this;return _e(i,function(a){o[a.actionName]=s._createEntry(a,t)}),o},Cu.prototype._createSequenceFlowEntries=function(t,i){var o=le(t),s={},a=this._modeling,l=this._moddle,c=this;return _e(i,function(u){switch(u.actionName){case"replace-with-default-flow":o.sourceRef.default!==o&&(V(o.sourceRef,"bpmn:ExclusiveGateway")||V(o.sourceRef,"bpmn:InclusiveGateway")||V(o.sourceRef,"bpmn:ComplexGateway")||V(o.sourceRef,"bpmn:Activity"))&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){a.updateProperties(t.source,{default:o})})});break;case"replace-with-conditional-flow":!o.conditionExpression&&V(o.sourceRef,"bpmn:Activity")&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){var p=l.create("bpmn:FormalExpression",{body:""});a.updateProperties(t,{conditionExpression:p})})});break;default:V(o.sourceRef,"bpmn:Activity")&&o.conditionExpression&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){a.updateProperties(t,{conditionExpression:void 0})})}),(V(o.sourceRef,"bpmn:ExclusiveGateway")||V(o.sourceRef,"bpmn:InclusiveGateway")||V(o.sourceRef,"bpmn:ComplexGateway")||V(o.sourceRef,"bpmn:Activity"))&&o.sourceRef.default===o&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){a.updateProperties(t.source,{default:void 0})})})}}),s},Cu.prototype._createEntry=function(t,i,o){var s=this._translate,a=this._bpmnReplace.replaceElement,c=t.label;return c&&"function"==typeof c&&(c=c(i)),o=o||function(){return a(i,t.target)},{label:s(c),className:t.className,action:o}},Cu.prototype._getLoopCharacteristicsHeaderEntries=function(t){var i=this,o=this._translate;function s(h,g){if(g.active)return void i._modeling.updateProperties(t,{loopCharacteristics:void 0});const y=t.businessObject.get("loopCharacteristics"),E=i._moddle.create(g.options.loopCharacteristics);y&&i._moddleCopy.copyElement(y,E),E.set("isSequential",g.options.isSequential),i._modeling.updateProperties(t,{loopCharacteristics:E})}var c,u,p,l=le(t).loopCharacteristics;return l&&(c=l.isSequential,u=void 0===l.isSequential,p=void 0!==l.isSequential&&!l.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:o("Parallel Multi Instance"),active:p,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:o("Sequential Multi Instance"),active:c,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:o("Loop"),active:u,action:s,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},Cu.prototype._getCollectionHeaderEntries=function(t){var i=this,s=t.businessObject.dataObjectRef;if(!s)return{};var l=s.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:l,action:function a(c,u){i._modeling.updateModdleProperties(t,s,{isCollection:!u.active})}}}},Cu.prototype._getParticipantMultiplicityHeaderEntries=function(t){var i=this,o=this._bpmnFactory,l=t.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant Multiplicity"),active:!!l,action:function a(c,u){var h;u.active||(h=o.create("bpmn:ParticipantMultiplicity")),i._modeling.updateProperties(t,{participantMultiplicity:h})}}}},Cu.prototype._getAdHocHeaderEntries=function(t){var i=this._translate,s=V(le(t),"bpmn:AdHocSubProcess"),a=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:i("Ad-hoc"),active:s,action:function(l,c){return a(t,s?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}};const YUe={__depends__:[mj,ece,Xae],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Cu]};function qP(t,i){for(la(i)&&(i=[i]);t=t.parent;)if(sn(t,i))return t;return null}var WP=Math.max,XP=Math.min,KUe=20;function ice(t,i){return{top:t.top-i.top,right:t.right-i.right,bottom:t.bottom-i.bottom,left:t.left-i.left}}function ZUe(t,i){return{x:t.x+(i.left||0),y:t.y+(i.top||0),width:t.width-(i.left||0)+(i.right||0),height:t.height-(i.top||0)+(i.bottom||0)}}function YP(t,i,o){var s=i[t],a=o.min&&o.min[t],l=o.max&&o.max[t];return gn(a)&&(s=(/top|left/.test(t)?XP:WP)(s,a)),gn(l)&&(s=(/top|left/.test(t)?WP:XP)(s,l)),s}function G6(t,i){return typeof t<"u"?t:KUe}function nGe(t){return!(t.waypoints||"label"===t.type)}function oce(t,i){var o;if((o=void 0===t.length?On(t.children,nGe):t).length)return function tGe(t,i){var o,s,a,l;return"object"==typeof i?(o=G6(i.left),s=G6(i.right),a=G6(i.top),l=G6(i.bottom)):o=s=a=l=G6(i),{x:t.x-o,y:t.y-a,width:t.width+o+s,height:t.height+a+l}}(jo(o),i)}var KP=Math.abs,iGe=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function QP(t,i){return i=i||[],t.children.filter(function(o){V(o,"bpmn:Lane")&&(QP(o,i),i.push(o))}),i}function ky(t){return t.children.filter(function(i){return V(i,"bpmn:Lane")})}function Su(t){return qP(t,iGe)||t}function q6(t,i,o,s,a,l,c,u,p,h,g,y){t=t||{},s.registerProvider(this),this._contextPad=s,this._modeling=a,this._elementFactory=l,this._connect=c,this._create=u,this._popupMenu=p,this._canvas=h,this._rules=g,this._translate=y,!1!==t.autoPlace&&(this._autoPlace=i.get("autoPlace",!1)),o.on("create.end",250,function(E){var D=E.context.shape;if(V5(E)&&s.isOpen(D)){var O=s.getEntries(D);O.replace&&O.replace.action.click(E,D)}})}function sce(t,i,o){var s=t.$instanceOf(i),a=!1;return _e(t.eventDefinitions||[],function(c){c.$type===o&&(a=!0)}),s&&a}q6.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],q6.prototype.getMultiElementContextPadEntries=function(t){var i=this._modeling,o={};return this._isDeleteAllowed(t)&&Re(o,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(s,a){i.removeElements(a.slice())}}}}),o},q6.prototype._isDeleteAllowed=function(t){var i=this._rules.allowed("elements.delete",{elements:t});return Rn(i)?$3(i,function(o){return function sGe(t,i){return-1!==t.indexOf(i)}(i,o)}):i},q6.prototype.getContextPadEntries=function(t){var i=this._contextPad,o=this._modeling,s=this._elementFactory,a=this._connect,l=this._create,c=this._popupMenu,u=this._rules,p=this._autoPlace,h=this._translate,g={};if("label"===t.type)return g;var y=t.businessObject;function E(B,j){a.start(B,j)}function O(B,j,q,ee){function ae(ne,he){var Ce=s.createShape(Re({type:B},ee));l.start(ne,Ce,{source:he})}return"string"!=typeof q&&(ee=q,q=h("Append {type}",{type:B.replace(/^bpmn:/,"")})),{group:"model",className:j,title:q,action:{dragstart:ae,click:p?function(ne,he){var Ce=s.createShape(Re({type:B},ee));p.append(he,Ce)}:ae}}}function A(B){return function(j,q){o.splitLane(q,B),i.open(q,!0)}}if(sn(y,["bpmn:Lane","bpmn:Participant"])&&mr(t)){var F=ky(t);Re(g,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:h("Add Lane above"),action:{click:function(B,j){o.addLane(j,"top")}}}}),F.length<2&&(t.height>=120&&Re(g,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:h("Divide into two Lanes"),action:{click:A(2)}}}),t.height>=180&&Re(g,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:h("Divide into three Lanes"),action:{click:A(3)}}})),Re(g,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:h("Add Lane below"),action:{click:function(B,j){o.addLane(j,"bottom")}}}})}V(y,"bpmn:FlowNode")&&(V(y,"bpmn:EventBasedGateway")?Re(g,{"append.receive-task":O("bpmn:ReceiveTask","bpmn-icon-receive-task",h("Append ReceiveTask")),"append.message-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",h("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",h("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",h("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":O("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",h("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):sce(y,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Re(g,{"append.compensation-activity":O("bpmn:Task","bpmn-icon-task",h("Append compensation activity"),{isForCompensation:!0})}):!V(y,"bpmn:EndEvent")&&!y.isForCompensation&&!sce(y,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!Cl(y)&&Re(g,{"append.end-event":O("bpmn:EndEvent","bpmn-icon-end-event-none",h("Append EndEvent")),"append.gateway":O("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",h("Append Gateway")),"append.append-task":O("bpmn:Task","bpmn-icon-task",h("Append Task")),"append.intermediate-event":O("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",h("Append Intermediate/Boundary Event"))})),c.isEmpty(t,"bpmn-replace")||Re(g,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:h("Change type"),action:{click:function(B,j){var q=Re(function D(B){var ee=i.getPad(B).html.getBoundingClientRect();return{x:ee.left,y:ee.bottom+5}}(j),{cursor:{x:B.x,y:B.y}});c.open(j,"bpmn-replace",q,{title:h("Change element"),width:300,search:!0})}}}}),V(y,"bpmn:SequenceFlow")&&Re(g,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",h("Append TextAnnotation"))}),sn(y,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Re(g,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",h("Append TextAnnotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using "+(y.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:E,dragstart:E}}}),V(y,"bpmn:TextAnnotation")&&Re(g,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using Association"),action:{click:E,dragstart:E}}}),sn(y,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Re(g,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using DataInputAssociation"),action:{click:E,dragstart:E}}}),V(y,"bpmn:Group")&&Re(g,{"append.text-annotation":O("bpmn:TextAnnotation","bpmn-icon-text-annotation",h("Append TextAnnotation"))});var N=u.allowed("elements.delete",{elements:[t]});return Rn(N)&&(N=N[0]===t),N&&Re(g,{delete:{group:"edit",className:"bpmn-icon-trash",title:h("Remove"),action:{click:function C(B,j){o.removeElements([j])}}}}),g};const aGe={__depends__:[Fle,hae,rp,Mj,UP,YUe],__init__:["contextPadProvider"],contextPadProvider:["type",q6]};var lGe={horizontal:["x","width"],vertical:["y","height"]};function Yf(t,i){this._modeling=t,this._filters=[],this.registerFilter(function(o){var s=i.allowed("elements.distribute",{elements:o});return Rn(s)?s:s?o:[]})}Yf.$inject=["modeling","rules"],Yf.prototype.registerFilter=function(t){if("function"!=typeof t)throw new Error("the filter has to be a function");this._filters.push(t)},Yf.prototype.trigger=function(t,i){var s,a,o=this._modeling;if(!(t.length<3||(this._setOrientation(i),a=this._filterElements(t),s=this._createGroups(a),s.length<=2)))return o.distributeElements(s,this._axis,this._dimension),s},Yf.prototype._filterElements=function(t){var i=this._filters,o=this._axis,s=this._dimension,a=[].concat(t);return i.length?(_e(i,function(l){a=l(a,o,s)}),a):t},Yf.prototype._createGroups=function(t){var i=[],o=this,s=this._axis,a=this._dimension;if(!s)throw new Error('must have a defined "axis" and "dimension"');return _e(fs(t,s),function(c,u){var p=o._findRange(c,s,a),g=i[i.length-1];g&&o._hasIntersection(g.range,p)?i[i.length-1].elements.push(c):i.push({range:p,elements:[c]})}),i},Yf.prototype._setOrientation=function(t){var i=lGe[t];this._axis=i[0],this._dimension=i[1]},Yf.prototype._hasIntersection=function(t,i){return Math.max(t.min,t.max)>=Math.min(i.min,i.max)&&Math.min(t.min,t.max)<=Math.max(i.min,i.max)},Yf.prototype._findRange=function(t){var i=t[this._axis];return{min:i+5,max:i+t[this._dimension]-5}};const cGe={__init__:["distributeElements"],distributeElements:["type",Yf]};function ZP(t){Eu.call(this,t)}ZP.$inject=["eventBus"],jt(ZP,Eu),ZP.prototype.init=function(){this.addRule("elements.distribute",function(t){var i=t.elements;return!((i=eP(i=On(i,function(o){var s=sn(o,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(o.labelTarget||s)}))).length<3)&&i})};const lce_horizontal='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',lce_vertical='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>';function W6(t,i,o,s){this._distributeElements=i,this._translate=o,this._popupMenu=t,this._rules=s,t.registerProvider("align-elements",900,this)}W6.$inject=["popupMenu","distributeElements","translate","rules"],W6.prototype.getPopupMenuEntries=function(t){var i={};return this._isAllowed(t)&&Re(i,this._getEntries(t)),i},W6.prototype._isAllowed=function(t){return this._rules.allowed("elements.distribute",{elements:t})},W6.prototype._getEntries=function(t){var i=this._distributeElements,o=this._translate,s=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:o("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:lce_horizontal,action:function(l,c){i.trigger(t,"horizontal"),s.close()}},"distribute-elements-vertical":{group:"distribute",title:o("Distribute elements vertically"),imageHtml:lce_vertical,action:function(l,c){i.trigger(t,"vertical"),s.close()}}}};const pGe={__depends__:[mj,cGe],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",ZP],distributeElementsMenuProvider:["type",W6]};var cce="is not a registered action";function Du(t,i){this._actions={};var o=this;t.on("diagram.init",function(){o._registerDefaultActions(i),t.fire("editorActions.init",{editorActions:o})})}function Vj(t,i){return new Error(t+" "+i)}Du.$inject=["eventBus","injector"],Du.prototype._registerDefaultActions=function(t){var i=t.get("commandStack",!1),o=t.get("modeling",!1),s=t.get("selection",!1),a=t.get("zoomScroll",!1),l=t.get("copyPaste",!1),c=t.get("canvas",!1),u=t.get("rules",!1),p=t.get("keyboardMove",!1),h=t.get("keyboardMoveSelection",!1);i&&(this.register("undo",function(){i.undo()}),this.register("redo",function(){i.redo()})),l&&s&&this.register("copy",function(){var g=s.get();if(g.length)return l.copy(g)}),l&&this.register("paste",function(){l.paste()}),a&&this.register("stepZoom",function(g){a.stepZoom(g.value)}),c&&this.register("zoom",function(g){c.zoom(g.value)}),o&&s&&u&&this.register("removeSelection",function(){var g=s.get();if(g.length){var E,y=u.allowed("elements.delete",{elements:g});!1!==y&&(E=Rn(y)?y:g).length&&o.removeElements(E.slice())}}),p&&this.register("moveCanvas",function(g){p.moveCanvas(g)}),h&&this.register("moveSelection",function(g){h.moveSelection(g.direction,g.accelerated)})},Du.prototype.trigger=function(t,i){if(!this._actions[t])throw Vj(t,cce);return this._actions[t](i)},Du.prototype.register=function(t,i){var o=this;if("string"==typeof t)return this._registerAction(t,i);_e(t,function(s,a){o._registerAction(a,s)})},Du.prototype._registerAction=function(t,i){if(this.isRegistered(t))throw Vj(t,"is already registered");this._actions[t]=i},Du.prototype.unregister=function(t){if(!this.isRegistered(t))throw Vj(t,cce);this._actions[t]=void 0},Du.prototype.getActions=function(){return Object.keys(this._actions)},Du.prototype.isRegistered=function(t){return!!this._actions[t]};const hGe={__init__:["editorActions"],editorActions:["type",Du]};function JP(t){t.invoke(Du,this)}jt(JP,Du),JP.$inject=["injector"],JP.prototype._registerDefaultActions=function(t){Du.prototype._registerDefaultActions.call(this,t);var i=t.get("canvas",!1),o=t.get("elementRegistry",!1),s=t.get("selection",!1),a=t.get("spaceTool",!1),l=t.get("lassoTool",!1),c=t.get("handTool",!1),u=t.get("globalConnect",!1),p=t.get("distributeElements",!1),h=t.get("alignElements",!1),g=t.get("directEditing",!1),y=t.get("searchPad",!1),E=t.get("modeling",!1),C=t.get("contextPad",!1);i&&o&&s&&this._registerAction("selectElements",function(){var D=i.getRootElement(),O=o.filter(function(A){return A!==D});return s.select(O),O}),a&&this._registerAction("spaceTool",function(){a.toggle()}),l&&this._registerAction("lassoTool",function(){l.toggle()}),c&&this._registerAction("handTool",function(){c.toggle()}),u&&this._registerAction("globalConnectTool",function(){u.toggle()}),s&&p&&this._registerAction("distributeElements",function(D){var O=s.get();O.length&&p.trigger(O,D.type)}),s&&h&&this._registerAction("alignElements",function(D){var O=s.get(),A=[],F=D.type;O.length&&(A=On(O,function(N){return!V(N,"bpmn:Lane")}),h.trigger(A,F))}),s&&E&&this._registerAction("setColor",function(D){var O=s.get();O.length&&E.setColor(O,D)}),s&&g&&this._registerAction("directEditing",function(){var D=s.get();D.length&&g.activate(D[0])}),y&&this._registerAction("find",function(){y.toggle()}),i&&E&&this._registerAction("moveToOrigin",function(){var O,A,D=i.getRootElement();O=jo(A=V(D,"bpmn:Collaboration")?o.filter(function(F){return V(F.parent,"bpmn:Collaboration")}):o.filter(function(F){return F!==D&&!V(F.parent,"bpmn:SubProcess")})),E.moveElements(A,{x:-O.x,y:-O.y},D)}),s&&C&&this._registerAction("replaceElement",function(D){C.triggerEntry("replace","click",D)})};const mGe={__depends__:[hGe],editorActions:["type",JP]};function uce(t){t.on(["create.init","shape.move.init"],function(i){var o=i.context;sn(i.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(o.gridSnappingContext||(o.gridSnappingContext={}),o.gridSnappingContext.snapLocation="top-left")})}function jj(t,i,o){return o||(o="round"),Math[o](t/i)*i}function i1(t,i,o){var s=!o||!1!==o.active;this._eventBus=i;var a=this;i.on("diagram.init",800,function(){a.setActive(s)}),i.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(l){var c=l.originalEvent;if(!(!a.active||c&&Bc(c))){var u=l.context,p=u.gridSnappingContext;p||(p=u.gridSnappingContext={}),["x","y"].forEach(function(h){var g={},y=function bGe(t,i,o){var a=t.shape,l=t.context.gridSnappingContext,c=l.snapLocation,u=l.snapOffset;return u&&gn(u[i])||(u||(u=l.snapOffset={}),gn(u[i])||(u[i]=0),!a)||(o.get(a.id)||(tM(i)?u[i]+=a[i]+a.width/2:u[i]+=a[i]+a.height/2),!c)||("x"===i?/left/.test(c)?u[i]-=a.width/2:/right/.test(c)&&(u[i]+=a.width/2):/top/.test(c)?u[i]-=a.height/2:/bottom/.test(c)&&(u[i]+=a.height/2)),u[i]}(l,h,t);y&&(g.offset=y);var E=function yGe(t,i){var o=t.context,s=o.createConstraints,a=o.resizeConstraints||{},l=o.gridSnappingContext,c=l.snapConstraints;if(c&&c[i])return c[i];c||(c=l.snapConstraints={}),c[i]||(c[i]={});var u=o.direction;s&&(tM(i)?(c.x.min=s.left,c.x.max=s.right):(c.y.min=s.top,c.y.max=s.bottom));var p=a.min,h=a.max;return p&&(tM(i)?pce(u)?c.x.max=p.left:c.x.min=p.right:dce(u)?c.y.max=p.top:c.y.min=p.bottom),h&&(tM(i)?pce(u)?c.x.min=h.left:c.x.max=h.right:dce(u)?c.y.min=h.top:c.y.max=h.bottom),c[i]}(l,h);E&&Re(g,E),X5(l,h)||a.snapEvent(l,h,g)})}})}function tM(t){return"x"===t}function dce(t){return-1!==t.indexOf("n")}function pce(t){return-1!==t.indexOf("w")}function Ay(t,i){ft.call(this,t),this._gridSnapping=i;var o=this;this.preExecute("shape.resize",function(s){var a=s.context,c=(a.hints||{}).autoResize;if(c){var u=a.shape,p=a.newBounds;a.newBounds=la(c)?o.snapComplex(p,c):o.snapSimple(u,p)}})}function fce(t,i){t.on(["spaceTool.move","spaceTool.end"],2e3,function(o){var l,s=o.context;s.initialized&&("x"===s.axis?(l=i.snapValue(o.dx),o.x=o.x+l-o.dx,o.dx=l):(l=i.snapValue(o.dy),o.y=o.y+l-o.dy,o.dy=l))})}uce.$inject=["eventBus"],i1.prototype.snapEvent=function(t,i,o){zo(t,i,this.snapValue(t[i],o))},i1.prototype.getGridSpacing=function(){return 10},i1.prototype.snapValue=function(t,i){var s,a,o=0;return i&&i.offset&&(o=i.offset),t=jj(t+=o,10),i&&i.min&&gn(s=i.min)&&(s=jj(s+o,10,"ceil"),t=Math.max(t,s)),i&&i.max&&gn(a=i.max)&&(a=jj(a+o,10,"floor"),t=Math.min(t,a)),t-o},i1.prototype.isActive=function(){return this.active},i1.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})},i1.prototype.toggleActive=function(){this.setActive(!this.active)},i1.$inject=["elementRegistry","eventBus","config.gridSnapping"],Ay.$inject=["eventBus","gridSnapping","modeling"],jt(Ay,ft),Ay.prototype.snapSimple=function(t,i){var o=this._gridSnapping;return i.width=o.snapValue(i.width,{min:i.width}),i.height=o.snapValue(i.height,{min:i.height}),i.x=t.x+t.width/2-i.width/2,i.y=t.y+t.height/2-i.height/2,i},Ay.prototype.snapComplex=function(t,i){return/w|e/.test(i)&&(t=this.snapHorizontally(t,i)),/n|s/.test(i)&&(t=this.snapVertically(t,i)),t},Ay.prototype.snapHorizontally=function(t,i){var o=this._gridSnapping,s=/w/.test(i),a=/e/.test(i),l={};return l.width=o.snapValue(t.width,{min:t.width}),a&&(s?(l.x=o.snapValue(t.x,{max:t.x}),l.width+=o.snapValue(t.x-l.x,{min:t.x-l.x})):t.x=t.x+t.width-l.width),Re(t,l),t},Ay.prototype.snapVertically=function(t,i){var o=this._gridSnapping,s=/n/.test(i),a=/s/.test(i),l={};return l.height=o.snapValue(t.height,{min:t.height}),s&&(a?(l.y=o.snapValue(t.y,{max:t.y}),l.height+=o.snapValue(t.y-l.y,{min:t.y-l.y})):t.y=t.y+t.height-l.height),Re(t,l),t},fce.$inject=["eventBus","gridSnapping"];const EGe={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Ay],gridSnappingSpaceToolBehavior:["type",fce]}],__init__:["gridSnapping"],gridSnapping:["type",i1]};function hce(t,i){t.on("autoPlace",2e3,function(o){var s=o.source,a=Sn(s),l=o.shape,c=qae(s,l);return["x","y"].forEach(function(u){var p={};c[u]!==a[u]&&(c[u]>a[u]?p.min=c[u]:p.max=c[u],V(l,"bpmn:TextAnnotation")&&(p.offset=function wGe(t){return"x"===t}(u)?-l.width/2:-l.height/2),c[u]=i.snapValue(c[u],p))}),c})}function mce(t,i,o){i.on(["create.start","shape.move.start"],1750,function(s){var a=s.context,l=a.shape,c=t.getRootElement();V(l,"bpmn:Participant")&&V(c,"bpmn:Process")&&c.children.length&&a.createConstraints&&(l.width=o.snapValue(l.width,{min:l.width}),l.height=o.snapValue(l.height,{min:l.height}))})}function nM(t,i,o){ft.call(this,t),this._gridSnapping=i;var s=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(a){var l=a.context,c=l.connection,u=l.hints||{},p=c.waypoints;u.connectionStart||u.connectionEnd||!1===u.createElementsBehavior||function DGe(t){return t.length>3}(p)&&o.updateWaypoints(c,s.snapMiddleSegments(p))})}function MGe(t,i,o){var s=Ff(i,o),a={};return function TGe(t){return"h"===t}(s)&&(a.y=t.snapValue(i.y)),function PGe(t){return"v"===t}(s)&&(a.x=t.snapValue(i.x)),("x"in a||"y"in a)&&(i=Re({},i,a),o=Re({},o,a)),[i,o]}hce.$inject=["eventBus","gridSnapping"],mce.$inject=["canvas","eventBus","gridSnapping"],nM.$inject=["eventBus","gridSnapping","modeling"],jt(nM,ft),nM.prototype.snapMiddleSegments=function(t){var o,i=this._gridSnapping;t=t.slice();for(var s=1;s<t.length-2;s++)o=MGe(i,t[s],t[s+1]),t[s]=o[0],t[s+1]=o[1];return t};const OGe={__depends__:[EGe,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",hce],gridSnappingParticipantBehavior:["type",mce],gridSnappingLayoutConnectionBehavior:["type",nM]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",uce]};function X6(t,i){this._interactionEvents=i;var o=this;t.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(s){var a=s.element,l=s.gfx;return V(a,"bpmn:Lane")?o._createParticipantHit(a,l):V(a,"bpmn:Participant")?mr(a)?o._createParticipantHit(a,l):o._createDefaultHit(a,l):V(a,"bpmn:SubProcess")?mr(a)?o._createSubProcessHit(a,l):o._createDefaultHit(a,l):void 0})}X6.$inject=["eventBus","interactionEvents"],X6.prototype._createDefaultHit=function(t,i){return this._interactionEvents.removeHits(i),this._interactionEvents.createDefaultHit(t,i),!0},X6.prototype._createParticipantHit=function(t,i){return this._interactionEvents.removeHits(i),this._interactionEvents.createBoxHit(i,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"all",{width:30,height:t.height}),!0},X6.prototype._createSubProcessHit=function(t,i){return this._interactionEvents.removeHits(i),this._interactionEvents.createBoxHit(i,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"all",{width:t.width,height:30}),!0};const RGe={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",X6]};function rM(t){t.invoke($5,this)}jt(rM,$5),rM.$inject=["injector"],rM.prototype.registerBindings=function(t,i){function o(s,a){i.isRegistered(s)&&t.addListener(a)}$5.prototype.registerBindings.call(this,t,i),o("selectElements",function(s){var a=s.keyEvent;if(t.isKey(["a","A"],a)&&t.isCmd(a))return i.trigger("selectElements"),!0}),o("find",function(s){var a=s.keyEvent;if(t.isKey(["f","F"],a)&&t.isCmd(a))return i.trigger("find"),!0}),o("spaceTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["s","S"],a))return i.trigger("spaceTool"),!0}),o("lassoTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["l","L"],a))return i.trigger("lassoTool"),!0}),o("handTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["h","H"],a))return i.trigger("handTool"),!0}),o("globalConnectTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["c","C"],a))return i.trigger("globalConnectTool"),!0}),o("directEditing",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["e","E"],a))return i.trigger("directEditing"),!0}),o("replaceElement",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["r","R"],a))return i.trigger("replaceElement",a),!0})};const IGe={__depends__:[XV],__init__:["keyboardBindings"],keyboardBindings:["type",rM]};var NGe={moveSpeed:1,moveSpeedAccelerated:10},FGe={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},BGe={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function _ce(t,i,o,s,a){var l=this;this._config=Re({},NGe,t||{}),i.addListener(1500,function(c){var u=c.keyEvent,p=FGe[u.key];if(p&&!i.isCmd(u)){var h=i.isShift(u);return l.moveSelection(p,h),!0}}),this.moveSelection=function(c,u){var p=a.get();if(p.length){var g=BGe[c](this._config[u?"moveSpeedAccelerated":"moveSpeed"]);s.allowed("elements.move",{shapes:p})&&o.moveElements(p,g)}}}_ce.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const VGe={__depends__:[XV,rp],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",_ce]};function Y6(t,i,o,s){this._dragging=s,this._rules=i;var a=this;t.on("resize.start",function(p){!function c(p){var g=p.minBounds;void 0===p.resizeConstraints&&(void 0===g&&(g=a.computeMinResizeBox(p)),p.resizeConstraints={min:ln(g)})}(p.context)}),t.on("resize.move",function(p){!function l(p,h){var C,g=p.shape,y=p.direction,E=p.resizeConstraints;p.delta=h,C=function QUe(t,i,o){var s=o.x,a=o.y,l={x:t.x,y:t.y,width:t.width,height:t.height};return-1!==i.indexOf("n")?(l.y=t.y+a,l.height=t.height-a):-1!==i.indexOf("s")&&(l.height=t.height+a),-1!==i.indexOf("e")?l.width=t.width+s:-1!==i.indexOf("w")&&(l.x=t.x+s,l.width=t.width-s),l}(g,y,h),p.newBounds=function JUe(t,i){if(!i)return t;var o=ln(t);return tP({top:YP("top",o,i),right:YP("right",o,i),bottom:YP("bottom",o,i),left:YP("left",o,i)})}(C,E),p.canExecute=a.canResize(p)}(p.context,{x:p.dx,y:p.dy})}),t.on("resize.end",function(p){!function u(p){var h=p.shape,y=p.newBounds;if(p.canExecute){if(!function jGe(t,i){return t.x!==i.x||t.y!==i.y||t.width!==i.width||t.height!==i.height}(h,y=Uoe(y)))return;o.resizeShape(h,y)}}(p.context)})}function xce(t,i){var o=Sn(t),s=ln(t),a={x:o.x,y:o.y};return-1!==i.indexOf("n")?a.y=s.top:-1!==i.indexOf("s")&&(a.y=s.bottom),-1!==i.indexOf("e")?a.x=s.right:-1!==i.indexOf("w")&&(a.x=s.left),a}function $Ge(t){var i="resize-";return"n"===t||"s"===t?i+"ns":"e"===t||"w"===t?i+"ew":"nw"===t||"se"===t?i+"nwse":i+"nesw"}Y6.prototype.canResize=function(t){var i=this._rules,o=y0(t,["newBounds","shape","delta","direction"]);return i.allowed("shape.resize",o)},Y6.prototype.activate=function(t,i,o){var a,l,s=this._dragging;if("string"==typeof o&&(o={direction:o}),!(l=(a=Re({shape:i},o)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");s.init(t,xce(i,l),"resize",{autoActivate:!0,cursor:$Ge(l),data:{shape:i,context:a}})},Y6.prototype.computeMinResizeBox=function(t){var i=t.shape;return function eGe(t,i,o,s){var a=ln(i),l={top:/n/.test(t)?a.bottom-o.height:a.top,left:/w/.test(t)?a.right-o.width:a.left,bottom:/s/.test(t)?a.top+o.height:a.bottom,right:/e/.test(t)?a.left+o.width:a.right},c=s?ln(s):l;return tP({top:XP(l.top,c.top),left:XP(l.left,c.left),bottom:WP(l.bottom,c.bottom),right:WP(l.right,c.right)})}(t.direction,i,t.minDimensions||{width:10,height:10},oce(i,t.childrenBoxPadding))},Y6.$inject=["eventBus","rules","modeling","dragging"];var wce="djs-resizing",Cce="resize-not-ok";function Sce(t,i,o){t.on("resize.move",500,function(l){!function s(l){var c=l.shape,u=l.newBounds,p=l.frame;p||(p=l.frame=o.addFrame(c,i.getActiveLayer()),i.addMarker(c,wce)),u.width>5&&Mt(p,{x:u.x,width:u.width}),u.height>5&&Mt(p,{y:u.y,height:u.height}),l.canExecute?ur(p).remove(Cce):ur(p).add(Cce)}(l.context)}),t.on("resize.cleanup",function(l){!function a(l){var c=l.shape;l.frame&&Eo(l.frame),i.removeMarker(c,wce)}(l.context)})}Sce.$inject=["eventBus","canvas","previewSupport"];var K6="djs-resizer",HGe=["n","w","s","e","nw","ne","se","sw"];function o1(t,i,o,s){this._resize=s,this._canvas=i;var a=this;t.on("selection.changed",function(l){var c=l.newSelection;a.removeResizers(),1===c.length&&_e(c,vl(a.addResizer,a))}),t.on("shape.changed",function(l){var c=l.element;o.isSelected(c)&&(a.removeResizers(),a.addResizer(c))})}o1.prototype.makeDraggable=function(t,i,o){var s=this._resize;function a(l){e1(l)&&s.activate(l,t,o)}hn.bind(i,"mousedown",a),hn.bind(i,"touchstart",a)},o1.prototype._createResizer=function(t,i,o,s){var a=this._getResizersParent(),l=function UGe(t){var i={x:0,y:0};return-1!==t.indexOf("e")?i.x=6:-1!==t.indexOf("w")&&(i.x=-6),-1!==t.indexOf("s")?i.y=6:-1!==t.indexOf("n")&&(i.y=-6),i}(s),c=an("g");ur(c).add(K6),ur(c).add(K6+"-"+t.id),ur(c).add(K6+"-"+s),bn(a,c);var u=an("rect");Mt(u,{x:-4+l.x,y:-4+l.y,width:8,height:8}),ur(u).add(K6+"-visual"),bn(c,u);var p=an("rect");return Mt(p,{x:-10+l.x,y:-10+l.y,width:20,height:20}),ur(p).add(K6+"-hit"),bn(c,p),SV(c,i,o),c},o1.prototype.createResizer=function(t,i){var o=xce(t,i),s=this._createResizer(t,o.x,o.y,i);this.makeDraggable(t,s,i)},o1.prototype.addResizer=function(t){var i=this;Mi(t)||!this._resize.canResize({shape:t})||_e(HGe,function(o){i.createResizer(t,o)})},o1.prototype.removeResizers=function(){Y9(this._getResizersParent())},o1.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},o1.$inject=["eventBus","canvas","selection","resize"];const Dce={__depends__:[op,Wf,$6],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Y6],resizePreview:["type",Sce],resizeHandles:["type",o1]};function Q6(t,i,o,s,a,l,c){function u(p,h){(h||sn(p,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||$j(p))&&s.activate(p)}this._bpmnFactory=i,this._canvas=o,this._modeling=a,this._textRenderer=c,s.registerProvider(this),t.on("element.dblclick",function(p){u(p.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){s.isActive()&&s.complete()}),t.on(["shape.remove","connection.remove"],2e3,function(p){s.isActive(p.element)&&s.cancel()}),t.on(["commandStack.changed"],function(p){s.isActive()&&s.cancel()}),t.on("directEditing.activate",function(p){l.removeResizers()}),t.on("create.end",500,function(p){var h=p.context;p.isTouch||p.context.canExecute&&(h.hints&&!1===h.hints.createElementsBehavior||u(h.shape))}),t.on("autoPlace.end",500,function(p){u(p.shape)})}function $j(t){return V(t,"bpmn:SubProcess")&&!mr(t)}Q6.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Q6.prototype.activate=function(t){var i=Ic(t);if(void 0!==i){var o={text:i};Re(o,this.getEditingBBox(t));var a={};return(sn(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||$j(t))&&Re(a,{centerVertically:!0}),cy(t)&&Re(a,{autoResize:!0}),V(t,"bpmn:TextAnnotation")&&Re(a,{resizable:!0,autoResize:!0}),Re(o,{options:a}),o}},Q6.prototype.getEditingBBox=function(t){var i=this._canvas,o=t.label||t,s=i.getAbsoluteBBox(o),a_x=s.x+s.width/2,a_y=s.y+s.height/2,l={x:s.x,y:s.y},c=i.zoom(),u=this._textRenderer.getDefaultStyle(),p=this._textRenderer.getExternalStyle(),h=p.fontSize*c,g=p.lineHeight,y=u.fontSize*c,E=u.lineHeight,C={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(V(t,"bpmn:Lane")||function XGe(t){return V(t,"bpmn:Participant")&&mr(t)}(t))&&(Re(l,{width:s.height,height:30*c,x:s.x-s.height/2+15*c,y:a_y-30*c/2}),Re(C,{fontSize:y+"px",lineHeight:E,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px",transform:"rotate(-90deg)"})),(sn(t,["bpmn:Task","bpmn:CallActivity"])||function WGe(t){return V(t,"bpmn:Participant")&&!mr(t)}(t)||$j(t))&&(Re(l,{width:s.width,height:s.height}),Re(C,{fontSize:y+"px",lineHeight:E,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"})),function qGe(t){return V(t,"bpmn:SubProcess")&&mr(t)}(t)&&(Re(l,{width:s.width,x:s.x}),Re(C,{fontSize:y+"px",lineHeight:E,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"}));var D=90*c,O=7*c,A=4*c;if(o.labelTarget&&(Re(l,{width:D,height:s.height+O+A,x:a_x-D/2,y:s.y-O}),Re(C,{fontSize:h+"px",lineHeight:g,paddingTop:O+"px",paddingBottom:A+"px"})),cy(o)&&!M9(o)&&!Ir(o)){var F=eF(t),N=i.getAbsoluteBBox({x:F.x,y:F.y,width:0,height:0}),B=h+O+A;Re(l,{width:D,height:B,x:N.x-D/2,y:N.y-B/2}),Re(C,{fontSize:h+"px",lineHeight:g,paddingTop:O+"px",paddingBottom:A+"px"})}return V(t,"bpmn:TextAnnotation")&&(Re(l,{width:s.width,height:s.height,minWidth:30*c,minHeight:10*c}),Re(C,{textAlign:"left",paddingTop:5*c+"px",paddingBottom:7*c+"px",paddingLeft:7*c+"px",paddingRight:5*c+"px",fontSize:y+"px",lineHeight:E})),{bounds:l,style:C}},Q6.prototype.update=function(t,i,o,s){var a,l;V(t,"bpmn:TextAnnotation")&&(l=this._canvas.getAbsoluteBBox(t),a={x:t.x,y:t.y,width:t.width/l.width*s.width,height:t.height/l.height*s.height}),function YGe(t){return!t||!t.trim()}(i)&&(i=null),this._modeling.updateLabel(t,i,a)};var Tce="djs-element-hidden",Pce="djs-label-hidden";function Mce(t,i,o){var l,c,u,s=this,a=i.getDefaultLayer();t.on("directEditing.activate",function(p){var h=p.active;if(V(l=h.element.label||h.element,"bpmn:TextAnnotation")){c=i.getAbsoluteBBox(l),u=an("g");var g=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:l.width,containerHeight:l.height,position:{mx:0,my:0}}),y=s.path=an("path");Mt(y,{d:g,strokeWidth:2,stroke:KGe(l)}),bn(u,y),bn(a,u),ec(u,l.x,l.y)}V(l,"bpmn:TextAnnotation")||l.labelTarget?i.addMarker(l,Tce):(V(l,"bpmn:Task")||V(l,"bpmn:CallActivity")||V(l,"bpmn:SubProcess")||V(l,"bpmn:Participant"))&&i.addMarker(l,Pce)}),t.on("directEditing.resize",function(p){if(V(l,"bpmn:TextAnnotation")){var y=Math.max(l.height/c.height*(p.height+p.dy),0),E=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:l.width,containerHeight:y,position:{mx:0,my:0}});Mt(s.path,{d:E})}}),t.on(["directEditing.complete","directEditing.cancel"],function(p){var h=p.active;h&&(i.removeMarker(h.element.label||h.element,Tce),i.removeMarker(l,Pce)),l=void 0,c=void 0,u&&(Eo(u),u=void 0)})}function KGe(t,i){return Mr(t).get("stroke")||i||"black"}Mce.$inject=["eventBus","canvas","pathMap"];const QGe={__depends__:[HV,Dce,Fle],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Q6],labelEditingPreview:["type",Mce]};var zj=["top","bottom","left","right"];function Hj(t,i){function o(a){if(M9(a)){var l=function eqe(t){var i=Sn(t.label),s=Oce(Sn(t),i);if(function tqe(t){return-1!==zj.indexOf(t)}(s)){var a=function JGe(t){var i=Sn(t),o=[].concat(t.incoming.map(function(s){return s.waypoints[s.waypoints.length-2]}),t.outgoing.map(function(s){return s.waypoints[1]})).map(function(s){return Oce(i,s)});return o}(t);if(t.host){var l=function ZGe(t){var a,i=t.host,s=ga(Sn(t),i);a=s.indexOf("-")>=0?s.split("-"):[s];var l=zj.filter(function(c){return-1===a.indexOf(c)});return l}(t);a=a.concat(l)}var c=zj.filter(function(u){return-1===a.indexOf(u)});if(-1===c.indexOf(s))return c[0]}}(a);l&&function s(a,l){var c=Sn(a),u=a.label,p=Sn(u);if(u.parent){var g,h=ln(a);switch(l){case"top":g={x:c.x,y:h.top-10-u.height/2};break;case"left":g={x:h.left-10-u.width/2,y:c.y};break;case"bottom":g={x:c.x,y:h.bottom+10+u.height/2};break;case"right":g={x:h.right+10+u.width/2,y:c.y}}var y=T0(g,p);i.moveShape(u,y)}}(a,l)}}ft.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(a){var l=a.context,c=l.connection,p=c.target;!1!==(l.hints||{}).createElementsBehavior&&(o(c.source),o(p))}),this.postExecuted(["label.create"],function(a){var l=a.context;!1!==(l.hints||{}).createElementsBehavior&&o(l.shape.labelTarget)}),this.postExecuted(["elements.create"],function(a){var l=a.context;!1!==(l.hints||{}).createElementsBehavior&&l.elements.forEach(function(p){o(p)})})}function Oce(t,i){return ga(i,t,5)}function Uj(t){ft.call(this,t),this.preExecute("shape.append",function(i){var o=i.source,s=i.shape;i.position||(i.position=V(s,"bpmn:TextAnnotation")?{x:o.x+o.width/2+75,y:o.y-50-s.height/2}:{x:o.x+o.width+80+s.width/2,y:o.y+o.height/2})},!0)}function Gj(t,i){t.invoke(ft,this),this.postExecute("shape.move",function(o){var s=o.newParent,a=o.shape;_e(On(a.incoming.concat(a.outgoing),function(c){return V(c,"bpmn:Association")}),function(c){i.moveConnection(c,{x:0,y:0},s)})},!0)}function lM(t,i){i.invoke(ft,this),this._bpmnReplace=t;var o=this;this.postExecuted("elements.create",500,function(s){var a=s.elements;1===(a=a.filter(function(l){return Ace(l,l.host)})).length&&a.map(function(l){return a.indexOf(l)}).forEach(function(l){s.elements[l]=o._replaceShape(a[l],a[l])})},!0),this.preExecute("elements.move",500,function(s){var a=s.shapes,l=s.newHost;if(1===a.length){var c=a[0];Ace(c,l)&&(s.shapes=[o._replaceShape(c,l)])}},!0)}function Ace(t,i){return!Ir(t)&&sn(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!i}function qj(t,i){function o(s){return On(s.attachers,function(a){return V(a,"bpmn:BoundaryEvent")})}ft.call(this,t),this.postExecute("connection.create",function(s){var a=s.context.source,l=s.context.target,c=o(l);V(a,"bpmn:EventBasedGateway")&&V(l,"bpmn:ReceiveTask")&&c.length>0&&i.removeElements(c)}),this.postExecute("connection.reconnect",function(s){var l=s.context.newSource;V(s.context.oldSource,"bpmn:Gateway")&&V(l,"bpmn:EventBasedGateway")&&_e(l.outgoing,function(c){var u=c.target,p=o(u);V(u,"bpmn:ReceiveTask")&&p.length>0&&i.removeElements(p)})})}function Wj(t){t.invoke(ft,this),this.preExecute("shape.create",1500,function(i){var o=i.context,s=o.parent,a=o.shape;V(s,"bpmn:Lane")&&!V(a,"bpmn:Lane")&&(o.parent=qP(s,"bpmn:Participant"))})}function Xj(t,i){ft.call(this,t),this.preExecute("shape.create",function(o){var a=o.context.shape;if(V(a,"bpmn:DataObjectReference")&&"label"!==a.type){var l=i.create("bpmn:DataObject");a.businessObject.dataObjectRef=l}})}jt(Hj,ft),Hj.$inject=["eventBus","modeling"],jt(Uj,ft),Uj.$inject=["eventBus"],jt(Gj,ft),Gj.$inject=["injector","modeling"],lM.$inject=["bpmnReplace","injector"],jt(lM,ft),lM.prototype._replaceShape=function(t,i){var o=function nqe(t){var o=le(t).eventDefinitions;return o&&o[0]}(t),s={type:"bpmn:BoundaryEvent",host:i};return o&&(s.eventDefinitionType=o.$type),this._bpmnReplace.replaceElement(t,s,{layoutConnection:!1})},qj.$inject=["eventBus","modeling"],jt(qj,ft),Wj.$inject=["injector"],jt(Wj,ft),Xj.$inject=["eventBus","bpmnFactory"],jt(Xj,ft);function Qj(t,i,o){function s(){var a=t.getRootElement();return V(a,"bpmn:Collaboration")?a:o.makeCollaboration()}ft.call(this,i),i.on(["create.start","shape.move.start"],2e3,function(a){var l=a.context,c=l.shape,u=t.getRootElement();if(V(c,"bpmn:Participant")&&V(u,"bpmn:Process")&&u.children.length){var p=u.children.filter(function(y){return!V(y,"bpmn:Group")&&!Ir(y)&&!Mi(y)});if(p.length){var h=jo(p),g=function rqe(t,i){i={width:i.width+40+30,height:i.height+40};var o=Math.max(t.width,i.width),s=Math.max(t.height,i.height);return{x:-o/2,y:-s/2,width:o,height:s}}(c,h);Re(c,g),l.createConstraints=function iqe(t,i){return{bottom:(i=ln(i)).top+t.height/2-20,left:i.right-t.width/2+20,top:i.bottom-t.height/2+20,right:i.left+t.width/2-20-30}}(c,h)}}}),i.on("create.start",2e3,function(a){var c=a.context.shape,u=t.getRootElement(),p=t.getGraphics(u);function h(g){g.element=u,g.gfx=p}V(c,"bpmn:Participant")&&V(u,"bpmn:Process")&&(i.on("element.hover",2e3,h),i.once("create.cleanup",function(){i.off("element.hover",h)}))}),this.preExecute("elements.create",2e3,function(a){var p,c=a.parent,u=function oqe(t){return Qn(t,function(i){return V(i,"bpmn:Participant")})}(a.elements);u&&V(c,"bpmn:Process")&&(a.parent=s(),(p=a.hints=a.hints||{}).participant=u,p.process=c,p.processRef=le(u).get("processRef"))},!0),this.preExecute("shape.create",function(a){var l=a.parent,c=a.shape;V(c,"bpmn:Participant")&&V(l,"bpmn:Process")&&(a.parent=s(),a.process=l,a.processRef=le(c).get("processRef"))},!0),this.execute("shape.create",function(a){var l=a.hints||{},c=a.process||l.process,u=a.shape,p=l.participant;c&&(!p||u===p)&&le(u).set("processRef",le(c))},!0),this.revert("shape.create",function(a){var l=a.hints||{},u=a.processRef||l.processRef,p=a.shape,h=l.participant;(a.process||l.process)&&(!h||p===h)&&le(p).set("processRef",u)},!0),this.postExecute("shape.create",function(a){var c=a.process||a.hints.process,u=a.shape,p=(a.hints||{}).participant;if(c){var h=c.children.slice();p?u===p&&o.moveElements(h,{x:0,y:0},p):o.moveElements(h,{x:0,y:0},u)}},!0)}Qj.$inject=["canvas","eventBus","modeling"],jt(Qj,ft);var Ice="__targetRef_placeholder";function Zj(t,i){function s(c,u){var p=c.get("properties"),h=Qn(p,function(g){return g.name===Ice});return!h&&u&&ns(p,h=i.create("bpmn:Property",{name:Ice})),h}function a(c,u){var p=s(c);p&&(function o(c,u,p){return Qn(c.get("dataInputAssociations"),function(g){return g!==p&&g.targetRef===u})}(c,p,u)||$o(c.get("properties"),p))}function l(c){var F,u=c.context,p=u.connection,h=p.businessObject,g=p.target,y=g&&g.businessObject,E=u.newTarget,C=E&&E.businessObject,D=u.oldTarget||u.target,O=D&&D.businessObject,A=p.businessObject;O&&O!==y&&a(O,h),C&&C!==y&&a(C,h),y?(F=s(y,!0),A.targetRef=F):A.targetRef=null}ft.call(this,t),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],Nce(l)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],Nce(l))}function Nce(t){return function(i){if(V(i.context.connection,"bpmn:DataInputAssociation"))return t(i)}}function uM(t){this._bpmnUpdater=t}function Jj(t,i,o,s){function l(u){return u.children.filter(function(p){return V(p,"bpmn:DataStoreReference")&&!p.labelTarget})}function c(u,p){var h=u.businessObject||u;if(p=p||function a(){return o.filter(function(u){return V(u,"bpmn:Participant")&&le(u).processRef})[0]}(),p){var g=p.businessObject||p;i.execute("dataStore.updateContainment",{dataStoreBo:h,dataStoreDi:Mr(u),newSemanticParent:g.processRef||g,newDiParent:Mr(p)})}}ft.call(this,s),i.registerHandler("dataStore.updateContainment",uM),this.preExecute("shape.create",function(u){var p=u.context,h=p.shape;V(h,"bpmn:DataStoreReference")&&"label"!==h.type&&(p.hints||(p.hints={}),p.hints.autoResize=!1)}),this.preExecute("elements.move",function(u){var p=u.context,h=p.shapes;h.filter(function(y){return V(y,"bpmn:DataStoreReference")}).length&&(p.hints||(p.hints={}),p.hints.autoResize=h.filter(function(y){return!V(y,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(u){var h=u.context.shape,g=h.parent;V(h,"bpmn:DataStoreReference")&&"label"!==h.type&&V(g,"bpmn:Collaboration")&&c(h)}),this.postExecute("shape.move",function(u){var p=u.context,h=p.shape,g=p.oldParent,y=h.parent;if(!V(g,"bpmn:Collaboration")&&V(h,"bpmn:DataStoreReference")&&"label"!==h.type&&V(y,"bpmn:Collaboration")){var E=V(g,"bpmn:Participant")?g:function aqe(t,i){for(;t.parent;){if(V(t.parent,i))return t.parent;t=t.parent}}(g,"bpmn:Participant");c(h,E)}}),this.postExecute("shape.delete",function(u){var h=u.context.shape,g=t.getRootElement();sn(h,["bpmn:Participant","bpmn:SubProcess"])&&V(g,"bpmn:Collaboration")&&l(g).filter(function(y){return function sqe(t,i){for(var o=t.businessObject||t,s=i.businessObject||i;o.$parent;){if(o.$parent===s.processRef||s)return!0;o=o.$parent}return!1}(y,h)}).forEach(function(y){c(y)})}),this.postExecute("canvas.updateRoot",function(u){var p=u.context,g=p.newRoot;l(p.oldRoot).forEach(function(E){V(g,"bpmn:Process")&&c(E,g)})})}function e$(t,i){ft.call(this,t),this.postExecuted("shape.delete",500,function(s){var a=s.context,l=a.hints,c=a.shape,u=a.oldParent;V(c,"bpmn:Lane")&&(l&&l.nested||function o(s,a){var p,h,g,l=ky(a),c=[],u=[];gy(l,function(y){return y.y>s.y?u.push(y):c.push(y),y.children}),l.length&&(p=u.length&&c.length?s.height/2:s.height,c.length&&(h=i.calculateAdjustments(c,"y",p,s.y-10),i.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:p},"s")),u.length&&(g=i.calculateAdjustments(u,"y",-p,s.y+s.height+10),i.makeSpace(g.movingShapes,g.resizingShapes,{x:0,y:-p},"n")))}(c,u))})}function dM(t,i){i.invoke(ft,this),this._bpmnReplace=t;var o=this;this.postExecuted("elements.create",500,function(s){var a=s.elements;a.filter(function(l){return Fce(l,l.host)}).map(function(l){return a.indexOf(l)}).forEach(function(l){s.elements[l]=o._replaceShape(a[l])})},!0),this.preExecute("elements.move",500,function(s){var a=s.shapes,l=s.newHost;a.forEach(function(c,u){var p=c.host;Fce(c,function uqe(t,i){return-1!==t.indexOf(i)}(a,p)?p:l)&&(a[u]=o._replaceShape(c))})},!0)}function Fce(t,i){return!Ir(t)&&V(t,"bpmn:BoundaryEvent")&&!i}function t$(t,i,o){function s(a,l,c){var p,h,g,E,C,D,F,u=l.waypoints,O=a.outgoing.slice(),A=a.incoming.slice(),N=_j(u,F=gn(c.width)?Sn(c):c);if(N){if(p=u.slice(0,N.index),h=u.slice(N.index+(N.bendpoint?1:0)),!p.length||!h.length)return;g=N.bendpoint?u[N.index]:F,(1===p.length||!Bce(a,p[p.length-1]))&&p.push(Vce(g)),(1===h.length||!Bce(a,h[0]))&&h.unshift(Vce(g))}E=l.target,i.canConnect(l.source,a,l)&&(o.reconnectEnd(l,a,p||F),C=l),i.canConnect(a,E,l)&&(C?D=o.connect(a,E,{type:l.type,waypoints:h}):(o.reconnectStart(l,a,h||F),D=l));var B=[].concat(C&&On(A,function(j){return j.source===C.source})||[],D&&On(O,function(j){return j.target===D.target})||[]);B.length&&o.removeElements(B)}ft.call(this,t),this.preExecute("elements.move",function(a){var l=a.newParent,c=a.shapes,u=a.delta,p=c[0];if(p&&l){l&&l.waypoints&&(a.newParent=l=l.parent);var h=Sn(p),g={x:h.x+u.x,y:h.y+u.y},y=Qn(l.children,function(E){return i.canInsert(c,E)&&_j(E.waypoints,g)});y&&(a.targetFlow=y,a.position=g)}},!0),this.postExecuted("elements.move",function(a){var c=a.targetFlow;c&&s(a.shapes[0],c,a.position)},!0),this.preExecute("shape.create",function(a){var l=a.parent;i.canInsert(a.shape,l)&&(a.targetFlow=l,a.parent=l.parent)},!0),this.postExecuted("shape.create",function(a){var c=a.targetFlow;c&&s(a.shape,c,a.position)},!0)}function Bce(t,i){var o=i.x,s=i.y;return o>=t.x&&o<=t.x+t.width&&s>=t.y&&s<=t.y+t.height}function Vce(t){return Re({},t)}function n$(t,i){ft.call(this,t),this.preExecuted("connection.create",function(o){var s=o.context,a=s.connection,l=s.source,c=s.target,u=s.hints;u&&!1===u.createElementsBehavior||!K5(a)||(V(l,"bpmn:EventBasedGateway")?c.incoming.filter(h=>h!==a&&K5(h)):c.incoming.filter(h=>h!==a&&K5(h)&&V(h.source,"bpmn:EventBasedGateway"))).forEach(function(h){i.removeConnection(h)})}),this.preExecuted("shape.replace",function(o){var a=o.context.newShape;V(a,"bpmn:EventBasedGateway")&&a.outgoing.filter(K5).reduce(function(c,u){return c.includes(u.target)?c:c.concat(u.target)},[]).forEach(function(c){c.incoming.filter(K5).forEach(function(u){const p=c.incoming.filter(K5).filter(function(h){return h.source===a});(u.source!==a||p.length>1)&&i.removeConnection(u)})})})}function K5(t){return V(t,"bpmn:SequenceFlow")}function $ce(t,i,o){i.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(s){var l=s.context.shape||s.shape,c=s.hover;V(c,"bpmn:Lane")&&!sn(l,["bpmn:Lane","bpmn:Participant"])&&(s.hover=Su(c),s.hoverGfx=t.getGraphics(s.hover));var u=o.getRootElement();c!==u&&(l.labelTarget||V(l,"bpmn:Group"))&&(s.hover=u,s.hoverGfx=t.getGraphics(s.hover))}),i.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(s){var a=s.hover;V(a,"bpmn:Lane")&&(s.hover=Su(a)||a,s.hoverGfx=t.getGraphics(s.hover))}),i.on(["bendpoint.move.hover"],1500,function(s){var l=s.hover,c=s.context.type;V(l,"bpmn:Lane")&&/reconnect/.test(c)&&(s.hover=Su(l)||l,s.hoverGfx=t.getGraphics(s.hover))}),i.on(["connect.start"],1500,function(s){var a=s.context,l=a.start;V(l,"bpmn:Lane")&&(a.start=Su(l)||l)}),i.on("shape.move.start",2e3,function(s){var a=s.shape;V(a,"bpmn:Lane")&&(s.shape=Su(a)||a)}),i.on("spaceTool.move",2e3,function(s){var a=s.hover;a&&V(a,"bpmn:Lane")&&(s.hover=Su(a))})}function r$(t,i,o,s,a,l){function h(D,O,A){var F=function c(){return o.filter(function(D){return V(D,"bpmn:Group")})}().filter(function(N){return N.businessObject!==A});O&&!function u(D,O){return D.some(function(A){var F=le(A);return(F.categoryValueRef&&F.categoryValueRef.$parent)===O})}(F,O)&&function mqe(t){var i=t.$parent;i&&($o(i.get("rootElements"),t),t.$parent=null)}(O),D&&!function p(D,O){return D.some(function(A){return le(A).categoryValueRef===O})}(F,D)&&function hqe(t){var i=t.$parent;i&&($o(i.get("categoryValue"),t),t.$parent=null)}(D)}function g(D,O){return function fqe(t,i,o){return ns(i.get("categoryValue"),t),t.$parent=i,ns(o.get("rootElements"),i),i.$parent=o,t}(D,O,i.getDefinitions())}function y(D,O){var A=le(D),F=A.categoryValueRef;F||(F=A.categoryValueRef=O.categoryValue=O.categoryValue||function pqe(t){return t.create("bpmn:CategoryValue")}(t));var N=F.$parent;N||(N=F.$parent=O.category=O.category||function dqe(t){return t.create("bpmn:Category")}(t)),g(F,N,i.getDefinitions())}function E(D,O){var A=O.category,F=O.categoryValue,N=le(D);F?(N.categoryValueRef=null,h(F,A,N)):h(null,N.categoryValueRef.$parent,N)}function C(D,O){var A=t.create(D.$type);return l.copyElement(D,A,null,O)}a.invoke(ft,this),this.execute("label.create",function(D){var O=D.context,A=O.labelTarget;V(A,"bpmn:Group")&&y(A,O)}),this.revert("label.create",function(D){var O=D.context,A=O.labelTarget;V(A,"bpmn:Group")&&E(A,O)}),this.execute("shape.delete",function(D){var O=D.context,A=O.shape,F=le(A);if(V(A,"bpmn:Group")&&!A.labelTarget){var N=O.categoryValue=F.categoryValueRef;N&&(h(N,O.category=N.$parent,F),F.categoryValueRef=null)}}),this.reverted("shape.delete",function(D){var O=D.context,A=O.shape;if(V(A,"bpmn:Group")&&!A.labelTarget){var F=O.category,N=O.categoryValue,B=le(A);N&&(B.categoryValueRef=N,g(N,F))}}),this.execute("shape.create",function(D){var O=D.context,A=O.shape;!V(A,"bpmn:Group")||A.labelTarget||le(A).categoryValueRef&&y(A,O)}),this.reverted("shape.create",function(D){var O=D.context,A=O.shape;!V(A,"bpmn:Group")||A.labelTarget||le(A).categoryValueRef&&E(A,O)}),s.on("copyPaste.copyElement",770,function(D){var O=D.descriptor,A=D.element;if(V(A,"bpmn:Group")&&!A.labelTarget){var F=le(A);if(F.categoryValueRef){var N=F.categoryValueRef;O.categoryValue=C(N,!0),N.$parent&&(O.category=C(N.$parent,!0))}}}),s.on("copyPaste.pasteElement",770,function(D){var O=D.descriptor,F=O.categoryValue,N=O.category;F&&(F=O.businessObject.categoryValueRef=C(F)),N&&(F.$parent=C(N)),delete O.category,delete O.categoryValue})}function i$(t,i,o,s){var a,u;return 0==(a=(s.y-o.y)*(i.x-t.x)-(s.x-o.x)*(i.y-t.y))?null:(u=((s.x-o.x)*(t.y-o.y)-(s.y-o.y)*(t.x-o.x))/a,{x:Math.round(t.x+u*(i.x-t.x)),y:Math.round(t.y+u*(i.y-t.y))})}function Hce(t){function i(s,a,l){var g,u={x:l.x-50,y:l.y},p=i$(s,a,l,{x:l.x,y:l.y-50}),h=i$(s,a,l,u);g=p&&h?Uce(p,l)>Uce(h,l)?h:p:p||h,s.original=g}t.on("bpmnElement.added",function(s){var a=s.element;a.waypoints&&function o(s){var a=s.waypoints;i(a[0],a[1],Sn(s.source)),i(a[a.length-1],a[a.length-2],Sn(s.target))}(a)})}function Uce(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function o$(t){ft.call(this,t);var i=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(o){var s=o.context.shape,a=le(s),l=Mr(s);sn(a,i)&&!l.get("isHorizontal")&&l.set("isHorizontal",!0)})}Zj.$inject=["eventBus","bpmnFactory"],jt(Zj,ft),uM.$inject=["bpmnUpdater"],uM.prototype.execute=function(t){var i=t.dataStoreBo,o=t.dataStoreDi,s=t.newSemanticParent,a=t.newDiParent;return t.oldSemanticParent=i.$parent,t.oldDiParent=o.$parent,this._bpmnUpdater.updateSemanticParent(i,s),this._bpmnUpdater.updateDiParent(o,a),[]},uM.prototype.revert=function(t){var o=t.dataStoreDi,a=t.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t.dataStoreBo,t.oldSemanticParent),this._bpmnUpdater.updateDiParent(o,a),[]},Jj.$inject=["canvas","commandStack","elementRegistry","eventBus"],jt(Jj,ft),e$.$inject=["eventBus","spaceTool"],jt(e$,ft),dM.$inject=["bpmnReplace","injector"],jt(dM,ft),dM.prototype._replaceShape=function(t){var i=function cqe(t){var o=le(t).eventDefinitions;return o&&o[0]}(t);return this._bpmnReplace.replaceElement(t,i?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:i.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},jt(t$,ft),t$.$inject=["eventBus","bpmnRules","modeling"],n$.$inject=["eventBus","modeling"],jt(n$,ft),$ce.$inject=["elementRegistry","eventBus","canvas"],r$.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],jt(r$,ft),Hce.$inject=["eventBus"],o$.$inject=["eventBus"],jt(o$,ft);var Gce=Math.sqrt,qce=Math.min,gqe=Math.max,Wce=Math.abs;function Xce(t){return Math.pow(t,2)}function Z6(t,i){return Gce(Xce(t.x-i.x)+Xce(t.y-i.y))}function yqe(t,i,o,s){var a=i.x-t.x,l=i.y-t.y,c=o.x-t.x,u=o.y-t.y,p=a*a+l*l,y=(a*c+l*u)/p,C=y*y-(c*c+u*u-s*s)/p;if(C<0&&C>-1e-6&&(C=0),C<0)return[];var D=Gce(C),O=-y+D,A=-y-D,F={x:t.x-a*O,y:t.y-l*O};return 0===C?[F]:[F,{x:t.x-a*A,y:t.y-l*A}].filter(function(B){return function bqe(t,i,o){return Yce(t.x,i.x,o.x)&&Yce(t.y,i.y,o.y)}(B,t,i)})}function Yce(t,i,o){return t>=qce(i,o)-fM&&t<=gqe(i,o)+fM}function _qe(t,i){return{x:(t.x+i.x)/2,y:(t.y+i.y)/2}}var fM=.1;function Kce(t,i){return Wce(t.x-i.x)<=fM&&Wce(t.y-i.y)<=fM}function Qce(t,i,o,s){var a=0,l=0,c={point:t,delta:{x:0,y:0}},u=function vqe(t,i){var s,a,l,c,u,h,g,y,E,C,o=0;for(o=0;o<i.length-1;o++){if(Kce(s=i[o],a=i[o+1])?h=[s]:(l=Z6(t,s),c=Z6(t,a),h=yqe(s,a,t,qce(l,c))),h.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===h.length&&(g={type:"bendpoint",position:h[0],segmentIndex:o,bendpointIndex:Kce(s,h[0])?o:o+1}),2===h.length&&(g={type:"segment",position:u=_qe(h[0],h[1]),segmentIndex:o,relativeLocation:Z6(s,u)/Z6(s,a)}),y=Z6(g.position,t),(!C||E>y)&&(C=g,E=y)}return C}(t,o),p=u.segmentIndex,h=function Eqe(t,i,o,s){var a=o.segmentIndex,l=i.length-t.length;if(s.segmentMove){var u=s.segmentMove.newSegmentStartIndex;return a===s.segmentMove.segmentStartIndex?u:a>=u?a+l<u?u:a+l:a}if(s.bendpointMove){var g,p=s.bendpointMove.insert,h=s.bendpointMove.bendpointIndex;return 0===l?a:(a>=h&&(g=p?a+1:a-1),a<h&&(g=a,p&&"bendpoint"!==o.type&&h-1===a)&&Zce(i,h)<o.relativeLocation&&g++,g)}return 0===l?a:s.connectionStart&&0===a?0:s.connectionEnd&&a===t.length-2?i.length-2:Math.floor((i.length-2)/2)}(o,i,u,s);if(h<0||h>i.length-2||null===h)return c;var g=Jce(o,p),y=Jce(i,h),E=u.position,C=function wqe(t,i){var o=BP(t[0],t[1]),s=BP(t[0],i);return 0===o?0:s/o}(g,E),D=function xqe(t,i){var o=tle(t);return tle(i)-o}(g,y);if("bendpoint"===u.type){var O=i.length-o.length,A=u.bendpointIndex;if(-1!==i.indexOf(o[A]))return c;if(0===O){var N=i[A];return{delta:{x:a=N.x-u.position.x,y:l=N.y-u.position.y},point:{x:t.x+a,y:t.y+l}}}O<0&&0!==A&&A<o.length-1&&(C=Zce(o,A))}var B={x:(y[1].x-y[0].x)*C+y[0].x,y:(y[1].y-y[0].y)*C+y[0].y},j=function FHe(t,i){return i?{x:Math.cos(i)*t.x-Math.sin(i)*t.y,y:Math.sin(i)*t.x+Math.cos(i)*t.y}:t}({x:t.x-E.x,y:t.y-E.y},D);return a=B.x+j.x-t.x,l=B.y+j.y-t.y,{point:Bf(B),delta:Bf({x:a,y:l})}}function Zce(t,i){var o=BP(t[i-1],t[i]);return o/(o+BP(t[i],t[i+1]))}function Jce(t,i){return[t[i],t[i+1]]}function J6(t,i,o){var s=M6(i),a=M6(o),l=T0(t,s);return Bf({x:a.x+l.x*(o.width/i.width),y:a.y+l.y*(o.height/i.height)})}function eue(t,i,o){var s=M6(t),a=M6(i),l=M6(o),c=T0(t,s),u=T0(s,a),p=function Sqe(t,i,o){var s=ln(i),a=ln(o);if(function Dqe(t,i){return function Tqe(t,i){return t.right!==i.right&&t.left!==i.left}(t,i)||function Pqe(t,i){return t.top!==i.top&&t.bottom!==i.bottom}(t,i)}(s,a))return null;var c,l=ga(i,t);if("top"===l)c={x:0,y:a.bottom-s.bottom};else if("bottom"===l)c={x:0,y:a.top-s.top};else if("right"===l)c={x:a.left-s.left,y:0};else{if("left"!==l)return null;c={x:a.right-s.right,y:0}}return ga(o,{x:t.x+c.x,y:t.y+c.y})!==l?null:c}(s,i,o);return p||Bf({x:l.x+u.x*(o.width/i.width)+c.x-t.x,y:l.y+u.y*(o.height/i.height)+c.y-t.y})}function s$(t,i,o,s){function a(c){var u=c.context,p=u.element,h=u.properties;if("name"in h&&i.updateLabel(p,h.name),"text"in h&&V(p,"bpmn:TextAnnotation")){var g=s.getTextAnnotationBounds({x:p.x,y:p.y,width:p.width,height:p.height},h.text||"");i.updateLabel(p,h.text,g)}}ft.call(this,t),this.postExecute("element.updateProperties",a),this.postExecute("element.updateModdleProperties",c=>{le(c.context.element)===c.context.moddleElement&&a(c)}),this.postExecute(["shape.create","connection.create"],function(c){var u=c.context;if(!1!==(u.hints||{}).createElementsBehavior){var h=u.shape||u.connection;Ir(h)||!cy(h)||Ic(h)&&i.updateLabel(h,Ic(h))}}),this.postExecute("shape.delete",function(c){var u=c.context,p=u.labelTarget;p&&!1!==(u.hints||{}).unsetLabel&&i.updateLabel(p,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(c){var u=c.context;if(!1!==(u.hints||{}).labelBehavior){var y,g=u.connection.label;!g||!g.parent||(y=function l(c){var u=c.context,p=u.connection,h=p.label,g=Re({},u.hints),y=u.newWaypoints||p.waypoints,E=u.oldWaypoints;return typeof g.startChanged>"u"&&(g.startChanged=!!g.connectionStart),typeof g.endChanged>"u"&&(g.endChanged=!!g.connectionEnd),function Cqe(t,i,o,s){return Qce(Sn(t),i,o,s).delta}(h,y,E,g)}(c),i.moveShape(g,y))}}),this.postExecute(["shape.replace"],function(c){var u=c.context,p=u.newShape,h=u.oldShape,g=le(p);g&&cy(g)&&h.label&&p.label&&(p.label.x=h.label.x,p.label.y=h.label.y)}),this.postExecute("shape.resize",function(c){var u=c.context,p=u.shape,h=u.newBounds,g=u.oldBounds;if(M9(p)){var y=p.label,E=Sn(y),C=function kqe(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}(g),D=function Oqe(t,i){if(i.length){var o=function Aqe(t,i){var o=i.map(function(a){return{line:a,distance:nle(t,a)}});return fs(o,"distance")[0].line}(t,i);return Ej(t,o)}}(E,C),O=function Mqe(t,i,o){return Bf(T0(J6(t,i,o),t))}(D,g,h);i.moveShape(y,O)}})}function a$(t,i){function o(s,a){var l=s.context,c=l.connection,u=Re({},l.hints),p=l.newWaypoints||c.waypoints,h=l.oldWaypoints;return typeof u.startChanged>"u"&&(u.startChanged=!!u.connectionStart),typeof u.endChanged>"u"&&(u.endChanged=!!u.connectionEnd),function Rqe(t,i,o,s){return Qce(t,i,o,s).point}(a,p,h,u)}ft.call(this,t),this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var l=s.context.connection,c=l.outgoing;l.incoming.forEach(function(p){var g=o(s,p.waypoints[p.waypoints.length-1]),y=[].concat(p.waypoints.slice(0,-1),[g]);i.updateWaypoints(p,y)}),c.forEach(function(p){var g=o(s,p.waypoints[0]),y=[].concat([g],p.waypoints.slice(1));i.updateWaypoints(p,y)})}),this.postExecute(["connection.move"],function(s){var a=s.context,l=a.connection,c=l.outgoing,p=a.delta;l.incoming.forEach(function(h){var g=h.waypoints[h.waypoints.length-1],y={x:g.x+p.x,y:g.y+p.y},E=[].concat(h.waypoints.slice(0,-1),[y]);i.updateWaypoints(h,E)}),c.forEach(function(h){var g=h.waypoints[0],E=[].concat([{x:g.x+p.x,y:g.y+p.y}],h.waypoints.slice(1));i.updateWaypoints(h,E)})})}function hM(t,i,o){var s=gM(t),a=iue(s,i),l=s[0];return a.length?a[a.length-1]:J6(l.original||l,o,i)}function mM(t,i,o){var s=gM(t),a=iue(s,i),l=s[s.length-1];return a.length?a[0]:J6(l.original||l,o,i)}function l$(t,i,o){var s=gM(t),a=rue(i,o),l=s[0];return J6(l.original||l,a,i)}function c$(t,i,o){var s=gM(t),a=rue(i,o),l=s[s.length-1];return J6(l.original||l,a,i)}function rue(t,i){return{x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}function gM(t){var i=t.waypoints;if(!i.length)throw new Error("connection#"+t.id+": no waypoints");return i}function iue(t,i){return On(Fo(t,Nqe),function(s){return function Iqe(t,i){return"intersect"===ga(i,t,1)}(s,i)})}function Nqe(t){return t.original||t}function u$(t,i){ft.call(this,t),this.postExecute("shape.replace",function(o){var s=o.oldShape,a=o.newShape;if(function Lqe(t,i){return V(t,"bpmn:Participant")&&mr(t)&&V(i,"bpmn:Participant")&&!mr(i)}(s,a)){var l=function Fqe(t){var i=g6([t],!1),o=[],s=[];return i.forEach(function(a){a!==t&&(a.incoming.forEach(function(l){V(l,"bpmn:MessageFlow")&&o.push(l)}),a.outgoing.forEach(function(l){V(l,"bpmn:MessageFlow")&&s.push(l)}))},[]),{incoming:o,outgoing:s}}(s);l.incoming.forEach(function(c){var u=mM(c,a,s);i.reconnectEnd(c,a,u)}),l.outgoing.forEach(function(c){var u=hM(c,a,s);i.reconnectStart(c,a,u)})}},!0)}function d$(t,i){ft.call(this,t),this.preExecute("shape.resize",function(o){var s=o.shape,a=Mr(s),l=a&&a.get("label");l&&l.get("bounds")&&i.updateModdleProperties(s,l,{bounds:void 0})},!0)}function p$(t,i,o){ft.call(this,t),this.preExecute("shape.delete",function(s){var a=s.context.shape;if(1===a.incoming.length&&1===a.outgoing.length){var l=a.incoming[0],c=a.outgoing[0];if(V(l,"bpmn:SequenceFlow")&&V(c,"bpmn:SequenceFlow")&&i.canConnect(l.source,c.target,l)){var u=function Bqe(t,i){var o=i$(Q5(t[t.length-2]),Q5(t[t.length-1]),Q5(i[1]),Q5(i[0]));return o?[].concat(t.slice(0,t.length-1),[o],i.slice(1)):[Q5(t[0]),Q5(i[i.length-1])]}(l.waypoints,c.waypoints);o.reconnectEnd(l,c.target,u)}}})}function Q5(t){return t.original||t}function f$(t,i){ft.call(this,t),this.preExecute("shape.delete",function(o){var s=o.shape,a=s.parent;V(s,"bpmn:Participant")&&(o.collaborationRoot=a)},!0),this.postExecute("shape.delete",function(o){var s=o.collaborationRoot;s&&!s.businessObject.participants.length&&i.makeProcess()},!0)}function h$(t,i,o,s){ft.call(this,t);var a=s.get("dragging",!1);function l(p){var E,C,h=p.source,g=p.target;p.parent&&(V(p,"bpmn:SequenceFlow")&&(o.canConnectSequenceFlow(h,g)||(C=!0),o.canConnectMessageFlow(h,g)&&(E="bpmn:MessageFlow")),V(p,"bpmn:MessageFlow")&&(o.canConnectMessageFlow(h,g)||(C=!0),o.canConnectSequenceFlow(h,g)&&(E="bpmn:SequenceFlow")),V(p,"bpmn:Association")&&!o.canConnectAssociation(h,g)&&(C=!0),C&&i.removeConnection(p),E&&i.connect(h,g,{type:E,waypoints:p.waypoints.slice()}))}this.postExecuted("elements.move",function(p){_e(p.closure.allConnections,l)},!0),this.preExecute("connection.reconnect",function c(p){var C,D,h=p.context,g=h.connection,y=h.newSource||g.source,E=h.newTarget||g.target;(C=o.canConnect(y,E))&&C.type!==g.type&&(D=i.connect(y,E,{type:C.type,waypoints:g.waypoints.slice()}),i.removeConnection(g),h.connection=D,a&&function u(p,h){var E,g=a.context(),y=g&&g.payload.previousSelection;!y||!y.length||-1!==(E=y.indexOf(p))&&y.splice(E,1,h)}(g,D))}),this.postExecuted("element.updateProperties",function(p){var C,h=p.context,g=h.properties,y=h.element,E=y.businessObject;g.default&&(C=Qn(y.outgoing,v0({id:y.businessObject.default.id})))&&i.updateProperties(C,{conditionExpression:void 0}),g.conditionExpression&&E.sourceRef.default===E&&i.updateProperties(y.source,{default:void 0})})}function vM(t,i,o,s,a,l){s.invoke(ft,this),this._bpmnReplace=t,this._elementRegistry=o,this._selection=l,this.postExecuted(["elements.create"],500,function(c){var u=c.context,p=u.parent,h=u.elements,g=gl(h,function(y,E){var C=i.canReplace([E],E.host||E.parent||p);return C?y.concat(C.replacements):y},[]);g.length&&this._replaceElements(h,g)},this),this.postExecuted(["elements.move"],500,function(c){var u=c.context,p=u.newParent,h=u.newHost,g=[];_e(u.closure.topLevel,function(E){g=Cl(E)?g.concat(E.children):g.concat(E)}),1===g.length&&h&&(p=h);var y=i.canReplace(g,p);y&&this._replaceElements(g,y.replacements,h)},this),this.postExecute(["shape.replace"],1500,function(c){var y,u=c.context,g=u.oldShape.attachers;g&&g.length&&(y=i.canReplace(g,u.newShape),this._replaceElements(g,y.replacements))},this),this.postExecuted(["shape.replace"],1500,function(c){var u=c.context,p=u.oldShape,h=u.newShape;a.unclaimId(p.businessObject.id,p.businessObject),a.updateProperties(h,{id:p.id})})}jt(s$,ft),s$.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],jt(a$,ft),a$.$inject=["eventBus","modeling"],u$.$inject=["eventBus","modeling"],jt(u$,ft),jt(d$,ft),d$.$inject=["eventBus","modeling"],jt(p$,ft),p$.$inject=["eventBus","bpmnRules","modeling"],f$.$inject=["eventBus","modeling"],jt(f$,ft),jt(h$,ft),h$.$inject=["eventBus","modeling","bpmnRules","injector"],jt(vM,ft),vM.prototype._replaceElements=function(t,i){var o=this._elementRegistry,s=this._bpmnReplace,a=this._selection;_e(i,function(l){var c={type:l.newElementType},u=o.get(l.oldElementId),p=t.indexOf(u);t[p]=s.replaceElement(u,c,{select:!1})}),i&&a.select(t)},vM.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var jqe={width:140,height:120},Ry={width:300,height:60},eC={width:300,height:150},oue={width:140,height:120},sue={width:50,height:30};function aue(t){t.on("resize.start",1500,function(i){var o=i.context,s=o.shape,a=o.direction,l=o.balanced;(V(s,"bpmn:Lane")||V(s,"bpmn:Participant"))&&(o.resizeConstraints=function Wqe(t,i,o){var s=Su(t),a=!0,l=!0,c=QP(s,[s]),u=ln(t),p={},h={};return/e/.test(i)?h.right=u.left+Ry.width:/w/.test(i)&&(h.left=u.right-Ry.width),c.forEach(function(y){var E=ln(y);/n/.test(i)&&(E.top<u.top-10&&(a=!1),o&&yM(u.top-E.bottom)<10&&_M(p,"top",E.top+Ry.height),yM(u.top-E.top)<5&&bM(h,"top",E.bottom-Ry.height)),/s/.test(i)&&(E.bottom>u.bottom+10&&(l=!1),o&&yM(u.bottom-E.top)<10&&bM(p,"bottom",E.bottom-Ry.height),yM(u.bottom-E.bottom)<5&&_M(h,"bottom",E.top+Ry.height))}),s.children.filter(function(y){return!y.hidden&&!y.waypoints&&(V(y,"bpmn:FlowElement")||V(y,"bpmn:Artifact"))}).forEach(function(y){var E=ln(y);a&&/n/.test(i)&&bM(h,"top",E.top-Gqe),/e/.test(i)&&_M(h,"right",E.right+Hqe),l&&/s/.test(i)&&_M(h,"bottom",E.bottom+qqe),/w/.test(i)&&bM(h,"left",E.left-Uqe)}),{min:h,max:p}}(s,a,l)),V(s,"bpmn:Participant")&&(o.minDimensions=eC),V(s,"bpmn:SubProcess")&&mr(s)&&(o.minDimensions=oue),V(s,"bpmn:TextAnnotation")&&(o.minDimensions=sue)})}aue.$inject=["eventBus"];var yM=Math.abs,$qe=Math.min,zqe=Math.max;function lue(t,i,o,s){var a=t[i];t[i]=void 0===a?o:s(o,a)}function bM(t,i,o){return lue(t,i,o,$qe)}function _M(t,i,o){return lue(t,i,o,zqe)}var Hqe=20,Uqe=50,Gqe=20,qqe=20;function uue(t,i){t.on("resize.start",1501,function(o){var s=o.context,a=s.shape;(V(a,"bpmn:Lane")||V(a,"bpmn:Participant"))&&(s.balanced=!V5(o))}),t.on("resize.end",1001,function(o){var s=o.context,a=s.shape,l=s.canExecute,c=s.newBounds;if(V(a,"bpmn:Lane")||V(a,"bpmn:Participant"))return l&&(c=Uoe(c),i.resizeLane(a,c,s.balanced)),!1})}function m$(t,i,o,s,a){function l(g){return sn(g,["bpmn:ReceiveTask","bpmn:SendTask"])||function Yqe(t,i){return Rn(i)||(i=[i]),xf(i,function(o){return O9(t,o)})}(g,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function c(g){return!!Qn(t.getDefinitions().get("rootElements"),v0({id:g.id}))}function u(g){return V(g,"bpmn:ErrorEventDefinition")?"errorRef":V(g,"bpmn:EscalationEventDefinition")?"escalationRef":V(g,"bpmn:MessageEventDefinition")?"messageRef":V(g,"bpmn:SignalEventDefinition")?"signalRef":void 0}function p(g){if(sn(g,["bpmn:ReceiveTask","bpmn:SendTask"]))return g.get("messageRef");var E=g.get("eventDefinitions")[0];return E.get(u(E))}o.invoke(ft,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(g){var y=g.shape||g.element;if(l(y)){var C=p(le(y));C&&!c(C)&&(ns(t.getDefinitions().get("rootElements"),C),g.addedRootElement=C)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(g){var y=g.addedRootElement;y&&$o(t.getDefinitions().get("rootElements"),y)},!0),i.on("copyPaste.copyElement",function(g){var y=g.descriptor,E=g.element;if(!E.labelTarget&&l(E)){var D=p(le(E));D&&(y.referencedRootElement=D)}}),i.on("copyPaste.pasteElement",500,function(g){var y=g.descriptor,E=y.businessObject,C=y.referencedRootElement;C&&(c(C)||(C=s.copyElement(C,a.create(C.$type))),function h(g,y){if(sn(g,["bpmn:ReceiveTask","bpmn:SendTask"]))return g.set("messageRef",y);var C=g.get("eventDefinitions")[0];C.set(u(C),y)}(E,C),delete y.referencedRootElement)})}uue.$inject=["eventBus","modeling"],m$.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],jt(m$,ft);var Kqe=Math.max;function due(t){t.on("spaceTool.getMinDimensions",function(i){var s=i.axis,a=i.start,l={};return _e(i.shapes,function(c){var u=c.id;V(c,"bpmn:Participant")&&(l[u]=function Qqe(t){return"x"===t}(s)?eC:{width:eC.width,height:Zqe(c,a)}),V(c,"bpmn:SubProcess")&&mr(c)&&(l[u]=oue),V(c,"bpmn:TextAnnotation")&&(l[u]=sue),V(c,"bpmn:Group")&&(l[u]=jqe)}),l})}function Zqe(t,i){var o;return function Jqe(t){return!!ky(t).length}(t)?(o=function eWe(t,i){var s;return s=pue(ky(t),i),t.height-s.height+Ry.height}(t,i),Kqe(eC.height,o)):eC.height}function pue(t,i){var o,s,a;for(o=0;o<t.length;o++)if(i>=(s=t[o]).y&&i<=s.y+s.height)return(a=ky(s)).length?pue(a,i):s}due.$inject=["eventBus"];function s1(t,i,o,s,a,l,c){ft.call(this,i),this._canvas=t,this._eventBus=i,this._modeling=o,this._elementFactory=s,this._bpmnFactory=a,this._bpmnjs=l,this._elementRegistry=c;var u=this;function p(y){return V(y,"bpmn:SubProcess")&&!mr(y)}function h(y){var C=y.newRootElement,D=le(y.shape);C=u._addDiagram(C||D),y.newRootElement=t.addRootElement(C)}function g(y){var C=le(y.shape);u._removeDiagram(C);var D=y.newRootElement=c.get(Hf(C));t.removeRootElement(D)}this.executed("shape.create",function(y){p(y.shape)&&h(y)},!0),this.postExecuted("shape.create",function(y){var E=y.shape,C=y.newRootElement;!C||!E.children||(u._showRecursively(E.children),u._moveChildrenToShape(E,C))},!0),this.reverted("shape.create",function(y){p(y.shape)&&g(y)},!0),this.preExecuted("shape.delete",function(y){var E=y.shape;if(p(E)){var C=c.get(Hf(E));C&&o.removeElements(C.children.slice())}},!0),this.executed("shape.delete",function(y){p(y.shape)&&g(y)},!0),this.reverted("shape.delete",function(y){p(y.shape)&&h(y)},!0),this.preExecuted("shape.replace",function(y){var E=y.oldShape,C=y.newShape;!p(E)||!p(C)||(y.oldRoot=t.removeRootElement(Hf(E)))},!0),this.postExecuted("shape.replace",function(y){var C=y.oldRoot,D=t.findRoot(Hf(y.newShape));C&&D&&o.moveElements(C.children,{x:0,y:0},D)},!0),this.executed("element.updateProperties",function(y){var E=y.element;if(V(E,"bpmn:SubProcess")){var O=y.oldProperties.id,A=y.properties.id;if(O!==A){if(qV(E))return c.updateId(E,xy(A)),void c.updateId(O,A);c.get(xy(O))&&c.updateId(xy(O),xy(A))}}},!0),this.reverted("element.updateProperties",function(y){var E=y.element;if(V(E,"bpmn:SubProcess")){var O=y.oldProperties.id,A=y.properties.id;if(O!==A){if(qV(E))return c.updateId(E,xy(O)),void c.updateId(A,O);var F=c.get(xy(A));F&&c.updateId(F,xy(O))}}},!0),i.on("element.changed",function(y){var E=y.element;if(qV(E)){var C=E,D=c.get(Gse(C));!D||D===C||i.fire("element.changed",{element:D})}}),this.executed("shape.toggleCollapse",400,function(y){var E=y.shape;V(E,"bpmn:SubProcess")&&(mr(E)?g(y):(h(y),u._showRecursively(E.children)))},!0),this.reverted("shape.toggleCollapse",400,function(y){var E=y.shape;V(E,"bpmn:SubProcess")&&(mr(E)?g(y):(h(y),u._showRecursively(E.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(y){var E=y.shape;if(V(E,"bpmn:SubProcess")){var C=y.newRootElement;C&&(mr(E)?u._moveChildrenToShape(C,E):u._moveChildrenToShape(E,C))}},!0),i.on("copyPaste.createTree",function(y){var E=y.element,C=y.children;if(p(E)){var D=Hf(E),O=c.get(D);O&&C.push.apply(C,O.children)}}),i.on("copyPaste.copyElement",function(y){var E=y.descriptor,D=y.elements,O=y.element.parent;if(V(Mr(O),"bpmndi:BPMNPlane")){var F=Gse(O),N=Qn(D,function(B){return B.id===F});N&&(E.parent=N.id)}}),i.on("copyPaste.pasteElement",function(y){var E=y.descriptor;E.parent&&(p(E.parent)||E.parent.hidden)&&(E.hidden=!0)})}function g$(t,i){t.invoke(ft,this),this.postExecuted("shape.replace",function(o){var s=o.context.oldShape,a=o.context.newShape;if(V(a,"bpmn:SubProcess")&&(V(s,"bpmn:Task")||V(s,"bpmn:CallActivity"))&&mr(a)){var l=function nWe(t){return{x:t.x+t.width/6,y:t.y+t.height/2}}(a);i.createShape({type:"bpmn:StartEvent"},l,a)}})}function v$(t,i){ft.call(this,t),this.postExecuted("shape.toggleCollapse",1500,function(o){var s=o.shape;if(!mr(s)){var a=g6(s);a.forEach(function(c){var u=c.incoming.slice(),p=c.outgoing.slice();_e(u,function(h){l(h,!0)}),_e(p,function(h){l(h,!1)})})}function l(c,u){-1!==a.indexOf(c.source)&&-1!==a.indexOf(c.target)||(u?i.reconnectEnd(c,s,Sn(s)):i.reconnectStart(c,s,Sn(s)))}},!0)}function b$(t,i,o){ft.call(this,t),this.executed(["shape.toggleCollapse"],500,function(c){var p=c.context.shape;V(p,"bpmn:SubProcess")&&(p.collapsed?Mr(p).isExpanded=!1:(function s(c){c.length&&c.forEach(function(u){"label"===u.type&&!u.businessObject.name&&(u.hidden=!0)})}(p.children),Mr(p).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(c){var p=c.context.shape;Mr(p).isExpanded=!p.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(c){var h,u=c.context.shape,p=i.getDefaultSize(u);h=u.collapsed?function l(c,u){return{x:c.x+(c.width-u.width)/2,y:c.y+(c.height-u.height)/2,width:u.width,height:u.height}}(u,p):function a(c,u){var g,y,h=u;return g=function rWe(t){return t.filter(function(i){return!i.hidden})}(c.children).concat([c]),(y=oce(g))?(h.width=Math.max(y.width,h.width),h.height=Math.max(y.height,h.height),h.x=y.x+(y.width-h.width)/2,h.y=y.y+(y.height-h.height)/2):(h.x=c.x+(c.width-h.width)/2,h.y=c.y+(c.height-h.height)/2),h}(u,p),o.resizeShape(u,h,null,{autoResize:!u.collapsed&&"nwse"})})}function _$(t,i,o,s){i.invoke(ft,this),this.preExecute("shape.delete",function(a){var c=a.context.shape,u=c.businessObject;Ir(c)||(V(c,"bpmn:Participant")&&mr(c)&&o.ids.unclaim(u.processRef.id),s.unclaimId(u.id,u))}),this.preExecute("connection.delete",function(a){var u=a.context.connection.businessObject;s.unclaimId(u.id,u)}),this.preExecute("canvas.updateRoot",function(){var a=t.getRootElement(),l=a.businessObject;V(a,"bpmn:Collaboration")&&o.ids.unclaim(l.id)})}function E$(t,i){ft.call(this,t),this.preExecute("connection.delete",function(o){var a=o.context.connection,l=a.source;(function iWe(t,i){if(!V(t,"bpmn:SequenceFlow"))return!1;var o=le(i),s=le(t);return o.get("default")===s})(a,l)&&i.updateProperties(l,{default:null})})}function x$(t,i,o){var s;ft.call(this,t);var u=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(u,5e3,function(p){!function a(){(s=s||new aWe).enter()}()}),this.postExecuted(u,500,function(p){!function c(){if(!s)throw new Error(o("out of bounds release"));var p=s.leave();p&&(i.updateLaneRefs(s.flowNodes,s.lanes),s=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(p){var g=p.context.shape,y=function l(){if(!s)throw new Error(o("out of bounds release"));return s}();g.labelTarget||(V(g,"bpmn:Lane")&&y.addLane(g),V(g,"bpmn:FlowNode")&&y.addFlowNode(g))})}function aWe(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(t){this.lanes.push(t)},this.addFlowNode=function(t){this.flowNodes.push(t)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}jt(s1,ft),s1.prototype._moveChildrenToShape=function(t,i){var a,o=this._modeling,s=t.children;if(s){var l=(s=s.concat(s.reduce(function(h,g){return g.label&&g.label.parent!==t?h.concat(g.label):h},[]))).filter(function(h){return!h.hidden});if(!l.length)return void o.moveElements(s,{x:0,y:0},i,{autoResize:!1});var c=jo(l);if(i.x){var u=Sn(i),p=Sn(c);a={x:u.x-p.x,y:u.y-p.y}}else a={x:180-c.x,y:160-c.y};o.moveElements(s,a,i,{autoResize:!1})}},s1.prototype._showRecursively=function(t,i){var o=this,s=[];return t.forEach(function(a){a.hidden=!!i,s=s.concat(a),a.children&&(s=s.concat(o._showRecursively(a.children,a.collapsed||i)))}),s},s1.prototype._addDiagram=function(t){var o=this._bpmnjs.getDefinitions().diagrams;return t.businessObject||(t=this._createNewDiagram(t)),o.push(t.di.$parent),t},s1.prototype._createNewDiagram=function(t){var i=this._bpmnFactory,o=this._elementFactory,s=i.create("bpmndi:BPMNPlane",{bpmnElement:t}),a=i.create("bpmndi:BPMNDiagram",{plane:s});return s.$parent=a,o.createRoot({id:Hf(t),type:t.$type,di:s,businessObject:t,collapsed:!0})},s1.prototype._removeDiagram=function(t){var o=this._bpmnjs.getDefinitions().diagrams,s=Qn(o,function(a){return a.plane.bpmnElement.id===t.id});return o.splice(o.indexOf(s),1),s},s1.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],g$.$inject=["injector","modeling"],jt(g$,ft),jt(v$,ft),v$.$inject=["eventBus","modeling"],jt(b$,ft),b$.$inject=["eventBus","elementFactory","modeling"],jt(_$,ft),_$.$inject=["canvas","injector","moddle","modeling"],jt(E$,ft),E$.$inject=["eventBus","modeling"],x$.$inject=["eventBus","modeling","translate"],jt(x$,ft);const lWe={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",Hj],appendBehavior:["type",Uj],associationBehavior:["type",Gj],attachEventBehavior:["type",lM],boundaryEventBehavior:["type",qj],createBehavior:["type",Wj],createDataObjectBehavior:["type",Xj],createParticipantBehavior:["type",Qj],dataInputAssociationBehavior:["type",Zj],dataStoreBehavior:["type",Jj],deleteLaneBehavior:["type",e$],detachEventBehavior:["type",dM],dropOnFlowBehavior:["type",t$],eventBasedGatewayBehavior:["type",n$],fixHoverBehavior:["type",$ce],groupBehavior:["type",r$],importDockingFix:["type",Hce],isHorizontalFix:["type",o$],labelBehavior:["type",s$],layoutConnectionBehavior:["type",a$],messageFlowBehavior:["type",u$],removeElementBehavior:["type",p$],removeEmbeddedLabelBoundsBehavior:["type",d$],removeParticipantBehavior:["type",f$],replaceConnectionBehavior:["type",h$],replaceElementBehaviour:["type",vM],resizeBehavior:["type",aue],resizeLaneBehavior:["type",uue],rootElementReferenceBehavior:["type",m$],spaceToolBehavior:["type",due],subProcessPlaneBehavior:["type",s1],subProcessStartEventBehavior:["type",g$],toggleCollapseConnectionBehaviour:["type",v$],toggleElementCollapseBehaviour:["type",b$],unclaimIdBehavior:["type",_$],unsetDefaultFlowBehavior:["type",E$],updateFlowNodeRefsBehavior:["type",x$]};function mue(t,i){var o=ga(t,i,-15);return"intersect"!==o?o:null}function ya(t){Eu.call(this,t)}function w$(t){return!t||Ir(t)}function gue(t){do{if(V(t,"bpmn:Process"))return le(t);if(V(t,"bpmn:Participant"))return le(t).processRef||le(t)}while(t=t.parent)}function C$(t){return V(t,"bpmn:TextAnnotation")}function S$(t){return V(t,"bpmn:Group")&&!t.labelTarget}function D$(t){return V(t,"bpmn:BoundaryEvent")&&sp(t,"bpmn:CompensateEventDefinition")}function Z5(t){return le(t).isForCompensation}function vue(t){for(var i=t;i=i.parent;){if(V(i,"bpmn:FlowElementsContainer"))return le(i);if(V(i,"bpmn:Participant"))return le(i).processRef}return null}function sp(t,i){return!!Qn(le(t).eventDefinitions||[],function(s){return V(s,i)})}function yue(t,i){return(le(t).eventDefinitions||[]).every(function(s){return V(s,i)})}function T$(t,i){var o=function yWe(t){for(var i=[];t;)(t=t.parent)&&i.push(t);return i}(i);return-1!==o.indexOf(t)}function EM(t,i,o){if(w$(t)||w$(i))return null;if(!V(o,"bpmn:DataAssociation")){if(Due(t,i))return{type:"bpmn:MessageFlow"};if(Tue(t,i))return{type:"bpmn:SequenceFlow"}}return M$(t,i)||(D$(t)&&Z5(i)?{type:"bpmn:Association",associationDirection:"One"}:!!Sue(t,i)&&{type:"bpmn:Association"})}function J5(t,i){return!(!Ir(t)&&!S$(t))||!(V(i,"bpmn:Participant")&&!mr(i))&&(V(t,"bpmn:Participant")?V(i,"bpmn:Process")||V(i,"bpmn:Collaboration"):sn(t,["bpmn:DataInput","bpmn:DataOutput"])&&t.parent?i===t.parent:V(t,"bpmn:Lane")?V(i,"bpmn:Participant")||V(i,"bpmn:Lane"):!(V(t,"bpmn:BoundaryEvent")&&!function bWe(t){return le(t).cancelActivity&&(bue(t)||_ue(t))}(t))&&(V(t,"bpmn:FlowElement")&&!V(t,"bpmn:DataStoreReference")?V(i,"bpmn:FlowElementsContainer")?mr(i):sn(i,["bpmn:Participant","bpmn:Lane"]):V(t,"bpmn:DataStoreReference")&&V(i,"bpmn:Collaboration")?xf(le(i).get("participants"),function(o){return!!o.get("processRef")}):sn(t,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?sn(i,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!V(t,"bpmn:MessageFlow")&&(V(i,"bpmn:Collaboration")||t.source.parent==i||t.target.parent==i)))}function EWe(t){return V(t,"bpmn:Lane")}function bue(t){var i=le(t);return i&&!(i.eventDefinitions&&i.eventDefinitions.length)}function _ue(t){return Eue(t,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function Eue(t,i){return i.some(function(o){return sp(t,o)})}function tC(t,i,o,s){if(Array.isArray(t)||(t=[t]),1!==t.length)return!1;var a=t[0];return!(Ir(a)||!function xWe(t){return!!(function _We(t){return!Ir(t)&&V(t,"bpmn:BoundaryEvent")}(t)||V(t,"bpmn:IntermediateThrowEvent")&&bue(t))||V(t,"bpmn:IntermediateCatchEvent")&&_ue(t)}(a)||Cl(i)||!V(i,"bpmn:Activity")||Z5(i)||s&&!mue(s,i)||function wWe(t){return V(t,"bpmn:ReceiveTask")&&Qn(t.incoming,function(i){return V(i.source,"bpmn:EventBasedGateway")})}(i))&&"attach"}function xue(t,i,o){if(!i)return!1;var s={replacements:[]};return _e(t,function(a){Cl(i)||V(a,"bpmn:StartEvent")&&"label"!==a.type&&J5(a,i)&&(Vne(a)||s.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"}),(function vTe(t){return O9(t,"bpmn:ErrorEventDefinition")}(a)||function yTe(t){return O9(t,"bpmn:EscalationEventDefinition")}(a)||function bTe(t){return O9(t,"bpmn:CompensateEventDefinition")}(a))&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"}),Eue(a,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&V(i,"bpmn:SubProcess")&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"})),V(i,"bpmn:Transaction")||sp(a,"bpmn:CancelEventDefinition")&&"label"!==a.type&&(V(a,"bpmn:EndEvent")&&J5(a,i)&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:EndEvent"}),V(a,"bpmn:BoundaryEvent")&&tC(a,i,0,o)&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:BoundaryEvent"}))}),!!s.replacements.length&&s}function wue(t,i){return!xf(t,EWe)&&(!i||t.every(function(o){return J5(o,i)}))}function P$(t,i,o,s){return!!i&&(!(!Ir(t)&&!S$(t))||!(function uWe(t,i){return t===i}(o,i)||o&&T$(o,i))&&(J5(t,i)||xM(t,i)))}function Cue(t,i){return V(t,"bpmn:SubProcess")?mr(t)&&(!i||i.width>=100&&i.height>=80):V(t,"bpmn:Lane")?!i||i.width>=130&&i.height>=60:V(t,"bpmn:Participant")?!i||i.width>=250&&i.height>=50:!(!C$(t)&&!S$(t))}function Sue(t,i){return!((!D$(t)||!Z5(i))&&(T$(i,t)||T$(t,i)||!function CWe(t,i){var o=C$(t),s=C$(i);return(o||s)&&o!==s}(t,i)&&!M$(t,i)))}function Due(t,i){return!(Mue(t)&&!Mue(i))&&function pWe(t){return V(t,"bpmn:InteractionNode")&&!V(t,"bpmn:BoundaryEvent")&&(!V(t,"bpmn:Event")||V(t,"bpmn:ThrowEvent")&&yue(t,"bpmn:MessageEventDefinition"))}(t)&&function fWe(t){return V(t,"bpmn:InteractionNode")&&!Z5(t)&&(!V(t,"bpmn:Event")||V(t,"bpmn:CatchEvent")&&yue(t,"bpmn:MessageEventDefinition"))&&!(V(t,"bpmn:BoundaryEvent")&&!sp(t,"bpmn:MessageEventDefinition"))}(i)&&!function dWe(t,i){return gue(t)===gue(i)}(t,i)}function Tue(t,i){return function mWe(t){return V(t,"bpmn:FlowNode")&&!V(t,"bpmn:EndEvent")&&!Cl(t)&&!(V(t,"bpmn:IntermediateThrowEvent")&&sp(t,"bpmn:LinkEventDefinition"))&&!D$(t)&&!Z5(t)}(t)&&function gWe(t){return V(t,"bpmn:FlowNode")&&!V(t,"bpmn:StartEvent")&&!V(t,"bpmn:BoundaryEvent")&&!Cl(t)&&!(V(t,"bpmn:IntermediateCatchEvent")&&sp(t,"bpmn:LinkEventDefinition"))&&!Z5(t)}(i)&&function hWe(t,i){return vue(t)===vue(i)}(t,i)&&!(V(t,"bpmn:EventBasedGateway")&&!function vWe(t){return V(t,"bpmn:ReceiveTask")||V(t,"bpmn:IntermediateCatchEvent")&&(sp(t,"bpmn:MessageEventDefinition")||sp(t,"bpmn:TimerEventDefinition")||sp(t,"bpmn:ConditionalEventDefinition")||sp(t,"bpmn:SignalEventDefinition"))}(i))}function M$(t,i){return sn(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&sn(i,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!sn(i,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!sn(t,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function xM(t,i,o){if(!i)return!1;if(Array.isArray(t)){if(1!==t.length)return!1;t=t[0]}return i.source!==t&&i.target!==t&&sn(i,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Ir(i)&&V(t,"bpmn:FlowNode")&&!V(t,"bpmn:BoundaryEvent")&&J5(t,i.parent)}function Pue(t,i){return!!Ir(i)||!(V(i,"bpmn:Lane")&&!function SWe(t,i){return t&&i&&-1!==t.indexOf(i)}(t,i.parent))}function Mue(t){return qP(t,"bpmn:Process")||qP(t,"bpmn:Collaboration")}jt(ya,Eu),ya.$inject=["eventBus"],ya.prototype.init=function(){this.addRule("connection.start",function(t){return function cWe(t){return w$(t)?null:sn(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(t.source)}),this.addRule("connection.create",function(t){var i=t.source,o=t.target,s=t.hints||{},a=s.targetParent;if(s.targetAttach)return!1;a&&(o.parent=a);try{return EM(i,o)}finally{a&&(o.parent=null)}}),this.addRule("connection.reconnect",function(t){return EM(t.source,t.target,t.connection)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){return Cue(t.shape,t.newBounds)}),this.addRule("elements.create",function(t){var i=t.elements,o=t.position,s=t.target;return!(Mi(s)&&!xM(i,s))&&$3(i,function(a){return Mi(a)?EM(a.source,a.target,a):a.host?tC(a,a.host,0,o):P$(a,s,null)})}),this.addRule("elements.move",function(t){var i=t.target,o=t.shapes,s=t.position;return tC(o,i,0,s)||xue(o,i,s)||wue(o,i)||xM(o,i)}),this.addRule("shape.create",function(t){return P$(t.shape,t.target,t.source)}),this.addRule("shape.attach",function(t){return tC(t.shape,t.target,0,t.position)}),this.addRule("element.copy",function(t){return Pue(t.elements,t.element)})},ya.prototype.canConnectMessageFlow=Due,ya.prototype.canConnectSequenceFlow=Tue,ya.prototype.canConnectDataAssociation=M$,ya.prototype.canConnectAssociation=Sue,ya.prototype.canMove=wue,ya.prototype.canAttach=tC,ya.prototype.canReplace=xue,ya.prototype.canDrop=J5,ya.prototype.canInsert=xM,ya.prototype.canCreate=P$,ya.prototype.canConnect=EM,ya.prototype.canResize=Cue,ya.prototype.canCopy=Pue;const DWe={__depends__:[op],__init__:["bpmnRules"],bpmnRules:["type",ya]};function Oue(t,i){t.on("saveXML.start",2e3,function o(){_e(i.getRootElements(),function(a){var u,l=Mr(a);u=Fo(On(g6([a],!1),function(p){return p!==a&&!p.labelTarget}),Mr),l.set("planeElement",u)})})}Oue.$inject=["eventBus","canvas"];const PWe={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",Oue]};function wM(t){ft.call(this,t);var i=this;this.preExecute(["shape.create","connection.create"],function(o){var s=o.context,c=i.getOrdering(s.shape||s.connection,s.parent);c&&(void 0!==c.parent&&(s.parent=c.parent),s.parentIndex=c.index)}),this.preExecute(["shape.move","connection.move"],function(o){var s=o.context,a=s.shape||s.connection,c=i.getOrdering(a,s.newParent||a.parent);c&&(void 0!==c.parent&&(s.newParent=c.parent),s.newParentIndex=c.index)})}function O$(t,i,o){wM.call(this,t);var s=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function l(u){var p=u.order;if(p||(u.order=p=function a(u){if(u.labelTarget)return{level:10};var p=Qn(s,function(h){return sn(u,[h.type])});return p&&p.order||{level:1}}(u)),!p)throw new Error("no order for <"+u.id+">");return p}this.getOrdering=function(u,p){if(u.labelTarget)return{parent:i.findRoot(p)||i.getRootElement(),index:-1};var h=l(u);h.containers&&(p=function c(u,p,h){for(var g=p;g&&!sn(g,h);)g=g.parent;if(!g)throw new Error("no parent for <"+u.id+"> in <"+(p&&p.id)+">");return g}(u,p,h.containers));var g=p.children.indexOf(u),y=Zx(p.children,function(E){return!(!u.labelTarget&&E.labelTarget)&&h.level<l(E).level});return-1!==y&&-1!==g&&g<y&&(y-=1),{index:y,parent:p}}}wM.prototype.getOrdering=function(t,i){return null},jt(wM,ft),O$.$inject=["eventBus","canvas","translate"],jt(O$,wM);const MWe={__depends__:[fP],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",O$]};function Iy(t,i){this._eventBus=t,this._dragging=i,this._tools=[],this._active=null}Iy.$inject=["eventBus","dragging"],Iy.prototype.registerTool=function(t,i){var o=this._tools;if(!i)throw new Error('A tool has to be registered with it\'s "events"');o.push(t),this.bindEvents(t,i)},Iy.prototype.isActive=function(t){return t&&this._active===t},Iy.prototype.length=function(t){return this._tools.length},Iy.prototype.setActive=function(t){var i=this._eventBus;this._active!==t&&(this._active=t,i.fire("tool-manager.update",{tool:t}))},Iy.prototype.bindEvents=function(t,i){var o=this._eventBus,s=this._dragging,a=[];o.on(i.tool+".init",function(l){if(!l.context.reactivate&&this.isActive(t))return this.setActive(null),void s.cancel();this.setActive(t)},this),_e(i,function(l){a.push(l+".ended"),a.push(l+".canceled")}),o.on(a,250,function(l){this._active&&(function kWe(t){var i=t.originalEvent&&t.originalEvent.target;return i&&Cf(i,'.group[data-group="tools"]')}(l)||this.setActive(null))},this)};const CM={__depends__:[Wf],__init__:["toolManager"],toolManager:["type",Iy]};function nC(t,i){return-1!==t.indexOf(i)}var k$=Math.abs,NWe=Math.round,Kf={x:"width",y:"height"},a1={n:"top",w:"left",s:"bottom",e:"right"},LWe=1500,SM={n:"s",w:"e",s:"n",e:"w"};function Tu(t,i,o,s,a,l,c){this._canvas=t,this._dragging=i,this._eventBus=o,this._modeling=s,this._rules=a,this._toolManager=l,this._mouse=c;var u=this;l.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),o.on("spaceTool.selection.end",function(p){o.once("spaceTool.selection.ended",function(){u.activateMakeSpace(p.originalEvent)})}),o.on("spaceTool.move",LWe,function(p){var h=p.context,g=h.initialized;g||(g=h.initialized=u.init(p,h)),g&&Rue(p)}),o.on("spaceTool.end",function(p){var h=p.context,g=h.axis,y=h.direction,E=h.movingShapes,C=h.resizingShapes,D=h.start;if(h.initialized){Rue(p);var O={x:0,y:0};O[g]=NWe(p["d"+g]),u.makeSpace(E,C,O,y,D),o.once("spaceTool.ended",function(A){u.activateSelection(A.originalEvent,!0,!0)})}})}function Aue(t){return{top:t.top-20,right:t.right+20,bottom:t.bottom+20,left:t.left-20}}function Rue(t){var s,a,o=t.context.spaceToolConstraints;o&&(gn(o.left)&&(s=Math.max(t.x,o.left),t.dx=t.dx+s-t.x,t.x=s),gn(o.right)&&(s=Math.min(t.x,o.right),t.dx=t.dx+s-t.x,t.x=s),gn(o.top)&&(a=Math.max(t.y,o.top),t.dy=t.dy+a-t.y,t.y=a),gn(o.bottom)&&(a=Math.min(t.y,o.bottom),t.dy=t.dy+a-t.y,t.y=a))}function Ny(t,i){return-1!==t.indexOf(i)}Tu.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],Tu.prototype.activateSelection=function(t,i,o){this._dragging.init(t,"spaceTool.selection",{autoActivate:i,cursor:"crosshair",data:{context:{reactivate:o}},trapClick:!1})},Tu.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},Tu.prototype.makeSpace=function(t,i,o,s,a){return this._modeling.createSpace(t,i,o,s,a)},Tu.prototype.init=function(t,i){var o=k$(t.dx)>k$(t.dy)?"x":"y",s=t["d"+o],a=t[o]-s;if(k$(s)<5)return!1;s<0&&(s*=-1),V5(t)&&(s*=-1);var l=function AWe(t,i){if("x"===t){if(i>0)return"e";if(i<0)return"w"}if("y"===t){if(i>0)return"s";if(i<0)return"n"}return null}(o,s),c=this._canvas.getRootElement();!jV(t)&&t.hover&&(c=t.hover);var u=[...g6(c,!0),...c.attachers||[]],p=this.calculateAdjustments(u,o,s,a),g=function FWe(t,i,o,s,a){var l=t.movingShapes,c=t.resizingShapes;if(c.length){var p,h,u={};return _e(c,function(g){var A,F,N,q,ee,te,y=g.attachers,E=g.children,C=ln(g),D=On(E,function(he){return!(Mi(he)||Ir(he)||Ny(l,he)||Ny(c,he))}),O=On(E,function(he){return!Mi(he)&&!Ir(he)&&Ny(l,he)}),B=[],j=[];D.length&&(F=Aue(ln(jo(D))),A=s-C[a1[o]]+F[a1[o]],"n"===o?u.bottom=h=gn(h)?Math.min(h,A):A:"w"===o?u.right=h=gn(h)?Math.min(h,A):A:"s"===o?u.top=p=gn(p)?Math.max(p,A):A:"e"===o&&(u.left=p=gn(p)?Math.max(p,A):A)),O.length&&(N=Aue(ln(jo(O))),A=s-N[a1[SM[o]]]+C[a1[SM[o]]],"n"===o?u.bottom=h=gn(h)?Math.min(h,A):A:"w"===o?u.right=h=gn(h)?Math.min(h,A):A:"s"===o?u.top=p=gn(p)?Math.max(p,A):A:"e"===o&&(u.left=p=gn(p)?Math.max(p,A):A)),y&&y.length&&(y.forEach(function(he){Ny(l,he)?B.push(he):j.push(he)}),B.length&&(q=ln(jo(B.map(Sn))),ee=C[a1[SM[o]]]-(q[a1[SM[o]]]-s)),j.length&&(te=ln(jo(j.map(Sn)))[a1[o]]-(C[a1[o]]-s)),"n"===o?(A=Math.min(ee||1/0,te||1/0),u.bottom=h=gn(h)?Math.min(h,A):A):"w"===o?(A=Math.min(ee||1/0,te||1/0),u.right=h=gn(h)?Math.min(h,A):A):"s"===o?(A=Math.max(ee||-1/0,te||-1/0),u.top=p=gn(p)?Math.max(p,A):A):"e"===o&&(A=Math.max(ee||-1/0,te||-1/0),u.left=p=gn(p)?Math.max(p,A):A));var ne=a&&a[g.id];ne&&("n"===o?(A=s+g[Kf[i]]-ne[Kf[i]],u.bottom=h=gn(h)?Math.min(h,A):A):"w"===o?(A=s+g[Kf[i]]-ne[Kf[i]],u.right=h=gn(h)?Math.min(h,A):A):"s"===o?(A=s-g[Kf[i]]+ne[Kf[i]],u.top=p=gn(p)?Math.max(p,A):A):"e"===o&&(A=s-g[Kf[i]]+ne[Kf[i]],u.left=p=gn(p)?Math.max(p,A):A))}),u}}(p,o,l,a,this._eventBus.fire("spaceTool.getMinDimensions",{axis:o,direction:l,shapes:p.resizingShapes,start:a}));return Re(i,p,{axis:o,direction:l,spaceToolConstraints:g,start:a}),xP("resize-"+("x"===o?"ew":"ns")),!0},Tu.prototype.calculateAdjustments=function(t,i,o,s){var a=this._rules,l=[],c=[],u=[],p=[];function h(E){l.includes(E)||l.push(E);var C=E.label;C&&!l.includes(C)&&l.push(C)}_e(t,function(E){if(E.parent&&!Ir(E)){if(Mi(E))return void p.push(E);var C=E[i],D=C+E[Kf[i]];if(function BWe(t){return!!t.host}(E)&&(o>0&&Sn(E)[i]>s||o<0&&Sn(E)[i]<s))return void u.push(E);if(o>0&&C>s||o<0&&D<s)return void h(E);if(C<s&&D>s&&a.allowed("shape.resize",{shape:E}))return void function g(E){c.includes(E)||c.push(E)}(E)}}),_e(l,function(E){var C=E.attachers;C&&_e(C,function(D){h(D)})});var y=l.concat(c);return _e(u,function(E){Ny(y,E.host)&&h(E)}),y=l.concat(c),_e(p,function(E){var D=E.target,O=E.label;Ny(y,E.source)&&Ny(y,D)&&O&&h(O)}),{movingShapes:l,resizingShapes:c}},Tu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)},Tu.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^spaceTool/.test(t.prefix)};var A$="djs-dragging",Iue="djs-resizing",TM=Math.max;function Nue(t,i,o,s,a){function l(c,u){_e(c,function(p){a.addDragger(p,u),o.addMarker(p,A$)})}t.on("spaceTool.selection.start",function(c){var u=o.getLayer("space"),p=c.context,g=an("g");Mt(g,s.cls("djs-crosshair-group",["no-events"])),bn(u,g);var y=an("path");Mt(y,"d","M 0,-10000 L 0,10000"),ur(y).add("djs-crosshair"),bn(g,y);var E=an("path");Mt(E,"d","M -10000,0 L 10000,0"),ur(E).add("djs-crosshair"),bn(g,E),p.crosshairGroup=g}),t.on("spaceTool.selection.move",function(c){ec(c.context.crosshairGroup,c.x,c.y)}),t.on("spaceTool.selection.cleanup",function(c){var p=c.context.crosshairGroup;p&&Eo(p)}),t.on("spaceTool.move",250,function(c){var u=c.context,p=u.line,h=u.axis,g=u.movingShapes,y=u.resizingShapes;if(u.initialized){if(!u.dragGroup){var E=o.getLayer("space");Mt(p=an("path"),"d","M0,0 L0,0"),ur(p).add("djs-crosshair"),bn(E,p),u.line=p;var C=an("g");Mt(C,s.cls("djs-drag-group",["no-events"])),bn(o.getActiveLayer(),C),l(g,C),l(u.movingConnections=i.filter(function(j){var q=!1;_e(g,function(ne){_e(ne.outgoing,function(he){j===he&&(q=!0)})});var ee=!1;_e(g,function(ne){_e(ne.incoming,function(he){j===he&&(ee=!0)})});var ae=!1;_e(y,function(ne){_e(ne.outgoing,function(he){j===he&&(ae=!0)})});var te=!1;return _e(y,function(ne){_e(ne.incoming,function(he){j===he&&(te=!0)})}),Mi(j)&&(q||ae)&&(ee||te)}),C),u.dragGroup=C}if(!u.frameGroup){var O=an("g");Mt(O,s.cls("djs-frame-group",["no-events"])),bn(o.getActiveLayer(),O);var A=[];_e(y,function(j){var q=a.addFrame(j,O),ee=q.getBBox();A.push({element:q,initialBounds:ee}),o.addMarker(j,Iue)}),u.frameGroup=O,u.frames=A}Mt(p,{d:{x:"M"+c.x+", -10000 L"+c.x+", 10000",y:"M -10000, "+c.y+" L 10000, "+c.y}[h]});var B={x:c.dx,y:c.dy};B[{x:"y",y:"x"}[u.axis]]=0,ec(u.dragGroup,B.x,B.y),_e(u.frames,function(j){var ae,te,q=j.element,ee=j.initialBounds;Mt(q,"e"===u.direction?{width:TM(ee.width+B.x,5)}:{width:ae=TM(ee.width-B.x,5),x:ee.x+ee.width-ae}),Mt(q,"s"===u.direction?{height:TM(ee.height+B.y,5)}:{height:te=TM(ee.height-B.y,5),y:ee.y+ee.height-te})})}}),t.on("spaceTool.cleanup",function(c){var u=c.context,h=u.movingConnections,g=u.resizingShapes,y=u.line,E=u.dragGroup,C=u.frameGroup;_e(u.movingShapes,function(D){o.removeMarker(D,A$)}),_e(h,function(D){o.removeMarker(D,A$)}),E&&(Eo(y),Eo(E)),_e(g,function(D){o.removeMarker(D,Iue)}),C&&Eo(C)})}Nue.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const jWe={__init__:["spaceToolPreview"],__depends__:[Wf,op,CM,$6,H6],spaceTool:["type",Tu],spaceToolPreview:["type",Nue]};function PM(t){t.invoke(Tu,this)}PM.$inject=["injector"],jt(PM,Tu),PM.prototype.calculateAdjustments=function(t,i,o,s){var a=Tu.prototype.calculateAdjustments.call(this,t,i,o,s);return a.resizingShapes=a.resizingShapes.filter(function(l){return!(V(l,"bpmn:TextAnnotation")||"y"===i&&function $We(t){return V(t,"bpmn:Participant")&&!le(t).processRef}(l))}),a};const Lue={__depends__:[jWe],spaceTool:["type",PM]};function co(t,i){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=i,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}co.$inject=["eventBus","injector"],co.prototype.execute=function(t,i){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const o={command:t,context:i};this._pushAction(o),this._internalExecute(o),this._popAction()},co.prototype.canExecute=function(t,i){const o={command:t,context:i},s=this._getHandler(t);let a=this._fire(t,"canExecute",o);if(void 0===a){if(!s)return!1;s.canExecute&&(a=s.canExecute(i))}return a},co.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,!1!==t&&this._fire("changed",{trigger:"clear"})},co.prototype.undo=function(){let i,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),i=this._getUndoAction(),i&&i.id===t.id);)t=i;this._popAction()}},co.prototype.redo=function(){let i,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),i=this._getRedoAction(),i&&i.id===t.id);)t=i;this._popAction()}},co.prototype.register=function(t,i){this._setHandler(t,i)},co.prototype.registerHandler=function(t,i){if(!t||!i)throw new Error("command and handlerCls must be defined");const o=this._injector.instantiate(i);this.register(t,o)},co.prototype.canUndo=function(){return!!this._getUndoAction()},co.prototype.canRedo=function(){return!!this._getRedoAction()},co.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},co.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},co.prototype._internalUndo=function(t){const i=t.command,o=t.context,s=this._getHandler(i);this._atomicDo(()=>{this._fire(i,"revert",t),s.revert&&this._markDirty(s.revert(o)),this._revertedAction(t),this._fire(i,"reverted",t)})},co.prototype._fire=function(t,i,o){arguments.length<3&&(o=i,i=null);const s=i?[t+"."+i,i]:[t];let a;o=this._eventBus.createEvent(o);for(const l of s)if(a=this._eventBus.fire("commandStack."+l,o),o.cancelBubble)break;return a},co.prototype._createId=function(){return this._uid++},co.prototype._atomicDo=function(t){const i=this._currentExecution;i.atomic=!0;try{t()}finally{i.atomic=!1}},co.prototype._internalExecute=function(t,i){const o=t.command,s=t.context,a=this._getHandler(o);if(!a)throw new Error("no command handler registered for <"+o+">");this._pushAction(t),i||(this._fire(o,"preExecute",t),a.preExecute&&a.preExecute(s),this._fire(o,"preExecuted",t)),this._atomicDo(()=>{this._fire(o,"execute",t),a.execute&&this._markDirty(a.execute(s)),this._executedAction(t,i),this._fire(o,"executed",t)}),i||(this._fire(o,"postExecute",t),a.postExecute&&a.postExecute(s),this._fire(o,"postExecuted",t)),this._popAction()},co.prototype._pushAction=function(t){const i=this._currentExecution,o=i.actions,s=o[0];if(i.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=s&&s.id||this._createId()),o.push(t)},co.prototype._popAction=function(){const t=this._currentExecution,i=t.trigger,o=t.actions,s=t.dirty;o.pop(),o.length||(this._eventBus.fire("elements.changed",{elements:ZX("id",s.reverse())}),s.length=0,this._fire("changed",{trigger:i}),t.trigger=null)},co.prototype._markDirty=function(t){const i=this._currentExecution;t&&(t=Rn(t)?t:[t],i.dirty=i.dirty.concat(t))},co.prototype._executedAction=function(t,i){const o=++this._stackIdx;i||this._stack.splice(o,this._stack.length,t)},co.prototype._revertedAction=function(t){this._stackIdx--},co.prototype._getHandler=function(t){return this._handlerMap[t]},co.prototype._setHandler=function(t,i){if(!t||!i)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=i};const zWe={commandStack:["type",co]};function l1(t,i){if("function"!=typeof i)throw new Error("removeFn iterator must be a function");if(t){for(var o;o=t[0];)i(o);return t}}function R$(t,i,o){ft.call(this,i);var s=t.get("movePreview",!1);i.on("shape.move.start",1400,function(a){var l=a.context,u=l.validatedShapes;l.shapes=Bue(l.shapes),l.validatedShapes=Bue(u)}),s&&i.on("shape.move.start",250,function(a){var l=a.context,u=[];_e(l.shapes,function(p){_e(p.labels,function(h){!h.hidden&&-1===l.shapes.indexOf(h)&&u.push(h),p.labelTarget&&u.push(p)})}),_e(u,function(p){s.makeDraggable(l,p,!0)})}),this.preExecuted("elements.move",1400,function(a){var c=a.context.closure,u=c.enclosedElements,p=[];_e(u,function(h){_e(h.labels,function(g){u[g.id]||p.push(g)})}),c.addAll(p)}),this.preExecute(["connection.delete","shape.delete"],function(a){var l=a.context;l1((l.connection||l.shape).labels,function(u){o.removeShape(u,{nested:!0})})}),this.execute("shape.delete",function(a){var l=a.context,c=l.shape,u=c.labelTarget;u&&(l.labelTargetIndex=_V(u.labels,c),l.labelTarget=u,c.labelTarget=null)}),this.revert("shape.delete",function(a){var l=a.context,c=l.shape,u=l.labelTarget;u&&(ns(u.labels,c,l.labelTargetIndex),c.labelTarget=u)})}function Bue(t){return On(t,function(i){return-1===t.indexOf(i.labelTarget)})}jt(R$,ft),R$.$inject=["injector","eventBus","modeling"];const UWe={__init__:["labelSupport"],labelSupport:["type",R$]};function I$(t,i,o,s,a){ft.call(this,i);var l=t.get("movePreview",!1);i.on("shape.move.start",1401,function(c){var u=c.context,h=u.validatedShapes;u.shapes=function qWe(t){var i=N$(t);return I5e("id",t,i)}(u.shapes),u.validatedShapes=function WWe(t){var i=Bv(t,"id");return On(t,function(o){for(;o;){if(o.host&&i[o.host.id])return!1;o=o.parent}return!0})}(h)}),l&&i.on("shape.move.start",251,function(c){var u=c.context;_e(N$(u.shapes),function(g){l.makeDraggable(u,g,!0),_e(g.labels,function(y){l.makeDraggable(u,y,!0)})})}),l&&i.on("shape.move.start",function(c){var p=c.context.shapes;if(1===p.length){var g=p[0].host;g&&(o.addMarker(g,"attach-ok"),i.once(["shape.move.out","shape.move.cleanup"],function(){o.removeMarker(g,"attach-ok")}))}}),this.preExecuted("elements.move",1401,function(c){var u=c.context,p=u.closure;_e(N$(u.shapes),function(y){p.add(y,p.topLevel[y.host.id])})}),this.postExecuted("elements.move",function(c){var g,u=c.context,p=u.shapes,h=u.newHost;h&&1!==p.length||(g=h?p:On(p,function(y){var E=y.host;return function XWe(t){return!!t.host}(y)&&!function YWe(t,i){return-1!==t.indexOf(i)}(p,E)}),_e(g,function(y){a.updateAttachment(y,h)}))}),this.postExecuted("elements.move",function(c){_e(c.context.shapes,function(p){_e(p.attachers,function(h){_e(h.outgoing.slice(),function(g){s.allowed("connection.reconnect",{connection:g,source:g.source,target:g.target})||a.removeConnection(g)}),_e(h.incoming.slice(),function(g){s.allowed("connection.reconnect",{connection:g,source:g.source,target:g.target})||a.removeConnection(g)})})})}),this.postExecute("shape.create",function(c){var u=c.context,h=u.host;h&&a.updateAttachment(u.shape,h)}),this.postExecute("shape.replace",function(c){var u=c.context,p=u.oldShape,h=u.newShape;l1(p.attachers,function(g){"attach"===s.allowed("elements.move",{target:h,shapes:[g]})?a.updateAttachment(g,h):a.removeShape(g)}),h.attachers.length&&_e(h.attachers,function(g){var y=eue(g,p,h);a.moveShape(g,y,g.parent)})}),this.postExecute("shape.resize",function(c){var u=c.context,h=u.oldBounds,g=u.newBounds;!1!==(u.hints||{}).attachSupport&&_e(u.shape.attachers,function(C){var D=eue(C,h,g);a.moveShape(C,D,C.parent),_e(C.labels,function(O){a.moveShape(O,D,O.parent)})})}),this.preExecute("shape.delete",function(c){var u=c.context.shape;l1(u.attachers,function(p){a.removeShape(p)}),u.host&&a.updateAttachment(u,null)})}function N$(t){return Kx(Fo(t,function(i){return i.attachers||[]}))}jt(I$,ft),I$.$inject=["injector","eventBus","canvas","rules","modeling"];const KWe={__depends__:[op],__init__:["attachSupport"],attachSupport:["type",I$]};function Pu(t){this._model=t}function tc(t,i,o,s){ft.call(this,t),this._bpmnFactory=i,this._translate=s;var a=this;function p(D){_e(D.context.oldRoot.children,function(N){V(N,"bpmn:BaseElement")&&a.updateParent(N)})}function h(D){var O=D.context.shape;V(O,"bpmn:BaseElement")&&a.updateBounds(O)}function g(D){a.updateConnection(D.context)}function y(D){a.updateConnectionWaypoints(D.context.connection)}function E(D){a.updateAttachment(D.context)}function C(D){const{element:O}=D.context,A=Ic(O),F=Mr(O),N=F&&F.get("label");cy(O)||(A&&!N?F.set("label",i.create("bpmndi:BPMNLabel")):!A&&N&&F.set("label",void 0))}this.executed(["connection.layout","connection.create"],function l(D){var F,O=D.context;!O.cropped&&!1!==(O.hints||{}).createElementsBehavior&&((F=O.connection).waypoints=o.getCroppedWaypoints(F),O.cropped=!0)}),this.reverted(["connection.layout"],function(D){delete D.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],nc(function c(D){var O=D.context;a.updateParent(O.shape||O.connection,O.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],nc(function u(D){var O=D.context;a.updateParent(O.shape||O.connection,O.parent||O.newParent)})),this.executed(["canvas.updateRoot"],p),this.reverted(["canvas.updateRoot"],p),this.executed(["shape.move","shape.create","shape.resize"],nc(function(D){"label"!==D.context.shape.type&&h(D)})),this.reverted(["shape.move","shape.create","shape.resize"],nc(function(D){"label"!==D.context.shape.type&&h(D)})),t.on("shape.changed",function(D){"label"===D.element.type&&h({context:{shape:D.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],nc(g)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],nc(g)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],nc(y)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],nc(y)),this.executed("connection.reconnect",nc(function(D){var O=D.context,F=O.oldSource,N=O.newSource,B=le(O.connection),j=le(F),q=le(N);B.conditionExpression&&!sn(q,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(O.oldConditionExpression=B.conditionExpression,delete B.conditionExpression),F!==N&&j.default===B&&(O.oldDefault=j.default,delete j.default)})),this.reverted("connection.reconnect",nc(function(D){var O=D.context,F=O.oldSource,N=O.newSource,B=le(O.connection),j=le(F),q=le(N);O.oldConditionExpression&&(B.conditionExpression=O.oldConditionExpression),O.oldDefault&&(j.default=O.oldDefault,delete q.default)})),this.executed(["element.updateAttachment"],nc(E)),this.reverted(["element.updateAttachment"],nc(E)),this.executed("element.updateLabel",nc(C)),this.reverted("element.updateLabel",nc(C))}function nc(t){return function(i){var o=i.context;V(o.shape||o.connection||o.element,"bpmn:BaseElement")&&t(i)}}function c1(t,i,o){Vf.call(this),this._bpmnFactory=t,this._moddle=i,this._translate=o}function $ue(t,i,o){return void 0===i[o]?i:(t[o]=i[o],Fd(i,[o]))}function MM(t,i){this._modeling=t,this._canvas=i}function OM(t){this._modeling=t}function kM(t,i){this._canvas=t,this._layouter=i}Pu.$inject=["moddle"],Pu.prototype._needsId=function(t){return sn(t,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Pu.prototype._ensureId=function(t){var i;t.id?this._model.ids.claim(t.id,t):(i=V(t,"bpmn:Activity")?"Activity":V(t,"bpmn:Event")?"Event":V(t,"bpmn:Gateway")?"Gateway":sn(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(t.$type||"").replace(/^[^:]*:/g,""),i+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(i,t)))},Pu.prototype.create=function(t,i){var o=this._model.create(t,i||{});return this._ensureId(o),o},Pu.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Pu.prototype.createDiShape=function(t,i){return this.create("bpmndi:BPMNShape",Re({bpmnElement:t,bounds:this.createDiBounds()},i))},Pu.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)},Pu.prototype.createDiWaypoints=function(t){var i=this;return Fo(t,function(o){return i.createDiWaypoint(o)})},Pu.prototype.createDiWaypoint=function(t){return this.create("dc:Point",y0(t,["x","y"]))},Pu.prototype.createDiEdge=function(t,i){return this.create("bpmndi:BPMNEdge",Re({bpmnElement:t,waypoint:this.createDiWaypoints([])},i))},Pu.prototype.createDiPlane=function(t,i){return this.create("bpmndi:BPMNPlane",Re({bpmnElement:t},i))},jt(tc,ft),tc.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],tc.prototype.updateAttachment=function(t){var i=t.shape,s=i.host;i.businessObject.attachedToRef=s&&s.businessObject},tc.prototype.updateParent=function(t,i){if(!(Ir(t)||V(t,"bpmn:DataStoreReference")&&t.parent&&V(t.parent,"bpmn:Collaboration"))){var o=t.parent,s=t.businessObject,a=Mr(t),l=o&&o.businessObject,c=Mr(o);V(t,"bpmn:FlowNode")&&this.updateFlowNodeRefs(s,l,i&&i.businessObject),V(t,"bpmn:DataOutputAssociation")&&(l=t.source?t.source.businessObject:null),V(t,"bpmn:DataInputAssociation")&&(l=t.target?t.target.businessObject:null),this.updateSemanticParent(s,l),V(t,"bpmn:DataObjectReference")&&s.dataObjectRef&&this.updateSemanticParent(s.dataObjectRef,l),this.updateDiParent(a,c)}},tc.prototype.updateBounds=function(t){var i=Mr(t),o=function ZWe(t){if(V(t,"bpmn:Activity")){var i=Mr(t);if(i){var o=i.get("label");if(o)return o.get("bounds")}}}(t);if(o){var s=T0(o,i.get("bounds"));Re(o,{x:t.x+s.x,y:t.y+s.y})}var a=Ir(t)?this._getLabel(i):i,l=a.bounds;l||(l=this._bpmnFactory.createDiBounds(),a.set("bounds",l)),Re(l,{x:t.x,y:t.y,width:t.width,height:t.height})},tc.prototype.updateFlowNodeRefs=function(t,i,o){o!==i&&(V(o,"bpmn:Lane")&&$o(o.get("flowNodeRef"),t),V(i,"bpmn:Lane")&&ns(i.get("flowNodeRef"),t))},tc.prototype.updateDiConnection=function(t,i,o){var s=Mr(t),a=Mr(i),l=Mr(o);s.sourceElement&&s.sourceElement.bpmnElement!==le(i)&&(s.sourceElement=i&&a),s.targetElement&&s.targetElement.bpmnElement!==le(o)&&(s.targetElement=o&&l)},tc.prototype.updateDiParent=function(t,i){if(i&&!V(i,"bpmndi:BPMNPlane")&&(i=i.$parent),t.$parent!==i){var o=(i||t.$parent).get("planeElement");i?(o.push(t),t.$parent=i):($o(o,t),t.$parent=null)}},tc.prototype.getLaneSet=function(t){var i,o;return V(t,"bpmn:Lane")?((i=t.childLaneSet)||(i=this._bpmnFactory.create("bpmn:LaneSet"),t.childLaneSet=i,i.$parent=t),i):(V(t,"bpmn:Participant")&&(t=t.processRef),(i=(o=t.get("laneSets"))[0])||((i=this._bpmnFactory.create("bpmn:LaneSet")).$parent=t,o.push(i)),i)},tc.prototype.updateSemanticParent=function(t,i,o){var s,a=this._translate;if(t.$parent!==i&&(!V(t,"bpmn:DataInput")&&!V(t,"bpmn:DataOutput")||(V(i,"bpmn:Participant")&&"processRef"in i&&(i=i.processRef),!("ioSpecification"in i)||i.ioSpecification!==t.$parent))){if(V(t,"bpmn:Lane"))i&&(i=this.getLaneSet(i)),s="lanes";else if(V(t,"bpmn:FlowElement")){if(i)if(V(i,"bpmn:Participant"))i=i.processRef;else if(V(i,"bpmn:Lane"))do{i=i.$parent.$parent}while(V(i,"bpmn:Lane"));s="flowElements"}else if(V(t,"bpmn:Artifact")){for(;i&&!V(i,"bpmn:Process")&&!V(i,"bpmn:SubProcess")&&!V(i,"bpmn:Collaboration");){if(V(i,"bpmn:Participant")){i=i.processRef;break}i=i.$parent}s="artifacts"}else if(V(t,"bpmn:MessageFlow"))s="messageFlows";else if(V(t,"bpmn:Participant")){s="participants";var c,l=t.processRef;l&&(c=function QWe(t){for(;t&&!V(t,"bpmn:Definitions");)t=t.$parent;return t}(t.$parent||i),t.$parent&&($o(c.get("rootElements"),l),l.$parent=null),i&&(ns(c.get("rootElements"),l),l.$parent=c))}else V(t,"bpmn:DataOutputAssociation")?s="dataOutputAssociations":V(t,"bpmn:DataInputAssociation")&&(s="dataInputAssociations");if(!s)throw new Error(a("no parent for {element} in {parent}",{element:t.id,parent:i.id}));var u;if(t.$parent&&$o(u=t.$parent.get(s),t),i?((u=i.get(s)).push(t),t.$parent=i):t.$parent=null,o){var p=o.get(s);$o(u,t),i&&(p||i.set(s,p=[]),p.push(t))}}},tc.prototype.updateConnectionWaypoints=function(t){Mr(t).set("waypoint",this._bpmnFactory.createDiWaypoints(t.waypoints))},tc.prototype.updateConnection=function(t){var i=t.connection,o=le(i),s=i.source,a=le(s),l=i.target,c=le(i.target);if(V(o,"bpmn:DataAssociation"))V(o,"bpmn:DataInputAssociation")?(o.get("sourceRef")[0]=a,this.updateSemanticParent(o,c,t.parent||t.newParent||c)):V(o,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(o,a,t.parent||t.newParent||a),o.targetRef=c);else{var p=V(o,"bpmn:SequenceFlow");o.sourceRef!==a&&(p&&($o(o.sourceRef&&o.sourceRef.get("outgoing"),o),a&&a.get("outgoing")&&a.get("outgoing").push(o)),o.sourceRef=a),o.targetRef!==c&&(p&&($o(o.targetRef&&o.targetRef.get("incoming"),o),c&&c.get("incoming")&&c.get("incoming").push(o)),o.targetRef=c)}this.updateConnectionWaypoints(i),this.updateDiConnection(i,s,l)},tc.prototype._getLabel=function(t){return t.label||(t.label=this._bpmnFactory.createDiLabel()),t.label},jt(c1,Vf),c1.$inject=["bpmnFactory","moddle","translate"],c1.prototype._baseCreate=Vf.prototype.create,c1.prototype.create=function(t,i){if("label"===t){var o=i.di||this._bpmnFactory.createDiLabel();return this._baseCreate(t,Re({type:"label",di:o},r6,i))}return this.createElement(t,i)},c1.prototype.createElement=function(t,i){var o,u,p,s=this._translate,a=(i=Re({},i||{})).businessObject,l=i.di;if(!a){if(!i.type)throw new Error(s("no shape type specified"));Cse(a=this._bpmnFactory.create(i.type))}if(!function eXe(t){return sn(t,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}(l)){var c=Re({},l||{},{id:a.id+"_di"});l="root"===t?this._bpmnFactory.createDiPlane(a,c):"connection"===t?this._bpmnFactory.createDiEdge(a,c):this._bpmnFactory.createDiShape(a,c)}return V(a,"bpmn:Group")&&(i=Re({isFrame:!0},i)),i=function JWe(t,i,o){return _e(o,function(s){i=$ue(t,i,s)}),i}(a,i,["processRef","isInterrupting","associationDirection","isForCompensation"]),i.isExpanded&&(i=$ue(l,i,"isExpanded")),V(a,"bpmn:SubProcess")&&(i.collapsed=!mr(a,l)),V(a,"bpmn:ExclusiveGateway")&&(l.isMarkerVisible=!0),Bi(i.triggeredByEvent)&&(a.triggeredByEvent=i.triggeredByEvent,delete i.triggeredByEvent),Bi(i.cancelActivity)&&(a.cancelActivity=i.cancelActivity,delete i.cancelActivity),i.eventDefinitionType&&(u=a.get("eventDefinitions")||[],p=this._bpmnFactory.create(i.eventDefinitionType,i.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===i.eventDefinitionType&&(p.condition=this._bpmnFactory.create("bpmn:FormalExpression")),u.push(p),p.$parent=a,a.eventDefinitions=u,delete i.eventDefinitionType),o=this.getDefaultSize(a,l),i=Re({id:a.id},o,i,{businessObject:a,di:l}),this._baseCreate(t,i)},c1.prototype.getDefaultSize=function(t,i){var o=le(t);return i=i||Mr(t),V(o,"bpmn:SubProcess")?mr(o,i)?{width:350,height:200}:{width:100,height:80}:V(o,"bpmn:Task")?{width:100,height:80}:V(o,"bpmn:Gateway")?{width:50,height:50}:V(o,"bpmn:Event")?{width:36,height:36}:V(o,"bpmn:Participant")?mr(o,i)?{width:600,height:250}:{width:400,height:60}:V(o,"bpmn:Lane")?{width:400,height:100}:V(o,"bpmn:DataObjectReference")?{width:36,height:50}:V(o,"bpmn:DataStoreReference")?{width:50,height:50}:V(o,"bpmn:TextAnnotation")?{width:100,height:30}:V(o,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},c1.prototype.createParticipantShape=function(t){return Lo(t)||(t={isExpanded:t}),!1!==(t=Re({type:"bpmn:Participant"},t||{})).isExpanded&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)},MM.$inject=["modeling","canvas"],MM.prototype.preExecute=function(t){var i=this._modeling,s=t.alignment;_e(t.elements,function(a){var l={x:0,y:0};Bi(s.left)?l.x=s.left-a.x:Bi(s.right)?l.x=s.right-a.width-a.x:Bi(s.center)?l.x=s.center-Math.round(a.width/2)-a.x:Bi(s.top)?l.y=s.top-a.y:Bi(s.bottom)?l.y=s.bottom-a.height-a.y:Bi(s.middle)&&(l.y=s.middle-Math.round(a.height/2)-a.y),i.moveElements([a],l,a.parent)})},MM.prototype.postExecute=function(t){},OM.$inject=["modeling"],OM.prototype.preExecute=function(t){var i=t.source;if(!i)throw new Error("source required");var s=t.shape;s=t.shape=this._modeling.createShape(s,t.position,t.target||i.parent,{attach:(t.hints||{}).attach}),t.shape=s},OM.prototype.postExecute=function(t){var i=t.hints||{};(function tXe(t,i){return xf(t.outgoing,function(o){return o.target===i})})(t.source,t.shape)||(i.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))},kM.$inject=["canvas","layouter"],kM.prototype.execute=function(t){var i=t.connection,o=t.source,s=t.target,a=t.parent,l=t.parentIndex,c=t.hints;if(!o||!s)throw new Error("source and target required");if(!a)throw new Error("parent required");return i.source=o,i.target=s,i.waypoints||(i.waypoints=this._layouter.layoutConnection(i,c)),this._canvas.addConnection(i,a,l),i},kM.prototype.revert=function(t){var i=t.connection;return this._canvas.removeConnection(i),i.source=null,i.target=null,i};var AM=Math.round;function L$(t){this._modeling=t}L$.$inject=["modeling"],L$.prototype.preExecute=function(t){var i=t.elements,o=t.parent,s=t.parentIndex,a=t.position,l=t.hints,c=this._modeling;_e(i,function(y){gn(y.x)||(y.x=0),gn(y.y)||(y.y=0)});var p=jo(On(i,function(y){return!y.hidden}));_e(i,function(y){Mi(y)&&(y.waypoints=Fo(y.waypoints,function(E){return{x:AM(E.x-p.x-p.width/2+a.x),y:AM(E.y-p.y-p.height/2+a.y)}})),Re(y,{x:AM(y.x-p.x-p.width/2+a.x),y:AM(y.y-p.y-p.height/2+a.y)})});var h=eP(i),g={};_e(i,function(y){if(Mi(y))g[y.id]=gn(s)?c.createConnection(g[y.source.id],g[y.target.id],s,y,y.parent||o,l):c.createConnection(g[y.source.id],g[y.target.id],y,y.parent||o,l);else{var E=Re({},l);-1===h.indexOf(y)&&(E.autoResize=!1),Ir(y)&&(E=Fd(E,["attach"])),g[y.id]=gn(s)?c.createShape(y,y0(y,["x","y","width","height"]),y.parent||o,s,E):c.createShape(y,y0(y,["x","y","width","height"]),y.parent||o,E)}}),t.elements=gI(g)};var zue=Math.round;function u1(t){this._canvas=t}function rC(t){u1.call(this,t)}u1.$inject=["canvas"],u1.prototype.execute=function(t){var i=t.shape,o=t.position,s=t.parent,a=t.parentIndex;if(!s)throw new Error("parent required");if(!o)throw new Error("position required");return Re(i,void 0!==o.width?o:{x:o.x-zue(i.width/2),y:o.y-zue(i.height/2)}),this._canvas.addShape(i,s,a),i},u1.prototype.revert=function(t){var i=t.shape;return this._canvas.removeShape(i),i},jt(rC,u1),rC.$inject=["canvas"];var nXe=u1.prototype.execute;rC.prototype.execute=function(t){var i=t.shape;return function iXe(t){["width","height"].forEach(function(i){typeof t[i]>"u"&&(t[i]=0)})}(i),i.labelTarget=t.labelTarget,nXe.call(this,t)};var rXe=u1.prototype.revert;function iC(t,i){this._canvas=t,this._modeling=i}function F$(t,i){this._modeling=t,this._elementRegistry=i}function oC(t,i){this._canvas=t,this._modeling=i}function RM(t){this._modeling=t}rC.prototype.revert=function(t){return t.shape.labelTarget=null,rXe.call(this,t)},iC.$inject=["canvas","modeling"],iC.prototype.preExecute=function(t){var i=this._modeling,o=t.connection;l1(o.incoming,function(s){i.removeConnection(s,{nested:!0})}),l1(o.outgoing,function(s){i.removeConnection(s,{nested:!0})})},iC.prototype.execute=function(t){var i=t.connection,o=i.parent;return t.parent=o,t.parentIndex=_V(o.children,i),t.source=i.source,t.target=i.target,this._canvas.removeConnection(i),i.source=null,i.target=null,i},iC.prototype.revert=function(t){var i=t.connection,o=t.parent,s=t.parentIndex;return i.source=t.source,i.target=t.target,ns(o.children,i,s),this._canvas.addConnection(i,o),i},F$.$inject=["modeling","elementRegistry"],F$.prototype.postExecute=function(t){var i=this._modeling,o=this._elementRegistry;_e(t.elements,function(a){o.get(a.id)&&(a.waypoints?i.removeConnection(a):i.removeShape(a))})},oC.$inject=["canvas","modeling"],oC.prototype.preExecute=function(t){var i=this._modeling,o=t.shape;l1(o.incoming,function(s){i.removeConnection(s,{nested:!0})}),l1(o.outgoing,function(s){i.removeConnection(s,{nested:!0})}),l1(o.children,function(s){Mi(s)?i.removeConnection(s,{nested:!0}):i.removeShape(s,{nested:!0})})},oC.prototype.execute=function(t){var i=this._canvas,o=t.shape,s=o.parent;return t.oldParent=s,t.oldParentIndex=_V(s.children,o),i.removeShape(o),o},oC.prototype.revert=function(t){var i=this._canvas,o=t.shape,s=t.oldParent;return ns(s.children,o,t.oldParentIndex),i.addShape(o,s),o},RM.$inject=["modeling"];var Hue={x:"y",y:"x"};function IM(t,i){this._layouter=t,this._canvas=i}function B$(){}function V$(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function sC(t){this._modeling=t}function NM(t){this._helper=new sC(t)}function Ly(t){this._modeling=t,this._helper=new sC(t)}function aC(t){this._modeling=t}function Uue(t){return t.original||t}function Qf(t,i){this._modeling=t,this._rules=i}function lC(t){this._modeling=t}function d1(t){this._modeling=t}function Gue(t){return Re({},t)}function que(t){switch(t){case"n":case"s":return"y";case"w":case"e":return"x"}}function Wue(t,i,o){var s=que(o);return/e|s/.test(o)?t[s]>i:/n|w/.test(o)?t[s]<i:void 0}function p1(t,i){return-1!==t.indexOf(i)}function LM(t){this._modeling=t}function Xue(t){var i={};return _e(t,function(o){i[o.id]=o.hidden,o.children&&(i=Re({},i,Xue(o.children)))}),i}function Yue(t,i){var o=[];return _e(t,function(s){s.hidden=i,o=o.concat(s),s.children&&(o=o.concat(Yue(s.children,s.collapsed||i)))}),o}function Kue(t,i){var o=[];return _e(t,function(s){s.hidden=i[s.id],o=o.concat(s),s.children&&(o=o.concat(Kue(s.children,i)))}),o}function FM(t){this._modeling=t}function Que(t,i){return $o(t&&t.attachers,i)}function Zue(t,i,o){if(t){var s=t.attachers;s||(t.attachers=s=[]),ns(s,i,o)}}function j$(){}function hi(t,i,o){this._eventBus=t,this._elementFactory=i,this._commandStack=o;var s=this;t.on("diagram.init",function(){s.registerHandlers(o)})}function cC(t){this._elementRegistry=t}function Jue(t,i){_e(i,function(o,s){t.set(s,o)})}RM.prototype.preExecute=function(t){var i=this._modeling,o=t.groups,s=t.axis,a=t.dimension;function l(A,F){A.range.min=Math.min(F[s],A.range.min),A.range.max=Math.max(F[s]+F[a],A.range.max)}function c(A){return A[s]+A[a]/2}function u(A){return A.length-1}function p(A){return A.max-A.min}var C,D,g=o[0],y=u(o),E=o[y],O=0;_e(o,function(A,F){var N,B,j;A.elements.length<2?F&&F!==o.length-1&&(l(A,A.elements[0]),O+=p(A.range)):(B=(N=fs(A.elements,s))[0],F===y&&(B=N[u(N)]),j=c(B),A.range=null,_e(N,function(q){(function h(A,F){var N={y:0};N[s]=A-c(F),N[s]&&(N[Hue[s]]=0,i.moveElements([F],N,F.parent))})(j,q),null!==A.range?l(A,q):A.range={min:q[s],max:q[s]+q[a]}}),F&&F!==o.length-1&&(O+=p(A.range)))}),D=Math.abs(E.range.min-g.range.max),!((C=Math.round((D-O)/(o.length-1)))<o.length-1)&&_e(o,function(A,F){var B,N={};A===g||A===E||(B=o[F-1],A.range.max=0,_e(A.elements,function(j,q){N[Hue[s]]=0,N[s]=B.range.max-j[s]+C,A.range.min!==j[s]&&(N[s]+=j[s]-A.range.min),N[s]&&i.moveElements([j],N,j.parent),A.range.max=Math.max(j[s]+j[a],q?A.range.max:0)}))})},RM.prototype.postExecute=function(t){},IM.$inject=["layouter","canvas"],IM.prototype.execute=function(t){var i=t.connection;return Re(t,{oldWaypoints:i.waypoints}),i.waypoints=this._layouter.layoutConnection(i,t.hints),i},IM.prototype.revert=function(t){var i=t.connection;return i.waypoints=t.oldWaypoints,i},B$.prototype.execute=function(t){var i=t.connection,o=t.delta,s=t.newParent||i.parent,a=t.newParentIndex,l=i.parent;return t.oldParent=l,t.oldParentIndex=$o(l.children,i),ns(s.children,i,a),i.parent=s,_e(i.waypoints,function(c){c.x+=o.x,c.y+=o.y,c.original&&(c.original.x+=o.x,c.original.y+=o.y)}),i},B$.prototype.revert=function(t){var i=t.connection,s=t.oldParent,a=t.oldParentIndex,l=t.delta;return $o(i.parent.children,i),ns(s.children,i,a),i.parent=s,_e(i.waypoints,function(c){c.x-=l.x,c.y-=l.y,c.original&&(c.original.x-=l.x,c.original.y-=l.y)}),i},V$.prototype.add=function(t,i){return this.addAll([t],i)},V$.prototype.addAll=function(t,i){var o=function $Be(t,i,o){Kl(i)&&(i=!0),Lo(i)&&(o=i,i=!0);var s=v6((o=o||{}).allShapes),a=v6(o.allConnections),l=v6(o.enclosedElements),c=v6(o.enclosedConnections),u=v6(o.topLevel,i&&Bv(t,function(g){return g.id}));function p(g){u[g.source.id]&&u[g.target.id]&&(u[g.id]=[g]),s[g.source.id]&&s[g.target.id]&&(c[g.id]=l[g.id]=g),a[g.id]=g}return gy(t,function h(g){if(l[g.id]=g,!g.waypoints)return s[g.id]=g,_e(g.incoming,p),_e(g.outgoing,p),g.children;c[g.id]=a[g.id]=g}),{allShapes:s,allConnections:a,topLevel:u,enclosedConnections:c,enclosedElements:l}}(t,!!i,this);return Re(this,o),this},sC.prototype.moveRecursive=function(t,i,o){return t?this.moveClosure(this.getClosure(t),i,o):[]},sC.prototype.moveClosure=function(t,i,o,s,a){var l=this._modeling,c=t.allShapes,u=t.allConnections,p=t.enclosedConnections,h=t.topLevel,g=!1;a&&a.parent===o&&(g=!0),_e(c,function(y){l.moveShape(y,i,h[y.id]&&!g&&o,{recurse:!1,layout:!1})}),_e(u,function(y){var E=!!c[y.source.id],C=!!c[y.target.id];p[y.id]&&E&&C?l.moveConnection(y,i,h[y.id]&&!g&&o):l.layoutConnection(y,{connectionStart:E&&l$(y,y.source,i),connectionEnd:C&&c$(y,y.target,i)})})},sC.prototype.getClosure=function(t){return(new V$).addAll(t,!0)},NM.$inject=["modeling"],NM.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)},NM.prototype.postExecute=function(t){var o,i=t.hints;i&&i.primaryShape&&(i.oldParent=(o=i.primaryShape).parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,o)},Ly.$inject=["modeling"],Ly.prototype.execute=function(t){var i=t.shape,o=t.delta,s=t.newParent||i.parent,a=t.newParentIndex,l=i.parent;return t.oldBounds=y0(i,["x","y","width","height"]),t.oldParent=l,t.oldParentIndex=$o(l.children,i),ns(s.children,i,a),Re(i,{parent:s,x:i.x+o.x,y:i.y+o.y}),i},Ly.prototype.postExecute=function(t){var i=t.shape,o=t.delta,s=t.hints,a=this._modeling;!1!==s.layout&&(_e(i.incoming,function(l){a.layoutConnection(l,{connectionEnd:c$(l,i,o)})}),_e(i.outgoing,function(l){a.layoutConnection(l,{connectionStart:l$(l,i,o)})})),!1!==s.recurse&&this.moveChildren(t)},Ly.prototype.revert=function(t){var i=t.shape,o=t.oldParent,a=t.delta;return ns(o.children,i,t.oldParentIndex),Re(i,{parent:o,x:i.x-a.x,y:i.y-a.y}),i},Ly.prototype.moveChildren=function(t){this._helper.moveRecursive(t.shape.children,t.delta,null)},Ly.prototype.getNewParent=function(t){return t.newParent||t.shape.parent},aC.$inject=["modeling"],aC.prototype.execute=function(t){var i=t.newSource,o=t.newTarget,s=t.connection,a=t.dockingOrPoints;if(!i&&!o)throw new Error("newSource or newTarget required");return Rn(a)&&(t.oldWaypoints=s.waypoints,s.waypoints=a),i&&(t.oldSource=s.source,s.source=i),o&&(t.oldTarget=s.target,s.target=o),s},aC.prototype.postExecute=function(t){var i=t.connection,o=t.newSource,s=t.newTarget,a=t.dockingOrPoints,l=t.hints||{},c={};l.connectionStart&&(c.connectionStart=l.connectionStart),l.connectionEnd&&(c.connectionEnd=l.connectionEnd),!1!==l.layoutConnection&&(o&&(!s||"source"===l.docking)&&(c.connectionStart=c.connectionStart||Uue(Rn(a)?a[0]:a)),s&&(!o||"target"===l.docking)&&(c.connectionEnd=c.connectionEnd||Uue(Rn(a)?a[a.length-1]:a)),l.newWaypoints&&(c.waypoints=l.newWaypoints),this._modeling.layoutConnection(i,c))},aC.prototype.revert=function(t){var i=t.oldSource,o=t.oldTarget,s=t.oldWaypoints,a=t.connection;return i&&(a.source=i),o&&(a.target=o),s&&(a.waypoints=s),a},Qf.$inject=["modeling","rules"],Qf.prototype.preExecute=function(t){var u,i=this,o=this._modeling,s=this._rules,a=t.oldShape,l=t.newData,c=t.hints||{};function p(D,O,A){return s.allowed("connection.reconnect",{connection:A,source:D,target:O})}var y,g={x:a.x,y:a.y,width:a.width,height:a.height};u=t.newShape=t.newShape||i.createShape(l,{x:l.x,y:l.y},a.parent,c),a.host&&o.updateAttachment(u,a.host),!1!==c.moveChildren&&(y=a.children.slice(),o.moveElements(y,{x:0,y:0},u,c));var E=a.incoming.slice(),C=a.outgoing.slice();_e(E,function(D){p(D.source,u,D)&&i.reconnectEnd(D,u,mM(D,u,g),c)}),_e(C,function(D){p(u,D.target,D)&&i.reconnectStart(D,u,hM(D,u,g),c)})},Qf.prototype.postExecute=function(t){this._modeling.removeShape(t.oldShape)},Qf.prototype.execute=function(t){},Qf.prototype.revert=function(t){},Qf.prototype.createShape=function(t,i,o,s){return this._modeling.createShape(t,i,o,s)},Qf.prototype.reconnectStart=function(t,i,o,s){this._modeling.reconnectStart(t,i,o,s)},Qf.prototype.reconnectEnd=function(t,i,o,s){this._modeling.reconnectEnd(t,i,o,s)},lC.$inject=["modeling"],lC.prototype.execute=function(t){var i=t.shape,o=t.newBounds,s=t.minBounds;if(void 0===o.x||void 0===o.y||void 0===o.width||void 0===o.height)throw new Error("newBounds must have {x, y, width, height} properties");if(s&&(o.width<s.width||o.height<s.height))throw new Error("width and height cannot be less than minimum height and width");if(!s&&o.width<10||o.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:i.width,height:i.height,x:i.x,y:i.y},Re(i,{width:o.width,height:o.height,x:o.x,y:o.y}),i},lC.prototype.postExecute=function(t){var i=this._modeling,o=t.shape,s=t.oldBounds;!1!==(t.hints||{}).layout&&(_e(o.incoming,function(l){i.layoutConnection(l,{connectionEnd:mM(l,o,s)})}),_e(o.outgoing,function(l){i.layoutConnection(l,{connectionStart:hM(l,o,s)})}))},lC.prototype.revert=function(t){var i=t.shape,o=t.oldBounds;return Re(i,{width:o.width,height:o.height,x:o.x,y:o.y}),i},d1.$inject=["modeling"],d1.prototype.preExecute=function(t){var i=t.delta,o=t.direction,s=t.movingShapes,a=t.resizingShapes,l=t.start,c={};this.moveShapes(s,i),_e(a,function(u){c[u.id]=function sXe(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}(u)}),this.resizeShapes(a,i,o),this.updateConnectionWaypoints(function RWe(t,i){var o=[];return _e(t.concat(i),function(s){_e(s.incoming.concat(s.outgoing),function(c){var u=c.source,p=c.target;(nC(t,u)||nC(t,p)||nC(i,u)||nC(i,p))&&(nC(o,c)||o.push(c))})}),o}(s,a),i,o,l,s,a,c)},d1.prototype.execute=function(){},d1.prototype.revert=function(){},d1.prototype.moveShapes=function(t,i){var o=this;_e(t,function(s){o._modeling.moveShape(s,i,null,{autoResize:!1,layout:!1,recurse:!1})})},d1.prototype.resizeShapes=function(t,i,o){var s=this;_e(t,function(a){var l=function IWe(t,i,o){var s=t.x,a=t.y,l=t.width,c=t.height,u=o.x,p=o.y;switch(i){case"n":return{x:s,y:a+p,width:l,height:c-p};case"s":return{x:s,y:a,width:l,height:c+p};case"w":return{x:s+u,y:a,width:l-u,height:c};case"e":return{x:s,y:a,width:l+u,height:c};default:throw new Error("unknown direction: "+i)}}(a,o,i);s._modeling.resizeShape(a,l,null,{attachSupport:!1,autoResize:!1,layout:!1})})},d1.prototype.updateConnectionWaypoints=function(t,i,o,s,a,l,c){var u=this,p=a.concat(l);_e(t,function(h){var g=h.source,y=h.target,E=function oXe(t){return Fo(t.waypoints,function(i){return(i=Gue(i)).original&&(i.original=Gue(i.original)),i})}(h),C=que(o),D={};p1(p,g)&&p1(p,y)?(E=Fo(E,function(O){return Wue(O,s,o)&&(O[C]=O[C]+i[C]),O.original&&Wue(O.original,s,o)&&(O.original[C]=O.original[C]+i[C]),O}),u._modeling.updateWaypoints(h,E,{labelBehavior:!1})):(p1(p,g)||p1(p,y))&&(p1(a,g)?D.connectionStart=l$(h,g,i):p1(a,y)?D.connectionEnd=c$(h,y,i):p1(l,g)?D.connectionStart=hM(h,g,c[g.id]):p1(l,y)&&(D.connectionEnd=mM(h,y,c[y.id])),u._modeling.layoutConnection(h,D))})},LM.$inject=["modeling"],LM.prototype.execute=function(t){var i=t.shape,o=i.children;t.oldChildrenVisibility=Xue(o),i.collapsed=!i.collapsed;var s=Yue(o,i.collapsed);return[i].concat(s)},LM.prototype.revert=function(t){var i=t.shape,a=Kue(i.children,t.oldChildrenVisibility);return i.collapsed=!i.collapsed,[i].concat(a)},FM.$inject=["modeling"],FM.prototype.execute=function(t){var i=t.shape,o=t.newHost,s=i.host;return t.oldHost=s,t.attacherIdx=Que(s,i),Zue(o,i),i.host=o,i},FM.prototype.revert=function(t){var i=t.shape,o=t.newHost,s=t.oldHost,a=t.attacherIdx;return i.host=s,Que(o,i),Zue(s,i,a),i},j$.prototype.execute=function(t){var i=t.connection,o=t.newWaypoints;return t.oldWaypoints=i.waypoints,i.waypoints=o,i},j$.prototype.revert=function(t){var i=t.connection;return i.waypoints=t.oldWaypoints,i},hi.$inject=["eventBus","elementFactory","commandStack"],hi.prototype.getHandlers=function(){return{"shape.append":OM,"shape.create":u1,"shape.delete":oC,"shape.move":Ly,"shape.resize":lC,"shape.replace":Qf,"shape.toggleCollapse":LM,spaceTool:d1,"label.create":rC,"connection.create":kM,"connection.delete":iC,"connection.move":B$,"connection.layout":IM,"connection.updateWaypoints":j$,"connection.reconnect":aC,"elements.create":L$,"elements.move":NM,"elements.delete":F$,"elements.distribute":RM,"elements.align":MM,"element.updateAttachment":FM}},hi.prototype.registerHandlers=function(t){_e(this.getHandlers(),function(i,o){t.registerHandler(o,i)})},hi.prototype.moveShape=function(t,i,o,s,a){"object"==typeof s&&(a=s,s=null),this._commandStack.execute("shape.move",{shape:t,delta:i,newParent:o,newParentIndex:s,hints:a||{}})},hi.prototype.updateAttachment=function(t,i){this._commandStack.execute("element.updateAttachment",{shape:t,newHost:i})},hi.prototype.moveElements=function(t,i,o,s){var c,a=(s=s||{}).attach,l=o;!0===a?(c=o,l=o.parent):!1===a&&(c=null),this._commandStack.execute("elements.move",{shapes:t,delta:i,newParent:l,newHost:c,hints:s})},hi.prototype.moveConnection=function(t,i,o,s,a){"object"==typeof s&&(a=s,s=void 0),this._commandStack.execute("connection.move",{connection:t,delta:i,newParent:o,newParentIndex:s,hints:a||{}})},hi.prototype.layoutConnection=function(t,i){this._commandStack.execute("connection.layout",{connection:t,hints:i||{}})},hi.prototype.createConnection=function(t,i,o,s,a,l){"object"==typeof o&&(l=a,a=s,s=o,o=void 0);var c={source:t,target:i,parent:a,parentIndex:o,connection:s=this._create("connection",s),hints:l};return this._commandStack.execute("connection.create",c),c.connection},hi.prototype.createShape=function(t,i,o,s,a){"number"!=typeof s&&(a=s,s=void 0);var c,u,l=(a=a||{}).attach;t=this._create("shape",t),l?(c=o.parent,u=o):c=o;var p={position:i,shape:t,parent:c,parentIndex:s,host:u,hints:a};return this._commandStack.execute("shape.create",p),p.shape},hi.prototype.createElements=function(t,i,o,s,a){Rn(t)||(t=[t]),"number"!=typeof s&&(a=s,s=void 0);var l={position:i,elements:t,parent:o,parentIndex:s,hints:a=a||{}};return this._commandStack.execute("elements.create",l),l.elements},hi.prototype.createLabel=function(t,i,o,s){o=this._create("label",o);var a={labelTarget:t,position:i,parent:s||t.parent,shape:o};return this._commandStack.execute("label.create",a),a.shape},hi.prototype.appendShape=function(t,i,o,s,a){a=a||{};var l={source:t,position:o,target:s,shape:i=this._create("shape",i),connection:a.connection,connectionParent:a.connectionParent,hints:a};return this._commandStack.execute("shape.append",l),l.shape},hi.prototype.removeElements=function(t){this._commandStack.execute("elements.delete",{elements:t})},hi.prototype.distributeElements=function(t,i,o){this._commandStack.execute("elements.distribute",{groups:t,axis:i,dimension:o})},hi.prototype.removeShape=function(t,i){this._commandStack.execute("shape.delete",{shape:t,hints:i||{}})},hi.prototype.removeConnection=function(t,i){this._commandStack.execute("connection.delete",{connection:t,hints:i||{}})},hi.prototype.replaceShape=function(t,i,o){var s={oldShape:t,newData:i,hints:o||{}};return this._commandStack.execute("shape.replace",s),s.newShape},hi.prototype.alignElements=function(t,i){this._commandStack.execute("elements.align",{elements:t,alignment:i})},hi.prototype.resizeShape=function(t,i,o,s){this._commandStack.execute("shape.resize",{shape:t,newBounds:i,minBounds:o,hints:s})},hi.prototype.createSpace=function(t,i,o,s,a){this._commandStack.execute("spaceTool",{delta:o,direction:s,movingShapes:t,resizingShapes:i,start:a})},hi.prototype.updateWaypoints=function(t,i,o){this._commandStack.execute("connection.updateWaypoints",{connection:t,newWaypoints:i,hints:o||{}})},hi.prototype.reconnect=function(t,i,o,s,a){this._commandStack.execute("connection.reconnect",{connection:t,newSource:i,newTarget:o,dockingOrPoints:s,hints:a||{}})},hi.prototype.reconnectStart=function(t,i,o,s){s||(s={}),this.reconnect(t,i,t.target,o,Re(s,{docking:"source"}))},hi.prototype.reconnectEnd=function(t,i,o,s){s||(s={}),this.reconnect(t,t.source,i,o,Re(s,{docking:"target"}))},hi.prototype.connect=function(t,i,o,s){return this.createConnection(t,i,o||{},t.parent,s)},hi.prototype._create=function(t,i){return function lVe(t){return t instanceof A5}(i)?i:this._elementFactory.create(t,i)},hi.prototype.toggleCollapse=function(t,i){this._commandStack.execute("shape.toggleCollapse",{shape:t,hints:i||{}})},cC.$inject=["elementRegistry"],cC.prototype.execute=function(t){var i=t.element,o=t.moddleElement,s=t.properties;if(!o)throw new Error("<moddleElement> required");var a=t.changed||this._getVisualReferences(o).concat(i),l=t.oldProperties||function aXe(t,i){return gl(i,function(o,s){return o[s]=t.get(s),o},{})}(o,z3(s));return Jue(o,s),t.oldProperties=l,t.changed=a,a},cC.prototype.revert=function(t){var s=t.changed;return Jue(t.moddleElement,t.oldProperties),s},cC.prototype._getVisualReferences=function(t){var i=this._elementRegistry;return V(t,"bpmn:DataObject")?function lXe(t,i){return i.filter(function(o){return V(o,"bpmn:DataObjectReference")&&le(o).dataObjectRef===t})}(t,i):[]};var uC="default",Zf="id",cXe={width:0,height:0};function dC(t,i,o,s,a){this._elementRegistry=t,this._moddle=i,this._translate=o,this._modeling=s,this._textRenderer=a}function t0e(t,i){return Zf in t&&t[Zf]!==i[Zf]}function n0e(t,i){var o=t.businessObject,s=Mr(t);_e(i,function(a,l){"di"!==l?o.set(l,a):s&&function pXe(t,i){_e(i,function(o,s){t.set(s,o)})}(s,a)})}dC.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],dC.prototype.execute=function(t){var i=t.element,o=[i];if(!i)throw new Error((0,this._translate)("element required"));var a=this._elementRegistry,l=this._moddle.ids,c=i.businessObject,u=function hXe(t){var i=Re({},t);return fXe.forEach(function(o){o in t&&(i[o]=le(i[o]))}),i}(t.properties),p=t.oldProperties||function uXe(t,i){var o=z3(i),s=t.businessObject,a=Mr(t);return gl(o,function(l,c){return l[c]="di"!==c?s.get(c):function dXe(t,i){return gl(i,function(o,s){return o[s]=t&&t.get(s),o},{})}(a,z3(i.di)),l},{})}(i,u);return t0e(u,c)&&(l.unclaim(c[Zf]),a.updateId(i,u[Zf]),l.claim(u[Zf],c)),uC in u&&(u[uC]&&o.push(a.get(u[uC].id)),c[uC]&&o.push(a.get(c[uC].id))),n0e(i,u),t.oldProperties=p,t.changed=o,o},dC.prototype.postExecute=function(t){var o=t.element.label,s=o&&le(o).name;if(s){var a=this._textRenderer.getExternalLabelBounds(o,s);this._modeling.resizeShape(o,a,cXe)}},dC.prototype.revert=function(t){var i=t.element,o=t.properties,s=t.oldProperties,a=i.businessObject,l=this._elementRegistry,c=this._moddle.ids;return n0e(i,s),t0e(o,a)&&(c.unclaim(o[Zf]),l.updateId(i,s[Zf]),c.claim(s[Zf],a)),t.changed};var fXe=["default"];function BM(t,i){this._canvas=t,this._modeling=i}function $$(t,i){this._modeling=t,this._spaceTool=i}function z$(t,i){this._modeling=t,this._translate=i}function pC(t,i){this._modeling=t,this._spaceTool=i}BM.$inject=["canvas","modeling"],BM.prototype.execute=function(t){var i=this._canvas,o=t.newRoot,s=o.businessObject,a=i.getRootElement(),l=a.businessObject,c=l.$parent,u=Mr(a);return i.setRootElement(o),i.removeRootElement(a),ns(c.rootElements,s),s.$parent=c,$o(c.rootElements,l),l.$parent=null,a.di=null,u.bpmnElement=s,o.di=u,t.oldRoot=a,[]},BM.prototype.revert=function(t){var i=this._canvas,o=t.newRoot,s=o.businessObject,a=t.oldRoot,l=a.businessObject,c=s.$parent,u=Mr(o);return i.setRootElement(a),i.removeRootElement(o),$o(c.rootElements,s),s.$parent=null,ns(c.rootElements,l),l.$parent=c,o.di=null,u.bpmnElement=l,a.di=u,[]},$$.$inject=["modeling","spaceTool"],$$.prototype.preExecute=function(t){var i=this._spaceTool,o=this._modeling,s=t.shape,a=t.location,l=Su(s),c=l===s,u=c?s:s.parent;ky(u).length||o.createShape({type:"bpmn:Lane"},{x:s.x+30,y:s.y,width:s.width-30,height:s.height},u);var h=[];gy(l,function(O){return h.push(O),O.label&&h.push(O.label),O===s?[]:On(O.children,function(A){return A!==s})});var g="top"===a?-120:120,y="top"===a?s.y:s.y+s.height,E=y+("top"===a?10:-10),C="top"===a?"n":"s",D=i.calculateAdjustments(h,"y",g,E);i.makeSpace(D.movingShapes,D.resizingShapes,{x:0,y:g},C,E),t.newLane=o.createShape({type:"bpmn:Lane"},{x:s.x+(c?30:0),y:y-("top"===a?120:0),width:s.width-(c?30:0),height:120},u)},z$.$inject=["modeling","translate"],z$.prototype.preExecute=function(t){var i=this._modeling,o=this._translate,s=t.shape,a=t.count,l=ky(s),c=l.length;if(c>a)throw new Error(o("more than {count} child lanes",{count:a}));var g,E,u=Math.round(s.height/a);for(E=0;E<a;E++)g={x:s.x+30,y:s.y+E*u,width:s.width-30,height:E===a-1?s.height-u*E:u},E<c?i.resizeShape(l[E],g):i.createShape({type:"bpmn:Lane"},g,s)},pC.$inject=["modeling","spaceTool"],pC.prototype.preExecute=function(t){var i=t.shape,o=t.newBounds;!1!==t.balanced?this.resizeBalanced(i,o):this.resizeSpace(i,o)},pC.prototype.resizeBalanced=function(t,i){var o=this._modeling,s=function oGe(t,i){var o=Su(t),a=QP(o,V(o,"bpmn:Process")?[]:[o]),l=ln(t),c=ln(i),u=function rGe(t,i){return ice(ln(i),ln(t))}(t,i),p=[];return a.forEach(function(h){if(h!==t){var g=0,y=u.right,E=0,C=u.left,D=ln(h);u.top&&(KP(D.bottom-l.top)<10&&(E=c.top-D.bottom),KP(D.top-l.top)<5&&(g=c.top-D.top)),u.bottom&&(KP(D.top-l.bottom)<10&&(g=c.bottom-D.top),KP(D.bottom-l.bottom)<5&&(E=c.bottom-D.bottom)),(g||y||E||C)&&p.push({shape:h,newBounds:ZUe(h,{top:g,right:y,bottom:E,left:C})})}}),p}(t,i);o.resizeShape(t,i),s.forEach(function(a){o.resizeShape(a.shape,a.newBounds)})},pC.prototype.resizeSpace=function(t,i){var h,y,C,o=this._spaceTool,s=ln(t),l=ice(ln(i),s),c=Su(t),u=[],p=[];gy(c,function(D){return u.push(D),(V(D,"bpmn:Lane")||V(D,"bpmn:Participant"))&&p.push(D),D.children}),(l.bottom||l.top)&&(h=l.bottom||l.top,y=l.bottom?"s":"n",C=o.calculateAdjustments(u,"y",l.top>0||l.bottom<0?-h:h,t.y+(l.bottom?t.height:0)+(l.bottom?-10:10)),o.makeSpace(C.movingShapes,C.resizingShapes,{x:0,y:h},y)),(l.left||l.right)&&(h=l.right||l.left,y=l.right?"e":"w",C=o.calculateAdjustments(p,"x",l.left>0||l.right<0?-h:h,t.x+(l.right?t.width:0)+(l.right?-10:100)),o.makeSpace(C.movingShapes,C.resizingShapes,{x:h,y:0},y))};var fC="flowNodeRef",H$="lanes";function hC(t){this._elementRegistry=t}function VM(t){this._moddle=t}hC.$inject=["elementRegistry"],hC.prototype._computeUpdates=function(t,i){var o=[],s=[],a={},l=[];function u(g){-1===o.indexOf(g)&&(l.push(g),o.push(g))}return i.forEach(function(g){var y=Su(g);y&&-1===o.indexOf(y)&&(y.children.filter(function(C){return V(C,"bpmn:FlowNode")}).forEach(u),o.push(y))}),t.forEach(u),l.forEach(function(g){var y=g.businessObject,C=y.get(H$).slice(),D=function h(g){if(!g.parent)return[];var y=function p(g){var y=Su(g);return a[y.id]||(a[y.id]=QP(y)),a[y.id]}(g);return y.filter(function(E){return function c(g,y){var E=ln(y),C_x=g.x+g.width/2,C_y=g.y+g.height/2;return C_x>E.left&&C_x<E.right&&C_y>E.top&&C_y<E.bottom}(g,E)}).map(function(E){return E.businessObject})}(g);s.push({flowNode:y,remove:C,add:D})}),i.forEach(function(g){var y=g.businessObject;g.parent||y.get(fC).forEach(function(E){s.push({flowNode:E,remove:[y],add:[]})})}),s},hC.prototype.execute=function(t){var i=t.updates;return i||(i=t.updates=this._computeUpdates(t.flowNodeShapes,t.laneShapes)),i.forEach(function(o){var s=o.flowNode,a=s.get(H$);o.remove.forEach(function(l){$o(a,l),$o(l.get(fC),s)}),o.add.forEach(function(l){ns(a,l),ns(l.get(fC),s)})}),[]},hC.prototype.revert=function(t){return t.updates.forEach(function(o){var s=o.flowNode,a=s.get(H$);o.add.forEach(function(l){$o(a,l),$o(l.get(fC),s)}),o.remove.forEach(function(l){ns(a,l),ns(l.get(fC),s)})}),[]},VM.$inject=["moddle"],VM.prototype.execute=function(t){var i=this._moddle.ids,o=t.id;return t.claiming?i.claim(o,t.element):i.unclaim(o),[]},VM.prototype.revert=function(t){var i=this._moddle.ids,o=t.id,s=t.element;return t.claiming?i.unclaim(o):i.claim(o,s),[]};var mXe={fill:void 0,stroke:void 0};function U$(t){this._commandStack=t,this._normalizeColor=function(i){if(i){if(la(i)){var o=function gXe(t){var i=document.createElement("canvas").getContext("2d");return i.fillStyle="transparent",i.fillStyle=t,/^#[0-9a-fA-F]{6}$/.test(i.fillStyle)?i.fillStyle:null}(i);if(o)return o}throw new Error("invalid color value: "+i)}}}U$.$inject=["commandStack"],U$.prototype.postExecute=function(t){var i=t.elements,o=t.colors||mXe,s=this,a={};"fill"in o&&Re(a,{"background-color":this._normalizeColor(o.fill)}),"stroke"in o&&Re(a,{"border-color":this._normalizeColor(o.stroke)}),_e(i,function(l){var c=Mi(l)?y0(a,["border-color"]):a,u=Mr(l);if(function vXe(t){"border-color"in t&&(t.stroke=t["border-color"]),"background-color"in t&&(t.fill=t["background-color"])}(c),Ir(l))s._commandStack.execute("element.updateModdleProperties",{element:l,moddleElement:u.label,properties:{color:a["border-color"]}});else{if(!sn(u,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;s._commandStack.execute("element.updateProperties",{element:l,properties:{di:c}})}})};var yXe={width:0,height:0};function r0e(t,i,o){function s(p,h){var g=p.label||p,y=p.labelTarget||p;return function gTe(t,i){var o=t.businessObject,s=Bne(o);s&&("categoryValueRef"===s?o.categoryValueRef.value=i:o[s]=i)}(g,h),[g,y]}this.preExecute=function a(p){var h=p.element,g=h.businessObject,y=p.newLabel;if(!Ir(h)&&cy(h)&&!M9(h)&&!i0e(y)){var C=eF(h);t.createLabel(h,C={x:C.x,y:C.y+7},{id:g.id+"_label",businessObject:g,di:h.di})}},this.execute=function l(p){return p.oldLabel=Ic(p.element),s(p.element,p.newLabel)},this.revert=function c(p){return s(p.element,p.oldLabel)},this.postExecute=function u(p){var h=p.element,g=h.label||h,y=p.newLabel,E=p.newBounds,C=p.hints||{};if(Ir(g)||V(g,"bpmn:TextAnnotation")){if(Ir(g)&&i0e(y))return void(!1!==C.removeShape&&t.removeShape(g,{unsetLabel:!1}));var D=Ic(h);typeof E>"u"&&(E=i.getExternalLabelBounds(g,D)),E&&t.resizeShape(g,E,yXe)}}}function i0e(t){return!t||!t.trim()}function ba(t,i,o,s){hi.call(this,t,i,o),this._bpmnRules=s}function o0e(){}r0e.$inject=["modeling","textRenderer","bpmnFactory"],jt(ba,hi),ba.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],ba.prototype.getHandlers=function(){var t=hi.prototype.getHandlers.call(this);return t["element.updateModdleProperties"]=cC,t["element.updateProperties"]=dC,t["canvas.updateRoot"]=BM,t["lane.add"]=$$,t["lane.resize"]=pC,t["lane.split"]=z$,t["lane.updateRefs"]=hC,t["id.updateClaim"]=VM,t["element.setColor"]=U$,t["element.updateLabel"]=r0e,t},ba.prototype.updateLabel=function(t,i,o,s){this._commandStack.execute("element.updateLabel",{element:t,newLabel:i,newBounds:o,hints:s||{}})},ba.prototype.connect=function(t,i,o,s){if(o||(o=this._bpmnRules.canConnect(t,i)),o)return this.createConnection(t,i,o,t.parent,s)},ba.prototype.updateModdleProperties=function(t,i,o){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:i,properties:o})},ba.prototype.updateProperties=function(t,i){this._commandStack.execute("element.updateProperties",{element:t,properties:i})},ba.prototype.resizeLane=function(t,i,o){this._commandStack.execute("lane.resize",{shape:t,newBounds:i,balanced:o})},ba.prototype.addLane=function(t,i){var o={shape:t,location:i};return this._commandStack.execute("lane.add",o),o.newLane},ba.prototype.splitLane=function(t,i){this._commandStack.execute("lane.split",{shape:t,count:i})},ba.prototype.makeCollaboration=function(){var t=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:t}),t},ba.prototype.makeProcess=function(){var t=this._create("root",{type:"bpmn:Process"});this._commandStack.execute("canvas.updateRoot",{newRoot:t})},ba.prototype.updateLaneRefs=function(t,i){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:t,laneShapes:i})},ba.prototype.claimId=function(t,i){this._commandStack.execute("id.updateClaim",{id:t,element:i,claiming:!0})},ba.prototype.unclaimId=function(t,i){this._commandStack.execute("id.updateClaim",{id:t,element:i})},ba.prototype.setColor=function(t,i){t.length||(t=[t]),this._commandStack.execute("element.setColor",{elements:t,colors:i})},o0e.prototype.layoutConnection=function(t,i){return[(i=i||{}).connectionStart||Sn(i.source||t.source),i.connectionEnd||Sn(i.target||t.target)]};var jM=20,bXe=5,$M=Math.round,s0e=20,_Xe={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function a0e(t,i,o){var u,p,s=ga(i,t,bXe),a=o.split(":")[0],l=$M((i.x-t.x)/2+t.x),c=$M((i.y-t.y)/2+t.y),h=function xXe(t,i){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(i)}(a,s),g=/h|r|l/.test(a),y=!1,E=!1;return h?(u=g?{x:l,y:t.y}:{x:t.x,y:c},p=g?"h:h":"v:v"):(y=function EXe(t,i){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[i].test(t)}(s,a),p=g?"h:v":"v:h",y?g?(E=c===t.y,u={x:t.x+jM*(/l/.test(a)?-1:1),y:E?c+jM:c}):u={x:(E=l===t.x)?l+jM:l,y:t.y+jM*(/t/.test(a)?-1:1)}:u={x:l,y:c}),{waypoints:G$(t,u,p).concat(u),directions:p,turnNextDirections:E}}function l0e(t){return t.split(":").reverse().join(":")}function G$(t,i,o){if(!function NXe(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}(o=o||"h:h"))throw new Error("unknown directions: <"+o+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(u0e(o)){var s=function wXe(t,i,o){return a0e(t,i,o)}(t,i,o),a=function CXe(t,i,o){var s=a0e(i,t,l0e(o));return{waypoints:s.waypoints.slice().reverse(),directions:l0e(s.directions),turnNextDirections:s.turnNextDirections}}(t,i,o),l=function SXe(t,i){var o=t.directions.split(":")[1],s=i.directions.split(":")[0];t.turnNextDirections&&(o="h"==o?"v":"h"),i.turnNextDirections&&(s="h"==s?"v":"h");var a=o+":"+s;return{waypoints:G$(t.waypoints[t.waypoints.length-1],i.waypoints[0],a),directions:a}}(s,a);return[].concat(s.waypoints,l.waypoints,a.waypoints)}return function DXe(t,i,o){var s=$M((i.x-t.x)/2+t.x),a=$M((i.y-t.y)/2+t.y);if("h:v"===o)return[{x:i.x,y:t.y}];if("v:h"===o)return[{x:t.x,y:i.y}];if("h:h"===o)return[{x:s,y:t.y},{x:s,y:i.y}];if("v:v"===o)return[{x:t.x,y:a},{x:i.x,y:a}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(t,i,o)}function MXe(t,i,o,s,a,l){var p;return Rn(o)&&(a=o,l=s,o=Sn(t),s=Sn(i)),a=a||[],p=-1!==(l=Re({preferredLayouts:[]},l)).preferredLayouts.indexOf("straight")&&function kXe(t,i,o,s,a){var c,u,l={};return u=ga(t,i),/^(top|bottom|left|right)$/.test(u)?(/top|bottom/.test(u)&&(c="x"),/left|right/.test(u)&&(c="y"),"target"===a.preserveDocking?c0e(c,s,t)?(l[c]=s[c],[{x:void 0!==l.x?l.x:o.x,y:void 0!==l.y?l.y:o.y,original:{x:void 0!==l.x?l.x:o.x,y:void 0!==l.y?l.y:o.y}},{x:s.x,y:s.y}]):null:c0e(c,o,i)?(l[c]=o[c],[{x:o.x,y:o.y},{x:void 0!==l.x?l.x:s.x,y:void 0!==l.y?l.y:s.y,original:{x:void 0!==l.x?l.x:s.x,y:void 0!==l.y?l.y:s.y}}]):null):null}(t,i,o,s,l),p||(p=l.connectionEnd&&function RXe(t,i,o,s){var a=s.slice().reverse();return(a=q$(t,i,o,a))?a.reverse():null}(i,t,s,a),p)||(p=l.connectionStart&&function AXe(t,i,o,s){return q$(t,i,o,s)}(t,i,o,a),p)?p:!l.connectionStart&&!l.connectionEnd&&a&&a.length?a:function PXe(t,i,o,s,a){var c=Pi(a&&a.preferredLayouts||[],"straight")[0]||"h:h",p=ga(t,i,_Xe[c]||0),h=function IXe(t,i){if(u0e(i))return i;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return i}}(p,c);o=o||Sn(t),s=s||Sn(i);var g=h.split(":"),y=d0e(o,t,g[0],function LXe(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}(p));return function TXe(t,i,o){var s=G$(t,i,o);return s.unshift(t),s.push(i),p0e(s)}(y,d0e(s,i,g[1],p),h)}(t,i,o,s,l)}function c0e(t,i,o){return function OXe(t,i,o){return t>=i&&t<=o}(i[t],o[t],o[t]+o[{x:"width",y:"height"}[t]])}function q$(t,i,o,s){if(function a(g){return g.length<3||!(g.length>4)&&!!Qn(g,function(y,E){var C=g[E-1];return C&&y6(y,C)<3})}(s))return null;var h,u=s[0],p=s.slice();return p[0]=o,p[1]=function l(g,y,E){switch(Ff(y,g)){case"v":return{x:E.x,y:g.y};case"h":return{x:g.x,y:E.y}}return{x:g.x,y:g.y}}(p[1],u,o),(h=function c(g,y,E){var C;for(C=g.length-2;0!==C;C--)if(zoe(g[C],y,s0e)||zoe(g[C],E,s0e))return g.slice(C);return g}(p,t,i))!==p&&(p=q$(t,i,o,h)),p&&Ff(p)?null:p}function u0e(t){return t&&/t|r|b|l/.test(t)}function d0e(t,i,o,s){if("h"===o&&(o=/left/.test(s)?"l":"r"),"v"===o&&(o=/top/.test(s)?"t":"b"),"t"===o)return{original:t,x:t.x,y:i.y};if("r"===o)return{original:t,x:i.x+i.width,y:t.y};if("b"===o)return{original:t,x:t.x,y:i.y+i.height};if("l"===o)return{original:t,x:i.x,y:t.y};throw new Error("unexpected dockingDirection: <"+o+">")}function p0e(t){return t.reduce(function(i,o,s){return EV(i[i.length-1],t[s+1],o,0)||i.push(o),i},[])}var BXe=40,W$={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},zM={top:"t",right:"r",bottom:"b",left:"l"};function X$(){}function $Xe(t,i){return V(i,"bpmn:Participant")?"source":V(t,"bpmn:Participant")?"target":mC(i)?"source":mC(t)||V(i,"bpmn:Event")?"target":V(t,"bpmn:Event")?"source":null}function HXe(t){return mC(t)?"target":"source"}function f0e(t,i){return t?t.original||t:Sn(i)}function h0e(t,i){return V(i,"bpmn:Activity")&&V(t,"bpmn:BoundaryEvent")&&i.businessObject.isForCompensation}function mC(t){return V(t,"bpmn:SubProcess")&&mr(t)}function gC(t,i){return t===i}function vC(t){var i=/right|left/.exec(t);return i&&i[0]}function Fy(t){var i=/top|bottom/.exec(t);return i&&i[0]}function Y$(t){return"right"===t||"left"===t}function XXe(t,i){var o=i.waypoints,s=o&&o.length&&ga(o[0],t);return"top"===s?["t:r"]:"right"===s?["r:b"]:"left"===s?["l:t"]:["b:l"]}function YXe(t,i,o){var c,u,s=Sn(t),a=Sn(i),l=function VXe(t){var i=t.host;return ga(Sn(t),i,-10)}(t),p=gC(t.host,i),h=function UXe(t,i){return-1!==i.indexOf(t)}(l,["top","right","bottom","left"]),g=ga(a,s,{x:t.width/2+i.width/2,y:t.height/2+i.height/2});return p?function KXe(t,i,o,s,a){var l=i?t:Fy(t);return[zM[l]+":"+(i?Y$(t)?m0e("y",o,s,a)?"h":"b":m0e("x",o,s,a)?"v":"l":"v")]}(l,h,t,i,o):(c=function QXe(t,i,o){return o?zM[t]:gC(Fy(t),Fy(i))||function GXe(t,i){return W$[t]===i}(vC(t),vC(i))?zM[Fy(t)]:zM[vC(t)]}(l,g,h),u=function ZXe(t,i,o){return o?Y$(t)?function qXe(t,i){var o=vC(t);return-1!==i.indexOf(W$[o])}(t,i)||gC(t,i)?"h":"v":function WXe(t,i){var o=Fy(t);return-1!==i.indexOf(W$[o])}(t,i)||gC(t,i)?"v":"h":Y$(i)||gC(Fy(t),Fy(i))&&vC(i)?"h":"v"}(l,g,h),[c+":"+u])}function m0e(t,i,o,s){var a=BXe;return!(K$(t,s,o,a)||K$(t,s,{x:o.x+o.width,y:o.y+o.height},a)||K$(t,s,Sn(i),a))}function K$(t,i,o,s){return Math.abs(i[t]-o[t])<s}function g0e(t){return Re({original:t.point.original||t.point},t.actual)}function f1(t,i){this._elementRegistry=t,this._graphicsFactory=i}jt(X$,o0e),X$.prototype.layoutConnection=function(t,i){i||(i={});var u,p,o=i.source||t.source,s=i.target||t.target,a=i.waypoints||t.waypoints,l=i.connectionStart,c=i.connectionEnd;return l||(l=f0e(a&&a[0],o)),c||(c=f0e(a&&a[a.length-1],s)),(V(t,"bpmn:Association")||V(t,"bpmn:DataAssociation"))&&a&&!h0e(o,s)?[].concat([l],a.slice(1,-1),[c]):(V(t,"bpmn:MessageFlow")?u=function jXe(t,i){return{preferredLayouts:["straight","v:v"],preserveDocking:$Xe(t,i)}}(o,s):(V(t,"bpmn:SequenceFlow")||h0e(o,s))&&(u=o===s?{preferredLayouts:XXe(o,t)}:V(o,"bpmn:BoundaryEvent")?{preferredLayouts:YXe(o,s,c)}:mC(o)||mC(s)?function zXe(t){return{preferredLayouts:["straight","h:h"],preserveDocking:HXe(t)}}(o):V(o,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:V(s,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),u&&(p=p0e(MXe(o,s,l,c,a,u=Re(u,i)))),p||[l,c])},f1.$inject=["elementRegistry","graphicsFactory"],f1.prototype.getCroppedWaypoints=function(t,i,o){o=o||t.target;var s=this.getDockingPoint(t,i=i||t.source,!0),a=this.getDockingPoint(t,o),l=t.waypoints.slice(s.idx+1,a.idx);return l.unshift(g0e(s)),l.push(g0e(a)),l},f1.prototype.getDockingPoint=function(t,i,o){var a,l,s=t.waypoints;return{point:l=s[a=o?0:s.length-1],actual:this._getIntersection(i,t,o)||l,idx:a}},f1.prototype._getIntersection=function(t,i,o){return wV(this._getShapePath(t),this._getConnectionPath(i),o)},f1.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)},f1.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)},f1.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const JXe={__init__:["modeling","bpmnUpdater"],__depends__:[lWe,DWe,PWe,MWe,ece,zWe,UWe,KWe,rp,HV,Lue],bpmnFactory:["type",Pu],bpmnUpdater:["type",tc],elementFactory:["type",c1],modeling:["type",ba],layouter:["type",X$],connectionDocking:["type",f1]};var eYe=new zV("tt");function Q$(t,i){t.style.display=!1===i?"none":""}var v0e="djs-tooltip",Z$="."+v0e;function Tl(t,i){this._eventBus=t,this._canvas=i,this._ids=eYe,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function tYe(t){var i=fi('<div class="djs-tooltip-container" />');return Zs(i,{position:"absolute",width:"0",height:"0"}),t.insertBefore(i,t.firstChild),i}(i.getContainer());var o=this;La.bind(this._tooltipRoot,Z$,"mousedown",function(s){s.stopPropagation()}),La.bind(this._tooltipRoot,Z$,"mouseover",function(s){o.trigger("mouseover",s)}),La.bind(this._tooltipRoot,Z$,"mouseout",function(s){o.trigger("mouseout",s)}),this._init()}Tl.$inject=["eventBus","canvas"],Tl.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var i=this._ids.next();return t=Re({},this._tooltipDefaults,t,{id:i}),this._addTooltip(t),t.timeout&&this.setTimeout(t),i},Tl.prototype.trigger=function(t,i){var s=this.get(Na(i.delegateTarget||i.target,"data-tooltip-id"));s&&("mouseover"===t&&s.timeout&&this.clearTimeout(s),"mouseout"===t&&s.timeout&&(s.timeout=1e3,this.setTimeout(s)))},Tl.prototype.get=function(t){return"string"!=typeof t&&(t=t.id),this._tooltips[t]},Tl.prototype.clearTimeout=function(t){if(t=this.get(t)){var i=t.removeTimer;i&&(clearTimeout(i),t.removeTimer=null)}},Tl.prototype.setTimeout=function(t){if(t=this.get(t)){this.clearTimeout(t);var i=this;t.removeTimer=setTimeout(function(){i.remove(t)},t.timeout)}},Tl.prototype.remove=function(t){var i=this.get(t);i&&(Bd(i.html),Bd(i.htmlContainer),delete i.htmlContainer,delete this._tooltips[i.id])},Tl.prototype.show=function(){Q$(this._tooltipRoot)},Tl.prototype.hide=function(){Q$(this._tooltipRoot,!1)},Tl.prototype._updateRoot=function(t){var i=t.scale||1,o=t.scale||1,s="matrix("+i+",0,0,"+o+","+-1*t.x*i+","+-1*t.y*o+")";this._tooltipRoot.style.transform=s,this._tooltipRoot.style["-ms-transform"]=s},Tl.prototype._addTooltip=function(t){var s,i=t.id,o=t.html,a=this._tooltipRoot;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),la(o)&&(o=fi(o)),Zs(s=fi('<div data-tooltip-id="'+i+'" class="'+v0e+'">'),{position:"absolute"}),s.appendChild(o),t.type&&Ns(s).add("djs-tooltip-"+t.type),t.className&&Ns(s).add(t.className),t.htmlContainer=s,a.appendChild(s),this._tooltips[i]=t,this._updateTooltip(t)},Tl.prototype._updateTooltip=function(t){var i=t.position;!function nYe(t,i,o){Zs(t,{left:i+"px",top:o+"px"})}(t.htmlContainer,i.x,i.y)},Tl.prototype._updateTooltipVisibilty=function(t){_e(this._tooltips,function(i){var o=i.show,a=!0;o&&((o.minZoom>t.scale||o.maxZoom<t.scale)&&(a=!1),Q$(i.htmlContainer,a))})},Tl.prototype._init=function(){var t=this;this._eventBus.on("canvas.viewbox.changing",function(o){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(o){!function i(o){t._updateRoot(o),t._updateTooltipVisibilty(o),t.show()}(o.viewbox)})};const rYe={__init__:["tooltips"],tooltips:["type",Tl]};function y0e(t,i,o){t.on(["shape.move.rejected","create.rejected"],function(a){var l=a.context,c=l.shape;V(l.target,"bpmn:Collaboration")&&V(c,"bpmn:FlowNode")&&function s(a,l,c){i.add({position:{x:a.x+5,y:a.y+5},type:"error",timeout:c||2e3,html:"<div>"+l+"</div>"})}(a,o("flow elements must be children of pools/participants"))})}y0e.$inject=["eventBus","tooltips","translate"];const oYe={__depends__:[rYe],__init__:["modelingFeedback"],modelingFeedback:["type",y0e]};var HM=Math.round;function b0e(t,i,o,s,a){function l(u,p,h,g){return a.allowed("elements.move",{shapes:u,delta:p,position:h,target:g})}function c(u,p,h,g){if(Lo(h)&&(g=h,h=!1),!p.waypoints&&p.parent&&!ur(u.target).has("djs-hit-no-move")){var y=function cYe(t){return{x:t.x+HM(t.width/2),y:t.y+HM(t.height/2)}}(p);return i.init(u,y,"shape.move",{cursor:"grabbing",autoActivate:h,data:{shape:p,context:g||{}}}),!0}}t.on("shape.move.start",1500,function(u){var p=u.context,h=u.shape,g=s.get().slice();-1===g.indexOf(h)&&(g=[h]),g=function uYe(t){var i=Bv(t,"id");return On(t,function(o){for(;o=o.parent;)if(i[o.id])return!1;return!0})}(g),Re(p,{shapes:g,validatedShapes:g,shape:h})}),t.on("shape.move.start",1250,function(u){var p=u.context;if(!(p.canExecute=l(p.validatedShapes)))return!1}),t.on("shape.move.move",500,function(u){var C,p=u.context,g=u.hover,y={x:u.dx,y:u.dy};C=l(p.validatedShapes,y,{x:u.x,y:u.y},g),p.delta=y,p.canExecute=C,p.target=null!==C?g:null}),t.on("shape.move.end",function(u){var p=u.context,h=p.delta,g=p.canExecute,y="attach"===g,E=p.shapes;if(!1===g)return!1;h.x=HM(h.x),h.y=HM(h.y),(0!==h.x||0!==h.y)&&o.moveElements(E,h,p.target,{primaryShape:p.shape,attach:y})}),t.on("element.mousedown",function(u){if(e1(u)){var p=B5(u);if(!p)throw new Error("must supply DOM mousedown event");return c(p,u.element)}}),this.start=c}b0e.$inject=["eventBus","dragging","modeling","selection","rules"];var J$="djs-dragging",E0e="drop-ok",x0e="drop-not-ok",w0e="new-parent",C0e="attach-ok";function S0e(t,i,o,s){function l(p){var h=g6(p,!0),g=Fo(h,function(y){return(y.incoming||[]).concat(y.outgoing||[])});return Kx(h.concat(g))}function c(p,h){[C0e,E0e,x0e,w0e].forEach(function(g){g===h?i.addMarker(p,g):i.removeMarker(p,g)})}t.on("shape.move.start",499,function(p){var h=p.context,g=h.shapes,y=h.allDraggedElements,E=function a(p){var g=function dYe(t){var i=On(t,function(o){return!Mi(o)||Qn(t,v0({id:o.source.id}))&&Qn(t,v0({id:o.target.id}))});return i}(l(p));return g}(g);if(!h.dragGroup){var C=an("g");Mt(C,o.cls("djs-drag-group",["no-events"])),bn(i.getActiveLayer(),C),h.dragGroup=C}E.forEach(function(O){s.addDragger(O,h.dragGroup)}),_e(y=y?Kx([y,l(g)]):l(g),function(O){i.addMarker(O,J$)}),h.allDraggedElements=y,h.differentParents=function pYe(t){return 1!==function R5e(t){return z3(t).length}(Bv(t,function(i){return i.parent&&i.parent.id}))}(g)}),t.on("shape.move.move",499,function(p){var h=p.context,g=h.dragGroup,y=h.target;y&&c(y,"attach"===h.canExecute?C0e:h.canExecute&&y&&y.id!==h.shape.parent.id?w0e:h.canExecute?E0e:x0e),ec(g,p.dx,p.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(p){var g=p.context.target;g&&c(g,null)}),t.on("shape.move.cleanup",function(p){var h=p.context,y=h.dragGroup;_e(h.allDraggedElements,function(E){i.removeMarker(E,J$)}),y&&Eo(y)}),this.makeDraggable=function u(p,h,g){s.addDragger(h,p.dragGroup),g&&i.addMarker(h,J$),p.allDraggedElements?p.allDraggedElements.push(h):p.allDraggedElements=[h]}}S0e.$inject=["eventBus","canvas","styles","previewSupport"];const fYe={__depends__:[gP,rp,Fse,op,Wf,$6],__init__:["move","movePreview"],move:["type",b0e],movePreview:["type",S0e]};var D0e=".djs-palette-toggle",hYe=D0e+", .entry",ez="djs-palette-",tz="open",P0e="two-column";function Ho(t,i){this._eventBus=t,this._canvas=i;var o=this;t.on("tool-manager.update",function(s){o.updateToolHighlight(s.tool)}),t.on("i18n.changed",function(){o._update()}),t.on("diagram.init",function(){o._diagramInitialized=!0,o._rebuild()})}function yYe(t,i){var o=i.getPaletteEntries();return Vr(o)?o(t):(_e(o,function(s,a){t[a]=s}),t)}Ho.$inject=["eventBus","canvas"],Ho.prototype.registerProvider=function(t,i){i||(i=t,t=1e3),this._eventBus.on("palette.getProviders",t,function(o){o.providers.push(i)}),this._rebuild()},Ho.prototype.getEntries=function(){return this._getProviders().reduce(yYe,{})},Ho.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},Ho.prototype._init=function(){var t=this,i=this._eventBus,o=this._getParentContainer(),s=this._container=fi(Ho.HTML_MARKUP);o.appendChild(s),Ns(o).add(ez+"shown"),La.bind(s,hYe,"click",function(a){if(ew(a.delegateTarget,D0e))return t.toggle();t.trigger("click",a)}),hn.bind(s,"mousedown",function(a){a.stopPropagation()}),La.bind(s,".entry","dragstart",function(a){t.trigger("dragstart",a)}),i.on("canvas.resized",this._layoutChanged,this),i.fire("palette.create",{container:s})},Ho.prototype._getProviders=function(t){var i=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(i),i.providers},Ho.prototype._toggleState=function(t){t=t||{};var a,i=this._getParentContainer(),s=this._eventBus,l=Ns(this._container),c=Ns(i);a="twoColumn"in t?t.twoColumn:this._needsCollapse(i.clientHeight,this._entries||{}),l.toggle(P0e,a),c.toggle(ez+P0e,a),"open"in t&&(l.toggle(tz,t.open),c.toggle(ez+tz,t.open)),s.fire("palette.changed",{twoColumn:a,open:this.isOpen()})},Ho.prototype._update=function(){var t=tr(".djs-palette-entries",this._container),i=this._entries=this.getEntries();GD(t),_e(i,function(o,s){var a=o.group||"default",l=tr("[data-group="+P6(a)+"]",t);l||(Na(l=fi('<div class="group"></div>'),"data-group",a),t.appendChild(l));var u=fi(o.html||(o.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(l.appendChild(u),!o.separator&&(Na(u,"data-action",s),o.title&&Na(u,"title",o.title),o.className&&function vYe(t,i){var o=Ns(t);(Rn(i)?i:i.split(/\s+/g)).forEach(function(a){o.add(a)})}(u,o.className),o.imageUrl)){var p=fi("<img>");Na(p,"src",o.imageUrl),u.appendChild(p)}}),this.open()},Ho.prototype.trigger=function(t,i,o){var s,l=i.delegateTarget||i.target;return l?(s=Na(l,"data-action"),this.triggerEntry(s,t,i.originalEvent||i,o)):i.preventDefault()},Ho.prototype.triggerEntry=function(t,i,o,s){var l,c;if((l=this._entries[t])&&(c=l.action,!1!==this._eventBus.fire("palette.trigger",{entry:l,event:o}))){if(Vr(c)){if("click"===i)return c(o,s)}else if(c[i])return c[i](o,s);o.preventDefault()}},Ho.prototype._layoutChanged=function(){this._toggleState({})},Ho.prototype._needsCollapse=function(t,i){return t<46*Object.keys(i).length+50},Ho.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Ho.prototype.open=function(){this._toggleState({open:!0})},Ho.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Ho.prototype.isActiveTool=function(t){return t&&this._activeTool===t},Ho.prototype.updateToolHighlight=function(t){var i;this._toolsContainer||(i=tr(".djs-palette-entries",this._container),this._toolsContainer=tr("[data-group=tools]",i)),_e(this._toolsContainer.children,function(s){var a=s.getAttribute("data-action");if(a){var l=Ns(s);a=a.replace("-tool",""),l.contains("entry")&&a===t?l.add("highlighted-entry"):l.remove("highlighted-entry")}})},Ho.prototype.isOpen=function(){return Ns(this._container).has(tz)},Ho.prototype._getParentContainer=function(){return this._canvas.getContainer()},Ho.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const bYe={__init__:["palette"],palette:["type",Ho]};function By(t,i,o,s,a,l,c){this._selection=a,this._dragging=o,this._mouse=c;var u=this;l.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(h){!h.hover&&!(h.originalEvent.target instanceof SVGElement)||t.once("lasso.selection.ended",function(){u.activateLasso(h.originalEvent,!0)})}),t.on("lasso.end",function(h){var g=nz(h),y=s.filter(function(E){return E});u.select(y,g)}),t.on("lasso.start",function(h){var g=h.context;g.bbox=nz(h),function(h){var y,g=i.getActiveLayer();Mt(y=h.frame=an("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),bn(g,y)}(g)}),t.on("lasso.move",function(h){var g=h.context;g.bbox=nz(h),function(h){var y=h.bbox;Mt(h.frame,{x:y.x,y:y.y,width:y.width,height:y.height})}(g)}),t.on("lasso.cleanup",function(h){!function(h){h.frame&&Eo(h.frame)}(h.context)}),t.on("element.mousedown",1500,function(h){if(jV(h))return u.activateLasso(h.originalEvent),!0})}function nz(t){var i={x:t.x-t.dx,y:t.y-t.dy},o={x:t.x,y:t.y};return i.x<=o.x&&i.y<o.y||i.x<o.x&&i.y<=o.y?{x:i.x,y:i.y,width:o.x-i.x,height:o.y-i.y}:i.x>=o.x&&i.y<o.y||i.x>o.x&&i.y<=o.y?{x:o.x,y:i.y,width:i.x-o.x,height:o.y-i.y}:i.x<=o.x&&i.y>o.y||i.x<o.x&&i.y>=o.y?{x:i.x,y:o.y,width:o.x-i.x,height:i.y-o.y}:i.x>=o.x&&i.y>o.y||i.x>o.x&&i.y>=o.y?{x:o.x,y:o.y,width:i.x-o.x,height:i.y-o.y}:{x:o.x,y:o.y,width:0,height:0}}By.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],By.prototype.activateLasso=function(t,i){this._dragging.init(t,"lasso",{autoActivate:i,cursor:"crosshair",data:{context:{}}})},By.prototype.activateSelection=function(t,i){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:i,cursor:"crosshair",data:{context:{}}})},By.prototype.select=function(t,i){var o=function zBe(t,i){var o={};return _e(t,function(s){var a=s;a.waypoints&&(a=jo(a)),!gn(i.y)&&a.x>i.x&&(o[s.id]=s),!gn(i.x)&&a.y>i.y&&(o[s.id]=s),a.x>i.x&&a.y>i.y&&(gn(i.width)&&gn(i.height)&&a.width+a.x<i.width+i.x&&a.height+a.y<i.height+i.y||!gn(i.width)||!gn(i.height))&&(o[s.id]=s)}),o}(t,i);this._selection.select(gI(o))},By.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)},By.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};const _Ye={__depends__:[CM,H6],__init__:["lassoTool"],lassoTool:["type",By]};function e_(t,i,o,s,a,l){this._dragging=o,this._mouse=l;var c=this,u=s.get("keyboard",!1);a.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",1500,function(p){if(V5(p))return c.activateMove(p.originalEvent,!0),!1}),u&&u.addListener(1500,function(p){if(k0e(p.keyEvent)&&!c.isActive()){var h=c._mouse.getLastMoveEvent();c.activateMove(h,!!h)}},"keyboard.keydown"),u&&u.addListener(1500,function(p){!k0e(p.keyEvent)||!c.isActive()||c.toggle()},"keyboard.keyup"),t.on("hand.end",function(p){if(!(p.hover||p.originalEvent.target instanceof SVGElement))return!1;t.once("hand.ended",function(){c.activateMove(p.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(p){var h=i.viewbox().scale;i.scroll({dx:p.dx*h,dy:p.dy*h})}),t.on("hand.move.end",function(p){var g=p.context.reactivate;return!V5(p)&&g&&t.once("hand.move.ended",function(y){c.activateHand(y.originalEvent,!0,!0)}),!1})}function k0e(t){return js("Space",t)}e_.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],e_.prototype.activateMove=function(t,i,o){"object"==typeof i&&(o=i,i=!1),this._dragging.init(t,"hand.move",{autoActivate:i,cursor:"grab",data:{context:o||{}}})},e_.prototype.activateHand=function(t,i,o){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:i,cursor:"grab",data:{context:{reactivate:o}}})},e_.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)},e_.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^(hand|hand\.move)$/.test(t.prefix)};const EYe={__depends__:[CM,H6],__init__:["handTool"],handTool:["type",e_]};var A0e="connect-ok",R0e="connect-not-ok";function t_(t,i,o,s,a,l,c){var u=this;this._dragging=i,this._rules=l,this._mouse=c,a.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(p){var h=p.context,g=p.hover,y=h.canStartConnect=u.canStartConnect(g);null!==y&&(h.startTarget=g,s.addMarker(g,y?A0e:R0e))}),t.on(["global-connect.out","global-connect.cleanup"],function(p){var h=p.context.startTarget;h&&s.removeMarker(h,p.context.canStartConnect?A0e:R0e)}),t.on(["global-connect.ended"],function(p){var g=p.context.startTarget,y={x:p.x,y:p.y};if(u.canStartConnect(g))return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),o.start(null,g,y)}),!1})}t_.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],t_.prototype.start=function(t,i){this._dragging.init(t,"global-connect",{autoActivate:i,trapClick:!1,data:{context:{}}})},t_.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)},t_.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)},t_.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const xYe={__depends__:[Mj,op,Wf,CM,H6],globalConnect:["type",t_]};function iz(t,i,o,s,a,l,c,u){this._palette=t,this._create=i,this._elementFactory=o,this._spaceTool=s,this._lassoTool=a,this._handTool=l,this._globalConnect=c,this._translate=u,t.registerProvider(this)}iz.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],iz.prototype.getPaletteEntries=function(){var t={},i=this._create,o=this._elementFactory,s=this._spaceTool,a=this._lassoTool,l=this._handTool,c=this._globalConnect,u=this._translate;function p(y,E,C,D,O){function A(N){var B=o.createShape(Re({type:y},O));O&&(Mr(B).isExpanded=O.isExpanded),i.start(N,B)}var F=y.replace(/^bpmn:/,"");return{group:E,className:C,title:D||u("Create {type}",{type:F}),action:{dragstart:A,click:A}}}function h(y){var E=o.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),C=o.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:E});i.start(y,[E,C],{hints:{autoSelect:[E]}})}function g(y){i.start(y,o.createParticipantShape())}return Re(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:u("Activate the hand tool"),action:{click:function(y){l.activateHand(y)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:u("Activate the lasso tool"),action:{click:function(y){a.activateSelection(y)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:u("Activate the create/remove space tool"),action:{click:function(y){s.activateSelection(y)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:u("Activate the global connect tool"),action:{click:function(y){c.start(y)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":p("bpmn:StartEvent","event","bpmn-icon-start-event-none",u("Create StartEvent")),"create.intermediate-event":p("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",u("Create Intermediate/Boundary Event")),"create.end-event":p("bpmn:EndEvent","event","bpmn-icon-end-event-none",u("Create EndEvent")),"create.exclusive-gateway":p("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",u("Create Gateway")),"create.task":p("bpmn:Task","activity","bpmn-icon-task",u("Create Task")),"create.data-object":p("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",u("Create DataObjectReference")),"create.data-store":p("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",u("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:u("Create expanded SubProcess"),action:{dragstart:h,click:h}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:u("Create Pool/Participant"),action:{dragstart:g,click:g}},"create.group":p("bpmn:Group","artifact","bpmn-icon-group",u("Create Group"))}),t};const wYe={__depends__:[bYe,UP,Lue,_Ye,EYe,xYe,fP],__init__:["paletteProvider"],paletteProvider:["type",iz]};function oz(t,i,o,s,a){ft.call(this,t),t.on("shape.move.move",250,function(u){var p=u.context,h=p.canExecute;p.visualReplacements||(p.visualReplacements={}),h&&h.replacements?function l(u){_e(u.canExecute.replacements,function(h){var g=h.oldElementId,y={type:h.newElementType};if(!u.visualReplacements[g]){var E=i.get(g);Re(y,{x:E.x,y:E.y});var C=o.createShape(y);s.addShape(C,E.parent);var D=tr('[data-element-id="'+P6(E.id)+'"]',u.dragGroup);D&&Mt(D,{display:"none"});var O=a.addDragger(C,u.dragGroup);u.visualReplacements[g]=O,s.removeShape(C)}})}(p):function c(u){var p=u.visualReplacements;_e(p,function(h,g){var y=tr('[data-element-id="'+P6(g)+'"]',u.dragGroup);y&&Mt(y,{display:"inline"}),h.remove(),p[g]&&delete p[g]})}(p)})}oz.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],jt(oz,ft);const SYe={__depends__:[$6],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",oz]};var N0e=["x","y"],MYe=Math.abs;function L0e(t){t.on(["connect.hover","connect.move","connect.end"],1250,function(i){var o=i.context,s=o.canExecute,a=o.start,l=o.hover,c=o.source,u=o.target;i.originalEvent&&Bc(i.originalEvent)||(o.initialConnectionStart||(o.initialConnectionStart=o.connectionStart),s&&l&&function OYe(t,i,o){N0e.forEach(function(s){var a=V0e(s,i);t[s]<i[s]+o?zo(t,s,i[s]+o):t[s]>i[s]+a-o&&zo(t,s,i[s]+a-o)})}(i,l,function IYe(t){return V(t,"bpmn:Task")?10:20}(l)),l&&function RYe(t,i){return xf(i,function(o){return B0e(t,o)})}(s,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(o.connectionStart=xu(a),sn(l,["bpmn:Event","bpmn:Gateway"])&&F0e(i,xu(l)),sn(l,["bpmn:Task","bpmn:SubProcess"])&&function kYe(t,i){var o=xu(i);N0e.forEach(function(s){(function NYe(t,i,o){return t[o]>i[o]+20&&t[o]<i[o]+V0e(o,i)-20})(t,i,s)&&zo(t,s,o[s])})}(i,l),V(c,"bpmn:BoundaryEvent")&&u===c.host&&function AYe(t){var i=t.context,o=i.source,s=i.target;if(!function LYe(t){var i=t.hover,o=t.source;return i&&o&&i===o}(i)){var a=xu(o),l=ga(a,s,-10),c=[];/top|bottom/.test(l)&&c.push("x"),/left|right/.test(l)&&c.push("y"),c.forEach(function(u){var p=t[u];MYe(p-a[u])<40&&zo(t,u,p>a[u]?a[u]+40:a[u]-40)})}}(i)):B0e(s,"bpmn:MessageFlow")?(V(a,"bpmn:Event")&&(o.connectionStart=xu(a)),V(l,"bpmn:Event")&&F0e(i,xu(l))):o.connectionStart=o.initialConnectionStart)})}function F0e(t,i){zo(t,"x",i.x),zo(t,"y",i.y)}function B0e(t,i){return t&&t.type===i}function V0e(t,i){return"x"===t?i.width:i.height}function h1(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function UM(){this._snapValues={}}L0e.$inject=["eventBus"],h1.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]},h1.prototype.setSnapOrigin=function(t,i){this._snapOrigins[t]=i,-1===this._snapLocations.indexOf(t)&&this._snapLocations.push(t)},h1.prototype.addDefaultSnap=function(t,i){var o=this._defaultSnaps[t];o||(o=this._defaultSnaps[t]=[]),o.push(i)},h1.prototype.getSnapLocations=function(){return this._snapLocations},h1.prototype.setSnapLocations=function(t){this._snapLocations=t},h1.prototype.pointsForTarget=function(t){var i=t.id||t,o=this._targets[i];return o||(o=this._targets[i]=new UM).initDefaults(this._defaultSnaps),o},UM.prototype.add=function(t,i){var o=this._snapValues[t];o||(o=this._snapValues[t]={x:[],y:[]}),-1===o.x.indexOf(i.x)&&o.x.push(i.x),-1===o.y.indexOf(i.y)&&o.y.push(i.y)},UM.prototype.snap=function(t,i,o,s){var a=this._snapValues[i];return a&&function YHe(t,i,o){var s,a;for(o=void 0===o?10:o,s=0;s<i.length;s++)if(XHe((a=i[s])-t)<=o)return a}(t[o],a[o],s)},UM.prototype.initDefaults=function(t){var i=this;_e(t||{},function(o,s){_e(o,function(a){i.add(s,a)})})};var FYe=1250;function ap(t,i,o){var s=this;this._elementRegistry=t,i.on(["create.start","shape.move.start"],function(a){s.initSnap(a)}),i.on(["create.move","create.end","shape.move.move","shape.move.end"],FYe,function(a){var l=a.context,c=l.shape,u=l.snapContext,p=l.target;if((!a.originalEvent||!Bc(a.originalEvent))&&!X5(a)&&p){var h=u.pointsForTarget(p);h.initialized||((h=s.addSnapTargetPoints(h,c,p)).initialized=!0),o.snap(a,h)}}),i.on(["create.cleanup","shape.move.cleanup"],function(){o.hide()})}function n_(t,i){i.invoke(ap,this),t.on(["create.move","create.end"],1500,zYe),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(o){var s=o.context,a=s.canExecute,l=s.target;a&&("attach"===a||a.attach)&&!X5(o)&&function VYe(t,i){var c,o=ln(i),s=mue(t,i),l=t.context.shape;c=l.parent?{x:0,y:0}:Sn(l),/top/.test(s)?zo(t,"y",o.top-c.y):/bottom/.test(s)&&zo(t,"y",o.bottom-c.y),/left/.test(s)?zo(t,"x",o.left-c.x):/right/.test(s)&&zo(t,"x",o.right-c.x)}(o,l)})}function zYe(t){var o=t.context.createConstraints;if(o){var s=o.top,a=o.right,l=o.bottom,c=o.left;(c&&c>=t.x||a&&a<=t.x)&&zo(t,"x",t.x),(s&&s>=t.y||l&&l<=t.y)&&zo(t,"y",t.y)}}function $0e(t,i){return-1!==t.indexOf(i)}function z0e(t,i,o){return i?{x:t.x-o.x,y:t.y-o.y}:{x:t.x,y:t.y}}function yC(t,i){var o=this;t.on(["resize.start"],function(s){o.initSnap(s)}),t.on(["resize.move","resize.end"],1250,function(s){var a=s.context,l=a.shape,c=l.parent,u=a.direction,p=a.snapContext;if(!(s.originalEvent&&Bc(s.originalEvent)||X5(s))){var h=p.pointsForTarget(c);h.initialized||((h=o.addSnapTargetPoints(h,l,c,u)).initialized=!0),function qYe(t){return"n"===t||"s"===t}(u)&&zo(s,"x",s.x),function WYe(t){return"e"===t||"w"===t}(u)&&zo(s,"y",s.y),i.snap(s,h)}}),t.on(["resize.cleanup"],function(){i.hide()})}function H0e(t,i){var o=Sn(t),s=ln(t),a={x:o.x,y:o.y};return-1!==i.indexOf("n")?a.y=s.top:-1!==i.indexOf("s")&&(a.y=s.bottom),-1!==i.indexOf("e")?a.x=s.right:-1!==i.indexOf("w")&&(a.x=s.left),a}function m1(t){this._canvas=t,this._asyncHide=yI(vl(this.hide,this),1e3)}ap.$inject=["elementRegistry","eventBus","snapping"],ap.prototype.initSnap=function(t){var l,i=this._elementRegistry,o=t.context,s=o.shape,a=o.snapContext;a||(a=o.snapContext=new h1);var c_x=(l=i.get(s.id)?xu(s,t):{x:t.x+xu(s).x,y:t.y+xu(s).y}).x-s.width/2,c_y=l.y-s.height/2,u_x=l.x+s.width/2,u_y=l.y+s.height/2;return a.setSnapOrigin("mid",{x:l.x-t.x,y:l.y-t.y}),Ir(s)||(a.setSnapOrigin("top-left",{x:c_x-t.x,y:c_y-t.y}),a.setSnapOrigin("bottom-right",{x:u_x-t.x,y:u_y-t.y})),a},ap.prototype.addSnapTargetPoints=function(t,i,o){return _e(this.getSnapTargets(i,o),function(a){if(Ir(a))Ir(i)&&t.add("mid",xu(a));else if(Mi(a)){if(a.waypoints.length<3)return;_e(a.waypoints.slice(1,-1),function(c){t.add("mid",c)})}else t.add("mid",xu(a))}),!gn(i.x)||!gn(i.y)||this._elementRegistry.get(i.id)&&t.add("mid",xu(i)),t},ap.prototype.getSnapTargets=function(t,i){return wle(i).filter(function(o){return!function BYe(t){return!!t.hidden}(o)})},jt(n_,ap),n_.$inject=["eventBus","injector"],n_.prototype.initSnap=function(t){var i=ap.prototype.initSnap.call(this,t),o=t.shape,s=!!this._elementRegistry.get(o.id);return _e(o.outgoing,function(a){var l=a.waypoints[0];i.setSnapOrigin(a.id+"-docking",z0e(l=l.original||l,s,t))}),_e(o.incoming,function(a){var l=a.waypoints[a.waypoints.length-1];i.setSnapOrigin(a.id+"-docking",z0e(l=l.original||l,s,t))}),V(o,"bpmn:Participant")&&i.setSnapLocations(["top-left","bottom-right","mid"]),i},n_.prototype.addSnapTargetPoints=function(t,i,o){ap.prototype.addSnapTargetPoints.call(this,t,i,o);var s=this.getSnapTargets(i,o);_e(s,function(l){(function $Ye(t){return!(!V(t,"bpmn:SubProcess")||!mr(t))||V(t,"bpmn:Participant")}(l)||function jYe(t,i){return t.every(function(o){return V(o,i)})}([i,l],"bpmn:TextAnnotation"))&&(t.add("top-left",Ele(l)),t.add("bottom-right",xle(l)))});var a=this._elementRegistry;return _e(i.incoming,function(l){if(a.get(i.id)){$0e(s,l.source)||t.add("mid",Sn(l.source));var c=l.waypoints[0];t.add(l.id+"-docking",c.original||c)}}),_e(i.outgoing,function(l){if(a.get(i.id)){$0e(s,l.target)||t.add("mid",Sn(l.target));var c=l.waypoints[l.waypoints.length-1];t.add(l.id+"-docking",c.original||c)}}),V(o,"bpmn:SequenceFlow")&&(t=this.addSnapTargetPoints(t,i,o.parent)),t},n_.prototype.getSnapTargets=function(t,i){return ap.prototype.getSnapTargets.call(this,t,i).filter(function(o){return!V(o,"bpmn:Lane")})},yC.prototype.initSnap=function(t){var i=t.context,o=i.shape,s=i.direction,a=i.snapContext;a||(a=i.snapContext=new h1);var l=H0e(o,s);return a.setSnapOrigin("corner",{x:l.x-t.x,y:l.y-t.y}),a},yC.prototype.addSnapTargetPoints=function(t,i,o,s){return _e(this.getSnapTargets(i,o),function(l){t.add("corner",xle(l)),t.add("corner",Ele(l))}),t.add("corner",H0e(i,s)),t},yC.$inject=["eventBus","snapping"],yC.prototype.getSnapTargets=function(t,i){return wle(i).filter(function(o){return!(function UYe(t,i){return t.host===i}(o,t)||Mi(o)||function GYe(t){return!!t.hidden}(o)||Ir(o))})},m1.$inject=["canvas"],m1.prototype.snap=function(t,i){var s=t.context.snapContext,a=s.getSnapLocations(),l={x:X5(t,"x"),y:X5(t,"y")};_e(a,function(c){var u=s.getSnapOrigin(c),p={x:t.x+u.x,y:t.y+u.y};if(_e(["x","y"],function(h){var g;l[h]||void 0!==(g=i.snap(p,c,h,7))&&(l[h]={value:g,originValue:g-u[h]})}),l.x&&l.y)return!1}),this.showSnapLine("vertical",l.x&&l.x.value),this.showSnapLine("horizontal",l.y&&l.y.value),_e(["x","y"],function(c){var u=l[c];Lo(u)&&zo(t,c,u.originValue)})},m1.prototype._createLine=function(t){var i=this._canvas.getLayer("snap"),o=an("path");return Mt(o,{d:"M0,0 L0,0"}),ur(o).add("djs-snap-line"),bn(i,o),{update:function(s){gn(s)?Mt(o,"horizontal"===t?{d:"M-100000,"+s+" L+100000,"+s,display:""}:{d:"M "+s+",-100000 L "+s+", +100000",display:""}):Mt(o,{display:"none"})}}},m1.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},m1.prototype.showSnapLine=function(t,i){var o=this.getSnapLine(t);o&&o.update(i),this._asyncHide()},m1.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]},m1.prototype.hide=function(){_e(this._snapLines,function(t){t.update()})};const KYe={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",ap],resizeSnapping:["type",yC],snapping:["type",m1]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",L0e],createMoveSnapping:["type",n_]};function Pn(t,i,o,s){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=t,this._eventBus=i,this._overlays=o,this._selection=s,this._container=fi(Pn.BOX_HTML),this._searchInput=tr(Pn.INPUT_SELECTOR,this._container),this._resultsContainer=tr(Pn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),i.on(["canvas.destroy","diagram.destroy"],this.close,this)}function U0e(t,i,o){var s=function ZYe(t){var i="";return t.forEach(function(o){i+=o.matched?'<strong class="'+Pn.RESULT_HIGHLIGHT_CLASS+'">'+GV(o.matched)+"</strong>":GV(o.normal)}),""!==i?i:null}(i),a=fi(o);a.innerHTML=s,t.appendChild(a)}Pn.$inject=["canvas","eventBus","overlays","selection"],Pn.prototype._bindEvents=function(){var t=this;function i(o,s,a,l){t._eventMaps.push({el:o,type:a,listener:La.bind(o,s,a,l)})}i(document,"html","click",function(o){t.close()}),i(this._container,Pn.INPUT_SELECTOR,"click",function(o){o.stopPropagation(),o.delegateTarget.focus()}),i(this._container,Pn.RESULT_SELECTOR,"mouseover",function(o){o.stopPropagation(),t._scrollToNode(o.delegateTarget),t._preselect(o.delegateTarget)}),i(this._container,Pn.RESULT_SELECTOR,"click",function(o){o.stopPropagation(),t._select(o.delegateTarget)}),i(this._container,Pn.INPUT_SELECTOR,"keydown",function(o){js("ArrowUp",o)&&o.preventDefault(),js("ArrowDown",o)&&o.preventDefault()}),i(this._container,Pn.INPUT_SELECTOR,"keyup",function(o){if(js("Escape",o))return t.close();if(js("Enter",o)){var s=t._getCurrentResult();return s?t._select(s):t.close()}return js("ArrowUp",o)?t._scrollToDirection(!0):js("ArrowDown",o)?t._scrollToDirection():void(js(["ArrowLeft","ArrowRight"],o)||t._search(o.delegateTarget.value))})},Pn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(t){La.unbind(t.el,t.type,t.listener)})},Pn.prototype._search=function(t){var i=this;if(this._clearResults(),t&&""!==t){var o=this._searchProvider.find(t);if(o.length){o.forEach(function(a){var l=a.element.id,c=i._createResultNode(a,l);i._results[l]={element:a.element,node:c}});var s=tr(Pn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(s),this._preselect(s)}}},Pn.prototype._scrollToDirection=function(t){var i=this._getCurrentResult();if(i){var o=t?i.previousElementSibling:i.nextElementSibling;o&&(this._scrollToNode(o),this._preselect(o))}},Pn.prototype._scrollToNode=function(t){if(t&&t!==this._getCurrentResult()){var i=t.offsetTop,o=this._resultsContainer.scrollTop,s=i-this._resultsContainer.clientHeight+t.clientHeight;i<o?this._resultsContainer.scrollTop=i:o<s&&(this._resultsContainer.scrollTop=s)}},Pn.prototype._clearResults=function(){GD(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Pn.prototype._getCurrentResult=function(){return tr(Pn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Pn.prototype._createResultNode=function(t,i){var o=fi(Pn.RESULT_HTML);return t.primaryTokens.length>0&&U0e(o,t.primaryTokens,Pn.RESULT_PRIMARY_HTML),U0e(o,t.secondaryTokens,Pn.RESULT_SECONDARY_HTML),Na(o,Pn.RESULT_ID_ATTRIBUTE,i),this._resultsContainer.appendChild(o),o},Pn.prototype.registerProvider=function(t){this._searchProvider=t},Pn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Ns(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Pn.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Ns(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Pn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Pn.prototype.isOpen=function(){return this._open},Pn.prototype._preselect=function(t){var i=this._getCurrentResult();if(t!==i){i&&Ns(i).remove(Pn.RESULT_SELECTED_CLASS);var o=Na(t,Pn.RESULT_ID_ATTRIBUTE),s=this._results[o].element;Ns(t).add(Pn.RESULT_SELECTED_CLASS),this._resetOverlay(s),this._canvas.scrollToElement(s,{top:400}),this._selection.select(s),this._eventBus.fire("searchPad.preselected",s)}},Pn.prototype._select=function(t){var i=Na(t,Pn.RESULT_ID_ATTRIBUTE),o=this._results[i].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(o,{top:400}),this._selection.select(o),this._eventBus.fire("searchPad.selected",o)},Pn.prototype._resetOverlay=function(t){if(this._overlayId&&this._overlays.remove(this._overlayId),t){var o=function QYe(t){var o=t.width+12,s=t.height+12,a={width:o+"px",height:s+"px"},l=fi('<div class="'+Pn.OVERLAY_CLASS+'"></div>');return Zs(l,a),{position:{bottom:s-6,right:o-6},show:!0,html:l}}(jo(t));this._overlayId=this._overlays.add(t,o)}},Pn.CONTAINER_SELECTOR=".djs-search-container",Pn.INPUT_SELECTOR=".djs-search-input input",Pn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Pn.RESULT_SELECTOR=".djs-search-result",Pn.RESULT_SELECTED_SELECTOR="."+(Pn.RESULT_SELECTED_CLASS="djs-search-result-selected"),Pn.RESULT_ID_ATTRIBUTE="data-result-id",Pn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Pn.OVERLAY_CLASS="djs-search-overlay",Pn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Pn.RESULT_HTML='<div class="djs-search-result"></div>',Pn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Pn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const JYe={__depends__:[bP,rp],searchPad:["type",Pn]};function az(t,i,o){this._elementRegistry=t,this._canvas=o,i.registerProvider(this)}function G0e(t){return On(t,function(o){return!!o.matched}).length>0}function q0e(t,i){var o=[],s=t;if(!t)return o;t=t.toLowerCase(),i=i.toLowerCase();var a=t.indexOf(i);return a>-1?(0!==a&&o.push({normal:s.substr(0,a)}),o.push({matched:s.substr(a,i.length)}),i.length+a<t.length&&o.push({normal:s.substr(i.length+a,t.length)})):o.push({normal:s}),o}az.$inject=["elementRegistry","searchPad","canvas"],az.prototype.find=function(t){var i=this._canvas.getRootElement(),o=this._elementRegistry.filter(function(s){return!s.labelTarget});return o=On(o,function(s){return s!==i}),fs(o=On(o=Fo(o,function(s){return{primaryTokens:q0e(Ic(s),t),secondaryTokens:q0e(s.id,t),element:s}}),function(s){return G0e(s.primaryTokens)||G0e(s.secondaryTokens)}),function(s){return Ic(s.element)+s.element.id})};const eKe={__depends__:[JYe],__init__:["bpmnSearch"],bpmnSearch:["type",az]};function lp(t){S6.call(this,t)}function nKe(t){return[{id:"business",element:t,component:rKe,isEdited:Dt},{id:"prsb",element:t,component:iKe,isEdited:Dt},{id:"openehr",element:t,component:oKe,isEdited:Dt}]}function rKe(t){const{element:i,id:o}=t,s=L("modeling"),a=L("translate"),l=L("debounceInput"),p=a("Custom property"),h=a("Business Model");return new ot({id:o,element:i,getValue:()=>i.businessObject.business||"",setValue:g=>s.updateProperties(i,{business:g}),debounce:l,title:p,description:h})}function iKe(t){const{element:i,id:o}=t,s=L("modeling"),a=L("translate"),l=L("debounceInput"),p=a("Custom property"),h=a("Part of PRSB Standard");return new ot({id:o,element:i,getValue:()=>i.businessObject.prsb||"",setValue:g=>s.updateProperties(i,{prsb:g}),debounce:l,title:p,description:h})}function oKe(t){const{element:i,id:o}=t,s=L("modeling"),a=L("translate"),l=L("debounceInput"),p=a("Custom property"),h=a("openEHR Template");return new ot({id:o,element:i,getValue:()=>i.businessObject.openehr||"",setValue:g=>s.updateProperties(i,{openehr:g}),debounce:l,title:p,description:h})}function W0e(t,i){this.getGroups=function(o){return function(s){return V(o,"bpmn:Task")&&s.push(function aKe(t,i){return{id:"custom",label:i("Information Model"),entries:nKe(t)}}(o,i)),s}},t.registerProvider(500,this)}jt(lp,S6),lp.Viewer=n1,lp.NavigatedViewer=O6,lp.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},lp.prototype._modules=[].concat(n1.prototype._modules,lp.prototype._interactionModules=[eae,iae,Mze,aae],lp.prototype._modelingModules=[aHe,Xae,kHe,SHe,QHe,Mj,rUe,aGe,Yle,UP,pGe,mGe,OGe,RGe,IGe,VGe,QGe,JXe,oYe,fYe,wYe,SYe,Dce,KYe,eKe]),W0e.$inject=["propertiesPanel","translate"];const lKe={__init__:["customPropertiesProvider"],customPropertiesProvider:["type",W0e]};var cKe=Hn(578);let X0e=(()=>{class t{constructor(o,s){this._renderer=o,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(o,s){this._renderer.setProperty(this._elementRef.nativeElement,o,s)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}static#e=this.\u0275fac=function(s){return new(s||t)(at(Ec),at(vo))};static#t=this.\u0275dir=Cn({type:t})}return t})(),Vy=(()=>{class t extends X0e{static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=Yo(t)))(a||t)}})();static#t=this.\u0275dir=Cn({type:t,features:[we]})}return t})();const cp=new Ct(""),pKe={provide:cp,useExisting:jr(()=>GM),multi:!0},hKe=new Ct("");let GM=(()=>{class t extends X0e{constructor(o,s,a){super(o,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fKe(){const t=Em()?Em().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(o){this.setProperty("value",o??"")}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}static#e=this.\u0275fac=function(s){return new(s||t)(at(Ec),at(vo),at(hKe,8))};static#t=this.\u0275dir=Cn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,a){1&s&&dl("input",function(c){return a._handleInput(c.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(c){return a._compositionEnd(c.target.value)})},features:[_o([pKe]),we]})}return t})();const Ga=new Ct(""),v1=new Ct("");function ode(t){return null!=t}function sde(t){return xx(t)?ps(t):t}function ade(t){let i={};return t.forEach(o=>{i=null!=o?{...i,...o}:i}),0===Object.keys(i).length?null:i}function lde(t,i){return i.map(o=>o(t))}function cde(t){return t.map(i=>function gKe(t){return!t.validate}(i)?i:o=>i.validate(o))}function lz(t){return null!=t?function ude(t){if(!t)return null;const i=t.filter(ode);return 0==i.length?null:function(o){return ade(lde(o,i))}}(cde(t)):null}function cz(t){return null!=t?function dde(t){if(!t)return null;const i=t.filter(ode);return 0==i.length?null:function(o){return function uKe(...t){const i=bW(t),{args:o,keys:s}=_W(t),a=new Ar(l=>{const{length:c}=o;if(!c)return void l.complete();const u=new Array(c);let p=c,h=c;for(let g=0;g<c;g++){let y=!1;Md(o[g]).subscribe(no(l,E=>{y||(y=!0,h--),u[g]=E},()=>p--,void 0,()=>{(!p||!y)&&(h||l.next(s?xW(s,u):u),l.complete())}))}});return i?a.pipe(EW(i)):a}(lde(o,i).map(sde)).pipe(yr(ade))}}(cde(t)):null}function pde(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function uz(t){return t?Array.isArray(t)?t:[t]:[]}function WM(t,i){return Array.isArray(t)?t.includes(i):t===i}function mde(t,i){const o=uz(i);return uz(t).forEach(a=>{WM(o,a)||o.push(a)}),o}function gde(t,i){return uz(i).filter(o=>!WM(t,o))}class vde{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=lz(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=cz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}class Pl extends vde{get formDirective(){return null}get path(){return null}}class y1 extends vde{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yde{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bde=(()=>{class t extends yde{constructor(o){super(o)}static#e=this.\u0275fac=function(s){return new(s||t)(at(y1,2))};static#t=this.\u0275dir=Cn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,a){2&s&&L7("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[we]})}return t})();const bC="VALID",YM="INVALID",r_="PENDING",_C="DISABLED";function KM(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mz{constructor(i,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===bC}get invalid(){return this.status===YM}get pending(){return this.status==r_}get disabled(){return this.status===_C}get enabled(){return this.status!==_C}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(mde(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(mde(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(gde(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(gde(i,this._rawAsyncValidators))}hasValidator(i){return WM(this._rawValidators,i)}hasAsyncValidator(i){return WM(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=r_,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const o=this._parentMarkedDirty(i.onlySelf);this.status=_C,this.errors=null,this._forEachChild(s=>{s.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:o}),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const o=this._parentMarkedDirty(i.onlySelf);this.status=bC,this._forEachChild(s=>{s.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:o}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bC||this.status===r_)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_C:bC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=r_,this._hasOwnPendingAsyncValidator=!0;const o=sde(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,o={}){this.errors=i,this._updateControlsErrors(!1!==o.emitEvent)}get(i){let o=i;return null==o||(Array.isArray(o)||(o=o.split(".")),0===o.length)?null:o.reduce((s,a)=>s&&s._find(a),this)}getError(i,o){const s=o?this.get(o):this;return s&&s.errors?s.errors[i]:null}hasError(i,o){return!!this.getError(i,o)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new Ii,this.statusChanges=new Ii}_calculateStatus(){return this._allControlsDisabled()?_C:this.errors?YM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(r_)?r_:this._anyControlsHaveStatus(YM)?YM:bC}_anyControlsHaveStatus(i){return this._anyControls(o=>o.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){KM(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function EKe(t){return Array.isArray(t)?lz(t):t||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function xKe(t){return Array.isArray(t)?cz(t):t||null}(this._rawAsyncValidators)}}const i_=new Ct("CallSetDisabledState",{providedIn:"root",factory:()=>QM}),QM="always";function EC(t,i,o=QM){(function vz(t,i){const o=function fde(t){return t._rawValidators}(t);null!==i.validator?t.setValidators(pde(o,i.validator)):"function"==typeof o&&t.setValidators([o]);const s=function hde(t){return t._rawAsyncValidators}(t);null!==i.asyncValidator?t.setAsyncValidators(pde(s,i.asyncValidator)):"function"==typeof s&&t.setAsyncValidators([s]);const a=()=>t.updateValueAndValidity();eO(i._rawValidators,a),eO(i._rawAsyncValidators,a)})(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||"always"===o)&&i.valueAccessor.setDisabledState?.(t.disabled),function SKe(t,i){i.valueAccessor.registerOnChange(o=>{t._pendingValue=o,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wde(t,i)})}(t,i),function TKe(t,i){const o=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};t.registerOnChange(o),i._registerOnDestroy(()=>{t._unregisterOnChange(o)})}(t,i),function DKe(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wde(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function CKe(t,i){if(i.valueAccessor.setDisabledState){const o=s=>{i.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(o),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(o)})}}(t,i)}function eO(t,i){t.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(i)})}function wde(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dde(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}function Tde(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const Pde=class extends mz{constructor(i=null,o,s){super(function fz(t){return(KM(t)?t.validators:t)||null}(o),function hz(t,i){return(KM(i)?i.asyncValidators:t)||null}(s,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KM(o)&&(o.nonNullable||o.initialValueIsDefault)&&(this.defaultValue=Tde(i)?i.value:i)}setValue(i,o={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==o.emitViewToModelChange)),this.updateValueAndValidity(o)}patchValue(i,o={}){this.setValue(i,o)}reset(i=this.defaultValue,o={}){this._applyFormState(i),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Dde(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Dde(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){Tde(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},NKe={provide:y1,useExisting:jr(()=>xz)},kde=Promise.resolve();let xz=(()=>{class t extends y1{constructor(o,s,a,l,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new Pde,this._registered=!1,this.name="",this.update=new Ii,this._parent=o,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function _z(t,i){if(!i)return null;let o,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===GM?o=l:function OKe(t){return Object.getPrototypeOf(t.constructor)===Vy}(l)?s=l:a=l}),a||s||o||null}(0,l)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){const s=o.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),function bz(t,i){if(!t.hasOwnProperty("model"))return!1;const o=t.model;return!!o.isFirstChange()||!Object.is(i,o.currentValue)}(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){EC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(o){kde.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){const s=o.isDisabled.currentValue,a=0!==s&&function _3(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(s);kde.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?function ZM(t,i){return[...i.path,t]}(o,this._parent):[o]}static#e=this.\u0275fac=function(s){return new(s||t)(at(Pl,9),at(Ga,10),at(v1,10),at(cp,10),at(wx,8),at(i_,8))};static#t=this.\u0275dir=Cn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Jr.None,"disabled","isDisabled"],model:[Jr.None,"ngModel","model"],options:[Jr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_o([NKe]),we,Ao]})}return t})(),sQe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({})}return t})(),lQe=(()=>{class t{static withConfig(o){return{ngModule:t,providers:[{provide:i_,useValue:o.callSetDisabledState??QM}]}}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({imports:[sQe]})}return t})();const cQe=["diagramRef"],uQe=["propertiesRef"],dQe=Hn(343);Hn(973);let pQe=(()=>{class t{constructor(){this.xml='<?xml version="1.0" encoding="UTF-8"?>\n  <bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn">\n    <bpmn2:process id="Process_1" isExecutable="false">\n      <bpmn2:startEvent id="StartEvent_1"/>\n    </bpmn2:process>\n    <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n      <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n        <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n          <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>\n        </bpmndi:BPMNShape>\n      </bpmndi:BPMNPlane>\n    </bpmndi:BPMNDiagram>\n  </bpmn2:definitions>',this.fileName="",this.fileLoadedFile=new Ii,this.bpmnJS=new lp({container:this.diagramRef?.nativeElement,propertiesPanel:{parent:this.propertiesRef},additionalModules:[cPe,VMe,lKe],moddleExtensions:{custom:dQe}})}ngAfterContentInit(){this.bpmnJS.attachTo(this.diagramRef.nativeElement),this.bpmnJS.get("propertiesPanel").attachTo(this.propertiesRef.nativeElement),this.importDiagram(this.xml)}ngOnDestroy(){this.bpmnJS.destroy()}importDiagram(o){return ps(this.bpmnJS.importXML(o))}save(){this.bpmnJS?.saveXML().then(o=>{const s=o.xml;if(void 0!==s){const l=new Blob([this.prettifyXml(s)],{type:"text/xml"});var a="model.bpmn";void 0!==this.fileName&&(a=this.fileName.split(/(\\|\/)/g).pop()),(0,cKe.saveAs)(l,a)}}).catch(function(o){console.log(o)})}new(){this.importDiagram(this.xml),console.log(this.fileName),this.fileName=""}convert(){}onFileSelected(o){const s=o.target.files[0];if(s&&s instanceof File){const a=new FileReader;a.readAsBinaryString(s),this.fileLoadedFile.subscribe(c=>{this.importDiagram(c)});const l=this;a.onload=c=>{a.result instanceof ArrayBuffer?l.fileLoaded.emit(String.fromCharCode.apply(null,a.result)):null!==a.result&&l.fileLoadedFile.emit(a.result)},a.onerror=function(c){console.log("Error: ",c)}}}prettifyXml(o){var s=(new DOMParser).parseFromString(o,"application/xml"),a=(new DOMParser).parseFromString(['<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform">','  <xsl:strip-space elements="*"/>','  <xsl:template match="para[content-style][not(text())]">','    <xsl:value-of select="normalize-space(.)"/>',"  </xsl:template>",'  <xsl:template match="node()|@*">','    <xsl:copy><xsl:apply-templates select="node()|@*"/></xsl:copy>',"  </xsl:template>",'  <xsl:output indent="yes"/>',"</xsl:stylesheet>"].join("\n"),"application/xml"),l=new XSLTProcessor;l.importStylesheet(a);var c=l.transformToDocument(s);return(new XMLSerializer).serializeToString(c)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=N1({type:t,selectors:[["app-diagram"]],viewQuery:function(s,a){if(1&s&&(TA(cQe,7),TA(uQe,7)),2&s){let l;z7(l=H7())&&(a.diagramRef=l.first),z7(l=H7())&&(a.propertiesRef=l.first)}},decls:13,vars:1,consts:[["diagramRef",""],["propertiesRef",""],["layout","row","layout-align","space-between left"],["color","primary","mat-button","",3,"click"],["type","file",1,"file-upload",3,"change","ngModelChange","ngModel"],[1,"container",2,"height","calc(100vh - 100px)"],[1,"diagram-container"],[1,"properties-container"]],template:function(s,a){if(1&s){const l=function RH(){return We()}();Mv(0,"div",2)(1,"button",3),dl("click",function(){return Cp(l),Ta(a.new())}),gx(2,"New"),ym(),gx(3,"\xa0 "),Mv(4,"input",4),dl("change",function(u){return Cp(l),Ta(a.onFileSelected(u))}),OA("ngModelChange",function(u){return Cp(l),function zU(t,i){const o=KE(t);return o&&t.set(i),o}(a.fileName,u)||(a.fileName=u),Ta(u)}),ym(),Mv(5,"button",3),dl("click",function(){return Cp(l),Ta(a.save())}),gx(6,"Save"),ym(),gx(7,"\xa0 "),ym(),Mv(8,"div",5),cx(9,"div",6,0)(11,"div",7,1),ym()}2&s&&(function N8(t=1){Y4(pr(),We(),Ss()+t,!1)}(4),MA("ngModel",a.fileName))},dependencies:[GM,bde,xz],styles:[".diagram-container[_ngcontent-%COMP%]{width:100%;height:800px;flex-grow:4}.properties-container[_ngcontent-%COMP%]{width:20%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%;height:100%}"]})}return t})(),fQe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=N1({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(s,a){1&s&&cx(0,"app-diagram")},dependencies:[pQe]})}return t})();class nO{}class rO{}class Mu{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(o=>{const s=o.indexOf(":");if(s>0){const a=o.slice(0,s),l=a.toLowerCase(),c=o.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((o,s)=>{this.setHeaderEntries(s,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([o,s])=>{this.setHeaderEntries(o,s)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const o=this.headers.get(i.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,o){return this.clone({name:i,value:o,op:"a"})}set(i,o){return this.clone({name:i,value:o,op:"s"})}delete(i,o){return this.clone({name:i,value:o,op:"d"})}maybeSetNormalizedName(i,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,i)}init(){this.lazyInit&&(this.lazyInit instanceof Mu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(o=>{this.headers.set(o,i.headers.get(o)),this.normalizedNames.set(o,i.normalizedNames.get(o))})}clone(i){const o=new Mu;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof Mu?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([i]),o}applyUpdate(i){const o=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,o);const a=("a"===i.op?this.headers.get(o):void 0)||[];a.push(...s),this.headers.set(o,a);break;case"d":const l=i.value;if(l){let c=this.headers.get(o);if(!c)return;c=c.filter(u=>-1===l.indexOf(u)),0===c.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,c)}else this.headers.delete(o),this.normalizedNames.delete(o)}}setHeaderEntries(i,o){const s=(Array.isArray(o)?o:[o]).map(l=>l.toString()),a=i.toLowerCase();this.headers.set(a,s),this.maybeSetNormalizedName(i,a)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>i(this.normalizedNames.get(o),this.headers.get(o)))}}class hQe{encodeKey(i){return Kde(i)}encodeValue(i){return Kde(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const gQe=/%(\d[a-f0-9])/gi,vQe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kde(t){return encodeURIComponent(t).replace(gQe,(i,o)=>vQe[o]??i)}function iO(t){return`${t}`}class b1{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new hQe,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mQe(t,i){const o=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[c,u]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],p=o.get(c)||[];p.push(u),o.set(c,p)}),o}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(o=>{const s=i.fromObject[o],a=Array.isArray(s)?s.map(iO):[iO(s)];this.map.set(o,a)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const o=this.map.get(i);return o?o[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,o){return this.clone({param:i,value:o,op:"a"})}appendAll(i){const o=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{o.push({param:s,value:l,op:"a"})}):o.push({param:s,value:a,op:"a"})}),this.clone(o)}set(i,o){return this.clone({param:i,value:o,op:"s"})}delete(i,o){return this.clone({param:i,value:o,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const o=this.encoder.encodeKey(i);return this.map.get(i).map(s=>o+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const o=new b1({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(i),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const o=("a"===i.op?this.map.get(i.param):void 0)||[];o.push(iO(i.value)),this.map.set(i.param,o);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(iO(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class yQe{constructor(){this.map=new Map}set(i,o){return this.map.set(i,o),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function Qde(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Zde(t){return typeof Blob<"u"&&t instanceof Blob}function Jde(t){return typeof FormData<"u"&&t instanceof FormData}class wC{constructor(i,o,s,a){let l;if(this.url=o,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function bQe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new Mu,this.context??=new yQe,this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=o;else{const u=o.indexOf("?");this.urlWithParams=o+(-1===u?"?":u<o.length-1?"&":"")+c}}else this.params=new b1,this.urlWithParams=o}serializeBody(){return null===this.body?null:"string"==typeof this.body||Qde(this.body)||Zde(this.body)||Jde(this.body)||function _Qe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof b1?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jde(this.body)?null:Zde(this.body)?this.body.type||null:Qde(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof b1?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const o=i.method||this.method,s=i.url||this.url,a=i.responseType||this.responseType,l=i.transferCache??this.transferCache,c=void 0!==i.body?i.body:this.body,u=i.withCredentials??this.withCredentials,p=i.reportProgress??this.reportProgress;let h=i.headers||this.headers,g=i.params||this.params;const y=i.context??this.context;return void 0!==i.setHeaders&&(h=Object.keys(i.setHeaders).reduce((E,C)=>E.set(C,i.setHeaders[C]),h)),i.setParams&&(g=Object.keys(i.setParams).reduce((E,C)=>E.set(C,i.setParams[C]),g)),new wC(o,s,c,{params:g,headers:h,context:y,reportProgress:p,responseType:a,withCredentials:u,transferCache:l})}}var _1=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_1||{});class Mz{constructor(i,o=CC.Ok,s="OK"){this.headers=i.headers||new Mu,this.status=void 0!==i.status?i.status:o,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class oO extends Mz{constructor(i={}){super(i),this.type=_1.ResponseHeader}clone(i={}){return new oO({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class $y extends Mz{constructor(i={}){super(i),this.type=_1.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new $y({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class o_ extends Mz{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}var CC=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(CC||{});function Oz(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let EQe=(()=>{class t{constructor(o){this.handler=o}request(o,s,a={}){let l;if(o instanceof wC)l=o;else{let p,h;p=a.headers instanceof Mu?a.headers:new Mu(a.headers),a.params&&(h=a.params instanceof b1?a.params:new b1({fromObject:a.params})),l=new wC(o,s,void 0!==a.body?a.body:null,{headers:p,context:a.context,params:h,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}const c=Vn(l).pipe(w3(p=>this.handler.handle(p)));if(o instanceof wC||"events"===a.observe)return c;const u=c.pipe(vf(p=>p instanceof $y));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(yr(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe(yr(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe(yr(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return u.pipe(yr(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(o,s={}){return this.request("DELETE",o,s)}get(o,s={}){return this.request("GET",o,s)}head(o,s={}){return this.request("HEAD",o,s)}jsonp(o,s){return this.request("JSONP",o,{params:(new b1).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,s={}){return this.request("OPTIONS",o,s)}patch(o,s,a={}){return this.request("PATCH",o,Oz(a,s))}post(o,s,a={}){return this.request("POST",o,Oz(a,s))}put(o,s,a={}){return this.request("PUT",o,Oz(a,s))}static#e=this.\u0275fac=function(s){return new(s||t)(dn(nO))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();function tpe(t,i){return i(t)}function DQe(t,i){return(o,s)=>i.intercept(o,{handle:a=>t(a,s)})}const PQe=new Ct(""),SC=new Ct(""),npe=new Ct(""),rpe=new Ct("");function MQe(){let t=null;return(i,o)=>{null===t&&(t=(nt(PQe,{optional:!0})??[]).reduceRight(DQe,tpe));const s=nt(xr),a=s.add();return t(i,o).pipe(Rx(()=>s.remove(a)))}}let ipe=(()=>{class t extends nO{constructor(o,s){super(),this.backend=o,this.injector=s,this.chain=null,this.pendingTasks=nt(xr);const a=nt(rpe,{optional:!0});this.backend=a??o}handle(o){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(SC),...this.injector.get(npe,[])]));this.chain=a.reduceRight((l,c)=>function TQe(t,i,o){return(s,a)=>ls(o,()=>i(s,l=>t(l,a)))}(l,c,this.injector),tpe)}const s=this.pendingTasks.add();return this.chain(o,a=>this.backend.handle(a)).pipe(Rx(()=>this.pendingTasks.remove(s)))}static#e=this.\u0275fac=function(s){return new(s||t)(dn(rO),dn(Yr))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();const IQe=/^\)\]\}',?\n/;let spe=(()=>{class t{constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new Je(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?ps(s.\u0275loadImpl()):Vn(null)).pipe(h0(()=>new Ar(l=>{const c=s.build();if(c.open(o.method,o.urlWithParams),o.withCredentials&&(c.withCredentials=!0),o.headers.forEach((O,A)=>c.setRequestHeader(O,A.join(","))),o.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){const O=o.detectContentTypeHeader();null!==O&&c.setRequestHeader("Content-Type",O)}if(o.responseType){const O=o.responseType.toLowerCase();c.responseType="json"!==O?O:"text"}const u=o.serializeBody();let p=null;const h=()=>{if(null!==p)return p;const O=c.statusText||"OK",A=new Mu(c.getAllResponseHeaders()),F=function NQe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||o.url;return p=new oO({headers:A,status:c.status,statusText:O,url:F}),p},g=()=>{let{headers:O,status:A,statusText:F,url:N}=h(),B=null;A!==CC.NoContent&&(B=typeof c.response>"u"?c.responseText:c.response),0===A&&(A=B?CC.Ok:0);let j=A>=200&&A<300;if("json"===o.responseType&&"string"==typeof B){const q=B;B=B.replace(IQe,"");try{B=""!==B?JSON.parse(B):null}catch(ee){B=q,j&&(j=!1,B={error:ee,text:B})}}j?(l.next(new $y({body:B,headers:O,status:A,statusText:F,url:N||void 0})),l.complete()):l.error(new o_({error:B,headers:O,status:A,statusText:F,url:N||void 0}))},y=O=>{const{url:A}=h(),F=new o_({error:O,status:c.status||0,statusText:c.statusText||"Unknown Error",url:A||void 0});l.error(F)};let E=!1;const C=O=>{E||(l.next(h()),E=!0);let A={type:_1.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(A.total=O.total),"text"===o.responseType&&c.responseText&&(A.partialText=c.responseText),l.next(A)},D=O=>{let A={type:_1.UploadProgress,loaded:O.loaded};O.lengthComputable&&(A.total=O.total),l.next(A)};return c.addEventListener("load",g),c.addEventListener("error",y),c.addEventListener("timeout",y),c.addEventListener("abort",y),o.reportProgress&&(c.addEventListener("progress",C),null!==u&&c.upload&&c.upload.addEventListener("progress",D)),c.send(u),l.next({type:_1.Sent}),()=>{c.removeEventListener("error",y),c.removeEventListener("abort",y),c.removeEventListener("load",g),c.removeEventListener("timeout",y),o.reportProgress&&(c.removeEventListener("progress",C),null!==u&&c.upload&&c.upload.removeEventListener("progress",D)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(s){return new(s||t)(dn(kq))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();const Rz=new Ct(""),ape=new Ct("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lpe=new Ct("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cpe{}let BQe=(()=>{class t{constructor(o,s,a){this.doc=o,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=xq(o,this.cookieName),this.lastCookieString=o),this.lastToken}static#e=this.\u0275fac=function(s){return new(s||t)(dn(Cc),dn(Qo),dn(ape))};static#t=this.\u0275prov=It({token:t,factory:t.\u0275fac})}return t})();function VQe(t,i){const o=t.url.toLowerCase();if(!nt(Rz)||"GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return i(t);const s=nt(cpe).getToken(),a=nt(lpe);return null!=s&&!t.headers.has(a)&&(t=t.clone({headers:t.headers.set(a,s)})),i(t)}var E1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(E1||{});function jQe(...t){const i=[EQe,spe,ipe,{provide:nO,useExisting:ipe},{provide:rO,useExisting:spe},{provide:SC,useValue:VQe,multi:!0},{provide:Rz,useValue:!0},{provide:cpe,useClass:BQe}];for(const o of t)i.push(...o.\u0275providers);return function L1(t){return{\u0275providers:t}}(i)}const upe=new Ct("");function $Qe(){return function zy(t,i){return{\u0275kind:t,\u0275providers:i}}(E1.LegacyInterceptors,[{provide:upe,useFactory:MQe},{provide:SC,useExisting:upe,multi:!0}])}let zQe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=as({type:t});static#n=this.\u0275inj=$r({providers:[jQe($Qe())]})}return t})(),XQe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=as({type:t,bootstrap:[fQe]});static#n=this.\u0275inj=$r({imports:[qye,v5e,zQe,lQe]})}return t})();Uye().bootstrapModule(XQe).catch(t=>console.error(t))},973:function(Nr,Qt,Hn){var Ft=Hn(293).default;Nr.exports=function(){"use strict";function Ye(d,f){f&&(d.super_=f,d.prototype=Object.create(f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}))}var d,f,ut=(d=function(d){var f=d.exports=function(m,v){if(v||(v=16),void 0===m&&(m=128),m<=0)return"0";for(var b=Math.log(Math.pow(2,m))/Math.log(v),_=2;b===1/0;_*=2)b=Math.log(Math.pow(2,m/_))/Math.log(v)*_;var x=b-Math.floor(b),w="";for(_=0;_<Math.floor(b);_++)w=Math.floor(Math.random()*v).toString(v)+w;if(x){var S=Math.pow(v,x);w=Math.floor(Math.random()*S).toString(v)+w}var T=parseInt(w,v);return T!==1/0&&T>=Math.pow(2,m)?f(m,v):w};f.rack=function(m,v,b){var _=function(w){var S=0;do{if(S++>10){if(!b)throw new Error("too many ID collisions, use more bits");m+=b}var T=f(m,v)}while(Object.hasOwnProperty.call(x,T));return x[T]=w,T},x=_.hats={};return _.get=function(w){return _.hats[w]},_.set=function(w,S){return _.hats[w]=S,_},_.bits=m||128,_.base=v||16,_}},d(f={exports:{}}),f.exports);function Vt(d){if(!(this instanceof Vt))return new Vt(d);this._seed=(d=d||[128,36,1]).length?ut.rack(d[0],d[1],d[2]):d}function tn(d){return Array.prototype.concat.apply([],d)}Vt.prototype.next=function(d){return this._seed(d||!0)},Vt.prototype.nextPrefixed=function(d,f){var m;do{m=d+this.next(!0)}while(this.assigned(m));return this.claim(m,f),m},Vt.prototype.claim=function(d,f){this._seed.set(d,f||!0)},Vt.prototype.assigned=function(d){return this._seed.get(d)||!1},Vt.prototype.unclaim=function(d){delete this._seed.hats[d]},Vt.prototype.clear=function(){var d,f=this._seed.hats;for(d in f)this.unclaim(d)};const rt=Object.prototype.toString,it=Object.prototype.hasOwnProperty;function mt(d){return void 0===d}function nn(d){return void 0!==d}function Ut(d){return null==d}function dt(d){return"[object Array]"===rt.call(d)}function Dn(d){return"[object Object]"===rt.call(d)}function lt(d){return"[object Number]"===rt.call(d)}function wn(d){const f=rt.call(d);return"[object Function]"===f||"[object AsyncFunction]"===f||"[object GeneratorFunction]"===f||"[object AsyncGeneratorFunction]"===f||"[object Proxy]"===f}function Or(d){return"[object String]"===rt.call(d)}function vn(d,f){return it.call(d,f)}function cn(d,f){const m=gs(f);let v;return ge(d,function(b,_){if(m(b,_))return v=b,!1}),v}function uo(d,f){const m=gs(f);let v=dt(d)?-1:void 0;return ge(d,function(b,_){if(m(b,_))return v=_,!1}),v}function kt(d,f){const m=gs(f);let v=[];return ge(d,function(b,_){m(b,_)&&v.push(b)}),v}function ge(d,f){let m,v;if(mt(d))return;const b=dt(d)?Ve:xa;for(let _ in d)if(vn(d,_)&&(m=d[_],v=f(m,b(_)),!1===v))return m}function Gr(d,f,m){return ge(d,function(v,b){m=f(m,v,b)}),m}function ki(d,f){return!!Gr(d,function(m,v,b){return m&&f(v,b)},!0)}function Ci(d,f){return!!cn(d,f)}function wr(d,f){let m=[];return ge(d,function(v,b){m.push(f(v,b))}),m}function oi(d){return d&&Object.keys(d)||[]}function ms(d){return wr(d,f=>f)}function Po(d,f,m={}){return f=qa(f),ge(d,function(v){let b=f(v)||"_",_=m[b];_||(_=m[b]=[]),_.push(v)}),m}function _a(d,...f){d=qa(d);let m={};return ge(f,v=>Po(v,d,m)),wr(m,function(v,b){return v[0]})}const Ea=_a;function qr(d,f){f=qa(f);let m=[];return ge(d,function(v,b){let _=f(v,b),x={d:_,v};for(var w=0;w<m.length;w++){let{d:S}=m[w];if(_<S)return void m.splice(w,0,x)}m.push(x)}),wr(m,v=>v.v)}function po(d){return function(f){return ki(d,function(m,v){return f[v]===m})}}function qa(d){return wn(d)?d:f=>f[d]}function gs(d){return wn(d)?d:f=>f===d}function xa(d){return d}function Ve(d){return Number(d)}function qe(d,f){let m,v,b,_;function x(P){let M=Date.now(),k=P?0:_+f-M;if(k>0)return w(k);d.apply(b,v),S()}function w(P){m=setTimeout(x,P)}function S(){m&&clearTimeout(m),m=_=v=b=void 0}function T(...P){_=Date.now(),v=P,b=this,m||w(f)}return T.flush=function(){m&&x(!0),S()},T.cancel=S,T}function Ze(d,f){return d.bind(f)}function de(d,...f){return Object.assign(d,...f)}function Nt(d,f){let m={},v=Object(d);return ge(f,function(b){b in v&&(m[b]=d[b])}),m}function Ie(d,f){let m={};return ge(Object(d),function(v,b){-1===f.indexOf(b)&&(m[b]=v)}),m}const re=Object.prototype.toString,se=Object.prototype.hasOwnProperty;function me(d,f){return se.call(d,f)}function De(d,f){let m,v;if(void 0===d)return;const b="[object Array]"===re.call(d)?Ke:je;for(let _ in d)if(me(d,_)&&(m=d[_],v=f(m,b(_)),!1===v))return m}function je(d){return d}function Ke(d){return Number(d)}function Oe(d,...f){const m=d.style;return De(f,function(v){v&&De(v,function(b,_){m[_]=b})}),d}function Ue(d,f,m){return 2==arguments.length?d.getAttribute(f):null===m?d.removeAttribute(f):(d.setAttribute(f,m),d)}const Gt=Object.prototype.toString;function $t(d){return new qt(d)}function qt(d){if(!d||!d.nodeType)throw new Error("A DOM element reference is required");this.el=d,this.list=d.classList}function rr(d){for(;d.childNodes.length;)d.removeChild(d.childNodes[0]);return d}function Lr(d,f){return d&&"function"==typeof d.matches&&d.matches(f)}function ar(d,f,m){for(var v=m?d:d.parentNode;v&&v.nodeType!==document.DOCUMENT_NODE&&v.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Lr(v,f))return v;v=v.parentNode}return Lr(v,f)?v:null}qt.prototype.add=function(d){return this.list.add(d),this},qt.prototype.remove=function(d){return"[object RegExp]"==Gt.call(d)?this.removeMatching(d):(this.list.remove(d),this)},qt.prototype.removeMatching=function(d){const f=this.array();for(let m=0;m<f.length;m++)d.test(f[m])&&this.remove(f[m]);return this},qt.prototype.toggle=function(d,f){return void 0!==f?f!==this.list.toggle(d,f)&&this.list.toggle(d):this.list.toggle(d),this},qt.prototype.array=function(){return Array.from(this.list)},qt.prototype.has=qt.prototype.contains=function(d){return this.list.contains(d)};var In,Cr,gi,kr={};function Ol(){In=window.addEventListener?"addEventListener":"attachEvent",Cr=window.removeEventListener?"removeEventListener":"detachEvent",gi="addEventListener"!==In?"on":""}var Vc,Zt=function Ge(d,f){return f.forEach(function(m){m&&"string"!=typeof m&&!Array.isArray(m)&&Object.keys(m).forEach(function(v){if("default"!==v&&!(v in d)){var b=Object.getOwnPropertyDescriptor(m,v);Object.defineProperty(d,v,b.get?b:{enumerable:!0,get:function(){return m[v]}})}})}),Object.freeze(d)}({__proto__:null,bind:kr.bind=function(d,f,m,v){return In||Ol(),d[In](gi+f,m,v||!1),m},unbind:kr.unbind=function(d,f,m,v){return Cr||Ol(),d[Cr](gi+f,m,v||!1),m},default:kr},[kr]),eh=["focus","blur"],Ai={bind:function(d,f,m,v,b){return-1!==eh.indexOf(m)&&(b=!0),Zt.bind(d,m,function(_){_.delegateTarget=ar(_.target||_.srcElement,f,!0),_.delegateTarget&&v.call(d,_)},b)},unbind:function(d,f,m,v){return-1!==eh.indexOf(f)&&(v=!0),Zt.unbind(d,f,m,v)}},dp=!1;typeof document<"u"&&((Vc=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',dp=!Vc.getElementsByTagName("link").length,Vc=void 0);var Qr={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:dp?[1,"X<div>","</div>"]:[0,"",""]};Qr.td=Qr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Qr.option=Qr.optgroup=[1,'<select multiple="multiple">',"</select>"],Qr.thead=Qr.tbody=Qr.colgroup=Qr.caption=Qr.tfoot=[1,"<table>","</table>"],Qr.polyline=Qr.ellipse=Qr.polygon=Qr.circle=Qr.text=Qr.line=Qr.path=Qr.rect=Qr.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Sr=function(d,f){if("string"!=typeof d)throw new TypeError("String expected");f||(f=document);var m=/<([\w:]+)/.exec(d);if(!m)return f.createTextNode(d);d=d.replace(/^\s+|\s+$/g,"");var v=m[1];if("body"==v)return(b=f.createElement("html")).innerHTML=d,b.removeChild(b.lastChild);var b,_=Object.prototype.hasOwnProperty.call(Qr,v)?Qr[v]:Qr._default,x=_[0],w=_[1],S=_[2];for((b=f.createElement("div")).innerHTML=w+d+S;x--;)b=b.lastChild;if(b.firstChild==b.lastChild)return b.removeChild(b.firstChild);for(var T=f.createDocumentFragment();b.firstChild;)T.appendChild(b.removeChild(b.firstChild));return T};function vr(d,f){return(f=f||document).querySelector(d)}function A0(d,f){return(f=f||document).querySelectorAll(d)}function vs(d){d.parentNode&&d.parentNode.removeChild(d)}function wa(d,f){return f.appendChild(function(m,v){if(m.ownerDocument!==v.ownerDocument)try{return v.ownerDocument.importNode(m,!0)}catch{}return m}(d,f))}function rn(d,f){return wa(f,d),d}var Wa=2,pp={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Wa,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Wa,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function na(d,f,m){var v=f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),b=pp[v];b?(b===Wa&&"number"==typeof m&&(m=String(m)+"px"),d.style[v]=m):d.setAttributeNS(null,f,m)}function Et(d,f,m){if("string"==typeof f){if(void 0===m)return v=d,pp[b=f]?v.style[b]:v.getAttributeNS(null,b);na(d,f,m)}else!function(v,b){var _,x,w=Object.keys(b);for(_=0;x=w[_];_++)na(v,x,b[x])}(d,f);var v,b;return d}const fp=Object.prototype.toString;function kn(d){return new Ar(d)}function Ar(d){if(!d||!d.nodeType)throw new Error("A DOM element reference is required");this.el=d,this.list=d.classList}function vi(d){var f=d.parentNode;return f&&f.removeChild(d),d}function R0(d){for(var f;f=d.firstChild;)vi(f);return d}function w1(d){return d.cloneNode(!0)}Ar.prototype.add=function(d){return this.list.add(d),this},Ar.prototype.remove=function(d){return"[object RegExp]"==fp.call(d)?this.removeMatching(d):(this.list.remove(d),this)},Ar.prototype.removeMatching=function(d){const f=this.array();for(let m=0;m<f.length;m++)d.test(f[m])&&this.remove(f[m]);return this},Ar.prototype.toggle=function(d,f){return void 0!==f?f!==this.list.toggle(d,f)&&this.list.toggle(d):this.list.toggle(d),this},Ar.prototype.array=function(){return Array.from(this.list)},Ar.prototype.has=Ar.prototype.contains=function(d){return this.list.contains(d)};var C1={svg:"http://www.w3.org/2000/svg"},ra='<svg xmlns="'+C1.svg+'"';function S1(d){var f=!1;"<svg"===d.substring(0,4)?-1===d.indexOf(C1.svg)&&(d=ra+d.substring(4)):(d=ra+">"+d+"</svg>",f=!0);var _,x,m=(_=d,(x=new DOMParser).async=!1,x.parseFromString(_,"text/xml"));if(!f)return m;for(var v=document.createDocumentFragment(),b=m.firstChild;b.firstChild;)v.appendChild(b.firstChild);return v}function Rt(d,f){var m;return"<"===d.charAt(0)?(m=S1(d).firstChild,m=document.importNode(m,!0)):m=document.createElementNS(C1.svg,d),f&&Et(m,f),m}var th=null;function xo(){return null===th&&(th=Rt("svg")),th}function no(d,f){var m,v,b=Object.keys(f);for(m=0;v=b[m];m++)d[v]=f[v];return d}function Au(d){return d?xo().createSVGTransformFromMatrix(d):xo().createSVGTransform()}var yr=/([&<>]{1})/g,a_=/([\n\r"]{1})/g,Hy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Je(d,f){return d.replace(f,function(m,v){return Hy[v]||v})}function jc(d,f){var m,v,b,_,x;switch(d.nodeType){case 3:f.push(Je(d.textContent,yr));break;case 1:if(f.push("<",d.tagName),d.hasAttributes())for(m=0,v=(b=d.attributes).length;m<v;++m)_=b.item(m),f.push(" ",_.name,'="',Je(_.value,a_),'"');if(d.hasChildNodes()){for(f.push(">"),m=0,v=(x=d.childNodes).length;m<v;++m)jc(x.item(m),f);f.push("</",d.tagName,">")}else f.push("/>");break;case 8:f.push("\x3c!--",Je(d.nodeValue,yr),"--\x3e");break;case 4:f.push("<![CDATA[",d.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+d.nodeType)}return f}function nh(d,f){if(void 0!==f){try{!function hp(d,f){var m=S1(f);if(R0(d),f){"#document-fragment"===m.nodeName||(m=m.documentElement);for(var b=Array.prototype.slice.call(m.childNodes),_=0;_<b.length;_++)wa(b[_],d)}}(d,f)}catch(m){throw new Error("error parsing SVG: "+m.message)}return d}return function(m){for(var v=m.firstChild,b=[];v;)jc(v,b),v=v.nextSibling;return b.join("")}(d)}function Uy(d,f){return f instanceof SVGMatrix?d.createSVGTransformFromMatrix(f):f}function kl(d,f){var m=d.transform.baseVal;return f&&(Array.isArray(f)||(f=[f]),function(v,b){var _,x;for(v.clear(),_=0;x=b[_];_++)v.appendItem(Uy(v,x))}(m,f)),m.consolidate()}const I0=/^class[ {]/;function ys(d){return Array.isArray(d)}function Xa(d,f){return Object.prototype.hasOwnProperty.call(d,f)}function Ya(...d){1===d.length&&ys(d[0])&&(d=d[0]);const f=(d=[...d]).pop();return f.$inject=d,f}const N0=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Gy=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,L0=/\/\*([^*]*)\*\//m;function Go(d){if("function"!=typeof d)throw new Error(`Cannot annotate "${d}". Expected a function!`);const f=d.toString().match(I0.test(d.toString())?N0:Gy);if(!f)return[];const m=f[1]||f[2];return m&&m.split(",").map(v=>{const b=v.match(L0);return(b&&b[1]||v).trim()})||[]}function F0(d,f){f=f||{get:function(H,z){if(m.push(H),!1===z)return null;throw x(`No provider for "${H}"!`)}};const m=[],v=this._providers=Object.create(f._providers||null),b=this._instances=Object.create(null),_=b.injector=this,x=function(H){const z=m.join(" -> ");return m.length=0,new Error(z?`${H} (Resolving: ${z})`:H)};function w(H,z){if(!v[H]&&-1!==H.indexOf(".")){const Q=H.split(".");let J=w(Q.shift());for(;Q.length;)J=J[Q.shift()];return J}if(Xa(b,H))return b[H];if(Xa(v,H)){if(-1!==m.indexOf(H))throw m.push(H),x("Cannot resolve circular dependency!");return m.push(H),b[H]=v[H][0](v[H][1]),m.pop(),b[H]}return f.get(H,z)}function S(H,z){if(void 0===z&&(z={}),"function"!=typeof H){if(!ys(H))throw x(`Cannot invoke "${H}". Expected a function!`);H=Ya(H.slice())}return{fn:H,dependencies:(H.$inject||Go(H)).map(Q=>Xa(z,Q)?z[Q]:w(Q))}}function T(H){const{fn:z,dependencies:Q}=S(H);return new(Function.prototype.bind.apply(z,[null].concat(Q)))}function P(H,z,Q){const{fn:J,dependencies:oe}=S(H,Q);return J.apply(z,oe)}function M(H){return Ya(z=>H.get(z))}function k(H,z){if(z&&z.length){const Q=Object.create(null),J=Object.create(null),oe=[],we=[],Ee=[];let Te,Ne,Kt,gt;for(let $e in v)Te=v[$e],-1!==z.indexOf($e)&&("private"===Te[2]?(Ne=oe.indexOf(Te[3]),-1===Ne?(Kt=Te[3].createChild([],z),gt=M(Kt),oe.push(Te[3]),we.push(Kt),Ee.push(gt),Q[$e]=[gt,$e,"private",Kt]):Q[$e]=[Ee[Ne],$e,"private",we[Ne]]):Q[$e]=[Te[2],Te[1]],J[$e]=!0),"factory"!==Te[2]&&"type"!==Te[2]||!Te[1].$scope||z.forEach(Qe=>{-1!==Te[1].$scope.indexOf(Qe)&&(Q[$e]=[Te[2],Te[1]],J[Qe]=!0)});z.forEach($e=>{if(!J[$e])throw new Error('No provider for "'+$e+'". Cannot use provider from the parent!')}),H.unshift(Q)}return new F0(H,_)}const R={factory:P,type:T,value:function(H){return H}};function I(H,z){const Q=H.__init__||[];return function(){Q.forEach(J=>{"string"==typeof J?z.get(J):z.invoke(J)})}}function $(H){const z=H.__exports__;if(z){const Q=H.__modules__,J=Object.keys(H).reduce((Te,Ne)=>("__exports__"!==Ne&&"__modules__"!==Ne&&"__init__"!==Ne&&"__depends__"!==Ne&&(Te[Ne]=H[Ne]),Te),Object.create(null)),oe=k((Q||[]).concat(J)),we=Ya(function(Te){return oe.get(Te)});z.forEach(function(Te){v[Te]=[we,Te,"private",oe]});const Ee=(H.__init__||[]).slice();return Ee.unshift(function(){oe.init()}),I(H=Object.assign({},H,{__init__:Ee}),oe)}return Object.keys(H).forEach(function(Q){if("__init__"===Q||"__depends__"===Q)return;if("private"===H[Q][2])return void(v[Q]=H[Q]);const J=H[Q][0];v[Q]=[R[J],ir(J,H[Q][1]),J]}),I(H,_)}function W(H,z){return-1!==H.indexOf(z)||-1!==(H=(z.__depends__||[]).reduce(W,H)).indexOf(z)?H:H.concat(z)}this.get=w,this.invoke=P,this.instantiate=T,this.createChild=k,this.init=function(H){const z=H.reduce(W,[]).map($);let Q=!1;return function(){Q||(Q=!0,z.forEach(J=>J()))}}(d)}function ir(d,f){return"value"!==d&&ys(f)&&(f=Ya(f.slice())),f}var $c=1e3;function Ca(d,f){var m=this;d.on(["render.shape","render.connection"],f=f||$c,function(v,b){var _=v.type,x=b.element,w=b.gfx,S=b.attrs;if(m.canRender(x))return"render.shape"===_?m.drawShape(w,x,S):m.drawConnection(w,x,S)}),d.on(["render.getShapePath","render.getConnectionPath"],f,function(v,b){if(m.canRender(b))return"render.getShapePath"===v.type?m.getShapePath(b):m.getConnectionPath(b)})}function Fn(d){return d.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function Ka(d){return["L",d.x,d.y]}function fo(d,f){const m=d.length,v=[(b=d[0],["M",b.x,b.y])];var b,_,x,w;for(let S=1;S<m;S++){const T=d[S-1],P=d[S],M=d[S+1];if(!M||!f){v.push(Ka(P));continue}const k=Math.min(f,mp(P.x-T.x,P.y-T.y),mp(M.x-P.x,M.y-P.y));if(!k){v.push(Ka(P));continue}const R=Ru(P,T,k),I=Ru(P,T,.5*k),$=Ru(P,M,k),W=Ru(P,M,.5*k);v.push(Ka(R)),v.push(["C",(_=I).x,_.y,(x=W).x,x.y,(w=$).x,w.y])}return v}function Ru(d,f,m){const v=f.x-d.x,b=f.y-d.y,_=m/mp(v,b);return{x:d.x+v*_,y:d.y+b*_}}function mp(d,f){return Math.sqrt(Math.pow(d,2)+Math.pow(f,2))}function zs(d,f,m){lt(f)&&(m=f,f=null),f||(f={});const v=Rt("path",f);return lt(m)&&(v.dataset.cornerRadius=String(m)),jr(v,d)}function jr(d,f){return Et(d,{d:Fn(fo(f,parseInt(d.dataset.cornerRadius,10)||0))}),d}function un(d){return kt(d,function(f){return!cn(d,function(m){return m!==f&&Iu(f,m)})})}function Iu(d,f){if(f){if(d===f)return f;if(d.parent)return Iu(d.parent,f)}}function os(d,f,m){var v=!m||-1===d.indexOf(f);return v&&d.push(f),v}function zc(d,f,m){m=m||0,dt(d)||(d=[d]),ge(d,function(v,b){var _=f(v,b,m);dt(_)&&_.length&&zc(_,f,m+1)})}function Hc(d,f){return v=!f,-1,_=[],x=[],zc(d,function(w,S,T){os(_,w,v);var P=w.children;if(P&&os(x,P,v))return P}),_;var v,_,x}function si(d,f){var m,v,b,_;return f=!!f,dt(d)||(d=[d]),ge(d,function(x){var w=x;x.waypoints&&!f&&(w=si(x.waypoints,!0));var S=w.x,T=w.y,P=w.height||0,M=w.width||0;(S<m||void 0===m)&&(m=S),(T<v||void 0===v)&&(v=T),(S+M>b||void 0===b)&&(b=S+M),(T+P>_||void 0===_)&&(_=T+P)}),{x:m,y:v,height:_-v,width:b-m}}function rc(d){return"waypoints"in d?"connection":"x"in d?"shape":"root"}function qy(d){return!(!d||!d.isFrame)}function B0(d,f){return de({},d||{},f||{})}function Uc(d,f){Ca.call(this,d,1),this.CONNECTION_STYLE=f.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=f.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=f.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Ca.prototype.canRender=function(d){},Ca.prototype.drawShape=function(d,f){},Ca.prototype.drawConnection=function(d,f){},Ca.prototype.getShapePath=function(d){},Ca.prototype.getConnectionPath=function(d){},Ye(Uc,Ca),Uc.prototype.canRender=function(){return!0},Uc.prototype.drawShape=function(d,f,m){var v=Rt("rect");return Et(v,{x:0,y:0,width:f.width||0,height:f.height||0}),qy(f)?Et(v,de({},this.FRAME_STYLE,m||{})):Et(v,de({},this.SHAPE_STYLE,m||{})),rn(d,v),v},Uc.prototype.drawConnection=function(d,f,m){var v=zs(f.waypoints,de({},this.CONNECTION_STYLE,m||{}));return rn(d,v),v},Uc.prototype.getShapePath=function(d){var v=d.width;return Fn([["M",d.x,d.y],["l",v,0],["l",0,d.height],["l",-v,0],["z"]])},Uc.prototype.getConnectionPath=function(d){var f,m,v=d.waypoints,b=[];for(f=0;m=v[f];f++)b.push([0===f?"M":"L",(m=m.original||m).x,m.y]);return Fn(b)},Uc.$inject=["eventBus","styles"];var DC={__init__:["defaultRenderer"],defaultRenderer:["type",Uc],styles:["type",function(){var d={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},f=this;this.cls=function(m,v,b){return de(this.style(v,b),{class:m})},this.style=function(m,v){dt(m)||v||(v=m,m=[]);var b=Gr(m,function(_,x){return de(_,d[x]||{})},{});return v?de(b,v):b},this.computeStyle=function(m,v,b){return dt(v)||(b=v,v=[]),f.style(v||[],de({},b,m||{}))}}]};function Gi(d,f){if(!d||!f)return-1;var m=d.indexOf(f);return-1!==m&&d.splice(m,1),m}function K(d,f,m){if(d&&f){"number"!=typeof m&&(m=-1);var v=d.indexOf(f);if(-1!==v){if(v===m||-1===m)return;d.splice(v,1)}-1!==m?d.splice(m,0,f):d.push(f)}}function ie(d,f){return d&&f?d.indexOf(f):-1}function be(d,f){return d&&f?Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2)):-1}function Le(d,f,m,v){if(void 0===v&&(v=5),!d||!f||!m)return!1;var b=(f.x-d.x)*(m.y-d.y)-(f.y-d.y)*(m.x-d.x),_=be(d,f);return Math.abs(b/_)<=v}var ze=2;function Ot(d,f){var m=Array.from(arguments).flat();const v={x:"v",y:"h"};for(const[b,_]of Object.entries(v))if(lr(b,m))return _;return!1}function lr(d,f){const m=f[0];return ki(f,function(v){return Math.abs(m[d]-v[d])<=ze})}function Mo(d,f,m){return d.x>f.x-(m=m||0)&&d.y>f.y-m&&d.x<f.x+f.width+m&&d.y<f.y+f.height+m}function Oo(d,f){return{x:Math.round(d.x+(f.x-d.x)/2),y:Math.round(d.y+(f.y-d.y)/2)}}function ss(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var It=/,?([a-z]),?/gi,aO=parseFloat,$r=Math,ic=$r.PI,Gc=$r.min,oc=$r.max,TC=$r.pow,sc=$r.abs,Wy=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,l_=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,D1=Array.isArray||function(d){return d instanceof Array};function c_(d,f){return Object.prototype.hasOwnProperty.call(d,f)}function Ct(d){if("function"==typeof d||Object(d)!==d)return d;var f=new d.constructor;for(var m in d)c_(d,m)&&(f[m]=Ct(d[m]));return f}function V0(d){var f=V0.ps=V0.ps||{};return f[d]?f[d].sleep=100:f[d]={sleep:100},setTimeout(function(){for(var m in f)c_(f,m)&&m!=d&&(f[m].sleep--,!f[m].sleep&&delete f[m])}),f[d]}function T1(d,f,m,v){return 1===arguments.length&&(f=d.y,m=d.width,v=d.height,d=d.x),{x:d,y:f,width:m,height:v,x2:d+m,y2:f+v}}function u_(){return this.join(",").replace(It,"$1")}function rh(d){var f=Ct(d);return f.toString=u_,f}function PC(d,f,m,v,b,_,x,w,S){var T=1-S,P=TC(T,3),M=TC(T,2),k=S*S*S,R=P*f+3*M*S*v+3*T*S*S*_+k*w;return{x:ih(P*d+3*M*S*m+3*T*S*S*b+k*x),y:ih(R)}}function Xy(d){var f=MC.apply(null,d);return T1(f.x0,f.y0,f.x1-f.x0,f.y1-f.y0)}function gp(d,f,m){return f>=d.x&&f<=d.x+d.width&&m>=d.y&&m<=d.y+d.height}function lO(d,f,m,v,b){return d*(d*(-3*f+9*m-9*v+3*b)+6*f-12*m+6*v)-3*f+3*m}function cO(d,f,m,v,b,_,x,w,S){null==S&&(S=1);for(var T=(S=S>1?1:S<0?0:S)/2,P=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,R=0;R<12;R++){var I=T*P[R]+T,$=lO(I,d,m,b,x),W=lO(I,f,v,_,w);k+=M[R]*$r.sqrt($*$+W*W)}return T*k}function Iz(d,f,m,v,b,_,x,w){if(!(oc(d,m)<Gc(b,x)||Gc(d,m)>oc(b,x)||oc(f,v)<Gc(_,w)||Gc(f,v)>oc(_,w))){var S=(d*v-f*m)*(_-w)-(f-v)*(b*w-_*x),T=(d-m)*(_-w)-(f-v)*(b-x);if(T){var P=ih(((d*v-f*m)*(b-x)-(d-m)*(b*w-_*x))/T),M=ih(S/T),k=+P.toFixed(2),R=+M.toFixed(2);if(!(k<+Gc(d,m).toFixed(2)||k>+oc(d,m).toFixed(2)||k<+Gc(b,x).toFixed(2)||k>+oc(b,x).toFixed(2)||R<+Gc(f,v).toFixed(2)||R>+oc(f,v).toFixed(2)||R<+Gc(_,w).toFixed(2)||R>+oc(_,w).toFixed(2)))return{x:P,y:M}}}}function ih(d){return Math.round(1e11*d)/1e11}function P1(d,f,m){if(Te=Xy(d),Ne=Xy(f),Te=T1(Te),!(gp(Ne=T1(Ne),Te.x,Te.y)||gp(Ne,Te.x2,Te.y)||gp(Ne,Te.x,Te.y2)||gp(Ne,Te.x2,Te.y2)||gp(Te,Ne.x,Ne.y)||gp(Te,Ne.x2,Ne.y)||gp(Te,Ne.x,Ne.y2)||gp(Te,Ne.x2,Ne.y2)||(Te.x<Ne.x2&&Te.x>Ne.x||Ne.x<Te.x2&&Ne.x>Te.x)&&(Te.y<Ne.y2&&Te.y>Ne.y||Ne.y<Te.y2&&Ne.y>Te.y)))return m?0:[];for(var Te,Ne,v=cO.apply(0,d),b=cO.apply(0,f),_=Yy(d)?1:~~(v/5)||1,x=Yy(f)?1:~~(b/5)||1,w=[],S=[],T={},P=m?0:[],M=0;M<_+1;M++){var k=PC.apply(0,d.concat(M/_));w.push({x:k.x,y:k.y,t:M/_})}for(M=0;M<x+1;M++)k=PC.apply(0,f.concat(M/x)),S.push({x:k.x,y:k.y,t:M/x});for(M=0;M<_;M++)for(var R=0;R<x;R++){var I,$=w[M],W=w[M+1],H=S[R],z=S[R+1],Q=sc(W.x-$.x)<.01?"y":"x",J=sc(z.x-H.x)<.01?"y":"x",oe=Iz($.x,$.y,W.x,W.y,H.x,H.y,z.x,z.y);if(oe){if(T[I=oe.x.toFixed(9)+"#"+oe.y.toFixed(9)])continue;T[I]=!0;var we=$.t+sc((oe[Q]-$[Q])/(W[Q]-$[Q]))*(W.t-$.t),Ee=H.t+sc((oe[J]-H[J])/(z[J]-H[J]))*(z.t-H.t);we>=0&&we<=1&&Ee>=0&&Ee<=1&&(m?P++:P.push({x:oe.x,y:oe.y,t1:we,t2:Ee}))}}return P}function Yy(d){return d[0]===d[2]&&d[1]===d[3]&&d[4]===d[6]&&d[5]===d[7]}function M1(d,f,m,v){return[d,f,m,v,m,v]}function qc(d,f,m,v,b,_){var x=.3333333333333333,w=2/3;return[x*d+w*m,x*f+w*v,x*b+w*m,x*_+w*v,b,_]}function oh(d,f,m,v,b,_,x,w,S,T){var P,M=120*ic/180,k=ic/180*(+b||0),R=[],I=function(Qs){return function Kr(){var xi=Array.prototype.slice.call(arguments,0),Rr=xi.join("\u2400"),ci=Kr.cache=Kr.cache||{},Wi=Kr.count=Kr.count||[];return c_(ci,Rr)?(function(_r,Ms){for(var Er=0,Di=_r.length;Er<Di;Er++)if(_r[Er]===Ms)return _r.push(_r.splice(Er,1)[0])}(Wi,Rr),ci[Rr]):(Wi.length>=1e3&&delete ci[Wi.shift()],Wi.push(Rr),ci[Rr]=Qs.apply(0,xi),ci[Rr])}}(function(Qs,Kr,xi){return{x:Qs*$r.cos(xi)-Kr*$r.sin(xi),y:Qs*$r.sin(xi)+Kr*$r.cos(xi)}});if(T)Ee=T[0],Te=T[1],oe=T[2],we=T[3];else{d=(P=I(d,f,-k)).x,f=P.y;var $=(d-(w=(P=I(w,S,-k)).x))/2,W=(f-(S=P.y))/2,H=$*$/(m*m)+W*W/(v*v);H>1&&(m*=H=$r.sqrt(H),v*=H);var z=m*m,Q=v*v,J=(_==x?-1:1)*$r.sqrt(sc((z*Q-z*W*W-Q*$*$)/(z*W*W+Q*$*$))),oe=J*m*W/v+(d+w)/2,we=J*-v*$/m+(f+S)/2,Ee=$r.asin(((f-we)/v).toFixed(9)),Te=$r.asin(((S-we)/v).toFixed(9));(Ee=d<oe?ic-Ee:Ee)<0&&(Ee=2*ic+Ee),(Te=w<oe?ic-Te:Te)<0&&(Te=2*ic+Te),x&&Ee>Te&&(Ee-=2*ic),!x&&Te>Ee&&(Te-=2*ic)}var Ne=Te-Ee;if(sc(Ne)>M){var Kt=Te,gt=w,$e=S;R=oh(w=oe+m*$r.cos(Te=Ee+M*(x&&Te>Ee?1:-1)),S=we+v*$r.sin(Te),m,v,b,0,x,gt,$e,[Te,Kt,oe,we])}Ne=Te-Ee;var Qe=$r.cos(Ee),pn=$r.sin(Ee),ue=$r.cos(Te),G=$r.sin(Te),xe=$r.tan(Ne/4),He=4/3*m*xe,et=4/3*v*xe,Lt=[d,f],zt=[d+He*pn,f-et*Qe],Wt=[w+He*G,S-et*ue],St=[w,S];if(zt[0]=2*Lt[0]-zt[0],zt[1]=2*Lt[1]-zt[1],T)return[zt,Wt,St].concat(R);for(var fr=[],Hr=0,Gl=(R=[zt,Wt,St].concat(R).join().split(",")).length;Hr<Gl;Hr++)fr[Hr]=Hr%2?I(R[Hr-1],R[Hr],k).y:I(R[Hr],R[Hr+1],k).x;return fr}function MC(d,f,m,v,b,_,x,w){for(var S,T,P,M,k,R,I,$,W=[],H=[[],[]],z=0;z<2;++z)if(0==z?(T=6*d-12*m+6*b,S=-3*d+9*m-9*b+3*x,P=3*m-3*d):(T=6*f-12*v+6*_,S=-3*f+9*v-9*_+3*w,P=3*v-3*f),sc(S)<1e-12){if(sc(T)<1e-12)continue;0<(M=-P/T)&&M<1&&W.push(M)}else $=$r.sqrt(I=T*T-4*P*S),I<0||(0<(k=(-T+$)/(2*S))&&k<1&&W.push(k),0<(R=(-T-$)/(2*S))&&R<1&&W.push(R));for(var Q,J=W.length,oe=J;J--;)Q=1-(M=W[J]),H[0][J]=Q*Q*Q*d+3*Q*Q*M*m+3*Q*M*M*b+M*M*M*x,H[1][J]=Q*Q*Q*f+3*Q*Q*M*v+3*Q*M*M*_+M*M*M*w;return H[0][oe]=d,H[1][oe]=f,H[0][oe+1]=x,H[1][oe+1]=w,H[0].length=H[1].length=oe+2,{x0:Gc.apply(0,H[0]),y0:Gc.apply(0,H[1]),x1:oc.apply(0,H[0]),y1:oc.apply(0,H[1])}}function Bn(d){var f=V0(d);if(f.curve)return rh(f.curve);for(var m=function d_(d){var f=V0(d);if(f.abs)return rh(f.abs);if(D1(d)&&D1(d&&d[0])||(d=function(H){if(!H)return null;var z=V0(H);if(z.arr)return Ct(z.arr);var Q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},J=[];return D1(H)&&D1(H[0])&&(J=Ct(H)),J.length||String(H).replace(Wy,function(oe,we,Ee){var Te=[],Ne=we.toLowerCase();for(Ee.replace(l_,function(Kt,gt){gt&&Te.push(+gt)}),"m"==Ne&&Te.length>2&&(J.push([we].concat(Te.splice(0,2))),Ne="l",we="m"==we?"l":"L");Te.length>=Q[Ne]&&(J.push([we].concat(Te.splice(0,Q[Ne]))),Q[Ne]););}),J.toString=V0.toString,z.arr=Ct(J),J}(d)),!d||!d.length)return[["M",0,0]];var m,v=[],b=0,_=0,x=0,w=0,S=0;"M"==d[0][0]&&(x=b=+d[0][1],w=_=+d[0][2],S++,v[0]=["M",b,_]);for(var T,P,M=S,k=d.length;M<k;M++){if(v.push(T=[]),(m=(P=d[M])[0])!=m.toUpperCase())switch(T[0]=m.toUpperCase(),T[0]){case"A":T[1]=P[1],T[2]=P[2],T[3]=P[3],T[4]=P[4],T[5]=P[5],T[6]=+P[6]+b,T[7]=+P[7]+_;break;case"V":T[1]=+P[1]+_;break;case"H":T[1]=+P[1]+b;break;case"M":x=+P[1]+b,w=+P[2]+_;default:for(var R=1,I=P.length;R<I;R++)T[R]=+P[R]+(R%2?b:_)}else for(var $=0,W=P.length;$<W;$++)T[$]=P[$];switch(m=m.toUpperCase(),T[0]){case"Z":b=+x,_=+w;break;case"H":b=T[1];break;case"V":_=T[1];break;case"M":x=T[T.length-2],w=T[T.length-1];default:b=T[T.length-2],_=T[T.length-1]}}return v.toString=u_,f.abs=rh(v),v}(d),v={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(R,I,$){var W,H;if(!R)return["C",I.x,I.y,I.x,I.y,I.x,I.y];switch(!(R[0]in{T:1,Q:1})&&(I.qx=I.qy=null),R[0]){case"M":I.X=R[1],I.Y=R[2];break;case"A":R=["C"].concat(oh.apply(0,[I.x,I.y].concat(R.slice(1))));break;case"S":"C"==$||"S"==$?(W=2*I.x-I.bx,H=2*I.y-I.by):(W=I.x,H=I.y),R=["C",W,H].concat(R.slice(1));break;case"T":"Q"==$||"T"==$?(I.qx=2*I.x-I.qx,I.qy=2*I.y-I.qy):(I.qx=I.x,I.qy=I.y),R=["C"].concat(qc(I.x,I.y,I.qx,I.qy,R[1],R[2]));break;case"Q":I.qx=R[1],I.qy=R[2],R=["C"].concat(qc(I.x,I.y,R[1],R[2],R[3],R[4]));break;case"L":R=["C"].concat(M1(I.x,I.y,R[1],R[2]));break;case"H":R=["C"].concat(M1(I.x,I.y,R[1],I.y));break;case"V":R=["C"].concat(M1(I.x,I.y,I.x,R[1]));break;case"Z":R=["C"].concat(M1(I.x,I.y,I.X,I.Y))}return R},_=function(R,I){if(R[I].length>7){R[I].shift();for(var $=R[I];$.length;)x[I]="A",R.splice(I++,0,["C"].concat($.splice(0,6)));R.splice(I,1),P=m.length}},x=[],w="",S="",T=0,P=m.length;T<P;T++){m[T]&&(w=m[T][0]),"C"!=w&&(x[T]=w,T&&(S=x[T-1])),m[T]=b(m[T],v,S),"A"!=x[T]&&"C"==w&&(x[T]="C"),_(m,T);var M=m[T],k=M.length;v.x=M[k-2],v.y=M[k-1],v.bx=aO(M[k-4])||v.x,v.by=aO(M[k-3])||v.y}return f.curve=rh(m),m}var uO=ss(function(d,f,m){d=Bn(d),f=Bn(f);for(var v,b,_,x,w,S,T,P,M,k,R=m?0:[],I=0,$=d.length;I<$;I++){var W=d[I];if("M"==W[0])v=w=W[1],b=S=W[2];else{"C"==W[0]?(M=[v,b].concat(W.slice(1)),v=M[6],b=M[7]):(M=[v,b,v,b,w,S,w,S],v=w,b=S);for(var H=0,z=f.length;H<z;H++){var Q=f[H];if("M"==Q[0])_=T=Q[1],x=P=Q[2];else{"C"==Q[0]?(k=[_,x].concat(Q.slice(1)),_=k[6],x=k[7]):(k=[_,x,_,x,T,P,T,P],_=T,x=P);var J=P1(M,k,m);if(m)R+=J;else{for(var oe=0,we=J.length;oe<we;oe++)J[oe].segment1=I,J[oe].segment2=H,J[oe].bez1=M,J[oe].bez2=k;R=R.concat(J)}}}}}return R});function _i(d){return Dn(d)&&vn(d,"waypoints")}function br(d){return Dn(d)&&vn(d,"labelTarget")}function dO(d){return{x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height)}}function j0(d){return{x:Math.round(d.x),y:Math.round(d.y)}}function Yt(d){return{top:d.y,right:d.x+(d.width||0),bottom:d.y+(d.height||0),left:d.x}}function Jn(d){return{x:d.left,y:d.top,width:d.right-d.left,height:d.bottom-d.top}}function mn(d){return _i(d)?function p_(d){for(var f=d.waypoints,m=f.reduce(function(S,T,P){var $,W,M=f[P-1];if(M){var k=S[S.length-1],R=k&&k.endLength||0,I=($=M,W=T,Math.sqrt(Math.pow($.x-W.x,2)+Math.pow($.y-W.y,2)));S.push({start:M,end:T,startLength:R,endLength:R+I,length:I})}return S},[]),b=m.reduce(function(S,T){return S+T.length},0)/2,_=0,x=m[_];x.endLength<b;)x=m[++_];var w=(b-x.startLength)/x.length;return{x:x.start.x+(x.end.x-x.start.x)*w,y:x.start.y+(x.end.y-x.start.y)*w}}(d):j0({x:(f=d).x+(f.width||0)/2,y:f.y+(f.height||0)/2});var f}function Zr(d,f,m){Dn(m=m||0)||(m={x:m,y:m});var v=Yt(d),b=Yt(f),S=v.bottom+m.y<=b.top?"top":v.top-m.y>=b.bottom?"bottom":null,T=v.right+m.x<=b.left?"left":v.left-m.x>=b.right?"right":null;return T&&S?S+"-"+T:T||S||"intersect"}function Ky(d,f,m){var v=uO(d,f);return 1===v.length||2===v.length&&be(v[0],v[1])<1?j0(v[0]):v.length>1?j0((v=qr(v,function(b){var _=Math.floor(100*b.t2)||1;return _=((_=100-_)<10?"0":"")+_,b.segment2+"#"+_}))[m?0:v.length-1]):null}function f_(d,f){return Math.round(d*f)/f}function pO(d){return lt(d)?d+"px":d}function sh(d,f,m){const v=Rt("g");return kn(v).add(f),d.insertBefore(v,d.childNodes[void 0!==m?m:d.childNodes.length-1]||null),v}const h_={shape:["x","y","width","height"],connection:["waypoints"]};function En(d,f,m,v){this._eventBus=f,this._elementRegistry=v,this._graphicsFactory=m,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(d||{})}function OC(d,f){d.setAttribute("transform","matrix("+f.a+","+f.b+","+f.c+","+f.d+","+f.e+","+f.f+")")}En.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],En.prototype._init=function(d){const f=this._eventBus,m=this._container=function(_){const x=(_=de({},{width:"100%",height:"100%"},_)).container||document.body,w=document.createElement("div");return w.setAttribute("class","djs-container djs-parent"),Oe(w,{position:"relative",overflow:"hidden",width:pO(_.width),height:pO(_.height)}),x.appendChild(w),w}(d),v=this._svg=Rt("svg");Et(v,{width:"100%",height:"100%"}),rn(m,v);const b=this._viewport=sh(v,"viewport");d.deferUpdate&&(this._viewboxChanged=qe(Ze(this._viewboxChanged,this),300)),f.on("diagram.init",()=>{f.fire("canvas.init",{svg:v,viewport:b})}),f.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),f.on("diagram.destroy",500,this._destroy,this),f.on("diagram.clear",500,this._clear,this)},En.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const d=this._container.parentNode;d&&d.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},En.prototype._clear=function(){this._elementRegistry.getAll().forEach(d=>{const f=rc(d);"root"===f?this.removeRootElement(d):this._removeElement(d,f)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},En.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},En.prototype.getLayer=function(d,f){if(!d)throw new Error("must specify a name");let m=this._layers[d];if(m||(m=this._layers[d]=this._createLayer(d,f)),void 0!==f&&m.index!==f)throw new Error("layer <"+d+"> already created at index <"+f+">");return m.group},En.prototype._getChildIndex=function(d){return Gr(this._layers,function(f,m){return m.visible&&d>=m.index&&f++,f},0)},En.prototype._createLayer=function(d,f){void 0===f&&(f=1);const m=this._getChildIndex(f);return{group:sh(this._viewport,"layer-"+d,m),index:f,visible:!0}},En.prototype.showLayer=function(d){if(!d)throw new Error("must specify a name");const f=this._layers[d];if(!f)throw new Error("layer <"+d+"> does not exist");const m=this._viewport,v=f.group;if(f.visible)return v;const _=this._getChildIndex(f.index);return m.insertBefore(v,m.childNodes[_]||null),f.visible=!0,v},En.prototype.hideLayer=function(d){if(!d)throw new Error("must specify a name");const f=this._layers[d];if(!f)throw new Error("layer <"+d+"> does not exist");const m=f.group;return f.visible&&(vi(m),f.visible=!1),m},En.prototype._removeLayer=function(d){const f=this._layers[d];f&&(delete this._layers[d],vi(f.group))},En.prototype.getActiveLayer=function(){const d=this._findPlaneForRoot(this.getRootElement());return d?d.layer:null},En.prototype.findRoot=function(d){return"string"==typeof d&&(d=this._elementRegistry.get(d)),d?(this._findPlaneForRoot(function(m){for(;m.parent;)m=m.parent;return m}(d))||{}).rootElement:void 0},En.prototype.getRootElements=function(){return this._planes.map(function(d){return d.rootElement})},En.prototype._findPlaneForRoot=function(d){return cn(this._planes,function(f){return f.rootElement===d})},En.prototype.getContainer=function(){return this._container},En.prototype._updateMarker=function(d,f,m){let v;d.id||(d=this._elementRegistry.get(d)),v=this._elementRegistry._elements[d.id],v&&(ge([v.gfx,v.secondaryGfx],function(b){b&&(m?kn(b).add(f):kn(b).remove(f))}),this._eventBus.fire("element.marker.update",{element:d,gfx:v.gfx,marker:f,add:!!m}))},En.prototype.addMarker=function(d,f){this._updateMarker(d,f,!0)},En.prototype.removeMarker=function(d,f){this._updateMarker(d,f,!1)},En.prototype.hasMarker=function(d,f){return d.id||(d=this._elementRegistry.get(d)),kn(this.getGraphics(d)).has(f)},En.prototype.toggleMarker=function(d,f){this.hasMarker(d,f)?this.removeMarker(d,f):this.addMarker(d,f)},En.prototype.getRootElement=function(){const d=this._rootElement;return d||this._planes.length?d:this.setRootElement(this.addRootElement(null))},En.prototype.addRootElement=function(d){const f=this._rootsIdx++;d||(d={id:"__implicitroot_"+f,children:[],isImplicit:!0});const m=d.layer="root-"+f;this._ensureValid("root",d);const v=this.getLayer(m,0);return this.hideLayer(m),this._addRoot(d,v),this._planes.push({rootElement:d,layer:v}),d},En.prototype.removeRootElement=function(d){if("string"==typeof d&&(d=this._elementRegistry.get(d)),this._findPlaneForRoot(d))return this._removeRoot(d),this._removeLayer(d.layer),this._planes=this._planes.filter(function(f){return f.rootElement!==d}),this._rootElement===d&&(this._rootElement=null),d},En.prototype.setRootElement=function(d){if(d===this._rootElement)return;let f;if(!d)throw new Error("rootElement required");return f=this._findPlaneForRoot(d),f||(d=this.addRootElement(d)),this._setRoot(d),d},En.prototype._removeRoot=function(d){const f=this._elementRegistry,m=this._eventBus;m.fire("root.remove",{element:d}),m.fire("root.removed",{element:d}),f.remove(d)},En.prototype._addRoot=function(d,f){const m=this._elementRegistry,v=this._eventBus;v.fire("root.add",{element:d}),m.add(d,f),v.fire("root.added",{element:d,gfx:f})},En.prototype._setRoot=function(d,f){const m=this._rootElement;m&&(this._elementRegistry.updateGraphics(m,null,!0),this.hideLayer(m.layer)),d&&(f||(f=this._findPlaneForRoot(d).layer),this._elementRegistry.updateGraphics(d,this._svg,!0),this.showLayer(d.layer)),this._rootElement=d,this._eventBus.fire("root.set",{element:d})},En.prototype._ensureValid=function(d,f){if(!f.id)throw new Error("element must have an id");if(this._elementRegistry.get(f.id))throw new Error("element <"+f.id+"> already exists");const m=h_[d];if(!ki(m,function(b){return void 0!==f[b]}))throw new Error("must supply { "+m.join(", ")+" } with "+d)},En.prototype._setParent=function(d,f,m){K(f.children,d,m),d.parent=f},En.prototype._addElement=function(d,f,m,v){m=m||this.getRootElement();const b=this._eventBus,_=this._graphicsFactory;this._ensureValid(d,f),b.fire(d+".add",{element:f,parent:m}),this._setParent(f,m,v);const x=_.create(d,f,v);return this._elementRegistry.add(f,x),_.update(d,f,x),b.fire(d+".added",{element:f,gfx:x}),f},En.prototype.addShape=function(d,f,m){return this._addElement("shape",d,f,m)},En.prototype.addConnection=function(d,f,m){return this._addElement("connection",d,f,m)},En.prototype._removeElement=function(d,f){const m=this._elementRegistry,v=this._graphicsFactory,b=this._eventBus;if(d=m.get(d.id||d))return b.fire(f+".remove",{element:d}),v.remove(d),Gi(d.parent&&d.parent.children,d),d.parent=null,b.fire(f+".removed",{element:d}),m.remove(d),d},En.prototype.removeShape=function(d){return this._removeElement(d,"shape")},En.prototype.removeConnection=function(d){return this._removeElement(d,"connection")},En.prototype.getGraphics=function(d,f){return this._elementRegistry.getGraphics(d,f)},En.prototype._changeViewbox=function(d){this._eventBus.fire("canvas.viewbox.changing"),d.apply(this),this._cachedViewbox=null,this._viewboxChanged()},En.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},En.prototype.viewbox=function(d){if(void 0===d&&this._cachedViewbox)return this._cachedViewbox;const f=this._viewport,m=this.getSize();let v,b,_,x,w,S,T;return d?(this._changeViewbox(function(){w=Math.min(m.width/d.width,m.height/d.height);const P=this._svg.createSVGMatrix().scale(w).translate(-d.x,-d.y);kl(f,P)}),d):(_=this._rootElement?this.getActiveLayer():null,v=_&&_.getBBox()||{},x=kl(f),b=x?x.matrix:function(P,M,k,R,I,$){var W=xo().createSVGMatrix();switch(arguments.length){case 0:return W;case 1:return no(W,P);case 6:return no(W,{a:P,b:M,c:k,d:R,e:I,f:$})}}(),w=f_(b.a,1e3),S=f_(-b.e||0,1e3),T=f_(-b.f||0,1e3),d=this._cachedViewbox={x:S?S/w:0,y:T?T/w:0,width:m.width/w,height:m.height/w,scale:w,inner:{width:v.width||0,height:v.height||0,x:v.x||0,y:v.y||0},outer:m})},En.prototype.scroll=function(d){const f=this._viewport;let m=f.getCTM();return d&&this._changeViewbox(function(){d=de({dx:0,dy:0},d||{}),m=this._svg.createSVGMatrix().translate(d.dx,d.dy).multiply(m),OC(f,m)}),{x:m.e,y:m.f}},En.prototype.scrollToElement=function(d,f){let m=100;"string"==typeof d&&(d=this._elementRegistry.get(d));const v=this.findRoot(d);if(v!==this.getRootElement()&&this.setRootElement(v),v===d)return;f||(f={}),"number"==typeof f&&(m=f),f={top:f.top||m,right:f.right||m,bottom:f.bottom||m,left:f.left||m};const b=si(d),_=Yt(b),x=this.viewbox(),w=this.zoom();let S,T;x.y+=f.top/w,x.x+=f.left/w,x.width-=(f.right+f.left)/w,x.height-=(f.bottom+f.top)/w;const P=Yt(x);if(b.width<x.width&&b.height<x.height){const M=Math.max(0,_.right-P.right),k=Math.min(0,_.left-P.left),R=Math.max(0,_.bottom-P.bottom),I=Math.min(0,_.top-P.top);S=M||k,T=R||I}else S=b.x-x.x,T=b.y-x.y;this.scroll({dx:-S*w,dy:-T*w})},En.prototype.zoom=function(d,f){if(!d)return this.viewbox(d).scale;if("fit-viewport"===d)return this._fitViewport(f);let m,v;return this._changeViewbox(function(){"object"!=typeof f&&(m=this.viewbox().outer,f={x:m.width/2,y:m.height/2}),v=this._setZoom(d,f)}),f_(v.a,1e3)},En.prototype._fitViewport=function(d){const f=this.viewbox(),m=f.outer,v=f.inner;let b,_;return v.x>=0&&v.y>=0&&v.x+v.width<=m.width&&v.y+v.height<=m.height&&!d?_={x:0,y:0,width:Math.max(v.width+v.x,m.width),height:Math.max(v.height+v.y,m.height)}:(b=Math.min(1,m.width/v.width,m.height/v.height),_={x:v.x+(d?v.width/2-m.width/b/2:0),y:v.y+(d?v.height/2-m.height/b/2:0),width:m.width/b,height:m.height/b}),this.viewbox(_),this.viewbox(!1).scale},En.prototype._setZoom=function(d,f){const m=this._svg,v=this._viewport,b=m.createSVGMatrix(),_=m.createSVGPoint();let x,w,S,T,P;S=v.getCTM();const M=S.a;return f?(x=de(_,f),w=x.matrixTransform(S.inverse()),T=b.translate(w.x,w.y).scale(1/M*d).translate(-w.x,-w.y),P=S.multiply(T)):P=b.scale(d),OC(this._viewport,P),P},En.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},En.prototype.getAbsoluteBBox=function(d){const f=this.viewbox();let m;return m=d.waypoints?this.getGraphics(d).getBBox():d,{x:m.x*f.scale-f.x*f.scale,y:m.y*f.scale-f.y*f.scale,width:m.width*f.scale,height:m.height*f.scale}},En.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var ah="data-element-id";function Qa(d){this._elements={},this._eventBus=d}Qa.$inject=["eventBus"],Qa.prototype.add=function(d,f,m){var v=d.id;this._validateId(v),Et(f,ah,v),m&&Et(m,ah,v),this._elements[v]={element:d,gfx:f,secondaryGfx:m}},Qa.prototype.remove=function(d){var f=this._elements,m=d.id||d,v=m&&f[m];v&&(Et(v.gfx,ah,""),v.secondaryGfx&&Et(v.secondaryGfx,ah,""),delete f[m])},Qa.prototype.updateId=function(d,f){this._validateId(f),"string"==typeof d&&(d=this.get(d)),this._eventBus.fire("element.updateId",{element:d,newId:f});var m=this.getGraphics(d),v=this.getGraphics(d,!0);this.remove(d),d.id=f,this.add(d,m,v)},Qa.prototype.updateGraphics=function(d,f,m){var v=d.id||d,b=this._elements[v];return m?b.secondaryGfx=f:b.gfx=f,f&&Et(f,ah,v),f},Qa.prototype.get=function(d){var f;f="string"==typeof d?d:d&&Et(d,ah);var m=this._elements[f];return m&&m.element},Qa.prototype.filter=function(d){var f=[];return this.forEach(function(m,v){d(m,v)&&f.push(m)}),f},Qa.prototype.find=function(d){for(var f=this._elements,m=Object.keys(f),v=0;v<m.length;v++){var b=f[m[v]],_=b.element;if(d(_,b.gfx))return _}},Qa.prototype.getAll=function(){return this.filter(function(d){return d})},Qa.prototype.forEach=function(d){var f=this._elements;Object.keys(f).forEach(function(m){var v=f[m];return d(v.element,v.gfx)})},Qa.prototype.getGraphics=function(d,f){var v=this._elements[d.id||d];return v&&(f?v.secondaryGfx:v.gfx)},Qa.prototype._validateId=function(d){if(!d)throw new Error("element must have an id");if(this._elements[d])throw new Error("element with id "+d+" already added")};var Qy={exports:{}},Nu={extend:function(d,f,m,v){var b=m.inverse;return Object.defineProperty(d,"remove",{value:function(_){var x=this.indexOf(_);return-1!==x&&(this.splice(x,1),f.unset(_,b,v)),_}}),Object.defineProperty(d,"contains",{value:function(_){return-1!==this.indexOf(_)}}),Object.defineProperty(d,"add",{value:function(_,x){var w=this.indexOf(_);if(void 0===x){if(-1!==w)return;x=this.length}-1!==w&&this.splice(w,1),this.splice(x,0,_),-1===w&&f.set(_,b,v)}}),Object.defineProperty(d,"__refs_collection",{value:!0}),d},isExtended:function(d){return!0===d.__refs_collection}},kC=Nu;function Lu(d,f,m){var v=kC.extend(m[f.name]||[],d,f,m);Object.defineProperty(m,f.name,{enumerable:f.enumerable,value:v}),v.length&&v.forEach(function(b){d.set(b,f.inverse,m)})}function $0(d,f){if(!(this instanceof $0))return new $0(d,f);d.inverse=f,f.inverse=d,this.props={},this.props[d.name]=d,this.props[f.name]=f}$0.prototype.bind=function(d,f){if("string"==typeof f){if(!this.props[f])throw new Error("no property <"+f+"> in ref");f=this.props[f]}var m,v,b,_,x;f.collection?Lu(this,f,d):(m=this,_=(v=f).inverse,x=(b=d)[v.name],Object.defineProperty(b,v.name,{configurable:v.configurable,enumerable:v.enumerable,get:function(){return x},set:function(w){if(w!==x){var S=x;x=null,S&&m.unset(S,_,b),m.set(x=w,_,b)}}}))},$0.prototype.ensureRefsCollection=function(d,f){var m=d[f.name];return kC.isExtended(m)||Lu(this,f,d),m},$0.prototype.ensureBound=function(d,f){var v;v=f,Object.prototype.hasOwnProperty.call(d,v.name||v)||this.bind(d,f)},$0.prototype.unset=function(d,f,m){d&&(this.ensureBound(d,f),f.collection?this.ensureRefsCollection(d,f).remove(m):d[f.name]=void 0)},$0.prototype.set=function(d,f,m){d&&(this.ensureBound(d,f),f.collection?this.ensureRefsCollection(d,f).add(m):d[f.name]=m)},Qy.exports=$0,Qy.exports.Collection=Nu;var lh=ss(Qy.exports),nt=new lh({name:"children",enumerable:!0,collection:!0},{name:"parent"}),O1=new lh({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Zy=new lh({name:"attachers",collection:!0},{name:"host"}),ch=new lh({name:"outgoing",collection:!0},{name:"source"}),AC=new lh({name:"incoming",collection:!0},{name:"target"});function uh(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(d){var f=this.label,m=this.labels;!d&&f?m.remove(f):m.add(d,0)}}),nt.bind(this,"parent"),O1.bind(this,"labels"),ch.bind(this,"outgoing"),AC.bind(this,"incoming")}function k1(){uh.call(this),nt.bind(this,"children"),Zy.bind(this,"host"),Zy.bind(this,"attachers")}function RC(){uh.call(this),nt.bind(this,"children")}function A1(){k1.call(this),O1.bind(this,"labelTarget")}function IC(){uh.call(this),ch.bind(this,"source"),AC.bind(this,"target")}Ye(k1,uh),Ye(RC,k1),Ye(A1,k1),Ye(IC,uh);var Jy={connection:IC,shape:k1,label:A1,root:RC};function Fu(){this._uid=12}Fu.prototype.createRoot=function(d){return this.create("root",d)},Fu.prototype.createLabel=function(d){return this.create("label",d)},Fu.prototype.createShape=function(d){return this.create("shape",d)},Fu.prototype.createConnection=function(d){return this.create("connection",d)},Fu.prototype.create=function(d,f){return(f=de({},f||{})).id||(f.id=d+"_"+this._uid++),function(m,v){var b=Jy[m];if(!b)throw new Error("unknown type: <"+m+">");return de(new b,v)}(d,f)};var Wc="__fn",fO=Array.prototype.slice;function Ei(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Xc(){}function R1(d){return d.childNodes[0]}function dh(d,f,m,v,b){var _=Au();_.setTranslate(f,m);var x=Au();x.setRotate(v||0,0,0);var w=Au();w.setScale(b||1,b||1),kl(d,[_,x,w])}function bs(d,f,m){var v=Au();v.setTranslate(f,m),kl(d,v)}function e2(d,f){var m=Au();m.setRotate(f,0,0),kl(d,m)}function Al(d,f){this._eventBus=d,this._elementRegistry=f}function m_(d,f,m){var v=m||f.firstChild;d!==v&&f.insertBefore(d,v)}Ei.prototype.on=function(d,f,m,v){if(d=dt(d)?d:[d],wn(f)&&(v=m,m=f,f=1e3),!lt(f))throw new Error("priority must be a number");var b=m;v&&((b=Ze(m,v))[Wc]=m[Wc]||m);var _=this;d.forEach(function(x){_._addListener(x,{priority:f,callback:b,next:null})})},Ei.prototype.once=function(d,f,m,v){var b=this;if(wn(f)&&(v=m,m=f,f=1e3),!lt(f))throw new Error("priority must be a number");function _(){_.__isTomb=!0;var x=m.apply(v,arguments);return b.off(d,_),x}_[Wc]=m,this.on(d,f,_)},Ei.prototype.off=function(d,f){d=dt(d)?d:[d];var m=this;d.forEach(function(v){m._removeListener(v,f)})},Ei.prototype.createEvent=function(d){var f=new Xc;return f.init(d),f},Ei.prototype.fire=function(d,f){var m,v,b,_;if(_=fO.call(arguments),"object"==typeof d&&(d=(f=d).type),!d)throw new Error("no event type specified");if(v=this._listeners[d]){m=f instanceof Xc?f:this.createEvent(f),_[0]=m;var x=m.type;d!==x&&(m.type=d);try{b=this._invokeListeners(m,_,v)}finally{d!==x&&(m.type=x)}return void 0===b&&m.defaultPrevented&&(b=!1),b}},Ei.prototype.handleError=function(d){return!1===this.fire("error",{error:d})},Ei.prototype._destroy=function(){this._listeners={}},Ei.prototype._invokeListeners=function(d,f,m){for(var v;m&&!d.cancelBubble;)v=this._invokeListener(d,f,m),m=m.next;return v},Ei.prototype._invokeListener=function(d,f,m){var v,b;if(m.callback.__isTomb)return v;try{void 0!==(v=(b=m.callback).apply(null,f))&&(d.returnValue=v,d.stopPropagation()),!1===v&&d.preventDefault()}catch(b){if(!this.handleError(b))throw console.error("unhandled error in event listener",b),b}return v},Ei.prototype._addListener=function(d,f){var m,v=this._getListeners(d);if(v){for(;v;){if(v.priority<f.priority)return f.next=v,void(m?m.next=f:this._setListeners(d,f));m=v,v=v.next}m.next=f}else this._setListeners(d,f)},Ei.prototype._getListeners=function(d){return this._listeners[d]},Ei.prototype._setListeners=function(d,f){this._listeners[d]=f},Ei.prototype._removeListener=function(d,f){var m,v,b,_=this._getListeners(d);if(f)for(;_;)m=_.next,(b=_.callback)!==f&&b[Wc]!==f||(v?v.next=m:this._setListeners(d,m)),v=_,_=m;else this._setListeners(d,null)},Xc.prototype.stopPropagation=function(){this.cancelBubble=!0},Xc.prototype.preventDefault=function(){this.defaultPrevented=!0},Xc.prototype.init=function(d){de(this,d||{})},Al.$inject=["eventBus","elementRegistry"],Al.prototype._getChildrenContainer=function(d){var f,m=this._elementRegistry.getGraphics(d);return d.parent?(f=m.parentNode.childNodes[1])||(kn(f=Rt("g")).add("djs-children"),rn(m.parentNode,f)):f=m,f},Al.prototype._clear=function(d){var f=R1(d);return rr(f),f},Al.prototype._createContainer=function(d,f,m,v){var b=Rt("g");kn(b).add("djs-group"),void 0!==m?m_(b,f,f.childNodes[m]):rn(f,b);var _=Rt("g");kn(_).add("djs-element"),kn(_).add("djs-"+d),v&&kn(_).add("djs-frame"),rn(b,_);var x=Rt("g");return kn(x).add("djs-visual"),rn(_,x),_},Al.prototype.create=function(d,f,m){var v=this._getChildrenContainer(f.parent);return this._createContainer(d,v,m,qy(f))},Al.prototype.updateContainments=function(d){var m=this,v=this._elementRegistry;ge(Gr(d,function(b,_){return _.parent&&(b[_.parent.id]=_.parent),b},{}),function(b){var _=b.children;if(_){var x=m._getChildrenContainer(b);ge(_.slice().reverse(),function(w){m_(v.getGraphics(w).parentNode,x)})}})},Al.prototype.drawShape=function(d,f,m={}){return this._eventBus.fire("render.shape",{gfx:d,element:f,attrs:m})},Al.prototype.getShapePath=function(d){return this._eventBus.fire("render.getShapePath",d)},Al.prototype.drawConnection=function(d,f,m={}){return this._eventBus.fire("render.connection",{gfx:d,element:f,attrs:m})},Al.prototype.getConnectionPath=function(d){return this._eventBus.fire("render.getConnectionPath",d)},Al.prototype.update=function(d,f,m){if(f.parent){var v=this._clear(m);if("shape"===d)this.drawShape(v,f),bs(m,f.x,f.y);else{if("connection"!==d)throw new Error("unknown type: "+d);this.drawConnection(v,f)}Et(m,"display",f.hidden?"none":"block")}},Al.prototype.remove=function(d){vi(this._elementRegistry.getGraphics(d).parentNode)};var Nz={__depends__:[DC],__init__:["canvas"],canvas:["type",En],elementRegistry:["type",Qa],elementFactory:["type",Fu],eventBus:["type",Ei],graphicsFactory:["type",Al]};function z0(d,f){this._injector=f=f||function Za(d){return function(f){var m=new F0(f);return m.init(),m}([{config:["value",d=d||{}]},Nz].concat(d.modules||[]))}(d),this.get=f.get,this.invoke=f.invoke,this.get("eventBus").fire("diagram.init")}function H0(){}function hO(d,f){this.model=d,this.properties=f}z0.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},z0.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},H0.prototype.get=function(d){return this.$model.properties.get(this,d)},H0.prototype.set=function(d,f){this.$model.properties.set(this,d,f)},hO.prototype.createType=function(d){var f=this.model,m=this.properties,v=Object.create(H0.prototype);ge(d.properties,function(x){x.isMany||void 0===x.default||(v[x.name]=x.default)}),m.defineModel(v,f),m.defineDescriptor(v,d);var b=d.ns.name;function _(x){m.define(this,"$type",{value:b,enumerable:!0}),m.define(this,"$attrs",{value:{}}),m.define(this,"$parent",{writable:!0}),ge(x,Ze(function(w,S){this.set(S,w)},this))}return _.prototype=v,_.hasType=v.$instanceOf=this.model.hasType,m.defineModel(_,f),m.defineDescriptor(_,d),_};var NC={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},ac={String:function(d){return d},Boolean:function(d){return"true"===d},Integer:function(d){return parseInt(d,10)},Real:function(d){return parseFloat(d)}};function Dr(d,f){var m=ac[d];return m?m(f):f}function Bu(d){return!!NC[d]}function g_(d){return!!ac[d]}function _s(d,f){var m,v,b=d.split(/:/);if(1===b.length)m=d,v=f;else{if(2!==b.length)throw new Error("expected <prefix:localName> or <localName>, got "+d);m=b[1],v=b[0]}return{name:d=(v?v+":":"")+m,prefix:v,localName:m}}function ia(d){this.ns=d,this.name=d.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function lc(d,f){this.packageMap={},this.typeMap={},this.packages=[],this.properties=f,ge(d,Ze(this.registerPackage,this))}function Rl(d,f,m){var v=f[m];if(v in d)throw new Error("package with "+m+" <"+v+"> already defined")}function Jr(d){this.model=d}function LC(d,f,m){Object.defineProperty(d,f.name,{enumerable:!f.isReference,writable:!0,value:m,configurable:!0})}function Sa(d){this.properties=new Jr(this),this.factory=new hO(this,this.properties),this.registry=new lc(d,this.properties),this.typeCache={}}ia.prototype.build=function(){return Nt(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},ia.prototype.addProperty=function(d,f,m){"boolean"==typeof f&&(m=f,f=void 0),this.addNamedProperty(d,!1!==m);var v=this.properties;void 0!==f?v.splice(f,0,d):v.push(d)},ia.prototype.replaceProperty=function(d,f,m){var v=d.ns,b=this.properties,_=this.propertiesByName,x=d.name!==f.name;if(d.isId){if(!f.isId)throw new Error("property <"+f.ns.name+"> must be id property to refine <"+d.ns.name+">");this.setIdProperty(f,!1)}if(d.isBody){if(!f.isBody)throw new Error("property <"+f.ns.name+"> must be body property to refine <"+d.ns.name+">");this.setBodyProperty(f,!1)}var w=b.indexOf(d);if(-1===w)throw new Error("property <"+v.name+"> not found in property list");b.splice(w,1),this.addProperty(f,m?void 0:w,x),_[v.name]=_[v.localName]=f},ia.prototype.redefineProperty=function(d,f,m){var v=d.ns.prefix,b=f.split("#"),_=_s(b[0],v),x=_s(b[1],_.prefix).name,w=this.propertiesByName[x];if(!w)throw new Error("refined property <"+x+"> not found");this.replaceProperty(w,d,m),delete d.redefines},ia.prototype.addNamedProperty=function(d,f){var m=d.ns,v=this.propertiesByName;f&&(this.assertNotDefined(d,m.name),this.assertNotDefined(d,m.localName)),v[m.name]=v[m.localName]=d},ia.prototype.removeNamedProperty=function(d){var f=d.ns,m=this.propertiesByName;delete m[f.name],delete m[f.localName]},ia.prototype.setBodyProperty=function(d,f){if(f&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+d.ns.name+">)");this.bodyProperty=d},ia.prototype.setIdProperty=function(d,f){if(f&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+d.ns.name+">)");this.idProperty=d},ia.prototype.assertNotDefined=function(d,f){var m=d.name,v=this.propertiesByName[m];if(v)throw new Error("property <"+m+"> already defined; override of <"+v.definedBy.ns.name+"#"+v.ns.name+"> by <"+d.definedBy.ns.name+"#"+d.ns.name+"> not allowed without redefines")},ia.prototype.hasProperty=function(d){return this.propertiesByName[d]},ia.prototype.addTrait=function(d,f){var m=this.allTypesByName,v=this.allTypes,b=d.name;b in m||(ge(d.properties,Ze(function(_){_=de({},_,{name:_.ns.localName,inherited:f}),Object.defineProperty(_,"definedBy",{value:d});var x=_.replaces,w=_.redefines;x||w?this.redefineProperty(_,x||w,x):(_.isBody&&this.setBodyProperty(_),_.isId&&this.setIdProperty(_),this.addProperty(_))},this)),v.push(d),m[b]=d)},lc.prototype.getPackage=function(d){return this.packageMap[d]},lc.prototype.getPackages=function(){return this.packages},lc.prototype.registerPackage=function(d){d=de({},d);var f=this.packageMap;Rl(f,d,"prefix"),Rl(f,d,"uri"),ge(d.types,Ze(function(m){this.registerType(m,d)},this)),f[d.uri]=f[d.prefix]=d,this.packages.push(d)},lc.prototype.registerType=function(d,f){var m=_s((d=de({},d,{superClass:(d.superClass||[]).slice(),extends:(d.extends||[]).slice(),properties:(d.properties||[]).slice(),meta:de(d.meta||{})})).name,f.prefix),v=m.name,b={};ge(d.properties,Ze(function(_){var x=_s(_.name,m.prefix),w=x.name;Bu(_.type)||(_.type=_s(_.type,x.prefix).name),de(_,{ns:x,name:w}),b[w]=_},this)),de(d,{ns:m,name:v,propertiesByName:b}),ge(d.extends,Ze(function(_){var x=this.typeMap[_];x.traits=x.traits||[],x.traits.push(v)},this)),this.definePackage(d,f),this.typeMap[v]=d},lc.prototype.mapTypes=function(d,f,m){var v=Bu(d.name)?{name:d.name}:this.typeMap[d.name],b=this;function _(w){return x(w,!0)}function x(w,S){var T=_s(w,Bu(w)?"":d.prefix);b.mapTypes(T,f,S)}if(!v)throw new Error("unknown type <"+d.name+">");ge(v.superClass,m?_:x),f(v,!m),ge(v.traits,_)},lc.prototype.getEffectiveDescriptor=function(d){var f=_s(d),m=new ia(f);this.mapTypes(f,function(b,_){m.addTrait(b,_)});var v=m.build();return this.definePackage(v,v.allTypes[v.allTypes.length-1].$pkg),v},lc.prototype.definePackage=function(d,f){this.properties.define(d,"$pkg",{value:f})},Jr.prototype.set=function(d,f,m){if(!Or(f)||!f.length)throw new TypeError("property name must be a non-empty string");var v=this.model.getPropertyDescriptor(d,f),b=v&&v.name;void 0===m?v?delete d[b]:delete d.$attrs[f]:v?b in d?d[b]=m:LC(d,v,m):d.$attrs[f]=m},Jr.prototype.get=function(d,f){var m=this.model.getPropertyDescriptor(d,f);if(!m)return d.$attrs[f];var v=m.name;return!d[v]&&m.isMany&&LC(d,m,[]),d[v]},Jr.prototype.define=function(d,f,m){if(!m.writable){var v=m.value;delete(m=de({},m,{get:function(){return v}})).value}Object.defineProperty(d,f,m)},Jr.prototype.defineDescriptor=function(d,f){this.define(d,"$descriptor",{value:f})},Jr.prototype.defineModel=function(d,f){this.define(d,"$model",{value:f})},Sa.prototype.create=function(d,f){var m=this.getType(d);if(!m)throw new Error("unknown type <"+d+">");return new m(f)},Sa.prototype.getType=function(d){var f=this.typeCache,m=Or(d)?d:d.ns.name,v=f[m];return v||(d=this.registry.getEffectiveDescriptor(m),v=f[m]=this.factory.createType(d)),v},Sa.prototype.createAny=function(d,f,m){var v=_s(d),b={$type:d,$instanceOf:function(x){return x===this.$type}};return this.properties.defineDescriptor(b,{name:d,isGeneric:!0,ns:{prefix:v.prefix,localName:v.localName,uri:f}}),this.properties.defineModel(b,this),this.properties.define(b,"$parent",{enumerable:!1,writable:!0}),this.properties.define(b,"$instanceOf",{enumerable:!1,writable:!0}),ge(m,function(x,w){Dn(x)&&void 0!==x.value?b[x.name]=x.value:b[w]=x}),b},Sa.prototype.getPackage=function(d){return this.registry.getPackage(d)},Sa.prototype.getPackages=function(){return this.registry.getPackages()},Sa.prototype.getElementDescriptor=function(d){return d.$descriptor},Sa.prototype.hasType=function(d,f){return void 0===f&&(f=d,d=this),f in d.$model.getElementDescriptor(d).allTypesByName},Sa.prototype.getPropertyDescriptor=function(d,f){return this.getElementDescriptor(d).propertiesByName[f]},Sa.prototype.getTypeDescriptor=function(d){return this.registry.typeMap[d]};var FC=String.fromCharCode,BC=Object.prototype.hasOwnProperty,I1=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,ph={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function VC(d,f,m,v){return v?BC.call(ph,v)?ph[v]:"&"+v+";":FC(f||parseInt(m,16))}function vp(d){return d.length>3&&-1!==d.indexOf("&")?d.replace(I1,VC):d}Object.keys(ph).forEach(function(d){ph[d.toUpperCase()]=ph[d]});var t2="xsi:type",jC="non-whitespace outside of root node";function fh(d){return new Error(d)}function Il(d){return"missing namespace for prefix <"+d+">"}function n2(d){return{get:d,enumerable:!0}}function $C(d){var f,m={};for(f in d)m[f]=d[f];return m}function v_(d){return d+"$uri"}function zC(){return{line:0,column:0}}function mO(d){throw d}function HC(d){if(!this)return new HC(d);var f,m,v,b,_,x,w,S,T,P=d&&d.proxy,M=mO,k=zC,R=!1,I=!1,$=null,W=!1;function H(Q){Q instanceof Error||(Q=fh(Q)),$=Q,M(Q,k)}function z(Q){_&&(Q instanceof Error||(Q=fh(Q)),_(Q,k))}this.on=function(Q,J){if("function"!=typeof J)throw fh("required args <name, cb>");switch(Q){case"openTag":m=J;break;case"text":f=J;break;case"closeTag":v=J;break;case"error":M=J;break;case"warn":_=J;break;case"cdata":b=J;break;case"attention":S=J;break;case"question":w=J;break;case"comment":x=J;break;default:throw fh("unsupported event: "+Q)}return this},this.ns=function(Q){if(void 0===Q&&(Q={}),"object"!=typeof Q)throw fh("required args <nsMap={}>");var J,oe={};for(J in Q)oe[J]=Q[J];return oe["http://www.w3.org/2001/XMLSchema-instance"]="xsi",I=!0,T=oe,this},this.parse=function(Q){if("string"!=typeof Q)throw fh("required args <xml=string>");return $=null,function(J){var oe,we,Ee,Te,Ne,Kt,gt,$e,Qe,pn,ue,G=I?[]:null,xe=I?function(Kr){var xi,Rr,ci={};for(xi in Kr)ci[Rr=Kr[xi]]=Rr,ci[v_(Rr)]=xi;return ci}(T):null,He=[],et=0,Lt=!1,zt=!1,Wt=0,St=0,fr="",Hr=0;function Gl(){if(null!==ue)return ue;var Kr,xi,Rr,ci,Wi,_r,Ms,Er,Di,Nn,xr,tf=I&&xe.xmlns,lu=I&&R?[]:null,bo=Hr,Os=fr,al=Os.length,wd={},ll={};e:for(;bo<al;bo++)if(Di=!1,!(32===(Nn=Os.charCodeAt(bo))||Nn<14&&Nn>8)){for((Nn<65||Nn>122||Nn>90&&Nn<97)&&95!==Nn&&58!==Nn&&(z("illegal first char attribute name"),Di=!0),xr=bo+1;xr<al;xr++)if(!((Nn=Os.charCodeAt(xr))>96&&Nn<123||Nn>64&&Nn<91||Nn>47&&Nn<59||46===Nn||45===Nn||95===Nn)){if(32===Nn||Nn<14&&Nn>8){z("missing attribute value"),bo=xr;continue e}if(61===Nn)break;z("illegal attribute name char"),Di=!0}if("xmlns:xmlns"===(Er=Os.substring(bo,xr))&&(z("illegal declaration of xmlns"),Di=!0),34===(Nn=Os.charCodeAt(xr+1)))-1===(xr=Os.indexOf('"',bo=xr+2))&&-1!==(xr=Os.indexOf("'",bo))&&(z("attribute value quote missmatch"),Di=!0);else if(39===Nn)-1===(xr=Os.indexOf("'",bo=xr+2))&&-1!==(xr=Os.indexOf('"',bo))&&(z("attribute value quote missmatch"),Di=!0);else for(z("missing attribute value quotes"),Di=!0,xr+=1;xr<al&&!(32===(Nn=Os.charCodeAt(xr+1))||Nn<14&&Nn>8);xr++);for(-1===xr&&(z("missing closing quotes"),xr=al,Di=!0),Di||(_r=Os.substring(bo,xr)),bo=xr;xr+1<al&&!(32===(Nn=Os.charCodeAt(xr+1))||Nn<14&&Nn>8);xr++)bo===xr&&(z("illegal character after attribute end"),Di=!0);if(bo=xr+1,!Di)if(Er in ll)z("attribute <"+Er+"> already defined");else if(ll[Er]=!0,I)if(R){if(null!==(Wi="xmlns"===Er?"xmlns":120===Er.charCodeAt(0)&&"xmlns:"===Er.substr(0,6)?Er.substr(6):null)){if(Kr=vp(_r),xi=v_(Wi),!(Ms=T[Kr])){if("xmlns"===Wi||xi in xe&&xe[xi]!==Kr)do{Ms="ns"+et++}while(void 0!==xe[Ms]);else Ms=Wi;T[Kr]=Ms}xe[Wi]!==Ms&&(ci||(xe=$C(xe),ci=!0),xe[Wi]=Ms,"xmlns"===Wi&&(xe[v_(Ms)]=Kr,tf=Ms),xe[xi]=Kr),wd[Er]=_r;continue}lu.push(Er,_r)}else-1!==(Nn=Er.indexOf(":"))?(Rr=xe[Er.substring(0,Nn)])?((Er=tf===Rr?Er.substr(Nn+1):Rr+Er.substr(Nn))===t2&&(-1!==(Nn=_r.indexOf(":"))?(Rr=_r.substring(0,Nn),_r=(Rr=xe[Rr]||Rr)+_r.substring(Nn)):_r=tf+":"+_r),wd[Er]=_r):z(Il(Er.substring(0,Nn))):wd[Er]=_r;else wd[Er]=_r}if(R)for(bo=0,al=lu.length;bo<al;bo++){if(Er=lu[bo++],_r=lu[bo],-1!==(Nn=Er.indexOf(":"))){if(!(Rr=xe[Er.substring(0,Nn)])){z(Il(Er.substring(0,Nn)));continue}(Er=tf===Rr?Er.substr(Nn+1):Rr+Er.substr(Nn))===t2&&(-1!==(Nn=_r.indexOf(":"))?(Rr=_r.substring(0,Nn),_r=(Rr=xe[Rr]||Rr)+_r.substring(Nn)):_r=tf+":"+_r)}wd[Er]=_r}return ue=wd}for(k=function Qs(){for(var Kr,xi,Rr=/(\r\n|\r|\n)/g,ci=0,Wi=0,_r=0,Ms=St;Wt>=_r&&(Kr=Rr.exec(J))&&!((Ms=Kr[0].length+Kr.index)>Wt);)ci+=1,_r=Ms;return-1==Wt?(Wi=Ms,xi=J.substring(St)):0===St?xi=J.substring(St,Wt):(Wi=Wt-_r,xi=-1==St?J.substring(Wt):J.substring(Wt,St+1)),{data:xi,line:ci,column:Wi}},P&&(pn=Object.create({},{name:n2(function(){return $e}),originalName:n2(function(){return Qe}),attrs:n2(Gl),ns:n2(function(){return xe})}));-1!==St;){if(-1===(Wt=60===J.charCodeAt(St)?St:J.indexOf("<",St)))return He.length?H("unexpected end of file"):0===St?H("missing start tag"):void(St<J.length&&J.substring(St).trim()&&z(jC));if(St!==Wt)if(He.length){if(f&&(f(J.substring(St,Wt),vp,k),W))return}else if(J.substring(St,Wt).trim()&&(z(jC),W))return;if(33===(Ne=J.charCodeAt(Wt+1))){if(91===(Te=J.charCodeAt(Wt+2))&&"CDATA["===J.substr(Wt+3,6)){if(-1===(St=J.indexOf("]]>",Wt)))return H("unclosed cdata");if(b&&(b(J.substring(Wt+9,St),k),W))return;St+=3;continue}if(45===Te&&45===J.charCodeAt(Wt+3)){if(-1===(St=J.indexOf("--\x3e",Wt)))return H("unclosed comment");if(x&&(x(J.substring(Wt+4,St),vp,k),W))return;St+=3;continue}}if(63!==Ne){for(we=Wt+1;;we++){if(Kt=J.charCodeAt(we),isNaN(Kt))return St=-1,H("unclosed tag");if(34===Kt)we=-1!==(Te=J.indexOf('"',we+1))?Te:we;else if(39===Kt)we=-1!==(Te=J.indexOf("'",we+1))?Te:we;else if(62===Kt){St=we;break}}if(33!==Ne){if(ue={},47===Ne){if(Lt=!1,zt=!0,!He.length)return H("missing open tag");if(we=$e=He.pop(),J.substring(Wt+2,Te=Wt+2+we.length)!==we)return H("closing tag mismatch");for(;Te<St;Te++)if(!(32===(Ne=J.charCodeAt(Te))||Ne>8&&Ne<14))return H("close tag")}else{if(47===J.charCodeAt(St-1)?(we=$e=J.substring(Wt+1,St-1),Lt=!0,zt=!0):(we=$e=J.substring(Wt+1,St),Lt=!0,zt=!1),!(Ne>96&&Ne<123||Ne>64&&Ne<91||95===Ne||58===Ne))return H("illegal first char nodeName");for(Te=1,Ee=we.length;Te<Ee;Te++)if(!((Ne=we.charCodeAt(Te))>96&&Ne<123||Ne>64&&Ne<91||Ne>47&&Ne<59||45===Ne||95===Ne||46==Ne)){if(32===Ne||Ne<14&&Ne>8){$e=we.substring(0,Te),ue=null;break}return H("invalid nodeName")}zt||He.push($e)}if(I){if(oe=xe,Lt&&(zt||G.push(oe),null===ue&&(R=-1!==we.indexOf("xmlns",Te))&&(Hr=Te,fr=we,Gl(),R=!1)),Qe=$e,-1!==(Ne=$e.indexOf(":"))){if(!(gt=xe[$e.substring(0,Ne)]))return H("missing namespace on <"+Qe+">");$e=$e.substr(Ne+1)}else gt=xe.xmlns;gt&&($e=gt+":"+$e)}if(Lt&&(Hr=Te,fr=we,m&&(P?m(pn,vp,zt,k):m($e,Gl,vp,zt,k),W)))return;if(zt){if(v&&(v(P?pn:$e,vp,Lt,k),W))return;I&&(xe=Lt?oe:G.pop())}St+=1}else{if(S&&(S(J.substring(Wt,St+1),vp,k),W))return;St+=1}}else{if(-1===(St=J.indexOf("?>",Wt)))return H("unclosed question");if(w&&(w(J.substring(Wt,St+2),k),W))return;St+=2}}}(Q),k=zC,W=!1,$},this.stop=function(){W=!0}}function y_(d){return d.xml&&"lowerCase"===d.xml.tagAlias}var gO={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},r2="xsi:type";function UC(d){return d.xml&&d.xml.serialize}function N1(d){return UC(d)===r2}function GC(d,f){return y_(f)?d.prefix+":"+((m=d.localName).charAt(0).toUpperCase()+m.slice(1)):d.name;var m}function U0(d){return new Error(d)}function as(d){return d.$descriptor}function qC(d){de(this,d),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(f){this.references.push(f)},this.addElement=function(f){if(!f)throw U0("expected element");var m,v=this.elementsById,b=as(f).idProperty;if(b&&(m=f.get(b.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(m))throw new Error("illegal ID <"+m+">");if(v[m])throw U0("duplicate ID <"+m+">");v[m]=f}},this.addWarning=function(f){this.warnings.push(f)}}function Cn(){}function Hs(){}function Un(){}function ro(d,f){this.property=d,this.context=f}function qo(d,f){this.element=f,this.propertyDesc=d}function cc(){}function Xr(d,f,m){this.model=d,this.type=d.getType(f),this.context=m}function i2(d,f,m){Xr.call(this,d,f,m)}function yp(d,f,m){this.model=d,this.context=m}function hh(d){d instanceof Sa&&(d={model:d}),de(this,{lax:!1},d)}Cn.prototype.handleEnd=function(){},Cn.prototype.handleText=function(){},Cn.prototype.handleNode=function(){},(Hs.prototype=Object.create(Cn.prototype)).handleNode=function(){return this},(Un.prototype=Object.create(Cn.prototype)).handleText=function(d){this.body=(this.body||"")+d},(ro.prototype=Object.create(Un.prototype)).handleNode=function(d){if(this.element)throw U0("expected no sub nodes");return this.element=this.createReference(d),this},ro.prototype.handleEnd=function(){this.element.id=this.body},ro.prototype.createReference=function(d){return{property:this.property.ns.name,id:""}},(qo.prototype=Object.create(Un.prototype)).handleEnd=function(){var d=this.body||"",f=this.element,m=this.propertyDesc;d=Dr(m.type,d),m.isMany?f.get(m.name).push(d):f.set(m.name,d)},(cc.prototype=Object.create(Un.prototype)).handleNode=function(d){var f=this,m=this.element;return m?f=this.handleChild(d):(m=this.element=this.createElement(d),this.context.addElement(m)),f},(Xr.prototype=Object.create(cc.prototype)).addReference=function(d){this.context.addReference(d)},Xr.prototype.handleText=function(d){if(!as(this.element).bodyProperty)throw U0("unexpected body text <"+d+">");Un.prototype.handleText.call(this,d)},Xr.prototype.handleEnd=function(){var d=this.body,f=this.element,m=as(f).bodyProperty;m&&void 0!==d&&(d=Dr(m.type,d),f.set(m.name,d))},Xr.prototype.createElement=function(d){var f,m=d.attributes,v=this.type,b=as(v),_=this.context,x=new v({}),w=this.model;return ge(m,function(S,T){var P=b.propertiesByName[T];P&&P.isReference?P.isMany?ge(S.split(" "),function(M){_.addReference({element:x,property:P.ns.name,id:M})}):_.addReference({element:x,property:P.ns.name,id:S}):(P?S=Dr(P.type,S):"xmlns"!==T&&(f=_s(T,b.ns.prefix),w.getPackage(f.prefix)&&_.addWarning({message:"unknown attribute <"+T+">",element:x,property:T,value:S})),x.set(T,S))}),x},Xr.prototype.getPropertyForNode=function(d){var f,m,M,R,I,$,W,H,k,v=_s(d.name),_=this.model,x=as(this.type),S=x.propertiesByName[v.name];if(S&&!S.isAttr)return N1(S)&&(f=d.attributes[r2])?(M=_,R=k=_s(f),I=M.getPackage(k.prefix),$=R.name,W=R.localName,f=(H=I.xml&&I.xml.typePrefix)&&0===W.indexOf(H)?R.prefix+":"+W.slice(H.length):$,de({},S,{effectiveType:as(m=_.getType(f)).name})):S;var T=_.getPackage(v.prefix);if(T){if(f=GC(v,T),m=_.getType(f),S=cn(x.properties,function(P){return!P.isVirtual&&!P.isReference&&!P.isAttribute&&m.hasType(P.type)}))return de({},S,{effectiveType:as(m).name})}else if(S=cn(x.properties,function(P){return!P.isReference&&!P.isAttribute&&"Element"===P.type}))return S;throw U0("unrecognized element <"+v.name+">")},Xr.prototype.toString=function(){return"ElementDescriptor["+as(this.type).name+"]"},Xr.prototype.valueHandler=function(d,f){return new qo(d,f)},Xr.prototype.referenceHandler=function(d){return new ro(d,this.context)},Xr.prototype.handler=function(d){return"Element"===d?new yp(this.model,d,this.context):new Xr(this.model,d,this.context)},Xr.prototype.handleChild=function(d){var f,m,v,b;if(f=this.getPropertyForNode(d),v=this.element,g_(m=f.effectiveType||f.type))return this.valueHandler(f,v);var _=(b=f.isReference?this.referenceHandler(f).handleNode(d):this.handler(m).handleNode(d)).element;return void 0!==_&&(f.isMany?v.get(f.name).push(_):v.set(f.name,_),f.isReference?(de(_,{element:v}),this.context.addReference(_)):_.$parent=v),b},(i2.prototype=Object.create(Xr.prototype)).createElement=function(d){var f=d.name,m=_s(f),b=this.type,_=this.model.getPackage(m.prefix),x=_&&GC(m,_)||f;if(!b.hasType(x))throw U0("unexpected element <"+d.originalName+">");return Xr.prototype.createElement.call(this,d)},(yp.prototype=Object.create(cc.prototype)).createElement=function(d){var f=d.name,m=_s(f).prefix;return this.model.createAny(f,d.ns[m+"$uri"],d.attributes)},yp.prototype.handleChild=function(d){var f=new yp(this.model,"Element",this.context).handleNode(d),m=this.element,v=f.element;return void 0!==v&&((m.$children=m.$children||[]).push(v),v.$parent=m),f},yp.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},hh.prototype.fromXML=function(d,f,m){var v=f.rootHandler;f instanceof Xr?(v=f,f={}):"string"==typeof f?(v=this.handler(f),f={}):"string"==typeof v&&(v=this.handler(v));var W,b=this.model,_=this.lax,x=new qC(de({},f,{rootHandler:v})),w=new HC({proxy:!0}),S=(W=[],Object.defineProperty(W,"peek",{value:function(){return this[this.length-1]}}),W);function T(W,H,z){var Q=H(),J=Q.line,oe=Q.column,we=Q.data;"<"===we.charAt(0)&&-1!==we.indexOf(" ")&&(we=we.slice(0,we.indexOf(" "))+">");var Ee="unparsable content "+(we?we+" ":"")+"detected\n\tline: "+J+"\n\tcolumn: "+oe+"\n\tnested error: "+W.message;if(z)return x.addWarning({message:Ee,error:W}),!0;throw U0(Ee)}function P(W,H){return T(W,H,!0)}v.context=x,S.push(v);var M=/^<\?xml /i,k=/ encoding="([^"]+)"/i,R=/^utf-8$/i;function I(W,H){try{S.peek().handleText(W)}catch(z){P(z,H)}}var $=b.getPackages().reduce(function(W,H){return W[H.uri]=H.prefix,W},{"http://www.w3.org/XML/1998/namespace":"xml"});return w.ns($).on("openTag",function(W,H,z,Q){var J=W.attrs||{},oe=Object.keys(J).reduce(function(we,Ee){var Te=H(J[Ee]);return we[Ee]=Te,we},{});!function(we,Ee){var Te=S.peek();try{S.push(Te.handleNode(we))}catch(Ne){T(Ne,Ee,_)&&S.push(new Hs)}}({name:W.name,originalName:W.originalName,attributes:oe,ns:W.ns},Q)}).on("question",function(W){if(M.test(W)){var H=k.exec(W),z=H&&H[1];z&&!R.test(z)&&x.addWarning({message:"unsupported document encoding <"+z+">, falling back to UTF-8"})}}).on("closeTag",function(){S.pop().handleEnd()}).on("cdata",I).on("text",function(W,H,z){var Q,J;J=z,(Q=H(W)).trim()&&I(Q,J)}).on("error",T).on("warn",P),new Promise(function(W,H){var z;try{w.parse(d),function(){var Ee,Te,Ne=x.elementsById,Kt=x.references;for(Ee=0;Te=Kt[Ee];Ee++){var gt=Te.element,$e=Ne[Te.id],Qe=as(gt).propertiesByName[Te.property];if($e||x.addWarning({message:"unresolved reference <"+Te.id+">",element:Te.element,property:Te.property,value:Te.id}),Qe.isMany){var pn=gt.get(Qe.name),ue=pn.indexOf(Te);-1===ue&&(ue=pn.length),$e?pn[ue]=$e:pn.splice(ue,1)}else gt.set(Qe.name,$e)}}()}catch(Ee){z=Ee}var Q=v.element;z||Q||(z=U0("failed to parse document as <"+v.type.$descriptor.name+">"));var J=x.warnings,oe=x.references,we=x.elementsById;return z?(z.warnings=J,H(z)):W({rootElement:Q,elementsById:we,references:oe,warnings:J})})},hh.prototype.handler=function(d){return new i2(this.model,d)};var vO=/<|>|'|"|&|\n\r|\n/g,WC=/<|>|&/g;function L1(d){var f={},m={},v={},b=[],_=[];this.byUri=function(x){return m[x]||d&&d.byUri(x)},this.add=function(x,w){m[x.uri]=x,w?b.push(x):_.push(x),this.mapPrefix(x.prefix,x.uri)},this.uriByPrefix=function(x){return f[x||"xmlns"]},this.mapPrefix=function(x,w){f[x||"xmlns"]=w},this.getNSKey=function(x){return void 0!==x.prefix?x.uri+"|"+x.prefix:x.uri},this.logUsed=function(x){var w=x.uri,S=this.getNSKey(x);v[S]=this.byUri(w),d&&d.logUsed(x)},this.getUsed=function(x){var w=this;return[].concat(b,_).filter(function(S){var T=w.getNSKey(S);return v[T]})}}function yO(d,f){return y_(f)?(m=d).charAt(0).toLowerCase()+m.slice(1):d;var m}function o2(d,f){d.super_=f,d.prototype=Object.create(f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}function b_(d){return Or(d)?d:(d.prefix?d.prefix+":":"")+d.localName}var s2={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Lz={"<":"lt",">":"gt","&":"amp"};function a2(d,f,m){return(d=Or(d)?d:""+d).replace(f,function(v){return"&"+m[v]+";"})}function __(d){this.tagName=d}function Vu(){}function l2(d){this.tagName=d}function Si(d,f){this.body=[],this.attrs=[],this.parent=d,this.propertyDescriptor=f}function Yc(d,f){Si.call(this,d,f)}function bO(){this.value="",this.write=function(d){this.value+=d}}function E_(d,f){var m=[""];this.append=function(v){return d.write(v),this},this.appendNewLine=function(){return f&&d.write("\n"),this},this.appendIndent=function(){return f&&d.write(m.join("  ")),this},this.indent=function(){return m.push(""),this},this.unindent=function(){return m.pop(),this}}function c2(d){return d=de({format:!1,preamble:!0},d||{}),{toXML:function(f,m){var v=m||new bO,b=new E_(v,d.format);if(d.preamble&&b.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new Si).build(f).serializeTo(b),!m)return v.value}}}function u2(d,f){Sa.call(this,d,f)}__.prototype.build=function(d){return this.element=d,this},__.prototype.serializeTo=function(d){d.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Vu.prototype.serializeValue=Vu.prototype.serializeTo=function(d){d.append(this.escape?a2(this.value,WC,Lz):this.value)},Vu.prototype.build=function(d,f){return this.value=f,"String"===d.type&&-1!==f.search(WC)&&(this.escape=!0),this},o2(l2,Vu),l2.prototype.serializeTo=function(d){d.appendIndent().append("<"+this.tagName+">"),this.serializeValue(d),d.append("</"+this.tagName+">").appendNewLine()},Si.prototype.build=function(d){this.element=d;var f,m,x,v=d.$descriptor,b=this.propertyDescriptor,_=v.isGeneric;return f=_?this.parseGeneric(d):this.parseNsAttributes(d),this.ns=b?this.nsPropertyTagName(b):this.nsTagName(v),this.tagName=this.addTagName(this.ns),_||(m=kt((x=d).$descriptor.properties,function(w){var S=w.name;if(w.isVirtual||!vn(x,S))return!1;var T=x[S];return T!==w.default&&null!==T&&(!w.isMany||T.length)}),this.parseAttributes(kt(m,function(x){return x.isAttr})),this.parseContainments(function(x){return kt(x,function(w){return!w.isAttr})}(m))),this.parseGenericAttributes(d,f),this},Si.prototype.nsTagName=function(d){return function(f,m){return de(m.isGeneric?{localName:m.ns.localName}:{localName:yO(m.ns.localName,m.$pkg)},f)}(this.logNamespaceUsed(d.ns),d)},Si.prototype.nsPropertyTagName=function(d){return function(f,m){return de({localName:m.ns.localName},f)}(this.logNamespaceUsed(d.ns),d)},Si.prototype.isLocalNs=function(d){return d.uri===this.ns.uri},Si.prototype.nsAttributeName=function(d){var f;if(f=Or(d)?_s(d):d.ns,d.inherited)return{localName:f.localName};var m=this.logNamespaceUsed(f);return this.getNamespaces().logUsed(m),this.isLocalNs(m)?{localName:f.localName}:de({localName:f.localName},m)},Si.prototype.parseGeneric=function(d){var f=this,m=this.body,v=[];return ge(d,function(b,_){"$body"===_?m.push((new Vu).build({type:"String"},b)):"$children"===_?ge(b,function(x){m.push(new Si(f).build(x))}):0!==_.indexOf("$")&&f.parseNsAttribute(d,_,b)&&v.push({name:_,value:b})}),v},Si.prototype.parseNsAttribute=function(d,f,m){var v,b=d.$model,_=_s(f);if("xmlns"===_.prefix&&(v={prefix:_.localName,uri:m}),_.prefix||"xmlns"!==_.localName||(v={uri:m}),!v)return{name:f,value:m};if(b&&b.getPackage(m))this.logNamespace(v,!0,!0);else{var x=this.logNamespaceUsed(v,!0);this.getNamespaces().logUsed(x)}},Si.prototype.parseNsAttributes=function(d,f){var m=this,b=[];return ge(d.$attrs,function(_,x){var w=m.parseNsAttribute(d,x,_);w&&b.push(w)}),b},Si.prototype.parseGenericAttributes=function(d,f){var m=this;ge(f,function(v){if(v.name!==r2)try{m.addAttribute(m.nsAttributeName(v.name),v.value)}catch(b){console.warn("missing namespace information for ",v.name,"=",v.value,"on",d,b)}})},Si.prototype.parseContainments=function(d){var f=this,m=this.body,v=this.element;ge(d,function(b){var _=v.get(b.name),x=b.isReference;if(b.isMany||(_=[_]),b.isBody)m.push((new Vu).build(b,_[0]));else if(g_(b.type))ge(_,function(T){m.push(new l2(f.addTagName(f.nsPropertyTagName(b))).build(b,T))});else if(x)ge(_,function(T){m.push(new __(f.addTagName(f.nsPropertyTagName(b))).build(T))});else{var w=N1(b),S="property"===UC(b);ge(_,function(T){var P;P=w?new Yc(f,b):S?new Si(f,b):new Si(f),m.push(P.build(T))})}})},Si.prototype.getNamespaces=function(d){var f,m=this.namespaces,v=this.parent;return m||(f=v&&v.getNamespaces(),d||!f?this.namespaces=m=new L1(f):m=f),m},Si.prototype.logNamespace=function(d,f,m){var v=this.getNamespaces(m),b=d.uri,_=d.prefix;return v.byUri(b)&&!m||v.add(d,f),v.mapPrefix(_,b),d},Si.prototype.logNamespaceUsed=function(d,f){var m,v,b,_=this.element.$model,x=this.getNamespaces(f),w=d.prefix,S=d.uri;if(!w&&!S)return{localName:d.localName};if(b=gO[w]||_&&(_.getPackage(w)||{}).uri,!(S=S||b||x.uriByPrefix(w)))throw new Error("no namespace uri given for prefix <"+w+">");if(!(d=x.byUri(S))){for(m=w,v=1;x.uriByPrefix(m);)m=w+"_"+v++;d=this.logNamespace({prefix:m,uri:S},b===S)}return w&&x.mapPrefix(w,S),d},Si.prototype.parseAttributes=function(d){var f=this,m=this.element;ge(d,function(v){var b=m.get(v.name);if(v.isReference)if(v.isMany){var _=[];ge(b,function(x){_.push(x.id)}),b=_.join(" ")}else b=b.id;f.addAttribute(f.nsAttributeName(v),b)})},Si.prototype.addTagName=function(d){var f=this.logNamespaceUsed(d);return this.getNamespaces().logUsed(f),b_(d)},Si.prototype.addAttribute=function(d,f){var m=this.attrs;Or(f)&&(f=a2(f,vO,s2));var v=uo(m,function(_){return _.name.localName===d.localName&&_.name.uri===d.uri&&_.name.prefix===d.prefix}),b={name:d,value:f};-1!==v?m.splice(v,1,b):m.push(b)},Si.prototype.serializeAttributes=function(d){var v,f=this.attrs,m=this.namespaces;m&&(f=(v=m,v.getUsed().filter(function(b){return"xml"!==b.prefix}).map(function(b){return{name:"xmlns"+(b.prefix?":"+b.prefix:""),value:b.uri}})).concat(f)),ge(f,function(v){d.append(" ").append(b_(v.name)).append('="').append(v.value).append('"')})},Si.prototype.serializeTo=function(d){var f=this.body[0],m=f&&f.constructor!==Vu;d.appendIndent().append("<"+this.tagName),this.serializeAttributes(d),d.append(f?">":" />"),f&&(m&&d.appendNewLine().indent(),ge(this.body,function(v){v.serializeTo(d)}),m&&d.unindent().appendIndent(),d.append("</"+this.tagName+">")),d.appendNewLine()},o2(Yc,Si),Yc.prototype.parseNsAttributes=function(d){var f=Si.prototype.parseNsAttributes.call(this,d),m=d.$descriptor;if(m.name===this.propertyDescriptor.type)return f;var v=this.typeNs=this.nsTagName(m);this.getNamespaces().logUsed(this.typeNs);var b=d.$model.getPackage(v.uri),_=b.xml&&b.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(r2),(v.prefix?v.prefix+":":"")+_+m.ns.localName),f},Yc.prototype.isLocalNs=function(d){return d.uri===(this.typeNs||this.ns).uri},(u2.prototype=Object.create(Sa.prototype)).fromXML=function(d,f,m){Or(f)||(m=f,f="bpmn:Definitions");var v=new hh(de({model:this,lax:!0},m)),b=v.handler(f);return v.fromXML(d,b)},u2.prototype.toXML=function(d,f){var m=new c2(f);return new Promise(function(v,b){try{return v({xml:m.toXML(d)})}catch(_){return b(_)}})};var x_={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function d2(d,f){return new u2(de({},x_,d),f)}function Yr(d){return d?"<"+d.$type+(d.id?' id="'+d.id:"")+'" />':"<null>"}var mh="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function p2(d){vn(d,"di")||Object.defineProperty(d,"di",{enumerable:!1,get:function(){throw new Error(mh)}})}function oa(d,f){return d.$instanceOf(f)}function _O(d,f){var m={},v=[],b={};function _($e,Qe){return function(pn){$e(pn,Qe)}}function x($e){m[$e.id]=$e}function w($e,Qe){try{var pn=b[$e.id]&&function(ue,G){if(ue.gfx)throw new Error(f("already rendered {element}",{element:Yr(ue)}));return d.element(ue,b[ue.id],G)}($e,Qe);return x($e),pn}catch(ue){S(ue.message,{element:$e,error:ue}),console.error(f("failed to import {element}",{element:Yr($e)})),console.error(ue)}}function S($e,Qe){d.error($e,Qe)}var T=this.registerDi=function($e){var Qe=$e.bpmnElement;Qe?b[Qe.id]?S(f("multiple DI elements defined for {element}",{element:Yr(Qe)}),{element:Qe}):(b[Qe.id]=$e,p2(Qe)):S(f("no bpmnElement referenced in {element}",{element:Yr($e)}),{element:$e})};function M($e){T($e)}this.handleDefinitions=function($e,Qe){var pn=$e.diagrams;if(Qe&&-1===pn.indexOf(Qe))throw new Error(f("diagram not part of bpmn:Definitions"));if(!Qe&&pn&&pn.length&&(Qe=pn[0]),!Qe)throw new Error(f("no diagram to display"));b={},function P($e){var Qe;T(Qe=$e.plane),ge(Qe.planeElement,M)}(Qe);var ue=Qe.plane;if(!ue)throw new Error(f("no plane for {element}",{element:Yr(Qe)}));var G=ue.bpmnElement;if(!G){if(!(G=cn($e.rootElements,function(zt){return oa(zt,"bpmn:Process")||oa(zt,"bpmn:Collaboration")})))throw new Error(f("no process or collaboration to display"));S(f("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Yr(ue),rootElement:Yr(G)})),ue.bpmnElement=G,T(ue)}var xe,He,Lt,et=d.root(Lt=G,b[Lt.id],ue);if(oa(G,"bpmn:Process")||oa(G,"bpmn:SubProcess"))R(G,et);else{if(!oa(G,"bpmn:Collaboration"))throw new Error(f("unsupported bpmnElement for {plane}: {rootElement}",{plane:Yr(ue),rootElement:Yr(G)}));ge((xe=G).participants,_(gt,He=et)),Q(xe.artifacts,He),v.push(function(){!function(Lt,zt){ge(Lt,_(I,zt))}(xe.messageFlows,He)}),function(Lt,zt){kt(Lt,function(St){return!m[St.id]&&oa(St,"bpmn:Process")&&St.laneSets}).forEach(_(R,zt))}($e.rootElements,et)}k(v)};var k=this.handleDeferred=function(){for(;v.length;)v.shift()()};function R($e,Qe){Kt($e,Qe),J($e.ioSpecification,Qe),Q($e.artifacts,Qe),x($e)}function I($e,Qe){w($e,Qe)}function $($e,Qe){w($e,Qe)}function W($e,Qe){w($e,Qe)}function H($e,Qe){w($e,Qe)}function z($e,Qe){w($e,Qe)}function Q($e,Qe){ge($e,function(pn){oa(pn,"bpmn:Association")?v.push(function(){z(pn,Qe)}):z(pn,Qe)})}function J($e,Qe){$e&&(ge($e.dataInputs,_(W,Qe)),ge($e.dataOutputs,_(H,Qe)))}var oe=this.handleSubProcess=function($e,Qe){Kt($e,Qe),Q($e.artifacts,Qe)};function we($e,Qe){var pn=w($e,Qe);oa($e,"bpmn:SubProcess")&&oe($e,pn||Qe),oa($e,"bpmn:Activity")&&J($e.ioSpecification,Qe),v.push(function(){ge($e.dataInputAssociations,_($,Qe)),ge($e.dataOutputAssociations,_($,Qe))})}function Te($e,Qe){v.push(function(){var ue,pn=w($e,Qe);$e.childLaneSet&&Ne($e.childLaneSet,pn||Qe),ge((ue=$e).flowNodeRef,function(G){var xe=G.get("lanes");xe&&xe.push(ue)})})}function Ne($e,Qe){ge($e.lanes,_(Te,Qe))}function Kt($e,Qe){var ue;ue=Qe,ge($e.flowElements,function(G){oa(G,"bpmn:SequenceFlow")?v.push(function(){w(G,ue)}):oa(G,"bpmn:BoundaryEvent")?v.unshift(function(){we(G,ue)}):oa(G,"bpmn:FlowNode")?we(G,ue):oa(G,"bpmn:DataObject")||(oa(G,"bpmn:DataStoreReference")||oa(G,"bpmn:DataObjectReference")?function Ee($e,Qe){w($e,Qe)}(G,ue):S(f("unrecognized flowElement {element} in context {context}",{element:Yr(G),context:ue?Yr(ue.businessObject):"null"}),{element:G,context:ue}))}),$e.laneSets&&function(pn,ue){ge(pn,_(Ne,ue))}($e.laneSets,Qe)}function gt($e,Qe){var pn=w($e,Qe),ue=$e.processRef;ue&&R(ue,pn||Qe)}}function Y(d,f){var m=bt(d);return m&&"function"==typeof m.$instanceOf&&m.$instanceOf(f)}function Gn(d,f){return Ci(f,function(m){return Y(d,m)})}function bt(d){return d&&d.businessObject||d}function dr(d){return d&&d.di}function EO(d,f,m){var v,b,_,x,w=[];function S(T,P){var M=new _O({root:function(I,$){return v.add(I,$)},element:function(I,$,W){return v.add(I,$,W)},error:function(I,$){w.push({message:I,context:$})}},_),k=function(I,$){if($){var W,H=$.plane.bpmnElement,z=H;Y(H,"bpmn:Process")||Y(H,"bpmn:Collaboration")||(z=function(Ee){for(var Te=Ee;Te;){if(Y(Te,"bpmn:Process"))return Te;Te=Te.$parent}}(H)),W=Y(z,"bpmn:Collaboration")?z:cn(I.rootElements,function(Ee){if(Y(Ee,"bpmn:Collaboration"))return cn(Ee.participants,function(Te){return Te.processRef===z})});var Q=[z];W&&(Q=wr(W.participants,function(Ee){return Ee.processRef})).push(W);var J=f2(Q),oe=[$],we=[H];return ge(I.diagrams,function(Ee){var Te=Ee.plane.bpmnElement;-1!==J.indexOf(Te)&&-1===we.indexOf(Te)&&(oe.push(Ee),we.push(Te))}),oe}}(T,P=P||T.diagrams&&T.diagrams[0]);if(!k)throw new Error(_("no diagram to display"));ge(k,function(I){M.handleDefinitions(T,I)});var R=P.plane.bpmnElement.id;x.setRootElement(x.findRoot(R+"_plane")||x.findRoot(R))}return new Promise(function(T,P){try{return v=d.get("bpmnImporter"),b=d.get("eventBus"),_=d.get("translate"),x=d.get("canvas"),b.fire("import.render.start",{definitions:f}),S(f,m),b.fire("import.render.complete",{error:void 0,warnings:w}),T({warnings:w})}catch(M){return M.warnings=w,P(M)}})}function f2(d){var f=[];return ge(d,function(m){m&&(f.push(m),f=f.concat(f2(m.flowElements)))}),f}var ls,w_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',F1={verticalAlign:"middle"},bp={color:"#404040"},xO={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},wO={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Wo={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},XC='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+w_+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function ai(d){d=de({},SO,d),this._moddle=this._createModdle(d),this._container=this._createContainer(d),function(f){const m=Sr('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+w_+"</a>");Oe(vr("svg",m),F1),Oe(m,bp,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),f.appendChild(m),Zt.bind(m,"click",function(v){(function CO(){ls||(Oe(ls=Sr(XC),xO),Oe(vr("svg",ls),F1),Oe(vr(".backdrop",ls),wO),Oe(vr(".notice",ls),Wo),Oe(vr(".link",ls),bp,{margin:"15px 20px 15px 10px",alignSelf:"center"}),Ai.bind(ls,".backdrop","click",function(d){document.body.removeChild(ls)})),document.body.appendChild(ls)})(),v.preventDefault()})}(this._container),this._init(this._container,this._moddle,d)}function h2(d,f){return d.warnings=f,d}Ye(ai,z0),ai.prototype.importXML=function(){var d=Ft(function*(f,m){const v=this;let b=[];try{let x;f=this._emit("import.parse.start",{xml:f})||f;try{x=yield this._moddle.fromXML(f,"bpmn:Definitions")}catch(k){throw this._emit("import.parse.complete",{error:k}),k}let w=x.rootElement;const S=x.references,P=x.elementsById;b=b.concat(x.warnings),w=this._emit("import.parse.complete",(_={error:null,definitions:w,elementsById:P,references:S,warnings:b},v.get("eventBus").createEvent(_)))||w;const M=yield this.importDefinitions(w,m);return b=b.concat(M.warnings),this._emit("import.done",{error:null,warnings:b}),{warnings:b}}catch(x){let w=x;throw b=b.concat(w.warnings||[]),h2(w,b),w=function(S){const T=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(S.message);return T&&(S.message="unparsable content <"+T[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+T[2]),S}(w),this._emit("import.done",{error:w,warnings:w.warnings}),w}var _});return function(f,m){return d.apply(this,arguments)}}(),ai.prototype.importDefinitions=function(){var d=Ft(function*(f,m){return this._setDefinitions(f),{warnings:(yield this.open(m)).warnings}});return function(f,m){return d.apply(this,arguments)}}(),ai.prototype.open=function(){var d=Ft(function*(f){const m=this._definitions;let v=f;if(!m){const _=new Error("no XML imported");throw h2(_,[]),_}if("string"==typeof f&&(v=(x=f)&&cn((_=m).diagrams,function(w){return w.id===x})||null,!v)){const _=new Error("BPMNDiagram <"+f+"> not found");throw h2(_,[]),_}var _,x;try{this.clear()}catch(_){throw h2(_,[]),_}const{warnings:b}=yield EO(this,m,v);return{warnings:b}});return function(f){return d.apply(this,arguments)}}(),ai.prototype.saveXML=function(){var d=Ft(function*(f){f=f||{};let m,v,b=this._definitions;try{if(!b)throw new Error("no definitions loaded");b=this._emit("saveXML.start",{definitions:b})||b,v=(yield this._moddle.toXML(b,f)).xml,v=this._emit("saveXML.serialized",{xml:v})||v}catch(x){m=x}const _=m?{error:m}:{xml:v};if(this._emit("saveXML.done",_),m)throw m;return _});return function(f){return d.apply(this,arguments)}}(),ai.prototype.saveSVG=Ft(function*(){let d,f;this._emit("saveSVG.start");try{const m=this.get("canvas"),v=m.getActiveLayer(),b=vr("defs",m._svg),_=nh(v),x=b?"<defs>"+nh(b)+"</defs>":"",w=v.getBBox();d='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+w.width+'" height="'+w.height+'" viewBox="'+w.x+" "+w.y+" "+w.width+" "+w.height+'" version="1.1">'+x+_+"</svg>"}catch(m){f=m}if(this._emit("saveSVG.done",{error:f,svg:d}),f)throw f;return{svg:d}}),ai.prototype._setDefinitions=function(d){this._definitions=d},ai.prototype.getModules=function(){return this._modules},ai.prototype.clear=function(){this.getDefinitions()&&z0.prototype.clear.call(this)},ai.prototype.destroy=function(){z0.prototype.destroy.call(this),vs(this._container)},ai.prototype.on=function(d,f,m,v){return this.get("eventBus").on(d,f,m,v)},ai.prototype.off=function(d,f){this.get("eventBus").off(d,f)},ai.prototype.attachTo=function(d){if(!d)throw new Error("parentNode required");this.detach(),d.get&&d.constructor.prototype.jquery&&(d=d.get(0)),"string"==typeof d&&(d=vr(d)),d.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},ai.prototype.getDefinitions=function(){return this._definitions},ai.prototype.detach=function(){const d=this._container,f=d.parentNode;f&&(this._emit("detach",{}),f.removeChild(d))},ai.prototype._init=function(d,f,m){const v=m.modules||this.getModules(m),_=[].concat([{bpmnjs:["value",this],moddle:["value",f]}],v,m.additionalModules||[]),x=de(Ie(m,["additionalModules"]),{canvas:de({},m.canvas,{container:d}),modules:_});z0.call(this,x),m&&m.container&&this.attachTo(m.container)},ai.prototype._emit=function(d,f){return this.get("eventBus").fire(d,f)},ai.prototype._createContainer=function(d){const f=Sr('<div class="bjs-container"></div>');return Oe(f,{width:YC(d.width),height:YC(d.height),position:d.position}),f},ai.prototype._createModdle=function(d){return new d2(de({},this._moddleExtensions,d.moddleExtensions))},ai.prototype._modules=[];const SO={width:"100%",height:"100%",position:"relative"};function YC(d){return d+(lt(d)?"px":"")}function B1(d){ai.call(this,d),this.on("import.parse.complete",function(f){f.error||this._collectIds(f.definitions,f.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function cr(d,f){return!Y(d,"bpmn:CallActivity")&&(Y(d,"bpmn:SubProcess")?!(!(f=f||dr(d))||!Y(f,"bpmndi:BPMNPlane"))||f&&!!f.isExpanded:!Y(d,"bpmn:Participant")||!!bt(d).processRef)}function Ja(d){return d&&!!bt(d).triggeredByEvent}function gh(d,f){return Ci(bt(d).eventDefinitions,function(m){return Y(m,f)})}Ye(B1,ai),B1.prototype._createModdle=function(d){var f=ai.prototype._createModdle.call(this,d);return f.ids=new Vt([32,36,1]),f},B1.prototype._collectIds=function(d,f){var m,v=d.$model.ids;for(m in v.clear(),f)v.claim(m,f[m])};var G0={width:90,height:20},Ri=15;function pt(d){return Y(d,"bpmn:Event")||Y(d,"bpmn:Gateway")||Y(d,"bpmn:DataStoreReference")||Y(d,"bpmn:DataObjectReference")||Y(d,"bpmn:DataInput")||Y(d,"bpmn:DataOutput")||Y(d,"bpmn:SequenceFlow")||Y(d,"bpmn:MessageFlow")||Y(d,"bpmn:Group")}function Jt(d){return br(d.label)}function el(d){return d.waypoints?function wo(d){var S,T,P,M,f=d.length/2-1,m=d[Math.floor(f)],v=d[Math.ceil(f+.01)],b=(T=(S=d).length/2-1,P=S[Math.floor(T)],M=S[Math.ceil(T+.01)],{x:P.x+(M.x-P.x)/2,y:P.y+(M.y-P.y)/2}),_=Math.atan((v.y-m.y)/(v.x-m.x)),x=b.x,w=b.y;return Math.abs(_)<Math.PI/2?w-=Ri:x+=Ri,{x,y:w}}(d.waypoints):Y(d,"bpmn:Group")?{x:d.x+d.width/2,y:d.y+G0.height/2}:{x:d.x+d.width/2,y:d.y+d.height+G0.height/2}}function Es(d){return Y(d,"bpmn:FlowElement")||Y(d,"bpmn:Participant")||Y(d,"bpmn:Lane")||Y(d,"bpmn:SequenceFlow")||Y(d,"bpmn:MessageFlow")||Y(d,"bpmn:DataInput")||Y(d,"bpmn:DataOutput")?"name":Y(d,"bpmn:TextAnnotation")?"text":Y(d,"bpmn:Group")?"categoryValueRef":void 0}function qi(d){var b,f=d.businessObject,m=Es(f);if(m)return"categoryValueRef"===m?(b=f.categoryValueRef)&&b.value||"":f[m]||""}var Kc="hsl(225, 10%, 15%)";function Tr(d,f){return Ci(d.eventDefinitions,function(m){return m.$type===f})}function on(d,f){var m=dr(d);return m.get("color:background-color")||m.get("bioc:fill")||f||"white"}function vt(d,f){var m=dr(d);return m.get("color:border-color")||m.get("bioc:stroke")||f||Kc}function xn(d,f,m){var v=dr(d).get("label");return v&&v.get("color:color")||f||vt(d,m)}var V1=new Vt,_p=.95;function Nl(d,f,m,v,b,_,x){Ca.call(this,f,x);var w=d&&d.defaultFillColor,S=d&&d.defaultStrokeColor,T=d&&d.defaultLabelColor,P=V1.next(),M={};function k(ue){return m.computeStyle(ue,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Kc,strokeWidth:2,fill:"white"})}function R(ue){return m.computeStyle(ue,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Kc,strokeWidth:2})}function I(ue,G){var{ref:xe={x:0,y:0},scale:He=1,element:et}=G,Lt=Rt("marker",{id:ue,viewBox:"0 0 20 20",refX:xe.x,refY:xe.y,markerWidth:20*He,markerHeight:20*He,orient:"auto"});rn(Lt,et);var zt=vr("defs",b._svg);zt||(zt=Rt("defs"),rn(b._svg,zt)),rn(zt,Lt),M[ue]=Lt}function $(ue){return ue.replace(/[^0-9a-zA-Z]+/g,"_")}function W(ue,G,xe){var et,Lt,zt,Wt,He=ue+"-"+$(G)+"-"+$(xe)+"-"+P;return M[He]||(et=He,zt=G,Wt=xe,"sequenceflow-end"===(Lt=ue)&&I(et,{element:Rt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...k({fill:Wt,stroke:Wt,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),"messageflow-start"===Lt&&I(et,{element:Rt("circle",{cx:6,cy:6,r:3.5,...k({fill:zt,stroke:Wt,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),"messageflow-end"===Lt&&I(et,{element:Rt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...k({fill:zt,stroke:Wt,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),"association-start"===Lt&&I(et,{element:Rt("path",{d:"M 11 5 L 1 10 L 11 15",...R({fill:"none",stroke:Wt,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),"association-end"===Lt&&I(et,{element:Rt("path",{d:"M 1 5 L 11 10 L 1 15",...R({fill:"none",stroke:Wt,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),"conditional-flow-marker"===Lt&&I(et,{element:Rt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...k({fill:zt,stroke:Wt})}),ref:{x:-1,y:10},scale:.5}),"conditional-default-flow-marker"===Lt&&I(et,{element:Rt("path",{d:"M 6 4 L 10 16",...k({stroke:Wt})}),ref:{x:0,y:10},scale:.5})),"url(#"+He+")"}function H(ue,G,xe,He,et){Dn(He)&&(et=He,He=0),He=He||0,"none"===(et=k(et)).fill&&delete et.fillOpacity;var Lt=Rt("circle",{cx:G/2,cy:xe/2,r:Math.round((G+xe)/4-He),...et});return rn(ue,Lt),Lt}function z(ue,G,xe,He,et,Lt){Dn(et)&&(Lt=et,et=0),et=et||0,Lt=k(Lt);var zt=Rt("rect",{x:et,y:et,width:G-2*et,height:xe-2*et,rx:He,ry:He,...Lt});return rn(ue,zt),zt}function Q(ue,G,xe,He){var et=zs(G,xe=R(xe),He);return rn(ue,et),et}function J(ue,G,xe){return Q(ue,G,xe,5)}function oe(ue,G,xe){xe=R(xe);var He=Rt("path",{...xe,d:G});return rn(ue,He),He}function we(ue,G,xe,He){return oe(G,xe,de({"data-marker":ue},He))}function Ee(ue){return Qe[ue]}function Te(ue){return function(G,xe,He){return Ee(ue)(G,xe,He)}}function Ne(ue,G){var et,xe=bt(ue),He="bpmn:IntermediateThrowEvent"===(et=xe).$type||"bpmn:EndEvent"===et.$type;return xe.eventDefinitions&&xe.eventDefinitions.length>1?xe.parallelMultiple?Ee("bpmn:ParallelMultipleEventDefinition")(G,ue,He):Ee("bpmn:MultipleEventDefinition")(G,ue,He):Tr(xe,"bpmn:MessageEventDefinition")?Ee("bpmn:MessageEventDefinition")(G,ue,He):Tr(xe,"bpmn:TimerEventDefinition")?Ee("bpmn:TimerEventDefinition")(G,ue,He):Tr(xe,"bpmn:ConditionalEventDefinition")?Ee("bpmn:ConditionalEventDefinition")(G,ue):Tr(xe,"bpmn:SignalEventDefinition")?Ee("bpmn:SignalEventDefinition")(G,ue,He):Tr(xe,"bpmn:EscalationEventDefinition")?Ee("bpmn:EscalationEventDefinition")(G,ue,He):Tr(xe,"bpmn:LinkEventDefinition")?Ee("bpmn:LinkEventDefinition")(G,ue,He):Tr(xe,"bpmn:ErrorEventDefinition")?Ee("bpmn:ErrorEventDefinition")(G,ue,He):Tr(xe,"bpmn:CancelEventDefinition")?Ee("bpmn:CancelEventDefinition")(G,ue,He):Tr(xe,"bpmn:CompensateEventDefinition")?Ee("bpmn:CompensateEventDefinition")(G,ue,He):Tr(xe,"bpmn:TerminateEventDefinition")?Ee("bpmn:TerminateEventDefinition")(G,ue,He):null}function Kt(ue,G,xe){xe=de({size:{width:100}},xe);var He=_.createText(G||"",xe);return kn(He).add("djs-label"),rn(ue,He),He}function gt(ue,G,xe){return Kt(ue,bt(G).name,{box:G,align:xe,padding:7,style:{fill:xn(G,T,S)}})}function $e(ue,G,xe){dh(Kt(ue,G,{box:{height:30,width:xe.height},align:"center-middle",style:{fill:xn(xe,T,S)}}),0,1*xe.height,270)}var Qe=this.handlers={"bpmn:Event":function(ue,G,xe){return"fillOpacity"in xe||(xe.fillOpacity=_p),H(ue,G.width,G.height,xe)},"bpmn:StartEvent":function(ue,G,xe){var He={fill:on(G,w),stroke:vt(G,S)};bt(G).isInterrupting||(He={strokeDasharray:"6",fill:on(G,w),stroke:vt(G,S)});var et=Ee("bpmn:Event")(ue,G,He);return xe&&!1===xe.renderIcon||Ne(G,ue),et},"bpmn:MessageEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:xe?vt(G,S):on(G,w),stroke:xe?on(G,w):vt(G,S)})},"bpmn:TimerEventDefinition":function(ue,G){var xe=H(ue,G.width,G.height,.2*G.height,{strokeWidth:2,fill:on(G,w),stroke:vt(G,S)});oe(ue,v.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{strokeWidth:2,stroke:vt(G,S)});for(var He=0;He<12;He++)oe(ue,v.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{strokeWidth:1,transform:"rotate("+30*He+","+G.height/2+","+G.width/2+")",stroke:vt(G,S)});return xe},"bpmn:EscalationEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:xe?vt(G,S):"none",stroke:vt(G,S)})},"bpmn:ConditionalEventDefinition":function(ue,G){return oe(ue,v.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:vt(G,S)})},"bpmn:LinkEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:xe?vt(G,S):"none",stroke:vt(G,S)})},"bpmn:ErrorEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:xe?vt(G,S):"none",stroke:vt(G,S)})},"bpmn:CancelEventDefinition":function(ue,G,xe){var He=oe(ue,v.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:xe?vt(G,S):"none",stroke:vt(G,S)});return e2(He,45),He},"bpmn:CompensateEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:xe?vt(G,S):"none",stroke:vt(G,S)})},"bpmn:SignalEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:xe?vt(G,S):"none",stroke:vt(G,S)})},"bpmn:MultipleEventDefinition":function(ue,G,xe){return oe(ue,v.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:xe?vt(G,S):"none"})},"bpmn:ParallelMultipleEventDefinition":function(ue,G){return oe(ue,v.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:G.width,containerHeight:G.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:vt(G,S),stroke:vt(G,S)})},"bpmn:EndEvent":function(ue,G,xe){var He=Ee("bpmn:Event")(ue,G,{strokeWidth:4,fill:on(G,w),stroke:vt(G,S)});return xe&&!1===xe.renderIcon||Ne(G,ue),He},"bpmn:TerminateEventDefinition":function(ue,G){return H(ue,G.width,G.height,8,{strokeWidth:4,fill:vt(G,S),stroke:vt(G,S)})},"bpmn:IntermediateEvent":function(ue,G,xe){var He=Ee("bpmn:Event")(ue,G,{strokeWidth:1.5,fill:on(G,w),stroke:vt(G,S)});return H(ue,G.width,G.height,3,{strokeWidth:1.5,fill:on(G,"none"),stroke:vt(G,S)}),xe&&!1===xe.renderIcon||Ne(G,ue),He},"bpmn:IntermediateCatchEvent":Te("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Te("bpmn:IntermediateEvent"),"bpmn:Activity":function(ue,G,xe){return"fillOpacity"in(xe=xe||{})||(xe.fillOpacity=_p),z(ue,G.width,G.height,10,xe)},"bpmn:Task":function(ue,G){var xe={fill:on(G,w),stroke:vt(G,S)},He=Ee("bpmn:Activity")(ue,G,xe);return gt(ue,G,"center-middle"),pn(ue,G),He},"bpmn:ServiceTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,v.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:on(G,w),stroke:vt(G,S)}),oe(ue,v.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:on(G,w)}),oe(ue,v.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:on(G,w),stroke:vt(G,S)}),xe},"bpmn:UserTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,v.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:on(G,w),stroke:vt(G,S)}),oe(ue,v.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:on(G,w),stroke:vt(G,S)}),oe(ue,v.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:vt(G,S),stroke:vt(G,S)}),xe},"bpmn:ManualTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,v.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:on(G,w),stroke:vt(G,S)}),xe},"bpmn:SendTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,v.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:vt(G,S),stroke:on(G,w)}),xe},"bpmn:ReceiveTask":function(ue,G){var xe,He=bt(G),et=Ee("bpmn:Task")(ue,G);return He.instantiate?(H(ue,28,28,4.4,{strokeWidth:1}),xe=v.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):xe=v.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),oe(ue,xe,{strokeWidth:1,fill:on(G,w),stroke:vt(G,S)}),et},"bpmn:ScriptTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,v.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:vt(G,S)}),xe},"bpmn:BusinessRuleTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return Et(oe(ue,v.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:on(G,"#aaaaaa"),stroke:vt(G,S)}),Et(oe(ue,v.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:vt(G,S)}),xe},"bpmn:SubProcess":function(ue,G,xe){xe={fill:on(G,w),stroke:vt(G,S),...xe};var He=Ee("bpmn:Activity")(ue,G,xe),et=cr(G);return Ja(G)&&Et(He,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),gt(ue,G,et?"center-top":"center-middle"),et?pn(ue,G):pn(ue,G,["SubProcessMarker"]),He},"bpmn:AdHocSubProcess":function(ue,G){return Ee("bpmn:SubProcess")(ue,G)},"bpmn:Transaction":function(ue,G){var xe=Ee("bpmn:SubProcess")(ue,G,{strokeWidth:1.5}),He=m.style(["no-fill","no-events"],{stroke:vt(G,S),strokeWidth:1.5});return z(ue,G.width,G.height,7,3,He),xe},"bpmn:CallActivity":function(ue,G){return Ee("bpmn:SubProcess")(ue,G,{strokeWidth:5})},"bpmn:Participant":function(ue,G){var xe={fillOpacity:_p,fill:on(G,w),stroke:vt(G,S),strokeWidth:1.5},He=Ee("bpmn:Lane")(ue,G,xe);return cr(G)?(Q(ue,[{x:30,y:0},{x:30,y:G.height}],{stroke:vt(G,S),strokeWidth:1.5}),$e(ue,bt(G).name,G)):Kt(ue,bt(G).name,{box:G,align:"center-middle",style:{fill:xn(G,T,S)}}),bt(G).participantMultiplicity&&Ee("ParticipantMultiplicityMarker")(ue,G),He},"bpmn:Lane":function(ue,G,xe){var He=z(ue,G.width,G.height,0,{fill:on(G,w),fillOpacity:.35,stroke:vt(G,S),strokeWidth:1.5,...xe}),et=bt(G);return"bpmn:Lane"===et.$type&&$e(ue,et.name,G),He},"bpmn:InclusiveGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G);return H(ue,G.width,G.height,.24*G.height,{strokeWidth:2.5,fill:on(G,w),stroke:vt(G,S)}),xe},"bpmn:ExclusiveGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G),He=v.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.32,my:.3}});return dr(G).isMarkerVisible&&oe(ue,He,{strokeWidth:1,fill:vt(G,S),stroke:vt(G,S)}),xe},"bpmn:ComplexGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G);return oe(ue,v.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:vt(G,S),stroke:vt(G,S)}),xe},"bpmn:ParallelGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G);return oe(ue,v.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:vt(G,S),stroke:vt(G,S)}),xe},"bpmn:EventBasedGateway":function(ue,G){var xe=bt(G),He=Ee("bpmn:Gateway")(ue,G);H(ue,G.width,G.height,.2*G.height,{strokeWidth:1,fill:"none",stroke:vt(G,S)});var et=xe.eventGatewayType,Lt=!!xe.instantiate;"Parallel"===et?oe(ue,v.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}}),{strokeWidth:1,fill:"none"}):"Exclusive"===et&&(Lt||H(ue,G.width,G.height,.26*G.height,{strokeWidth:1,fill:"none",stroke:vt(G,S)}),oe(ue,v.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:G.width,containerHeight:G.height,position:{mx:.36,my:.44}}),{strokeWidth:2,fill:on(G,"none"),stroke:vt(G,S)}));return He},"bpmn:Gateway":function(ue,G){return function(xe,He,et,Lt){var zt=He/2,Wt=et/2,St=[{x:zt,y:0},{x:He,y:Wt},{x:zt,y:et},{x:0,y:Wt}].map(function(Hr){return Hr.x+","+Hr.y}).join(" ");Lt=k(Lt);var fr=Rt("polygon",{...Lt,points:St});return rn(xe,fr),fr}(ue,G.width,G.height,{fill:on(G,w),fillOpacity:_p,stroke:vt(G,S)})},"bpmn:SequenceFlow":function(ue,G){var xe,He=on(G,w),et=vt(G,S),Lt=J(ue,G.waypoints,{markerEnd:W("sequenceflow-end",He,et),stroke:vt(G,S)}),zt=bt(G);return G.source&&(xe=G.source.businessObject,zt.conditionExpression&&xe.$instanceOf("bpmn:Activity")&&Et(Lt,{markerStart:W("conditional-flow-marker",He,et)}),xe.default&&(xe.$instanceOf("bpmn:Gateway")||xe.$instanceOf("bpmn:Activity"))&&xe.default===zt&&Et(Lt,{markerStart:W("conditional-default-flow-marker",He,et)})),Lt},"bpmn:Association":function(ue,G,xe){var He=bt(G),et=on(G,w),Lt=vt(G,S);return xe={strokeDasharray:"0, 5",stroke:vt(G,S),...xe},"One"!==He.associationDirection&&"Both"!==He.associationDirection||(xe.markerEnd=W("association-end",et,Lt)),"Both"===He.associationDirection&&(xe.markerStart=W("association-start",et,Lt)),J(ue,G.waypoints,xe)},"bpmn:DataInputAssociation":function(ue,G){var xe=on(G,w),He=vt(G,S);return Ee("bpmn:Association")(ue,G,{markerEnd:W("association-end",xe,He)})},"bpmn:DataOutputAssociation":function(ue,G){var xe=on(G,w),He=vt(G,S);return Ee("bpmn:Association")(ue,G,{markerEnd:W("association-end",xe,He)})},"bpmn:MessageFlow":function(ue,G){var xe=bt(G),He=dr(G),et=on(G,w),Lt=vt(G,S),zt=J(ue,G.waypoints,{markerEnd:W("messageflow-end",et,Lt),markerStart:W("messageflow-start",et,Lt),strokeDasharray:"10, 11",strokeWidth:1.5,stroke:vt(G,S)});if(xe.messageRef){var Wt=zt.getPointAtLength(zt.getTotalLength()/2),St=v.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Wt.x,y:Wt.y}}),fr={strokeWidth:1};"initiating"===He.messageVisibleKind?(fr.fill="white",fr.stroke=Kc):(fr.fill="#888",fr.stroke="white");var Hr=oe(ue,St,fr),Gl=Kt(ue,xe.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:vt(G,T)}}),Qs=Hr.getBBox(),Kr=Gl.getBBox();dh(Gl,Wt.x-Kr.width/2,Wt.y+Qs.height/2+10,0)}return zt},"bpmn:DataObject":function(ue,G){var He,et,xe=oe(ue,v.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}}),{fill:on(G,w),fillOpacity:_p,stroke:vt(G,S)});return et=(He=bt(G)).dataObjectRef,(He.isCollection||et&&et.isCollection)&&function(He,et){oe(He,v.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:et.width,containerHeight:et.height,position:{mx:.33,my:(et.height-18)/et.height}}),{strokeWidth:2})}(ue,G),xe},"bpmn:DataObjectReference":Te("bpmn:DataObject"),"bpmn:DataInput":function(ue,G){var xe=v.getRawPath("DATA_ARROW"),He=Ee("bpmn:DataObject")(ue,G);return oe(ue,xe,{strokeWidth:1}),He},"bpmn:DataOutput":function(ue,G){var xe=v.getRawPath("DATA_ARROW"),He=Ee("bpmn:DataObject")(ue,G);return oe(ue,xe,{strokeWidth:1,fill:Kc}),He},"bpmn:DataStoreReference":function(ue,G){return oe(ue,v.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:on(G,w),fillOpacity:_p,stroke:vt(G,S)})},"bpmn:BoundaryEvent":function(ue,G,xe){var He=bt(G).cancelActivity,et={strokeWidth:1.5,fill:on(G,w),stroke:vt(G,S)};He||(et.strokeDasharray="6");var Lt={...et,fillOpacity:1},zt={...et,fill:"none"},Wt=Ee("bpmn:Event")(ue,G,Lt);return H(ue,G.width,G.height,3,zt),xe&&!1===xe.renderIcon||Ne(G,ue),Wt},"bpmn:Group":function(ue,G){return z(ue,G.width,G.height,10,{stroke:vt(G,S),strokeWidth:1.5,strokeDasharray:"10,6,0,6",fill:"none",pointerEvents:"none"})},label:function(ue,G){return et={width:90,height:30,x:(He=G).width/2+He.x,y:He.height/2+He.y},Kt(ue,qi(He),{box:et,fitBox:!0,style:de({},_.getExternalStyle(),{fill:xn(He,T,S)})});var He,et},"bpmn:TextAnnotation":function(ue,G){var xe=z(ue,G.width,G.height,0,0,{fill:"none",stroke:"none"});return oe(ue,v.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:0}}),{stroke:vt(G,S)}),Kt(ue,bt(G).text||"",{box:G,align:"left-top",padding:7,style:{fill:xn(G,T,S)}}),xe},ParticipantMultiplicityMarker:function(ue,G){we("participant-multiplicity",ue,v.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:G.width/2/G.width,my:(G.height-15)/G.height}}),{strokeWidth:2,fill:on(G,w),stroke:vt(G,S)})},SubProcessMarker:function(ue,G){bs(z(ue,14,14,0,{strokeWidth:1,fill:on(G,w),stroke:vt(G,S)}),G.width/2-7.5,G.height-20),we("sub-process",ue,v.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2-7.5)/G.width,my:(G.height-20)/G.height}}),{fill:on(G,w),stroke:vt(G,S)})},ParallelMarker:function(ue,G,xe){we("parallel",ue,v.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.parallel)/G.width,my:(G.height-20)/G.height}}),{fill:on(G,w),stroke:vt(G,S)})},SequentialMarker:function(ue,G,xe){we("sequential",ue,v.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.seq)/G.width,my:(G.height-19)/G.height}}),{fill:on(G,w),stroke:vt(G,S)})},CompensationMarker:function(ue,G,xe){we("compensation",ue,v.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.compensation)/G.width,my:(G.height-13)/G.height}}),{strokeWidth:1,fill:on(G,w),stroke:vt(G,S)})},LoopMarker:function(ue,G,xe){we("loop",ue,v.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.loop)/G.width,my:(G.height-7)/G.height}}),{strokeWidth:1.5,fill:on(G,w),stroke:vt(G,S),strokeMiterlimit:.5})},AdhocMarker:function(ue,G,xe){we("adhoc",ue,v.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.adhoc)/G.width,my:(G.height-15)/G.height}}),{strokeWidth:1,fill:vt(G,S),stroke:vt(G,S)})}};function pn(ue,G,xe){var He,et=bt(G),Lt=xe&&-1!==xe.indexOf("SubProcessMarker");He=Lt?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},ge(xe,function(St){Ee(St)(ue,G,He)}),et.isForCompensation&&Ee("CompensationMarker")(ue,G,He),"bpmn:AdHocSubProcess"===et.$type&&Ee("AdhocMarker")(ue,G,He);var zt=et.loopCharacteristics,Wt=zt&&zt.isSequential;zt&&(void 0===Wt&&Ee("LoopMarker")(ue,G,He),!1===Wt&&Ee("ParallelMarker")(ue,G,He),!0===Wt&&Ee("SequentialMarker")(ue,G,He))}this._drawPath=oe,this._renderer=Ee}Ye(Nl,Ca),Nl.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Nl.prototype.canRender=function(d){return Y(d,"bpmn:BaseElement")},Nl.prototype.drawShape=function(d,f){return this._renderer(f.type)(d,f)},Nl.prototype.drawConnection=function(d,f){return this._renderer(f.type)(d,f)},Nl.prototype.getShapePath=function(d){return Y(d,"bpmn:Event")?Fn([["M",(f=d).x+f.width/2,f.y+f.height/2],["m",0,-(b=f.width/2)],["a",b,b,0,1,1,0,2*b],["a",b,b,0,1,1,0,-2*b],["z"]]):Y(d,"bpmn:Activity")?Fn([["M",(_=d).x+(x=10),_.y],["l",(T=_.width)-20,0],["a",x,x,0,0,1,x,x],["l",0,(P=_.height)-20],["a",x,x,0,0,1,-x,x],["l",20-T,0],["a",x,x,0,0,1,-x,-x],["l",0,20-P],["a",x,x,0,0,1,x,-x],["z"]]):Y(d,"bpmn:Gateway")?function(_){var x=_.width/2,w=_.height/2;return Fn([["M",_.x+x,_.y],["l",x,w],["l",-x,w],["l",-x,-w],["z"]])}(d):function(_){var S=_.width;return Fn([["M",_.x,_.y],["l",S,0],["l",0,_.height],["l",-S,0],["z"]])}(d);var _,x,T,P,f,b};var io=0,j1={width:150,height:50};function vh(d,f){var m;f.textContent=d;try{var v,b=""===d;return f.textContent=b?"dummy":d,v={width:(m=f.getBBox()).width+2*m.x,height:m.height},b&&(v.width=0),v}catch{return{width:0,height:0}}}function ju(d,f,m){for(var v,b=d.shift(),_=b;;){if((v=vh(_,m)).width=_?v.width:0," "===_||""===_||v.width<Math.round(f)||_.length<2)return $1(d,_,b,v);_=q0(_,v.width,f)}}function $1(d,f,m,v){if(f.length<m.length){var b=m.slice(f.length).trim();d.unshift(b)}return{width:v.width,height:v.height,text:f}}var C_="\xad";function q0(d,f,m){var v=Math.max(d.length*(m/f),1),b=function(_,x){var w,S=_.split(/(\s|-|\u00AD)/g),T=[],P=0;if(S.length>1)for(;w=S.shift();){if(!(w.length+P<x)){"-"!==w&&w!==C_||T.pop();break}T.push(w),P+=w.length}var M=T[T.length-1];return M&&M===C_&&(T[T.length-1]="-"),T.join("")}(d,v);return b||(b=d.slice(0,Math.max(Math.round(v-1),1))),b}function Ep(d){this._config=de({},{size:j1,padding:io,style:{},align:"center-top"},d||{})}function W0(d){var f=de({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},d&&d.defaultStyle||{}),m=parseInt(f.fontSize,10)-1,v=de({},f,{fontSize:m},d&&d.externalStyle||{}),b=new Ep({style:f});this.getExternalLabelBounds=function(_,x){var w=b.getDimensions(x,{box:{width:90,height:30},style:v});return{x:Math.round(_.x+_.width/2-w.width/2),y:Math.round(_.y),width:Math.ceil(w.width),height:Math.ceil(w.height)}},this.getTextAnnotationBounds=function(_,x){var w=b.getDimensions(x,{box:_,style:f,align:"left-top",padding:5});return{x:_.x,y:_.y,width:_.width,height:Math.max(30,Math.round(w.height))}},this.createText=function(_,x){return b.createText(_,x||{})},this.getDefaultStyle=function(){return f},this.getExternalStyle=function(){return v}}Ep.prototype.createText=function(d,f){return this.layoutText(d,f).element},Ep.prototype.getDimensions=function(d,f){return this.layoutText(d,f).dimensions},Ep.prototype.layoutText=function(d,f){var H,W,m=de({},this._config.size,f.box),v=de({},this._config.style,f.style),b_horizontal=(H=(f.align||this._config.align).split("-"))[0]||"center",b_vertical=H[1]||"top",_=Dn(W=void 0!==f.padding?f.padding:this._config.padding)?de({top:0,left:0,right:0,bottom:0},W):{top:W,left:W,right:W,bottom:W},x=f.fitBox||!1,w=function(W){if("fontSize"in W&&"lineHeight"in W)return W.lineHeight*parseInt(W.fontSize,10)}(v),S=d.split(/\u00AD?\r?\n/),T=[],P=m.width-_.left-_.right,M=Rt("text");for(Et(M,{x:0,y:0}),Et(M,v),rn(function(){var W=document.getElementById("helper-svg");return W||(Et(W=Rt("svg"),{id:"helper-svg"}),Oe(W,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(W)),W}(),M);S.length;)T.push(ju(S,P,M));"middle"===b_vertical&&(_.top=_.bottom=0);var k=Gr(T,function(W,H,z){return W+(w||H.height)},0)+_.top+_.bottom,R=Gr(T,function(W,H,z){return H.width>W?H.width:W},0),I=_.top;"middle"===b_vertical&&(I+=(m.height-k)/2),I-=(w||T[0].height)/4;var $=Rt("text");return Et($,v),ge(T,function(W){var H;switch(I+=w||W.height,b_horizontal){case"left":H=_.left;break;case"right":H=(x?R:P)-_.right-W.width;break;default:H=Math.max(((x?R:P)-W.width)/2+_.left,0)}var z=Rt("tspan");Et(z,{x:H,y:I}),z.textContent=W.text,rn($,z)}),vi(M),{dimensions:{width:R,height:k},element:$}},W0.$inject=["config.textRenderer"];var jn=/\{([^{}]+)\}/g,S_=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,z1={__init__:["bpmnRenderer"],bpmnRenderer:["type",Nl],textRenderer:["type",W0],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(d){return this.pathMap[d].d},this.getScaledPath=function(d,f){var m,v,b=this.pathMap[d];f.abspos?(m=f.abspos.x,v=f.abspos.y):(m=f.containerWidth*f.position.mx,v=f.containerHeight*f.position.my);var M,_={};if(f.position){for(var x=f.containerHeight/b.height*f.yScaleFactor,w=f.containerWidth/b.width*f.xScaleFactor,S=0;S<b.heightElements.length;S++)_["y"+S]=b.heightElements[S]*x;for(var T=0;T<b.widthElements.length;T++)_["x"+T]=b.widthElements[T]*w}return M={mx:m,my:v,e:_},String(b.d).replace(jn,function(R,I){return $=R,z=H=M,I.replace(S_,function(Q,J,oe,we,Ee){J=J||we,z&&(J in z&&(z=z[J]),"function"==typeof z&&Ee&&(z=z()))}),z=(null==z||z==H?$:z)+"";var $,H,z})}}]},tl={translate:["value",function(d,f){return f=f||{},d.replace(/{([^}]+)}/g,function(m,v){return f[v]||"{"+v+"}"})}]};function xp(d,f,m){return de({id:d.id,type:d.$type,businessObject:d,di:f},m)}function yh(d,f,m){var v=d.waypoint;return!v||v.length<2?[mn(f),mn(m)]:v.map(function(b){return{x:b.x,y:b.y}})}function ho(d,f,m,v){return new Error(d("element {element} referenced by {referenced}#{property} not yet drawn",{element:Yr(m),referenced:Yr(f),property:v}))}function uc(d,f,m,v,b,_){this._eventBus=d,this._canvas=f,this._elementFactory=m,this._elementRegistry=v,this._translate=b,this._textRenderer=_}uc.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],uc.prototype.add=function(d,f,m){var v,_,R,I,$,W,x=this._translate;if(Y(f,"bpmndi:BPMNPlane")){var w=Y(d,"bpmn:SubProcess")?{id:d.id+"_plane"}:{};v=this._elementFactory.createRoot(xp(d,f,w)),this._canvas.addRootElement(v)}else if(Y(f,"bpmndi:BPMNShape")){var S=!cr(d,f),T=Y(d,"bpmn:Group"),P=f.bounds;v=this._elementFactory.createShape(xp(d,f,{collapsed:S,hidden:m&&(m.hidden||m.collapsed),x:Math.round(P.x),y:Math.round(P.y),width:Math.round(P.width),height:Math.round(P.height),isFrame:T})),Y(d,"bpmn:BoundaryEvent")&&this._attachBoundary(d,v),Y(d,"bpmn:Lane")&&(_=0),Y(d,"bpmn:DataStoreReference")&&(R=m,I=mn(P),W=I.y,($=I.x)>=R.x&&$<=R.x+R.width&&W>=R.y&&W<=R.y+R.height||(m=this._canvas.findRoot(m))),this._canvas.addShape(v,m,_)}else{if(!Y(f,"bpmndi:BPMNEdge"))throw new Error(x("unknown di {di} for element {semantic}",{di:Yr(f),semantic:Yr(d)}));var M=this._getSource(d),k=this._getTarget(d);v=this._elementFactory.createConnection(xp(d,f,{hidden:m&&(m.hidden||m.collapsed),source:M,target:k,waypoints:yh(f,M,k)})),Y(d,"bpmn:DataAssociation")&&(m=this._canvas.findRoot(m)),this._canvas.addConnection(v,m,_)}return pt(d)&&qi(v)&&this.addLabel(d,f,v),this._eventBus.fire("bpmnElement.added",{element:v}),v},uc.prototype._attachBoundary=function(d,f){var m=this._translate,v=d.attachedToRef;if(!v)throw new Error(m("missing {semantic}#attachedToRef",{semantic:Yr(d)}));var b=this._elementRegistry.get(v.id),_=b&&b.attachers;if(!b)throw ho(m,d,v,"attachedToRef");f.host=b,_||(b.attachers=_=[]),-1===_.indexOf(f)&&_.push(f)},uc.prototype.addLabel=function(d,f,m){var v,b,_,w,S,T,P,M;return w=m,(M=f.label)&&M.bounds?(P=M.bounds,T={width:Math.max(G0.width,P.width),height:P.height},S={x:P.x+P.width/2,y:P.y+P.height/2}):(S=el(w),T=G0),v=de({x:S.x-T.width/2,y:S.y-T.height/2},T),(b=qi(m))&&(v=this._textRenderer.getExternalLabelBounds(v,b)),_=this._elementFactory.createLabel(xp(d,f,{id:d.id+"_label",labelTarget:m,type:"label",hidden:m.hidden||!qi(m),x:Math.round(v.x),y:Math.round(v.y),width:Math.round(v.width),height:Math.round(v.height)})),this._canvas.addShape(_,m.parent)},uc.prototype._getConnectedElement=function(d,f){var m,v,b=d.$type,_=this._translate;if(v=d[f+"Ref"],"source"===f&&"bpmn:DataInputAssociation"===b&&(v=v&&v[0]),("source"===f&&"bpmn:DataOutputAssociation"===b||"target"===f&&"bpmn:DataInputAssociation"===b)&&(v=d.$parent),m=v&&this._getElement(v))return m;throw v?ho(_,d,v,f+"Ref"):new Error(_("{semantic}#{side} Ref not specified",{semantic:Yr(d),side:f}))},uc.prototype._getSource=function(d){return this._getConnectedElement(d,"source")},uc.prototype._getTarget=function(d){return this._getConnectedElement(d,"target")},uc.prototype._getElement=function(d){return this._elementRegistry.get(d.id)};var Us={__depends__:[z1,{__depends__:[tl],bpmnImporter:["type",uc]}]};function xs(d){d&&"function"==typeof d.stopPropagation&&d.stopPropagation()}function X0(d){return d.originalEvent||d.srcEvent}function $u(d){xs(d),xs(X0(d))}function dc(d){return d.pointers&&d.pointers.length&&(d=d.pointers[0]),d.touches&&d.touches.length&&(d=d.touches[0]),d?{x:d.clientX,y:d.clientY}:null}function Ll(){return/mac/i.test(navigator.platform)}function m2(d,f){return(X0(d)||d).button===f}function Y0(d){return m2(d,0)}function bh(d){var f=X0(d)||d;return!!Y0(d)&&(Ll()?f.metaKey:f.ctrlKey)}function H1(d){var f=X0(d)||d;return Y0(d)&&f.shiftKey}function KC(d){return!0}function g2(d){return Y0(d)||function(f){return m2(f,1)}(d)}function v2(d,f,m){var v=this;function b(z,Q,J){var oe,we;!(S[z]||Y0)(Q)||(J?we=f.getGraphics(J):(oe=Q.delegateTarget||Q.target)&&(J=f.get(we=oe)),we&&J&&!1===d.fire(z,{element:J,gfx:we,originalEvent:Q})&&(Q.stopPropagation(),Q.preventDefault()))}var _={};function x(z){return _[z]}var w={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},S={"element.contextmenu":KC,"element.mousedown":g2,"element.mouseup":g2,"element.click":g2,"element.dblclick":g2};function P(z,Q,J,oe){var we=_[J]=function(Ee){b(J,Ee)};oe&&(S[J]=oe),we.$delegate=Ai.bind(z,"svg, .djs-element",Q,we)}function M(z,Q,J){var oe=x(J);oe&&Ai.unbind(z,Q,oe.$delegate)}d.on("canvas.destroy",function(z){var Q;Q=z.svg,ge(w,function(J,oe){M(Q,oe,J)})}),d.on("canvas.init",function(z){var Q;Q=z.svg,ge(w,function(J,oe){P(Q,oe,J)})}),d.on(["shape.added","connection.added"],function(z){d.fire("interactionEvents.createHit",{element:z.element,gfx:z.gfx})}),d.on(["shape.changed","connection.changed"],500,function(z){d.fire("interactionEvents.updateHit",{element:z.element,gfx:z.gfx})}),d.on("interactionEvents.createHit",500,function(z){v.createDefaultHit(z.element,z.gfx)}),d.on("interactionEvents.updateHit",function(z){v.updateDefaultHit(z.element,z.gfx)});var k=$("djs-hit djs-hit-stroke"),R=$("djs-hit djs-hit-click-stroke"),I={all:$("djs-hit djs-hit-all"),"click-stroke":R,stroke:k,"no-move":$("djs-hit djs-hit-no-move")};function $(z,Q){return Q=de({stroke:"white",strokeWidth:15},Q||{}),m.cls(z,["no-fill","no-border"],Q)}function W(z,Q){var J=I[Q];if(!J)throw new Error("invalid hit type <"+Q+">");return Et(z,J),z}function H(z,Q){rn(z,Q)}this.removeHits=function(z){ge(A0(".djs-hit",z),vi)},this.createDefaultHit=function(z,Q){var oe=z.waypoints,we=z.isFrame;return oe?this.createWaypointsHit(Q,oe):this.createBoxHit(Q,we?"stroke":"all",{width:z.width,height:z.height})},this.createWaypointsHit=function(z,Q){var J=zs(Q);return W(J,"stroke"),H(z,J),J},this.createBoxHit=function(z,Q,J){J=de({x:0,y:0},J);var oe=Rt("rect");return W(oe,Q),Et(oe,J),H(z,oe),oe},this.updateDefaultHit=function(z,Q){var J=vr(".djs-hit",Q);if(J)return z.waypoints?jr(J,z.waypoints):Et(J,{width:z.width,height:z.height}),J},this.fire=b,this.triggerMouseEvent=function(z,Q,J){var oe=w[z];if(!oe)throw new Error("unmapped DOM event name <"+z+">");return b(oe,Q,J)},this.mouseHandler=x,this.registerEvent=P,this.unregisterEvent=M}v2.$inject=["eventBus","elementRegistry","styles"];var y2={__init__:["interactionEvents"],interactionEvents:["type",v2]};function D_(d,f){this.offset=6;var m=f.cls("djs-outline",["no-fill"]),v=this;function b(_,x){var w=Rt("rect");return Et(w,de({x:10,y:10,rx:4,width:100,height:100},m)),rn(_,w),w}d.on(["shape.added","shape.changed"],500,function(_){var x=_.element,w=_.gfx,S=vr(".djs-outline",w);S||(S=b(w)),v.updateShapeOutline(S,x)}),d.on(["connection.added","connection.changed"],function(_){var x=_.element,w=_.gfx,S=vr(".djs-outline",w);S||(S=b(w)),v.updateConnectionOutline(S,x)})}D_.prototype.updateShapeOutline=function(d,f){Et(d,{x:-this.offset,y:-this.offset,width:f.width+2*this.offset,height:f.height+2*this.offset})},D_.prototype.updateConnectionOutline=function(d,f){var m=si(f);Et(d,{x:m.x-this.offset,y:m.y-this.offset,width:m.width+2*this.offset,height:m.height+2*this.offset})},D_.$inject=["eventBus","styles","elementRegistry"];var DO={__init__:["outline"],outline:["type",D_]};function U1(d,f){this._eventBus=d,this._canvas=f,this._selectedElements=[];var m=this;d.on(["shape.remove","connection.remove"],function(v){m.deselect(v.element)}),d.on(["diagram.clear","root.set"],function(v){m.select(null)})}U1.$inject=["eventBus","canvas"],U1.prototype.deselect=function(d){var f=this._selectedElements,m=f.indexOf(d);if(-1!==m){var v=f.slice();f.splice(m,1),this._eventBus.fire("selection.changed",{oldSelection:v,newSelection:f})}},U1.prototype.get=function(){return this._selectedElements},U1.prototype.isSelected=function(d){return-1!==this._selectedElements.indexOf(d)},U1.prototype.select=function(d,f){var m=this._selectedElements,v=m.slice();dt(d)||(d=d?[d]:[]);var b=this._canvas,_=b.getRootElement();d=d.filter(function(x){var w=b.findRoot(x);return _===w}),f?ge(d,function(x){-1===m.indexOf(x)&&m.push(x)}):this._selectedElements=m=d.slice(),this._eventBus.fire("selection.changed",{oldSelection:v,newSelection:m})};var PO="selected";function QC(d,f,m){this._canvas=d;var v=this;function b(x,w){d.addMarker(x,w)}function _(x,w){d.removeMarker(x,w)}this._multiSelectionBox=null,f.on("element.hover",function(x){b(x.element,"hover")}),f.on("element.out",function(x){_(x.element,"hover")}),f.on("selection.changed",function(x){var w=x.oldSelection,S=x.newSelection;ge(w,function(T){-1===S.indexOf(T)&&_(T,PO)}),ge(S,function(T){-1===w.indexOf(T)&&b(T,PO)}),v._updateSelectionOutline(S)}),f.on("element.changed",function(x){m.isSelected(x.element)&&v._updateSelectionOutline(m.get())})}function MO(d,f,m,v){d.on("create.end",500,function(b){var _=b.context,w=_.elements,S=(_.hints||{}).autoSelect;if(_.canExecute){if(!1===S)return;dt(S)?f.select(S):f.select(w.filter(Fz))}}),d.on("connect.end",500,function(b){var _=b.context.connection;_&&f.select(_)}),d.on("shape.move.end",500,function(b){var _=b.previousSelection||[],x=v.get(b.context.shape.id);cn(_,function(w){return x.id===w.id})||f.select(x)}),d.on("element.click",function(b){if(Y0(b)){var _=b.element;_===m.getRootElement()&&(_=null);var x=f.isSelected(_),w=f.get().length>1,S=bh(b)||H1(b);if(x&&w)return S?f.deselect(_):f.select(_);x?f.deselect(_):f.select(_,S)}})}function Fz(d){return!d.hidden}QC.$inject=["canvas","eventBus","selection"],QC.prototype._updateSelectionOutline=function(d){var f=this._canvas.getLayer("selectionOutline");R0(f);var _,m=d.length>1;if(kn(this._canvas.getContainer())[m?"add":"remove"]("djs-multi-select"),m){var v={x:(_=si(d)).x-6,y:_.y-6,width:_.width+12,height:_.height+12},b=Rt("rect");Et(b,de({rx:3},v)),kn(b).add("djs-selection-outline"),rn(f,b)}},MO.$inject=["eventBus","selection","canvas","elementRegistry"];var zu={__init__:["selectionVisuals","selectionBehavior"],__depends__:[y2,DO],selection:["type",U1],selectionVisuals:["type",QC],selectionBehavior:["type",MO]};function ZC(d){this._counter=0,this._prefix=(d?d+"-":"")+Math.floor(1e9*Math.random())+"-"}ZC.prototype.next=function(){return this._prefix+ ++this._counter};var Bz=new ZC("ov");function ko(d,f,m,v){var b,_;this._eventBus=f,this._canvas=m,this._elementRegistry=v,this._ids=Bz,this._overlayDefaults=de({show:null,scale:!0},d&&d.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(b=m.getContainer(),Oe(_=Sr('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),b.insertBefore(_,b.firstChild),_),this._init()}function T_(d,f,m){Oe(d,{left:f+"px",top:m+"px"})}function P_(d,f){d.style.display=!1===f?"none":""}function OO(d,f){d.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(m){d.style[m+"transform"]=f})}ko.$inject=["config.overlays","eventBus","canvas","elementRegistry"],ko.prototype.get=function(d){if(Or(d)&&(d={id:d}),Or(d.element)&&(d.element=this._elementRegistry.get(d.element)),d.element){var f=this._getOverlayContainer(d.element,!0);return f?d.type?kt(f.overlays,po({type:d.type})):f.overlays.slice():[]}return d.type?kt(this._overlays,po({type:d.type})):d.id?this._overlays[d.id]:null},ko.prototype.add=function(d,f,m){if(Dn(f)&&(m=f,f=null),d.id||(d=this._elementRegistry.get(d)),!m.position)throw new Error("must specifiy overlay position");if(!m.html)throw new Error("must specifiy overlay html");if(!d)throw new Error("invalid element specified");var v=this._ids.next();return m=de({},this._overlayDefaults,m,{id:v,type:f,element:d,html:m.html}),this._addOverlay(m),v},ko.prototype.remove=function(d){var f=this.get(d)||[];dt(f)||(f=[f]);var m=this;ge(f,function(v){var b=m._getOverlayContainer(v.element,!0);if(v&&(vs(v.html),vs(v.htmlContainer),delete v.htmlContainer,delete v.element,delete m._overlays[v.id]),b){var _=b.overlays.indexOf(v);-1!==_&&b.overlays.splice(_,1)}})},ko.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},ko.prototype.show=function(){P_(this._overlayRoot)},ko.prototype.hide=function(){P_(this._overlayRoot,!1)},ko.prototype.clear=function(){this._overlays={},this._overlayContainers=[],rr(this._overlayRoot)},ko.prototype._updateOverlayContainer=function(d){var f=d.element,m=d.html,v=f.x,b=f.y;if(f.waypoints){var _=si(f);v=_.x,b=_.y}T_(m,v,b),Ue(d.html,"data-container-id",f.id)},ko.prototype._updateOverlay=function(d){var f,m,v=d.position,b=d.htmlContainer,_=d.element,x=v.left,w=v.top;void 0!==v.right&&(f=_.waypoints?si(_).width:_.width,x=-1*v.right+f),void 0!==v.bottom&&(m=_.waypoints?si(_).height:_.height,w=-1*v.bottom+m),T_(b,x||0,w||0),this._updateOverlayVisibilty(d,this._canvas.viewbox())},ko.prototype._createOverlayContainer=function(d){var f=Sr('<div class="djs-overlays" />');Oe(f,{position:"absolute"}),this._overlayRoot.appendChild(f);var m={html:f,element:d,overlays:[]};return this._updateOverlayContainer(m),this._overlayContainers.push(m),m},ko.prototype._updateRoot=function(d){var f=d.scale||1,m="matrix("+[f,0,0,f,-1*d.x*f,-1*d.y*f].join(",")+")";OO(this._overlayRoot,m)},ko.prototype._getOverlayContainer=function(d,f){var m=cn(this._overlayContainers,function(v){return v.element===d});return m||f?m:this._createOverlayContainer(d)},ko.prototype._addOverlay=function(d){var f,m,v=d.id,b=d.element,_=d.html;_.get&&_.constructor.prototype.jquery&&(_=_.get(0)),Or(_)&&(_=Sr(_)),m=this._getOverlayContainer(b),Oe(f=Sr('<div class="djs-overlay" data-overlay-id="'+v+'">'),{position:"absolute"}),f.appendChild(_),d.type&&$t(f).add("djs-overlay-"+d.type),P_(f,this._canvas.findRoot(b)===this._canvas.getRootElement()),d.htmlContainer=f,m.overlays.push(d),m.html.appendChild(f),this._overlays[v]=d,this._updateOverlay(d),this._updateOverlayVisibilty(d,this._canvas.viewbox())},ko.prototype._updateOverlayVisibilty=function(d,f){var m=d.show,v=this._canvas.findRoot(d.element),b=m&&m.minZoom,_=m&&m.maxZoom,x=d.htmlContainer,w=!0;(v!==this._canvas.getRootElement()||m&&(nn(b)&&b>f.scale||nn(_)&&_<f.scale))&&(w=!1),P_(x,w),this._updateOverlayScale(d,f)},ko.prototype._updateOverlayScale=function(d,f){var m,v,b,_=d.scale,x=d.htmlContainer,w="";!0!==_&&(!1===_?(m=1,v=1):(m=_.min,v=_.max),nn(m)&&f.scale<m&&(b=(1/f.scale||1)*m),nn(v)&&f.scale>v&&(b=(1/f.scale||1)*v)),nn(b)&&(w="scale("+b+","+b+")"),OO(x,w)},ko.prototype._updateOverlaysVisibilty=function(d){var f=this;ge(this._overlays,function(m){f._updateOverlayVisibilty(m,d)})},ko.prototype._init=function(){var d=this._eventBus,f=this;d.on("canvas.viewbox.changing",function(m){f.hide()}),d.on("canvas.viewbox.changed",function(m){var v;f._updateRoot(v=m.viewbox),f._updateOverlaysVisibilty(v),f.show()}),d.on(["shape.remove","connection.remove"],function(m){var v=m.element;ge(f.get({element:v}),function(x){f.remove(x.id)});var b=f._getOverlayContainer(v);if(b){vs(b.html);var _=f._overlayContainers.indexOf(b);-1!==_&&f._overlayContainers.splice(_,1)}}),d.on("element.changed",500,function(m){var b=f._getOverlayContainer(m.element,!0);b&&(ge(b.overlays,function(_){f._updateOverlay(_)}),f._updateOverlayContainer(b))}),d.on("element.marker.update",function(m){var v=f._getOverlayContainer(m.element,!0);v&&$t(v.html)[m.add?"add":"remove"](m.marker)}),d.on("root.set",function(){f._updateOverlaysVisibilty(f._canvas.viewbox())}),d.on("diagram.clear",this.clear,this)};var M_={__init__:["overlays"],overlays:["type",ko]};function kO(d,f,m,v){d.on("element.changed",function(b){var _=b.element;(_.parent||_===f.getRootElement())&&(b.gfx=m.getGraphics(_)),b.gfx&&d.fire(rc(_)+".changed",b)}),d.on("elements.changed",function(b){var _=b.elements;_.forEach(function(x){d.fire("element.changed",{element:x})}),v.updateContainments(_)}),d.on("shape.changed",function(b){v.update("shape",b.element,b.gfx)}),d.on("connection.changed",function(b){v.update("connection",b.element,b.gfx)})}kO.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var O_={__init__:["changeSupport"],changeSupport:["type",kO]};function st(d){this._eventBus=d}function Ao(d){return function(f,m,v,b,_){(wn(f)||lt(f))&&(_=b,b=v,v=m,m=f,f=null),this.on(f,d,m,v,b,_)}}function b2(d,f){f.invoke(st,this),this.executed(function(m){var v=m.context;v.rootElement?d.setRootElement(v.rootElement):v.rootElement=d.getRootElement()}),this.revert(function(m){var v=m.context;v.rootElement&&d.setRootElement(v.rootElement)})}st.$inject=["eventBus"],st.prototype.on=function(d,f,m,v,b,_){if((wn(f)||lt(f))&&(_=b,b=v,v=m,m=f,f=null),wn(m)&&(_=b,b=v,v=m,m=1e3),Dn(b)&&(_=b,b=!1),!wn(v))throw new Error("handlerFn must be a function");dt(d)||(d=[d]);var x=this._eventBus;ge(d,function(w){var S=["commandStack",w,f].filter(function(T){return T}).join(".");x.on(S,m,b?function(T,P){return function(M){return T.call(P||null,M.context,M.command,M)}}(v,_):v,_)})},st.prototype.canExecute=Ao("canExecute"),st.prototype.preExecute=Ao("preExecute"),st.prototype.preExecuted=Ao("preExecuted"),st.prototype.execute=Ao("execute"),st.prototype.executed=Ao("executed"),st.prototype.postExecute=Ao("postExecute"),st.prototype.postExecuted=Ao("postExecuted"),st.prototype.revert=Ao("revert"),st.prototype.reverted=Ao("reverted"),Ye(b2,st),b2.$inject=["canvas","injector"];var AO={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",b2]};function G1(d){return CSS.escape(d)}var JC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _2(d){return(d=""+d)&&d.replace(/[&<>"']/g,function(f){return JC[f]})}var eS="_plane";function E2(d){return function(f){return f.replace(new RegExp(eS+"$"),"")}(d.id)}function Hu(d){var f=d.id;return Y(d,"bpmn:SubProcess")?k_(f):f}function Gs(d){return k_(d)}function x2(d){return Y(dr(d),"bpmndi:BPMNPlane")}function k_(d){return d+eS}function A_(d,f,m){var v=Sr('<ul class="bjs-breadcrumbs"></ul>'),b=m.getContainer(),_=$t(b);b.appendChild(v);var x=[];function w(S){S&&(x=function(M){for(var R=[],I=bt(M);I;I=I.$parent)(Y(I,"bpmn:SubProcess")||Y(I,"bpmn:Process"))&&R.push(I);return R.reverse()}(S));var T=x.map(function(M){var k=_2(M.name||M.id),R=Sr('<li><span class="bjs-crumb"><a title="'+k+'">'+k+"</a></span></li>"),I=m.findRoot(Hu(M))||m.findRoot(M.id);if(!I&&Y(M,"bpmn:Process")){var $=f.find(function(W){var H=bt(W);return H&&H.get("processRef")&&H.get("processRef")===M});I=m.findRoot($.id)}return R.addEventListener("click",function(){m.setRootElement(I)}),R});v.innerHTML="",_.toggle("bjs-breadcrumbs-shown",T.length>1),T.forEach(function(M){v.appendChild(M)})}d.on("element.changed",function(S){var T=bt(S.element);cn(x,function(P){return P===T})&&w()}),d.on("root.set",function(S){w(S.element)})}function tS(d,f){var m=null,v=new Vz;d.on("root.set",function(b){var _=b.element,x=f.viewbox(),w=v.get(_);if(v.set(m,{x:x.x,y:x.y,zoom:x.scale}),m=_,!Y(_,"bpmn:Collaboration")||w){var S=(x.x-(w=w||{x:0,y:0,zoom:1}).x)*x.scale,T=(x.y-w.y)*x.scale;0===S&&0===T||f.scroll({dx:S,dy:T}),w.zoom!==x.scale&&f.zoom(w.zoom,{x:0,y:0})}}),d.on("diagram.clear",function(){v.clear(),m=null})}function Vz(){this._entries=[],this.set=function(d,f){var m=!1;for(var v in this._entries)if(this._entries[v][0]===d){this._entries[v][1]=f,m=!0;break}m||this._entries.push([d,f])},this.get=function(d){for(var f in this._entries)if(this._entries[f][0]===d)return this._entries[f][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(d){var f=-1;for(var m in this._entries)if(this._entries[m][0]===d){f=m;break}-1!==f&&this._entries.splice(f,1)}}A_.$inject=["eventBus","elementRegistry","canvas"],tS.$inject=["eventBus","canvas"];function pc(d,f){this._eventBus=d,this._moddle=f;var m=this;d.on("import.render.start",1500,function(v,b){m._handleImport(b.definitions)})}function qs(d){return Y(d,"bpmndi:BPMNDiagram")?d:qs(d.$parent)}pc.prototype._handleImport=function(d){if(d.diagrams){var f=this;this._definitions=d,this._processToDiagramMap={},d.diagrams.forEach(function(v){v.plane&&v.plane.bpmnElement&&(f._processToDiagramMap[v.plane.bpmnElement.id]=v)});var m=[];d.diagrams.forEach(function(v){var b=f._createNewDiagrams(v.plane);Array.prototype.push.apply(m,b)}),m.forEach(function(v){f._movePlaneElementsToOrigin(v.plane)})}},pc.prototype._createNewDiagrams=function(d){var f=this,m=[],v=[];d.get("planeElement").forEach(function(_){var S,T,P,x=_.bpmnElement;if(x){var w=x.$parent;Y(x,"bpmn:SubProcess")&&!_.isExpanded&&m.push(x),T=d,Y(P=(S=x).$parent,"bpmn:SubProcess")&&P!==T.bpmnElement&&!Gn(S,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"])&&v.push({diElement:_,parent:w})}});var b=[];return m.forEach(function(_){if(!f._processToDiagramMap[_.id]){var x=f._createDiagram(_);f._processToDiagramMap[_.id]=x,b.push(x)}}),v.forEach(function(_){for(var x=_.diElement,w=_.parent;w&&-1===m.indexOf(w);)w=w.$parent;w&&f._moveToDiPlane(x,f._processToDiagramMap[w.id].plane)}),b},pc.prototype._movePlaneElementsToOrigin=function(d){var x,f=d.get("planeElement"),m=(x={top:1/0,right:-1/0,bottom:-1/0,left:1/0},d.planeElement.forEach(function(w){if(w.bounds){var S=Yt(w.bounds);x.top=Math.min(S.top,x.top),x.left=Math.min(S.left,x.left)}}),Jn(x)),v=m.x-180,b=m.y-160;f.forEach(function(_){_.waypoint?_.waypoint.forEach(function(x){x.x=x.x-v,x.y=x.y-b}):_.bounds&&(_.bounds.x=_.bounds.x-v,_.bounds.y=_.bounds.y-b)})},pc.prototype._moveToDiPlane=function(d,f){var m=qs(d).plane.get("planeElement");m.splice(m.indexOf(d),1),f.get("planeElement").push(d)},pc.prototype._createDiagram=function(d){var f=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:d}),m=this._moddle.create("bpmndi:BPMNDiagram",{plane:f});return f.$parent=m,f.bpmnElement=d,m.$parent=this._definitions,this._definitions.diagrams.push(m),m},pc.$inject=["eventBus","moddle"];function Fl(d,f,m,v){st.call(this,f),this._canvas=d,this._eventBus=f,this._elementRegistry=m,this._overlays=v;var b=this;this.executed("shape.toggleCollapse",250,function(_){var x=_.shape;b._canDrillDown(x)?b._addOverlay(x):b._removeOverlay(x)},!0),this.reverted("shape.toggleCollapse",250,function(_){var x=_.shape;b._canDrillDown(x)?b._addOverlay(x):b._removeOverlay(x)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(_){var x=_.oldParent,w=_.newParent||_.parent,S=_.shape;b._canDrillDown(S)&&b._addOverlay(S),b._updateDrilldownOverlay(x),b._updateDrilldownOverlay(w),b._updateDrilldownOverlay(S)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(_){var x=_.oldParent,w=_.newParent||_.parent,S=_.shape;b._canDrillDown(S)&&b._addOverlay(S),b._updateDrilldownOverlay(x),b._updateDrilldownOverlay(w),b._updateDrilldownOverlay(S)},!0),f.on("import.render.complete",function(){m.filter(function(_){return b._canDrillDown(_)}).map(function(_){b._addOverlay(_)})})}Ye(Fl,st),Fl.prototype._updateDrilldownOverlay=function(d){if(d){var m=this._canvas.findRoot(d);m&&this._updateOverlayVisibility(m)}},Fl.prototype._canDrillDown=function(d){var f=this._canvas;return Y(d,"bpmn:SubProcess")&&f.findRoot(Hu(d))},Fl.prototype._updateOverlayVisibility=function(d){var f=this._overlays,m=bt(d),v=f.get({element:m.id,type:"drilldown"})[0];if(v){var b=m&&m.get("flowElements")&&m.get("flowElements").length;$t(v.html).toggle("bjs-drilldown-empty",!b)}},Fl.prototype._addOverlay=function(d){var f=this._canvas,m=this._overlays;m.get({element:d,type:"drilldown"}).length&&this._removeOverlay(d);var v=Sr('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');v.addEventListener("click",function(){f.setRootElement(f.findRoot(Hu(d)))}),m.add(d,"drilldown",{position:{bottom:-7,right:-8},html:v}),this._updateOverlayVisibility(d)},Fl.prototype._removeOverlay=function(d){this._overlays.remove({element:d,type:"drilldown"})},Fl.$inject=["canvas","eventBus","elementRegistry","overlays"];var _h={__depends__:[M_,O_,AO],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",A_],drilldownCentering:["type",tS],drilldownOverlayBehavior:["type",Fl],subprocessCompatibility:["type",pc]};function Ro(d){ai.call(this,d)}Ye(Ro,ai),Ro.prototype._modules=[Us,tl,zu,M_,_h],Ro.prototype._moddleExtensions={};var RO=["c","C"],I_=["v","V"],IO=["y","Y"],fc=["z","Z"];function Da(d){return!d.altKey&&(d.ctrlKey||d.metaKey)}function Xo(d,f){return-1!==(d=dt(d)?d:[d]).indexOf(f.key)||-1!==d.indexOf(f.code)}function C2(d){return d.shiftKey}var Eh="keyboard.keydown",S2="input-handle-modified-keys";function mo(d,f){var m=this;this._config=d||{},this._eventBus=f,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),f.on("diagram.destroy",function(){m._fire("destroy"),m.unbind()}),f.on("diagram.init",function(){m._fire("init")}),f.on("attach",function(){d&&d.bindTo&&m.bind(d.bindTo)}),f.on("detach",function(){m.unbind()})}mo.$inject=["config.keyboard","eventBus"],mo.prototype._keydownHandler=function(d){this._keyHandler(d,Eh)},mo.prototype._keyupHandler=function(d){this._keyHandler(d,"keyboard.keyup")},mo.prototype._keyHandler=function(d,f){this._isEventIgnored(d)||this._eventBus.fire(f||Eh,{keyEvent:d})&&d.preventDefault()},mo.prototype._isEventIgnored=function(d){return!!d.defaultPrevented||(f=d.target)&&(Lr(f,"input, textarea")||"true"===f.contentEditable)&&this._isModifiedKeyIgnored(d);var f},mo.prototype._isModifiedKeyIgnored=function(d){return!Da(d)||-1===this._getAllowedModifiers(d.target).indexOf(d.key)},mo.prototype._getAllowedModifiers=function(d){var f=ar(d,"["+S2+"]",!0);return!f||this._node&&!this._node.contains(f)?[]:f.getAttribute(S2).split(",")},mo.prototype.bind=function(d){this.unbind(),this._node=d,Zt.bind(d,"keydown",this._keydownHandler),Zt.bind(d,"keyup",this._keyupHandler),this._fire("bind")},mo.prototype.getBinding=function(){return this._node},mo.prototype.unbind=function(){var d=this._node;d&&(this._fire("unbind"),Zt.unbind(d,"keydown",this._keydownHandler),Zt.unbind(d,"keyup",this._keyupHandler)),this._node=null},mo.prototype._fire=function(d){this._eventBus.fire("keyboard."+d,{node:this._node})},mo.prototype.addListener=function(d,f,m){wn(d)&&(m=f,f=d,d=1e3),this._eventBus.on(m||Eh,d,f)},mo.prototype.removeListener=function(d,f){this._eventBus.off(f||Eh,d)},mo.prototype.hasModifier=function(d){return d.ctrlKey||d.metaKey||d.shiftKey||d.altKey},mo.prototype.isCmd=Da,mo.prototype.isShift=C2,mo.prototype.isKey=Xo;var D2=500;function K0(d,f){var m=this;d.on("editorActions.init",D2,function(v){m.registerBindings(f,v.editorActions)})}K0.$inject=["eventBus","keyboard"],K0.prototype.registerBindings=function(d,f){function m(v,b){f.isRegistered(v)&&d.addListener(b)}m("undo",function(v){if(Da(b=v.keyEvent)&&!C2(b)&&Xo(fc,b))return f.trigger("undo"),!0;var b}),m("redo",function(v){if(Da(b=v.keyEvent)&&(Xo(IO,b)||Xo(fc,b)&&C2(b)))return f.trigger("redo"),!0;var b}),m("copy",function(v){if(Da(b=v.keyEvent)&&Xo(RO,b))return f.trigger("copy"),!0;var b}),m("paste",function(v){if(Da(b=v.keyEvent)&&Xo(I_,b))return f.trigger("paste"),!0;var b}),m("stepZoom",function(v){var b=v.keyEvent;if(Xo(["+","Add","="],b)&&Da(b))return f.trigger("stepZoom",{value:1}),!0}),m("stepZoom",function(v){var b=v.keyEvent;if(Xo(["-","Subtract"],b)&&Da(b))return f.trigger("stepZoom",{value:-1}),!0}),m("zoom",function(v){var b=v.keyEvent;if(Xo("0",b)&&Da(b))return f.trigger("zoom",{value:1}),!0}),m("removeSelection",function(v){if(Xo(["Backspace","Delete","Del"],v.keyEvent))return f.trigger("removeSelection"),!0})};var Uu={__init__:["keyboard","keyboardBindings"],keyboard:["type",mo],keyboardBindings:["type",K0]},An={moveSpeed:50,moveSpeedAccelerated:200};function N_(d,f,m){var v=this;this._config=de({},An,d||{}),f.addListener(function(b){var _=b.keyEvent,x=v._config;if(f.isCmd(_)&&f.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],_)){var w,S=f.isShift(_)?x.moveSpeedAccelerated:x.moveSpeed;switch(_.key){case"ArrowLeft":case"Left":w="left";break;case"ArrowUp":case"Up":w="up";break;case"ArrowRight":case"Right":w="right";break;case"ArrowDown":case"Down":w="down"}return v.moveCanvas({speed:S,direction:w}),!0}}),this.moveCanvas=function(b){var _=0,x=0,w=b.speed/Math.min(Math.sqrt(m.viewbox().scale),1);switch(b.direction){case"left":_=w;break;case"up":x=w;break;case"right":_=-w;break;case"down":x=-w}m.scroll({dx:_,dy:x})}}N_.$inject=["config.keyboardMove","keyboard","canvas"];var NO={__depends__:[Uu],__init__:["keyboardMove"],keyboardMove:["type",N_]},LO=/^djs-cursor-.*$/;function T2(d){var f=$t(document.body);f.removeMatching(LO),d&&f.add("djs-cursor-"+d)}function nS(){T2(null)}var rS=5e3;function wp(d,f){function m(){return!1}return d.once(f=f||"element.click",rS,m),function(){d.off(f,m)}}function q1(d){return{x:d.x+d.width/2,y:d.y+d.height/2}}function hc(d,f){return{x:d.x-f.x,y:d.y-f.y}}function iS(d,f){var m;function v(_){var x,w=m.start,S=m.button,T=dc(_),P=hc(T,w);!m.dragging&&(x=P,Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2))>15)&&(m.dragging=!0,0===S&&wp(d),T2("grab")),m.dragging&&(P=hc(T,m.last||m.start),f.scroll({dx:P.x,dy:P.y}),m.last=T),_.preventDefault()}function b(_){Zt.unbind(document,"mousemove",v),Zt.unbind(document,"mouseup",b),m=null,nS()}d.on("element.mousedown",500,function(_){return function(x){if(!ar(x.target,".djs-draggable")){var w=x.button;if(!(w>=2||x.ctrlKey||x.shiftKey||x.altKey))return m={button:w,start:dc(x)},Zt.bind(document,"mousemove",v),Zt.bind(document,"mouseup",b),!0}}(_.originalEvent)}),this.isActive=function(){return!!m}}iS.$inject=["eventBus","canvas"];var oS={__init__:["moveCanvas"],moveCanvas:["type",iS]};function L_(d){return Math.log(d)/Math.log(10)}function We(d,f){var m=L_(d.min),v=L_(d.max);return(Math.abs(m)+Math.abs(v))/f}var pr=Math.sign||function(d){return d>=0?1:-1},Cp={min:.2,max:4};function Ta(d,f,m){d=d||{},this._enabled=!1,this._canvas=m,this._container=m._container,this._handleWheel=Ze(this._handleWheel,this),this._totalDelta=0,this._scale=d.scale||.75;var v=this;f.on("canvas.init",function(b){v._init(!1!==d.enabled)})}Ta.$inject=["config.zoomScroll","eventBus","canvas"],Ta.prototype.scroll=function(d){this._canvas.scroll(d)},Ta.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Ta.prototype.zoom=function(d,f){var m=We(Cp,20);this._totalDelta+=d,Math.abs(this._totalDelta)>.1&&(this._zoom(d,f,m),this._totalDelta=0)},Ta.prototype._handleWheel=function(d){if(!ar(d.target,".djs-scrollable",!0)){var f=this._container;d.preventDefault();var m,v=d.ctrlKey||Ll()&&d.metaKey,b=d.shiftKey,_=-1*this._scale;if(_*=v?0===d.deltaMode?.02:.32:0===d.deltaMode?1:16,v){var x=f.getBoundingClientRect(),w={x:d.clientX-x.left,y:d.clientY-x.top};m=Math.sqrt(Math.pow(d.deltaY,2)+Math.pow(d.deltaX,2))*pr(d.deltaY)*_,this.zoom(m,w)}else this.scroll(m=b?{dx:_*d.deltaY,dy:0}:{dx:_*d.deltaX,dy:_*d.deltaY})}},Ta.prototype.stepZoom=function(d,f){var m=We(Cp,10);this._zoom(d,f,m)},Ta.prototype._zoom=function(d,f,m){var w,v=this._canvas,b=d>0?1:-1,_=L_(v.zoom()),x=Math.round(_/m)*m,T=Math.pow(10,x+=m*b);v.zoom((w=Cp,Math.max(w.min,Math.min(w.max,T))),f)},Ta.prototype.toggle=function(d){var v=this._enabled;return void 0===d&&(d=!v),v!==d&&Zt[d?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=d,d},Ta.prototype._init=function(d){this.toggle(d)};var ei={__init__:["zoomScroll"],zoomScroll:["type",Ta]};function xh(d){Ro.call(this,d)}Ye(xh,Ro),xh.prototype._modules=[].concat(Ro.prototype._modules,xh.prototype._navigationModules=[NO,oS,ei]);var wh={exports:{}};!function(d){!function(f,m,v,b){var _,x=["","webkit","Moz","MS","ms","o"],w=m.createElement("div"),S="function",T=Math.round,P=Math.abs,M=Date.now;function k(Z,ve,Ae){return setTimeout(Q(Z,Ae),ve)}function R(Z,ve,Ae){return!!Array.isArray(Z)&&(I(Z,Ae[ve],Ae),!0)}function I(Z,ve,Ae){var Xe;if(Z)if(Z.forEach)Z.forEach(ve,Ae);else if(Z.length!==b)for(Xe=0;Xe<Z.length;)ve.call(Ae,Z[Xe],Xe,Z),Xe++;else for(Xe in Z)Z.hasOwnProperty(Xe)&&ve.call(Ae,Z[Xe],Xe,Z)}function $(Z,ve,Ae){var Xe="DEPRECATED METHOD: "+ve+"\n"+Ae+" AT \n";return function(){var ht=new Error("get-stack-trace"),Xn=ht&&ht.stack?ht.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ui=f.console&&(f.console.warn||f.console.log);return ui&&ui.call(f.console,Xe,Xn),Z.apply(this,arguments)}}_="function"!=typeof Object.assign?function(Z){if(Z===b||null===Z)throw new TypeError("Cannot convert undefined or null to object");for(var ve=Object(Z),Ae=1;Ae<arguments.length;Ae++){var Xe=arguments[Ae];if(Xe!==b&&null!==Xe)for(var ht in Xe)Xe.hasOwnProperty(ht)&&(ve[ht]=Xe[ht])}return ve}:Object.assign;var W=$(function(Z,ve,Ae){for(var Xe=Object.keys(ve),ht=0;ht<Xe.length;)(!Ae||Ae&&Z[Xe[ht]]===b)&&(Z[Xe[ht]]=ve[Xe[ht]]),ht++;return Z},"extend","Use `assign`."),H=$(function(Z,ve){return W(Z,ve,!0)},"merge","Use `assign`.");function z(Z,ve,Ae){var Xe,ht=ve.prototype;(Xe=Z.prototype=Object.create(ht)).constructor=Z,Xe._super=ht,Ae&&_(Xe,Ae)}function Q(Z,ve){return function(){return Z.apply(ve,arguments)}}function J(Z,ve){return typeof Z==S?Z.apply(ve&&ve[0]||b,ve):Z}function oe(Z,ve){return Z===b?ve:Z}function we(Z,ve,Ae){I(Kt(ve),function(Xe){Z.addEventListener(Xe,Ae,!1)})}function Ee(Z,ve,Ae){I(Kt(ve),function(Xe){Z.removeEventListener(Xe,Ae,!1)})}function Te(Z,ve){for(;Z;){if(Z==ve)return!0;Z=Z.parentNode}return!1}function Ne(Z,ve){return Z.indexOf(ve)>-1}function Kt(Z){return Z.trim().split(/\s+/g)}function gt(Z,ve,Ae){if(Z.indexOf&&!Ae)return Z.indexOf(ve);for(var Xe=0;Xe<Z.length;){if(Ae&&Z[Xe][Ae]==ve||!Ae&&Z[Xe]===ve)return Xe;Xe++}return-1}function $e(Z){return Array.prototype.slice.call(Z,0)}function Qe(Z,ve,Ae){for(var Xe=[],ht=[],Xn=0;Xn<Z.length;){var ui=ve?Z[Xn][ve]:Z[Xn];gt(ht,ui)<0&&Xe.push(Z[Xn]),ht[Xn]=ui,Xn++}return Ae&&(Xe=ve?Xe.sort(function(ks,er){return ks[ve]>er[ve]}):Xe.sort()),Xe}function pn(Z,ve){for(var Ae,Xe,ht=ve[0].toUpperCase()+ve.slice(1),Xn=0;Xn<x.length;){if((Xe=(Ae=x[Xn])?Ae+ht:ve)in Z)return Xe;Xn++}return b}var ue=1;function G(Z){var ve=Z.ownerDocument||Z;return ve.defaultView||ve.parentWindow||f}var xe="ontouchstart"in f,He=pn(f,"PointerEvent")!==b,et=xe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Lt="touch",zt="mouse",Wt=25,St=1,fr=4,Hr=8,Gl=1,Qs=2,Kr=4,xi=8,Rr=16,ci=Qs|Kr,Wi=xi|Rr,_r=ci|Wi,Ms=["x","y"],Er=["clientX","clientY"];function Di(Z,ve){var Ae=this;this.manager=Z,this.callback=ve,this.element=Z.element,this.target=Z.options.inputTarget,this.domHandler=function(Xe){J(Z.options.enable,[Z])&&Ae.handler(Xe)},this.init()}function Nn(Z,ve,Ae){var Xe=Ae.pointers.length,ht=Ae.changedPointers.length,Xn=ve&St&&Xe-ht==0,ui=ve&(fr|Hr)&&Xe-ht==0;Ae.isFirst=!!Xn,Ae.isFinal=!!ui,Xn&&(Z.session={}),Ae.eventType=ve,function(ks,er){var As=ks.session,n3=er.pointers,M7=n3.length;As.firstInput||(As.firstInput=xr(er)),M7>1&&!As.firstMultiple?As.firstMultiple=xr(er):1===M7&&(As.firstMultiple=!1);var wc,cs,Cd,cf,uf,df,O7=As.firstInput,lf=As.firstMultiple,ox=lf?lf.center:O7.center,k7=er.center=tf(n3);er.timeStamp=M(),er.deltaTime=er.timeStamp-O7.timeStamp,er.angle=al(ox,k7),er.distance=Os(ox,k7),Cd=(cs=er).center,cf=(wc=As).offsetDelta||{},uf=wc.prevDelta||{},df=wc.prevInput||{},cs.eventType!==St&&df.eventType!==fr||(uf=wc.prevDelta={x:df.deltaX||0,y:df.deltaY||0},cf=wc.offsetDelta={x:Cd.x,y:Cd.y}),cs.deltaX=uf.x+(Cd.x-cf.x),cs.deltaY=uf.y+(Cd.y-cf.y),er.offsetDirection=bo(er.deltaX,er.deltaY);var Sv=lu(er.deltaTime,er.deltaX,er.deltaY);er.overallVelocityX=Sv.x,er.overallVelocityY=Sv.y,er.overallVelocity=P(Sv.x)>P(Sv.y)?Sv.x:Sv.y,er.scale=lf?(sx=lf.pointers,Os((Dv=n3)[0],Dv[1],Er)/Os(sx[0],sx[1],Er)):1,er.rotation=lf?function(wc,cs){return al(cs[1],cs[0],Er)+al(wc[1],wc[0],Er)}(lf.pointers,n3):0,er.maxPointers=As.prevInput?er.pointers.length>As.prevInput.maxPointers?er.pointers.length:As.prevInput.maxPointers:er.pointers.length,function(wc,cs){var Cd,cf,uf,df,Sd=wc.lastInterval||cs,A7=cs.timeStamp-Sd.timeStamp;if(cs.eventType!=Hr&&(A7>Wt||Sd.velocity===b)){var R7=cs.deltaX-Sd.deltaX,I7=cs.deltaY-Sd.deltaY,mm=lu(A7,R7,I7);cf=mm.x,uf=mm.y,Cd=P(mm.x)>P(mm.y)?mm.x:mm.y,df=bo(R7,I7),wc.lastInterval=cs}else Cd=Sd.velocity,cf=Sd.velocityX,uf=Sd.velocityY,df=Sd.direction;cs.velocity=Cd,cs.velocityX=cf,cs.velocityY=uf,cs.direction=df}(As,er);var sx,Dv,Tv=ks.element;Te(er.srcEvent.target,Tv)&&(Tv=er.srcEvent.target),er.target=Tv}(Z,Ae),Z.emit("hammer.input",Ae),Z.recognize(Ae),Z.session.prevInput=Ae}function xr(Z){for(var ve=[],Ae=0;Ae<Z.pointers.length;)ve[Ae]={clientX:T(Z.pointers[Ae].clientX),clientY:T(Z.pointers[Ae].clientY)},Ae++;return{timeStamp:M(),pointers:ve,center:tf(ve),deltaX:Z.deltaX,deltaY:Z.deltaY}}function tf(Z){var ve=Z.length;if(1===ve)return{x:T(Z[0].clientX),y:T(Z[0].clientY)};for(var Ae=0,Xe=0,ht=0;ht<ve;)Ae+=Z[ht].clientX,Xe+=Z[ht].clientY,ht++;return{x:T(Ae/ve),y:T(Xe/ve)}}function lu(Z,ve,Ae){return{x:ve/Z||0,y:Ae/Z||0}}function bo(Z,ve){return Z===ve?Gl:P(Z)>=P(ve)?Z<0?Qs:Kr:ve<0?xi:Rr}function Os(Z,ve,Ae){Ae||(Ae=Ms);var Xe=ve[Ae[0]]-Z[Ae[0]],ht=ve[Ae[1]]-Z[Ae[1]];return Math.sqrt(Xe*Xe+ht*ht)}function al(Z,ve,Ae){return Ae||(Ae=Ms),180*Math.atan2(ve[Ae[1]]-Z[Ae[1]],ve[Ae[0]]-Z[Ae[0]])/Math.PI}Di.prototype={handler:function(){},init:function(){this.evEl&&we(this.element,this.evEl,this.domHandler),this.evTarget&&we(this.target,this.evTarget,this.domHandler),this.evWin&&we(G(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ee(this.element,this.evEl,this.domHandler),this.evTarget&&Ee(this.target,this.evTarget,this.domHandler),this.evWin&&Ee(G(this.element),this.evWin,this.domHandler)}};var wd={mousedown:St,mousemove:2,mouseup:fr},ll="mousedown",bv="mousemove mouseup";function Xi(){this.evEl=ll,this.evWin=bv,this.pressed=!1,Di.apply(this,arguments)}z(Xi,Di,{handler:function(Z){var ve=wd[Z.type];ve&St&&0===Z.button&&(this.pressed=!0),2&ve&&1!==Z.which&&(ve=fr),this.pressed&&(ve&fr&&(this.pressed=!1),this.callback(this.manager,ve,{pointers:[Z],changedPointers:[Z],pointerType:zt,srcEvent:Z}))}});var nf={pointerdown:St,pointermove:2,pointerup:fr,pointercancel:Hr,pointerout:Hr},Yb={2:Lt,3:"pen",4:zt,5:"kinect"},cl="pointerdown",um="pointermove pointerup pointercancel";function JE(){this.evEl=cl,this.evWin=um,Di.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f.MSPointerEvent&&!f.PointerEvent&&(cl="MSPointerDown",um="MSPointerMove MSPointerUp MSPointerCancel"),z(JE,Di,{handler:function(Z){var ve=this.store,Ae=!1,Xe=Z.type.toLowerCase().replace("ms",""),ht=nf[Xe],Xn=Yb[Z.pointerType]||Z.pointerType,ui=Xn==Lt,ks=gt(ve,Z.pointerId,"pointerId");ht&St&&(0===Z.button||ui)?ks<0&&(ve.push(Z),ks=ve.length-1):ht&(fr|Hr)&&(Ae=!0),ks<0||(ve[ks]=Z,this.callback(this.manager,ht,{pointers:ve,changedPointers:[Z],pointerType:Xn,srcEvent:Z}),Ae&&ve.splice(ks,1))}});var _v={touchstart:St,touchmove:2,touchend:fr,touchcancel:Hr};function ex(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Di.apply(this,arguments)}function S7(Z,ve){var Ae=$e(Z.touches),Xe=$e(Z.changedTouches);return ve&(fr|Hr)&&(Ae=Qe(Ae.concat(Xe),"identifier",!0)),[Ae,Xe]}z(ex,Di,{handler:function(Z){var ve=_v[Z.type];if(ve===St&&(this.started=!0),this.started){var Ae=S7.call(this,Z,ve);ve&(fr|Hr)&&Ae[0].length-Ae[1].length==0&&(this.started=!1),this.callback(this.manager,ve,{pointers:Ae[0],changedPointers:Ae[1],pointerType:Lt,srcEvent:Z})}}});var lA={touchstart:St,touchmove:2,touchend:fr,touchcancel:Hr},cA="touchstart touchmove touchend touchcancel";function Yi(){this.evTarget=cA,this.targetIds={},Di.apply(this,arguments)}function D7(Z,ve){var Ae=$e(Z.touches),Xe=this.targetIds;if(ve&(2|St)&&1===Ae.length)return Xe[Ae[0].identifier]=!0,[Ae,Ae];var ht,Xn,ui=$e(Z.changedTouches),ks=[],er=this.target;if(Xn=Ae.filter(function(As){return Te(As.target,er)}),ve===St)for(ht=0;ht<Xn.length;)Xe[Xn[ht].identifier]=!0,ht++;for(ht=0;ht<ui.length;)Xe[ui[ht].identifier]&&ks.push(ui[ht]),ve&(fr|Hr)&&delete Xe[ui[ht].identifier],ht++;return ks.length?[Qe(Xn.concat(ks),"identifier",!0),ks]:void 0}z(Yi,Di,{handler:function(Z){var ve=lA[Z.type],Ae=D7.call(this,Z,ve);Ae&&this.callback(this.manager,ve,{pointers:Ae[0],changedPointers:Ae[1],pointerType:Lt,srcEvent:Z})}});var uA=2500;function so(){Di.apply(this,arguments);var Z=Q(this.handler,this);this.touch=new Yi(this.manager,Z),this.mouse=new Xi(this.manager,Z),this.primaryTouch=null,this.lastTouches=[]}function Ev(Z,ve){Z&St?(this.primaryTouch=ve.changedPointers[0].identifier,rf.call(this,ve)):Z&(fr|Hr)&&rf.call(this,ve)}function rf(Z){var ve=Z.changedPointers[0];if(ve.identifier===this.primaryTouch){var Ae={x:ve.clientX,y:ve.clientY};this.lastTouches.push(Ae);var Xe=this.lastTouches;setTimeout(function(){var ht=Xe.indexOf(Ae);ht>-1&&Xe.splice(ht,1)},uA)}}function Kb(Z){for(var ve=Z.srcEvent.clientX,Ae=Z.srcEvent.clientY,Xe=0;Xe<this.lastTouches.length;Xe++){var ht=this.lastTouches[Xe],Xn=Math.abs(ve-ht.x),ui=Math.abs(Ae-ht.y);if(Xn<=25&&ui<=25)return!0}return!1}z(so,Di,{handler:function(Z,ve,Ae){var ht=Ae.pointerType==zt;if(!(ht&&Ae.sourceCapabilities&&Ae.sourceCapabilities.firesTouchEvents)){if(Ae.pointerType==Lt)Ev.call(this,ve,Ae);else if(ht&&Kb.call(this,Ae))return;this.callback(Z,ve,Ae)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dm=pn(w.style,"touchAction"),xv=dm!==b,tx="compute",Qb="manipulation",cu="none",sf="pan-x",pm="pan-y",af=function(){if(!xv)return!1;var Z={},ve=f.CSS&&f.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ae){Z[Ae]=!ve||f.CSS.supports("touch-action",Ae)}),Z}();function l0(Z,ve){this.manager=Z,this.set(ve)}l0.prototype={set:function(Z){Z==tx&&(Z=this.compute()),xv&&this.manager.element.style&&af[Z]&&(this.manager.element.style[dm]=Z),this.actions=Z.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Z=[];return I(this.manager.recognizers,function(ve){J(ve.options.enable,[ve])&&(Z=Z.concat(ve.getTouchAction()))}),function(ve){if(Ne(ve,cu))return cu;var Ae=Ne(ve,sf),Xe=Ne(ve,pm);return Ae&&Xe?cu:Ae||Xe?Ae?sf:pm:Ne(ve,Qb)?Qb:"auto"}(Z.join(" "))},preventDefaults:function(Z){var ve=Z.srcEvent,Ae=Z.offsetDirection;if(this.manager.session.prevented)ve.preventDefault();else{var Xe=this.actions,ht=Ne(Xe,cu)&&!af[cu],Xn=Ne(Xe,pm)&&!af[pm],ui=Ne(Xe,sf)&&!af[sf];if(ht&&1===Z.pointers.length&&Z.distance<2&&Z.deltaTime<250)return;if(!ui||!Xn)return ht||Xn&&Ae&ci||ui&&Ae&Wi?this.preventSrc(ve):void 0}},preventSrc:function(Z){this.manager.session.prevented=!0,Z.preventDefault()}};var Zb=1;function c0(Z){this.options=_({},this.defaults,Z||{}),this.id=ue++,this.manager=null,this.options.enable=oe(this.options.enable,!0),this.state=Zb,this.simultaneous={},this.requireFail=[]}function T7(Z){return 16&Z?"cancel":8&Z?"end":4&Z?"move":2&Z?"start":""}function Jb(Z){return Z==Rr?"down":Z==xi?"up":Z==Qs?"left":Z==Kr?"right":""}function wv(Z,ve){var Ae=ve.manager;return Ae?Ae.get(Z):Z}function ql(){c0.apply(this,arguments)}function e3(){ql.apply(this,arguments),this.pX=null,this.pY=null}function P7(){ql.apply(this,arguments)}function rx(){c0.apply(this,arguments),this._timer=null,this._input=null}function fm(){ql.apply(this,arguments)}function Cv(){ql.apply(this,arguments)}function hm(){c0.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Aa(Z,ve){return(ve=ve||{}).recognizers=oe(ve.recognizers,Aa.defaults.preset),new t3(Z,ve)}function t3(Z,ve){this.options=_({},Aa.defaults,ve||{}),this.options.inputTarget=this.options.inputTarget||Z,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Z,this.input=new(this.options.inputClass||(He?JE:et?Yi:xe?so:Xi))(this,Nn),this.touchAction=new l0(this,this.options.touchAction),ix(this,!0),I(this.options.recognizers,function(Xe){var ht=this.add(new Xe[0](Xe[1]));Xe[2]&&ht.recognizeWith(Xe[2]),Xe[3]&&ht.requireFailure(Xe[3])},this)}function ix(Z,ve){var Ae,Xe=Z.element;Xe.style&&(I(Z.options.cssProps,function(ht,Xn){Ae=pn(Xe.style,Xn),ve?(Z.oldCssProps[Ae]=Xe.style[Ae],Xe.style[Ae]=ht):Xe.style[Ae]=Z.oldCssProps[Ae]||""}),ve||(Z.oldCssProps={}))}c0.prototype={defaults:{},set:function(Z){return _(this.options,Z),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Z){if(R(Z,"recognizeWith",this))return this;var ve=this.simultaneous;return ve[(Z=wv(Z,this)).id]||(ve[Z.id]=Z,Z.recognizeWith(this)),this},dropRecognizeWith:function(Z){return R(Z,"dropRecognizeWith",this)||(Z=wv(Z,this),delete this.simultaneous[Z.id]),this},requireFailure:function(Z){if(R(Z,"requireFailure",this))return this;var ve=this.requireFail;return-1===gt(ve,Z=wv(Z,this))&&(ve.push(Z),Z.requireFailure(this)),this},dropRequireFailure:function(Z){if(R(Z,"dropRequireFailure",this))return this;Z=wv(Z,this);var ve=gt(this.requireFail,Z);return ve>-1&&this.requireFail.splice(ve,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Z){return!!this.simultaneous[Z.id]},emit:function(Z){var ve=this,Ae=this.state;function Xe(ht){ve.manager.emit(ht,Z)}Ae<8&&Xe(ve.options.event+T7(Ae)),Xe(ve.options.event),Z.additionalEvent&&Xe(Z.additionalEvent),Ae>=8&&Xe(ve.options.event+T7(Ae))},tryEmit:function(Z){if(this.canEmit())return this.emit(Z);this.state=32},canEmit:function(){for(var Z=0;Z<this.requireFail.length;){if(!(this.requireFail[Z].state&(32|Zb)))return!1;Z++}return!0},recognize:function(Z){var ve=_({},Z);if(!J(this.options.enable,[this,ve]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Zb),this.state=this.process(ve),30&this.state&&this.tryEmit(ve)},process:function(Z){},getTouchAction:function(){},reset:function(){}},z(ql,c0,{defaults:{pointers:1},attrTest:function(Z){var ve=this.options.pointers;return 0===ve||Z.pointers.length===ve},process:function(Z){var ve=this.state,Ae=Z.eventType,Xe=6&ve,ht=this.attrTest(Z);return Xe&&(Ae&Hr||!ht)?16|ve:Xe||ht?Ae&fr?8|ve:2&ve?4|ve:2:32}}),z(e3,ql,{defaults:{event:"pan",threshold:10,pointers:1,direction:_r},getTouchAction:function(){var Z=this.options.direction,ve=[];return Z&ci&&ve.push(pm),Z&Wi&&ve.push(sf),ve},directionTest:function(Z){var ve=this.options,Ae=!0,Xe=Z.distance,ht=Z.direction,Xn=Z.deltaX,ui=Z.deltaY;return ht&ve.direction||(ve.direction&ci?(ht=0===Xn?Gl:Xn<0?Qs:Kr,Ae=Xn!=this.pX,Xe=Math.abs(Z.deltaX)):(ht=0===ui?Gl:ui<0?xi:Rr,Ae=ui!=this.pY,Xe=Math.abs(Z.deltaY))),Z.direction=ht,Ae&&Xe>ve.threshold&&ht&ve.direction},attrTest:function(Z){return ql.prototype.attrTest.call(this,Z)&&(2&this.state||!(2&this.state)&&this.directionTest(Z))},emit:function(Z){this.pX=Z.deltaX,this.pY=Z.deltaY;var ve=Jb(Z.direction);ve&&(Z.additionalEvent=this.options.event+ve),this._super.emit.call(this,Z)}}),z(P7,ql,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cu]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.scale-1)>this.options.threshold||2&this.state)},emit:function(Z){1!==Z.scale&&(Z.additionalEvent=this.options.event+(Z.scale<1?"in":"out")),this._super.emit.call(this,Z)}}),z(rx,c0,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Z){var ve=this.options,Ae=Z.pointers.length===ve.pointers,Xe=Z.distance<ve.threshold,ht=Z.deltaTime>ve.time;if(this._input=Z,!Xe||!Ae||Z.eventType&(fr|Hr)&&!ht)this.reset();else if(Z.eventType&St)this.reset(),this._timer=k(function(){this.state=8,this.tryEmit()},ve.time,this);else if(Z.eventType&fr)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Z){8===this.state&&(Z&&Z.eventType&fr?this.manager.emit(this.options.event+"up",Z):(this._input.timeStamp=M(),this.manager.emit(this.options.event,this._input)))}}),z(fm,ql,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cu]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.rotation)>this.options.threshold||2&this.state)}}),z(Cv,ql,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ci|Wi,pointers:1},getTouchAction:function(){return e3.prototype.getTouchAction.call(this)},attrTest:function(Z){var ve,Ae=this.options.direction;return Ae&(ci|Wi)?ve=Z.overallVelocity:Ae&ci?ve=Z.overallVelocityX:Ae&Wi&&(ve=Z.overallVelocityY),this._super.attrTest.call(this,Z)&&Ae&Z.offsetDirection&&Z.distance>this.options.threshold&&Z.maxPointers==this.options.pointers&&P(ve)>this.options.velocity&&Z.eventType&fr},emit:function(Z){var ve=Jb(Z.offsetDirection);ve&&this.manager.emit(this.options.event+ve,Z),this.manager.emit(this.options.event,Z)}}),z(hm,c0,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Qb]},process:function(Z){var ve=this.options,Ae=Z.pointers.length===ve.pointers,Xe=Z.distance<ve.threshold,ht=Z.deltaTime<ve.time;if(this.reset(),Z.eventType&St&&0===this.count)return this.failTimeout();if(Xe&&ht&&Ae){if(Z.eventType!=fr)return this.failTimeout();var Xn=!this.pTime||Z.timeStamp-this.pTime<ve.interval,ui=!this.pCenter||Os(this.pCenter,Z.center)<ve.posThreshold;if(this.pTime=Z.timeStamp,this.pCenter=Z.center,ui&&Xn?this.count+=1:this.count=1,this._input=Z,this.count%ve.taps==0)return this.hasRequireFailures()?(this._timer=k(function(){this.state=8,this.tryEmit()},ve.interval,this),2):8}return 32},failTimeout:function(){return this._timer=k(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Aa.VERSION="2.0.7",Aa.defaults={domEvents:!1,touchAction:tx,enable:!0,inputTarget:null,inputClass:null,preset:[[fm,{enable:!1}],[P7,{enable:!1},["rotate"]],[Cv,{direction:ci}],[e3,{direction:ci},["swipe"]],[hm],[hm,{event:"doubletap",taps:2},["tap"]],[rx]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},t3.prototype={set:function(Z){return _(this.options,Z),Z.touchAction&&this.touchAction.update(),Z.inputTarget&&(this.input.destroy(),this.input.target=Z.inputTarget,this.input.init()),this},stop:function(Z){this.session.stopped=Z?2:1},recognize:function(Z){var ve=this.session;if(!ve.stopped){var Ae;this.touchAction.preventDefaults(Z);var Xe=this.recognizers,ht=ve.curRecognizer;(!ht||ht&&8&ht.state)&&(ht=ve.curRecognizer=null);for(var Xn=0;Xn<Xe.length;)Ae=Xe[Xn],2===ve.stopped||ht&&Ae!=ht&&!Ae.canRecognizeWith(ht)?Ae.reset():Ae.recognize(Z),!ht&&14&Ae.state&&(ht=ve.curRecognizer=Ae),Xn++}},get:function(Z){if(Z instanceof c0)return Z;for(var ve=this.recognizers,Ae=0;Ae<ve.length;Ae++)if(ve[Ae].options.event==Z)return ve[Ae];return null},add:function(Z){if(R(Z,"add",this))return this;var ve=this.get(Z.options.event);return ve&&this.remove(ve),this.recognizers.push(Z),Z.manager=this,this.touchAction.update(),Z},remove:function(Z){if(R(Z,"remove",this))return this;if(Z=this.get(Z)){var ve=this.recognizers,Ae=gt(ve,Z);-1!==Ae&&(ve.splice(Ae,1),this.touchAction.update())}return this},on:function(Z,ve){if(Z!==b&&ve!==b){var Ae=this.handlers;return I(Kt(Z),function(Xe){Ae[Xe]=Ae[Xe]||[],Ae[Xe].push(ve)}),this}},off:function(Z,ve){if(Z!==b){var Ae=this.handlers;return I(Kt(Z),function(Xe){ve?Ae[Xe]&&Ae[Xe].splice(gt(Ae[Xe],ve),1):delete Ae[Xe]}),this}},emit:function(Z,ve){var ht,Xn,ui;this.options.domEvents&&(ht=Z,Xn=ve,(ui=m.createEvent("Event")).initEvent(ht,!0,!0),ui.gesture=Xn,Xn.target.dispatchEvent(ui));var Ae=this.handlers[Z]&&this.handlers[Z].slice();if(Ae&&Ae.length){ve.type=Z,ve.preventDefault=function(){ve.srcEvent.preventDefault()};for(var Xe=0;Xe<Ae.length;)Ae[Xe](ve),Xe++}},destroy:function(){this.element&&ix(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(Aa,{INPUT_START:St,INPUT_MOVE:2,INPUT_END:fr,INPUT_CANCEL:Hr,STATE_POSSIBLE:Zb,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Gl,DIRECTION_LEFT:Qs,DIRECTION_RIGHT:Kr,DIRECTION_UP:xi,DIRECTION_DOWN:Rr,DIRECTION_HORIZONTAL:ci,DIRECTION_VERTICAL:Wi,DIRECTION_ALL:_r,Manager:t3,Input:Di,TouchAction:l0,TouchInput:Yi,MouseInput:Xi,PointerEventInput:JE,TouchMouseInput:so,SingleTouchInput:ex,Recognizer:c0,AttrRecognizer:ql,Tap:hm,Pan:e3,Swipe:Cv,Pinch:P7,Rotate:fm,Press:rx,on:we,off:Ee,each:I,merge:H,extend:W,assign:_,inherit:z,bindFn:Q,prefixed:pn}),(void 0!==f?f:typeof self<"u"?self:{}).Hammer=Aa,"function"==typeof b&&b.amd?b(function(){return Aa}):d.exports?d.exports=Aa:f.Hammer=Aa}(window,document)}(wh);var Ws=ss(wh.exports),P2=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function Ch(d,f){return f.get(d,!1)}function F_(d){d.preventDefault(),"function"==typeof d.stopPropagation?d.stopPropagation():d.srcEvent&&"function"==typeof d.srcEvent.stopPropagation&&d.srcEvent.stopPropagation(),"function"==typeof d.stopImmediatePropagation&&d.stopImmediatePropagation()}function sS(d){function f(S){setTimeout(function(){ge(P2,function(T){Zt.unbind(d,T,F_,!0)})},500)}Zt.bind(d,"touchstart",function(S){ge(P2,function(T){Zt.bind(d,T,F_,!0)})},!0),Zt.bind(d,"touchend",f,!0),Zt.bind(d,"touchcancel",f,!0);var m=new Ws.Manager(d,{inputClass:Ws.TouchInput,recognizers:[],domEvents:!0}),v=new Ws.Tap,b=new Ws.Pan({threshold:10}),_=new Ws.Press,x=new Ws.Pinch,w=new Ws.Tap({event:"doubletap",taps:2});return x.requireFailure(b),x.requireFailure(_),m.add([b,_,x,w,v]),m.reset=function(S){var T=this.recognizers,P=this.session;P.stopped||(m.stop(S),setTimeout(function(){var M,k;for(M=0;k=T[M];M++)k.reset(),k.state=8;P.curRecognizer=null},0))},m.on("hammer.input",function(S){S.srcEvent.defaultPrevented&&m.reset(!0)}),m}function B_(d,f,m,v,b){var _,x=Ch("dragging",d),w=Ch("move",d),S=Ch("contextPad",d),T=Ch("palette",d);function P(R,I){return function($){var W=M($.target),H=W&&v.get(W);return I&&($.srcEvent.button=I),b.fire(R,$,H)}}function M(R){return ar(R,"svg, .djs-element",!0)}x&&m.on("drag.move",function(R){var I=R.originalEvent;if(I&&!(I instanceof MouseEvent)){var $=dc(I),W=M(document.elementFromPoint($.x,$.y)),H=W&&v.get(W);H!==R.hover&&(R.hover&&x.out(R),H&&(x.hover({element:H,gfx:W}),R.hover=H,R.hoverGfx=W))}}),S&&m.on("contextPad.create",function(R){var I=sS(R.pad.html);I.on("panstart",function($){S.trigger("dragstart",$,!0)}),I.on("press",function($){S.trigger("dragstart",$,!0)}),I.on("tap",function($){S.trigger("click",$)})}),T&&m.on("palette.create",function(R){var I=sS(R.container);I.on("panstart",function($){T.trigger("dragstart",$,!0)}),I.on("press",function($){T.trigger("dragstart",$,!0)}),I.on("tap",function($){T.trigger("click",$)})}),m.on("canvas.init",function(R){!function k(R){function I($){var W=M($.target),H=W&&v.get(W);if(w&&f.getRootElement()!==H)return w.start($,H,!0);!function(z){var Q=0,J=0;function oe(Ee){f.scroll({dx:Ee.deltaX-Q,dy:Ee.deltaY-J}),Q=Ee.deltaX,J=Ee.deltaY}function we(Ee){_.off("panmove",oe),_.off("panend",we),_.off("pancancel",we)}_.on("panmove",oe),_.on("panend",we),_.on("pancancel",we)}()}(_=sS(R)).on("tap",P("element.click")),_.on("doubletap",P("element.dblclick",1)),_.on("panstart",I),_.on("press",I),_.on("pinchstart",function($){var W=f.zoom(),H=$.center;function z(J){var we=Math.max(.2,Math.min(4,(1-(1-J.scale)/1.5)*W));f.zoom(we,H),F_(J)}function Q(J){_.off("pinchmove",z),_.off("pinchend",Q),_.off("pinchcancel",Q),_.reset(!0)}_.on("pinchmove",z),_.on("pinchend",Q),_.on("pinchcancel",Q)})}(R.svg)})}function ws(d){var f=this;d.on("canvas.init",function(m){f.addBBoxMarker(m.svg)})}B_.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],ws.$inject=["eventBus"],ws.prototype.addBBoxMarker=function(d){var f={fill:"none",class:"outer-bound-marker"},m=Rt("rect");Et(m,{x:-1e4,y:1e4,width:10,height:10}),Et(m,f),rn(d,m);var v=Rt("rect");Et(v,{x:1e4,y:1e4,width:10,height:10}),Et(v,f),rn(d,v)};var Gu={__depends__:[{__depends__:[y2],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",B_],touchFix:["type",ws]}]};function M2(d){return d&&d[d.length-1]}function Bl(d){return d.y}function Qc(d){return d.x}var FO={left:Qc,center:Qc,right:function(d){return d.x+d.width},top:Bl,middle:Bl,bottom:function(d){return d.y+d.height}};function Sp(d,f){this._modeling=d,this._rules=f}Sp.$inject=["modeling","rules"],Sp.prototype._getOrientationDetails=function(d){var f="x",m="width";return-1!==["top","bottom","middle"].indexOf(d)&&(f="y",m="height"),{axis:f,dimension:m}},Sp.prototype._isType=function(d,f){return-1!==f.indexOf(d)},Sp.prototype._alignmentPosition=function(d,f){var m,v,b,k,_=this._getOrientationDetails(d),x=_.axis,w=_.dimension,S={},T={},P=!1;if(this._isType(d,["left","top"]))S[d]=f[0][x];else if(this._isType(d,["right","bottom"]))b=M2(f),S[d]=b[x]+b[w];else if(this._isType(d,["center","middle"])){if(ge(f,function(M){var k=M[x]+Math.round(M[w]/2);T[k]?T[k].elements.push(M):T[k]={elements:[M],center:k}}),m=qr(T,function(M){return M.elements.length>1&&(P=!0),M.elements.length}),P)return S[d]=M2(m).center,S;v=f[0],b=M2(f=qr(f,function(M){return M[x]+M[w]})),S[d]=(k=b,Math.round((v[x]+k[x]+k[w])/2))}return S},Sp.prototype.trigger=function(d,f){var m,v=this._modeling,b=kt(d,function(w){return!(w.waypoints||w.host||w.labelTarget)});if(dt(m=this._rules.allowed("elements.align",{elements:b}))&&(b=m),!(b.length<2)&&m){var _=qr(b,FO[f]),x=this._alignmentPosition(f,_);v.alignElements(_,x)}};var BO={__init__:["alignElements"],alignElements:["type",Sp]},O2=".entry";function Cs(d,f,m,v){this._canvas=d,this._eventBus=m,this._overlays=v;var b=nn(f&&f.scale)?f.scale:{min:1,max:1.5};this._overlaysConfig={scale:b},this._current=null,this._init()}function k2(d,f){return-1!==d.indexOf(f)}Cs.$inject=["canvas","config.contextPad","eventBus","overlays"],Cs.prototype._init=function(){var d=this;this._eventBus.on("selection.changed",function(f){var m=f.newSelection,v=m.length?1===m.length?m[0]:m:null;v?d.open(v,!0):d.close()}),this._eventBus.on("elements.changed",function(f){var m=f.elements,v=d._current;if(v){var b=v.target;Ci(dt(b)?b:[b],function(_){return k2(m,_)})&&d.open(b,!0)}})},Cs.prototype.registerProvider=function(d,f){f||(f=d,d=1e3),this._eventBus.on("contextPad.getProviders",d,function(m){m.providers.push(f)})},Cs.prototype.getEntries=function(d){var f=this._getProviders(),m=dt(d)?"getMultiElementContextPadEntries":"getContextPadEntries",v={};return ge(f,function(b){if(wn(b[m])){var _=b[m](d);wn(_)?v=_(v):ge(_,function(x,w){v[w]=x})}}),v},Cs.prototype.trigger=function(d,f,m){var v,b,_=f.delegateTarget||f.target;return _?(v=Ue(_,"data-action"),b=f.originalEvent||f,"mouseover"===d?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(v,"hover",b,m)},300):"mouseout"===d&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(v,d,b,m)):f.preventDefault()},Cs.prototype.triggerEntry=function(d,f,m,v){if(this.isShown()){var b=this._current.target,_=this._current.entries[d];if(_){var x=_.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:_,event:m})){if(wn(x)){if("click"===f)return x(m,b,v)}else if(x[f])return x[f](m,b,v);m.preventDefault()}}}},Cs.prototype.open=function(d,f){!f&&this.isOpen(d)||(this.close(),this._updateAndOpen(d))},Cs.prototype._getProviders=function(){var d=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(d),d.providers},Cs.prototype._updateAndOpen=function(d){var f,m=this.getEntries(d),v=this.getPad(d),b=v.html;ge(m,function(_,x){var w,M,k,S=_.group||"default",T=Sr(_.html||'<div class="entry" draggable="true"></div>');Ue(T,"data-action",x),(w=vr("[data-group="+G1(S)+"]",b))||(Ue(w=Sr('<div class="group"></div>'),"data-group",S),b.appendChild(w)),w.appendChild(T),_.className&&(M=_.className,k=$t(T),(M=dt(M)?M:M.split(/\s+/g)).forEach(function(R){k.add(R)})),_.title&&Ue(T,"title",_.title),_.imageUrl&&(Ue(f=Sr("<img>"),"src",_.imageUrl),f.style.width="100%",f.style.height="100%",T.appendChild(f))}),$t(b).add("open"),this._current={target:d,entries:m,pad:v},this._eventBus.fire("contextPad.open",{current:this._current})},Cs.prototype.getPad=function(d){if(this.isOpen())return this._current.pad;var f=this,m=this._overlays,v=Sr('<div class="djs-context-pad"></div>'),b=this._getPosition(d),_=de({html:v},this._overlaysConfig,b);Ai.bind(v,O2,"click",function(S){f.trigger("click",S)}),Ai.bind(v,O2,"dragstart",function(S){f.trigger("dragstart",S)}),Ai.bind(v,O2,"mouseover",function(S){f.trigger("mouseover",S)}),Ai.bind(v,O2,"mouseout",function(S){f.trigger("mouseout",S)}),Zt.bind(v,"mousedown",function(S){S.stopPropagation()});var x=this._canvas.getRootElement();this._overlayId=m.add(x,"context-pad",_);var w=m.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:d,pad:w}),w},Cs.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Cs.prototype.isOpen=function(d){var f=this._current;if(!f)return!1;if(!d)return!0;var m=f.target;return dt(d)===dt(m)&&(dt(d)?d.length===m.length&&ki(d,function(v){return k2(m,v)}):m===d)},Cs.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},Cs.prototype._getPosition=function(d){var f=si(dt(d)?d:[d]);return{position:{left:f.x+f.width+12,top:f.y-6}}};var Sh,qn,aS,Dh,A2,V_={__depends__:[y2,M_],contextPad:["type",Cs]},W1={},j_=[],lS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Zc(d,f){for(var m in f)d[m]=f[m];return d}function cS(d){var f=d.parentNode;f&&f.removeChild(d)}function Ss(d,f,m){var v,b,_,x={};for(_ in f)"key"==_?v=f[_]:"ref"==_?b=f[_]:x[_]=f[_];if(arguments.length>2&&(x.children=arguments.length>3?Sh.call(arguments,2):m),"function"==typeof d&&null!=d.defaultProps)for(_ in d.defaultProps)void 0===x[_]&&(x[_]=d.defaultProps[_]);return Jc(d,x,v,b,null)}function Jc(d,f,m,v,b){var _={type:d,props:f,key:m,ref:v,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:b??++aS};return null==b&&null!=qn.vnode&&qn.vnode(_),_}function li(d){return d.children}function R2(d,f){this.props=d,this.context=f}function X1(d,f){if(null==f)return d.__?X1(d.__,d.__.__k.indexOf(d)+1):null;for(var m;f<d.__k.length;f++)if(null!=(m=d.__k[f])&&null!=m.__e)return m.__e;return"function"==typeof d.type?X1(d):null}function uS(d){var f,m;if(null!=(d=d.__)&&null!=d.__c){for(d.__e=d.__c.base=null,f=0;f<d.__k.length;f++)if(null!=(m=d.__k[f])&&null!=m.__e){d.__e=d.__c.base=m.__e;break}return uS(d)}}function dS(d){(!d.__d&&(d.__d=!0)&&Dh.push(d)&&!Y1.__r++||A2!==qn.debounceRendering)&&((A2=qn.debounceRendering)||setTimeout)(Y1)}function Y1(){for(var d;Y1.__r=Dh.length;)d=Dh.sort(function(f,m){return f.__v.__b-m.__v.__b}),Dh=[],d.some(function(f){var m,v,b,_,x,w;f.__d&&(x=(_=(m=f).__v).__e,(w=m.__P)&&(v=[],(b=Zc({},_)).__v=_.__v+1,Z1(w,_,b,m.__n,void 0!==w.ownerSVGElement,null!=_.__h?[x]:null,v,x??X1(_),_.__h),z_(v,_),_.__e!=x&&uS(_)))})}function $_(d,f,m,v,b,_,x,w,S,T){var P,M,k,R,I,$,W,H=v&&v.__k||j_,z=H.length;for(m.__k=[],P=0;P<f.length;P++)if(null!=(R=m.__k[P]=null==(R=f[P])||"boolean"==typeof R?null:"string"==typeof R||"number"==typeof R||"bigint"==typeof R?Jc(null,R,null,null,R):Array.isArray(R)?Jc(li,{children:R},null,null,null):R.__b>0?Jc(R.type,R.props,R.key,R.ref?R.ref:null,R.__v):R)){if(R.__=m,R.__b=m.__b+1,null===(k=H[P])||k&&R.key==k.key&&R.type===k.type)H[P]=void 0;else for(M=0;M<z;M++){if((k=H[M])&&R.key==k.key&&R.type===k.type){H[M]=void 0;break}k=null}Z1(d,R,k=k||W1,b,_,x,w,S,T),I=R.__e,(M=R.ref)&&k.ref!=M&&(W||(W=[]),k.ref&&W.push(k.ref,null,R),W.push(M,R.__c||I,R)),null!=I?(null==$&&($=I),"function"==typeof R.type&&R.__k===k.__k?R.__d=S=Th(R,S,d):S=mc(d,R,k,H,I,S),"function"==typeof m.type&&(m.__d=S)):S&&k.__e==S&&S.parentNode!=d&&(S=X1(k))}for(m.__e=$,P=z;P--;)null!=H[P]&&Tp(H[P],H[P]);if(W)for(P=0;P<W.length;P++)hS(W[P],W[++P],W[++P])}function Th(d,f,m){for(var v,b=d.__k,_=0;b&&_<b.length;_++)(v=b[_])&&(v.__=d,f="function"==typeof v.type?Th(v,f,m):mc(m,v,v,b,v.__e,f));return f}function mc(d,f,m,v,b,_){var x,w,S;if(void 0!==f.__d)x=f.__d,f.__d=void 0;else if(null==m||b!=_||null==b.parentNode)e:if(null==_||_.parentNode!==d)d.appendChild(b),x=null;else{for(w=_,S=0;(w=w.nextSibling)&&S<v.length;S+=1)if(w==b)break e;d.insertBefore(b,_),x=_}return void 0!==x?x:b.nextSibling}function pS(d,f,m){"-"===f[0]?d.setProperty(f,m):d[f]=null==m?"":"number"!=typeof m||lS.test(f)?m:m+"px"}function Dp(d,f,m,v,b){var _;e:if("style"===f)if("string"==typeof m)d.style.cssText=m;else{if("string"==typeof v&&(d.style.cssText=v=""),v)for(f in v)m&&f in m||pS(d.style,f,"");if(m)for(f in m)v&&m[f]===v[f]||pS(d.style,f,m[f])}else if("o"===f[0]&&"n"===f[1])_=f!==(f=f.replace(/Capture$/,"")),f=f.toLowerCase()in d?f.toLowerCase().slice(2):f.slice(2),d.l||(d.l={}),d.l[f+_]=m,m?v||d.addEventListener(f,_?Q1:K1,_):d.removeEventListener(f,_?Q1:K1,_);else if("dangerouslySetInnerHTML"!==f){if(b)f=f.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==f&&"list"!==f&&"form"!==f&&"tabIndex"!==f&&"download"!==f&&f in d)try{d[f]=m??"";break e}catch{}"function"==typeof m||(null==m||!1===m&&-1==f.indexOf("-")?d.removeAttribute(f):d.setAttribute(f,m))}}function K1(d){this.l[d.type+!1](qn.event?qn.event(d):d)}function Q1(d){this.l[d.type+!0](qn.event?qn.event(d):d)}function Z1(d,f,m,v,b,_,x,w,S){var T,P,M,k,R,I,$,W,H,z,Q,J,oe,we,Ee,Te=f.type;if(void 0!==f.constructor)return null;null!=m.__h&&(S=m.__h,w=f.__e=m.__e,f.__h=null,_=[w]),(T=qn.__b)&&T(f);try{e:if("function"==typeof Te){if(W=f.props,H=(T=Te.contextType)&&v[T.__c],z=T?H?H.props.value:T.__:v,m.__c?$=(P=f.__c=m.__c).__=P.__E:("prototype"in Te&&Te.prototype.render?f.__c=P=new Te(W,z):(f.__c=P=new R2(W,z),P.constructor=Te,P.render=J1),H&&H.sub(P),P.props=W,P.state||(P.state={}),P.context=z,P.__n=v,M=P.__d=!0,P.__h=[],P._sb=[]),null==P.__s&&(P.__s=P.state),null!=Te.getDerivedStateFromProps&&(P.__s==P.state&&(P.__s=Zc({},P.__s)),Zc(P.__s,Te.getDerivedStateFromProps(W,P.__s))),k=P.props,R=P.state,M)null==Te.getDerivedStateFromProps&&null!=P.componentWillMount&&P.componentWillMount(),null!=P.componentDidMount&&P.__h.push(P.componentDidMount);else{if(null==Te.getDerivedStateFromProps&&W!==k&&null!=P.componentWillReceiveProps&&P.componentWillReceiveProps(W,z),!P.__e&&null!=P.shouldComponentUpdate&&!1===P.shouldComponentUpdate(W,P.__s,z)||f.__v===m.__v){for(P.props=W,P.state=P.__s,f.__v!==m.__v&&(P.__d=!1),P.__v=f,f.__e=m.__e,f.__k=m.__k,f.__k.forEach(function(Ne){Ne&&(Ne.__=f)}),Q=0;Q<P._sb.length;Q++)P.__h.push(P._sb[Q]);P._sb=[],P.__h.length&&x.push(P);break e}null!=P.componentWillUpdate&&P.componentWillUpdate(W,P.__s,z),null!=P.componentDidUpdate&&P.__h.push(function(){P.componentDidUpdate(k,R,I)})}if(P.context=z,P.props=W,P.__v=f,P.__P=d,J=qn.__r,oe=0,"prototype"in Te&&Te.prototype.render){for(P.state=P.__s,P.__d=!1,J&&J(f),T=P.render(P.props,P.state,P.context),we=0;we<P._sb.length;we++)P.__h.push(P._sb[we]);P._sb=[]}else do{P.__d=!1,J&&J(f),T=P.render(P.props,P.state,P.context),P.state=P.__s}while(P.__d&&++oe<25);P.state=P.__s,null!=P.getChildContext&&(v=Zc(Zc({},v),P.getChildContext())),M||null==P.getSnapshotBeforeUpdate||(I=P.getSnapshotBeforeUpdate(k,R)),Ee=null!=T&&T.type===li&&null==T.key?T.props.children:T,$_(d,Array.isArray(Ee)?Ee:[Ee],f,m,v,b,_,x,w,S),P.base=f.__e,f.__h=null,P.__h.length&&x.push(P),$&&(P.__E=P.__=null),P.__e=!1}else null==_&&f.__v===m.__v?(f.__k=m.__k,f.__e=m.__e):f.__e=function fS(d,f,m,v,b,_,x,w){var S,T,P,M=m.props,k=f.props,R=f.type,I=0;if("svg"===R&&(b=!0),null!=_)for(;I<_.length;I++)if((S=_[I])&&"setAttribute"in S==!!R&&(R?S.localName===R:3===S.nodeType)){d=S,_[I]=null;break}if(null==d){if(null===R)return document.createTextNode(k);d=b?document.createElementNS("http://www.w3.org/2000/svg",R):document.createElement(R,k.is&&k),_=null,w=!1}if(null===R)M===k||w&&d.data===k||(d.data=k);else{if(_=_&&Sh.call(d.childNodes),T=(M=m.props||W1).dangerouslySetInnerHTML,P=k.dangerouslySetInnerHTML,!w){if(null!=_)for(M={},I=0;I<d.attributes.length;I++)M[d.attributes[I].name]=d.attributes[I].value;(P||T)&&(P&&(T&&P.__html==T.__html||P.__html===d.innerHTML)||(d.innerHTML=P&&P.__html||""))}if(function($,W,H,z,Q){var J;for(J in H)"children"===J||"key"===J||J in W||Dp($,J,null,H[J],z);for(J in W)Q&&"function"!=typeof W[J]||"children"===J||"key"===J||"value"===J||"checked"===J||H[J]===W[J]||Dp($,J,W[J],H[J],z)}(d,k,M,b,w),P)f.__k=[];else if(I=f.props.children,$_(d,Array.isArray(I)?I:[I],f,m,v,b&&"foreignObject"!==R,_,x,_?_[0]:m.__k&&X1(m,0),w),null!=_)for(I=_.length;I--;)null!=_[I]&&cS(_[I]);w||("value"in k&&void 0!==(I=k.value)&&(I!==d.value||"progress"===R&&!I||"option"===R&&I!==M.value)&&Dp(d,"value",I,M.value,!1),"checked"in k&&void 0!==(I=k.checked)&&I!==d.checked&&Dp(d,"checked",I,M.checked,!1))}return d}(m.__e,f,m,v,b,_,x,S);(T=qn.diffed)&&T(f)}catch(Ne){f.__v=null,(S||null!=_)&&(f.__e=w,f.__h=!!S,_[_.indexOf(w)]=null),qn.__e(Ne,f,m)}}function z_(d,f){qn.__c&&qn.__c(f,d),d.some(function(m){try{d=m.__h,m.__h=[],d.some(function(v){v.call(m)})}catch(v){qn.__e(v,m.__v)}})}function hS(d,f,m){try{"function"==typeof d?d(f):d.current=f}catch(v){qn.__e(v,m)}}function Tp(d,f,m){var v,b;if(qn.unmount&&qn.unmount(d),(v=d.ref)&&(v.current&&v.current!==d.__e||hS(v,null,f)),null!=(v=d.__c)){if(v.componentWillUnmount)try{v.componentWillUnmount()}catch(_){qn.__e(_,f)}v.base=v.__P=null,d.__c=void 0}if(v=d.__k)for(b=0;b<v.length;b++)v[b]&&Tp(v[b],f,m||"function"!=typeof d.type);m||null==d.__e||cS(d.__e),d.__=d.__e=d.__d=void 0}function J1(d,f,m){return this.constructor(d,m)}function mS(d,f,m){var v,b,_;qn.__&&qn.__(d,f),b=(v="function"==typeof m)?null:m&&m.__k||f.__k,_=[],Z1(f,d=(!v&&m||f).__k=Ss(li,null,[d]),b||W1,W1,void 0!==f.ownerSVGElement,!v&&m?[m]:b?null:f.firstChild?Sh.call(f.childNodes):null,_,!v&&m?m:b?b.__e:f.firstChild,v),z_(_,d)}Sh=j_.slice,qn={__e:function(d,f,m,v){for(var b,_,x;f=f.__;)if((b=f.__c)&&!b.__)try{if((_=b.constructor)&&null!=_.getDerivedStateFromError&&(b.setState(_.getDerivedStateFromError(d)),x=b.__d),null!=b.componentDidCatch&&(b.componentDidCatch(d,v||{}),x=b.__d),x)return b.__E=b}catch(w){d=w}throw d}},aS=0,R2.prototype.setState=function(d,f){var m;m=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Zc({},this.state),"function"==typeof d&&(d=d(Zc({},m),this.props)),d&&Zc(m,d),null!=d&&this.__v&&(f&&this._sb.push(f),dS(this))},R2.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),dS(this))},R2.prototype.render=li,Dh=[],Y1.__r=0;var eg,Io,vS,VO,I2=function(d,f,m,v){var b;f[0]=0;for(var _=1;_<f.length;_++){var x=f[_++],w=f[_]?(f[0]|=x?1:2,m[f[_++]]):f[++_];3===x?v[0]=w:4===x?v[1]=Object.assign(v[1]||{},w):5===x?(v[1]=v[1]||{})[f[++_]]=w:6===x?v[1][f[++_]]+=w+"":x?(b=d.apply(w,I2(d,w,m,["",null])),v.push(b),w[0]?f[0]|=2:(f[_-2]=0,f[_]=b)):v.push(w)}return v},gS=new Map,go=function(d){var f=gS.get(this);return f||gS.set(this,f=new Map),(f=I2(this,f.get(d)||(f.set(d,f=function(m){for(var v,b,_=1,x="",w="",S=[0],T=function(k){1===_&&(k||(x=x.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?S.push(0,k,x):3===_&&(k||x)?(S.push(3,k,x),_=2):2===_&&"..."===x&&k?S.push(4,k,0):2===_&&x&&!k?S.push(5,0,!0,x):_>=5&&((x||!k&&5===_)&&(S.push(_,0,x,b),_=6),k&&(S.push(_,k,0,b),_=6)),x=""},P=0;P<m.length;P++){P&&(1===_&&T(),T(P));for(var M=0;M<m[P].length;M++)v=m[P][M],1===_?"<"===v?(T(),S=[S],_=3):x+=v:4===_?"--"===x&&">"===v?(_=1,x=""):x=v+x[0]:w?v===w?w="":x+=v:'"'===v||"'"===v?w=v:">"===v?(T(),_=1):_&&("="===v?(_=5,b=x,x=""):"/"===v&&(_<5||">"===m[P][M+1])?(T(),3===_&&(S=S[0]),_=S,(S=S[0]).push(2,0,_),_=0):" "===v||"\t"===v||"\n"===v||"\r"===v?(T(),_=2):x+=v),3===_&&"!--"===x&&(_=4,S=S[0])}return T(),S}(d)),f),arguments,[])).length>1?f:f[0]}.bind(Ss),qu=0,yS=[],Q0=[],N2=qn.__b,tg=qn.__r,jO=qn.diffed,H_=qn.__c,U_=qn.unmount;function L2(d,f){qn.__h&&qn.__h(Io,d,qu||f),qu=0;var m=Io.__H||(Io.__H={__:[],__h:[]});return d>=m.__.length&&m.__.push({__V:Q0}),m.__[d]}function Vl(d){return qu=1,function(f,m,v){var b=L2(eg++,2);if(b.t=f,!b.__c&&(b.__=[ES(void 0,m),function(x){var w=b.__N?b.__N[0]:b.__[0],S=b.t(w,x);w!==S&&(b.__N=[S,b.__[1]],b.__c.setState({}))}],b.__c=Io,!Io.u)){Io.u=!0;var _=Io.shouldComponentUpdate;Io.shouldComponentUpdate=function(x,w,S){if(!b.__c.__H)return!0;var T=b.__c.__H.__.filter(function(M){return M.__c});if(T.every(function(M){return!M.__N}))return!_||_.call(this,x,w,S);var P=!1;return T.forEach(function(M){if(M.__N){var k=M.__[0];M.__=M.__N,M.__N=void 0,k!==M.__[0]&&(P=!0)}}),!(!P&&b.__c.props===x)&&(!_||_.call(this,x,w,S))}}return b.__N||b.__}(ES,d)}function G_(d,f){var m=L2(eg++,3);!qn.__s&&B2(m.__H,f)&&(m.__=d,m.i=f,Io.__H.__h.push(m))}function Pp(d,f){var m=L2(eg++,4);!qn.__s&&B2(m.__H,f)&&(m.__=d,m.i=f,Io.__h.push(m))}function ng(d){return qu=5,Ph(function(){return{current:d}},[])}function Ph(d,f){var m=L2(eg++,7);return B2(m.__H,f)?(m.__V=d(),m.i=f,m.__h=d,m.__V):m.__}function Wu(d,f){return qu=8,Ph(function(){return d},f)}function q_(){for(var d;d=yS.shift();)if(d.__P&&d.__H)try{d.__H.__h.forEach(rg),d.__H.__h.forEach(F2),d.__H.__h=[]}catch(f){d.__H.__h=[],qn.__e(f,d.__v)}}qn.__b=function(d){Io=null,N2&&N2(d)},qn.__r=function(d){tg&&tg(d),eg=0;var f=(Io=d.__c).__H;f&&(vS===Io?(f.__h=[],Io.__h=[],f.__.forEach(function(m){m.__N&&(m.__=m.__N),m.__V=Q0,m.__N=m.i=void 0})):(f.__h.forEach(rg),f.__h.forEach(F2),f.__h=[])),vS=Io},qn.diffed=function(d){jO&&jO(d);var f=d.__c;f&&f.__H&&(f.__H.__h.length&&(1!==yS.push(f)&&VO===qn.requestAnimationFrame||((VO=qn.requestAnimationFrame)||_S)(q_)),f.__H.__.forEach(function(m){m.i&&(m.__H=m.i),m.__V!==Q0&&(m.__=m.__V),m.i=void 0,m.__V=Q0})),vS=Io=null},qn.__c=function(d,f){f.some(function(m){try{m.__h.forEach(rg),m.__h=m.__h.filter(function(v){return!v.__||F2(v)})}catch(v){f.some(function(b){b.__h&&(b.__h=[])}),f=[],qn.__e(v,m.__v)}}),H_&&H_(d,f)},qn.unmount=function(d){U_&&U_(d);var f,m=d.__c;m&&m.__H&&(m.__H.__.forEach(function(v){try{rg(v)}catch(b){f=b}}),m.__H=void 0,f&&qn.__e(f,m.__v))};var bS="function"==typeof requestAnimationFrame;function _S(d){var f,m=function(){clearTimeout(v),bS&&cancelAnimationFrame(f),setTimeout(d)},v=setTimeout(m,100);bS&&(f=requestAnimationFrame(m))}function rg(d){var f=Io,m=d.__c;"function"==typeof m&&(d.__c=void 0,m()),Io=f}function F2(d){var f=Io;d.__c=d.__(),Io=f}function B2(d,f){return!d||d.length!==f.length||f.some(function(m,v){return m!==d[v]})}function ES(d,f){return"function"==typeof f?f(d):f}function ig(d){var f,m,v="";if("string"==typeof d||"number"==typeof d)v+=d;else if("object"==typeof d)if(Array.isArray(d))for(f=0;f<d.length;f++)d[f]&&(m=ig(d[f]))&&(v&&(v+=" "),v+=m);else for(f in d)d[f]&&(v&&(v+=" "),v+=f);return v}function eu(){for(var d,f,m=0,v="";m<arguments.length;)(d=arguments[m++])&&(f=ig(d))&&(v&&(v+=" "),v+=f);return v}function $O(d){const{entry:f,selected:m,onMouseEnter:v,onMouseLeave:b,onAction:_}=d;return go`
    <li
      class=${eu("entry",{selected:m})}
      data-id=${f.id}
      title=${f.title||f.label}
      onClick=${_}
      onMouseEnter=${v}
      onMouseLeave=${b}
      onDragStart=${x=>_(x,f,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${eu("djs-popup-entry-name",f.className)}
        >
          ${f.imageUrl&&go`<img class="djs-popup-entry-icon" src=${f.imageUrl} alt="" />`||f.imageHtml&&go`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:f.imageHtml}} />`}

          ${f.label?go`
            <span class="djs-popup-label">
              ${f.label}
            </span>
          `:null}
        </span>
        ${f.description&&go`
          <span
            class="djs-popup-entry-description"
            title=${f.description}
          >
            ${f.description}
          </span>
        `}
      </div>
      ${f.documentationRef&&go`
        <div class="djs-popup-entry-docs">
          <a
            href="${f.documentationRef}"
            onClick=${x=>x.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function xS(d){const{selectedEntry:f,setSelectedEntry:m,entries:v,...b}=d,_=ng(),x=Ph(()=>function(w){const S=[],T=k=>S.find(R=>k.id===R.id);return w.forEach(k=>{const R=k.group?(k=>"string"==typeof k?{id:k}:k)(k.group):{id:"default"};(k=>!!T(k))(R)?T(R).entries.push(k):S.push({...R,entries:[k]})}),S}(v),[v]);return Pp(()=>{const w=_.current;if(!w)return;const S=w.querySelector(".selected");var T;S&&("function"==typeof(T=S).scrollIntoViewIfNeeded?T.scrollIntoViewIfNeeded():T.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[f]),go`
    <div class="djs-popup-results" ref=${_}>
      ${x.map(w=>go`
        ${w.name&&go`
          <div key=${w.id} class="entry-header" title=${w.name}>
            ${w.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${w.id}>
          ${w.entries.map(S=>go`
            <${$O}
              key=${S.id}
              entry=${S}
              selected=${S===f}
              onMouseEnter=${()=>m(S)}
              onMouseLeave=${()=>m(null)}
              ...${b}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function wS(d){const{onClose:f,onSelect:m,className:v,headerEntries:b,position:_,title:x,width:w,scale:S,search:T,entries:P,onOpened:M,onClosed:k}=d,R=Ph(()=>!!nn(T)&&P.length>5,[T,P]),I=ng(),[$,W]=Vl(""),H=Wu((gt,$e)=>R?gt.filter(Qe=>{if(!$e)return(Qe.rank||0)>=0;const pn=[Qe.description||"",Qe.label||"",Qe.search||""].join("---").toLowerCase();return $e.toLowerCase().split(/\s/g).every(ue=>pn.includes(ue))}):gt,[R]),[z,Q]=Vl(H(P,$)),[J,oe]=Vl(z[0]),we=Wu(gt=>{J&&gt.includes(J)||oe(gt[0]),Q(gt)},[J,Q,oe]);G_(()=>{we(H(P,$))},[$,P]),G_(()=>{const gt=$e=>{if("Escape"===$e.key)return $e.preventDefault(),f()};return document.documentElement.addEventListener("keydown",gt),()=>{document.documentElement.removeEventListener("keydown",gt)}},[]),Pp(()=>{I.current&&I.current.focus()},[]);const Ee=Wu(gt=>{let $e=z.indexOf(J)+gt;$e<0&&($e=z.length-1),$e>=z.length&&($e=0),oe(z[$e])},[z,J,oe]),Te=Wu(gt=>"Enter"===gt.key&&J?m(gt,J):"ArrowUp"===gt.key||"Tab"===gt.key&&gt.shiftKey?(Ee(-1),gt.preventDefault()):"ArrowDown"===gt.key||"Tab"===gt.key?(Ee(1),gt.preventDefault()):void 0,[m,f,J,Ee]),Ne=Wu(gt=>{Lr(gt.target,"input")&&W(()=>gt.target.value)},[W]);G_(()=>(M(),()=>{k()}),[]);const Kt=Ph(()=>x||b.length>0,[x,b]);return go`
    <${Mp}
      onClose=${f}
      onKeyup=${Ne}
      onKeydown=${Te}
      className=${v}
      position=${_}
      width=${w}
      scale=${S}
    >
      ${Kt&&go`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${x}>${x}</h3>
          ${b.map(gt=>{return go`
            <span
              class=${$e=gt,Qe=gt===J,eu("entry",$e.className,$e.active?"active":"",$e.disabled?"disabled":"",Qe?"selected":"")}
              onClick=${$e=>m($e,gt)}
              title=${gt.title||gt.label}
              data-id=${gt.id}
              onMouseEnter=${()=>oe(gt)}
              onMouseLeave=${()=>oe(null)}
            >
              ${gt.imageUrl?go`
                <img class="djs-popup-entry-icon" src=${gt.imageUrl} alt="" />
              `:null}

              ${gt.label?go`
                <span class="djs-popup-label">${gt.label}</span>
              `:null}
            </span>
          `;var $e,Qe})}
        </div>
      `}
      ${P.length>0&&go`
        <div class="djs-popup-body">

          ${R&&go`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${I}
                type="text"
              />
          </div>
          `}

          <${xS}
            entries=${z}
            selectedEntry=${J}
            setSelectedEntry=${oe}
            onAction=${m}
          />
        </div>
        ${0===z.length&&go`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${Mp}>
  `}function Mp(d){const{onClose:f,onKeydown:m,onKeyup:v,className:b,children:_,position:x}=d,w=ng(),S=Wu(T=>{ar(T.target,".djs-popup",!0)||f()},[f]);return Pp(()=>{if("function"!=typeof x)return;const T=w.current,P=x(T);T.style.left=`${P.x}px`,T.style.top=`${P.y}px`},[w.current,x]),Pp(()=>{w.current&&w.current.focus()},[]),go`
    <div
      class="djs-popup-backdrop"
      onClick=${S}
    >
      <div
        class=${eu("djs-popup",b)}
        style=${T=d,{transform:`scale(${T.scale})`,width:`${T.width}px`}}
        onKeydown=${m}
        onKeyup=${v}
        ref=${w}
        tabIndex="-1"
      >
        ${_}
      </div>
    </div>
  `;var T}var Op=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Kn(d,f,m){this._eventBus=f,this._canvas=m,this._current=null;var v=nn(d&&d.scale)?d.scale:{min:1,max:1.5};this._config={scale:v},f.on("diagram.destroy",()=>{this.close()}),f.on("element.changed",b=>{const _=this.isOpen()&&this._current.target;b.element===_&&this._render()})}Kn.$inject=["config.popupMenu","eventBus","canvas"],Kn.prototype._render=function(){const{position:d,className:f,entries:m,headerEntries:v,options:b}=this._current,_=Object.entries(m).map(([T,P])=>({id:T,...P})),x=Object.entries(v).map(([T,P])=>({id:T,...P})),w=d&&(T=>this._ensureVisible(T,d)),S=this._updateScale(this._current.container);mS(go`
      <${wS}
        onClose=${T=>this.close(T)}
        onSelect=${(T,P,M)=>this.trigger(T,P,M)}
        position=${w}
        className=${f}
        entries=${_}
        headerEntries=${x}
        scale=${S}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...b}}
      />
    `,this._current.container)},Kn.prototype.open=function(d,f,m,v){if(!d)throw new Error("target is missing");if(!f)throw new Error("providers for <"+f+"> not found");if(!m)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:b,headerEntries:_}=this._getContext(d,f);this._current={position:m,className:f,target:d,entries:b,headerEntries:_,container:this._createContainer({provider:f}),options:v},this._emit("open"),this._bindAutoClose(),this._render()},Kn.prototype._getContext=function(d,f){const m=this._getProviders(f);if(!m||!m.length)throw new Error("provider for <"+f+"> not found");const v=this._getEntries(d,m),b=this._getHeaderEntries(d,m);return{entries:v,headerEntries:b,empty:!(Object.keys(v).length||Object.keys(b).length)}},Kn.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Kn.prototype.reset=function(){const d=this._current.container;mS(null,d),vs(d)},Kn.prototype._emit=function(d,f){this._eventBus.fire(`popupMenu.${d}`,f)},Kn.prototype._onOpened=function(){this._emit("opened")},Kn.prototype._onClosed=function(){this._emit("closed")},Kn.prototype._createContainer=function(d){var f=this._canvas.getContainer();const m=Sr(`<div class="djs-popup-parent djs-scrollable" data-popup=${d.provider}></div>`);return f.appendChild(m),m},Kn.prototype._bindAutoClose=function(){this._eventBus.once(Op,this.close,this)},Kn.prototype._unbindAutoClose=function(){this._eventBus.off(Op,this.close,this)},Kn.prototype._updateScale=function(){var d,f,m=this._canvas.zoom(),v=this._config.scale,b=m;return!0!==v&&(!1===v?(d=1,f=1):(d=v.min,f=v.max),nn(d)&&m<d&&(b=d),nn(f)&&m>f&&(b=f)),b},Kn.prototype._ensureVisible=function(d,f){var m=document.documentElement.getBoundingClientRect(),v=d.getBoundingClientRect(),b={},_=f.x,x=f.y;return f.x+v.width>m.width&&(b.x=!0),f.y+v.height>m.height&&(b.y=!0),b.x&&b.y?(_=f.x-v.width,x=f.y-v.height):b.x?(_=f.x-v.width,x=f.y):b.y&&f.y<v.height?(_=f.x,x=10):b.y&&(_=f.x,x=f.y-v.height),{x:_,y:x}},Kn.prototype.isEmpty=function(d,f){if(!d)throw new Error("target is missing");if(!f)throw new Error("provider ID is missing");const m=this._getProviders(f);return!m||!m.length||this._getContext(d,f).empty},Kn.prototype.registerProvider=function(d,f,m){m||(m=f,f=1e3),this._eventBus.on("popupMenu.getProviders."+d,f,function(v){v.providers.push(m)})},Kn.prototype._getProviders=function(d){var f=this._eventBus.createEvent({type:"popupMenu.getProviders."+d,providers:[]});return this._eventBus.fire(f),f.providers},Kn.prototype._getEntries=function(d,f){var m={};return ge(f,function(v){if(v.getPopupMenuEntries){var b=v.getPopupMenuEntries(d);wn(b)?m=b(m):ge(b,function(_,x){m[x]=_})}else ge(v.getEntries(d),function(_){var x=_.id;if(!x)throw new Error("entry ID is missing");m[x]=Ie(_,["id"])})}),m},Kn.prototype._getHeaderEntries=function(d,f){var m={};return ge(f,function(v){if(v.getPopupMenuHeaderEntries){var b=v.getPopupMenuHeaderEntries(d);wn(b)?m=b(m):ge(b,function(_,x){m[x]=_})}else{if(!v.getHeaderEntries)return;ge(v.getHeaderEntries(d),function(_){var x=_.id;if(!x)throw new Error("entry ID is missing");m[x]=Ie(_,["id"])})}}),m},Kn.prototype.isOpen=function(){return!!this._current},Kn.prototype.trigger=function(d,f,m="click"){if(d.preventDefault(),!f){let b=Ue(ar(d.delegateTarget||d.target,".entry",!0),"data-id");f={id:b,...this._getEntry(b)}}const v=f.action;if(!1!==this._emit("trigger",{entry:f,event:d}))if(wn(v)){if("click"===m)return v(d,f)}else if(v[m])return v[m](d,f)},Kn.prototype._getEntry=function(d){var f=this._current.entries[d]||this._current.headerEntries[d];if(!f)throw new Error("entry not found");return f};var W_={__init__:["popupMenu"],popupMenu:["type",Kn]},Yo={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function Z0(d,f,m,v){d.registerProvider(900,this),this._contextPad=d,this._popupMenu=f,this._translate=m,this._canvas=v}Z0.$inject=["contextPad","popupMenu","translate","canvas"],Z0.prototype.getMultiElementContextPadEntries=function(d){var f={};return this._isAllowed(d)&&de(f,this._getEntries(d)),f},Z0.prototype._isAllowed=function(d){return!this._popupMenu.isEmpty(d,"align-elements")},Z0.prototype._getEntries=function(){var d=this;return{"align-elements":{group:"align-elements",title:d._translate("Align elements"),html:`<div class="entry">${Yo.align}</div>`,action:{click:function(f,m){var v=d._getMenuPosition(m);de(v,{cursor:{x:f.x,y:f.y}}),d._popupMenu.open(m,"align-elements",v)}}}}},Z0.prototype._getMenuPosition=function(d){var f=this._contextPad.getPad(d).html.getBoundingClientRect();return{x:f.left,y:f.bottom+5}};var zO=["left","center","right","top","middle","bottom"];function Mh(d,f,m,v){this._alignElements=f,this._translate=m,this._popupMenu=d,this._rules=v,d.registerProvider("align-elements",this)}function Xs(d){st.call(this,d),this.init()}function V2(d){Xs.call(this,d)}Mh.$inject=["popupMenu","alignElements","translate","rules"],Mh.prototype.getPopupMenuEntries=function(d){var f={};return this._isAllowed(d)&&de(f,this._getEntries(d)),f},Mh.prototype._isAllowed=function(d){return this._rules.allowed("elements.align",{elements:d})},Mh.prototype._getEntries=function(d){var f=this._alignElements,m=this._translate,v=this._popupMenu,b={};return ge(zO,function(_){b["align-elements-"+_]={group:"align",title:m("Align elements "+_),className:"bjs-align-elements-menu-entry",imageHtml:Yo[_],action:function(){f.trigger(d,_),v.close()}}}),b},Xs.$inject=["eventBus"],Ye(Xs,st),Xs.prototype.addRule=function(d,f,m){var v=this;"string"==typeof d&&(d=[d]),d.forEach(function(b){v.canExecute(b,f,function(_,x,w){return m(_)},!0)})},Xs.prototype.init=function(){},V2.$inject=["eventBus"],Ye(V2,Xs),V2.prototype.init=function(){this.addRule("elements.align",function(d){var f=kt(d.elements,function(m){return!(m.waypoints||m.host||m.labelTarget)});return!((f=un(f)).length<2)&&f})};var CS={__depends__:[BO,V_,W_],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Z0],alignElementsMenuProvider:["type",Mh],bpmnAlignElements:["type",V2]},X_=10,og=50,SS=250;function Y_(d,f,m,v){for(var b;b=HO(d,m,f);)m=v(f,m,b);return m}function K_(d){return function(f,m,v){var b={x:m.x,y:m.y};return["x","y"].forEach(function(_){var x=d[_];if(x){var w="x"===_?"width":"height",S=x.margin,T=x.minDistance;b[_]=S<0?Math.min(v[_]+S-f[w]/2,m[_]-T+S):Math.max(v[_]+v[w]+S+f[w]/2,m[_]+T+S)}}),b}}function HO(d,f,m){var _,x,v={x:f.x-m.width/2,y:f.y-m.height/2,width:m.width,height:m.height};return cn((x=j2(_=d),_.host&&(x=x.concat(j2(_.host))),_.attachers&&(x=x.concat(_.attachers.reduce(function(w,S){return w.concat(j2(S))},[]))),x),function(_){return _!==m&&"intersect"===Zr(_,v,X_)})}function j2(d){return(f=d,f.outgoing.map(function(m){return m.target})).concat(d.incoming.map(function(v){return v.source}));var f}function UO(){return!0}function Q_(d,f,m){d.on("autoPlace",100,function(v){return function(_,x,w){w||(w={});var S=w.defaultDistance||og,T=mn(_);return{x:Yt(_).right+S+x.width/2,y:T.y}}(v.source,v.shape)}),d.on("autoPlace.end",function(v){m.scrollToElement(v.shape)}),this.append=function(v,b,_){d.fire("autoPlace.start",{source:v,shape:b});var x=d.fire("autoPlace",{source:v,shape:b}),w=f.appendShape(v,b,x,v.parent,_);return d.fire("autoPlace.end",{source:v,shape:w}),w}}function DS(d,f){d.on("autoPlace.end",500,function(m){f.select(m.shape)})}Q_.$inject=["eventBus","modeling","canvas"],DS.$inject=["eventBus","selection"];var GO={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Q_],autoPlaceSelectionBehavior:["type",DS]};function Z_(d,f){for(Or(f)&&(f=[f]);d=d.parent;)if(Gn(d,f))return d;return null}function J_(d,f){return Y(f,"bpmn:TextAnnotation")?(v=f,_={x:(b=Yt(m=d)).right+v.width/2,y:b.top-50-v.height/2},_i(m)&&((_=mn(m)).x+=100,_.y-=50),Y_(m,v,_,K_({y:{margin:-30,minDistance:20}}))):Gn(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(m,v){var b=Yt(m);return Y_(m,v,{x:b.right-10+v.width/2,y:b.bottom+40+v.width/2},K_({x:{margin:30,minDistance:30}}))}(d,f):Y(f,"bpmn:FlowNode")?function(m,v){var b=Yt(m),_=mn(m),x=function(M,k){k||(k={});var R=k.defaultDistance||og,I=k.direction||"e",$=k.filter,W=k.getWeight||function(Ee){return Ee.source===M?1:-1},H=k.maxDistance||SS,z=k.reference||"start";function Q(Ee,Te){return"n"===I?"start"===z?Yt(Ee).top-Yt(Te).bottom:"center"===z?Yt(Ee).top-mn(Te).y:Yt(Ee).top-Yt(Te).top:"w"===I?"start"===z?Yt(Ee).left-Yt(Te).right:"center"===z?Yt(Ee).left-mn(Te).x:Yt(Ee).left-Yt(Te).left:"s"===I?"start"===z?Yt(Te).top-Yt(Ee).bottom:"center"===z?mn(Te).y-Yt(Ee).bottom:Yt(Te).bottom-Yt(Ee).bottom:"start"===z?Yt(Te).left-Yt(Ee).right:"center"===z?mn(Te).x-Yt(Ee).right:Yt(Te).right-Yt(Ee).right}$||($=UO);var J=M.incoming.filter($).map(function(Ee){var Te=W(Ee),Ne=Te<0?Q(Ee.source,M):Q(M,Ee.source);return{id:Ee.source.id,distance:Ne,weight:Te}}),oe=M.outgoing.filter($).map(function(Ee){var Te=W(Ee),Ne=Te>0?Q(M,Ee.target):Q(Ee.target,M);return{id:Ee.target.id,distance:Ne,weight:Te}});return Gr(J.concat(oe).reduce(function(Ee,Te){return Ee[Te.id+"__weight_"+Te.weight]=Te,Ee},{}),function(Ee,Te){var Ne=Te.distance,Kt=Te.weight;return Ne<0||Ne>H||(Ee[String(Ne)]||(Ee[String(Ne)]=0),Ee[String(Ne)]+=1*Kt,(!Ee.distance||Ee[Ee.distance]<Ee[String(Ne)])&&(Ee.distance=Ne)),Ee},{}).distance||R}(m,{filter:function(M){return Y(M,"bpmn:SequenceFlow")}}),w=30,T="left";return Y(m,"bpmn:BoundaryEvent")&&-1!==(T=Zr(m,m.host,-25)).indexOf("top")&&(w*=-1),Y_(m,v,{x:b.right+x+v.width/2,y:_.y+TS(T,80)},K_({y:{margin:w,minDistance:80}}))}(d,f):void 0;var m,v,b,_}function TS(d,f){return d.includes("top")?-1*f:d.includes("bottom")?f:0}function Ys(d){d.on("autoPlace",function(f){return J_(f.source,f.shape)})}Ys.$inject=["eventBus"];var qO={__depends__:[GO],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",Ys]};function tu(d,f,m,v){st.call(this,d),this._elementRegistry=f,this._modeling=m,this._rules=v;var b=this;this.postExecuted(["shape.create"],function(_){var x=_.context;!1!==(x.hints||{}).autoResize&&b._expand([x.shape],x.parent||x.newParent)}),this.postExecuted(["elements.move"],function(_){var x=_.context,w=tn(ms(x.closure.topLevel)),S=x.hints,T=!S||S.autoResize;!1!==T&&ge(Po(w,function(P){return P.parent.id}),function(P,M){dt(T)&&(P=P.filter(function(k){return cn(T,po({id:k.id}))})),b._expand(P,M)})}),this.postExecuted(["shape.toggleCollapse"],function(_){var x=_.context,w=x.hints,S=x.shape;w&&!1===w.autoResize||S.collapsed||b._expand(S.children||[],S)}),this.postExecuted(["shape.resize"],function(_){var x=_.context,w=x.hints,S=x.shape,T=S.parent;w&&!1===w.autoResize||T&&b._expand([S],T)})}function e4(d){d.invoke(tu,this)}function kp(d){Xs.call(this,d);var f=this;this.addRule("element.autoResize",function(m){return f.canResize(m.elements,m.target)})}function nl(d,f){kp.call(this,d),this._modeling=f}tu.$inject=["eventBus","elementRegistry","modeling","rules"],Ye(tu,st),tu.prototype._getOptimalBounds=function(d,f){var m=this.getOffset(f),v=this.getPadding(f),b=Yt(si(d)),_=Yt(f),x={};return b.top-_.top<v.top&&(x.top=b.top-m.top),b.left-_.left<v.left&&(x.left=b.left-m.left),_.right-b.right<v.right&&(x.right=b.right+m.right),_.bottom-b.bottom<v.bottom&&(x.bottom=b.bottom+m.bottom),Jn(de({},_,x))},tu.prototype._expand=function(d,f){if("string"==typeof f&&(f=this._elementRegistry.get(f)),this._rules.allowed("element.autoResize",{elements:d,target:f})){var m=this._getOptimalBounds(d,f);if((_=m).x!==(x=f).x||_.y!==x.y||_.width!==x.width||_.height!==x.height){var v=function(_,x){var w="";return _=Yt(_),x=Yt(x),_.top>x.top&&(w=w.concat("n")),_.right<x.right&&(w=w.concat("w")),_.bottom<x.bottom&&(w=w.concat("s")),_.left>x.left&&(w=w.concat("e")),w}(Nt(f,["x","y","width","height"]),m);this.resize(f,m,{autoResize:v});var b=f.parent;b&&this._expand([f],b)}}var _,x},tu.prototype.getOffset=function(d){return{top:60,bottom:60,left:100,right:100}},tu.prototype.getPadding=function(d){return{top:2,bottom:2,left:15,right:15}},tu.prototype.resize=function(d,f,m){this._modeling.resizeShape(d,f,null,m)},e4.$inject=["injector"],Ye(e4,tu),e4.prototype.resize=function(d,f,m){Y(d,"bpmn:Participant")?this._modeling.resizeLane(d,f,null,m):this._modeling.resizeShape(d,f,null,m)},kp.$inject=["eventBus"],Ye(kp,Xs),kp.prototype.canResize=function(d,f){return!1},Ye(nl,kp),nl.$inject=["eventBus","modeling"],nl.prototype.canResize=function(d,f){if(Y(f.di,"bpmndi:BPMNPlane")||!Y(f,"bpmn:Participant")&&!Y(f,"bpmn:Lane")&&!Y(f,"bpmn:SubProcess"))return!1;var m=!0;return ge(d,function(v){(Y(v,"bpmn:Lane")||br(v))&&(m=!1)}),m};var PS={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",e4],bpmnAutoResizeProvider:["type",nl]};function Ap(d,f,m){var v,b,_=this,x=m.get("dragging",!1);x&&f.on("drag.start",function(w){f.once("drag.move",1500,function(S){!function(T){if(!T.hover){var P=T.originalEvent,M=_._findTargetGfx(P),k=M&&d.get(M);M&&k&&(T.stopPropagation(),x.hover({element:k,gfx:M}),x.move(P))}}(S)})}),f.on("element.hover",function(w){v=w.gfx,b=w.element}),f.on("element.hover",1500,function(w){b&&f.fire("element.out",{element:b,gfx:v})}),f.on("element.out",function(){v=null,b=null}),this._findTargetGfx=function(w){var S;if(w instanceof MouseEvent)return S=dc(w),ar(document.elementFromPoint(S.x,S.y),"svg, .djs-element",!0)}}Ap.$inject=["elementRegistry","eventBus","injector"];var WO={__init__:["hoverFix"],hoverFix:["type",Ap]},Oh=Math.round,t4="djs-drag-active";function kh(d){d.preventDefault()}function XO(d,f,m,v){var b,_={threshold:5,trapClick:!0};function x(H){var z=f.viewbox(),Q=f._container.getBoundingClientRect();return{x:z.x+(H.x-Q.left)/z.scale,y:z.y+(H.y-Q.top)/z.scale}}function w(H,z){var Q=d.createEvent(de({},(z=z||b).payload,z.data,{isTouch:z.isTouch}));return!1!==d.fire("drag."+H,Q)&&d.fire(z.prefix+"."+H,Q)}function S(H,z){var Q,J=b.payload,oe=b.displacement,we=b.globalStart,Ee=dc(H),Te=hc(Ee,we),Ne=b.localStart,Kt=x(Ee),gt=hc(Kt,Ne);if(!b.active&&(z||(Q=Te,Math.sqrt(Math.pow(Q.x,2)+Math.pow(Q.y,2))>b.threshold))){if(de(J,{x:Oh(Ne.x+oe.x),y:Oh(Ne.y+oe.y),dx:0,dy:0},{originalEvent:H}),!1===w("start"))return $();b.active=!0,b.keepSelection||(J.previousSelection=m.get(),m.select(null)),b.cursor&&T2(b.cursor),f.addMarker(f.getRootElement(),t4)}$u(H),b.active&&(de(J,{x:Oh(Kt.x+oe.x),y:Oh(Kt.y+oe.y),dx:Oh(gt.x),dy:Oh(gt.y)},{originalEvent:H}),w("move"))}function T(H){var z=!0;b.active&&(H&&(b.payload.originalEvent=H,$u(H)),z=w("end")),!1===z&&w("rejected"),w("ended",W(!0!==z))}function P(H){Xo("Escape",H)&&(kh(H),$())}function M(H){var z;b.active&&(z=wp(d),setTimeout(z,400),kh(H)),T(H)}function k(H){S(H)}function R(H){var z=b.payload;z.hoverGfx=H.gfx,z.hover=H.element,w("hover")}function I(H){w("out");var z=b.payload;z.hoverGfx=null,z.hover=null}function $(H){var z;if(b){var Q=b.active;Q&&w("cancel"),z=W(H),Q&&w("canceled",z)}}function W(H){var z,Q;w("cleanup"),nS(),Q=b.trapClick?M:T,Zt.unbind(document,"mousemove",S),Zt.unbind(document,"dragstart",kh),Zt.unbind(document,"selectstart",kh),Zt.unbind(document,"mousedown",Q,!0),Zt.unbind(document,"mouseup",Q,!0),Zt.unbind(document,"keyup",P),Zt.unbind(document,"touchstart",k,!0),Zt.unbind(document,"touchcancel",$,!0),Zt.unbind(document,"touchmove",S,!0),Zt.unbind(document,"touchend",T,!0),d.off("element.hover",R),d.off("element.out",I),f.removeMarker(f.getRootElement(),t4);var we,J=b.payload.previousSelection;return!1!==H&&J&&!m.get().length&&(we=J.filter(function(Ee){return v.get(Ee.id)})).length&&m.select(we),z=b,b=null,z}d.on("diagram.destroy",$),this.init=function(H,z,Q,J){b&&$(!1),"string"==typeof z&&(J=Q,Q=z,z=null);var oe,we,Ee,Te,Ne,Kt=(J=de({},_,J||{})).data||{};Te=J.trapClick?M:T,H?(oe=X0(H)||H,we=dc(H),$u(H),"dragstart"===oe.type&&kh(oe)):(oe=null,we={x:0,y:0}),Ee=x(we),z||(z=Ee),Ne=typeof TouchEvent<"u"&&oe instanceof TouchEvent,b=de({prefix:Q,data:Kt,payload:{},globalStart:we,displacement:hc(z,Ee),localStart:Ee,isTouch:Ne},J),J.manual||(Ne?(Zt.bind(document,"touchstart",k,!0),Zt.bind(document,"touchcancel",$,!0),Zt.bind(document,"touchmove",S,!0),Zt.bind(document,"touchend",T,!0)):(Zt.bind(document,"mousemove",S),Zt.bind(document,"dragstart",kh),Zt.bind(document,"selectstart",kh),Zt.bind(document,"mousedown",Te,!0),Zt.bind(document,"mouseup",Te,!0)),Zt.bind(document,"keyup",P),d.on("element.hover",R),d.on("element.out",I)),w("init"),J.autoActivate&&S(H,!0)},this.move=S,this.hover=R,this.out=I,this.end=T,this.cancel=$,this.context=function(){return b},this.setOptions=function(H){de(_,H)}}XO.$inject=["eventBus","canvas","selection","elementRegistry"];var J0={__depends__:[WO,zu],dragging:["type",XO]};function sg(d,f,m){this._canvas=m,this._opts=de({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},d);var v=this;f.on("drag.move",function(b){var _=v._toBorderPoint(b);v.startScroll(_)}),f.on(["drag.cleanup"],function(){v.stopScroll()})}function jz(d,f,m){return f<d&&d<m}sg.$inject=["config.autoScroll","eventBus","canvas"],sg.prototype.startScroll=function(d){var f=this._canvas,m=this._opts,v=this,b=f.getContainer().getBoundingClientRect(),_=[d.x,d.y,b.width-d.x,b.height-d.y];this.stopScroll();for(var x=0,w=0,S=0;S<4;S++)jz(_[S],m.scrollThresholdOut[S],m.scrollThresholdIn[S])&&(0===S?x=m.scrollStep:1==S?w=m.scrollStep:2==S?x=-m.scrollStep:3==S&&(w=-m.scrollStep));0===x&&0===w||(f.scroll({dx:x,dy:w}),this._scrolling=setTimeout(function(){v.startScroll(d)},m.scrollRepeatTimeout))},sg.prototype.stopScroll=function(){clearTimeout(this._scrolling)},sg.prototype.setOptions=function(d){this._opts=de({},this._opts,d)},sg.prototype._toBorderPoint=function(d){var f=this._canvas._container.getBoundingClientRect(),m=dc(d.originalEvent);return{x:m.x-f.left,y:m.y-f.top}};var YO={__depends__:[J0],__init__:["autoScroll"],autoScroll:["type",sg]};function ed(d){this._commandStack=d.get("commandStack",!1)}ed.$inject=["injector"],ed.prototype.allowed=function(d,f){var m=!0,v=this._commandStack;return v&&(m=v.canExecute(d,f)),void 0===m||m};var vo={__init__:["rules"],rules:["type",ed]},ag=Math.round,KO=Math.max,$2=10;function Ii(d,f){return function(m,v){var b,_;for(b=0;_=m[b];b++)if(be(_,v)<=$2)return{point:m[b],bendpoint:!0,index:b};return null}(d,f)||(S=(x=uO([["M",(T=f).x,T.y],["m",0,-(P=$2)],["a",P,P,0,1,1,0,2*P],["a",P,P,0,1,1,0,-2*P],["z"]],(b=[],(m=d).forEach(function(T,P){b.push([0===P?"M":"L",T.x,T.y])}),b)))[x.length-1],(w=x[0])?w!==S?w.segment2!==S.segment2?{point:m[_=KO(w.segment2,S.segment2)-1],bendpoint:!0,index:_}:{point:{x:ag(w.x+S.x)/2,y:ag(w.y+S.y)/2},index:w.segment2}:{point:{x:ag(w.x),y:ag(w.y)},index:w.segment2}:null);var m,b,_,T,P,x,w,S}function MS(d){return Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y,2))}function z2(d){return Math.atan((d[1].y-d[0].y)/(d[1].x-d[0].x))}function Rp(d,f){var x,w,S,T,m=f[0],v=f[1],b={x:v.x-m.x,y:v.y-m.y},_=-((T=[{n:(x=[m.x,m.y])[0]-(S=[d.x,d.y])[0],lambda:(w=[b.x,b.y])[0]},{n:x[1]-S[1],lambda:w[1]}])[0].n*w[0]+T[1].n*w[1])/(T[0].lambda*w[0]+T[1].lambda*w[1]);return{x:m.x+_*b.x,y:m.y+_*b.y}}function OS(d,f){var m=Rp(d,f);return MS({x:m.x-d.x,y:m.y-d.y})}function lg(d,f){return MS({x:d.x-f.x,y:d.y-f.y})}var n4="djs-bendpoint",cg="djs-segment-dragger";function Ah(d,f,m){return Ii(f,function(b,_){var x,w=dc(_),S=b._container.getBoundingClientRect();x={x:S.left,y:S.top};var T=b.viewbox();return{x:T.x+(w.x-x.x)/T.scale,y:T.y+(w.y-x.y)/T.scale}}(d,m))}function ug(d,f){var m=Rt("g");kn(m).add(n4),rn(d,m);var v=Rt("circle");Et(v,{cx:0,cy:0,r:4}),kn(v).add("djs-visual"),rn(m,v);var b=Rt("circle");return Et(b,{cx:0,cy:0,r:10}),kn(b).add("djs-hit"),rn(m,b),f&&kn(m).add(f),m}function kS(d,f,m){var v=Rt("g"),b=Oo(f,m),_=Ot(f,m);return rn(d,v),function QO(d,f,m,v){var b=Rt("g");rn(d,b);var S,T,_=(S=f,T=m,AS("h"===v?T.x-S.x:T.y-S.y)),x=Rt("rect");Et(x,{x:-9,y:-3,width:18,height:6}),kn(x).add("djs-visual"),rn(b,x);var w=Rt("rect");return Et(w,{x:-_/2,y:-8.5,width:_,height:17}),kn(w).add("djs-hit"),rn(b,w),e2(b,"v"===v?90:0),b}(v,f,m,_),kn(v).add(cg),kn(v).add("h"===_?"horizontal":"vertical"),bs(v,b.x,b.y),v}function AS(d){return Math.abs(Math.round(2*d/3))}function IS(d,f,m,v,b){function x(I,$,W){Zt.bind(I,$,function(H){m.triggerMouseEvent($,H,W),H.stopPropagation()})}function w(I,$){var W=f.getLayer("overlays"),H=vr('.djs-bendpoints[data-element-id="'+G1(I.id)+'"]',W);return!H&&$&&(Et(H=Rt("g"),{"data-element-id":I.id}),kn(H).add("djs-bendpoints"),rn(W,H),x(H,"mousedown",I),x(H,"click",I),x(H,"dblclick",I)),H}function S(I,$){return vr('.djs-segment-dragger[data-segment-idx="'+I+'"]',$)}function T(I,$){$.waypoints.forEach(function(W,H){var z=ug(I);rn(I,z),bs(z,W.x,W.y)}),ug(I,"floating")}function P(I,$){for(var W,H,z,Q=$.waypoints,J=1;J<Q.length;J++)Ot(W=Q[J-1],H=Q[J])&&(Et(z=kS(I,W,H),{"data-segment-idx":J}),x(z,"mousemove",$))}function M(I){var $=w(I);return $||(T($=w(I,!0),I),P($,I)),$}function k(I){var $=w(I);$&&(ge(A0("."+cg,$),function(H){vi(H)}),ge(A0("."+n4,$),function(H){vi(H)}),P($,I),T($,I))}d.on("connection.changed",function(I){k(I.element)}),d.on("connection.remove",function(I){var $=w(I.element);$&&vi($)}),d.on("element.marker.update",function(I){var $,W=I.element;W.waypoints&&($=M(W),I.add?kn($).add(I.marker):kn($).remove(I.marker))}),d.on("element.mousemove",function(I){var $,W,J,oe,we,H=I.element,z=H.waypoints;if(z){if($=w(H,!0),!(W=Ah(f,z,I.originalEvent)))return;J=W,oe=vr(".floating",$),we=J.point,oe&&bs(oe,we.x,we.y),W.bendpoint||function R(I,$,W){var H,z,Q=S($.index,I),J=W[$.index-1],oe=W[$.index],we=$.point,Ee=Oo(J,oe),Te=Ot(J,oe);Q&&(H=vr(".djs-visual",Q),z={x:we.x-Ee.x,y:we.y-Ee.y},"v"===Te&&(z={x:z.y,y:z.x}),bs(H,z.x,z.y))}($,W,z)}}),d.on("element.mousedown",function(I){if(Y0(I)){var W=I.element;if(W.waypoints)return function _(I,$){var J,oe,we,Ee,H=$.waypoints,z=Ah(f,H,I);if(z)return Ee=$.waypoints,function(Q,J,oe){var we,Ee,Te,Ne,Kt,gt,$e=Q.index,Qe=Q.point;return!($e<=0||Q.bendpoint)&&(Te=Oo(we=J[$e-1],Ee=J[$e]),Ne=Ot(we,Ee),Kt=Math.abs(Qe.x-Te.x),gt=Math.abs(Qe.y-Te.y),Ne&&Kt<=oe&&gt<=oe)}(z,H,(J=z).index<=0||J.bendpoint?null:(we=Ot((oe={start:Ee[J.index-1],end:Ee[J.index]}).start,oe.end))?AS("h"===we?oe.end.x-oe.start.x:oe.end.y-oe.start.y)/2:null)?b.start(I,$,z.index):v.start(I,$,z.index,!z.bendpoint),!0}(I.originalEvent,W)}}),d.on("selection.changed",function(I){var $=I.newSelection[0];$&&$.waypoints&&M($)}),d.on("element.hover",function(I){var $=I.element;$.waypoints&&(M($),m.registerEvent(I.gfx,"mousemove","element.mousemove"))}),d.on("element.out",function(I){m.unregisterEvent(I.gfx,"mousemove","element.mousemove")}),d.on("element.updateId",function(I){var $=I.element,W=I.newId;if($.waypoints){var H=w($);H&&Et(H,{"data-element-id":W})}}),this.addHandles=M,this.updateHandles=k,this.getBendpointsContainer=w,this.getSegmentDragger=S}IS.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var NS=Math.round,No="reconnectStart",Xu="reconnectEnd",Rh="updateWaypoints";function dg(d,f,m,v,b,_){this._injector=d,this.start=function(x,w,S,T){var P,M=m.getGraphics(w),k=w.source,R=w.target,$=(P=T||0!==S?T||S!==w.waypoints.length-1?Rh:Xu:No)===Rh?"connection.updateWaypoints":"connection.reconnect",W=b.allowed($,{connection:w,source:k,target:R});!1===W&&(W=b.allowed($,{connection:w,source:R,target:k})),!1!==W&&v.init(x,"bendpoint.move",{data:{connection:w,connectionGfx:M,context:{allowed:W,bendpointIndex:S,connection:w,source:k,target:R,insert:T,type:P}}})},f.on("bendpoint.move.hover",function(x){var w,S=x.context,T=S.connection,P=T.source,M=T.target,k=x.hover,R=S.type;if(S.hover=k,k){var I=R===Rh?"connection.updateWaypoints":"connection.reconnect";if(w=S.allowed=b.allowed(I,{connection:T,source:R===No?k:P,target:R===Xu?k:M}))return S.source=R===No?k:P,void(S.target=R===Xu?k:M);!1===w&&(w=S.allowed=b.allowed(I,{connection:T,source:R===Xu?k:M,target:R===No?k:P})),w&&(S.source=R===Xu?k:M,S.target=R===No?k:P)}}),f.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(x){var w=x.context,S=w.type;w.hover=null,w.source=null,w.target=null,S!==Rh&&(w.allowed=!1)}),f.on("bendpoint.move.end",function(x){var w=x.context,S=w.allowed,T=w.bendpointIndex,P=w.connection,M=w.insert,k=P.waypoints.slice(),R=w.source,I=w.target,$=w.type,W=w.hints||{},H={x:NS(x.x),y:NS(x.y)};if(!S)return!1;$===Rh?(M?k.splice(T,0,H):k[T]=H,W.bendpointMove={insert:M,bendpointIndex:T},k=this.cropWaypoints(P,k),_.updateWaypoints(P,function(z){z=z.slice();for(var Q,J,oe,we=0;z[we];)J=z[we-1],0===be(Q=z[we],oe=z[we+1])||Le(J,oe,Q)?z.splice(we,1):we++;return z}(k),W)):($===No?(W.docking="source",Ko(w)&&(W.docking="target",W.newWaypoints=k.reverse())):$===Xu&&(W.docking="target",Ko(w)&&(W.docking="source",W.newWaypoints=k.reverse())),_.reconnect(P,R,I,H,W))},this)}function Ko(d){var f=d.hover,m=d.source,v=d.target,b=d.type;return b===No?f&&v&&f===v&&m!==v:b===Xu?f&&m&&f===m&&m!==v:void 0}dg.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],dg.prototype.cropWaypoints=function(d,f){var m=this._injector.get("connectionDocking",!1);if(!m)return f;var v=d.waypoints;return d.waypoints=f,d.waypoints=m.getCroppedWaypoints(d),f=d.waypoints,d.waypoints=v,f};var Ih="updateWaypoints",Nh="connect-ok",pg="connect-not-ok",LS="connect-hover",r4="djs-updating",FS="djs-dragging";function i4(d,f,m,v){this._injector=f;var b=f.get("connectionPreview",!1);m.on("bendpoint.move.start",function(_){var x=_.context,w=x.bendpointIndex,S=x.connection,T=x.insert,P=S.waypoints,M=P.slice();x.waypoints=P,T&&M.splice(w,0,{x:_.x,y:_.y}),S.waypoints=M,kn(x.draggerGfx=ug(v.getLayer("overlays"))).add("djs-dragging"),v.addMarker(S,FS),v.addMarker(S,r4)}),m.on("bendpoint.move.hover",function(_){var x=_.context,w=x.allowed,S=x.hover,T=x.type;if(S){if(v.addMarker(S,LS),T===Ih)return;w?(v.removeMarker(S,pg),v.addMarker(S,Nh)):!1===w&&(v.removeMarker(S,Nh),v.addMarker(S,pg))}}),m.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(_){var x=_.context,w=x.hover,S=x.target;w&&(v.removeMarker(w,LS),v.removeMarker(w,S?Nh:pg))}),m.on("bendpoint.move.move",function(_){var x=_.context,w=x.allowed,S=x.bendpointIndex,T=x.draggerGfx,P=x.hover,M=x.type,k=x.connection,R=k.source,I=k.target,$=k.waypoints.slice(),W={x:_.x,y:_.y},H=x.hints||{},z={};b&&(H.connectionStart&&(z.connectionStart=H.connectionStart),H.connectionEnd&&(z.connectionEnd=H.connectionEnd),"reconnectStart"===M?Ko(x)?(z.connectionEnd=z.connectionEnd||W,z.source=I,z.target=P||R,$=$.reverse()):(z.connectionStart=z.connectionStart||W,z.source=P||R,z.target=I):"reconnectEnd"===M?Ko(x)?(z.connectionStart=z.connectionStart||W,z.source=P||I,z.target=R,$=$.reverse()):(z.connectionEnd=z.connectionEnd||W,z.source=R,z.target=P||I):(z.noCropping=!0,z.noLayout=!0,$[S]=W),M===Ih&&($=d.cropWaypoints(k,$)),z.waypoints=$,b.drawPreview(x,w,z)),bs(T,_.x,_.y)},this),m.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(_){var x=_.context,w=x.connection,S=x.draggerGfx,T=x.hover,P=x.target;w.waypoints=x.waypoints,vi(S),v.removeMarker(w,r4),v.removeMarker(w,FS),T&&(v.removeMarker(T,Nh),v.removeMarker(T,P?Nh:pg)),b&&b.cleanUp(x)})}i4.$inject=["bendpointMove","injector","eventBus","canvas"];var BS="connect-hover",o4="djs-updating";function VS(d,f,m){return s4(d,f,d[f]+m)}function s4(d,f,m){return{x:"x"===f?m:d.x,y:"y"===f?m:d.y}}function jS(d){return"x"===d?"y":"x"}function $S(d,f,m){var v,b;return d.original?d.original:(v=mn(f),s4(d,b=jS(m),v[b]))}function a4(d,f,m,v,b,_){var x=d.get("connectionDocking",!1);function w(P,M){if(!x)return M;var k,R=P.waypoints;return P.waypoints=M,k=x.getCroppedWaypoints(P),P.waypoints=R,k}function S(P){b.update("connection",P.connection,P.connectionGfx)}this.start=function(P,M,k){var R,I,$,W,H=m.getGraphics(M),z=k-1,Q=k,J=M.waypoints,oe=J[z],we=J[Q],Ee=Ah(m,J,P);(I=Ot(oe,we))&&($="v"===I?"x":"y",0===z&&(oe=$S(oe,M.source,$)),Q===J.length-1&&(we=$S(we,M.target,$)),R={connection:M,segmentStartIndex:z,segmentEndIndex:Q,segmentStart:oe,segmentEnd:we,axis:$,dragPosition:W=Ee?Ee.point:{x:(oe.x+we.x)/2,y:(oe.y+we.y)/2}},v.init(P,W,"connectionSegment.move",{cursor:"x"===$?"resize-ew":"resize-ns",data:{connection:M,connectionGfx:H,context:R}}))},f.on("connectionSegment.move.start",function(P){var M=P.context,k=P.connection,R=m.getLayer("overlays");M.originalWaypoints=k.waypoints.slice(),M.draggerGfx=kS(R,M.segmentStart,M.segmentEnd),kn(M.draggerGfx).add("djs-dragging"),m.addMarker(k,o4)}),f.on("connectionSegment.move.move",function(P){var M,k,R=P.context,I=R.connection,$=R.segmentStartIndex,W=R.segmentEndIndex,H=R.segmentStart,z=R.segmentEnd,Q=R.axis,J=R.originalWaypoints.slice(),oe=VS(H,Q,P["d"+Q]),we=VS(z,Q,P["d"+Q]),Ee=J.length,Te=0;J[$]=oe,J[W]=we,$<2&&(M=Zr(I.source,oe),1===$?"intersect"===M&&(J.shift(),J[0]=oe,Te--):"intersect"!==M&&(J.unshift(H),Te++)),W>Ee-3&&(k=Zr(I.target,we),W===Ee-2?"intersect"===k&&(J.pop(),J[J.length-1]=we):"intersect"!==k&&J.push(z)),R.newWaypoints=I.waypoints=w(I,J),function T(P,M,k){var $,W,H,z,Q,J,R=P.newWaypoints,I=($=k,W=R[P.segmentStartIndex+M],H=R[P.segmentEndIndex+M],z=jS(P.axis),Q=Math.max(W[z],H[z]),J=Math.min(W[z],H[z]),s4(W,z,Math.min(Math.max(J+20,$[z]),Q-20)));bs(P.draggerGfx,I.x,I.y)}(R,Te,P),R.newSegmentStartIndex=$+Te,S(P)}),f.on("connectionSegment.move.hover",function(P){P.context.hover=P.hover,m.addMarker(P.hover,BS)}),f.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(P){var M=P.context.hover;M&&m.removeMarker(M,BS)}),f.on("connectionSegment.move.cleanup",function(P){var M=P.context,k=M.connection;M.draggerGfx&&vi(M.draggerGfx),m.removeMarker(k,o4)}),f.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(P){var M=P.context;M.connection.waypoints=M.originalWaypoints,S(P)}),f.on("connectionSegment.move.end",function(P){var M=P.context,k=M.connection,R=M.newWaypoints,I=M.newSegmentStartIndex;R=R.map(function(Q){return{original:Q.original,x:Math.round(Q.x),y:Math.round(Q.y)}});var Q,J,oe,$=(J=I,oe=0,{waypoints:(Q=R).filter(function(Ee,Te){return!Le(Q[Te-1],Q[Te+1],Ee)||(oe=Te<=J?oe-1:oe,!1)}),segmentOffset:oe}),W=w(k,$.waypoints);_.updateWaypoints(k,W,{segmentMove:{segmentStartIndex:M.segmentStartIndex,newSegmentStartIndex:I+$.segmentOffset}})})}a4.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var zS=Math.abs,l4=Math.round;function fg(d){return{x:d.x,y:d.y}}function c4(d){return{x:d.x+d.width,y:d.y+d.height}}function rl(d,f){return!d||isNaN(d.x)||isNaN(d.y)?f:{x:l4(d.x+d.width/2),y:l4(d.y+d.height/2)}}function Ip(d,f){var m=d.snapped;return!!m&&("string"==typeof f?m[f]:m.x&&m.y)}function oo(d,f,m){if("string"!=typeof f)throw new Error("axis must be in [x, y]");if("number"!=typeof m&&!1!==m)throw new Error("value must be Number or false");var v,b=d[f],_=d.snapped=d.snapped||{};return!1===m?_[f]=!1:(_[f]=!0,d[f]+=v=m-b,d["d"+f]+=v),b}function HS(d){return d.children||[]}var ZO=Math.abs,US=Math.round;function GS(d){function f(v,b){if(dt(v)){for(var _=v.length;_--;)if(ZO(v[_]-b)<=10)return v[_]}else{var x=b%(v=+v);if(x<10)return b-x;if(x>v-10)return b-x+v}return b}function m(v,b){return v.waypoints?function RS(d,f){return Rp(d,function(v,b){for(var _,x=b.waypoints,w=1/0,S=0;S<x.length-1;S++){var T=OS(v,[x[S],x[S+1]]);T<w&&(w=T,_=S)}return[x[_],x[_+1]]}(d,f))}(b,v):v.width?{x:US(v.width/2+v.x),y:US(v.height/2+v.y)}:void 0}d.on("connectionSegment.move.move",1500,function(v){var b,_,x=function(M){var k=M.context,R=k.snapPoints,I=k.connection,$=I.waypoints,H=k.segmentStartIndex,Q=k.segmentEndIndex,J=k.axis;if(R)return R;var oe=[$[H-1],k.segmentStart,k.segmentEnd,$[Q+1]];return H<2&&oe.unshift(m(I.source,M)),Q>$.length-3&&oe.unshift(m(I.target,M)),k.snapPoints=R={horizontal:[],vertical:[]},ge(oe,function(we){we&&(we=we.original||we,"y"===J&&R.horizontal.push(we.y),"x"===J&&R.vertical.push(we.x))}),R}(v),w=v.x,S=v.y;if(x){var T=w-(b=f(x.vertical,w)),P=S-(_=f(x.horizontal,S));de(v,{dx:v.dx-T,dy:v.dy-P,x:b,y:_}),(T||-1!==x.vertical.indexOf(w))&&oo(v,"x",b),(P||-1!==x.horizontal.indexOf(S))&&oo(v,"y",_)}}),d.on(["connect.hover","connect.move","connect.end"],1500,function(v){var b=v.context.hover,_=b&&m(b,v);_i(b)&&_&&_.x&&_.y&&(oo(v,"x",_.x),oo(v,"y",_.y))}),d.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(v){var b,_,x=v.context,w=function(I){var $=I.snapPoints,W=I.connection.waypoints,H=I.bendpointIndex;if($)return $;var z=[W[H-1],W[H+1]];return I.snapPoints=$={horizontal:[],vertical:[]},ge(z,function(Q){Q&&($.horizontal.push((Q=Q.original||Q).y),$.vertical.push(Q.x))}),$}(x),S=x.hover,T=S&&m(S,v),P=v.x,M=v.y;if(w){var k=P-(b=f(T?w.vertical.concat([T.x]):w.vertical,P)),R=M-(_=f(T?w.horizontal.concat([T.y]):w.horizontal,M));de(v,{dx:v.dx-k,dy:v.dy-R,x:v.x-k,y:v.y-R}),(k||-1!==w.vertical.indexOf(P))&&oo(v,"x",b),(R||-1!==w.horizontal.indexOf(M))&&oo(v,"y",_)}})}GS.$inject=["eventBus"];var qS={__depends__:[J0,vo],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",IS],bendpointMove:["type",dg],bendpointMovePreview:["type",i4],connectionSegmentMove:["type",a4],bendpointSnapping:["type",GS]};function JO(d,f,m,v){function b(_,x){return v.allowed("connection.create",{source:_,target:x})}d.on("connect.hover",function(_){var x,w=_.context,S=w.start,T=_.hover;if(w.hover=T,!Ut(x=w.canExecute=b(S,T))){if(!1!==x)return w.source=S,void(w.target=T);Ut(x=w.canExecute=b(T,S))||!1!==x&&(w.source=T,w.target=S)}}),d.on(["connect.out","connect.cleanup"],function(_){var x=_.context;x.hover=null,x.source=null,x.target=null,x.canExecute=!1}),d.on("connect.end",function(_){var x=_.context,w=x.canExecute,S=x.connectionStart,T={x:_.x,y:_.y},P=x.source,M=x.target;if(!w)return!1;var k=null,R={connectionStart:H2(x)?T:S,connectionEnd:H2(x)?S:T};Dn(w)&&(k=w),x.connection=m.connect(P,M,k,R)}),this.start=function(_,x,w,S){Dn(w)||(S=w,w=mn(x)),f.init(_,"connect",{autoActivate:S,data:{shape:x,context:{start:x,connectionStart:w}}})}}function H2(d){var f=d.hover,m=d.source;return f&&m&&f===m&&m!==d.target}JO.$inject=["eventBus","dragging","modeling","rules"];var WS="connect-ok",XS="connect-not-ok";function ek(d,f,m){var v=d.get("connectionPreview",!1);v&&f.on("connect.move",function(b){var _=b.context,x=_.canExecute,w=_.hover,S=_.source,T=_.start,M=_.target,k=_.connectionStart||_.startPosition,R=_.connectionEnd||{x:b.x,y:b.y},I=k,$=R;H2(_)&&(I=R,$=k),v.drawPreview(_,x,{source:S||T,target:M||w,connectionStart:I,connectionEnd:$})}),f.on("connect.hover",900,function(b){var w=b.context.canExecute;null!==w&&m.addMarker(b.hover,w?WS:XS)}),f.on(["connect.out","connect.cleanup"],1100,function(b){var _=b.hover;_&&(m.removeMarker(_,WS),m.removeMarker(_,XS))}),v&&f.on("connect.cleanup",function(b){v.cleanUp(b.context)})}ek.$inject=["injector","eventBus","canvas"];var u4={__depends__:[zu,vo,J0],__init__:["connectPreview"],connect:["type",JO],connectPreview:["type",ek]};function nu(d,f,m,v){this._canvas=f,this._graphicsFactory=m,this._elementFactory=v,this._connectionDocking=d.get("connectionDocking",!1),this._layouter=d.get("layouter",!1)}nu.$inject=["injector","canvas","graphicsFactory","elementFactory"],nu.prototype.drawPreview=function(d,f,m){var v,b,_,x=d.connectionPreviewGfx,w=d.getConnection,S=(m=m||{}).source,T=m.target,P=m.waypoints,M=m.connectionStart,k=m.connectionEnd,R=m.noLayout,I=m.noCropping,$=m.noNoop,W=this;x||(x=d.connectionPreviewGfx=this.createConnectionPreviewGfx()),R0(x),w||(w=d.getConnection=(b=function(H,z,Q){return W.getConnection(H,z,Q)},_={},function(H){var z=JSON.stringify(H),Q=_[z];return Q||(Q=_[z]=b.apply(null,arguments)),Q})),f&&(v=w(f,S,T)),v?(v.waypoints=P||[],this._layouter&&!R&&(v.waypoints=this._layouter.layoutConnection(v,{source:S,target:T,connectionStart:M,connectionEnd:k,waypoints:m.waypoints||v.waypoints})),v.waypoints&&v.waypoints.length||(v.waypoints=[S?mn(S):M,T?mn(T):k]),this._connectionDocking&&(S||T)&&!I&&(v.waypoints=this._connectionDocking.getCroppedWaypoints(v,S,T)),this._graphicsFactory.drawConnection(x,v,{stroke:"var(--element-dragger-color)"})):!$&&this.drawNoopPreview(x,m)},nu.prototype.drawNoopPreview=function(d,f){var m=f.source,v=f.target,b=f.connectionStart||mn(m),_=f.connectionEnd||mn(v),x=this.cropWaypoints(b,_,m,v);rn(d,this.createNoopConnection(x[0],x[1]))},nu.prototype.cropWaypoints=function(d,f,m,v){var b=this._graphicsFactory,_=m&&b.getShapePath(m),x=v&&b.getShapePath(v),w=b.getConnectionPath({waypoints:[d,f]});return[d=m&&Ky(_,w,!0)||d,f=v&&Ky(x,w,!1)||f]},nu.prototype.cleanUp=function(d){d&&d.connectionPreviewGfx&&vi(d.connectionPreviewGfx)},nu.prototype.getConnection=function(d){var m,f=Dn(m=d)?m:{};return this._elementFactory.createConnection(f)},nu.prototype.createConnectionPreviewGfx=function(){var d=Rt("g");return Et(d,{pointerEvents:"none"}),kn(d).add("djs-dragger"),rn(this._canvas.getActiveLayer(),d),d},nu.prototype.createNoopConnection=function(d,f){return zs([d,f],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var d4={__init__:["connectionPreview"],connectionPreview:["type",nu]},YS=Math.min,Yu=Math.max;function Lh(d){d.preventDefault()}function hg(d){d.stopPropagation()}function jl(d){this.container=d.container,this.parent=Sr('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=vr("[contenteditable]",this.parent),this.keyHandler=d.keyHandler||function(){},this.resizeHandler=d.resizeHandler||function(){},this.autoResize=Ze(this.autoResize,this),this.handlePaste=Ze(this.handlePaste,this)}function Qo(d,f){this._eventBus=d,this._providers=[],this._textbox=new jl({container:f.getContainer(),keyHandler:Ze(this._handleKey,this),resizeHandler:Ze(this._handleResize,this)})}jl.prototype.create=function(d,f,m,v){var b=this.parent,_=this.content,x=this.container;v=this.options=v||{};var w=Nt(f=this.style=f||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);de(b.style,{width:d.width+"px",height:d.height+"px",maxWidth:d.maxWidth+"px",maxHeight:d.maxHeight+"px",minWidth:d.minWidth+"px",minHeight:d.minHeight+"px",left:d.x+"px",top:d.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},w);var S=Nt(f,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return de(_.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},S),v.centerVertically&&de(_.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},S),_.innerText=m,Zt.bind(_,"keydown",this.keyHandler),Zt.bind(_,"mousedown",hg),Zt.bind(_,"paste",this.handlePaste),v.autoResize&&Zt.bind(_,"input",this.autoResize),v.resizable&&this.resizable(f),x.appendChild(b),this.setSelection(_.lastChild,_.lastChild&&_.lastChild.length),b},jl.prototype.handlePaste=function(d){var f,m=this.options,v=this.style;if(d.preventDefault(),f=d.clipboardData?d.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(f),m.autoResize){var b=this.autoResize(v);b&&this.resizeHandler(b)}},jl.prototype.insertText=function(d){d=d.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,d)||this._insertTextIE(d)},jl.prototype._insertTextIE=function(d){var m,v,b=this.getSelection(),_=b.startContainer,x=b.endContainer,w=b.startOffset,S=b.endOffset,T=b.commonAncestorContainer,P=[].slice.call(T.childNodes);if(T.nodeType===Node.TEXT_NODE){var M=_.textContent;_.textContent=M.substring(0,w)+d+M.substring(S),m=_,v=w+d.length}else if(_===this.content&&x===this.content){var k=document.createTextNode(d);this.content.insertBefore(k,P[w]),m=k,v=k.textContent.length}else{var R=P.indexOf(_),I=P.indexOf(x);P.forEach(function($,W){W===R?$.textContent=_.textContent.substring(0,w)+d+x.textContent.substring(S):W>R&&W<=I&&vs($)}),m=_,v=w+d.length}m&&void 0!==v&&setTimeout(function(){self.setSelection(m,v)})},jl.prototype.autoResize=function(){var d=this.parent,f=this.content,m=parseInt(this.style.fontSize)||12;if(f.scrollHeight>d.offsetHeight||f.scrollHeight<d.offsetHeight-m){var v=d.getBoundingClientRect(),b=f.scrollHeight;d.style.height=b+"px",this.resizeHandler({width:v.width,height:v.height,dx:0,dy:b-v.height})}},jl.prototype.resizable=function(){var d=this,f=this.parent,m=this.resizeHandle,v=parseInt(this.style.minWidth)||0,b=parseInt(this.style.minHeight)||0,_=parseInt(this.style.maxWidth)||1/0,x=parseInt(this.style.maxHeight)||1/0;if(!m){var w,S,T,P;m=this.resizeHandle=Sr('<div class="djs-direct-editing-resize-handle"></div>');var M=function(R){Lh(R),hg(R);var I=YS(Yu(T+R.clientX-w,v),_),$=YS(Yu(P+R.clientY-S,b),x);f.style.width=I+"px",f.style.height=$+"px",d.resizeHandler({width:T,height:P,dx:R.clientX-w,dy:R.clientY-S})},k=function(R){Lh(R),hg(R),Zt.unbind(document,"mousemove",M,!1),Zt.unbind(document,"mouseup",k,!1)};Zt.bind(m,"mousedown",function(R){Lh(R),hg(R),w=R.clientX,S=R.clientY;var I=f.getBoundingClientRect();T=I.width,P=I.height,Zt.bind(document,"mousemove",M),Zt.bind(document,"mouseup",k)})}de(m.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),f.appendChild(m)},jl.prototype.destroy=function(){var d=this.parent,f=this.content,m=this.resizeHandle;f.innerText="",d.removeAttribute("style"),f.removeAttribute("style"),Zt.unbind(f,"keydown",this.keyHandler),Zt.unbind(f,"mousedown",hg),Zt.unbind(f,"input",this.autoResize),Zt.unbind(f,"paste",this.handlePaste),m&&(m.removeAttribute("style"),vs(m)),vs(d)},jl.prototype.getValue=function(){return this.content.innerText.trim()},jl.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},jl.prototype.setSelection=function(d,f){var m=document.createRange();null===d?m.selectNodeContents(this.content):(m.setStart(d,f),m.setEnd(d,f));var v=window.getSelection();v.removeAllRanges(),v.addRange(m)},Qo.$inject=["eventBus","canvas"],Qo.prototype.registerProvider=function(d){this._providers.push(d)},Qo.prototype.isActive=function(d){return!(!this._active||d&&this._active.element!==d)},Qo.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Qo.prototype._fire=function(d,f){this._eventBus.fire("directEditing."+d,f||{active:this._active})},Qo.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Qo.prototype.complete=function(){var d=this._active;if(d){var f,m=d.context.bounds,v=this.$textbox.getBoundingClientRect(),b=this.getValue();b===d.context.text&&v.height===m.height&&v.width===m.width||(f=this._textbox.container.getBoundingClientRect(),d.provider.update(d.element,b,d.context.text,{x:v.left-f.left,y:v.top-f.top,width:v.width,height:v.height})),this._fire("complete"),this.close()}},Qo.prototype.getValue=function(){return this._textbox.getValue()},Qo.prototype._handleKey=function(d){d.stopPropagation();var f=d.keyCode||d.charCode;return 27===f?(d.preventDefault(),this.cancel()):13!==f||d.shiftKey?void 0:(d.preventDefault(),this.complete())},Qo.prototype._handleResize=function(d){this._fire("resize",d)},Qo.prototype.activate=function(d){var f;this.isActive()&&this.cancel();var m=cn(this._providers,function(v){return(f=v.activate(d))?v:null});return f&&(this.$textbox=this._textbox.create(f.bounds,f.style,f.text,f.options),this._active={element:d,context:f,provider:m},f.options&&f.options.resizable&&(this.resizable=!0),this._fire("activate")),!!f};var tk={__depends__:[y2],__init__:["directEditing"],directEditing:["type",Qo]},$z=["marker-start","marker-mid","marker-end"],KS=["circle","ellipse","line","path","polygon","polyline","path","rect"];function td(d,f,m,v){this._elementRegistry=d,this._canvas=m,this._styles=v,this._clonedMarkers={};var b=this;f.on("drag.cleanup",function(){b.cleanUp()})}td.$inject=["elementRegistry","eventBus","canvas","styles"],td.prototype.cleanUp=function(){ge(this._clonedMarkers,function(d){vi(d)}),this._clonedMarkers={}},td.prototype.getGfx=function(d){return this._elementRegistry.getGraphics(d)},td.prototype.addDragger=function(d,f,m,v="djs-dragger"){var b=w1(m=m||this.getGfx(d)),_=m.getBoundingClientRect();return this._cloneMarkers(R1(b),v),Et(b,this._styles.cls(v,[],{x:_.top,y:_.left})),rn(f,b),Et(b,"data-preview-support-element-id",d.id),b},td.prototype.addFrame=function(d,f){var m=Rt("rect",{class:"djs-resize-overlay",width:d.width,height:d.height,x:d.x,y:d.y});return rn(f,m),Et(m,"data-preview-support-element-id",d.id),m},td.prototype._cloneMarkers=function(d,f="djs-dragger"){var m=this;if(d.childNodes)for(var v=0;v<d.childNodes.length;v++)m._cloneMarkers(d.childNodes[v],f);-1!==KS.indexOf(d.nodeName)&&$z.forEach(function(b){if(Et(d,b)){var _=(x=d,w=b,S=m._canvas.getContainer(),vr("marker#"+Et(x,w).match(/url\(['"]?#([^'"]*)['"]?\)/)[1],S||document));m._cloneMarker(d,_,b,f)}var x,w,S})},td.prototype._cloneMarker=function(d,f,m,v="djs-dragger"){var b=f.id+"-"+v,_=this._clonedMarkers[b];if(!_){var x=b+"-clone";(_=w1(f)).id=x,kn(_).add(v),this._clonedMarkers[b]=_;var w=vr("defs",this._canvas._svg);w||(w=Rt("defs"),rn(this._canvas._svg,w)),rn(w,_)}Et(d,m,"url(#"+this._clonedMarkers[b].id+")")};var mg={__init__:["previewSupport"],previewSupport:["type",td]},zz="drop-ok",nk="drop-not-ok",gg="attach-ok",QS="new-parent";function G2(d,f,m,v,b){function _(w,S){[gg,zz,nk,QS].forEach(function(T){T===S?d.addMarker(w,T):d.removeMarker(w,T)})}function x(){var w=f.context();w&&"create"===w.prefix&&f.cancel()}m.on(["create.move","create.hover"],function(w){var S=w.context,T=S.elements,P=w.hover,M=S.source,k=S.hints||{};if(!P)return S.canExecute=!1,void(S.target=null);Np(w);var I=S.canExecute=P&&function($,W,H,z,Q){if(!W)return!1;var J=cn($=kt($,function(Ne){var Kt=Ne.labelTarget;return!(Ne.parent||br(Ne)&&-1!==$.indexOf(Kt))}),function(Ne){return!_i(Ne)}),oe=!1,we=!1,Ee=!1;q2($)&&(oe=b.allowed("shape.attach",{position:H,shape:J,target:W})),oe||(Ee=q2($)?b.allowed("shape.create",{position:H,shape:J,source:z,target:W}):b.allowed("elements.create",{elements:$,position:H,target:W}));var Te=Q.connectionTarget;return Ee||oe?(J&&z&&(we=b.allowed("connection.create",{source:Te===z?J:z,target:Te===z?z:J,hints:{targetParent:W,targetAttach:oe}})),{attach:oe,connect:we}):(null===Ee||null===oe)&&null}(T,P,{x:w.x,y:w.y},M,k);P&&null!==I&&(S.target=P,_(P,I&&I.attach?gg:I?QS:nk))}),m.on(["create.end","create.out","create.cleanup"],function(w){var S=w.hover;S&&_(S,null)}),m.on("create.end",function(w){var S=w.context,T=S.source,P=S.shape,M=S.elements,k=S.target,R=S.canExecute,I=R&&R.attach,$=R&&R.connect,W=S.hints||{};if(!1===R||!k)return!1;Np(w);var H={x:w.x,y:w.y};P=$?v.appendShape(T,P,H,k,{attach:I,connection:!0===$?{}:$,connectionTarget:W.connectionTarget}):cn(M=v.createElements(M,H,k,de({},W,{attach:I})),function(z){return!_i(z)}),de(S,{elements:M,shape:P}),de(w,{elements:M,shape:P})}),m.on("create.init",function(){m.on("elements.changed",x),m.once(["create.cancel","create.end"],2e3,function(){m.off("elements.changed",x)})}),this.start=function(w,S,T){dt(S)||(S=[S]);var P=cn(S,function(k){return!_i(k)});if(P){T=de({elements:S,hints:{},shape:P},T||{}),ge(S,function(k){lt(k.x)||(k.x=0),lt(k.y)||(k.y=0)});var M=si(kt(S,function(k){return!k.hidden}));ge(S,function(k){_i(k)&&(k.waypoints=wr(k.waypoints,function(R){return{x:R.x-M.x-M.width/2,y:R.y-M.y-M.height/2}})),de(k,{x:k.x-M.x-M.width/2,y:k.y-M.y-M.height/2})}),f.init(w,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:P,elements:S,context:T}})}}}function Np(d){var f=d.context.createConstraints;f&&(f.left&&(d.x=Math.max(d.x,f.left)),f.right&&(d.x=Math.min(d.x,f.right)),f.top&&(d.y=Math.max(d.y,f.top)),f.bottom&&(d.y=Math.min(d.y,f.bottom)))}function q2(d){return d&&1===d.length&&!_i(d[0])}function W2(d,f,m,v,b){f.on("create.move",750,function(_){var x=_.hover,w=_.context,T=w.dragGroup;T||(T=w.dragGroup=function(P){var M=Rt("g");Et(M,b.cls("djs-drag-group",["no-events"]));var k=Rt("g");return P.forEach(function(R){var I;R.hidden||(R.waypoints?(I=m._createContainer("connection",k),m.drawConnection(R1(I),R)):(I=m._createContainer("shape",k),m.drawShape(R1(I),R),bs(I,R.x,R.y)),v.addDragger(R,M,I))}),M}(w.elements)),x?(T.parentNode||rn(d.getActiveLayer(),T),bs(T,_.x,_.y)):vi(T)}),f.on("create.cleanup",function(_){var x=_.context.dragGroup;x&&vi(x)})}G2.$inject=["canvas","dragging","eventBus","modeling","rules"],W2.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var nd={__depends__:[J0,mg,vo,zu],__init__:["create","createPreview"],create:["type",G2],createPreview:["type",W2]};function rd(){}rd.prototype.get=function(){return this._data},rd.prototype.set=function(d){this._data=d},rd.prototype.clear=function(){var d=this._data;return delete this._data,d},rd.prototype.isEmpty=function(){return!this._data};var Fh={clipboard:["type",rd]};function vg(d){var f=this;function m(v){f._lastMoveEvent=v}this._lastMoveEvent=null,d.on("canvas.init",function(v){(f._svg=v.svg).addEventListener("mousemove",m)}),d.on("canvas.destroy",function(){f._lastMouseEvent=null,f._svg.removeEventListener("mousemove",m)})}vg.$inject=["eventBus"],vg.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||((m=document.createEvent("MouseEvent")).initMouseEvent&&m.initMouseEvent("mousemove",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),m);var m};var Lp={__init__:["mouse"],mouse:["type",vg]};function Pa(d,f,m,v,b,_,x,w){this._canvas=d,this._create=f,this._clipboard=m,this._elementFactory=v,this._eventBus=b,this._modeling=_,this._mouse=x,this._rules=w,b.on("copyPaste.copyElement",function(S){var T=S.descriptor,P=S.element,M=S.elements;T.priority=1,T.id=P.id;var k=cn(M,function(R){return R===P.parent});k&&(T.parent=P.parent.id),!!P.host&&(T.priority=2,T.host=P.host.id),_i(P)&&(T.priority=3,T.source=P.source.id,T.target=P.target.id,T.waypoints=wr(P.waypoints,function(I){return(I=rk(I)).original&&(I.original=rk(I.original)),I})),br(P)&&(T.priority=4,T.labelTarget=P.labelTarget.id),ge(["x","y","width","height"],function(R){lt(P[R])&&(T[R]=P[R])}),T.hidden=P.hidden,T.collapsed=P.collapsed}),b.on("copyPaste.pasteElements",function(S){de(S.hints,{createElementsBehavior:!1})})}function rk(d){return de({},d)}Pa.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Pa.prototype.copy=function(d){var f,m;return dt(d)||(d=d?[d]:[]),m=!1===(f=this._eventBus.fire("copyPaste.canCopyElements",{elements:d}))?{}:this.createTree(dt(f)?f:d),this._clipboard.set(m),this._eventBus.fire("copyPaste.elementsCopied",{elements:d,tree:m}),m},Pa.prototype.paste=function(d){var f=this._clipboard.get();if(!this._clipboard.isEmpty()){var m=d&&d.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:m});var v=this._createElements(f);if(d&&d.element&&d.point)return this._paste(v,d.element,d.point,m);this._create.start(this._mouse.getLastMoveEvent(),v,{hints:m||{}})}},Pa.prototype._paste=function(d,f,m,v){ge(d,function(_){lt(_.x)||(_.x=0),lt(_.y)||(_.y=0)});var b=si(d);return ge(d,function(_){_i(_)&&(_.waypoints=wr(_.waypoints,function(x){return{x:x.x-b.x-b.width/2,y:x.y-b.y-b.height/2}})),de(_,{x:_.x-b.x-b.width/2,y:_.y-b.y-b.height/2})}),this._modeling.createElements(d,m,f,de({},v))},Pa.prototype._createElements=function(d){var f=this,m=this._eventBus,v={},b=[];return ge(d,function(_,x){ge(_=qr(_,"priority"),function(w){var S,T=de({},Ie(w,["priority"]));return v[w.parent]?T.parent=v[w.parent]:delete T.parent,m.fire("copyPaste.pasteElement",{cache:v,descriptor:T}),_i(T)?(T.source=v[w.source],T.target=v[w.target],S=v[w.id]=f.createConnection(T),void b.push(S)):br(T)?(T.labelTarget=v[T.labelTarget],S=v[w.id]=f.createLabel(T),void b.push(S)):(T.host&&(T.host=v[T.host]),S=v[w.id]=f.createShape(T),void b.push(S))})}),b},Pa.prototype.createConnection=function(d){return this._elementFactory.createConnection(Ie(d,["id"]))},Pa.prototype.createLabel=function(d){return this._elementFactory.createLabel(Ie(d,["id"]))},Pa.prototype.createShape=function(d){return this._elementFactory.createShape(Ie(d,["id"]))},Pa.prototype.hasRelations=function(d,f){var m,v;return!(_i(d)&&(m=cn(f,po({id:d.source.id})),v=cn(f,po({id:d.target.id})),!m||!v)||br(d)&&!cn(f,po({id:d.labelTarget.id})))},Pa.prototype.createTree=function(d){var f=this._rules,m=this,v={},b=[];function _(x,w){var P,M,S=cn(b,function(T){return x===T.element});S?S.depth<w&&(-1!==(M=(P=b).indexOf(S))&&P.splice(M,1),(b=P).push({element:S.element,depth:w})):b.push({element:x,depth:w})}return zc(un(d),function(x,w,S){if(!br(x)){ge(x.labels,function(P){_(P,S)}),ge([x.attachers,x.incoming,x.outgoing],function(P){P&&P.length&&ge(P,function(M){ge(M.labels,function(k){_(k,S)}),_(M,S)})}),_(x,S);var T=[];return x.children&&(T=x.children.slice()),m._eventBus.fire("copyPaste.createTree",{element:x,children:T}),T}}),d=wr(b,function(x){return x.element}),b=qr(b=wr(b,function(x){return x.descriptor={},m._eventBus.fire("copyPaste.copyElement",{descriptor:x.descriptor,element:x.element,elements:d}),x}),function(x){return x.descriptor.priority}),d=wr(b,function(x){return x.element}),ge(b,function(x){var w=x.depth;m.hasRelations(x.element,d)&&f.allowed("element.copy",{element:x.element,elements:d})?(v[w]||(v[w]=[]),v[w].push(x.descriptor)):function X2(d,f){var m=f.indexOf(d);return-1===m?f:f.splice(m,1)}(x.element,d)}),v};var yg={__depends__:[Fh,nd,Lp,vo],__init__:["copyPaste"],copyPaste:["type",Pa]};function p4(d,f,m){dt(m)||(m=[m]),ge(m,function(v){mt(d[v])||(f[v]=d[v])})}function f4(d,f,m){function v(_,x){var w=d.create(_.$type);return m.copyElement(_,w,null,x)}f.on("copyPaste.copyElement",750,function(_){var x=_.descriptor,w=_.element,S=bt(w);if(br(w))return x;var T=x.businessObject=v(S,!0),P=x.di=v(dr(w),!0);P.bpmnElement=T,p4(T,x,"name"),p4(P,x,"isExpanded"),S.default&&(x.default=S.default.id)});var b="-bpmn-js-refs";f.on("copyPaste.pasteElement",function(_){var x=_.cache,w=_.descriptor,S=w.businessObject,T=w.di;if(br(w))return w.businessObject=bt(x[w.labelTarget]),void(w.di=dr(x[w.labelTarget]));S=w.businessObject=v(S),(T=w.di=v(T)).bpmnElement=S,p4(w,S,["isExpanded","name"]),w.type=S.$type}),f.on("copyPaste.copyElement",750,function(_){var x=_.descriptor,w=_.element;if(Y(w,"bpmn:Participant")){var S=bt(w);S.processRef&&(x.processRef=v(S.processRef,!0))}}),f.on("copyPaste.pasteElement",function(_){var x=_.descriptor,w=x.processRef;w&&(x.processRef=v(w))}),f.on("copyPaste.pasteElement",750,function(_){var w,x=_.cache;!function(w,S){w[b]=S}(x,function(w,S,T){var P=bt(w);return w.default&&(T[w.default]={element:P,property:"default"}),w.host&&(bt(w).attachedToRef=bt(S[w.host])),Ie(T,Gr(T,function(M,k,R){return R===w.id&&(k.element.set(k.property,P),M.push(w.id)),M},[]))}(_.descriptor,x,(w=x,w[b]=w[b]||{})))})}f4.$inject=["bpmnFactory","eventBus","moddleCopy"];var ik=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function bg(d,f,m){this._bpmnFactory=f,this._eventBus=d,this._moddle=m,d.on("moddleCopy.canCopyProperties",function(v){var b=v.propertyNames;if(b&&b.length)return qr(b,function(_){return"extensionElements"===_})}),d.on("moddleCopy.canCopyProperty",function(v){var b=v.parent,_=Dn(b)&&b.$descriptor,x=v.propertyName;return(!x||-1===ik.indexOf(x))&&!(x&&_&&!cn(_.properties,po({name:x})))&&void 0}),d.on("moddleCopy.canSetCopiedProperty",function(v){var b,x=v.property;if("bpmn:ExtensionElements",(b=x)&&wn(b.$instanceOf)&&b.$instanceOf("bpmn:ExtensionElements")&&(!x.values||!x.values.length))return!1})}function _g(d,f){return Gr(d.properties,function(m,v){return f&&v.default?m:m.concat(v.name)},[])}bg.$inject=["eventBus","bpmnFactory","moddle"],bg.prototype.copyElement=function(d,f,m,v=!1){var b=this;m&&!dt(m)&&(m=[m]),m=m||_g(d.$descriptor);var _=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:m,sourceElement:d,targetElement:f,clone:v});return!1===_||(dt(_)&&(m=_),ge(m,function(x){var w;vn(d,x)&&(w=d.get(x));var S=b.copyProperty(w,f,x,v);nn(S)&&!1!==b._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:f,property:S,propertyName:x})&&f.set(x,S)})),f},bg.prototype.copyProperty=function(d,f,m,v=!1){var b=this,_=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:f,property:d,propertyName:m,clone:v});if(!1!==_){if(_)return Dn(_)&&_.$type&&!_.$parent&&(_.$parent=f),_;var x=this._moddle.getPropertyDescriptor(f,m);if(!x.isReference)return x.isId?d&&this._copyId(d,f,v):dt(d)?Gr(d,function(w,S){return(_=b.copyProperty(S,f,m,v))?w.concat(_):w},[]):Dn(d)&&d.$type?this._moddle.getElementDescriptor(d).isGeneric?void 0:((_=b._bpmnFactory.create(d.$type)).$parent=f,_=b.copyElement(d,_,null,v)):d}},bg.prototype._copyId=function(d,f,m=!1){return m?d:this._moddle.ids.assigned(d)?void 0:(this._moddle.ids.claim(d,f),d)};var h4={__depends__:[yg],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",f4],moddleCopy:["type",bg]},ZS=Math.round;function m4(d,f){this._modeling=d,this._eventBus=f}function Bh(d,f){f.on("replace.end",500,function(m){const{newElement:v,hints:b={}}=m;!1!==b.select&&d.select(v)})}m4.$inject=["modeling","eventBus"],m4.prototype.replaceElement=function(d,f,m){if(d.waypoints)return null;var v=this._modeling,b=this._eventBus;b.fire("replace.start",{element:d,attrs:f,hints:m});var _=f.width||d.width,x=f.height||d.height,S=f.y||d.y,T=ZS((f.x||d.x)+_/2),P=ZS(S+x/2),M=v.replaceShape(d,de({},f,{x:T,y:P,width:_,height:x}),m);return b.fire("replace.end",{element:d,newElement:M,hints:m}),M},Bh.$inject=["selection","eventBus"];var JS={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",Bh],replace:["type",m4]},g4=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function e8(d,f,m,v,b,_){this.replaceElement=function(x,w,S){S=S||{};var W,H,z,T=w.type,P=x.businessObject;if(v4(P)&&"bpmn:SubProcess"===T&&(H=w,(z=(W=x)&&vn(W,"collapsed")?W.collapsed:!cr(W))!==(H&&(vn(H,"collapsed")||vn(H,"isExpanded"))?vn(H,"collapsed")?H.collapsed:!H.isExpanded:z)))return v.toggleCollapse(x),x;var M=d.create(T),k={type:T,businessObject:M,di:{}};!function(W,H,z){dt(z)||(z=[z]),ge(z,function(Q){mt(W[Q])||(H[Q]=W[Q])})}(x.di,k.di,["fill","stroke","background-color","border-color","color"]);var R=function(W,H){return W.filter(function(z){return H.includes(z)})}(_g(P.$descriptor),_g(M.$descriptor,!0));de(M,Nt(w,g4));var I=kt(R,function(W){return"eventDefinitions"===W?ok(x,w.eventDefinitionType):"loopCharacteristics"===W?!Ja(M):!vn(M,W)&&("processRef"!==W||!1!==w.isExpanded)&&"triggeredByEvent"!==W});if(M=m.copyElement(P,M,I),w.eventDefinitionType&&(ok(M,w.eventDefinitionType)||(k.eventDefinitionType=w.eventDefinitionType,k.eventDefinitionAttrs=w.eventDefinitionAttrs)),Y(P,"bpmn:Activity")){if(v4(P))k.isExpanded=cr(x);else if(w&&vn(w,"isExpanded")){k.isExpanded=w.isExpanded;var $=f.getDefaultSize(M,{isExpanded:k.isExpanded});k.width=$.width,k.height=$.height,k.x=x.x-(k.width-x.width)/2,k.y=x.y-(k.height-x.height)/2}cr(x)&&!Y(P,"bpmn:Task")&&k.isExpanded&&(k.width=x.width,k.height=x.height)}return v4(P)&&!v4(M)&&(S.moveChildren=!1),Y(P,"bpmn:Participant")&&(!0===w.isExpanded?M.processRef=d.create("bpmn:Process"):S.moveChildren=!1,k.width=x.width,k.height=f.getDefaultSize(k).height),_.allowed("shape.resize",{shape:M})||(k.height=f.getDefaultSize(k).height,k.width=f.getDefaultSize(k).width),M.name=P.name,Gn(P,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Gn(M,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(M.default=P.default),w.host&&!Y(P,"bpmn:BoundaryEvent")&&Y(M,"bpmn:BoundaryEvent")&&(k.host=w.host),"bpmn:DataStoreReference"!==k.type&&"bpmn:DataObjectReference"!==k.type||(k.x=x.x+(x.width-k.width)/2),b.replaceElement(x,k,S)}}function v4(d){return Y(d,"bpmn:SubProcess")}function ok(d,f){var m=bt(d);return f&&m.get("eventDefinitions").some(function(v){return Y(v,f)})}e8.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var Vh={__depends__:[h4,JS,zu],bpmnReplace:["type",e8]};function t8(d){return function(f){var m=f.target,v=bt(d),b=v.eventDefinitions&&v.eventDefinitions[0],_=v.$type===m.type,x=(b&&b.$type)===m.eventDefinitionType,w=!!m.triggeredByEvent==!!v.triggeredByEvent,S=void 0===m.isExpanded||m.isExpanded===cr(d);return!(_&&x&&w&&S)}}var Y2=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],y4=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],sk=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],n8=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],b4=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],K2=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Eg=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],r8=Eg,_4=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],i8=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],Q2=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],E4=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],jh=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],ak=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],lk=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(d){var f="Empty Pool";return d.children&&d.children.length&&(f+=" (removes content)"),f},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function gc(d,f,m,v,b,_,x,w){this._bpmnFactory=d,this._popupMenu=f,this._modeling=m,this._moddle=v,this._bpmnReplace=b,this._rules=_,this._translate=x,this._moddleCopy=w,this._register()}gc.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],gc.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},gc.prototype.getPopupMenuEntries=function(d){var f=d.businessObject,m=this._rules,v=[];if(dt(d)||!m.allowed("shape.replace",{element:d}))return{};var b=t8(d);return Y(f,"bpmn:DataObjectReference")?this._createEntries(d,i8):Y(f,"bpmn:DataStoreReference")&&!Y(d.parent,"bpmn:Collaboration")?this._createEntries(d,Q2):Y(f,"bpmn:StartEvent")&&!Y(f.$parent,"bpmn:SubProcess")?(v=kt(Y2,b),this._createEntries(d,v)):Y(f,"bpmn:Participant")?(v=kt(lk,function(_){return cr(d)!==_.target.isExpanded}),this._createEntries(d,v)):Y(f,"bpmn:StartEvent")&&Ja(f.$parent)?(v=kt(jh,function(_){var w=f.isInterrupting===(!1!==_.target.isInterrupting);return b(_)||!b(_)&&!w}),this._createEntries(d,v)):Y(f,"bpmn:StartEvent")&&!Ja(f.$parent)&&Y(f.$parent,"bpmn:SubProcess")?(v=kt(y4,b),this._createEntries(d,v)):Y(f,"bpmn:EndEvent")?(v=kt(n8,function(_){return!("bpmn:CancelEventDefinition"==_.target.eventDefinitionType&&!Y(f.$parent,"bpmn:Transaction"))&&b(_)}),this._createEntries(d,v)):Y(f,"bpmn:BoundaryEvent")?(v=kt(E4,function(_){var x=_.target;if("bpmn:CancelEventDefinition"==x.eventDefinitionType&&!Y(f.attachedToRef,"bpmn:Transaction"))return!1;var S=f.cancelActivity==(!1!==x.cancelActivity);return b(_)||!b(_)&&!S}),this._createEntries(d,v)):Y(f,"bpmn:IntermediateCatchEvent")||Y(f,"bpmn:IntermediateThrowEvent")?(v=kt(sk,b),this._createEntries(d,v)):Y(f,"bpmn:Gateway")?(v=kt(b4,b),this._createEntries(d,v)):Y(f,"bpmn:Transaction")?(v=kt(Eg,b),this._createEntries(d,v)):Ja(f)&&cr(d)?(v=kt(r8,b),this._createEntries(d,v)):Y(f,"bpmn:SubProcess")&&cr(d)?(v=kt(K2,b),this._createEntries(d,v)):Y(f,"bpmn:AdHocSubProcess")&&!cr(d)?(v=kt(_4,function(_){var x=_.target,w="bpmn:SubProcess"===x.type,S=!0===x.isExpanded;return t8(x)&&(!w||S)}),this._createEntries(d,v)):Y(f,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(d,ak):Y(f,"bpmn:FlowNode")?(v=kt(_4,b),Y(f,"bpmn:SubProcess")&&!cr(d)&&(v=kt(v,function(_){return"Sub Process (collapsed)"!==_.label})),this._createEntries(d,v)):{}},gc.prototype.getPopupMenuHeaderEntries=function(d){var f={};return Y(d,"bpmn:Activity")&&!Ja(d)&&(f={...f,...this._getLoopCharacteristicsHeaderEntries(d)}),Y(d,"bpmn:DataObjectReference")&&(f={...f,...this._getCollectionHeaderEntries(d)}),Y(d,"bpmn:Participant")&&(f={...f,...this._getParticipantMultiplicityHeaderEntries(d)}),!Y(d,"bpmn:SubProcess")||Y(d,"bpmn:Transaction")||Ja(d)||(f={...f,...this._getAdHocHeaderEntries(d)}),f},gc.prototype._createEntries=function(d,f){var m={},v=this;return ge(f,function(b){m[b.actionName]=v._createEntry(b,d)}),m},gc.prototype._createSequenceFlowEntries=function(d,f){var m=bt(d),v={},b=this._modeling,_=this._moddle,x=this;return ge(f,function(w){switch(w.actionName){case"replace-with-default-flow":m.sourceRef.default!==m&&(Y(m.sourceRef,"bpmn:ExclusiveGateway")||Y(m.sourceRef,"bpmn:InclusiveGateway")||Y(m.sourceRef,"bpmn:ComplexGateway")||Y(m.sourceRef,"bpmn:Activity"))&&(v={...v,[w.actionName]:x._createEntry(w,d,function(){b.updateProperties(d.source,{default:m})})});break;case"replace-with-conditional-flow":!m.conditionExpression&&Y(m.sourceRef,"bpmn:Activity")&&(v={...v,[w.actionName]:x._createEntry(w,d,function(){var S=_.create("bpmn:FormalExpression",{body:""});b.updateProperties(d,{conditionExpression:S})})});break;default:Y(m.sourceRef,"bpmn:Activity")&&m.conditionExpression&&(v={...v,[w.actionName]:x._createEntry(w,d,function(){b.updateProperties(d,{conditionExpression:void 0})})}),(Y(m.sourceRef,"bpmn:ExclusiveGateway")||Y(m.sourceRef,"bpmn:InclusiveGateway")||Y(m.sourceRef,"bpmn:ComplexGateway")||Y(m.sourceRef,"bpmn:Activity"))&&m.sourceRef.default===m&&(v={...v,[w.actionName]:x._createEntry(w,d,function(){b.updateProperties(d.source,{default:void 0})})})}}),v},gc.prototype._createEntry=function(d,f,m){var v=this._translate,b=this._bpmnReplace.replaceElement,_=d.label;return _&&"function"==typeof _&&(_=_(f)),m=m||function(){return b(f,d.target)},{label:v(_),className:d.className,action:m}},gc.prototype._getLoopCharacteristicsHeaderEntries=function(d){var f=this,m=this._translate;function v(S,T){if(T.active)return void f._modeling.updateProperties(d,{loopCharacteristics:void 0});const P=d.businessObject.get("loopCharacteristics"),M=f._moddle.create(T.options.loopCharacteristics);P&&f._moddleCopy.copyElement(P,M),M.set("isSequential",T.options.isSequential),f._modeling.updateProperties(d,{loopCharacteristics:M})}var b,_,x,w=bt(d).loopCharacteristics;return w&&(b=w.isSequential,_=void 0===w.isSequential,x=void 0!==w.isSequential&&!w.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:m("Parallel Multi Instance"),active:x,action:v,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:m("Sequential Multi Instance"),active:b,action:v,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:m("Loop"),active:_,action:v,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},gc.prototype._getCollectionHeaderEntries=function(d){var f=this,v=d.businessObject.dataObjectRef;if(!v)return{};var b=v.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:b,action:function(_,x){f._modeling.updateModdleProperties(d,v,{isCollection:!x.active})}}}},gc.prototype._getParticipantMultiplicityHeaderEntries=function(d){var f=this,m=this._bpmnFactory,b=d.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant Multiplicity"),active:!!b,action:function(_,x){var w;x.active||(w=m.create("bpmn:ParticipantMultiplicity")),f._modeling.updateProperties(d,{participantMultiplicity:w})}}}},gc.prototype._getAdHocHeaderEntries=function(d){var f=this._translate,m=Y(bt(d),"bpmn:AdHocSubProcess"),v=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:f("Ad-hoc"),active:m,action:function(b,_){return v(d,m?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}};var Z2={__depends__:[W_,Vh,qO],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",gc]},$h=Math.max,xg=Math.min,o8=20;function x4(d,f){return{top:d.top-f.top,right:d.right-f.right,bottom:d.bottom-f.bottom,left:d.left-f.left}}function wg(d,f,m){var v=f[d],b=m.min&&m.min[d],_=m.max&&m.max[d];return lt(b)&&(v=(/top|left/.test(d)?xg:$h)(v,b)),lt(_)&&(v=(/top|left/.test(d)?$h:xg)(v,_)),v}function Cg(d,f){return void 0!==d?d:o8}function ck(d){return!d.waypoints&&"label"!==d.type}function s8(d,f){var m,v,b,_,x,w,S;if((m=void 0===d.length?kt(d.children,ck):d).length)return v=si(m),"object"==typeof(b=f)?(_=Cg(b.left),x=Cg(b.right),w=Cg(b.top),S=Cg(b.bottom)):_=x=w=S=Cg(b),{x:v.x-_,y:v.y-w,width:v.width+_+x,height:v.height+w+S}}var J2=Math.abs,uk=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function id(d,f){return f=f||[],d.children.filter(function(m){Y(m,"bpmn:Lane")&&(id(m,f),f.push(m))}),f}function Fp(d){return d.children.filter(function(f){return Y(f,"bpmn:Lane")})}function vc(d){return Z_(d,uk)||d}function eb(d,f,m,v,b,_,x,w,S,T,P,M){d=d||{},v.registerProvider(this),this._contextPad=v,this._modeling=b,this._elementFactory=_,this._connect=x,this._create=w,this._popupMenu=S,this._canvas=T,this._rules=P,this._translate=M,!1!==d.autoPlace&&(this._autoPlace=f.get("autoPlace",!1)),m.on("create.end",250,function(k){var R=k.context.shape;if(bh(k)&&v.isOpen(R)){var I=v.getEntries(R);I.replace&&I.replace.action.click(k,R)}})}function dk(d,f,m){var v=d.$instanceOf(f),b=!1;return ge(d.eventDefinitions||[],function(_){_.$type===m&&(b=!0)}),v&&b}eb.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],eb.prototype.getMultiElementContextPadEntries=function(d){var f=this._modeling,m={};return this._isDeleteAllowed(d)&&de(m,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(v,b){f.removeElements(b.slice())}}}}),m},eb.prototype._isDeleteAllowed=function(d){var f=this._rules.allowed("elements.delete",{elements:d});return dt(f)?ki(f,function(m){return-1!==f.indexOf(m)}):f},eb.prototype.getContextPadEntries=function(d){var f=this._contextPad,m=this._modeling,v=this._elementFactory,b=this._connect,_=this._create,x=this._popupMenu,w=this._rules,S=this._autoPlace,T=this._translate,P={};if("label"===d.type)return P;var M=d.businessObject;function k(H,z){b.start(H,z)}function R(H,z,Q,J){function oe(Ee,Te){var Ne=v.createShape(de({type:H},J));_.start(Ee,Ne,{source:Te})}return"string"!=typeof Q&&(J=Q,Q=T("Append {type}",{type:H.replace(/^bpmn:/,"")})),{group:"model",className:z,title:Q,action:{dragstart:oe,click:S?function(Ee,Te){var Ne=v.createShape(de({type:H},J));S.append(Te,Ne)}:oe}}}function I(H){return function(z,Q){m.splitLane(Q,H),f.open(Q,!0)}}if(Gn(M,["bpmn:Lane","bpmn:Participant"])&&cr(d)){var $=Fp(d);de(P,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:T("Add Lane above"),action:{click:function(H,z){m.addLane(z,"top")}}}}),$.length<2&&(d.height>=120&&de(P,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:T("Divide into two Lanes"),action:{click:I(2)}}}),d.height>=180&&de(P,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:T("Divide into three Lanes"),action:{click:I(3)}}})),de(P,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:T("Add Lane below"),action:{click:function(H,z){m.addLane(z,"bottom")}}}})}Y(M,"bpmn:FlowNode")&&(Y(M,"bpmn:EventBasedGateway")?de(P,{"append.receive-task":R("bpmn:ReceiveTask","bpmn-icon-receive-task",T("Append ReceiveTask")),"append.message-intermediate-event":R("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",T("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":R("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",T("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":R("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",T("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":R("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",T("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):dk(M,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?de(P,{"append.compensation-activity":R("bpmn:Task","bpmn-icon-task",T("Append compensation activity"),{isForCompensation:!0})}):Y(M,"bpmn:EndEvent")||M.isForCompensation||dk(M,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Ja(M)||de(P,{"append.end-event":R("bpmn:EndEvent","bpmn-icon-end-event-none",T("Append EndEvent")),"append.gateway":R("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",T("Append Gateway")),"append.append-task":R("bpmn:Task","bpmn-icon-task",T("Append Task")),"append.intermediate-event":R("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",T("Append Intermediate/Boundary Event"))})),x.isEmpty(d,"bpmn-replace")||de(P,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:T("Change type"),action:{click:function(H,z){var oe,Q=de({x:(oe=f.getPad(z).html.getBoundingClientRect()).left,y:oe.bottom+5},{cursor:{x:H.x,y:H.y}});x.open(z,"bpmn-replace",Q,{title:T("Change element"),width:300,search:!0})}}}}),Y(M,"bpmn:SequenceFlow")&&de(P,{"append.text-annotation":R("bpmn:TextAnnotation","bpmn-icon-text-annotation",T("Append TextAnnotation"))}),Gn(M,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&de(P,{"append.text-annotation":R("bpmn:TextAnnotation","bpmn-icon-text-annotation",T("Append TextAnnotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:T("Connect using "+(M.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:k,dragstart:k}}}),Y(M,"bpmn:TextAnnotation")&&de(P,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:T("Connect using Association"),action:{click:k,dragstart:k}}}),Gn(M,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&de(P,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:T("Connect using DataInputAssociation"),action:{click:k,dragstart:k}}}),Y(M,"bpmn:Group")&&de(P,{"append.text-annotation":R("bpmn:TextAnnotation","bpmn-icon-text-annotation",T("Append TextAnnotation"))});var W=w.allowed("elements.delete",{elements:[d]});return dt(W)&&(W=W[0]===d),W&&de(P,{delete:{group:"edit",className:"bpmn-icon-trash",title:T("Remove"),action:{click:function(H,z){m.removeElements([z])}}}}),P};var Uz={__depends__:[tk,V_,zu,u4,nd,Z2],__init__:["contextPadProvider"],contextPadProvider:["type",eb]},a8={horizontal:["x","width"],vertical:["y","height"]};function Ku(d,f){this._modeling=d,this._filters=[],this.registerFilter(function(m){var v=f.allowed("elements.distribute",{elements:m});return dt(v)?v:v?m:[]})}Ku.$inject=["modeling","rules"],Ku.prototype.registerFilter=function(d){if("function"!=typeof d)throw new Error("the filter has to be a function");this._filters.push(d)},Ku.prototype.trigger=function(d,f){var m,v,b=this._modeling;if(!(d.length<3||(this._setOrientation(f),v=this._filterElements(d),(m=this._createGroups(v)).length<=2)))return b.distributeElements(m,this._axis,this._dimension),m},Ku.prototype._filterElements=function(d){var f=this._filters,m=this._axis,v=this._dimension,b=[].concat(d);return f.length?(ge(f,function(_){b=_(b,m,v)}),b):d},Ku.prototype._createGroups=function(d){var f=[],m=this,v=this._axis,b=this._dimension;if(!v)throw new Error('must have a defined "axis" and "dimension"');return ge(qr(d,v),function(_,x){var S=m._findRange(_,v,b),T=f[f.length-1];T&&m._hasIntersection(T.range,S)?f[f.length-1].elements.push(_):f.push({range:S,elements:[_]})}),f},Ku.prototype._setOrientation=function(d){var f=a8[d];this._axis=f[0],this._dimension=f[1]},Ku.prototype._hasIntersection=function(d,f){return Math.max(d.min,d.max)>=Math.min(f.min,f.max)&&Math.min(d.min,d.max)<=Math.max(f.min,f.max)},Ku.prototype._findRange=function(d){var f=d[this._axis];return{min:f+5,max:f+d[this._dimension]-5}};var pk={__init__:["distributeElements"],distributeElements:["type",Ku]};function tb(d){Xs.call(this,d)}tb.$inject=["eventBus"],Ye(tb,Xs),tb.prototype.init=function(){this.addRule("elements.distribute",function(d){var f=d.elements;return!((f=un(f=kt(f,function(m){var v=Gn(m,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(m.labelTarget||v)}))).length<3)&&f})};var l8_horizontal='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',l8_vertical='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>';function Bp(d,f,m,v){this._distributeElements=f,this._translate=m,this._popupMenu=d,this._rules=v,d.registerProvider("align-elements",900,this)}Bp.$inject=["popupMenu","distributeElements","translate","rules"],Bp.prototype.getPopupMenuEntries=function(d){var f={};return this._isAllowed(d)&&de(f,this._getEntries(d)),f},Bp.prototype._isAllowed=function(d){return this._rules.allowed("elements.distribute",{elements:d})},Bp.prototype._getEntries=function(d){var f=this._distributeElements,m=this._translate,v=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:m("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:l8_horizontal,action:function(b,_){f.trigger(d,"horizontal"),v.close()}},"distribute-elements-vertical":{group:"distribute",title:m("Distribute elements vertically"),imageHtml:l8_vertical,action:function(b,_){f.trigger(d,"vertical"),v.close()}}}};var Qu={__depends__:[W_,pk],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",tb],distributeElementsMenuProvider:["type",Bp]},zh="is not a registered action";function ol(d,f){this._actions={};var m=this;d.on("diagram.init",function(){m._registerDefaultActions(f),d.fire("editorActions.init",{editorActions:m})})}function nb(d,f){return new Error(d+" "+f)}ol.$inject=["eventBus","injector"],ol.prototype._registerDefaultActions=function(d){var f=d.get("commandStack",!1),m=d.get("modeling",!1),v=d.get("selection",!1),b=d.get("zoomScroll",!1),_=d.get("copyPaste",!1),x=d.get("canvas",!1),w=d.get("rules",!1),S=d.get("keyboardMove",!1),T=d.get("keyboardMoveSelection",!1);f&&(this.register("undo",function(){f.undo()}),this.register("redo",function(){f.redo()})),_&&v&&this.register("copy",function(){var P=v.get();if(P.length)return _.copy(P)}),_&&this.register("paste",function(){_.paste()}),b&&this.register("stepZoom",function(P){b.stepZoom(P.value)}),x&&this.register("zoom",function(P){x.zoom(P.value)}),m&&v&&w&&this.register("removeSelection",function(){var P=v.get();if(P.length){var M,k=w.allowed("elements.delete",{elements:P});!1!==k&&(M=dt(k)?k:P).length&&m.removeElements(M.slice())}}),S&&this.register("moveCanvas",function(P){S.moveCanvas(P)}),T&&this.register("moveSelection",function(P){T.moveSelection(P.direction,P.accelerated)})},ol.prototype.trigger=function(d,f){if(!this._actions[d])throw nb(d,zh);return this._actions[d](f)},ol.prototype.register=function(d,f){var m=this;if("string"==typeof d)return this._registerAction(d,f);ge(d,function(v,b){m._registerAction(b,v)})},ol.prototype._registerAction=function(d,f){if(this.isRegistered(d))throw nb(d,"is already registered");this._actions[d]=f},ol.prototype.unregister=function(d){if(!this.isRegistered(d))throw nb(d,zh);this._actions[d]=void 0},ol.prototype.getActions=function(){return Object.keys(this._actions)},ol.prototype.isRegistered=function(d){return!!this._actions[d]};var c8={__init__:["editorActions"],editorActions:["type",ol]};function w4(d){d.invoke(ol,this)}Ye(w4,ol),w4.$inject=["injector"],w4.prototype._registerDefaultActions=function(d){ol.prototype._registerDefaultActions.call(this,d);var f=d.get("canvas",!1),m=d.get("elementRegistry",!1),v=d.get("selection",!1),b=d.get("spaceTool",!1),_=d.get("lassoTool",!1),x=d.get("handTool",!1),w=d.get("globalConnect",!1),S=d.get("distributeElements",!1),T=d.get("alignElements",!1),P=d.get("directEditing",!1),M=d.get("searchPad",!1),k=d.get("modeling",!1),R=d.get("contextPad",!1);f&&m&&v&&this._registerAction("selectElements",function(){var I=f.getRootElement(),$=m.filter(function(W){return W!==I});return v.select($),$}),b&&this._registerAction("spaceTool",function(){b.toggle()}),_&&this._registerAction("lassoTool",function(){_.toggle()}),x&&this._registerAction("handTool",function(){x.toggle()}),w&&this._registerAction("globalConnectTool",function(){w.toggle()}),v&&S&&this._registerAction("distributeElements",function(I){var $=v.get();$.length&&S.trigger($,I.type)}),v&&T&&this._registerAction("alignElements",function(I){var $=v.get(),W=[],H=I.type;$.length&&(W=kt($,function(z){return!Y(z,"bpmn:Lane")}),T.trigger(W,H))}),v&&k&&this._registerAction("setColor",function(I){var $=v.get();$.length&&k.setColor($,I)}),v&&P&&this._registerAction("directEditing",function(){var I=v.get();I.length&&P.activate(I[0])}),M&&this._registerAction("find",function(){M.toggle()}),f&&k&&this._registerAction("moveToOrigin",function(){var I,$,W=f.getRootElement();I=si($=Y(W,"bpmn:Collaboration")?m.filter(function(H){return Y(H.parent,"bpmn:Collaboration")}):m.filter(function(H){return H!==W&&!Y(H.parent,"bpmn:SubProcess")})),k.moveElements($,{x:-I.x,y:-I.y},W)}),v&&R&&this._registerAction("replaceElement",function(I){R.triggerEntry("replace","click",I)})};var Gz={__depends__:[c8],editorActions:["type",w4]};function fk(d){d.on(["create.init","shape.move.init"],function(f){var m=f.context;Gn(f.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(m.gridSnappingContext||(m.gridSnappingContext={}),m.gridSnappingContext.snapLocation="top-left")})}function Sg(d,f,m){return m||(m="round"),Math[m](d/f)*f}function ru(d,f,m){var v=!m||!1!==m.active;this._eventBus=f;var b=this;f.on("diagram.init",800,function(){b.setActive(v)}),f.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(_){var x=_.originalEvent;if(!(!b.active||x&&Da(x))){var w=_.context,S=w.gridSnappingContext;S||(S=w.gridSnappingContext={}),["x","y"].forEach(function(T){var R,I,$,H,z,Q,J,P={},M=(I=T,$=d,H=(R=_).shape,Q=(z=R.context.gridSnappingContext).snapLocation,(J=z.snapOffset)&&lt(J[I])||(J||(J=z.snapOffset={}),lt(J[I])||(J[I]=0),!H)||($.get(H.id)||(C4(I)?J[I]+=H[I]+H.width/2:J[I]+=H[I]+H.height/2),!Q)||("x"===I?/left/.test(Q)?J[I]-=H.width/2:/right/.test(Q)&&(J[I]+=H.width/2):/top/.test(Q)?J[I]-=H.height/2:/bottom/.test(Q)&&(J[I]+=H.height/2)),J[I]);M&&(P.offset=M);var k=function(R,I){var $=R.context,W=$.createConstraints,H=$.resizeConstraints||{},z=$.gridSnappingContext,Q=z.snapConstraints;if(Q&&Q[I])return Q[I];Q||(Q=z.snapConstraints={}),Q[I]||(Q[I]={});var J=$.direction;W&&(C4(I)?(Q.x.min=W.left,Q.x.max=W.right):(Q.y.min=W.top,Q.y.max=W.bottom));var oe=H.min,we=H.max;return oe&&(C4(I)?S4(J)?Q.x.max=oe.left:Q.x.min=oe.right:hk(J)?Q.y.max=oe.top:Q.y.min=oe.bottom),we&&(C4(I)?S4(J)?Q.x.min=we.left:Q.x.max=we.right:hk(J)?Q.y.min=we.top:Q.y.max=we.bottom),Q[I]}(_,T);k&&de(P,k),Ip(_,T)||b.snapEvent(_,T,P)})}})}function C4(d){return"x"===d}function hk(d){return-1!==d.indexOf("n")}function S4(d){return-1!==d.indexOf("w")}function Vp(d,f){st.call(this,d),this._gridSnapping=f;var m=this;this.preExecute("shape.resize",function(v){var b=v.context,_=(b.hints||{}).autoResize;if(_){var x=b.shape,w=b.newBounds;b.newBounds=Or(_)?m.snapComplex(w,_):m.snapSimple(x,w)}})}function u8(d,f){d.on(["spaceTool.move","spaceTool.end"],2e3,function(m){var v,b=m.context;b.initialized&&("x"===b.axis?(v=f.snapValue(m.dx),m.x=m.x+v-m.dx,m.dx=v):(v=f.snapValue(m.dy),m.y=m.y+v-m.dy,m.dy=v))})}fk.$inject=["eventBus"],ru.prototype.snapEvent=function(d,f,m){oo(d,f,this.snapValue(d[f],m))},ru.prototype.getGridSpacing=function(){return 10},ru.prototype.snapValue=function(d,f){var m,v,b=0;return f&&f.offset&&(b=f.offset),d=Sg(d+=b,10),f&&f.min&&lt(m=f.min)&&(m=Sg(m+b,10,"ceil"),d=Math.max(d,m)),f&&f.max&&lt(v=f.max)&&(v=Sg(v+b,10,"floor"),d=Math.min(d,v)),d-b},ru.prototype.isActive=function(){return this.active},ru.prototype.setActive=function(d){this.active=d,this._eventBus.fire("gridSnapping.toggle",{active:d})},ru.prototype.toggleActive=function(){this.setActive(!this.active)},ru.$inject=["elementRegistry","eventBus","config.gridSnapping"],Vp.$inject=["eventBus","gridSnapping","modeling"],Ye(Vp,st),Vp.prototype.snapSimple=function(d,f){var m=this._gridSnapping;return f.width=m.snapValue(f.width,{min:f.width}),f.height=m.snapValue(f.height,{min:f.height}),f.x=d.x+d.width/2-f.width/2,f.y=d.y+d.height/2-f.height/2,f},Vp.prototype.snapComplex=function(d,f){return/w|e/.test(f)&&(d=this.snapHorizontally(d,f)),/n|s/.test(f)&&(d=this.snapVertically(d,f)),d},Vp.prototype.snapHorizontally=function(d,f){var m=this._gridSnapping,v=/w/.test(f),b=/e/.test(f),_={};return _.width=m.snapValue(d.width,{min:d.width}),b&&(v?(_.x=m.snapValue(d.x,{max:d.x}),_.width+=m.snapValue(d.x-_.x,{min:d.x-_.x})):d.x=d.x+d.width-_.width),de(d,_),d},Vp.prototype.snapVertically=function(d,f){var m=this._gridSnapping,v=/n/.test(f),b=/s/.test(f),_={};return _.height=m.snapValue(d.height,{min:d.height}),v&&(b?(_.y=m.snapValue(d.y,{max:d.y}),_.height+=m.snapValue(d.y-_.y,{min:d.y-_.y})):d.y=d.y+d.height-_.height),de(d,_),d},u8.$inject=["eventBus","gridSnapping"];var mk={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Vp],gridSnappingSpaceToolBehavior:["type",u8]}],__init__:["gridSnapping"],gridSnapping:["type",ru]};function d8(d,f){d.on("autoPlace",2e3,function(m){var v=m.source,b=mn(v),_=m.shape,x=J_(v,_);return["x","y"].forEach(function(w){var S={};x[w]!==b[w]&&(x[w]>b[w]?S.min=x[w]:S.max=x[w],Y(_,"bpmn:TextAnnotation")&&(S.offset=function(T){return"x"===T}(w)?-_.width/2:-_.height/2),x[w]=f.snapValue(x[w],S))}),x})}function p8(d,f,m){f.on(["create.start","shape.move.start"],1750,function(v){var b=v.context,_=b.shape,x=d.getRootElement();Y(_,"bpmn:Participant")&&Y(x,"bpmn:Process")&&x.children.length&&b.createConstraints&&(_.width=m.snapValue(_.width,{min:_.width}),_.height=m.snapValue(_.height,{min:_.height}))})}function Dg(d,f,m){st.call(this,d),this._gridSnapping=f;var v=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(b){var _=b.context,x=_.connection,w=_.hints||{},S=x.waypoints;w.connectionStart||w.connectionEnd||!1===w.createElementsBehavior||S.length>3&&m.updateWaypoints(x,v.snapMiddleSegments(S))})}function f8(d,f,m){var v=Ot(f,m),b={};return function(_){return"h"===_}(v)&&(b.y=d.snapValue(f.y)),function(_){return"v"===_}(v)&&(b.x=d.snapValue(f.x)),("x"in b||"y"in b)&&(f=de({},f,b),m=de({},m,b)),[f,m]}d8.$inject=["eventBus","gridSnapping"],p8.$inject=["canvas","eventBus","gridSnapping"],Dg.$inject=["eventBus","gridSnapping","modeling"],Ye(Dg,st),Dg.prototype.snapMiddleSegments=function(d){var f,m=this._gridSnapping;d=d.slice();for(var v=1;v<d.length-2;v++)f=f8(m,d[v],d[v+1]),d[v]=f[0],d[v+1]=f[1];return d};var gk={__depends__:[mk,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",d8],gridSnappingParticipantBehavior:["type",p8],gridSnappingLayoutConnectionBehavior:["type",Dg]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",fk]};function Tg(d,f){this._interactionEvents=f;var m=this;d.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(v){var b=v.element,_=v.gfx;return Y(b,"bpmn:Lane")?m._createParticipantHit(b,_):Y(b,"bpmn:Participant")?cr(b)?m._createParticipantHit(b,_):m._createDefaultHit(b,_):Y(b,"bpmn:SubProcess")?cr(b)?m._createSubProcessHit(b,_):m._createDefaultHit(b,_):void 0})}Tg.$inject=["eventBus","interactionEvents"],Tg.prototype._createDefaultHit=function(d,f){return this._interactionEvents.removeHits(f),this._interactionEvents.createDefaultHit(d,f),!0},Tg.prototype._createParticipantHit=function(d,f){return this._interactionEvents.removeHits(f),this._interactionEvents.createBoxHit(f,"no-move",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"click-stroke",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"all",{width:30,height:d.height}),!0},Tg.prototype._createSubProcessHit=function(d,f){return this._interactionEvents.removeHits(f),this._interactionEvents.createBoxHit(f,"no-move",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"click-stroke",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"all",{width:d.width,height:30}),!0};var h8={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Tg]};function jp(d){d.invoke(K0,this)}Ye(jp,K0),jp.$inject=["injector"],jp.prototype.registerBindings=function(d,f){function m(v,b){f.isRegistered(v)&&d.addListener(b)}K0.prototype.registerBindings.call(this,d,f),m("selectElements",function(v){var b=v.keyEvent;if(d.isKey(["a","A"],b)&&d.isCmd(b))return f.trigger("selectElements"),!0}),m("find",function(v){var b=v.keyEvent;if(d.isKey(["f","F"],b)&&d.isCmd(b))return f.trigger("find"),!0}),m("spaceTool",function(v){var b=v.keyEvent;if(!d.hasModifier(b))return d.isKey(["s","S"],b)?(f.trigger("spaceTool"),!0):void 0}),m("lassoTool",function(v){var b=v.keyEvent;if(!d.hasModifier(b))return d.isKey(["l","L"],b)?(f.trigger("lassoTool"),!0):void 0}),m("handTool",function(v){var b=v.keyEvent;if(!d.hasModifier(b))return d.isKey(["h","H"],b)?(f.trigger("handTool"),!0):void 0}),m("globalConnectTool",function(v){var b=v.keyEvent;if(!d.hasModifier(b))return d.isKey(["c","C"],b)?(f.trigger("globalConnectTool"),!0):void 0}),m("directEditing",function(v){var b=v.keyEvent;if(!d.hasModifier(b))return d.isKey(["e","E"],b)?(f.trigger("directEditing"),!0):void 0}),m("replaceElement",function(v){var b=v.keyEvent;if(!d.hasModifier(b))return d.isKey(["r","R"],b)?(f.trigger("replaceElement",b),!0):void 0})};var vk={__depends__:[Uu],__init__:["keyboardBindings"],keyboardBindings:["type",jp]},D4={moveSpeed:1,moveSpeedAccelerated:10},yk={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},v8={left:function(d){return{x:-d,y:0}},up:function(d){return{x:0,y:-d}},right:function(d){return{x:d,y:0}},down:function(d){return{x:0,y:d}}};function T4(d,f,m,v,b){var _=this;this._config=de({},D4,d||{}),f.addListener(1500,function(x){var w=x.keyEvent,S=yk[w.key];if(S&&!f.isCmd(w)){var T=f.isShift(w);return _.moveSelection(S,T),!0}}),this.moveSelection=function(x,w){var S=b.get();if(S.length){var P=v8[x](this._config[w?"moveSpeedAccelerated":"moveSpeed"]);v.allowed("elements.move",{shapes:S})&&m.moveElements(S,P)}}}T4.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var bk={__depends__:[Uu,zu],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",T4]};function Pg(d,f,m,v){this._dragging=v,this._rules=f;var b=this;d.on("resize.start",function(x){var w,T;T=(w=x.context).minBounds,void 0===w.resizeConstraints&&(void 0===T&&(T=b.computeMinResizeBox(w)),w.resizeConstraints={min:Yt(T)})}),d.on("resize.move",function(x){!function _(x,w){var k,R,I,$,W,H,T=x.shape,P=x.direction,M=x.resizeConstraints;x.delta=w,$=(I=w).x,W=I.y,H={x:(k=T).x,y:k.y,width:k.width,height:k.height},-1!==(R=P).indexOf("n")?(H.y=k.y+W,H.height=k.height-W):-1!==R.indexOf("s")&&(H.height=k.height+W),-1!==R.indexOf("e")?H.width=k.width+$:-1!==R.indexOf("w")&&(H.x=k.x+$,H.width=k.width-$),x.newBounds=function(k,R){if(!R)return k;var I=Yt(k);return Jn({top:wg("top",I,R),right:wg("right",I,R),bottom:wg("bottom",I,R),left:wg("left",I,R)})}(H,M),x.canExecute=b.canResize(x)}(x.context,{x:x.dx,y:x.dy})}),d.on("resize.end",function(x){!function(w){var M,k,S=w.shape,P=w.newBounds;if(w.canExecute){if(M=S,k=P=dO(P),M.x===k.x&&M.y===k.y&&M.width===k.width&&M.height===k.height)return;m.resizeShape(S,P)}}(x.context)})}function y8(d,f){var m=mn(d),v=Yt(d),b={x:m.x,y:m.y};return-1!==f.indexOf("n")?b.y=v.top:-1!==f.indexOf("s")&&(b.y=v.bottom),-1!==f.indexOf("e")?b.x=v.right:-1!==f.indexOf("w")&&(b.x=v.left),b}function _k(d){var f="resize-";return"n"===d||"s"===d?f+"ns":"e"===d||"w"===d?f+"ew":"nw"===d||"se"===d?f+"nwse":f+"nesw"}Pg.prototype.canResize=function(d){var f=this._rules,m=Nt(d,["newBounds","shape","delta","direction"]);return f.allowed("shape.resize",m)},Pg.prototype.activate=function(d,f,m){var v,b,_=this._dragging;if("string"==typeof m&&(m={direction:m}),!(b=(v=de({shape:f},m)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");_.init(d,y8(f,b),"resize",{autoActivate:!0,cursor:_k(b),data:{shape:f,context:v}})},Pg.prototype.computeMinResizeBox=function(d){var m,v,b,_,x,w,S,f=d.shape;return m=d.direction,v=f,b=d.minDimensions||{width:10,height:10},_=s8(f,d.childrenBoxPadding),x=Yt(v),w={top:/n/.test(m)?x.bottom-b.height:x.top,left:/w/.test(m)?x.right-b.width:x.left,bottom:/s/.test(m)?x.top+b.height:x.bottom,right:/e/.test(m)?x.left+b.width:x.right},S=_?Yt(_):w,Jn({top:xg(w.top,S.top),left:xg(w.left,S.left),bottom:$h(w.bottom,S.bottom),right:$h(w.right,S.right)})},Pg.$inject=["eventBus","rules","modeling","dragging"];var P4="djs-resizing",Ek="resize-not-ok";function xk(d,f,m){d.on("resize.move",500,function(v){var b,_,x,w;_=(b=v.context).shape,x=b.newBounds,(w=b.frame)||(w=b.frame=m.addFrame(_,f.getActiveLayer()),f.addMarker(_,P4)),x.width>5&&Et(w,{x:x.x,width:x.width}),x.height>5&&Et(w,{y:x.y,height:x.height}),b.canExecute?kn(w).remove(Ek):kn(w).add(Ek)}),d.on("resize.cleanup",function(v){var b,_;_=(b=v.context).shape,b.frame&&vi(b.frame),f.removeMarker(_,P4)})}xk.$inject=["eventBus","canvas","previewSupport"];var Mg="djs-resizer",wk=["n","w","s","e","nw","ne","se","sw"];function od(d,f,m,v){this._resize=v,this._canvas=f;var b=this;d.on("selection.changed",function(_){var x=_.newSelection;b.removeResizers(),1===x.length&&ge(x,Ze(b.addResizer,b))}),d.on("shape.changed",function(_){var x=_.element;m.isSelected(x)&&(b.removeResizers(),b.addResizer(x))})}od.prototype.makeDraggable=function(d,f,m){var v=this._resize;function b(_){Y0(_)&&v.activate(_,d,m)}Zt.bind(f,"mousedown",b),Zt.bind(f,"touchstart",b)},od.prototype._createResizer=function(d,f,m,v){var T,P,b=this._getResizersParent(),_=(P={x:0,y:0},-1!==(T=v).indexOf("e")?P.x=6:-1!==T.indexOf("w")&&(P.x=-6),-1!==T.indexOf("s")?P.y=6:-1!==T.indexOf("n")&&(P.y=-6),P),x=Rt("g");kn(x).add(Mg),kn(x).add(Mg+"-"+d.id),kn(x).add(Mg+"-"+v),rn(b,x);var w=Rt("rect");Et(w,{x:-4+_.x,y:-4+_.y,width:8,height:8}),kn(w).add(Mg+"-visual"),rn(x,w);var S=Rt("rect");return Et(S,{x:-10+_.x,y:-10+_.y,width:20,height:20}),kn(S).add(Mg+"-hit"),rn(x,S),dh(x,f,m),x},od.prototype.createResizer=function(d,f){var m=y8(d,f),v=this._createResizer(d,m.x,m.y,f);this.makeDraggable(d,v,f)},od.prototype.addResizer=function(d){var f=this;!_i(d)&&this._resize.canResize({shape:d})&&ge(wk,function(m){f.createResizer(d,m)})},od.prototype.removeResizers=function(){R0(this._getResizersParent())},od.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},od.$inject=["eventBus","canvas","selection","resize"];var M4={__depends__:[vo,J0,mg],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Pg],resizePreview:["type",xk],resizeHandles:["type",od]};function Og(d,f,m,v,b,_,x){function w(S,T){(T||Gn(S,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||O4(S))&&v.activate(S)}this._bpmnFactory=f,this._canvas=m,this._modeling=b,this._textRenderer=x,v.registerProvider(this),d.on("element.dblclick",function(S){w(S.element,!0)}),d.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){v.isActive()&&v.complete()}),d.on(["shape.remove","connection.remove"],2e3,function(S){v.isActive(S.element)&&v.cancel()}),d.on(["commandStack.changed"],function(S){v.isActive()&&v.cancel()}),d.on("directEditing.activate",function(S){_.removeResizers()}),d.on("create.end",500,function(S){var T=S.context;S.isTouch||S.context.canExecute&&(T.hints&&!1===T.hints.createElementsBehavior||w(T.shape))}),d.on("autoPlace.end",500,function(S){w(S.shape)})}function O4(d){return Y(d,"bpmn:SubProcess")&&!cr(d)}Og.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Og.prototype.activate=function(d){var f=qi(d);if(void 0!==f){var m={text:f};de(m,this.getEditingBBox(d));var v={};return(Gn(d,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||O4(d))&&de(v,{centerVertically:!0}),pt(d)&&de(v,{autoResize:!0}),Y(d,"bpmn:TextAnnotation")&&de(v,{resizable:!0,autoResize:!0}),de(m,{options:v}),m}},Og.prototype.getEditingBBox=function(d){var oe,f=this._canvas,m=d.label||d,v=f.getAbsoluteBBox(m),b=v.x+v.width/2,_=v.y+v.height/2,x={x:v.x,y:v.y},w=f.zoom(),S=this._textRenderer.getDefaultStyle(),T=this._textRenderer.getExternalStyle(),P=T.fontSize*w,M=T.lineHeight,k=S.fontSize*w,R=S.lineHeight,I={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(Y(d,"bpmn:Lane")||Y(oe=d,"bpmn:Participant")&&cr(oe))&&(de(x,{width:v.height,height:30*w,x:v.x-v.height/2+15*w,y:_-30*w/2}),de(I,{fontSize:k+"px",lineHeight:R,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px",transform:"rotate(-90deg)"})),(Gn(d,["bpmn:Task","bpmn:CallActivity"])||function(oe){return Y(oe,"bpmn:Participant")&&!cr(oe)}(d)||O4(d))&&(de(x,{width:v.width,height:v.height}),de(I,{fontSize:k+"px",lineHeight:R,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px"})),function(oe){return Y(oe,"bpmn:SubProcess")&&cr(oe)}(d)&&(de(x,{width:v.width,x:v.x}),de(I,{fontSize:k+"px",lineHeight:R,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px"}));var $=90*w,W=7*w,H=4*w;if(m.labelTarget&&(de(x,{width:$,height:v.height+W+H,x:b-$/2,y:v.y-W}),de(I,{fontSize:P+"px",lineHeight:M,paddingTop:W+"px",paddingBottom:H+"px"})),pt(m)&&!Jt(m)&&!br(m)){var z=el(d),Q=f.getAbsoluteBBox({x:z.x,y:z.y,width:0,height:0}),J=P+W+H;de(x,{width:$,height:J,x:Q.x-$/2,y:Q.y-J/2}),de(I,{fontSize:P+"px",lineHeight:M,paddingTop:W+"px",paddingBottom:H+"px"})}return Y(d,"bpmn:TextAnnotation")&&(de(x,{width:v.width,height:v.height,minWidth:30*w,minHeight:10*w}),de(I,{textAlign:"left",paddingTop:5*w+"px",paddingBottom:7*w+"px",paddingLeft:7*w+"px",paddingRight:5*w+"px",fontSize:k+"px",lineHeight:R})),{bounds:x,style:I}},Og.prototype.update=function(d,f,m,v){var b,_,x;Y(d,"bpmn:TextAnnotation")&&(_=this._canvas.getAbsoluteBBox(d),b={x:d.x,y:d.y,width:d.width/_.width*v.width,height:d.height/_.height*v.height}),(x=f)&&x.trim()||(f=null),this._modeling.updateLabel(d,f,b)};var b8="djs-element-hidden",_8="djs-label-hidden";function E8(d,f,m){var v,b,_,x=this,w=f.getDefaultLayer();d.on("directEditing.activate",function(S){var T=S.active;if(Y(v=T.element.label||T.element,"bpmn:TextAnnotation")){b=f.getAbsoluteBBox(v),_=Rt("g");var P=m.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:v.width,containerHeight:v.height,position:{mx:0,my:0}}),M=x.path=Rt("path");Et(M,{d:P,strokeWidth:2,stroke:Ck(v)}),rn(_,M),rn(w,_),bs(_,v.x,v.y)}Y(v,"bpmn:TextAnnotation")||v.labelTarget?f.addMarker(v,b8):(Y(v,"bpmn:Task")||Y(v,"bpmn:CallActivity")||Y(v,"bpmn:SubProcess")||Y(v,"bpmn:Participant"))&&f.addMarker(v,_8)}),d.on("directEditing.resize",function(S){if(Y(v,"bpmn:TextAnnotation")){var M=Math.max(v.height/b.height*(S.height+S.dy),0),k=m.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:v.width,containerHeight:M,position:{mx:0,my:0}});Et(x.path,{d:k})}}),d.on(["directEditing.complete","directEditing.cancel"],function(S){var T=S.active;T&&(f.removeMarker(T.element.label||T.element,b8),f.removeMarker(v,_8)),v=void 0,b=void 0,_&&(vi(_),_=void 0)})}function Ck(d,f){return dr(d).get("stroke")||f||"black"}E8.$inject=["eventBus","canvas","pathMap"];var k4={__depends__:[O_,M4,tk],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Og],labelEditingPreview:["type",E8]},x8=["top","bottom","left","right"];function kg(d,f){function m(v){if(Jt(v)){var b=function(_){var R,I,x=mn(_.label),S=Sk(mn(_),x);if(-1!==x8.indexOf(S)){var P=(I=mn(R=_),[].concat(R.incoming.map(function(W){return W.waypoints[W.waypoints.length-2]}),R.outgoing.map(function(W){return W.waypoints[1]})).map(function(W){return Sk(I,W)}));if(_.host){var M=function(R){var I,$=R.host,H=Zr(mn(R),$);return I=H.indexOf("-")>=0?H.split("-"):[H],x8.filter(function(Q){return-1===I.indexOf(Q)})}(_);P=P.concat(M)}var k=x8.filter(function(R){return-1===P.indexOf(R)});if(-1===k.indexOf(S))return k[0]}}(v);b&&function(_,x){var w=mn(_),S=_.label,T=mn(S);if(S.parent){var P,M=Yt(_);switch(x){case"top":P={x:w.x,y:M.top-10-S.height/2};break;case"left":P={x:M.left-10-S.width/2,y:w.y};break;case"bottom":P={x:w.x,y:M.bottom+10+S.height/2};break;case"right":P={x:M.right+10+S.width/2,y:w.y}}var k=hc(P,T);f.moveShape(S,k)}}(v,b)}}st.call(this,d),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(v){var b=v.context,_=b.connection,w=_.target;!1!==(b.hints||{}).createElementsBehavior&&(m(_.source),m(w))}),this.postExecuted(["label.create"],function(v){var b=v.context;!1!==(b.hints||{}).createElementsBehavior&&m(b.shape.labelTarget)}),this.postExecuted(["elements.create"],function(v){var b=v.context;!1!==(b.hints||{}).createElementsBehavior&&b.elements.forEach(function(x){m(x)})})}function Sk(d,f){return Zr(f,d,5)}function w8(d){st.call(this,d),this.preExecute("shape.append",function(f){var m=f.source,v=f.shape;f.position||(f.position=Y(v,"bpmn:TextAnnotation")?{x:m.x+m.width/2+75,y:m.y-50-v.height/2}:{x:m.x+m.width+80+v.width/2,y:m.y+m.height/2})},!0)}function C8(d,f){d.invoke(st,this),this.postExecute("shape.move",function(m){var v=m.newParent,b=m.shape;ge(kt(b.incoming.concat(b.outgoing),function(_){return Y(_,"bpmn:Association")}),function(_){f.moveConnection(_,{x:0,y:0},v)})},!0)}function R4(d,f){f.invoke(st,this),this._bpmnReplace=d;var m=this;this.postExecuted("elements.create",500,function(v){var b=v.elements;1===(b=b.filter(function(_){return Dk(_,_.host)})).length&&b.map(function(_){return b.indexOf(_)}).forEach(function(_){v.elements[_]=m._replaceShape(b[_],b[_])})},!0),this.preExecute("elements.move",500,function(v){var b=v.shapes,_=v.newHost;if(1===b.length){var x=b[0];Dk(x,_)&&(v.shapes=[m._replaceShape(x,_)])}},!0)}function Dk(d,f){return!br(d)&&Gn(d,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!f}function I4(d,f){function m(v){return kt(v.attachers,function(b){return Y(b,"bpmn:BoundaryEvent")})}st.call(this,d),this.postExecute("connection.create",function(v){var b=v.context.source,_=v.context.target,x=m(_);Y(b,"bpmn:EventBasedGateway")&&Y(_,"bpmn:ReceiveTask")&&x.length>0&&f.removeElements(x)}),this.postExecute("connection.reconnect",function(v){var _=v.context.newSource;Y(v.context.oldSource,"bpmn:Gateway")&&Y(_,"bpmn:EventBasedGateway")&&ge(_.outgoing,function(x){var w=x.target,S=m(w);Y(w,"bpmn:ReceiveTask")&&S.length>0&&f.removeElements(S)})})}function Uh(d){d.invoke(st,this),this.preExecute("shape.create",1500,function(f){var m=f.context,v=m.parent,b=m.shape;Y(v,"bpmn:Lane")&&!Y(b,"bpmn:Lane")&&(m.parent=Z_(v,"bpmn:Participant"))})}function Gh(d,f){st.call(this,d),this.preExecute("shape.create",function(m){var v=m.context.shape;if(Y(v,"bpmn:DataObjectReference")&&"label"!==v.type){var b=f.create("bpmn:DataObject");v.businessObject.dataObjectRef=b}})}Ye(kg,st),kg.$inject=["eventBus","modeling"],Ye(w8,st),w8.$inject=["eventBus"],Ye(C8,st),C8.$inject=["injector","modeling"],R4.$inject=["bpmnReplace","injector"],Ye(R4,st),R4.prototype._replaceShape=function(d,f){var m,v=(m=bt(d).eventDefinitions)&&m[0],b={type:"bpmn:BoundaryEvent",host:f};return v&&(b.eventDefinitionType=v.$type),this._bpmnReplace.replaceElement(d,b,{layoutConnection:!1})},I4.$inject=["eventBus","modeling"],Ye(I4,st),Uh.$inject=["injector"],Ye(Uh,st),Gh.$inject=["eventBus","bpmnFactory"],Ye(Gh,st);function L4(d,f,m){function v(){var b=d.getRootElement();return Y(b,"bpmn:Collaboration")?b:m.makeCollaboration()}st.call(this,f),f.on(["create.start","shape.move.start"],2e3,function(b){var M,k,_=b.context,x=_.shape,w=d.getRootElement();if(Y(x,"bpmn:Participant")&&Y(w,"bpmn:Process")&&w.children.length){var S=w.children.filter(function(M){return!Y(M,"bpmn:Group")&&!br(M)&&!_i(M)});if(S.length){var T=si(S),P=function(M,k){k={width:k.width+40+30,height:k.height+40};var R=Math.max(M.width,k.width),I=Math.max(M.height,k.height);return{x:-R/2,y:-I/2,width:R,height:I}}(x,T);de(x,P),_.createConstraints=(M=x,{bottom:(k=Yt(k=T)).top+M.height/2-20,left:k.right-M.width/2+20,top:k.bottom-M.height/2+20,right:k.left+M.width/2-20-30})}}}),f.on("create.start",2e3,function(b){var _=b.context.shape,x=d.getRootElement(),w=d.getGraphics(x);function S(T){T.element=x,T.gfx=w}Y(_,"bpmn:Participant")&&Y(x,"bpmn:Process")&&(f.on("element.hover",2e3,S),f.once("create.cleanup",function(){f.off("element.hover",S)}))}),this.preExecute("elements.create",2e3,function(b){var _,w=b.parent,S=cn(b.elements,function(P){return Y(P,"bpmn:Participant")});S&&Y(w,"bpmn:Process")&&(b.parent=v(),(_=b.hints=b.hints||{}).participant=S,_.process=w,_.processRef=bt(S).get("processRef"))},!0),this.preExecute("shape.create",function(b){var _=b.parent,x=b.shape;Y(x,"bpmn:Participant")&&Y(_,"bpmn:Process")&&(b.parent=v(),b.process=_,b.processRef=bt(x).get("processRef"))},!0),this.execute("shape.create",function(b){var _=b.hints||{},x=b.process||_.process,w=b.shape,S=_.participant;!x||S&&w!==S||bt(w).set("processRef",bt(x))},!0),this.revert("shape.create",function(b){var _=b.hints||{},w=b.processRef||_.processRef,S=b.shape,T=_.participant;!b.process&&!_.process||T&&S!==T||bt(S).set("processRef",w)},!0),this.postExecute("shape.create",function(b){var x=b.process||b.hints.process,w=b.shape,S=(b.hints||{}).participant;if(x){var T=x.children.slice();S?w===S&&m.moveElements(T,{x:0,y:0},S):m.moveElements(T,{x:0,y:0},w)}},!0)}L4.$inject=["canvas","eventBus","modeling"],Ye(L4,st);var F4="__targetRef_placeholder";function sd(d,f){function m(_,x){var w=_.get("properties"),S=cn(w,function(T){return T.name===F4});return!S&&x&&K(w,S=f.create("bpmn:Property",{name:F4})),S}function v(_,x){var T,P,w=m(_);w&&(T=w,P=x,cn(_.get("dataInputAssociations"),function(M){return M!==P&&M.targetRef===T})||Gi(_.get("properties"),w))}function b(_){var x,w=_.context,S=w.connection,T=S.businessObject,P=S.target,M=P&&P.businessObject,k=w.newTarget,R=k&&k.businessObject,I=w.oldTarget||w.target,$=I&&I.businessObject,W=S.businessObject;$&&$!==M&&v($,T),R&&R!==M&&v(R,T),M?(x=m(M,!0),W.targetRef=x):W.targetRef=null}st.call(this,d),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],Ma(b)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],Ma(b))}function Ma(d){return function(f){if(Y(f.context.connection,"bpmn:DataInputAssociation"))return d(f)}}function Oa(d){this._bpmnUpdater=d}function ob(d,f,m,v){function b(x){return x.children.filter(function(w){return Y(w,"bpmn:DataStoreReference")&&!w.labelTarget})}function _(x,w){var S=x.businessObject||x;if(w=w||m.filter(function(P){return Y(P,"bpmn:Participant")&&bt(P).processRef})[0]){var T=w.businessObject||w;f.execute("dataStore.updateContainment",{dataStoreBo:S,dataStoreDi:dr(x),newSemanticParent:T.processRef||T,newDiParent:dr(w)})}}st.call(this,v),f.registerHandler("dataStore.updateContainment",Oa),this.preExecute("shape.create",function(x){var w=x.context,S=w.shape;Y(S,"bpmn:DataStoreReference")&&"label"!==S.type&&(w.hints||(w.hints={}),w.hints.autoResize=!1)}),this.preExecute("elements.move",function(x){var w=x.context,S=w.shapes;S.filter(function(T){return Y(T,"bpmn:DataStoreReference")}).length&&(w.hints||(w.hints={}),w.hints.autoResize=S.filter(function(T){return!Y(T,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(x){var w=x.context.shape,S=w.parent;Y(w,"bpmn:DataStoreReference")&&"label"!==w.type&&Y(S,"bpmn:Collaboration")&&_(w)}),this.postExecute("shape.move",function(x){var w=x.context,S=w.shape,T=w.oldParent,P=S.parent;Y(T,"bpmn:Collaboration")||Y(S,"bpmn:DataStoreReference")&&"label"!==S.type&&Y(P,"bpmn:Collaboration")&&_(S,Y(T,"bpmn:Participant")?T:function(M,k){for(;M.parent;){if(Y(M.parent,"bpmn:Participant"))return M.parent;M=M.parent}}(T))}),this.postExecute("shape.delete",function(x){var w=x.context.shape,S=d.getRootElement();Gn(w,["bpmn:Participant","bpmn:SubProcess"])&&Y(S,"bpmn:Collaboration")&&b(S).filter(function(T){return function(P,M){for(var k=P.businessObject||P,R=M.businessObject||M;k.$parent;){if(k.$parent===R.processRef||R)return!0;k=k.$parent}return!1}(T,w)}).forEach(function(T){_(T)})}),this.postExecute("canvas.updateRoot",function(x){var w=x.context,T=w.newRoot;b(w.oldRoot).forEach(function(P){Y(T,"bpmn:Process")&&_(P,T)})})}function S8(d,f){st.call(this,d),this.postExecuted("shape.delete",500,function(m){var w,T,P,M,k,R,I,v=m.context,b=v.hints,_=v.shape,x=v.oldParent;Y(_,"bpmn:Lane")&&(b&&b.nested||(w=_,k=Fp(x),R=[],I=[],zc(k,function($){return $.y>w.y?I.push($):R.push($),$.children}),k.length&&(T=I.length&&R.length?w.height/2:w.height,R.length&&(P=f.calculateAdjustments(R,"y",T,w.y-10),f.makeSpace(P.movingShapes,P.resizingShapes,{x:0,y:T},"s")),I.length&&(M=f.calculateAdjustments(I,"y",-T,w.y+w.height+10),f.makeSpace(M.movingShapes,M.resizingShapes,{x:0,y:-T},"n")))))})}function sb(d,f){f.invoke(st,this),this._bpmnReplace=d;var m=this;this.postExecuted("elements.create",500,function(v){var b=v.elements;b.filter(function(_){return Tk(_,_.host)}).map(function(_){return b.indexOf(_)}).forEach(function(_){v.elements[_]=m._replaceShape(b[_])})},!0),this.preExecute("elements.move",500,function(v){var b=v.shapes,_=v.newHost;b.forEach(function(x,w){var T=x.host;Tk(x,-1!==b.indexOf(T)?T:_)&&(b[w]=m._replaceShape(x))})},!0)}function Tk(d,f){return!br(d)&&Y(d,"bpmn:BoundaryEvent")&&!f}function D8(d,f,m){function v(b,_,x){var w,S,T,M,k,R,I,$=_.waypoints,W=b.outgoing.slice(),H=b.incoming.slice(),z=Ii($,I=lt(x.width)?mn(x):x);if(z){if(w=$.slice(0,z.index),S=$.slice(z.index+(z.bendpoint?1:0)),!w.length||!S.length)return;T=z.bendpoint?$[z.index]:I,1!==w.length&&B4(b,w[w.length-1])||w.push(V4(T)),1!==S.length&&B4(b,S[0])||S.unshift(V4(T))}M=_.target,f.canConnect(_.source,b,_)&&(m.reconnectEnd(_,b,w||I),k=_),f.canConnect(b,M,_)&&(k?R=m.connect(b,M,{type:_.type,waypoints:S}):(m.reconnectStart(_,b,S||I),R=_));var Q=[].concat(k&&kt(H,function(J){return J.source===k.source})||[],R&&kt(W,function(J){return J.target===R.target})||[]);Q.length&&m.removeElements(Q)}st.call(this,d),this.preExecute("elements.move",function(b){var _=b.newParent,x=b.shapes,w=b.delta,S=x[0];if(S&&_){_&&_.waypoints&&(b.newParent=_=_.parent);var T=mn(S),P={x:T.x+w.x,y:T.y+w.y},M=cn(_.children,function(k){return f.canInsert(x,k)&&Ii(k.waypoints,P)});M&&(b.targetFlow=M,b.position=P)}},!0),this.postExecuted("elements.move",function(b){var x=b.targetFlow;x&&v(b.shapes[0],x,b.position)},!0),this.preExecute("shape.create",function(b){var _=b.parent;f.canInsert(b.shape,_)&&(b.targetFlow=_,b.parent=_.parent)},!0),this.postExecuted("shape.create",function(b){var x=b.targetFlow;x&&v(b.shape,x,b.position)},!0)}function B4(d,f){var m=f.x,v=f.y;return m>=d.x&&m<=d.x+d.width&&v>=d.y&&v<=d.y+d.height}function V4(d){return de({},d)}function T8(d,f){st.call(this,d),this.preExecuted("connection.create",function(m){var v=m.context,b=v.connection,_=v.source,x=v.target,w=v.hints;(!w||!1!==w.createElementsBehavior)&&sl(b)&&(Y(_,"bpmn:EventBasedGateway")?x.incoming.filter(S=>S!==b&&sl(S)):x.incoming.filter(S=>S!==b&&sl(S)&&Y(S.source,"bpmn:EventBasedGateway"))).forEach(function(S){f.removeConnection(S)})}),this.preExecuted("shape.replace",function(m){var v=m.context.newShape;Y(v,"bpmn:EventBasedGateway")&&v.outgoing.filter(sl).reduce(function(b,_){return b.includes(_.target)?b:b.concat(_.target)},[]).forEach(function(b){b.incoming.filter(sl).forEach(function(_){const x=b.incoming.filter(sl).filter(function(w){return w.source===v});(_.source!==v||x.length>1)&&f.removeConnection(_)})})})}function sl(d){return Y(d,"bpmn:SequenceFlow")}sd.$inject=["eventBus","bpmnFactory"],Ye(sd,st),Oa.$inject=["bpmnUpdater"],Oa.prototype.execute=function(d){var f=d.dataStoreBo,m=d.dataStoreDi,v=d.newSemanticParent,b=d.newDiParent;return d.oldSemanticParent=f.$parent,d.oldDiParent=m.$parent,this._bpmnUpdater.updateSemanticParent(f,v),this._bpmnUpdater.updateDiParent(m,b),[]},Oa.prototype.revert=function(d){var m=d.dataStoreDi,b=d.oldDiParent;return this._bpmnUpdater.updateSemanticParent(d.dataStoreBo,d.oldSemanticParent),this._bpmnUpdater.updateDiParent(m,b),[]},ob.$inject=["canvas","commandStack","elementRegistry","eventBus"],Ye(ob,st),S8.$inject=["eventBus","spaceTool"],Ye(S8,st),sb.$inject=["bpmnReplace","injector"],Ye(sb,st),sb.prototype._replaceShape=function(d){var m,v=(m=bt(d).eventDefinitions)&&m[0];return this._bpmnReplace.replaceElement(d,v?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:v.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},Ye(D8,st),D8.$inject=["eventBus","bpmnRules","modeling"],T8.$inject=["eventBus","modeling"],Ye(T8,st);function ab(d,f,m){f.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(v){var b=v.context.shape||v.shape,_=v.hover;Y(_,"bpmn:Lane")&&!Gn(b,["bpmn:Lane","bpmn:Participant"])&&(v.hover=vc(_),v.hoverGfx=d.getGraphics(v.hover));var x=m.getRootElement();_!==x&&(b.labelTarget||Y(b,"bpmn:Group"))&&(v.hover=x,v.hoverGfx=d.getGraphics(v.hover))}),f.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(v){var b=v.hover;Y(b,"bpmn:Lane")&&(v.hover=vc(b)||b,v.hoverGfx=d.getGraphics(v.hover))}),f.on(["bendpoint.move.hover"],1500,function(v){var _=v.hover,x=v.context.type;Y(_,"bpmn:Lane")&&/reconnect/.test(x)&&(v.hover=vc(_)||_,v.hoverGfx=d.getGraphics(v.hover))}),f.on(["connect.start"],1500,function(v){var b=v.context,_=b.start;Y(_,"bpmn:Lane")&&(b.start=vc(_)||_)}),f.on("shape.move.start",2e3,function(v){var b=v.shape;Y(b,"bpmn:Lane")&&(v.shape=vc(b)||b)}),f.on("spaceTool.move",2e3,function(v){var b=v.hover;b&&Y(b,"bpmn:Lane")&&(v.hover=vc(b))})}function j4(d,f,m,v,b,_){function x(M,k,R){var W,I=m.filter(function($){return Y($,"bpmn:Group")}).filter(function($){return $.businessObject!==R});k&&(W=k,!I.some(function(H){var z=bt(H);return(z.categoryValueRef&&z.categoryValueRef.$parent)===W}))&&function($){var W=$.$parent;W&&(Gi(W.get("rootElements"),$),$.$parent=null)}(k),M&&!function($,W){return $.some(function(H){return bt(H).categoryValueRef===W})}(I,M)&&function($){var W=$.$parent;W&&(Gi(W.get("categoryValue"),$),$.$parent=null)}(M)}function w(M,k){return R=M,I=k,$=f.getDefinitions(),K(I.get("categoryValue"),R),R.$parent=I,K($.get("rootElements"),I),I.$parent=$,R;var R,I,$}function S(M,k){var R=bt(M),I=R.categoryValueRef;I||(I=R.categoryValueRef=k.categoryValue=k.categoryValue||d.create("bpmn:CategoryValue"));var $=I.$parent;$||($=I.$parent=k.category=k.category||d.create("bpmn:Category")),w(I,$,f.getDefinitions())}function T(M,k){var R=k.category,I=k.categoryValue,$=bt(M);I?($.categoryValueRef=null,x(I,R,$)):x(null,$.categoryValueRef.$parent,$)}function P(M,k){var R=d.create(M.$type);return _.copyElement(M,R,null,k)}b.invoke(st,this),this.execute("label.create",function(M){var k=M.context,R=k.labelTarget;Y(R,"bpmn:Group")&&S(R,k)}),this.revert("label.create",function(M){var k=M.context,R=k.labelTarget;Y(R,"bpmn:Group")&&T(R,k)}),this.execute("shape.delete",function(M){var k=M.context,R=k.shape,I=bt(R);if(Y(R,"bpmn:Group")&&!R.labelTarget){var $=k.categoryValue=I.categoryValueRef;$&&(x($,k.category=$.$parent,I),I.categoryValueRef=null)}}),this.reverted("shape.delete",function(M){var k=M.context,R=k.shape;if(Y(R,"bpmn:Group")&&!R.labelTarget){var I=k.category,$=k.categoryValue,W=bt(R);$&&(W.categoryValueRef=$,w($,I))}}),this.execute("shape.create",function(M){var k=M.context,R=k.shape;Y(R,"bpmn:Group")&&!R.labelTarget&&bt(R).categoryValueRef&&S(R,k)}),this.reverted("shape.create",function(M){var k=M.context,R=k.shape;Y(R,"bpmn:Group")&&!R.labelTarget&&bt(R).categoryValueRef&&T(R,k)}),v.on("copyPaste.copyElement",770,function(M){var k=M.descriptor,R=M.element;if(Y(R,"bpmn:Group")&&!R.labelTarget){var I=bt(R);if(I.categoryValueRef){var $=I.categoryValueRef;k.categoryValue=P($,!0),$.$parent&&(k.category=P($.$parent,!0))}}}),v.on("copyPaste.pasteElement",770,function(M){var k=M.descriptor,I=k.categoryValue,$=k.category;I&&(I=k.businessObject.categoryValueRef=P(I)),$&&(I.$parent=P($)),delete k.category,delete k.categoryValue})}function ad(d,f,m,v){var b,w;return 0==(b=(v.y-m.y)*(f.x-d.x)-(v.x-m.x)*(f.y-d.y))?null:(w=((v.x-m.x)*(d.y-m.y)-(v.y-m.y)*(d.x-m.x))/b,{x:Math.round(d.x+w*(f.x-d.x)),y:Math.round(d.y+w*(f.y-d.y))})}function lb(d){function f(m,v,b){var _,w={x:b.x-50,y:b.y},S=ad(m,v,b,{x:b.x,y:b.y-50}),T=ad(m,v,b,w);_=S&&T?$4(S,b)>$4(T,b)?T:S:S||T,m.original=_}d.on("bpmnElement.added",function(m){var v,b,_=m.element;_.waypoints&&(f((b=(v=_).waypoints)[0],b[1],mn(v.source)),f(b[b.length-1],b[b.length-2],mn(v.target)))})}function $4(d,f){return Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2))}function Rg(d){st.call(this,d);var f=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(m){var v=m.context.shape,b=bt(v),_=dr(v);Gn(b,f)&&!_.get("isHorizontal")&&_.set("isHorizontal",!0)})}ab.$inject=["elementRegistry","eventBus","canvas"],j4.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],Ye(j4,st),lb.$inject=["eventBus"],Rg.$inject=["eventBus"],Ye(Rg,st);var Ig=Math.sqrt,P8=Math.min,Pk=Math.max,z4=Math.abs;function M8(d){return Math.pow(d,2)}function Ng(d,f){return Ig(M8(d.x-f.x)+M8(d.y-f.y))}function Mk(d,f,m,v){var b=f.x-d.x,_=f.y-d.y,x=m.x-d.x,w=m.y-d.y,S=b*b+_*_,T=(b*x+_*w)/S,P=T*T-(x*x+w*w-v*v)/S;if(P<0&&P>-1e-6&&(P=0),P<0)return[];var M=Ig(P),k=-T+M,R=-T-M,I={x:d.x-b*k,y:d.y-_*k};return 0===P?[I]:[I,{x:d.x-b*R,y:d.y-_*R}].filter(function($){return H4((W=$).x,(H=d).x,(z=f).x)&&H4(W.y,H.y,z.y);var W,H,z})}function H4(d,f,m){return d>=P8(f,m)-ld&&d<=Pk(f,m)+ld}var ld=.1;function Lg(d,f){return z4(d.x-f.x)<=ld&&z4(d.y-f.y)<=ld}function cb(d,f,m,v){var b=0,_=0,x={point:d,delta:{x:0,y:0}},w=function(Ne,Kt){var gt,$e,Qe,pn,ue,G,xe,He,et,Lt,zt,Wt,St=0;for(St=0;St<Kt.length-1;St++){if(Lg(gt=Kt[St],$e=Kt[St+1])?G=[gt]:(Qe=Ng(Ne,gt),pn=Ng(Ne,$e),G=Mk(gt,$e,Ne,P8(Qe,pn))),G.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===G.length&&(xe={type:"bendpoint",position:G[0],segmentIndex:St,bendpointIndex:Lg(gt,G[0])?St:St+1}),2===G.length&&(xe={type:"segment",position:ue={x:((zt=G[0]).x+(Wt=G[1]).x)/2,y:(zt.y+Wt.y)/2},segmentIndex:St,relativeLocation:Ng(gt,ue)/Ng(gt,$e)}),He=Ng(xe.position,Ne),(!Lt||et>He)&&(Lt=xe,et=He)}return Lt}(d,m),S=w.segmentIndex,T=function(Ne,Kt,gt,$e){var Qe=gt.segmentIndex,pn=Kt.length-Ne.length;if($e.segmentMove){var G=$e.segmentMove.newSegmentStartIndex;return Qe===$e.segmentMove.segmentStartIndex?G:Qe>=G?Qe+pn<G?G:Qe+pn:Qe}if($e.bendpointMove){var xe,He=$e.bendpointMove.insert,et=$e.bendpointMove.bendpointIndex;return 0===pn?Qe:(Qe>=et&&(xe=He?Qe+1:Qe-1),Qe<et&&(xe=Qe,He&&"bendpoint"!==gt.type&&et-1===Qe&&O8(Kt,et)<gt.relativeLocation&&xe++),xe)}return 0===pn?Qe:$e.connectionStart&&0===Qe?0:$e.connectionEnd&&Qe===Ne.length-2?Kt.length-2:Math.floor((Kt.length-2)/2)}(m,f,w,v);if(T<0||T>f.length-2||null===T)return x;var P,M,Ne,Kt,gt,$e,k=k8(m,S),R=k8(f,T),I=w.position,$=(Kt=I,gt=lg((Ne=k)[0],Ne[1]),$e=lg(Ne[0],Kt),0===gt?0:$e/gt),W=(P=R,M=z2(k),z2(P)-M);if("bendpoint"===w.type){var H=f.length-m.length,z=w.bendpointIndex;if(-1!==f.indexOf(m[z]))return x;if(0===H){var J=f[z];return{delta:{x:b=J.x-w.position.x,y:_=J.y-w.position.y},point:{x:d.x+b,y:d.y+_}}}H<0&&0!==z&&z<m.length-1&&($=O8(m,z))}var oe,we,Ee={x:(R[1].x-R[0].x)*$+R[0].x,y:(R[1].y-R[0].y)*$+R[0].y},Te=(oe={x:d.x-I.x,y:d.y-I.y},(we=W)?{x:Math.cos(we)*oe.x-Math.sin(we)*oe.y,y:Math.sin(we)*oe.x+Math.cos(we)*oe.y}:oe);return b=Ee.x+Te.x-d.x,_=Ee.y+Te.y-d.y,{point:j0(Ee),delta:j0({x:b,y:_})}}function O8(d,f){var m=lg(d[f-1],d[f]);return m/(m+lg(d[f],d[f+1]))}function k8(d,f){return[d[f],d[f+1]]}function zp(d,f,m){var v=q1(f),b=q1(m),_=hc(d,v);return j0({x:b.x+_.x*(m.width/f.width),y:b.y+_.y*(m.height/f.height)})}function U4(d,f,m){var v=q1(d),b=q1(f),_=q1(m),x=hc(d,v),w=hc(v,b);return function(R,I,$){var we,Ee,Te,Ne,W=Yt(I),H=Yt($);if((Te=we=W).right!==(Ne=Ee=H).right&&Te.left!==Ne.left||function(Te,Ne){return Te.top!==Ne.top&&Te.bottom!==Ne.bottom}(we,Ee))return null;var z,oe=Zr(I,R);if("top"===oe)z={x:0,y:H.bottom-W.bottom};else if("bottom"===oe)z={x:0,y:H.top-W.top};else if("right"===oe)z={x:H.left-W.left,y:0};else{if("left"!==oe)return null;z={x:H.right-W.right,y:0}}return Zr($,{x:R.x+z.x,y:R.y+z.y})!==oe?null:z}(v,f,m)||j0({x:_.x+w.x*(m.width/f.width)+x.x-d.x,y:_.y+w.y*(m.height/f.height)+x.y-d.y})}function ub(d,f,m,v){function b(x){var w=x.context,S=w.element,T=w.properties;if("name"in T&&f.updateLabel(S,T.name),"text"in T&&Y(S,"bpmn:TextAnnotation")){var P=v.getTextAnnotationBounds({x:S.x,y:S.y,width:S.width,height:S.height},T.text||"");f.updateLabel(S,T.text,P)}}st.call(this,d),this.postExecute("element.updateProperties",b),this.postExecute("element.updateModdleProperties",x=>{bt(x.context.element)===x.context.moddleElement&&b(x)}),this.postExecute(["shape.create","connection.create"],function(x){var w=x.context;if(!1!==(w.hints||{}).createElementsBehavior){var S=w.shape||w.connection;!br(S)&&pt(S)&&qi(S)&&f.updateLabel(S,qi(S))}}),this.postExecute("shape.delete",function(x){var w=x.context,S=w.labelTarget;S&&!1!==(w.hints||{}).unsetLabel&&f.updateLabel(S,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(x){var w=x.context;if(!1!==(w.hints||{}).labelBehavior){var S,T=w.connection.label;T&&T.parent&&(S=function _(x){var I,$,W,w=x.context,S=w.connection,T=S.label,P=de({},w.hints),M=w.newWaypoints||S.waypoints,k=w.oldWaypoints;return void 0===P.startChanged&&(P.startChanged=!!P.connectionStart),void 0===P.endChanged&&(P.endChanged=!!P.connectionEnd),I=M,$=k,W=P,cb(mn(T),I,$,W).delta}(x),f.moveShape(T,S))}}),this.postExecute(["shape.replace"],function(x){var w=x.context,S=w.newShape,T=w.oldShape,P=bt(S);P&&pt(P)&&T.label&&S.label&&(S.label.x=T.label.x,S.label.y=T.label.y)}),this.postExecute("shape.resize",function(x){var w,S=x.context,T=S.shape,P=S.newBounds,M=S.oldBounds;if(Jt(T)){var k=T.label,I=function Ok(d,f,m){return j0(hc(zp(d,f,m),d))}(function($,W){var z;if(W.length)return Rp($,(z=$,qr(W.map(function(oe){return{line:oe,distance:OS(z,oe)}}),"distance")[0].line))}(mn(k),[[{x:(w=M).x,y:w.y},{x:w.x+(w.width||0),y:w.y}],[{x:w.x+(w.width||0),y:w.y},{x:w.x+(w.width||0),y:w.y+(w.height||0)}],[{x:w.x,y:w.y+(w.height||0)},{x:w.x+(w.width||0),y:w.y+(w.height||0)}],[{x:w.x,y:w.y},{x:w.x,y:w.y+(w.height||0)}]]),M,P);f.moveShape(k,I)}})}function A8(d,f){function m(v,b){var _=v.context,x=_.connection,w=de({},_.hints),S=_.newWaypoints||x.waypoints,T=_.oldWaypoints;return void 0===w.startChanged&&(w.startChanged=!!w.connectionStart),void 0===w.endChanged&&(w.endChanged=!!w.connectionEnd),cb(b,S,T,w).point}st.call(this,d),this.postExecute(["connection.layout","connection.updateWaypoints"],function(v){var b=v.context.connection,_=b.outgoing;b.incoming.forEach(function(x){var S=m(v,x.waypoints[x.waypoints.length-1]),T=[].concat(x.waypoints.slice(0,-1),[S]);f.updateWaypoints(x,T)}),_.forEach(function(x){var S=m(v,x.waypoints[0]),T=[].concat([S],x.waypoints.slice(1));f.updateWaypoints(x,T)})}),this.postExecute(["connection.move"],function(v){var b=v.context,_=b.connection,x=_.outgoing,S=b.delta;_.incoming.forEach(function(T){var P=T.waypoints[T.waypoints.length-1],M={x:P.x+S.x,y:P.y+S.y},k=[].concat(T.waypoints.slice(0,-1),[M]);f.updateWaypoints(T,k)}),x.forEach(function(T){var P=T.waypoints[0],k=[].concat([{x:P.x+S.x,y:P.y+S.y}],T.waypoints.slice(1));f.updateWaypoints(T,k)})})}function Hp(d,f,m){var v=Wh(d),b=W4(v,f),_=v[0];return b.length?b[b.length-1]:zp(_.original||_,m,f)}function db(d,f,m){var v=Wh(d),b=W4(v,f),_=v[v.length-1];return b.length?b[0]:zp(_.original||_,m,f)}function pb(d,f,m){var v=Wh(d),b=q4(f,m),_=v[0];return zp(_.original||_,b,f)}function fb(d,f,m){var v=Wh(d),b=q4(f,m),_=v[v.length-1];return zp(_.original||_,b,f)}function q4(d,f){return{x:d.x-f.x,y:d.y-f.y,width:d.width,height:d.height}}function Wh(d){var f=d.waypoints;if(!f.length)throw new Error("connection#"+d.id+": no waypoints");return f}function W4(d,f){return kt(wr(d,hb),function(m){return"intersect"===Zr(f,m,1)})}function hb(d){return d.original||d}function Up(d,f){st.call(this,d),this.postExecute("shape.replace",function(m){var P,M,v=m.oldShape,b=m.newShape;if(M=b,Y(P=v,"bpmn:Participant")&&cr(P)&&Y(M,"bpmn:Participant")&&!cr(M)){var _,x,w,S,T=(x=Hc([_=v],!1),w=[],S=[],x.forEach(function(P){P!==_&&(P.incoming.forEach(function(M){Y(M,"bpmn:MessageFlow")&&w.push(M)}),P.outgoing.forEach(function(M){Y(M,"bpmn:MessageFlow")&&S.push(M)}))},[]),{incoming:w,outgoing:S});T.incoming.forEach(function(P){var M=db(P,b,v);f.reconnectEnd(P,b,M)}),T.outgoing.forEach(function(P){var M=Hp(P,b,v);f.reconnectStart(P,b,M)})}},!0)}function mb(d,f){st.call(this,d),this.preExecute("shape.resize",function(m){var v=m.shape,b=dr(v),_=b&&b.get("label");_&&_.get("bounds")&&f.updateModdleProperties(v,_,{bounds:void 0})},!0)}function Fg(d,f,m){st.call(this,d),this.preExecute("shape.delete",function(v){var S,T,P,b=v.context.shape;if(1===b.incoming.length&&1===b.outgoing.length){var _=b.incoming[0],x=b.outgoing[0];if(Y(_,"bpmn:SequenceFlow")&&Y(x,"bpmn:SequenceFlow")&&f.canConnect(_.source,x.target,_)){var w=(T=x.waypoints,(P=ad(iu((S=_.waypoints)[S.length-2]),iu(S[S.length-1]),iu(T[1]),iu(T[0])))?[].concat(S.slice(0,S.length-1),[P],T.slice(1)):[iu(S[0]),iu(T[T.length-1])]);m.reconnectEnd(_,x.target,w)}}})}function iu(d){return d.original||d}function gb(d,f){st.call(this,d),this.preExecute("shape.delete",function(m){var v=m.shape,b=v.parent;Y(v,"bpmn:Participant")&&(m.collaborationRoot=b)},!0),this.postExecute("shape.delete",function(m){var v=m.collaborationRoot;v&&!v.businessObject.participants.length&&f.makeProcess()},!0)}function Bg(d,f,m,v){st.call(this,d);var b=v.get("dragging",!1);function _(x){var w,S,T=x.source,P=x.target;x.parent&&(Y(x,"bpmn:SequenceFlow")&&(m.canConnectSequenceFlow(T,P)||(S=!0),m.canConnectMessageFlow(T,P)&&(w="bpmn:MessageFlow")),Y(x,"bpmn:MessageFlow")&&(m.canConnectMessageFlow(T,P)||(S=!0),m.canConnectSequenceFlow(T,P)&&(w="bpmn:SequenceFlow")),Y(x,"bpmn:Association")&&!m.canConnectAssociation(T,P)&&(S=!0),S&&f.removeConnection(x),w&&f.connect(T,P,{type:w,waypoints:x.waypoints.slice()}))}this.postExecuted("elements.move",function(x){ge(x.closure.allConnections,_)},!0),this.preExecute("connection.reconnect",function(x){var w,S,R,I,$,W,H,T=x.context,P=T.connection,M=T.newSource||P.source,k=T.newTarget||P.target;(w=m.canConnect(M,k))&&w.type!==P.type&&(S=f.connect(M,k,{type:w.type,waypoints:P.waypoints.slice()}),f.removeConnection(P),T.connection=S,b&&(R=P,I=S,!(H=(W=b.context())&&W.payload.previousSelection)||!H.length||-1!==($=H.indexOf(R))&&H.splice($,1,I)))}),this.postExecuted("element.updateProperties",function(x){var w,S=x.context,T=S.properties,P=S.element,M=P.businessObject;T.default&&(w=cn(P.outgoing,po({id:P.businessObject.default.id})))&&f.updateProperties(w,{conditionExpression:void 0}),T.conditionExpression&&M.sourceRef.default===M&&f.updateProperties(P.source,{default:void 0})})}function Gp(d,f,m,v,b,_){v.invoke(st,this),this._bpmnReplace=d,this._elementRegistry=m,this._selection=_,this.postExecuted(["elements.create"],500,function(x){var w=x.context,S=w.parent,T=w.elements,P=Gr(T,function(M,k){var R=f.canReplace([k],k.host||k.parent||S);return R?M.concat(R.replacements):M},[]);P.length&&this._replaceElements(T,P)},this),this.postExecuted(["elements.move"],500,function(x){var w=x.context,S=w.newParent,T=w.newHost,P=[];ge(w.closure.topLevel,function(k){P=Ja(k)?P.concat(k.children):P.concat(k)}),1===P.length&&T&&(S=T);var M=f.canReplace(P,S);M&&this._replaceElements(P,M.replacements,T)},this),this.postExecute(["shape.replace"],1500,function(x){var w,S=x.context,M=S.oldShape.attachers;M&&M.length&&(w=f.canReplace(M,S.newShape),this._replaceElements(M,w.replacements))},this),this.postExecuted(["shape.replace"],1500,function(x){var w=x.context,S=w.oldShape,T=w.newShape;b.unclaimId(S.businessObject.id,S.businessObject),b.updateProperties(T,{id:S.id})})}Ye(ub,st),ub.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],Ye(A8,st),A8.$inject=["eventBus","modeling"],Up.$inject=["eventBus","modeling"],Ye(Up,st),Ye(mb,st),mb.$inject=["eventBus","modeling"],Ye(Fg,st),Fg.$inject=["eventBus","bpmnRules","modeling"],gb.$inject=["eventBus","modeling"],Ye(gb,st),Ye(Bg,st),Bg.$inject=["eventBus","modeling","bpmnRules","injector"],Ye(Gp,st),Gp.prototype._replaceElements=function(d,f){var m=this._elementRegistry,v=this._bpmnReplace,b=this._selection;ge(f,function(_){var x={type:_.newElementType},w=m.get(_.oldElementId),S=d.indexOf(w);d[S]=v.replaceElement(w,x,{select:!1})}),f&&b.select(d)},Gp.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var kk={width:140,height:120},ud={width:300,height:60},Vg={width:300,height:150},R8={width:140,height:120},I8={width:50,height:30};function X4(d){d.on("resize.start",1500,function(f){var x,w,S,T,P,M,k,R,I,$,m=f.context,v=m.shape,b=m.direction,_=m.balanced;(Y(v,"bpmn:Lane")||Y(v,"bpmn:Participant"))&&(m.resizeConstraints=(w=b,S=_,T=vc(x=v),P=!0,M=!0,k=id(T,[T]),R=Yt(x),I={},$={},/e/.test(w)?$.right=R.left+ud.width:/w/.test(w)&&($.left=R.right-ud.width),k.forEach(function(H){var z=Yt(H);/n/.test(w)&&(z.top<R.top-10&&(P=!1),S&&jg(R.top-z.bottom)<10&&$g(I,"top",z.top+ud.height),jg(R.top-z.top)<5&&at($,"top",z.bottom-ud.height)),/s/.test(w)&&(z.bottom>R.bottom+10&&(M=!1),S&&jg(R.bottom-z.top)<10&&at(I,"bottom",z.bottom-ud.height),jg(R.bottom-z.bottom)<5&&$g($,"bottom",z.top+ud.height))}),T.children.filter(function(H){return!H.hidden&&!H.waypoints&&(Y(H,"bpmn:FlowElement")||Y(H,"bpmn:Artifact"))}).forEach(function(H){var z=Yt(H);P&&/n/.test(w)&&at($,"top",z.top-vb),/e/.test(w)&&$g($,"right",z.right+L8),M&&/s/.test(w)&&$g($,"bottom",z.bottom+Xh),/w/.test(w)&&at($,"left",z.left-Ak)}),{min:$,max:I})),Y(v,"bpmn:Participant")&&(m.minDimensions=Vg),Y(v,"bpmn:SubProcess")&&cr(v)&&(m.minDimensions=R8),Y(v,"bpmn:TextAnnotation")&&(m.minDimensions=I8)})}X4.$inject=["eventBus"];var jg=Math.abs,Wn=Math.min,N8=Math.max;function Y4(d,f,m,v){var b=d[f];d[f]=void 0===b?m:v(m,b)}function at(d,f,m){return Y4(d,f,m,Wn)}function $g(d,f,m){return Y4(d,f,m,N8)}var L8=20,Ak=50,vb=20,Xh=20;function yb(d,f){d.on("resize.start",1501,function(m){var v=m.context,b=v.shape;(Y(b,"bpmn:Lane")||Y(b,"bpmn:Participant"))&&(v.balanced=!bh(m))}),d.on("resize.end",1001,function(m){var v=m.context,b=v.shape,_=v.canExecute,x=v.newBounds;if(Y(b,"bpmn:Lane")||Y(b,"bpmn:Participant"))return _&&(x=dO(x),f.resizeLane(b,x,v.balanced)),!1})}function qp(d,f,m,v,b){function _(T){return Gn(T,["bpmn:ReceiveTask","bpmn:SendTask"])||(P=T,dt(M=["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])||(M=[M]),Ci(M,function(k){return gh(P,k)}));var P,M}function x(T){return!!cn(d.getDefinitions().get("rootElements"),po({id:T.id}))}function w(T){return Y(T,"bpmn:ErrorEventDefinition")?"errorRef":Y(T,"bpmn:EscalationEventDefinition")?"escalationRef":Y(T,"bpmn:MessageEventDefinition")?"messageRef":Y(T,"bpmn:SignalEventDefinition")?"signalRef":void 0}function S(T){if(Gn(T,["bpmn:ReceiveTask","bpmn:SendTask"]))return T.get("messageRef");var P=T.get("eventDefinitions")[0];return P.get(w(P))}m.invoke(st,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(T){var P=T.shape||T.element;if(_(P)){var M=S(bt(P));M&&!x(M)&&(K(d.getDefinitions().get("rootElements"),M),T.addedRootElement=M)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(T){var P=T.addedRootElement;P&&Gi(d.getDefinitions().get("rootElements"),P)},!0),f.on("copyPaste.copyElement",function(T){var P=T.descriptor,M=T.element;if(!M.labelTarget&&_(M)){var k=S(bt(M));k&&(P.referencedRootElement=k)}}),f.on("copyPaste.pasteElement",500,function(T){var P=T.descriptor,M=P.businessObject,k=P.referencedRootElement;k&&(x(k)||(k=v.copyElement(k,b.create(k.$type))),function(R,I){if(Gn(R,["bpmn:ReceiveTask","bpmn:SendTask"]))return R.set("messageRef",I);var $=R.get("eventDefinitions")[0];$.set(w($),I)}(M,k),delete P.referencedRootElement)})}yb.$inject=["eventBus","modeling"],qp.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],Ye(qp,st);var F8=Math.max;function bb(d){d.on("spaceTool.getMinDimensions",function(f){var v=f.axis,b=f.start,_={};return ge(f.shapes,function(x){var w=x.id;Y(x,"bpmn:Participant")&&(_[w]=function(S){return"x"===S}(v)?Vg:{width:Vg.width,height:K4(x,b)}),Y(x,"bpmn:SubProcess")&&cr(x)&&(_[w]=R8),Y(x,"bpmn:TextAnnotation")&&(_[w]=I8),Y(x,"bpmn:Group")&&(_[w]=kk)}),_})}function K4(d,f){var v,b,_;return Fp(d).length?(b=f,_=_b(Fp(v=d),b),F8(Vg.height,v.height-_.height+ud.height)):Vg.height}function _b(d,f){var m,v,b;for(m=0;m<d.length;m++)if(f>=(v=d[m]).y&&f<=v.y+v.height)return(b=Fp(v)).length?_b(b,f):v}bb.$inject=["eventBus"];function dd(d,f,m,v,b,_,x){st.call(this,f),this._canvas=d,this._eventBus=f,this._modeling=m,this._elementFactory=v,this._bpmnFactory=b,this._bpmnjs=_,this._elementRegistry=x;var w=this;function S(M){return Y(M,"bpmn:SubProcess")&&!cr(M)}function T(M){var R=M.newRootElement,I=bt(M.shape);R=w._addDiagram(R||I),M.newRootElement=d.addRootElement(R)}function P(M){var k=bt(M.shape);w._removeDiagram(k);var R=M.newRootElement=x.get(Hu(k));d.removeRootElement(R)}this.executed("shape.create",function(M){S(M.shape)&&T(M)},!0),this.postExecuted("shape.create",function(M){var k=M.shape,R=M.newRootElement;R&&k.children&&(w._showRecursively(k.children),w._moveChildrenToShape(k,R))},!0),this.reverted("shape.create",function(M){S(M.shape)&&P(M)},!0),this.preExecuted("shape.delete",function(M){var k=M.shape;if(S(k)){var R=x.get(Hu(k));R&&m.removeElements(R.children.slice())}},!0),this.executed("shape.delete",function(M){S(M.shape)&&P(M)},!0),this.reverted("shape.delete",function(M){S(M.shape)&&T(M)},!0),this.preExecuted("shape.replace",function(M){var k=M.oldShape,R=M.newShape;S(k)&&S(R)&&(M.oldRoot=d.removeRootElement(Hu(k)))},!0),this.postExecuted("shape.replace",function(M){var R=M.oldRoot,I=d.findRoot(Hu(M.newShape));R&&I&&m.moveElements(R.children,{x:0,y:0},I)},!0),this.executed("element.updateProperties",function(M){var k=M.element;if(Y(k,"bpmn:SubProcess")){var I=M.oldProperties.id,$=M.properties.id;if(I!==$){if(x2(k))return x.updateId(k,Gs($)),void x.updateId(I,$);x.get(Gs(I))&&x.updateId(Gs(I),Gs($))}}},!0),this.reverted("element.updateProperties",function(M){var k=M.element;if(Y(k,"bpmn:SubProcess")){var I=M.oldProperties.id,$=M.properties.id;if(I!==$){if(x2(k))return x.updateId(k,Gs(I)),void x.updateId($,I);var W=x.get(Gs($));W&&x.updateId(W,Gs(I))}}},!0),f.on("element.changed",function(M){var k=M.element;if(x2(k)){var R=k,I=x.get(E2(R));I&&I!==R&&f.fire("element.changed",{element:I})}}),this.executed("shape.toggleCollapse",400,function(M){var k=M.shape;Y(k,"bpmn:SubProcess")&&(cr(k)?P(M):(T(M),w._showRecursively(k.children)))},!0),this.reverted("shape.toggleCollapse",400,function(M){var k=M.shape;Y(k,"bpmn:SubProcess")&&(cr(k)?P(M):(T(M),w._showRecursively(k.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(M){var k=M.shape;if(Y(k,"bpmn:SubProcess")){var R=M.newRootElement;R&&(cr(k)?w._moveChildrenToShape(R,k):w._moveChildrenToShape(k,R))}},!0),f.on("copyPaste.createTree",function(M){var k=M.element,R=M.children;if(S(k)){var I=Hu(k),$=x.get(I);$&&R.push.apply(R,$.children)}}),f.on("copyPaste.copyElement",function(M){var k=M.descriptor,I=M.elements,$=M.element.parent;if(Y(dr($),"bpmndi:BPMNPlane")){var W=E2($),H=cn(I,function(z){return z.id===W});H&&(k.parent=H.id)}}),f.on("copyPaste.pasteElement",function(M){var k=M.descriptor;k.parent&&(S(k.parent)||k.parent.hidden)&&(k.hidden=!0)})}function Z4(d,f){d.invoke(st,this),this.postExecuted("shape.replace",function(m){var v=m.context.oldShape,b=m.context.newShape;if(Y(b,"bpmn:SubProcess")&&(Y(v,"bpmn:Task")||Y(v,"bpmn:CallActivity"))&&cr(b)){var _,x={x:(_=b).x+_.width/6,y:_.y+_.height/2};f.createShape({type:"bpmn:StartEvent"},x,b)}})}function J4(d,f){st.call(this,d),this.postExecuted("shape.toggleCollapse",1500,function(m){var v=m.shape;if(!cr(v)){var b=Hc(v);b.forEach(function(x){var w=x.incoming.slice(),S=x.outgoing.slice();ge(w,function(T){_(T,!0)}),ge(S,function(T){_(T,!1)})})}function _(x,w){-1!==b.indexOf(x.source)&&-1!==b.indexOf(x.target)||(w?f.reconnectEnd(x,v,mn(v)):f.reconnectStart(x,v,mn(v)))}},!0)}function Eb(d,f,m){st.call(this,d),this.executed(["shape.toggleCollapse"],500,function(v){var b,_=v.context.shape;Y(_,"bpmn:SubProcess")&&(_.collapsed?dr(_).isExpanded=!1:((b=_.children).length&&b.forEach(function(x){"label"!==x.type||x.businessObject.name||(x.hidden=!0)}),dr(_).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(v){var b=v.context.shape;dr(b).isExpanded=!b.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(v){var b,w,S,_=v.context.shape,x=f.getDefaultSize(_);b=_.collapsed?{x:(w=_).x+(w.width-(S=x).width)/2,y:w.y+(w.height-S.height)/2,width:S.width,height:S.height}:function(w,S){var P,M,R=S;return(P=s8((M=w.children,M.filter(function(I){return!I.hidden})).concat([w])))?(R.width=Math.max(P.width,R.width),R.height=Math.max(P.height,R.height),R.x=P.x+(P.width-R.width)/2,R.y=P.y+(P.height-R.height)/2):(R.x=w.x+(w.width-R.width)/2,R.y=w.y+(w.height-R.height)/2),R}(_,x),m.resizeShape(_,b,null,{autoResize:!_.collapsed&&"nwse"})})}function eE(d,f,m,v){f.invoke(st,this),this.preExecute("shape.delete",function(b){var _=b.context.shape,x=_.businessObject;br(_)||(Y(_,"bpmn:Participant")&&cr(_)&&m.ids.unclaim(x.processRef.id),v.unclaimId(x.id,x))}),this.preExecute("connection.delete",function(b){var _=b.context.connection.businessObject;v.unclaimId(_.id,_)}),this.preExecute("canvas.updateRoot",function(){var b=d.getRootElement(),_=b.businessObject;Y(b,"bpmn:Collaboration")&&m.ids.unclaim(_.id)})}function tE(d,f){st.call(this,d),this.preExecute("connection.delete",function(m){var v=m.context.connection,b=v.source;(function(_,x){if(!Y(_,"bpmn:SequenceFlow"))return!1;var w=bt(x),S=bt(_);return w.get("default")===S})(v,b)&&f.updateProperties(b,{default:null})})}function nE(d,f,m){var v;st.call(this,d);var _=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(_,5e3,function(x){(v=v||new Rk).enter()}),this.postExecuted(_,500,function(x){!function(){if(!v)throw new Error(m("out of bounds release"));v.leave()&&(f.updateLaneRefs(v.flowNodes,v.lanes),v=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(x){var w=x.context.shape,S=function b(){if(!v)throw new Error(m("out of bounds release"));return v}();w.labelTarget||(Y(w,"bpmn:Lane")&&S.addLane(w),Y(w,"bpmn:FlowNode")&&S.addFlowNode(w))})}function Rk(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(d){this.lanes.push(d)},this.addFlowNode=function(d){this.flowNodes.push(d)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}Ye(dd,st),dd.prototype._moveChildrenToShape=function(d,f){var m,v=this._modeling,b=d.children;if(b){var _=(b=b.concat(b.reduce(function(T,P){return P.label&&P.label.parent!==d?T.concat(P.label):T},[]))).filter(function(T){return!T.hidden});if(_.length){var x=si(_);if(f.x){var w=mn(f),S=mn(x);m={x:w.x-S.x,y:w.y-S.y}}else m={x:180-x.x,y:160-x.y};v.moveElements(b,m,f,{autoResize:!1})}else v.moveElements(b,{x:0,y:0},f,{autoResize:!1})}},dd.prototype._showRecursively=function(d,f){var m=this,v=[];return d.forEach(function(b){b.hidden=!!f,v=v.concat(b),b.children&&(v=v.concat(m._showRecursively(b.children,b.collapsed||f)))}),v},dd.prototype._addDiagram=function(d){var f=this._bpmnjs.getDefinitions().diagrams;return d.businessObject||(d=this._createNewDiagram(d)),f.push(d.di.$parent),d},dd.prototype._createNewDiagram=function(d){var f=this._bpmnFactory,m=this._elementFactory,v=f.create("bpmndi:BPMNPlane",{bpmnElement:d}),b=f.create("bpmndi:BPMNDiagram",{plane:v});return v.$parent=b,m.createRoot({id:Hu(d),type:d.$type,di:v,businessObject:d,collapsed:!0})},dd.prototype._removeDiagram=function(d){var f=this._bpmnjs.getDefinitions().diagrams,m=cn(f,function(v){return v.plane.bpmnElement.id===d.id});return f.splice(f.indexOf(m),1),m},dd.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],Z4.$inject=["injector","modeling"],Ye(Z4,st),Ye(J4,st),J4.$inject=["eventBus","modeling"],Ye(Eb,st),Eb.$inject=["eventBus","elementFactory","modeling"],Ye(eE,st),eE.$inject=["canvas","injector","moddle","modeling"],Ye(tE,st),tE.$inject=["eventBus","modeling"],nE.$inject=["eventBus","modeling","translate"],Ye(nE,st);var V8={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",kg],appendBehavior:["type",w8],associationBehavior:["type",C8],attachEventBehavior:["type",R4],boundaryEventBehavior:["type",I4],createBehavior:["type",Uh],createDataObjectBehavior:["type",Gh],createParticipantBehavior:["type",L4],dataInputAssociationBehavior:["type",sd],dataStoreBehavior:["type",ob],deleteLaneBehavior:["type",S8],detachEventBehavior:["type",sb],dropOnFlowBehavior:["type",D8],eventBasedGatewayBehavior:["type",T8],fixHoverBehavior:["type",ab],groupBehavior:["type",j4],importDockingFix:["type",lb],isHorizontalFix:["type",Rg],labelBehavior:["type",ub],layoutConnectionBehavior:["type",A8],messageFlowBehavior:["type",Up],removeElementBehavior:["type",Fg],removeEmbeddedLabelBoundsBehavior:["type",mb],removeParticipantBehavior:["type",gb],replaceConnectionBehavior:["type",Bg],replaceElementBehaviour:["type",Gp],resizeBehavior:["type",X4],resizeLaneBehavior:["type",yb],rootElementReferenceBehavior:["type",qp],spaceToolBehavior:["type",bb],subProcessPlaneBehavior:["type",dd],subProcessStartEventBehavior:["type",Z4],toggleCollapseConnectionBehaviour:["type",J4],toggleElementCollapseBehaviour:["type",Eb],unclaimIdBehavior:["type",eE],unsetDefaultFlowBehavior:["type",tE],updateFlowNodeRefsBehavior:["type",nE]};function rE(d,f){var m=Zr(d,f,-15);return"intersect"!==m?m:null}function Ds(d){Xs.call(this,d)}function iE(d){return!d||br(d)}function sa(d){do{if(Y(d,"bpmn:Process"))return bt(d);if(Y(d,"bpmn:Participant"))return bt(d).processRef||bt(d)}while(d=d.parent)}function oE(d){return Y(d,"bpmn:TextAnnotation")}function sE(d){return Y(d,"bpmn:Group")&&!d.labelTarget}function j8(d){return Y(d,"bpmn:BoundaryEvent")&&ou(d,"bpmn:CompensateEventDefinition")}function pd(d){return bt(d).isForCompensation}function aE(d){for(var f=d;f=f.parent;){if(Y(f,"bpmn:FlowElementsContainer"))return bt(f);if(Y(f,"bpmn:Participant"))return bt(f).processRef}return null}function ou(d,f){return!!cn(bt(d).eventDefinitions||[],function(m){return Y(m,f)})}function $8(d,f){return(bt(d).eventDefinitions||[]).every(function(m){return Y(m,f)})}function lE(d,f){return-1!==function(v){for(var b=[];v;)(v=v.parent)&&b.push(v);return b}(f).indexOf(d)}function zg(d,f,m){if(iE(d)||iE(f))return null;if(!Y(m,"bpmn:DataAssociation")){if(uE(d,f))return{type:"bpmn:MessageFlow"};if(dE(d,f))return{type:"bpmn:SequenceFlow"}}return Kh(d,f)||(j8(d)&&pd(f)?{type:"bpmn:Association",associationDirection:"One"}:!!W8(d,f)&&{type:"bpmn:Association"})}function Yh(d,f){return!(!br(d)&&!sE(d))||!(Y(f,"bpmn:Participant")&&!cr(f))&&(Y(d,"bpmn:Participant")?Y(f,"bpmn:Process")||Y(f,"bpmn:Collaboration"):Gn(d,["bpmn:DataInput","bpmn:DataOutput"])&&d.parent?f===d.parent:Y(d,"bpmn:Lane")?Y(f,"bpmn:Participant")||Y(f,"bpmn:Lane"):!(Y(d,"bpmn:BoundaryEvent")&&(m=d,!bt(m).cancelActivity||!z8(m)&&!H8(m)))&&(Y(d,"bpmn:FlowElement")&&!Y(d,"bpmn:DataStoreReference")?Y(f,"bpmn:FlowElementsContainer")?cr(f):Gn(f,["bpmn:Participant","bpmn:Lane"]):Y(d,"bpmn:DataStoreReference")&&Y(f,"bpmn:Collaboration")?Ci(bt(f).get("participants"),function(m){return!!m.get("processRef")}):Gn(d,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Gn(f,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!Y(d,"bpmn:MessageFlow")&&(Y(f,"bpmn:Collaboration")||d.source.parent==f||d.target.parent==f)));var m}function Ik(d){return Y(d,"bpmn:Lane")}function z8(d){var f=bt(d);return f&&!(f.eventDefinitions&&f.eventDefinitions.length)}function H8(d){return U8(d,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function U8(d,f){return f.some(function(m){return ou(d,m)})}function Hg(d,f,m,v){if(Array.isArray(d)||(d=[d]),1!==d.length)return!1;var _,b=d[0];return!br(b)&&!!function cE(d){return!!function(f){return!br(f)&&Y(f,"bpmn:BoundaryEvent")}(d)||!(!Y(d,"bpmn:IntermediateThrowEvent")||!z8(d))||Y(d,"bpmn:IntermediateCatchEvent")&&H8(d)}(b)&&!Ja(f)&&!(!Y(f,"bpmn:Activity")||pd(f))&&!(v&&!rE(v,f))&&!(Y(_=f,"bpmn:ReceiveTask")&&cn(_.incoming,function(x){return Y(x.source,"bpmn:EventBasedGateway")}))&&"attach"}function G8(d,f,m){if(!f)return!1;var v={replacements:[]};return ge(d,function(b){var _;Ja(f)||Y(b,"bpmn:StartEvent")&&"label"!==b.type&&Yh(b,f)&&((_=b)&&!1!==bt(_).isInterrupting||v.replacements.push({oldElementId:b.id,newElementType:"bpmn:StartEvent"}),(function(_){return gh(_,"bpmn:ErrorEventDefinition")}(b)||function(_){return gh(_,"bpmn:EscalationEventDefinition")}(b)||function(_){return gh(_,"bpmn:CompensateEventDefinition")}(b))&&v.replacements.push({oldElementId:b.id,newElementType:"bpmn:StartEvent"}),U8(b,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&Y(f,"bpmn:SubProcess")&&v.replacements.push({oldElementId:b.id,newElementType:"bpmn:StartEvent"})),Y(f,"bpmn:Transaction")||ou(b,"bpmn:CancelEventDefinition")&&"label"!==b.type&&(Y(b,"bpmn:EndEvent")&&Yh(b,f)&&v.replacements.push({oldElementId:b.id,newElementType:"bpmn:EndEvent"}),Y(b,"bpmn:BoundaryEvent")&&Hg(b,f,0,m)&&v.replacements.push({oldElementId:b.id,newElementType:"bpmn:BoundaryEvent"}))}),!!v.replacements.length&&v}function yc(d,f){return!Ci(d,Ik)&&(!f||d.every(function(m){return Yh(m,f)}))}function Ug(d,f,m,v){return!!f&&(!(!br(d)&&!sE(d))||!function(b,_){return b===_}(m,f)&&(!m||!lE(m,f))&&(Yh(d,f)||Qh(d,f)))}function q8(d,f){return Y(d,"bpmn:SubProcess")?cr(d)&&(!f||f.width>=100&&f.height>=80):Y(d,"bpmn:Lane")?!f||f.width>=130&&f.height>=60:Y(d,"bpmn:Participant")?!f||f.width>=250&&f.height>=50:!!oE(d)||!!sE(d)}function W8(d,f){return!(!j8(d)||!pd(f))||!lE(f,d)&&!lE(d,f)&&(v=f,b=oE(d),_=oE(v),!(!b&&!_||b===_)||!!Kh(d,f));var v,b,_}function uE(d,f){return!(pE(d)&&!pE(f))&&Y(m=d,"bpmn:InteractionNode")&&!Y(m,"bpmn:BoundaryEvent")&&(!Y(m,"bpmn:Event")||Y(m,"bpmn:ThrowEvent")&&$8(m,"bpmn:MessageEventDefinition"))&&Y(v=f,"bpmn:InteractionNode")&&!pd(v)&&(!Y(v,"bpmn:Event")||Y(v,"bpmn:CatchEvent")&&$8(v,"bpmn:MessageEventDefinition"))&&!(Y(v,"bpmn:BoundaryEvent")&&!ou(v,"bpmn:MessageEventDefinition"))&&!function(v,b){return sa(v)===sa(b)}(d,f);var v,m}function dE(d,f){return Y(m=d,"bpmn:FlowNode")&&!Y(m,"bpmn:EndEvent")&&!Ja(m)&&!(Y(m,"bpmn:IntermediateThrowEvent")&&ou(m,"bpmn:LinkEventDefinition"))&&!j8(m)&&!pd(m)&&Y(v=f,"bpmn:FlowNode")&&!Y(v,"bpmn:StartEvent")&&!Y(v,"bpmn:BoundaryEvent")&&!Ja(v)&&!(Y(v,"bpmn:IntermediateCatchEvent")&&ou(v,"bpmn:LinkEventDefinition"))&&!pd(v)&&function(v,b){return aE(v)===aE(b)}(d,f)&&!(Y(d,"bpmn:EventBasedGateway")&&!function(v){return Y(v,"bpmn:ReceiveTask")||Y(v,"bpmn:IntermediateCatchEvent")&&(ou(v,"bpmn:MessageEventDefinition")||ou(v,"bpmn:TimerEventDefinition")||ou(v,"bpmn:ConditionalEventDefinition")||ou(v,"bpmn:SignalEventDefinition"))}(f));var v,m}function Kh(d,f){return Gn(d,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Gn(f,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Gn(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Gn(d,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Qh(d,f,m){if(!f)return!1;if(Array.isArray(d)){if(1!==d.length)return!1;d=d[0]}return f.source!==d&&f.target!==d&&Gn(f,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!br(f)&&Y(d,"bpmn:FlowNode")&&!Y(d,"bpmn:BoundaryEvent")&&Yh(d,f.parent)}function Nk(d,f){return!!br(f)||!(Y(f,"bpmn:Lane")&&(m=d,v=f.parent,!m||!v||-1===m.indexOf(v)));var m,v}function pE(d){return Z_(d,"bpmn:Process")||Z_(d,"bpmn:Collaboration")}Ye(Ds,Xs),Ds.$inject=["eventBus"],Ds.prototype.init=function(){this.addRule("connection.start",function(d){return function(f){return iE(f)?null:Gn(f,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(d.source)}),this.addRule("connection.create",function(d){var f=d.source,m=d.target,v=d.hints||{},b=v.targetParent;if(v.targetAttach)return!1;b&&(m.parent=b);try{return zg(f,m)}finally{b&&(m.parent=null)}}),this.addRule("connection.reconnect",function(d){return zg(d.source,d.target,d.connection)}),this.addRule("connection.updateWaypoints",function(d){return{type:d.connection.type}}),this.addRule("shape.resize",function(d){return q8(d.shape,d.newBounds)}),this.addRule("elements.create",function(d){var f=d.elements,m=d.position,v=d.target;return!(_i(v)&&!Qh(f,v))&&ki(f,function(b){return _i(b)?zg(b.source,b.target,b):b.host?Hg(b,b.host,0,m):Ug(b,v,null)})}),this.addRule("elements.move",function(d){var f=d.target,m=d.shapes,v=d.position;return Hg(m,f,0,v)||G8(m,f,v)||yc(m,f)||Qh(m,f)}),this.addRule("shape.create",function(d){return Ug(d.shape,d.target,d.source)}),this.addRule("shape.attach",function(d){return Hg(d.shape,d.target,0,d.position)}),this.addRule("element.copy",function(d){return Nk(d.elements,d.element)})},Ds.prototype.canConnectMessageFlow=uE,Ds.prototype.canConnectSequenceFlow=dE,Ds.prototype.canConnectDataAssociation=Kh,Ds.prototype.canConnectAssociation=W8,Ds.prototype.canMove=yc,Ds.prototype.canAttach=Hg,Ds.prototype.canReplace=G8,Ds.prototype.canDrop=Yh,Ds.prototype.canInsert=Qh,Ds.prototype.canCreate=Ug,Ds.prototype.canConnect=zg,Ds.prototype.canResize=q8,Ds.prototype.canCopy=Nk;var X8={__depends__:[vo],__init__:["bpmnRules"],bpmnRules:["type",Ds]};function fE(d,f){d.on("saveXML.start",2e3,function(){ge(f.getRootElements(),function(m){var v,b=dr(m);v=wr(kt(Hc([m],!1),function(_){return _!==m&&!_.labelTarget}),dr),b.set("planeElement",v)})})}fE.$inject=["eventBus","canvas"];var xb={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",fE]};function Zh(d){st.call(this,d);var f=this;this.preExecute(["shape.create","connection.create"],function(m){var v=m.context,x=f.getOrdering(v.shape||v.connection,v.parent);x&&(void 0!==x.parent&&(v.parent=x.parent),v.parentIndex=x.index)}),this.preExecute(["shape.move","connection.move"],function(m){var v=m.context,b=v.shape||v.connection,x=f.getOrdering(b,v.newParent||b.parent);x&&(void 0!==x.parent&&(v.newParent=x.parent),v.newParentIndex=x.index)})}function bc(d,f,m){Zh.call(this,d);var v=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function b(_){var x=_.order;if(x||(_.order=x=function(w){if(w.labelTarget)return{level:10};var S=cn(v,function(T){return Gn(w,[T.type])});return S&&S.order||{level:1}}(_)),!x)throw new Error("no order for <"+_.id+">");return x}this.getOrdering=function(_,x){if(_.labelTarget)return{parent:f.findRoot(x)||f.getRootElement(),index:-1};var w=b(_);w.containers&&(x=function(P,M,k){for(var R=M;R&&!Gn(R,k);)R=R.parent;if(!R)throw new Error("no parent for <"+P.id+"> in <"+(M&&M.id)+">");return R}(_,x,w.containers));var S=x.children.indexOf(_),T=uo(x.children,function(P){return!(!_.labelTarget&&P.labelTarget)&&w.level<b(P).level});return-1!==T&&-1!==S&&S<T&&(T-=1),{index:T,parent:x}}}Zh.prototype.getOrdering=function(d,f){return null},Ye(Zh,st),bc.$inject=["eventBus","canvas","translate"],Ye(bc,Zh);var Lk={__depends__:[tl],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",bc]};function Wp(d,f){this._eventBus=d,this._dragging=f,this._tools=[],this._active=null}Wp.$inject=["eventBus","dragging"],Wp.prototype.registerTool=function(d,f){var m=this._tools;if(!f)throw new Error('A tool has to be registered with it\'s "events"');m.push(d),this.bindEvents(d,f)},Wp.prototype.isActive=function(d){return d&&this._active===d},Wp.prototype.length=function(d){return this._tools.length},Wp.prototype.setActive=function(d){var f=this._eventBus;this._active!==d&&(this._active=d,f.fire("tool-manager.update",{tool:d}))},Wp.prototype.bindEvents=function(d,f){var m=this._eventBus,v=this._dragging,b=[];m.on(f.tool+".init",function(_){if(!_.context.reactivate&&this.isActive(d))return this.setActive(null),void v.cancel();this.setActive(d)},this),ge(f,function(_){b.push(_+".ended"),b.push(_+".canceled")}),m.on(b,250,function(_){var x,w;this._active&&((w=(x=_).originalEvent&&x.originalEvent.target)&&ar(w,'.group[data-group="tools"]')||this.setActive(null))},this)};var Jh={__depends__:[J0],__init__:["toolManager"],toolManager:["type",Wp]};function Gg(d,f){return-1!==d.indexOf(f)}var Xp=Math.abs,Y8=Math.round,ka={x:"width",y:"height"},em="crosshair",su={n:"top",w:"left",s:"bottom",e:"right"},qg=1500,Wg={n:"s",w:"e",s:"n",e:"w"};function $l(d,f,m,v,b,_,x){this._canvas=d,this._dragging=f,this._eventBus=m,this._modeling=v,this._rules=b,this._toolManager=_,this._mouse=x;var w=this;_.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),m.on("spaceTool.selection.end",function(S){m.once("spaceTool.selection.ended",function(){w.activateMakeSpace(S.originalEvent)})}),m.on("spaceTool.move",qg,function(S){var T=S.context,P=T.initialized;P||(P=T.initialized=w.init(S,T)),P&&Q8(S)}),m.on("spaceTool.end",function(S){var T=S.context,P=T.axis,M=T.direction,k=T.movingShapes,R=T.resizingShapes,I=T.start;if(T.initialized){Q8(S);var $={x:0,y:0};$[P]=Y8(S["d"+P]),w.makeSpace(k,R,$,M,I),m.once("spaceTool.ended",function(W){w.activateSelection(W.originalEvent,!0,!0)})}})}function K8(d){return{top:d.top-20,right:d.right+20,bottom:d.bottom+20,left:d.left-20}}function Q8(d){var f,m,v=d.context.spaceToolConstraints;v&&(lt(v.left)&&(f=Math.max(d.x,v.left),d.dx=d.dx+f-d.x,d.x=f),lt(v.right)&&(f=Math.min(d.x,v.right),d.dx=d.dx+f-d.x,d.x=f),lt(v.top)&&(m=Math.max(d.y,v.top),d.dy=d.dy+m-d.y,d.y=m),lt(v.bottom)&&(m=Math.min(d.y,v.bottom),d.dy=d.dy+m-d.y,d.y=m))}function Yp(d,f){return-1!==d.indexOf(f)}$l.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],$l.prototype.activateSelection=function(d,f,m){this._dragging.init(d,"spaceTool.selection",{autoActivate:f,cursor:em,data:{context:{reactivate:m}},trapClick:!1})},$l.prototype.activateMakeSpace=function(d){this._dragging.init(d,"spaceTool",{autoActivate:!0,cursor:em,data:{context:{}}})},$l.prototype.makeSpace=function(d,f,m,v,b){return this._modeling.createSpace(d,f,m,v,b)},$l.prototype.init=function(d,f){var m=Xp(d.dx)>Xp(d.dy)?"x":"y",v=d["d"+m],b=d[m]-v;if(Xp(v)<5)return!1;v<0&&(v*=-1),bh(d)&&(v*=-1);var _=function(P,M){if("x"===P){if(M>0)return"e";if(M<0)return"w"}if("y"===P){if(M>0)return"s";if(M<0)return"n"}return null}(m,v),x=this._canvas.getRootElement();!H1(d)&&d.hover&&(x=d.hover);var w=[...Hc(x,!0),...x.attachers||[]],S=this.calculateAdjustments(w,m,v,b);return de(f,S,{axis:m,direction:_,spaceToolConstraints:function(P,M,k,R,I){var $=P.movingShapes,W=P.resizingShapes;if(W.length){var H,z,Q={};return ge(W,function(J){var oe,we,Ee,Te,Ne,Kt,gt=J.attachers,$e=J.children,Qe=Yt(J),pn=kt($e,function(et){return!(_i(et)||br(et)||Yp($,et)||Yp(W,et))}),ue=kt($e,function(et){return!_i(et)&&!br(et)&&Yp($,et)}),G=[],xe=[];pn.length&&(we=K8(Yt(si(pn))),oe=R-Qe[su[k]]+we[su[k]],"n"===k?Q.bottom=z=lt(z)?Math.min(z,oe):oe:"w"===k?Q.right=z=lt(z)?Math.min(z,oe):oe:"s"===k?Q.top=H=lt(H)?Math.max(H,oe):oe:"e"===k&&(Q.left=H=lt(H)?Math.max(H,oe):oe)),ue.length&&(Ee=K8(Yt(si(ue))),oe=R-Ee[su[Wg[k]]]+Qe[su[Wg[k]]],"n"===k?Q.bottom=z=lt(z)?Math.min(z,oe):oe:"w"===k?Q.right=z=lt(z)?Math.min(z,oe):oe:"s"===k?Q.top=H=lt(H)?Math.max(H,oe):oe:"e"===k&&(Q.left=H=lt(H)?Math.max(H,oe):oe)),gt&&gt.length&&(gt.forEach(function(et){Yp($,et)?G.push(et):xe.push(et)}),G.length&&(Te=Yt(si(G.map(mn))),Ne=Qe[su[Wg[k]]]-(Te[su[Wg[k]]]-R)),xe.length&&(Kt=Yt(si(xe.map(mn)))[su[k]]-(Qe[su[k]]-R)),"n"===k?(oe=Math.min(Ne||1/0,Kt||1/0),Q.bottom=z=lt(z)?Math.min(z,oe):oe):"w"===k?(oe=Math.min(Ne||1/0,Kt||1/0),Q.right=z=lt(z)?Math.min(z,oe):oe):"s"===k?(oe=Math.max(Ne||-1/0,Kt||-1/0),Q.top=H=lt(H)?Math.max(H,oe):oe):"e"===k&&(oe=Math.max(Ne||-1/0,Kt||-1/0),Q.left=H=lt(H)?Math.max(H,oe):oe));var He=I&&I[J.id];He&&("n"===k?(oe=R+J[ka[M]]-He[ka[M]],Q.bottom=z=lt(z)?Math.min(z,oe):oe):"w"===k?(oe=R+J[ka[M]]-He[ka[M]],Q.right=z=lt(z)?Math.min(z,oe):oe):"s"===k?(oe=R-J[ka[M]]+He[ka[M]],Q.top=H=lt(H)?Math.max(H,oe):oe):"e"===k&&(oe=R-J[ka[M]]+He[ka[M]],Q.left=H=lt(H)?Math.max(H,oe):oe))}),Q}}(S,m,_,b,this._eventBus.fire("spaceTool.getMinDimensions",{axis:m,direction:_,shapes:S.resizingShapes,start:b})),start:b}),T2("resize-"+("x"===m?"ew":"ns")),!0},$l.prototype.calculateAdjustments=function(d,f,m,v){var b=this._rules,_=[],x=[],w=[],S=[];function T(M){_.includes(M)||_.push(M);var k=M.label;k&&!_.includes(k)&&_.push(k)}ge(d,function(M){if(M.parent&&!br(M))if(_i(M))S.push(M);else{var k=M[f],R=k+M[ka[f]];if(M.host&&(m>0&&mn(M)[f]>v||m<0&&mn(M)[f]<v))w.push(M);else{var I;if(!(m>0&&k>v||m<0&&R<v))return k<v&&R>v&&b.allowed("shape.resize",{shape:M})?void(x.includes(I=M)||x.push(I)):void 0;T(M)}}}),ge(_,function(M){var k=M.attachers;k&&ge(k,function(R){T(R)})});var P=_.concat(x);return ge(w,function(M){Yp(P,M.host)&&T(M)}),P=_.concat(x),ge(S,function(M){var R=M.target,I=M.label;Yp(P,M.source)&&Yp(P,R)&&I&&T(I)}),{movingShapes:_,resizingShapes:x}},$l.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();this.activateSelection(d,!!d)},$l.prototype.isActive=function(){var d=this._dragging.context();return!!d&&/^spaceTool/.test(d.prefix)};var wb="djs-dragging",Yg="djs-resizing",Cb=Math.max;function Fk(d,f,m,v,b){function _(x,w){ge(x,function(S){b.addDragger(S,w),m.addMarker(S,wb)})}d.on("spaceTool.selection.start",function(x){var w=m.getLayer("space"),S=x.context,M=Rt("g");Et(M,v.cls("djs-crosshair-group",["no-events"])),rn(w,M);var k=Rt("path");Et(k,"d","M 0,-10000 L 0,10000"),kn(k).add("djs-crosshair"),rn(M,k);var R=Rt("path");Et(R,"d","M -10000,0 L 10000,0"),kn(R).add("djs-crosshair"),rn(M,R),S.crosshairGroup=M}),d.on("spaceTool.selection.move",function(x){bs(x.context.crosshairGroup,x.x,x.y)}),d.on("spaceTool.selection.cleanup",function(x){var w=x.context.crosshairGroup;w&&vi(w)}),d.on("spaceTool.move",250,function(x){var w=x.context,S=w.line,T=w.axis,P=w.movingShapes,M=w.resizingShapes;if(w.initialized){if(!w.dragGroup){var k=m.getLayer("space");Et(S=Rt("path"),"d","M0,0 L0,0"),kn(S).add("djs-crosshair"),rn(k,S),w.line=S;var R=Rt("g");Et(R,v.cls("djs-drag-group",["no-events"])),rn(m.getActiveLayer(),R),_(P,R),_(w.movingConnections=f.filter(function(H){var z=!1;ge(P,function(we){ge(we.outgoing,function(Ee){H===Ee&&(z=!0)})});var Q=!1;ge(P,function(we){ge(we.incoming,function(Ee){H===Ee&&(Q=!0)})});var J=!1;ge(M,function(we){ge(we.outgoing,function(Ee){H===Ee&&(J=!0)})});var oe=!1;return ge(M,function(we){ge(we.incoming,function(Ee){H===Ee&&(oe=!0)})}),_i(H)&&(z||J)&&(Q||oe)}),R),w.dragGroup=R}if(!w.frameGroup){var I=Rt("g");Et(I,v.cls("djs-frame-group",["no-events"])),rn(m.getActiveLayer(),I);var $=[];ge(M,function(H){var z=b.addFrame(H,I),Q=z.getBBox();$.push({element:z,initialBounds:Q}),m.addMarker(H,Yg)}),w.frameGroup=I,w.frames=$}Et(S,{d:{x:"M"+x.x+", -10000 L"+x.x+", 10000",y:"M -10000, "+x.y+" L 10000, "+x.y}[T]});var W={x:x.dx,y:x.dy};W[{x:"y",y:"x"}[w.axis]]=0,bs(w.dragGroup,W.x,W.y),ge(w.frames,function(H){var z,Q,J=H.element,oe=H.initialBounds;Et(J,"e"===w.direction?{width:Cb(oe.width+W.x,5)}:{width:z=Cb(oe.width-W.x,5),x:oe.x+oe.width-z}),Et(J,"s"===w.direction?{height:Cb(oe.height+W.y,5)}:{height:Q=Cb(oe.height-W.y,5),y:oe.y+oe.height-Q})})}}),d.on("spaceTool.cleanup",function(x){var w=x.context,T=w.movingConnections,P=w.resizingShapes,M=w.line,k=w.dragGroup,R=w.frameGroup;ge(w.movingShapes,function(I){m.removeMarker(I,wb)}),ge(T,function(I){m.removeMarker(I,wb)}),k&&(vi(M),vi(k)),ge(P,function(I){m.removeMarker(I,Yg)}),R&&vi(R)})}Fk.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Bk={__init__:["spaceToolPreview"],__depends__:[J0,vo,Jh,mg,Lp],spaceTool:["type",$l],spaceToolPreview:["type",Fk]};function Sb(d){d.invoke($l,this)}Sb.$inject=["injector"],Ye(Sb,$l),Sb.prototype.calculateAdjustments=function(d,f,m,v){var b=$l.prototype.calculateAdjustments.call(this,d,f,m,v);return b.resizingShapes=b.resizingShapes.filter(function(_){return!(Y(_,"bpmn:TextAnnotation")||"y"===f&&(x=_,Y(x,"bpmn:Participant")&&!bt(x).processRef));var x}),b};var hE={__depends__:[Bk],spaceTool:["type",Sb]};function Ni(d,f){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=f,this._eventBus=d,this._uid=1,d.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Ni.$inject=["eventBus","injector"],Ni.prototype.execute=function(d,f){if(!d)throw new Error("command required");this._currentExecution.trigger="execute";const m={command:d,context:f};this._pushAction(m),this._internalExecute(m),this._popAction()},Ni.prototype.canExecute=function(d,f){const m={command:d,context:f},v=this._getHandler(d);let b=this._fire(d,"canExecute",m);if(void 0===b){if(!v)return!1;v.canExecute&&(b=v.canExecute(f))}return b},Ni.prototype.clear=function(d){this._stack.length=0,this._stackIdx=-1,!1!==d&&this._fire("changed",{trigger:"clear"})},Ni.prototype.undo=function(){let d,f=this._getUndoAction();if(f){for(this._currentExecution.trigger="undo",this._pushAction(f);f&&(this._internalUndo(f),d=this._getUndoAction(),d&&d.id===f.id);)f=d;this._popAction()}},Ni.prototype.redo=function(){let d,f=this._getRedoAction();if(f){for(this._currentExecution.trigger="redo",this._pushAction(f);f&&(this._internalExecute(f,!0),d=this._getRedoAction(),d&&d.id===f.id);)f=d;this._popAction()}},Ni.prototype.register=function(d,f){this._setHandler(d,f)},Ni.prototype.registerHandler=function(d,f){if(!d||!f)throw new Error("command and handlerCls must be defined");const m=this._injector.instantiate(f);this.register(d,m)},Ni.prototype.canUndo=function(){return!!this._getUndoAction()},Ni.prototype.canRedo=function(){return!!this._getRedoAction()},Ni.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Ni.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Ni.prototype._internalUndo=function(d){const f=d.command,m=d.context,v=this._getHandler(f);this._atomicDo(()=>{this._fire(f,"revert",d),v.revert&&this._markDirty(v.revert(m)),this._revertedAction(d),this._fire(f,"reverted",d)})},Ni.prototype._fire=function(d,f,m){arguments.length<3&&(m=f,f=null);const v=f?[d+"."+f,f]:[d];let b;m=this._eventBus.createEvent(m);for(const _ of v)if(b=this._eventBus.fire("commandStack."+_,m),m.cancelBubble)break;return b},Ni.prototype._createId=function(){return this._uid++},Ni.prototype._atomicDo=function(d){const f=this._currentExecution;f.atomic=!0;try{d()}finally{f.atomic=!1}},Ni.prototype._internalExecute=function(d,f){const m=d.command,v=d.context,b=this._getHandler(m);if(!b)throw new Error("no command handler registered for <"+m+">");this._pushAction(d),f||(this._fire(m,"preExecute",d),b.preExecute&&b.preExecute(v),this._fire(m,"preExecuted",d)),this._atomicDo(()=>{this._fire(m,"execute",d),b.execute&&this._markDirty(b.execute(v)),this._executedAction(d,f),this._fire(m,"executed",d)}),f||(this._fire(m,"postExecute",d),b.postExecute&&b.postExecute(v),this._fire(m,"postExecuted",d)),this._popAction()},Ni.prototype._pushAction=function(d){const f=this._currentExecution,m=f.actions,v=m[0];if(f.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+d.command+")");d.id||(d.id=v&&v.id||this._createId()),m.push(d)},Ni.prototype._popAction=function(){const d=this._currentExecution,f=d.trigger,m=d.actions,v=d.dirty;m.pop(),m.length||(this._eventBus.fire("elements.changed",{elements:_a("id",v.reverse())}),v.length=0,this._fire("changed",{trigger:f}),d.trigger=null)},Ni.prototype._markDirty=function(d){const f=this._currentExecution;d&&(d=dt(d)?d:[d],f.dirty=f.dirty.concat(d))},Ni.prototype._executedAction=function(d,f){const m=++this._stackIdx;f||this._stack.splice(m,this._stack.length,d)},Ni.prototype._revertedAction=function(d){this._stackIdx--},Ni.prototype._getHandler=function(d){return this._handlerMap[d]},Ni.prototype._setHandler=function(d,f){if(!d||!f)throw new Error("command and handler required");if(this._handlerMap[d])throw new Error("overriding handler for command <"+d+">");this._handlerMap[d]=f};var Vk={commandStack:["type",Ni]};function Zu(d,f){if("function"!=typeof f)throw new Error("removeFn iterator must be a function");if(d){for(var m;m=d[0];)f(m);return d}}function Kg(d,f,m){st.call(this,f);var v=d.get("movePreview",!1);f.on("shape.move.start",1400,function(b){var _=b.context,w=_.validatedShapes;_.shapes=mE(_.shapes),_.validatedShapes=mE(w)}),v&&f.on("shape.move.start",250,function(b){var _=b.context,w=[];ge(_.shapes,function(S){ge(S.labels,function(T){T.hidden||-1!==_.shapes.indexOf(T)||w.push(T),S.labelTarget&&w.push(S)})}),ge(w,function(S){v.makeDraggable(_,S,!0)})}),this.preExecuted("elements.move",1400,function(b){var _=b.context.closure,x=_.enclosedElements,w=[];ge(x,function(S){ge(S.labels,function(T){x[T.id]||w.push(T)})}),_.addAll(w)}),this.preExecute(["connection.delete","shape.delete"],function(b){var _=b.context;Zu((_.connection||_.shape).labels,function(x){m.removeShape(x,{nested:!0})})}),this.execute("shape.delete",function(b){var _=b.context,x=_.shape,w=x.labelTarget;w&&(_.labelTargetIndex=ie(w.labels,x),_.labelTarget=w,x.labelTarget=null)}),this.revert("shape.delete",function(b){var _=b.context,x=_.shape,w=_.labelTarget;w&&(K(w.labels,x,_.labelTargetIndex),x.labelTarget=w)})}function mE(d){return kt(d,function(f){return-1===d.indexOf(f.labelTarget)})}Ye(Kg,st),Kg.$inject=["injector","eventBus","modeling"];var Qg={__init__:["labelSupport"],labelSupport:["type",Kg]},tm="attach-ok";function _c(d,f,m,v,b){st.call(this,f);var _=d.get("movePreview",!1);f.on("shape.move.start",1401,function(x){var w,S,k,R,T=x.context,M=T.validatedShapes;T.shapes=(S=gE(w=T.shapes),Ea("id",w,S)),T.validatedShapes=(R=Po(k=M,"id"),kt(k,function(I){for(;I;){if(I.host&&R[I.host.id])return!1;I=I.parent}return!0}))}),_&&f.on("shape.move.start",251,function(x){var w=x.context;ge(gE(w.shapes),function(S){_.makeDraggable(w,S,!0),ge(S.labels,function(T){_.makeDraggable(w,T,!0)})})}),_&&f.on("shape.move.start",function(x){var w=x.context.shapes;if(1===w.length){var S=w[0].host;S&&(m.addMarker(S,tm),f.once(["shape.move.out","shape.move.cleanup"],function(){m.removeMarker(S,tm)}))}}),this.preExecuted("elements.move",1401,function(x){var w=x.context,S=w.closure;ge(gE(w.shapes),function(T){S.add(T,S.topLevel[T.host.id])})}),this.postExecuted("elements.move",function(x){var w=x.context,S=w.shapes,T=w.newHost;T&&1!==S.length||ge(T?S:kt(S,function(P){return!!P.host&&-1===S.indexOf(P.host)}),function(P){b.updateAttachment(P,T)})}),this.postExecuted("elements.move",function(x){ge(x.context.shapes,function(w){ge(w.attachers,function(S){ge(S.outgoing.slice(),function(T){v.allowed("connection.reconnect",{connection:T,source:T.source,target:T.target})||b.removeConnection(T)}),ge(S.incoming.slice(),function(T){v.allowed("connection.reconnect",{connection:T,source:T.source,target:T.target})||b.removeConnection(T)})})})}),this.postExecute("shape.create",function(x){var w=x.context,T=w.host;T&&b.updateAttachment(w.shape,T)}),this.postExecute("shape.replace",function(x){var w=x.context,S=w.oldShape,T=w.newShape;Zu(S.attachers,function(P){"attach"===v.allowed("elements.move",{target:T,shapes:[P]})?b.updateAttachment(P,T):b.removeShape(P)}),T.attachers.length&&ge(T.attachers,function(P){var M=U4(P,S,T);b.moveShape(P,M,P.parent)})}),this.postExecute("shape.resize",function(x){var w=x.context,T=w.oldBounds,P=w.newBounds;!1!==(w.hints||{}).attachSupport&&ge(w.shape.attachers,function(k){var R=U4(k,T,P);b.moveShape(k,R,k.parent),ge(k.labels,function(I){b.moveShape(I,R,I.parent)})})}),this.preExecute("shape.delete",function(x){var w=x.context.shape;Zu(w.attachers,function(S){b.removeShape(S)}),w.host&&b.updateAttachment(w,null)})}function gE(d){return tn(wr(d,function(f){return f.attachers||[]}))}Ye(_c,st),_c.$inject=["injector","eventBus","canvas","rules","modeling"];var jk={__depends__:[vo],__init__:["attachSupport"],attachSupport:["type",_c]};function zl(d){this._model=d}function Ts(d,f,m,v){st.call(this,d),this._bpmnFactory=f,this._translate=v;var b=this;function _(M){ge(M.context.oldRoot.children,function(k){Y(k,"bpmn:BaseElement")&&b.updateParent(k)})}function x(M){var k=M.context.shape;Y(k,"bpmn:BaseElement")&&b.updateBounds(k)}function w(M){b.updateConnection(M.context)}function S(M){b.updateConnectionWaypoints(M.context.connection)}function T(M){b.updateAttachment(M.context)}function P(M){const{element:k}=M.context,R=qi(k),I=dr(k),$=I&&I.get("label");pt(k)||(R&&!$?I.set("label",f.create("bpmndi:BPMNLabel")):!R&&$&&I.set("label",void 0))}this.executed(["connection.layout","connection.create"],function(M){var k,R=M.context;R.cropped||!1===(R.hints||{}).createElementsBehavior||((k=R.connection).waypoints=m.getCroppedWaypoints(k),R.cropped=!0)}),this.reverted(["connection.layout"],function(M){delete M.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Ks(function(M){var k=M.context;b.updateParent(k.shape||k.connection,k.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Ks(function(M){var k=M.context;b.updateParent(k.shape||k.connection,k.parent||k.newParent)})),this.executed(["canvas.updateRoot"],_),this.reverted(["canvas.updateRoot"],_),this.executed(["shape.move","shape.create","shape.resize"],Ks(function(M){"label"!==M.context.shape.type&&x(M)})),this.reverted(["shape.move","shape.create","shape.resize"],Ks(function(M){"label"!==M.context.shape.type&&x(M)})),d.on("shape.changed",function(M){"label"===M.element.type&&x({context:{shape:M.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Ks(w)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Ks(w)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Ks(S)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Ks(S)),this.executed("connection.reconnect",Ks(function(M){var k=M.context,I=k.oldSource,$=k.newSource,W=bt(k.connection),H=bt(I),z=bt($);W.conditionExpression&&!Gn(z,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(k.oldConditionExpression=W.conditionExpression,delete W.conditionExpression),I!==$&&H.default===W&&(k.oldDefault=H.default,delete H.default)})),this.reverted("connection.reconnect",Ks(function(M){var k=M.context,I=k.oldSource,$=k.newSource,W=bt(k.connection),H=bt(I),z=bt($);k.oldConditionExpression&&(W.conditionExpression=k.oldConditionExpression),k.oldDefault&&(H.default=k.oldDefault,delete z.default)})),this.executed(["element.updateAttachment"],Ks(T)),this.reverted(["element.updateAttachment"],Ks(T)),this.executed("element.updateLabel",Ks(P)),this.reverted("element.updateLabel",Ks(P))}function Ks(d){return function(f){var m=f.context;Y(m.shape||m.connection||m.element,"bpmn:BaseElement")&&d(f)}}function fd(d,f,m){Fu.call(this),this._bpmnFactory=d,this._moddle=f,this._translate=m}function $k(d,f,m){return void 0===f[m]?f:(d[m]=f[m],Ie(f,[m]))}function vE(d,f){this._modeling=d,this._canvas=f}function Db(d){this._modeling=d}function Tb(d,f){this._canvas=d,this._layouter=f}zl.$inject=["moddle"],zl.prototype._needsId=function(d){return Gn(d,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},zl.prototype._ensureId=function(d){var f;d.id?this._model.ids.claim(d.id,d):(f=Y(d,"bpmn:Activity")?"Activity":Y(d,"bpmn:Event")?"Event":Y(d,"bpmn:Gateway")?"Gateway":Gn(d,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(d.$type||"").replace(/^[^:]*:/g,""),f+="_",!d.id&&this._needsId(d)&&(d.id=this._model.ids.nextPrefixed(f,d)))},zl.prototype.create=function(d,f){var m=this._model.create(d,f||{});return this._ensureId(m),m},zl.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},zl.prototype.createDiShape=function(d,f){return this.create("bpmndi:BPMNShape",de({bpmnElement:d,bounds:this.createDiBounds()},f))},zl.prototype.createDiBounds=function(d){return this.create("dc:Bounds",d)},zl.prototype.createDiWaypoints=function(d){var f=this;return wr(d,function(m){return f.createDiWaypoint(m)})},zl.prototype.createDiWaypoint=function(d){return this.create("dc:Point",Nt(d,["x","y"]))},zl.prototype.createDiEdge=function(d,f){return this.create("bpmndi:BPMNEdge",de({bpmnElement:d,waypoint:this.createDiWaypoints([])},f))},zl.prototype.createDiPlane=function(d,f){return this.create("bpmndi:BPMNPlane",de({bpmnElement:d},f))},Ye(Ts,st),Ts.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],Ts.prototype.updateAttachment=function(d){var f=d.shape,v=f.host;f.businessObject.attachedToRef=v&&v.businessObject},Ts.prototype.updateParent=function(d,f){if(!(br(d)||Y(d,"bpmn:DataStoreReference")&&d.parent&&Y(d.parent,"bpmn:Collaboration"))){var m=d.parent,v=d.businessObject,b=dr(d),_=m&&m.businessObject,x=dr(m);Y(d,"bpmn:FlowNode")&&this.updateFlowNodeRefs(v,_,f&&f.businessObject),Y(d,"bpmn:DataOutputAssociation")&&(_=d.source?d.source.businessObject:null),Y(d,"bpmn:DataInputAssociation")&&(_=d.target?d.target.businessObject:null),this.updateSemanticParent(v,_),Y(d,"bpmn:DataObjectReference")&&v.dataObjectRef&&this.updateSemanticParent(v.dataObjectRef,_),this.updateDiParent(b,x)}},Ts.prototype.updateBounds=function(d){var f=dr(d),m=function(x){if(Y(x,"bpmn:Activity")){var w=dr(x);if(w){var S=w.get("label");if(S)return S.get("bounds")}}}(d);if(m){var v=hc(m,f.get("bounds"));de(m,{x:d.x+v.x,y:d.y+v.y})}var b=br(d)?this._getLabel(f):f,_=b.bounds;_||(_=this._bpmnFactory.createDiBounds(),b.set("bounds",_)),de(_,{x:d.x,y:d.y,width:d.width,height:d.height})},Ts.prototype.updateFlowNodeRefs=function(d,f,m){m!==f&&(Y(m,"bpmn:Lane")&&Gi(m.get("flowNodeRef"),d),Y(f,"bpmn:Lane")&&K(f.get("flowNodeRef"),d))},Ts.prototype.updateDiConnection=function(d,f,m){var v=dr(d),b=dr(f),_=dr(m);v.sourceElement&&v.sourceElement.bpmnElement!==bt(f)&&(v.sourceElement=f&&b),v.targetElement&&v.targetElement.bpmnElement!==bt(m)&&(v.targetElement=m&&_)},Ts.prototype.updateDiParent=function(d,f){if(f&&!Y(f,"bpmndi:BPMNPlane")&&(f=f.$parent),d.$parent!==f){var m=(f||d.$parent).get("planeElement");f?(m.push(d),d.$parent=f):(Gi(m,d),d.$parent=null)}},Ts.prototype.getLaneSet=function(d){var f,m;return Y(d,"bpmn:Lane")?((f=d.childLaneSet)||(f=this._bpmnFactory.create("bpmn:LaneSet"),d.childLaneSet=f,f.$parent=d),f):(Y(d,"bpmn:Participant")&&(d=d.processRef),(f=(m=d.get("laneSets"))[0])||((f=this._bpmnFactory.create("bpmn:LaneSet")).$parent=d,m.push(f)),f)},Ts.prototype.updateSemanticParent=function(d,f,m){var v,b=this._translate;if(d.$parent!==f&&(!Y(d,"bpmn:DataInput")&&!Y(d,"bpmn:DataOutput")||(Y(f,"bpmn:Participant")&&"processRef"in f&&(f=f.processRef),!("ioSpecification"in f)||f.ioSpecification!==d.$parent))){if(Y(d,"bpmn:Lane"))f&&(f=this.getLaneSet(f)),v="lanes";else if(Y(d,"bpmn:FlowElement")){if(f)if(Y(f,"bpmn:Participant"))f=f.processRef;else if(Y(f,"bpmn:Lane"))do{f=f.$parent.$parent}while(Y(f,"bpmn:Lane"));v="flowElements"}else if(Y(d,"bpmn:Artifact")){for(;f&&!Y(f,"bpmn:Process")&&!Y(f,"bpmn:SubProcess")&&!Y(f,"bpmn:Collaboration");){if(Y(f,"bpmn:Participant")){f=f.processRef;break}f=f.$parent}v="artifacts"}else if(Y(d,"bpmn:MessageFlow"))v="messageFlows";else if(Y(d,"bpmn:Participant")){v="participants";var _,x=d.processRef;x&&(_=function(T){for(;T&&!Y(T,"bpmn:Definitions");)T=T.$parent;return T}(d.$parent||f),d.$parent&&(Gi(_.get("rootElements"),x),x.$parent=null),f&&(K(_.get("rootElements"),x),x.$parent=_))}else Y(d,"bpmn:DataOutputAssociation")?v="dataOutputAssociations":Y(d,"bpmn:DataInputAssociation")&&(v="dataInputAssociations");if(!v)throw new Error(b("no parent for {element} in {parent}",{element:d.id,parent:f.id}));var w;if(d.$parent&&Gi(w=d.$parent.get(v),d),f?((w=f.get(v)).push(d),d.$parent=f):d.$parent=null,m){var S=m.get(v);Gi(w,d),f&&(S||f.set(v,S=[]),S.push(d))}}},Ts.prototype.updateConnectionWaypoints=function(d){dr(d).set("waypoint",this._bpmnFactory.createDiWaypoints(d.waypoints))},Ts.prototype.updateConnection=function(d){var m=d.connection,v=bt(m),b=m.source,_=bt(b),x=m.target,w=bt(m.target);if(Y(v,"bpmn:DataAssociation"))Y(v,"bpmn:DataInputAssociation")?(v.get("sourceRef")[0]=_,this.updateSemanticParent(v,w,d.parent||d.newParent||w)):Y(v,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(v,_,d.parent||d.newParent||_),v.targetRef=w);else{var S=Y(v,"bpmn:SequenceFlow");v.sourceRef!==_&&(S&&(Gi(v.sourceRef&&v.sourceRef.get("outgoing"),v),_&&_.get("outgoing")&&_.get("outgoing").push(v)),v.sourceRef=_),v.targetRef!==w&&(S&&(Gi(v.targetRef&&v.targetRef.get("incoming"),v),w&&w.get("incoming")&&w.get("incoming").push(v)),v.targetRef=w)}this.updateConnectionWaypoints(m),this.updateDiConnection(m,b,x)},Ts.prototype._getLabel=function(d){return d.label||(d.label=this._bpmnFactory.createDiLabel()),d.label},Ye(fd,Fu),fd.$inject=["bpmnFactory","moddle","translate"],fd.prototype._baseCreate=Fu.prototype.create,fd.prototype.create=function(d,f){if("label"===d){var m=f.di||this._bpmnFactory.createDiLabel();return this._baseCreate(d,de({type:"label",di:m},G0,f))}return this.createElement(d,f)},fd.prototype.createElement=function(d,f){var m,v,b,T,P,_=this._translate,x=(f=de({},f||{})).businessObject,w=f.di;if(!x){if(!f.type)throw new Error(_("no shape type specified"));p2(x=this._bpmnFactory.create(f.type))}if(!Gn(w,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var S=de({},w||{},{id:x.id+"_di"});w="root"===d?this._bpmnFactory.createDiPlane(x,S):"connection"===d?this._bpmnFactory.createDiEdge(x,S):this._bpmnFactory.createDiShape(x,S)}return Y(x,"bpmn:Group")&&(f=de({isFrame:!0},f)),T=x,P=f,ge(["processRef","isInterrupting","associationDirection","isForCompensation"],function(k){P=$k(T,P,k)}),(f=P).isExpanded&&(f=$k(w,f,"isExpanded")),Y(x,"bpmn:SubProcess")&&(f.collapsed=!cr(x,w)),Y(x,"bpmn:ExclusiveGateway")&&(w.isMarkerVisible=!0),nn(f.triggeredByEvent)&&(x.triggeredByEvent=f.triggeredByEvent,delete f.triggeredByEvent),nn(f.cancelActivity)&&(x.cancelActivity=f.cancelActivity,delete f.cancelActivity),f.eventDefinitionType&&(v=x.get("eventDefinitions")||[],b=this._bpmnFactory.create(f.eventDefinitionType,f.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===f.eventDefinitionType&&(b.condition=this._bpmnFactory.create("bpmn:FormalExpression")),v.push(b),b.$parent=x,x.eventDefinitions=v,delete f.eventDefinitionType),m=this.getDefaultSize(x,w),f=de({id:x.id},m,f,{businessObject:x,di:w}),this._baseCreate(d,f)},fd.prototype.getDefaultSize=function(d,f){var m=bt(d);return f=f||dr(d),Y(m,"bpmn:SubProcess")?cr(m,f)?{width:350,height:200}:{width:100,height:80}:Y(m,"bpmn:Task")?{width:100,height:80}:Y(m,"bpmn:Gateway")?{width:50,height:50}:Y(m,"bpmn:Event")?{width:36,height:36}:Y(m,"bpmn:Participant")?cr(m,f)?{width:600,height:250}:{width:400,height:60}:Y(m,"bpmn:Lane")?{width:400,height:100}:Y(m,"bpmn:DataObjectReference")?{width:36,height:50}:Y(m,"bpmn:DataStoreReference")?{width:50,height:50}:Y(m,"bpmn:TextAnnotation")?{width:100,height:30}:Y(m,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},fd.prototype.createParticipantShape=function(d){return Dn(d)||(d={isExpanded:d}),!1!==(d=de({type:"bpmn:Participant"},d||{})).isExpanded&&(d.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(d)},vE.$inject=["modeling","canvas"],vE.prototype.preExecute=function(d){var f=this._modeling,v=d.alignment;ge(d.elements,function(b){var _={x:0,y:0};nn(v.left)?_.x=v.left-b.x:nn(v.right)?_.x=v.right-b.width-b.x:nn(v.center)?_.x=v.center-Math.round(b.width/2)-b.x:nn(v.top)?_.y=v.top-b.y:nn(v.bottom)?_.y=v.bottom-b.height-b.y:nn(v.middle)&&(_.y=v.middle-Math.round(b.height/2)-b.y),f.moveElements([b],_,b.parent)})},vE.prototype.postExecute=function(d){},Db.$inject=["modeling"],Db.prototype.preExecute=function(d){var f=d.source;if(!f)throw new Error("source required");var v=d.shape;v=d.shape=this._modeling.createShape(v,d.position,d.target||f.parent,{attach:(d.hints||{}).attach}),d.shape=v},Db.prototype.postExecute=function(d){var m,v=d.hints||{};m=d.shape,Ci(d.source.outgoing,function(b){return b.target===m})||(v.connectionTarget===d.source?this._modeling.connect(d.shape,d.source,d.connection):this._modeling.connect(d.source,d.shape,d.connection))},Tb.$inject=["canvas","layouter"],Tb.prototype.execute=function(d){var f=d.connection,m=d.source,v=d.target,b=d.parent,_=d.parentIndex,x=d.hints;if(!m||!v)throw new Error("source and target required");if(!b)throw new Error("parent required");return f.source=m,f.target=v,f.waypoints||(f.waypoints=this._layouter.layoutConnection(f,x)),this._canvas.addConnection(f,b,_),f},Tb.prototype.revert=function(d){var f=d.connection;return this._canvas.removeConnection(f),f.source=null,f.target=null,f};var yE=Math.round;function bE(d){this._modeling=d}bE.$inject=["modeling"],bE.prototype.preExecute=function(d){var f=d.elements,m=d.parent,v=d.parentIndex,b=d.position,_=d.hints,x=this._modeling;ge(f,function(P){lt(P.x)||(P.x=0),lt(P.y)||(P.y=0)});var w=si(kt(f,function(P){return!P.hidden}));ge(f,function(P){_i(P)&&(P.waypoints=wr(P.waypoints,function(M){return{x:yE(M.x-w.x-w.width/2+b.x),y:yE(M.y-w.y-w.height/2+b.y)}})),de(P,{x:yE(P.x-w.x-w.width/2+b.x),y:yE(P.y-w.y-w.height/2+b.y)})});var S=un(f),T={};ge(f,function(P){if(_i(P))T[P.id]=lt(v)?x.createConnection(T[P.source.id],T[P.target.id],v,P,P.parent||m,_):x.createConnection(T[P.source.id],T[P.target.id],P,P.parent||m,_);else{var M=de({},_);-1===S.indexOf(P)&&(M.autoResize=!1),br(P)&&(M=Ie(M,["attach"])),T[P.id]=lt(v)?x.createShape(P,Nt(P,["x","y","width","height"]),P.parent||m,v,M):x.createShape(P,Nt(P,["x","y","width","height"]),P.parent||m,M)}}),d.elements=ms(T)};var zk=Math.round;function hd(d){this._canvas=d}function Zg(d){hd.call(this,d)}hd.$inject=["canvas"],hd.prototype.execute=function(d){var f=d.shape,m=d.position,v=d.parent,b=d.parentIndex;if(!v)throw new Error("parent required");if(!m)throw new Error("position required");return de(f,void 0!==m.width?m:{x:m.x-zk(f.width/2),y:m.y-zk(f.height/2)}),this._canvas.addShape(f,v,b),f},hd.prototype.revert=function(d){var f=d.shape;return this._canvas.removeShape(f),f},Ye(Zg,hd),Zg.$inject=["canvas"];var Hk=hd.prototype.execute;Zg.prototype.execute=function(d){var m,f=d.shape;return m=f,["width","height"].forEach(function(v){void 0===m[v]&&(m[v]=0)}),f.labelTarget=d.labelTarget,Hk.call(this,d)};var _E=hd.prototype.revert;function Ju(d,f){this._canvas=d,this._modeling=f}function Jg(d,f){this._modeling=d,this._elementRegistry=f}function md(d,f){this._canvas=d,this._modeling=f}function ev(d){this._modeling=d}Zg.prototype.revert=function(d){return d.shape.labelTarget=null,_E.call(this,d)},Ju.$inject=["canvas","modeling"],Ju.prototype.preExecute=function(d){var f=this._modeling,m=d.connection;Zu(m.incoming,function(v){f.removeConnection(v,{nested:!0})}),Zu(m.outgoing,function(v){f.removeConnection(v,{nested:!0})})},Ju.prototype.execute=function(d){var f=d.connection,m=f.parent;return d.parent=m,d.parentIndex=ie(m.children,f),d.source=f.source,d.target=f.target,this._canvas.removeConnection(f),f.source=null,f.target=null,f},Ju.prototype.revert=function(d){var f=d.connection,m=d.parent,v=d.parentIndex;return f.source=d.source,f.target=d.target,K(m.children,f,v),this._canvas.addConnection(f,m),f},Jg.$inject=["modeling","elementRegistry"],Jg.prototype.postExecute=function(d){var f=this._modeling,m=this._elementRegistry;ge(d.elements,function(v){m.get(v.id)&&(v.waypoints?f.removeConnection(v):f.removeShape(v))})},md.$inject=["canvas","modeling"],md.prototype.preExecute=function(d){var f=this._modeling,m=d.shape;Zu(m.incoming,function(v){f.removeConnection(v,{nested:!0})}),Zu(m.outgoing,function(v){f.removeConnection(v,{nested:!0})}),Zu(m.children,function(v){_i(v)?f.removeConnection(v,{nested:!0}):f.removeShape(v,{nested:!0})})},md.prototype.execute=function(d){var f=this._canvas,m=d.shape,v=m.parent;return d.oldParent=v,d.oldParentIndex=ie(v.children,m),f.removeShape(m),m},md.prototype.revert=function(d){var f=this._canvas,m=d.shape,v=d.oldParent;return K(v.children,m,d.oldParentIndex),f.addShape(m,v),m},ev.$inject=["modeling"];var nm={x:"y",y:"x"};function tv(d,f){this._layouter=d,this._canvas=f}function EE(){}function Kp(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function rm(d){this._modeling=d}function Pb(d){this._helper=new rm(d)}function gd(d){this._modeling=d,this._helper=new rm(d)}function nv(d){this._modeling=d}function rv(d){return d.original||d}function e0(d,f){this._modeling=d,this._rules=f}function iv(d){this._modeling=d}function vd(d){this._modeling=d}function Z8(d){return de({},d)}function J8(d){switch(d){case"n":case"s":return"y";case"w":case"e":return"x"}}function Mb(d,f,m){var v=J8(m);return/e|s/.test(m)?d[v]>f:/n|w/.test(m)?d[v]<f:void 0}function Hl(d,f){return-1!==d.indexOf(f)}function Ob(d){this._modeling=d}function ov(d){var f={};return ge(d,function(m){f[m.id]=m.hidden,m.children&&(f=de({},f,ov(m.children)))}),f}function sv(d,f){var m=[];return ge(d,function(v){v.hidden=f,m=m.concat(v),v.children&&(m=m.concat(sv(v.children,v.collapsed||f)))}),m}function Uk(d,f){var m=[];return ge(d,function(v){v.hidden=f[v.id],m=m.concat(v),v.children&&(m=m.concat(Uk(v.children,f)))}),m}function kb(d){this._modeling=d}function e7(d,f){return Gi(d&&d.attachers,f)}function Ab(d,f,m){if(d){var v=d.attachers;v||(d.attachers=v=[]),K(v,f,m)}}function xE(){}function zr(d,f,m){this._eventBus=d,this._elementFactory=f,this._commandStack=m;var v=this;d.on("diagram.init",function(){v.registerHandlers(m)})}function av(d){this._elementRegistry=d}function t7(d,f){ge(f,function(m,v){d.set(v,m)})}ev.prototype.preExecute=function(d){var f=this._modeling,m=d.groups,v=d.axis,b=d.dimension;function _($,W){$.range.min=Math.min(W[v],$.range.min),$.range.max=Math.max(W[v]+W[b],$.range.max)}function x($){return $[v]+$[b]/2}function w($){return $.length-1}function S($){return $.max-$.min}var T,P,M=m[0],k=w(m),R=m[k],I=0;ge(m,function($,W){var H,z,Q;$.elements.length<2?W&&W!==m.length-1&&(_($,$.elements[0]),I+=S($.range)):(z=(H=qr($.elements,v))[0],W===k&&(z=H[w(H)]),Q=x(z),$.range=null,ge(H,function(J){var we,Ee;(Ee={y:0})[v]=Q-x(we=J),Ee[v]&&(Ee[nm[v]]=0,f.moveElements([we],Ee,we.parent)),null!==$.range?_($,J):$.range={min:J[v],max:J[v]+J[b]}}),W&&W!==m.length-1&&(I+=S($.range)))}),P=Math.abs(R.range.min-M.range.max),(T=Math.round((P-I)/(m.length-1)))<m.length-1||ge(m,function($,W){var H,z={};$!==M&&$!==R&&(H=m[W-1],$.range.max=0,ge($.elements,function(Q,J){z[nm[v]]=0,z[v]=H.range.max-Q[v]+T,$.range.min!==Q[v]&&(z[v]+=Q[v]-$.range.min),z[v]&&f.moveElements([Q],z,Q.parent),$.range.max=Math.max(Q[v]+Q[b],J?$.range.max:0)}))})},ev.prototype.postExecute=function(d){},tv.$inject=["layouter","canvas"],tv.prototype.execute=function(d){var f=d.connection;return de(d,{oldWaypoints:f.waypoints}),f.waypoints=this._layouter.layoutConnection(f,d.hints),f},tv.prototype.revert=function(d){var f=d.connection;return f.waypoints=d.oldWaypoints,f},EE.prototype.execute=function(d){var f=d.connection,m=d.delta,v=d.newParent||f.parent,b=d.newParentIndex,_=f.parent;return d.oldParent=_,d.oldParentIndex=Gi(_.children,f),K(v.children,f,b),f.parent=v,ge(f.waypoints,function(x){x.x+=m.x,x.y+=m.y,x.original&&(x.original.x+=m.x,x.original.y+=m.y)}),f},EE.prototype.revert=function(d){var f=d.connection,v=d.oldParent,b=d.oldParentIndex,_=d.delta;return Gi(f.parent.children,f),K(v.children,f,b),f.parent=v,ge(f.waypoints,function(x){x.x-=_.x,x.y-=_.y,x.original&&(x.original.x-=_.x,x.original.y-=_.y)}),f},Kp.prototype.add=function(d,f){return this.addAll([d],f)},Kp.prototype.addAll=function(d,f){return de(this,function(v,b,_){mt(b)&&(b=!0),Dn(b)&&(_=b,b=!0);var x=B0((_=_||{}).allShapes),w=B0(_.allConnections),S=B0(_.enclosedElements),T=B0(_.enclosedConnections),P=B0(_.topLevel,b&&Po(v,function(k){return k.id}));function M(k){P[k.source.id]&&P[k.target.id]&&(P[k.id]=[k]),x[k.source.id]&&x[k.target.id]&&(T[k.id]=S[k.id]=k),w[k.id]=k}return zc(v,function(k){if(S[k.id]=k,!k.waypoints)return x[k.id]=k,ge(k.incoming,M),ge(k.outgoing,M),k.children;T[k.id]=w[k.id]=k}),{allShapes:x,allConnections:w,topLevel:P,enclosedConnections:T,enclosedElements:S}}(d,!!f,this)),this},rm.prototype.moveRecursive=function(d,f,m){return d?this.moveClosure(this.getClosure(d),f,m):[]},rm.prototype.moveClosure=function(d,f,m,v,b){var _=this._modeling,x=d.allShapes,w=d.allConnections,S=d.enclosedConnections,T=d.topLevel,P=!1;b&&b.parent===m&&(P=!0),ge(x,function(M){_.moveShape(M,f,T[M.id]&&!P&&m,{recurse:!1,layout:!1})}),ge(w,function(M){var k=!!x[M.source.id],R=!!x[M.target.id];S[M.id]&&k&&R?_.moveConnection(M,f,T[M.id]&&!P&&m):_.layoutConnection(M,{connectionStart:k&&pb(M,M.source,f),connectionEnd:R&&fb(M,M.target,f)})})},rm.prototype.getClosure=function(d){return(new Kp).addAll(d,!0)},Pb.$inject=["modeling"],Pb.prototype.preExecute=function(d){d.closure=this._helper.getClosure(d.shapes)},Pb.prototype.postExecute=function(d){var f,m=d.hints;m&&m.primaryShape&&(m.oldParent=(f=m.primaryShape).parent),this._helper.moveClosure(d.closure,d.delta,d.newParent,d.newHost,f)},gd.$inject=["modeling"],gd.prototype.execute=function(d){var f=d.shape,m=d.delta,v=d.newParent||f.parent,b=d.newParentIndex,_=f.parent;return d.oldBounds=Nt(f,["x","y","width","height"]),d.oldParent=_,d.oldParentIndex=Gi(_.children,f),K(v.children,f,b),de(f,{parent:v,x:f.x+m.x,y:f.y+m.y}),f},gd.prototype.postExecute=function(d){var f=d.shape,m=d.delta,v=d.hints,b=this._modeling;!1!==v.layout&&(ge(f.incoming,function(_){b.layoutConnection(_,{connectionEnd:fb(_,f,m)})}),ge(f.outgoing,function(_){b.layoutConnection(_,{connectionStart:pb(_,f,m)})})),!1!==v.recurse&&this.moveChildren(d)},gd.prototype.revert=function(d){var f=d.shape,m=d.oldParent,b=d.delta;return K(m.children,f,d.oldParentIndex),de(f,{parent:m,x:f.x-b.x,y:f.y-b.y}),f},gd.prototype.moveChildren=function(d){this._helper.moveRecursive(d.shape.children,d.delta,null)},gd.prototype.getNewParent=function(d){return d.newParent||d.shape.parent},nv.$inject=["modeling"],nv.prototype.execute=function(d){var f=d.newSource,m=d.newTarget,v=d.connection,b=d.dockingOrPoints;if(!f&&!m)throw new Error("newSource or newTarget required");return dt(b)&&(d.oldWaypoints=v.waypoints,v.waypoints=b),f&&(d.oldSource=v.source,v.source=f),m&&(d.oldTarget=v.target,v.target=m),v},nv.prototype.postExecute=function(d){var f=d.connection,m=d.newSource,v=d.newTarget,b=d.dockingOrPoints,_=d.hints||{},x={};_.connectionStart&&(x.connectionStart=_.connectionStart),_.connectionEnd&&(x.connectionEnd=_.connectionEnd),!1!==_.layoutConnection&&(!m||v&&"source"!==_.docking||(x.connectionStart=x.connectionStart||rv(dt(b)?b[0]:b)),!v||m&&"target"!==_.docking||(x.connectionEnd=x.connectionEnd||rv(dt(b)?b[b.length-1]:b)),_.newWaypoints&&(x.waypoints=_.newWaypoints),this._modeling.layoutConnection(f,x))},nv.prototype.revert=function(d){var f=d.oldSource,m=d.oldTarget,v=d.oldWaypoints,b=d.connection;return f&&(b.source=f),m&&(b.target=m),v&&(b.waypoints=v),b},e0.$inject=["modeling","rules"],e0.prototype.preExecute=function(d){var f,m=this,v=this._modeling,b=this._rules,_=d.oldShape,x=d.newData,w=d.hints||{};function S(I,$,W){return b.allowed("connection.reconnect",{connection:W,source:I,target:$})}var T,M={x:_.x,y:_.y,width:_.width,height:_.height};f=d.newShape=d.newShape||m.createShape(x,{x:x.x,y:x.y},_.parent,w),_.host&&v.updateAttachment(f,_.host),!1!==w.moveChildren&&(T=_.children.slice(),v.moveElements(T,{x:0,y:0},f,w));var k=_.incoming.slice(),R=_.outgoing.slice();ge(k,function(I){S(I.source,f,I)&&m.reconnectEnd(I,f,db(I,f,M),w)}),ge(R,function(I){S(f,I.target,I)&&m.reconnectStart(I,f,Hp(I,f,M),w)})},e0.prototype.postExecute=function(d){this._modeling.removeShape(d.oldShape)},e0.prototype.execute=function(d){},e0.prototype.revert=function(d){},e0.prototype.createShape=function(d,f,m,v){return this._modeling.createShape(d,f,m,v)},e0.prototype.reconnectStart=function(d,f,m,v){this._modeling.reconnectStart(d,f,m,v)},e0.prototype.reconnectEnd=function(d,f,m,v){this._modeling.reconnectEnd(d,f,m,v)},iv.$inject=["modeling"],iv.prototype.execute=function(d){var f=d.shape,m=d.newBounds,v=d.minBounds;if(void 0===m.x||void 0===m.y||void 0===m.width||void 0===m.height)throw new Error("newBounds must have {x, y, width, height} properties");if(v&&(m.width<v.width||m.height<v.height))throw new Error("width and height cannot be less than minimum height and width");if(!v&&m.width<10||m.height<10)throw new Error("width and height cannot be less than 10px");return d.oldBounds={width:f.width,height:f.height,x:f.x,y:f.y},de(f,{width:m.width,height:m.height,x:m.x,y:m.y}),f},iv.prototype.postExecute=function(d){var f=this._modeling,m=d.shape,v=d.oldBounds;!1!==(d.hints||{}).layout&&(ge(m.incoming,function(b){f.layoutConnection(b,{connectionEnd:db(b,m,v)})}),ge(m.outgoing,function(b){f.layoutConnection(b,{connectionStart:Hp(b,m,v)})}))},iv.prototype.revert=function(d){var f=d.shape,m=d.oldBounds;return de(f,{width:m.width,height:m.height,x:m.x,y:m.y}),f},vd.$inject=["modeling"],vd.prototype.preExecute=function(d){var w,S,T,f=d.delta,m=d.direction,v=d.movingShapes,b=d.resizingShapes,_=d.start,x={};this.moveShapes(v,f),ge(b,function(w){var S;x[w.id]={x:(S=w).x,y:S.y,height:S.height,width:S.width}}),this.resizeShapes(b,f,m),this.updateConnectionWaypoints((T=[],ge((w=v).concat(S=b),function(P){ge(P.incoming.concat(P.outgoing),function(R){var I=R.source,$=R.target;(Gg(w,I)||Gg(w,$)||Gg(S,I)||Gg(S,$))&&(Gg(T,R)||T.push(R))})}),T),f,m,_,v,b,x)},vd.prototype.execute=function(){},vd.prototype.revert=function(){},vd.prototype.moveShapes=function(d,f){var m=this;ge(d,function(v){m._modeling.moveShape(v,f,null,{autoResize:!1,layout:!1,recurse:!1})})},vd.prototype.resizeShapes=function(d,f,m){var v=this;ge(d,function(b){var _=function(x,w,S){var T=x.x,P=x.y,M=x.width,k=x.height,R=S.x,I=S.y;switch(w){case"n":return{x:T,y:P+I,width:M,height:k-I};case"s":return{x:T,y:P,width:M,height:k+I};case"w":return{x:T+R,y:P,width:M-R,height:k};case"e":return{x:T,y:P,width:M+R,height:k};default:throw new Error("unknown direction: "+w)}}(b,m,f);v._modeling.resizeShape(b,_,null,{attachSupport:!1,autoResize:!1,layout:!1})})},vd.prototype.updateConnectionWaypoints=function(d,f,m,v,b,_,x){var w=this,S=b.concat(_);ge(d,function(T){var P=T.source,M=T.target,k=wr(T.waypoints,function(W){return(W=Z8(W)).original&&(W.original=Z8(W.original)),W}),R=J8(m),I={};Hl(S,P)&&Hl(S,M)?(k=wr(k,function($){return Mb($,v,m)&&($[R]=$[R]+f[R]),$.original&&Mb($.original,v,m)&&($.original[R]=$.original[R]+f[R]),$}),w._modeling.updateWaypoints(T,k,{labelBehavior:!1})):(Hl(S,P)||Hl(S,M))&&(Hl(b,P)?I.connectionStart=pb(T,P,f):Hl(b,M)?I.connectionEnd=fb(T,M,f):Hl(_,P)?I.connectionStart=Hp(T,P,x[P.id]):Hl(_,M)&&(I.connectionEnd=db(T,M,x[M.id])),w._modeling.layoutConnection(T,I))})},Ob.$inject=["modeling"],Ob.prototype.execute=function(d){var f=d.shape,m=f.children;d.oldChildrenVisibility=ov(m),f.collapsed=!f.collapsed;var v=sv(m,f.collapsed);return[f].concat(v)},Ob.prototype.revert=function(d){var f=d.shape,v=Uk(f.children,d.oldChildrenVisibility);return f.collapsed=!f.collapsed,[f].concat(v)},kb.$inject=["modeling"],kb.prototype.execute=function(d){var f=d.shape,m=d.newHost,v=f.host;return d.oldHost=v,d.attacherIdx=e7(v,f),Ab(m,f),f.host=m,f},kb.prototype.revert=function(d){var f=d.shape,m=d.newHost,v=d.oldHost,b=d.attacherIdx;return f.host=v,e7(m,f),Ab(v,f,b),f},xE.prototype.execute=function(d){var f=d.connection,m=d.newWaypoints;return d.oldWaypoints=f.waypoints,f.waypoints=m,f},xE.prototype.revert=function(d){var f=d.connection;return f.waypoints=d.oldWaypoints,f},zr.$inject=["eventBus","elementFactory","commandStack"],zr.prototype.getHandlers=function(){return{"shape.append":Db,"shape.create":hd,"shape.delete":md,"shape.move":gd,"shape.resize":iv,"shape.replace":e0,"shape.toggleCollapse":Ob,spaceTool:vd,"label.create":Zg,"connection.create":Tb,"connection.delete":Ju,"connection.move":EE,"connection.layout":tv,"connection.updateWaypoints":xE,"connection.reconnect":nv,"elements.create":bE,"elements.move":Pb,"elements.delete":Jg,"elements.distribute":ev,"elements.align":vE,"element.updateAttachment":kb}},zr.prototype.registerHandlers=function(d){ge(this.getHandlers(),function(f,m){d.registerHandler(m,f)})},zr.prototype.moveShape=function(d,f,m,v,b){"object"==typeof v&&(b=v,v=null),this._commandStack.execute("shape.move",{shape:d,delta:f,newParent:m,newParentIndex:v,hints:b||{}})},zr.prototype.updateAttachment=function(d,f){this._commandStack.execute("element.updateAttachment",{shape:d,newHost:f})},zr.prototype.moveElements=function(d,f,m,v){var b,_=(v=v||{}).attach,x=m;!0===_?(b=m,x=m.parent):!1===_&&(b=null),this._commandStack.execute("elements.move",{shapes:d,delta:f,newParent:x,newHost:b,hints:v})},zr.prototype.moveConnection=function(d,f,m,v,b){"object"==typeof v&&(b=v,v=void 0),this._commandStack.execute("connection.move",{connection:d,delta:f,newParent:m,newParentIndex:v,hints:b||{}})},zr.prototype.layoutConnection=function(d,f){this._commandStack.execute("connection.layout",{connection:d,hints:f||{}})},zr.prototype.createConnection=function(d,f,m,v,b,_){"object"==typeof m&&(_=b,b=v,v=m,m=void 0);var x={source:d,target:f,parent:b,parentIndex:m,connection:v=this._create("connection",v),hints:_};return this._commandStack.execute("connection.create",x),x.connection},zr.prototype.createShape=function(d,f,m,v,b){"number"!=typeof v&&(b=v,v=void 0);var _,x,w=(b=b||{}).attach;d=this._create("shape",d),w?(_=m.parent,x=m):_=m;var S={position:f,shape:d,parent:_,parentIndex:v,host:x,hints:b};return this._commandStack.execute("shape.create",S),S.shape},zr.prototype.createElements=function(d,f,m,v,b){dt(d)||(d=[d]),"number"!=typeof v&&(b=v,v=void 0);var _={position:f,elements:d,parent:m,parentIndex:v,hints:b=b||{}};return this._commandStack.execute("elements.create",_),_.elements},zr.prototype.createLabel=function(d,f,m,v){m=this._create("label",m);var b={labelTarget:d,position:f,parent:v||d.parent,shape:m};return this._commandStack.execute("label.create",b),b.shape},zr.prototype.appendShape=function(d,f,m,v,b){b=b||{};var _={source:d,position:m,target:v,shape:f=this._create("shape",f),connection:b.connection,connectionParent:b.connectionParent,hints:b};return this._commandStack.execute("shape.append",_),_.shape},zr.prototype.removeElements=function(d){this._commandStack.execute("elements.delete",{elements:d})},zr.prototype.distributeElements=function(d,f,m){this._commandStack.execute("elements.distribute",{groups:d,axis:f,dimension:m})},zr.prototype.removeShape=function(d,f){this._commandStack.execute("shape.delete",{shape:d,hints:f||{}})},zr.prototype.removeConnection=function(d,f){this._commandStack.execute("connection.delete",{connection:d,hints:f||{}})},zr.prototype.replaceShape=function(d,f,m){var v={oldShape:d,newData:f,hints:m||{}};return this._commandStack.execute("shape.replace",v),v.newShape},zr.prototype.alignElements=function(d,f){this._commandStack.execute("elements.align",{elements:d,alignment:f})},zr.prototype.resizeShape=function(d,f,m,v){this._commandStack.execute("shape.resize",{shape:d,newBounds:f,minBounds:m,hints:v})},zr.prototype.createSpace=function(d,f,m,v,b){this._commandStack.execute("spaceTool",{delta:m,direction:v,movingShapes:d,resizingShapes:f,start:b})},zr.prototype.updateWaypoints=function(d,f,m){this._commandStack.execute("connection.updateWaypoints",{connection:d,newWaypoints:f,hints:m||{}})},zr.prototype.reconnect=function(d,f,m,v,b){this._commandStack.execute("connection.reconnect",{connection:d,newSource:f,newTarget:m,dockingOrPoints:v,hints:b||{}})},zr.prototype.reconnectStart=function(d,f,m,v){v||(v={}),this.reconnect(d,f,d.target,m,de(v,{docking:"source"}))},zr.prototype.reconnectEnd=function(d,f,m,v){v||(v={}),this.reconnect(d,d.source,f,m,de(v,{docking:"target"}))},zr.prototype.connect=function(d,f,m,v){return this.createConnection(d,f,m||{},d.parent,v)},zr.prototype._create=function(d,f){return f instanceof uh?f:this._elementFactory.create(d,f)},zr.prototype.toggleCollapse=function(d,f){this._commandStack.execute("shape.toggleCollapse",{shape:d,hints:f||{}})},av.$inject=["elementRegistry"],av.prototype.execute=function(d){var f=d.element,m=d.moddleElement,v=d.properties;if(!m)throw new Error("<moddleElement> required");var x,b=d.changed||this._getVisualReferences(m).concat(f),_=d.oldProperties||(x=m,Gr(oi(v),function(S,T){return S[T]=x.get(T),S},{}));return t7(m,v),d.oldProperties=_,d.changed=b,b},av.prototype.revert=function(d){var v=d.changed;return t7(d.moddleElement,d.oldProperties),v},av.prototype._getVisualReferences=function(d){var m,f=this._elementRegistry;return Y(d,"bpmn:DataObject")?(m=d,f.filter(function(b){return Y(b,"bpmn:DataObjectReference")&&bt(b).dataObjectRef===m})):[]};var im="default",t0="id",om={width:0,height:0};function Qp(d,f,m,v,b){this._elementRegistry=d,this._moddle=f,this._translate=m,this._modeling=v,this._textRenderer=b}function r7(d,f){return t0 in d&&d[t0]!==f[t0]}function wE(d,f){var m=d.businessObject,v=dr(d);ge(f,function(b,_){var x;"di"!==_?m.set(_,b):v&&(x=v,ge(b,function(S,T){x.set(T,S)}))})}Qp.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Qp.prototype.execute=function(d){var f=d.element,m=[f];if(!f)throw new Error((0,this._translate)("element required"));var T,P,b=this._elementRegistry,_=this._moddle.ids,x=f.businessObject,w=(P=de({},T=d.properties),Gk.forEach(function(M){M in T&&(P[M]=bt(P[M]))}),P),S=d.oldProperties||function(T,P){var M=oi(P),k=T.businessObject,R=dr(T);return Gr(M,function(I,$){return I[$]="di"!==$?k.get($):(W=R,Gr(oi(P.di),function(z,Q){return z[Q]=W&&W.get(Q),z},{})),I;var W},{})}(f,w);return r7(w,x)&&(_.unclaim(x[t0]),b.updateId(f,w[t0]),_.claim(w[t0],x)),im in w&&(w[im]&&m.push(b.get(w[im].id)),x[im]&&m.push(b.get(x[im].id))),wE(f,w),d.oldProperties=S,d.changed=m,m},Qp.prototype.postExecute=function(d){var f=d.element.label,m=f&&bt(f).name;if(m){var v=this._textRenderer.getExternalLabelBounds(f,m);this._modeling.resizeShape(f,v,om)}},Qp.prototype.revert=function(d){var f=d.element,m=d.properties,v=d.oldProperties,b=f.businessObject,_=this._elementRegistry,x=this._moddle.ids;return wE(f,v),r7(m,b)&&(x.unclaim(m[t0]),_.updateId(f,v[t0]),x.claim(v[t0],b)),d.changed};var Gk=["default"];function lv(d,f){this._canvas=d,this._modeling=f}function i7(d,f){this._modeling=d,this._spaceTool=f}function CE(d,f){this._modeling=d,this._translate=f}function yd(d,f){this._modeling=d,this._spaceTool=f}lv.$inject=["canvas","modeling"],lv.prototype.execute=function(d){var f=this._canvas,m=d.newRoot,v=m.businessObject,b=f.getRootElement(),_=b.businessObject,x=_.$parent,w=dr(b);return f.setRootElement(m),f.removeRootElement(b),K(x.rootElements,v),v.$parent=x,Gi(x.rootElements,_),_.$parent=null,b.di=null,w.bpmnElement=v,m.di=w,d.oldRoot=b,[]},lv.prototype.revert=function(d){var f=this._canvas,m=d.newRoot,v=m.businessObject,b=d.oldRoot,_=b.businessObject,x=v.$parent,w=dr(m);return f.setRootElement(b),f.removeRootElement(m),Gi(x.rootElements,v),v.$parent=null,K(x.rootElements,_),_.$parent=x,m.di=null,w.bpmnElement=_,b.di=w,[]},i7.$inject=["modeling","spaceTool"],i7.prototype.preExecute=function(d){var f=this._spaceTool,m=this._modeling,v=d.shape,b=d.location,_=vc(v),x=_===v,w=x?v:v.parent;Fp(w).length||m.createShape({type:"bpmn:Lane"},{x:v.x+30,y:v.y,width:v.width-30,height:v.height},w);var S=[];zc(_,function(I){return S.push(I),I.label&&S.push(I.label),I===v?[]:kt(I.children,function($){return $!==v})});var T="top"===b?-120:120,P="top"===b?v.y:v.y+v.height,M=P+("top"===b?10:-10),k="top"===b?"n":"s",R=f.calculateAdjustments(S,"y",T,M);f.makeSpace(R.movingShapes,R.resizingShapes,{x:0,y:T},k,M),d.newLane=m.createShape({type:"bpmn:Lane"},{x:v.x+(x?30:0),y:P-("top"===b?120:0),width:v.width-(x?30:0),height:120},w)},CE.$inject=["modeling","translate"],CE.prototype.preExecute=function(d){var f=this._modeling,m=this._translate,v=d.shape,b=d.count,_=Fp(v),x=_.length;if(x>b)throw new Error(m("more than {count} child lanes",{count:b}));var T,M,k=Math.round(v.height/b);for(M=0;M<b;M++)T={x:v.x+30,y:v.y+M*k,width:v.width-30,height:M===b-1?v.height-k*M:k},M<x?f.resizeShape(_[M],T):f.createShape({type:"bpmn:Lane"},T,v)},yd.$inject=["modeling","spaceTool"],yd.prototype.preExecute=function(d){var f=d.shape,m=d.newBounds;!1!==d.balanced?this.resizeBalanced(f,m):this.resizeSpace(f,m)},yd.prototype.resizeBalanced=function(d,f){var m=this._modeling,v=function Hz(d,f){var S,m=vc(d),v=id(m,Y(m,"bpmn:Process")?[]:[m]),b=Yt(d),_=Yt(f),x=(S=d,x4(Yt(f),Yt(S))),w=[];return v.forEach(function(S){if(S!==d){var T,P,M=0,k=x.right,R=0,I=x.left,$=Yt(S);x.top&&(J2($.bottom-b.top)<10&&(R=_.top-$.bottom),J2($.top-b.top)<5&&(M=_.top-$.top)),x.bottom&&(J2($.top-b.bottom)<10&&(M=_.bottom-$.top),J2($.bottom-b.bottom)<5&&(R=_.bottom-$.bottom)),(M||k||R||I)&&w.push({shape:S,newBounds:(T=S,P={top:M,right:k,bottom:R,left:I},{x:T.x+(P.left||0),y:T.y+(P.top||0),width:T.width-(P.left||0)+(P.right||0),height:T.height-(P.top||0)+(P.bottom||0)})})}}),w}(d,f);m.resizeShape(d,f),v.forEach(function(b){m.resizeShape(b.shape,b.newBounds)})},yd.prototype.resizeSpace=function(d,f){var m,b,x,w=this._spaceTool,S=Yt(d),T=x4(Yt(f),S),P=vc(d),M=[],k=[];zc(P,function(R){return M.push(R),(Y(R,"bpmn:Lane")||Y(R,"bpmn:Participant"))&&k.push(R),R.children}),(T.bottom||T.top)&&(m=T.bottom||T.top,b=T.bottom?"s":"n",x=w.calculateAdjustments(M,"y",T.top>0||T.bottom<0?-m:m,d.y+(T.bottom?d.height:0)+(T.bottom?-10:10)),w.makeSpace(x.movingShapes,x.resizingShapes,{x:0,y:m},b)),(T.left||T.right)&&(m=T.right||T.left,b=T.right?"e":"w",x=w.calculateAdjustments(k,"x",T.left>0||T.right<0?-m:m,d.x+(T.right?d.width:0)+(T.right?-10:100)),w.makeSpace(x.movingShapes,x.resizingShapes,{x:m,y:0},b))};var sm="flowNodeRef",Ec="lanes";function cv(d){this._elementRegistry=d}function Rb(d){this._moddle=d}cv.$inject=["elementRegistry"],cv.prototype._computeUpdates=function(d,f){var m=[],v=[],b={},_=[];function x(S){-1===m.indexOf(S)&&(_.push(S),m.push(S))}return f.forEach(function(S){var T=vc(S);T&&-1===m.indexOf(T)&&(T.children.filter(function(M){return Y(M,"bpmn:FlowNode")}).forEach(x),m.push(T))}),d.forEach(x),_.forEach(function(S){var T=S.businessObject,P=T.get(Ec).slice(),M=function w(S){return S.parent?(M=vc(S),b[M.id]||(b[M.id]=id(M)),b[M.id]).filter(function(P){return M=S,k=Yt(P),I=M.y+M.height/2,(R=M.x+M.width/2)>k.left&&R<k.right&&I>k.top&&I<k.bottom;var M,k,R,I}).map(function(P){return P.businessObject}):[];var M}(S);v.push({flowNode:T,remove:P,add:M})}),f.forEach(function(S){var T=S.businessObject;S.parent||T.get(sm).forEach(function(P){v.push({flowNode:P,remove:[T],add:[]})})}),v},cv.prototype.execute=function(d){var f=d.updates;return f||(f=d.updates=this._computeUpdates(d.flowNodeShapes,d.laneShapes)),f.forEach(function(m){var v=m.flowNode,b=v.get(Ec);m.remove.forEach(function(_){Gi(b,_),Gi(_.get(sm),v)}),m.add.forEach(function(_){K(b,_),K(_.get(sm),v)})}),[]},cv.prototype.revert=function(d){return d.updates.forEach(function(f){var m=f.flowNode,v=m.get(Ec);f.add.forEach(function(b){Gi(v,b),Gi(b.get(sm),m)}),f.remove.forEach(function(b){K(v,b),K(b.get(sm),m)})}),[]},Rb.$inject=["moddle"],Rb.prototype.execute=function(d){var f=this._moddle.ids,m=d.id;return d.claiming?f.claim(m,d.element):f.unclaim(m),[]},Rb.prototype.revert=function(d){var f=this._moddle.ids,m=d.id,v=d.element;return d.claiming?f.unclaim(m):f.claim(m,v),[]};var SE={fill:void 0,stroke:void 0};function o7(d){this._commandStack=d,this._normalizeColor=function(f){if(f){if(Or(f)){var m=(v=f,(b=document.createElement("canvas").getContext("2d")).fillStyle="transparent",b.fillStyle=v,/^#[0-9a-fA-F]{6}$/.test(b.fillStyle)?b.fillStyle:null);if(m)return m}throw new Error("invalid color value: "+f)}var v,b}}o7.$inject=["commandStack"],o7.prototype.postExecute=function(d){var f=d.elements,m=d.colors||SE,v=this,b={};"fill"in m&&de(b,{"background-color":this._normalizeColor(m.fill)}),"stroke"in m&&de(b,{"border-color":this._normalizeColor(m.stroke)}),ge(f,function(_){var S,x=_i(_)?Nt(b,["border-color"]):b,w=dr(_);if("border-color"in(S=x)&&(S.stroke=S["border-color"]),"background-color"in S&&(S.fill=S["background-color"]),br(_))v._commandStack.execute("element.updateModdleProperties",{element:_,moddleElement:w.label,properties:{color:b["border-color"]}});else{if(!Gn(w,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;v._commandStack.execute("element.updateProperties",{element:_,properties:{di:x}})}})};var s7={width:0,height:0};function xc(d,f,m){function v(b,_){var T,P,M,x=b.label||b,w=b.labelTarget||b;return T=_,(M=Es(P=x.businessObject))&&("categoryValueRef"===M?P.categoryValueRef.value=T:P[M]=T),[x,w]}this.preExecute=function(b){var _=b.element,x=_.businessObject,w=b.newLabel;if(!br(_)&&pt(_)&&!Jt(_)&&!DE(w)){var S=el(_);d.createLabel(_,S={x:S.x,y:S.y+7},{id:x.id+"_label",businessObject:x,di:_.di})}},this.execute=function(b){return b.oldLabel=qi(b.element),v(b.element,b.newLabel)},this.revert=function(b){return v(b.element,b.oldLabel)},this.postExecute=function(b){var _=b.element,x=_.label||_,w=b.newLabel,S=b.newBounds,T=b.hints||{};if(br(x)||Y(x,"bpmn:TextAnnotation"))if(br(x)&&DE(w))!1!==T.removeShape&&d.removeShape(x,{unsetLabel:!1});else{var P=qi(_);void 0===S&&(S=f.getExternalLabelBounds(x,P)),S&&d.resizeShape(x,S,s7)}}}function DE(d){return!d||!d.trim()}function Ps(d,f,m,v){zr.call(this,d,f,m),this._bpmnRules=v}function qk(){}xc.$inject=["modeling","textRenderer","bpmnFactory"],Ye(Ps,zr),Ps.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Ps.prototype.getHandlers=function(){var d=zr.prototype.getHandlers.call(this);return d["element.updateModdleProperties"]=av,d["element.updateProperties"]=Qp,d["canvas.updateRoot"]=lv,d["lane.add"]=i7,d["lane.resize"]=yd,d["lane.split"]=CE,d["lane.updateRefs"]=cv,d["id.updateClaim"]=Rb,d["element.setColor"]=o7,d["element.updateLabel"]=xc,d},Ps.prototype.updateLabel=function(d,f,m,v){this._commandStack.execute("element.updateLabel",{element:d,newLabel:f,newBounds:m,hints:v||{}})},Ps.prototype.connect=function(d,f,m,v){if(m||(m=this._bpmnRules.canConnect(d,f)),m)return this.createConnection(d,f,m,d.parent,v)},Ps.prototype.updateModdleProperties=function(d,f,m){this._commandStack.execute("element.updateModdleProperties",{element:d,moddleElement:f,properties:m})},Ps.prototype.updateProperties=function(d,f){this._commandStack.execute("element.updateProperties",{element:d,properties:f})},Ps.prototype.resizeLane=function(d,f,m){this._commandStack.execute("lane.resize",{shape:d,newBounds:f,balanced:m})},Ps.prototype.addLane=function(d,f){var m={shape:d,location:f};return this._commandStack.execute("lane.add",m),m.newLane},Ps.prototype.splitLane=function(d,f){this._commandStack.execute("lane.split",{shape:d,count:f})},Ps.prototype.makeCollaboration=function(){var d=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:d}),d},Ps.prototype.makeProcess=function(){var d={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",d)},Ps.prototype.updateLaneRefs=function(d,f){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:d,laneShapes:f})},Ps.prototype.claimId=function(d,f){this._commandStack.execute("id.updateClaim",{id:d,element:f,claiming:!0})},Ps.prototype.unclaimId=function(d,f){this._commandStack.execute("id.updateClaim",{id:d,element:f})},Ps.prototype.setColor=function(d,f){d.length||(d=[d]),this._commandStack.execute("element.setColor",{elements:d,colors:f})},qk.prototype.layoutConnection=function(d,f){return[(f=f||{}).connectionStart||mn(f.source||d.source),f.connectionEnd||mn(f.target||d.target)]};var Fr=20,Wk=5,am=Math.round,a7=20,Xk={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function Ib(d,f,m){var v,b,x=Zr(f,d,Wk),w=m.split(":")[0],S=am((f.x-d.x)/2+d.x),T=am((f.y-d.y)/2+d.y),P={t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[w].test(x),M=/h|r|l/.test(w),R=!1;return P?(v=M?{x:S,y:d.y}:{x:d.x,y:T},b=M?"h:h":"v:v"):(b=M?"h:v":"v:h",{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[w].test(x)?v={x:S,y:T}:M?(R=T===d.y,v={x:d.x+Fr*(/l/.test(w)?-1:1),y:R?T+Fr:T}):v={x:(R=S===d.x)?S+Fr:S,y:d.y+Fr*(/t/.test(w)?-1:1)}),{waypoints:Nb(d,v,b).concat(v),directions:b,turnNextDirections:R}}function TE(d){return d.split(":").reverse().join(":")}function Nb(d,f,m){if(!(x=m=m||"h:h")||!/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(x))throw new Error("unknown directions: <"+m+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");var x;if(PE(m)){var v=function(x,w,S){return Ib(x,w,S)}(d,f,m),b=function(x,w,S){var T=Ib(w,x,TE(S));return{waypoints:T.waypoints.slice().reverse(),directions:TE(T.directions),turnNextDirections:T.turnNextDirections}}(d,f,m),_=function(x,w){var S=x.directions.split(":")[1],T=w.directions.split(":")[0];x.turnNextDirections&&(S="h"==S?"v":"h"),w.turnNextDirections&&(T="h"==T?"v":"h");var P=S+":"+T;return{waypoints:Nb(x.waypoints[x.waypoints.length-1],w.waypoints[0],P),directions:P}}(v,b);return[].concat(v.waypoints,_.waypoints,b.waypoints)}return function(x,w,S){var T=am((w.x-x.x)/2+x.x),P=am((w.y-x.y)/2+x.y);if("h:v"===S)return[{x:w.x,y:x.y}];if("v:h"===S)return[{x:x.x,y:w.y}];if("h:h"===S)return[{x:T,y:x.y},{x:T,y:w.y}];if("v:v"===S)return[{x:x.x,y:P},{x:w.x,y:P}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(d,f,m)}function l7(d,f,m,v,b){var _=function ii(d,f){if(mt(d))return[];!function(v){if(!dt(v))throw new Error("must supply array")}(d);const m=gs(f);return d.filter(function(v,b){return!m(v,b)})}(b&&b.preferredLayouts||[],"straight")[0]||"h:h",x=Zr(d,f,Xk[_]||0),w=function(P,M){if(PE(M))return M;switch(P){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return M}}(x,_);m=m||mn(d),v=v||mn(f);var P,M,R,S=w.split(":");return P=Lb(m,d,S[0],{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[x]),M=Lb(v,f,S[1],x),(R=Nb(P,M,w)).unshift(P),R.push(M),u7(R)}function c7(d,f,m){return(v=f[d])>=m[d]&&v<=m[d]+m[{x:"width",y:"height"}[d]];var v}function n0(d,f,m,v){if((w=v).length<3||!(w.length>4)&&cn(w,function(S,T){var P=w[T-1];return P&&be(S,P)<3}))return null;var w,b,_=v[0],x=v.slice();return x[0]=m,x[1]=function(w,S,T){switch(Ot(S,w)){case"v":return{x:T.x,y:w.y};case"h":return{x:w.x,y:T.y}}return{x:w.x,y:w.y}}(x[1],_,m),b=function(w,S,T){var P;for(P=w.length-2;0!==P;P--)if(Mo(w[P],S,a7)||Mo(w[P],T,a7))return w.slice(P);return w}(x,d,f),b!==x&&(x=n0(d,f,m,b)),x&&Ot(x)?null:x}function PE(d){return d&&/t|r|b|l/.test(d)}function Lb(d,f,m,v){if("h"===m&&(m=/left/.test(v)?"l":"r"),"v"===m&&(m=/top/.test(v)?"t":"b"),"t"===m)return{original:d,x:d.x,y:f.y};if("r"===m)return{original:d,x:f.x+f.width,y:d.y};if("b"===m)return{original:d,x:d.x,y:f.y+f.height};if("l"===m)return{original:d,x:f.x,y:d.y};throw new Error("unexpected dockingDirection: <"+m+">")}function u7(d){return d.reduce(function(f,m,v){return Le(f[f.length-1],d[v+1],m,0)||f.push(m),f},[])}var d7=40,Fb={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},bd={top:"t",right:"r",bottom:"b",left:"l"};function uv(){}function _d(d,f){return Y(f,"bpmn:Participant")?"source":Y(d,"bpmn:Participant")?"target":dv(f)?"source":dv(d)||Y(f,"bpmn:Event")?"target":Y(d,"bpmn:Event")?"source":null}function Bb(d){return dv(d)?"target":"source"}function OE(d,f){return d?d.original||d:mn(f)}function lm(d,f){return Y(f,"bpmn:Activity")&&Y(d,"bpmn:BoundaryEvent")&&f.businessObject.isForCompensation}function dv(d){return Y(d,"bpmn:SubProcess")&&cr(d)}function pv(d,f){return d===f}function Zp(d){var f=/right|left/.exec(d);return f&&f[0]}function Ed(d){var f=/top|bottom/.exec(d);return f&&f[0]}function au(d){return"right"===d||"left"===d}function fv(d,f){var m=f.waypoints,v=m&&m.length&&Zr(m[0],d);return"top"===v?["t:r"]:"right"===v?["r:b"]:"left"===v?["l:t"]:["b:l"]}function qz(d,f,m){var v,b,_,x,R,I,$,W,H,Q,w=mn(d),S=mn(f),T=(x=(_=d).host,Zr(mn(_),x,-10)),P=pv(d.host,f),M=-1!==["top","right","bottom","left"].indexOf(T),k=Zr(S,w,{x:d.width/2+f.width/2,y:d.height/2+f.height/2});return P?(R=T,$=d,W=f,H=m,Q=(I=M)?R:Ed(R),[bd[Q]+":"+(I?au(R)?hv("y",$,W,H)?"h":"b":hv("x",$,W,H)?"v":"l":"v")]):(v=function(R,I,$){return $?bd[R]:pv(Ed(R),Ed(I))||function(W,H){return Fb[W]===H}(Zp(R),Zp(I))?bd[Ed(R)]:bd[Zp(R)]}(T,k,M),b=function(R,I,$){return $?au(R)?function(W,H){var z=Zp(W);return-1!==H.indexOf(Fb[z])}(R,I)||pv(R,I)?"h":"v":function(W,H){var z=Ed(W);return-1!==H.indexOf(Fb[z])}(R,I)||pv(R,I)?"v":"h":au(I)||pv(Ed(R),Ed(I))&&Zp(I)?"h":"v"}(T,k,M),[v+":"+b])}function hv(d,f,m,v){var b=d7;return!(Vb(d,v,m,b)||Vb(d,v,{x:m.x+m.width,y:m.y+m.height},b)||Vb(d,v,mn(f),b))}function Vb(d,f,m,v){return Math.abs(f[d]-m[d])<v}function kE(d){return de({original:d.point.original||d.point},d.actual)}function xd(d,f){this._elementRegistry=d,this._graphicsFactory=f}Ye(uv,qk),uv.prototype.layoutConnection=function(d,f){f||(f={});var m,v,b=f.source||d.source,_=f.target||d.target,x=f.waypoints||d.waypoints,w=f.connectionStart,S=f.connectionEnd;return w||(w=OE(x&&x[0],b)),S||(S=OE(x&&x[x.length-1],_)),(Y(d,"bpmn:Association")||Y(d,"bpmn:DataAssociation"))&&x&&!lm(b,_)?[].concat([w],x.slice(1,-1),[S]):(Y(d,"bpmn:MessageFlow")?m={preferredLayouts:["straight","v:v"],preserveDocking:_d(b,_)}:(Y(d,"bpmn:SequenceFlow")||lm(b,_))&&(m=b===_?{preferredLayouts:fv(b,d)}:Y(b,"bpmn:BoundaryEvent")?{preferredLayouts:qz(b,_,S)}:dv(b)||dv(_)?{preferredLayouts:["straight","h:h"],preserveDocking:Bb(b)}:Y(b,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:Y(_,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),m&&(v=u7(function Yk(d,f,m,v,b,_){var x,w,S,T,P,M,k,R,I;return dt(m)&&(b=m,_=v,m=mn(d),v=mn(f)),b=b||[],(x=-1!==(_=de({preferredLayouts:[]},_)).preferredLayouts.indexOf("straight")&&(T=m,P=v,M=_,I={},R=Zr(w=d,S=f),/^(top|bottom|left|right)$/.test(R)?(/top|bottom/.test(R)&&(k="x"),/left|right/.test(R)&&(k="y"),"target"===M.preserveDocking?c7(k,P,w)?(I[k]=P[k],[{x:void 0!==I.x?I.x:T.x,y:void 0!==I.y?I.y:T.y,original:{x:void 0!==I.x?I.x:T.x,y:void 0!==I.y?I.y:T.y}},{x:P.x,y:P.y}]):null:c7(k,T,S)?(I[k]=T[k],[{x:T.x,y:T.y},{x:void 0!==I.x?I.x:P.x,y:void 0!==I.y?I.y:P.y,original:{x:void 0!==I.x?I.x:P.x,y:void 0!==I.y?I.y:P.y}}]):null):null))||(x=_.connectionEnd&&function(w,S,T,P){var M=P.slice().reverse();return(M=n0(w,S,T,M))?M.reverse():null}(f,d,v,b),x||(x=_.connectionStart&&n0(d,f,m,b))||(!_.connectionStart&&!_.connectionEnd&&b&&b.length?b:l7(d,f,m,v,_)))}(b,_,w,S,x,m=de(m,f)))),v||[w,S])},xd.$inject=["elementRegistry","graphicsFactory"],xd.prototype.getCroppedWaypoints=function(d,f,m){m=m||d.target;var v=this.getDockingPoint(d,f=f||d.source,!0),b=this.getDockingPoint(d,m),_=d.waypoints.slice(v.idx+1,b.idx);return _.unshift(kE(v)),_.push(kE(b)),_},xd.prototype.getDockingPoint=function(d,f,m){var v,b,_=d.waypoints;return{point:b=_[v=m?0:_.length-1],actual:this._getIntersection(f,d,m)||b,idx:v}},xd.prototype._getIntersection=function(d,f,m){return Ky(this._getShapePath(d),this._getConnectionPath(f),m)},xd.prototype._getConnectionPath=function(d){return this._graphicsFactory.getConnectionPath(d)},xd.prototype._getShapePath=function(d){return this._graphicsFactory.getShapePath(d)},xd.prototype._getGfx=function(d){return this._elementRegistry.getGraphics(d)};var jb={__init__:["modeling","bpmnUpdater"],__depends__:[V8,X8,xb,Lk,Vh,Vk,Qg,jk,zu,O_,hE],bpmnFactory:["type",zl],bpmnUpdater:["type",Ts],elementFactory:["type",fd],modeling:["type",Ps],layouter:["type",uv],connectionDocking:["type",xd]},mv=new ZC("tt");function AE(d,f){d.style.display=!1===f?"none":""}var p7="djs-tooltip",RE="."+p7;function aa(d,f){var m,v;this._eventBus=d,this._canvas=f,this._ids=mv,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(m=f.getContainer(),Oe(v=Sr('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),m.insertBefore(v,m.firstChild),v);var b=this;Ai.bind(this._tooltipRoot,RE,"mousedown",function(_){_.stopPropagation()}),Ai.bind(this._tooltipRoot,RE,"mouseover",function(_){b.trigger("mouseover",_)}),Ai.bind(this._tooltipRoot,RE,"mouseout",function(_){b.trigger("mouseout",_)}),this._init()}aa.$inject=["eventBus","canvas"],aa.prototype.add=function(d){if(!d.position)throw new Error("must specifiy tooltip position");if(!d.html)throw new Error("must specifiy tooltip html");var f=this._ids.next();return d=de({},this._tooltipDefaults,d,{id:f}),this._addTooltip(d),d.timeout&&this.setTimeout(d),f},aa.prototype.trigger=function(d,f){var v=this.get(Ue(f.delegateTarget||f.target,"data-tooltip-id"));v&&("mouseover"===d&&v.timeout&&this.clearTimeout(v),"mouseout"===d&&v.timeout&&(v.timeout=1e3,this.setTimeout(v)))},aa.prototype.get=function(d){return"string"!=typeof d&&(d=d.id),this._tooltips[d]},aa.prototype.clearTimeout=function(d){if(d=this.get(d)){var f=d.removeTimer;f&&(clearTimeout(f),d.removeTimer=null)}},aa.prototype.setTimeout=function(d){if(d=this.get(d)){this.clearTimeout(d);var f=this;d.removeTimer=setTimeout(function(){f.remove(d)},d.timeout)}},aa.prototype.remove=function(d){var f=this.get(d);f&&(vs(f.html),vs(f.htmlContainer),delete f.htmlContainer,delete this._tooltips[f.id])},aa.prototype.show=function(){AE(this._tooltipRoot)},aa.prototype.hide=function(){AE(this._tooltipRoot,!1)},aa.prototype._updateRoot=function(d){var f=d.scale||1,m=d.scale||1,v="matrix("+f+",0,0,"+m+","+-1*d.x*f+","+-1*d.y*m+")";this._tooltipRoot.style.transform=v,this._tooltipRoot.style["-ms-transform"]=v},aa.prototype._addTooltip=function(d){var f,m=d.id,v=d.html,b=this._tooltipRoot;v.get&&v.constructor.prototype.jquery&&(v=v.get(0)),Or(v)&&(v=Sr(v)),Oe(f=Sr('<div data-tooltip-id="'+m+'" class="'+p7+'">'),{position:"absolute"}),f.appendChild(v),d.type&&$t(f).add("djs-tooltip-"+d.type),d.className&&$t(f).add(d.className),d.htmlContainer=f,b.appendChild(f),this._tooltips[m]=d,this._updateTooltip(d)},aa.prototype._updateTooltip=function(d){var f=d.position;Oe(d.htmlContainer,{left:f.x+"px",top:f.y+"px"})},aa.prototype._updateTooltipVisibilty=function(d){ge(this._tooltips,function(f){var m=f.show,b=!0;m&&((m.minZoom>d.scale||m.maxZoom<d.scale)&&(b=!1),AE(f.htmlContainer,b))})},aa.prototype._init=function(){var d=this;this._eventBus.on("canvas.viewbox.changing",function(f){d.hide()}),this._eventBus.on("canvas.viewbox.changed",function(f){var m;d._updateRoot(m=f.viewbox),d._updateTooltipVisibilty(m),d.show()})};var Kk={__init__:["tooltips"],tooltips:["type",aa]};function f7(d,f,m){d.on(["shape.move.rejected","create.rejected"],function(v){var b,_,w=v.context,S=w.shape;Y(w.target,"bpmn:Collaboration")&&Y(S,"bpmn:FlowNode")&&(b=v,_=m("flow elements must be children of pools/participants"),f.add({position:{x:b.x+5,y:b.y+5},type:"error",timeout:2e3,html:"<div>"+_+"</div>"}))})}f7.$inject=["eventBus","tooltips","translate"];var Qk={__depends__:[Kk],__init__:["modelingFeedback"],modelingFeedback:["type",f7]},$b=Math.round;function Ul(d,f,m,v,b){function _(w,S,T,P){return b.allowed("elements.move",{shapes:w,delta:S,position:T,target:P})}function x(w,S,T,P){if(Dn(T)&&(P=T,T=!1),!S.waypoints&&S.parent&&!kn(w.target).has("djs-hit-no-move")){var M={x:(k=S).x+$b(k.width/2),y:k.y+$b(k.height/2)};return f.init(w,M,"shape.move",{cursor:"grabbing",autoActivate:T,data:{shape:S,context:P||{}}}),!0}var k}d.on("shape.move.start",1500,function(w){var M,k,S=w.context,T=w.shape,P=v.get().slice();-1===P.indexOf(T)&&(P=[T]),k=Po(M=P,"id"),de(S,{shapes:P=kt(M,function(R){for(;R=R.parent;)if(k[R.id])return!1;return!0}),validatedShapes:P,shape:T})}),d.on("shape.move.start",1250,function(w){var S=w.context;if(!(S.canExecute=_(S.validatedShapes)))return!1}),d.on("shape.move.move",500,function(w){var S,T=w.context,M=w.hover,k={x:w.dx,y:w.dy};S=_(T.validatedShapes,k,{x:w.x,y:w.y},M),T.delta=k,T.canExecute=S,T.target=null!==S?M:null}),d.on("shape.move.end",function(w){var S=w.context,T=S.delta,P=S.canExecute,M="attach"===P,k=S.shapes;if(!1===P)return!1;T.x=$b(T.x),T.y=$b(T.y),0===T.x&&0===T.y||m.moveElements(k,T,S.target,{primaryShape:S.shape,attach:M})}),d.on("element.mousedown",function(w){if(Y0(w)){var S=X0(w);if(!S)throw new Error("must supply DOM mousedown event");return x(S,w.element)}}),this.start=x}Ul.$inject=["eventBus","dragging","modeling","selection","rules"];var IE="djs-dragging",h7="drop-ok",NE="drop-not-ok",LE="new-parent",zb="attach-ok";function FE(d,f,m,v){function _(w){var S=Hc(w,!0),T=wr(S,function(P){return(P.incoming||[]).concat(P.outgoing||[])});return tn(S.concat(T))}function x(w,S){[zb,h7,NE,LE].forEach(function(T){T===S?f.addMarker(w,T):f.removeMarker(w,T)})}d.on("shape.move.start",499,function(w){var S=w.context,T=S.shapes,P=S.allDraggedElements,M=function b(w){var T;return kt(T=_(w),function(M){return!_i(M)||cn(T,po({id:M.source.id}))&&cn(T,po({id:M.target.id}))})}(T);if(!S.dragGroup){var k=Rt("g");Et(k,m.cls("djs-drag-group",["no-events"])),rn(f.getActiveLayer(),k),S.dragGroup=k}M.forEach(function(R){v.addDragger(R,S.dragGroup)}),ge(P=P?tn([P,_(T)]):_(T),function(R){f.addMarker(R,IE)}),S.allDraggedElements=P,S.differentParents=1!==oi(Po(T,function(R){return R.parent&&R.parent.id})).length}),d.on("shape.move.move",499,function(w){var S=w.context,T=S.dragGroup,P=S.target;P&&x(P,"attach"===S.canExecute?zb:S.canExecute&&P&&P.id!==S.shape.parent.id?LE:S.canExecute?h7:NE),bs(T,w.dx,w.dy)}),d.on(["shape.move.out","shape.move.cleanup"],function(w){var S=w.context.target;S&&x(S,null)}),d.on("shape.move.cleanup",function(w){var S=w.context,P=S.dragGroup;ge(S.allDraggedElements,function(M){f.removeMarker(M,IE)}),P&&vi(P)}),this.makeDraggable=function(w,S,T){v.addDragger(S,w.dragGroup),T&&f.addMarker(S,IE),w.allDraggedElements?w.allDraggedElements.push(S):w.allDraggedElements=[S]}}FE.$inject=["eventBus","canvas","styles","previewSupport"];var Zk={__depends__:[y2,zu,DO,vo,J0,mg],__init__:["move","movePreview"],move:["type",Ul],movePreview:["type",FE]},BE=".djs-palette-toggle",m7=BE+", .entry",Ub="djs-palette-",VE="open",g7="two-column";function yo(d,f){this._eventBus=d,this._canvas=f;var m=this;d.on("tool-manager.update",function(v){m.updateToolHighlight(v.tool)}),d.on("i18n.changed",function(){m._update()}),d.on("diagram.init",function(){m._diagramInitialized=!0,m._rebuild()})}function jE(d,f){var m=f.getPaletteEntries();return wn(m)?m(d):(ge(m,function(v,b){d[b]=v}),d)}yo.$inject=["eventBus","canvas"],yo.prototype.registerProvider=function(d,f){f||(f=d,d=1e3),this._eventBus.on("palette.getProviders",d,function(m){m.providers.push(f)}),this._rebuild()},yo.prototype.getEntries=function(){return this._getProviders().reduce(jE,{})},yo.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},yo.prototype._init=function(){var d=this,f=this._eventBus,m=this._getParentContainer(),v=this._container=Sr(yo.HTML_MARKUP);m.appendChild(v),$t(m).add(Ub+"shown"),Ai.bind(v,m7,"click",function(b){if(Lr(b.delegateTarget,BE))return d.toggle();d.trigger("click",b)}),Zt.bind(v,"mousedown",function(b){b.stopPropagation()}),Ai.bind(v,".entry","dragstart",function(b){d.trigger("dragstart",b)}),f.on("canvas.resized",this._layoutChanged,this),f.fire("palette.create",{container:v})},yo.prototype._getProviders=function(d){var f=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(f),f.providers},yo.prototype._toggleState=function(d){d=d||{};var f,m=this._getParentContainer(),b=this._eventBus,_=$t(this._container),x=$t(m);f="twoColumn"in d?d.twoColumn:this._needsCollapse(m.clientHeight,this._entries||{}),_.toggle(g7,f),x.toggle(Ub+g7,f),"open"in d&&(_.toggle(VE,d.open),x.toggle(Ub+VE,d.open)),b.fire("palette.changed",{twoColumn:f,open:this.isOpen()})},yo.prototype._update=function(){var d=vr(".djs-palette-entries",this._container),f=this._entries=this.getEntries();rr(d),ge(f,function(m,v){var b=m.group||"default",_=vr("[data-group="+G1(b)+"]",d);_||(Ue(_=Sr('<div class="group"></div>'),"data-group",b),d.appendChild(_));var P,M,w=Sr(m.html||(m.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(_.appendChild(w),!m.separator&&(Ue(w,"data-action",v),m.title&&Ue(w,"title",m.title),m.className&&(P=m.className,M=$t(w),(dt(P)?P:P.split(/\s+/g)).forEach(function(k){M.add(k)})),m.imageUrl)){var S=Sr("<img>");Ue(S,"src",m.imageUrl),w.appendChild(S)}}),this.open()},yo.prototype.trigger=function(d,f,m){var v,_=f.delegateTarget||f.target;return _?(v=Ue(_,"data-action"),this.triggerEntry(v,d,f.originalEvent||f,m)):f.preventDefault()},yo.prototype.triggerEntry=function(d,f,m,v){var b,_;if((b=this._entries[d])&&(_=b.action,!1!==this._eventBus.fire("palette.trigger",{entry:b,event:m}))){if(wn(_)){if("click"===f)return _(m,v)}else if(_[f])return _[f](m,v);m.preventDefault()}},yo.prototype._layoutChanged=function(){this._toggleState({})},yo.prototype._needsCollapse=function(d,f){return d<46*Object.keys(f).length+50},yo.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},yo.prototype.open=function(){this._toggleState({open:!0})},yo.prototype.toggle=function(){this.isOpen()?this.close():this.open()},yo.prototype.isActiveTool=function(d){return d&&this._activeTool===d},yo.prototype.updateToolHighlight=function(d){var f;this._toolsContainer||(f=vr(".djs-palette-entries",this._container),this._toolsContainer=vr("[data-group=tools]",f)),ge(this._toolsContainer.children,function(m){var v=m.getAttribute("data-action");if(v){var b=$t(m);v=v.replace("-tool",""),b.contains("entry")&&v===d?b.add("highlighted-entry"):b.remove("highlighted-entry")}})},yo.prototype.isOpen=function(){return $t(this._container).has(VE)},yo.prototype._getParentContainer=function(){return this._canvas.getContainer()},yo.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var $E={__init__:["palette"],palette:["type",yo]},zE="crosshair";function r0(d,f,m,v,b,_,x){this._selection=b,this._dragging=m,this._mouse=x;var w=this;_.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),d.on("lasso.selection.end",function(M){(M.hover||M.originalEvent.target instanceof SVGElement)&&d.once("lasso.selection.ended",function(){w.activateLasso(M.originalEvent,!0)})}),d.on("lasso.end",function(M){var k=gv(M),R=v.filter(function(I){return I});w.select(R,k)}),d.on("lasso.start",function(M){var k=M.context;k.bbox=gv(M),function(M){var k,R=f.getActiveLayer();Et(k=M.frame=Rt("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),rn(R,k)}(k)}),d.on("lasso.move",function(M){var k=M.context;k.bbox=gv(M),function(M){var R=M.bbox;Et(M.frame,{x:R.x,y:R.y,width:R.width,height:R.height})}(k)}),d.on("lasso.cleanup",function(M){!function(M){M.frame&&vi(M.frame)}(M.context)}),d.on("element.mousedown",1500,function(M){if(H1(M))return w.activateLasso(M.originalEvent),!0})}function gv(d){var f={x:d.x-d.dx,y:d.y-d.dy},m={x:d.x,y:d.y};return f.x<=m.x&&f.y<m.y||f.x<m.x&&f.y<=m.y?{x:f.x,y:f.y,width:m.x-f.x,height:m.y-f.y}:f.x>=m.x&&f.y<m.y||f.x>m.x&&f.y<=m.y?{x:m.x,y:f.y,width:f.x-m.x,height:m.y-f.y}:f.x<=m.x&&f.y>m.y||f.x<m.x&&f.y>=m.y?{x:f.x,y:m.y,width:m.x-f.x,height:f.y-m.y}:f.x>=m.x&&f.y>m.y||f.x>m.x&&f.y>=m.y?{x:m.x,y:m.y,width:f.x-m.x,height:f.y-m.y}:{x:m.x,y:m.y,width:0,height:0}}r0.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],r0.prototype.activateLasso=function(d,f){this._dragging.init(d,"lasso",{autoActivate:f,cursor:zE,data:{context:{}}})},r0.prototype.activateSelection=function(d,f){this._dragging.init(d,"lasso.selection",{trapClick:!1,autoActivate:f,cursor:zE,data:{context:{}}})},r0.prototype.select=function(d,f){var b,_,m=(b=f,_={},ge(d,function(x){var w=x;w.waypoints&&(w=si(w)),!lt(b.y)&&w.x>b.x&&(_[x.id]=x),!lt(b.x)&&w.y>b.y&&(_[x.id]=x),w.x>b.x&&w.y>b.y&&(lt(b.width)&&lt(b.height)&&w.width+w.x<b.width+b.x&&w.height+w.y<b.height+b.y?_[x.id]=x:lt(b.width)&&lt(b.height)||(_[x.id]=x))}),_);this._selection.select(ms(m))},r0.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();this.activateSelection(d,!!d)},r0.prototype.isActive=function(){var d=this._dragging.context();return d&&/^lasso/.test(d.prefix)};var Jk={__depends__:[Jh,Lp],__init__:["lassoTool"],lassoTool:["type",r0]};function cm(d,f,m,v,b,_){this._dragging=m,this._mouse=_;var x=this,w=v.get("keyboard",!1);b.registerTool("hand",{tool:"hand",dragging:"hand.move"}),d.on("element.mousedown",1500,function(S){if(bh(S))return x.activateMove(S.originalEvent,!0),!1}),w&&w.addListener(1500,function(S){if(UE(S.keyEvent)&&!x.isActive()){var T=x._mouse.getLastMoveEvent();x.activateMove(T,!!T)}},"keyboard.keydown"),w&&w.addListener(1500,function(S){UE(S.keyEvent)&&x.isActive()&&x.toggle()},"keyboard.keyup"),d.on("hand.end",function(S){if(!(S.hover||S.originalEvent.target instanceof SVGElement))return!1;d.once("hand.ended",function(){x.activateMove(S.originalEvent,{reactivate:!0})})}),d.on("hand.move.move",function(S){var T=f.viewbox().scale;f.scroll({dx:S.dx*T,dy:S.dy*T})}),d.on("hand.move.end",function(S){var T=S.context.reactivate;return!bh(S)&&T&&d.once("hand.move.ended",function(P){x.activateHand(P.originalEvent,!0,!0)}),!1})}function UE(d){return Xo("Space",d)}cm.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],cm.prototype.activateMove=function(d,f,m){"object"==typeof f&&(m=f,f=!1),this._dragging.init(d,"hand.move",{autoActivate:f,cursor:"grab",data:{context:m||{}}})},cm.prototype.activateHand=function(d,f,m){this._dragging.init(d,"hand",{trapClick:!1,autoActivate:f,cursor:"grab",data:{context:{reactivate:m}}})},cm.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();this.activateHand(d,!!d)},cm.prototype.isActive=function(){var d=this._dragging.context();return!!d&&/^(hand|hand\.move)$/.test(d.prefix)};var GE={__depends__:[Jh,Lp],__init__:["handTool"],handTool:["type",cm]},Gb="connect-ok",qE="connect-not-ok";function Jp(d,f,m,v,b,_,x){var w=this;this._dragging=f,this._rules=_,this._mouse=x,b.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),d.on("global-connect.hover",function(S){var T=S.context,P=S.hover,M=T.canStartConnect=w.canStartConnect(P);null!==M&&(T.startTarget=P,v.addMarker(P,M?Gb:qE))}),d.on(["global-connect.out","global-connect.cleanup"],function(S){var T=S.context.startTarget;T&&v.removeMarker(T,S.context.canStartConnect?Gb:qE)}),d.on(["global-connect.ended"],function(S){var T=S.context.startTarget,P={x:S.x,y:S.y};if(w.canStartConnect(T))return d.once("element.out",function(){d.once(["connect.ended","connect.canceled"],function(){d.fire("global-connect.drag.ended")}),m.start(null,T,P)}),!1})}Jp.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],Jp.prototype.start=function(d,f){this._dragging.init(d,"global-connect",{autoActivate:f,trapClick:!1,data:{context:{}}})},Jp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();return this.start(d,!!d)},Jp.prototype.isActive=function(){var d=this._dragging.context();return d&&/^global-connect/.test(d.prefix)},Jp.prototype.canStartConnect=function(d){return this._rules.allowed("connection.start",{source:d})};var y7={__depends__:[u4,vo,J0,Jh,Lp],globalConnect:["type",Jp]};function WE(d,f,m,v,b,_,x,w){this._palette=d,this._create=f,this._elementFactory=m,this._spaceTool=v,this._lassoTool=b,this._handTool=_,this._globalConnect=x,this._translate=w,d.registerProvider(this)}WE.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],WE.prototype.getPaletteEntries=function(){var d={},f=this._create,m=this._elementFactory,v=this._spaceTool,b=this._lassoTool,_=this._handTool,x=this._globalConnect,w=this._translate;function S(M,k,R,I,$){function W(z){var Q=m.createShape(de({type:M},$));$&&(dr(Q).isExpanded=$.isExpanded),f.start(z,Q)}var H=M.replace(/^bpmn:/,"");return{group:k,className:R,title:I||w("Create {type}",{type:H}),action:{dragstart:W,click:W}}}function T(M){var k=m.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),R=m.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:k});f.start(M,[k,R],{hints:{autoSelect:[k]}})}function P(M){f.start(M,m.createParticipantShape())}return de(d,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:w("Activate the hand tool"),action:{click:function(M){_.activateHand(M)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:w("Activate the lasso tool"),action:{click:function(M){b.activateSelection(M)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:w("Activate the create/remove space tool"),action:{click:function(M){v.activateSelection(M)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:w("Activate the global connect tool"),action:{click:function(M){x.start(M)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":S("bpmn:StartEvent","event","bpmn-icon-start-event-none",w("Create StartEvent")),"create.intermediate-event":S("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",w("Create Intermediate/Boundary Event")),"create.end-event":S("bpmn:EndEvent","event","bpmn-icon-end-event-none",w("Create EndEvent")),"create.exclusive-gateway":S("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",w("Create Gateway")),"create.task":S("bpmn:Task","activity","bpmn-icon-task",w("Create Task")),"create.data-object":S("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",w("Create DataObjectReference")),"create.data-store":S("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",w("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:w("Create expanded SubProcess"),action:{dragstart:T,click:T}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:w("Create Pool/Participant"),action:{dragstart:P,click:P}},"create.group":S("bpmn:Group","artifact","bpmn-icon-group",w("Create Group"))}),d};var b7={__depends__:[$E,nd,hE,Jk,GE,y7,tl],__init__:["paletteProvider"],paletteProvider:["type",WE]};function XE(d,f,m,v,b){st.call(this,d),d.on("shape.move.move",250,function(_){var S,x=_.context,w=x.canExecute;x.visualReplacements||(x.visualReplacements={}),w&&w.replacements?ge((S=x).canExecute.replacements,function(T){var P=T.oldElementId,M={type:T.newElementType};if(!S.visualReplacements[P]){var k=f.get(P);de(M,{x:k.x,y:k.y});var R=m.createShape(M);v.addShape(R,k.parent);var I=vr('[data-element-id="'+G1(k.id)+'"]',S.dragGroup);I&&Et(I,{display:"none"});var $=b.addDragger(R,S.dragGroup);S.visualReplacements[P]=$,v.removeShape(R)}}):function(S){var T=S.visualReplacements;ge(T,function(P,M){var k=vr('[data-element-id="'+G1(M)+'"]',S.dragGroup);k&&Et(k,{display:"inline"}),P.remove(),T[M]&&delete T[M]})}(x)})}XE.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],Ye(XE,st);var YE={__depends__:[mg],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",XE]},E7=["x","y"],x7=Math.abs;function KE(d){d.on(["connect.hover","connect.move","connect.end"],1250,function(f){var S,T,P,m=f.context,v=m.canExecute,b=m.start,_=m.hover,x=m.source,w=m.target;f.originalEvent&&Da(f.originalEvent)||(m.initialConnectionStart||(m.initialConnectionStart=m.connectionStart),v&&_&&(S=f,T=_,P=Y(_,"bpmn:Task")?10:20,E7.forEach(function(M){var k=ZE(M,T);S[M]<T[M]+P?oo(S,M,T[M]+P):S[M]>T[M]+k-P&&oo(S,M,T[M]+k-P)})),_&&function(S,T){return Ci(["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],function(P){return QE(S,P)})}(v)?(m.connectionStart=rl(b),Gn(_,["bpmn:Event","bpmn:Gateway"])&&Wb(f,rl(_)),Gn(_,["bpmn:Task","bpmn:SubProcess"])&&function(S,T){var P=rl(T);E7.forEach(function(M){var k,R,I;(k=S)[I=M]>(R=T)[I]+20&&k[I]<R[I]+ZE(I,R)-20&&oo(S,M,P[M])})}(f,_),Y(x,"bpmn:BoundaryEvent")&&w===x.host&&function(S){var $,W,H,T=S.context,M=T.target;if(H=($=T).source,!(W=$.hover)||!H||W!==H){var k=rl(T.source),R=Zr(k,M,-10),I=[];/top|bottom/.test(R)&&I.push("x"),/left|right/.test(R)&&I.push("y"),I.forEach(function($){var H=S[$];x7(H-k[$])<40&&oo(S,$,H>k[$]?k[$]+40:k[$]-40)})}}(f)):QE(v,"bpmn:MessageFlow")?(Y(b,"bpmn:Event")&&(m.connectionStart=rl(b)),Y(_,"bpmn:Event")&&Wb(f,rl(_))):m.connectionStart=m.initialConnectionStart)})}function Wb(d,f){oo(d,"x",f.x),oo(d,"y",f.y)}function QE(d,f){return d&&d.type===f}function ZE(d,f){return"x"===d?f.width:f.height}function o0(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function vv(){this._snapValues={}}KE.$inject=["eventBus"],o0.prototype.getSnapOrigin=function(d){return this._snapOrigins[d]},o0.prototype.setSnapOrigin=function(d,f){this._snapOrigins[d]=f,-1===this._snapLocations.indexOf(d)&&this._snapLocations.push(d)},o0.prototype.addDefaultSnap=function(d,f){var m=this._defaultSnaps[d];m||(m=this._defaultSnaps[d]=[]),m.push(f)},o0.prototype.getSnapLocations=function(){return this._snapLocations},o0.prototype.setSnapLocations=function(d){this._snapLocations=d},o0.prototype.pointsForTarget=function(d){var f=d.id||d,m=this._targets[f];return m||(m=this._targets[f]=new vv).initDefaults(this._defaultSnaps),m},vv.prototype.add=function(d,f){var m=this._snapValues[d];m||(m=this._snapValues[d]={x:[],y:[]}),-1===m.x.indexOf(f.x)&&m.x.push(f.x),-1===m.y.indexOf(f.y)&&m.y.push(f.y)},vv.prototype.snap=function(d,f,m,v){var b=this._snapValues[f];return b&&function(_,x,w){var S,T;for(w=void 0===w?10:w,S=0;S<x.length;S++)if(zS((T=x[S])-_)<=w)return T}(d[m],b[m],v)},vv.prototype.initDefaults=function(d){var f=this;ge(d||{},function(m,v){ge(m,function(b){f.add(v,b)})})};var tA=1250;function s0(d,f,m){var v=this;this._elementRegistry=d,f.on(["create.start","shape.move.start"],function(b){v.initSnap(b)}),f.on(["create.move","create.end","shape.move.move","shape.move.end"],tA,function(b){var _=b.context,x=_.shape,w=_.snapContext,S=_.target;if((!b.originalEvent||!Da(b.originalEvent))&&!Ip(b)&&S){var T=w.pointsForTarget(S);T.initialized||((T=v.addSnapTargetPoints(T,x,S)).initialized=!0),m.snap(b,T)}}),f.on(["create.cleanup","shape.move.cleanup"],function(){m.hide()})}function yv(d,f){f.invoke(s0,this),d.on(["create.move","create.end"],1500,Xz),d.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(m){var x,w,S,T,P,k,v=m.context,b=v.canExecute,_=v.target;b&&("attach"===b||b.attach)&&!Ip(m)&&(x=m,T=Yt(w=_),P=rE(x,w),S=(k=x.context.shape).parent?{x:0,y:0}:mn(k),/top/.test(P)?oo(x,"y",T.top-S.y):/bottom/.test(P)&&oo(x,"y",T.bottom-S.y),/left/.test(P)?oo(x,"x",T.left-S.x):/right/.test(P)&&oo(x,"x",T.right-S.x))})}function Xz(d){var f=d.context.createConstraints;if(f){var m=f.top,v=f.right,b=f.bottom,_=f.left;(_&&_>=d.x||v&&v<=d.x)&&oo(d,"x",d.x),(m&&m>=d.y||b&&b<=d.y)&&oo(d,"y",d.y)}}function nA(d,f){return-1!==d.indexOf(f)}function rA(d,f,m){return f?{x:d.x-m.x,y:d.y-m.y}:{x:d.x,y:d.y}}function Xb(d,f){var m=this;d.on(["resize.start"],function(v){m.initSnap(v)}),d.on(["resize.move","resize.end"],1250,function(v){var b=v.context,_=b.shape,x=_.parent,w=b.direction,S=b.snapContext;if(!(v.originalEvent&&Da(v.originalEvent)||Ip(v))){var T=S.pointsForTarget(x);T.initialized||((T=m.addSnapTargetPoints(T,_,x,w)).initialized=!0),function(P){return"n"===P||"s"===P}(w)&&oo(v,"x",v.x),function(P){return"e"===P||"w"===P}(w)&&oo(v,"y",v.y),f.snap(v,T)}}),d.on(["resize.cleanup"],function(){f.hide()})}function iA(d,f){var m=mn(d),v=Yt(d),b={x:m.x,y:m.y};return-1!==f.indexOf("n")?b.y=v.top:-1!==f.indexOf("s")&&(b.y=v.bottom),-1!==f.indexOf("e")?b.x=v.right:-1!==f.indexOf("w")&&(b.x=v.left),b}function ef(d){this._canvas=d,this._asyncHide=qe(Ze(this.hide,this),1e3)}s0.$inject=["elementRegistry","eventBus","snapping"],s0.prototype.initSnap=function(d){var f,m=this._elementRegistry,v=d.context,b=v.shape,_=v.snapContext;_||(_=v.snapContext=new o0);var x=(f=m.get(b.id)?rl(b,d):{x:d.x+rl(b).x,y:d.y+rl(b).y}).x-b.width/2,w=f.y-b.height/2,S=f.x+b.width/2,T=f.y+b.height/2;return _.setSnapOrigin("mid",{x:f.x-d.x,y:f.y-d.y}),br(b)||(_.setSnapOrigin("top-left",{x:x-d.x,y:w-d.y}),_.setSnapOrigin("bottom-right",{x:S-d.x,y:T-d.y})),_},s0.prototype.addSnapTargetPoints=function(d,f,m){return ge(this.getSnapTargets(f,m),function(v){if(br(v))br(f)&&d.add("mid",rl(v));else if(_i(v)){if(v.waypoints.length<3)return;ge(v.waypoints.slice(1,-1),function(b){d.add("mid",b)})}else d.add("mid",rl(v))}),lt(f.x)&&lt(f.y)&&this._elementRegistry.get(f.id)&&d.add("mid",rl(f)),d},s0.prototype.getSnapTargets=function(d,f){return HS(f).filter(function(m){return!m.hidden})},Ye(yv,s0),yv.$inject=["eventBus","injector"],yv.prototype.initSnap=function(d){var f=s0.prototype.initSnap.call(this,d),m=d.shape,v=!!this._elementRegistry.get(m.id);return ge(m.outgoing,function(b){var _=b.waypoints[0];f.setSnapOrigin(b.id+"-docking",rA(_=_.original||_,v,d))}),ge(m.incoming,function(b){var _=b.waypoints[b.waypoints.length-1];f.setSnapOrigin(b.id+"-docking",rA(_=_.original||_,v,d))}),Y(m,"bpmn:Participant")&&f.setSnapLocations(["top-left","bottom-right","mid"]),f},yv.prototype.addSnapTargetPoints=function(d,f,m){s0.prototype.addSnapTargetPoints.call(this,d,f,m);var v=this.getSnapTargets(f,m);ge(v,function(_){var w;(Y(w=_,"bpmn:SubProcess")&&cr(w)||Y(w,"bpmn:Participant")||("bpmn:TextAnnotation",[f,_].every(function(w){return Y(w,"bpmn:TextAnnotation")})))&&(d.add("top-left",fg(_)),d.add("bottom-right",c4(_)))});var b=this._elementRegistry;return ge(f.incoming,function(_){if(b.get(f.id)){nA(v,_.source)||d.add("mid",mn(_.source));var x=_.waypoints[0];d.add(_.id+"-docking",x.original||x)}}),ge(f.outgoing,function(_){if(b.get(f.id)){nA(v,_.target)||d.add("mid",mn(_.target));var x=_.waypoints[_.waypoints.length-1];d.add(_.id+"-docking",x.original||x)}}),Y(m,"bpmn:SequenceFlow")&&(d=this.addSnapTargetPoints(d,f,m.parent)),d},yv.prototype.getSnapTargets=function(d,f){return s0.prototype.getSnapTargets.call(this,d,f).filter(function(m){return!Y(m,"bpmn:Lane")})},Xb.prototype.initSnap=function(d){var f=d.context,m=f.shape,v=f.direction,b=f.snapContext;b||(b=f.snapContext=new o0);var _=iA(m,v);return b.setSnapOrigin("corner",{x:_.x-d.x,y:_.y-d.y}),b},Xb.prototype.addSnapTargetPoints=function(d,f,m,v){return ge(this.getSnapTargets(f,m),function(b){d.add("corner",c4(b)),d.add("corner",fg(b))}),d.add("corner",iA(f,v)),d},Xb.$inject=["eventBus","snapping"],Xb.prototype.getSnapTargets=function(d,f){return HS(f).filter(function(m){return!(m.host===d||_i(m)||(_=m,_.hidden)||br(m));var _})},ef.$inject=["canvas"],ef.prototype.snap=function(d,f){var m=d.context.snapContext,v=m.getSnapLocations(),b={x:Ip(d,"x"),y:Ip(d,"y")};ge(v,function(_){var x=m.getSnapOrigin(_),w={x:d.x+x.x,y:d.y+x.y};if(ge(["x","y"],function(S){var T;b[S]||void 0!==(T=f.snap(w,_,S,7))&&(b[S]={value:T,originValue:T-x[S]})}),b.x&&b.y)return!1}),this.showSnapLine("vertical",b.x&&b.x.value),this.showSnapLine("horizontal",b.y&&b.y.value),ge(["x","y"],function(_){var x=b[_];Dn(x)&&oo(d,_,x.originValue)})},ef.prototype._createLine=function(d){var f=this._canvas.getLayer("snap"),m=Rt("path");return Et(m,{d:"M0,0 L0,0"}),kn(m).add("djs-snap-line"),rn(f,m),{update:function(v){lt(v)?Et(m,"horizontal"===d?{d:"M-100000,"+v+" L+100000,"+v,display:""}:{d:"M "+v+",-100000 L "+v+", +100000",display:""}):Et(m,{display:"none"})}}},ef.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},ef.prototype.showSnapLine=function(d,f){var m=this.getSnapLine(d);m&&m.update(f),this._asyncHide()},ef.prototype.getSnapLine=function(d){return this._snapLines||this._createSnapLines(),this._snapLines[d]},ef.prototype.hide=function(){ge(this._snapLines,function(d){d.update()})};var w7={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",s0],resizeSnapping:["type",Xb],snapping:["type",ef]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",KE],createMoveSnapping:["type",yv]};function yn(d,f,m,v){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=d,this._eventBus=f,this._overlays=m,this._selection=v,this._container=Sr(yn.BOX_HTML),this._searchInput=vr(yn.INPUT_SELECTOR,this._container),this._resultsContainer=vr(yn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),f.on(["canvas.destroy","diagram.destroy"],this.close,this)}function oA(d,f,m){var x,v=(x="",f.forEach(function(w){x+=w.matched?'<strong class="'+yn.RESULT_HIGHLIGHT_CLASS+'">'+_2(w.matched)+"</strong>":_2(w.normal)}),""!==x?x:null),b=Sr(m);b.innerHTML=v,d.appendChild(b)}yn.$inject=["canvas","eventBus","overlays","selection"],yn.prototype._bindEvents=function(){var d=this;function f(m,v,b,_){d._eventMaps.push({el:m,type:b,listener:Ai.bind(m,v,b,_)})}f(document,"html","click",function(m){d.close()}),f(this._container,yn.INPUT_SELECTOR,"click",function(m){m.stopPropagation(),m.delegateTarget.focus()}),f(this._container,yn.RESULT_SELECTOR,"mouseover",function(m){m.stopPropagation(),d._scrollToNode(m.delegateTarget),d._preselect(m.delegateTarget)}),f(this._container,yn.RESULT_SELECTOR,"click",function(m){m.stopPropagation(),d._select(m.delegateTarget)}),f(this._container,yn.INPUT_SELECTOR,"keydown",function(m){Xo("ArrowUp",m)&&m.preventDefault(),Xo("ArrowDown",m)&&m.preventDefault()}),f(this._container,yn.INPUT_SELECTOR,"keyup",function(m){if(Xo("Escape",m))return d.close();if(Xo("Enter",m)){var v=d._getCurrentResult();return v?d._select(v):d.close()}return Xo("ArrowUp",m)?d._scrollToDirection(!0):Xo("ArrowDown",m)?d._scrollToDirection():void(Xo(["ArrowLeft","ArrowRight"],m)||d._search(m.delegateTarget.value))})},yn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(d){Ai.unbind(d.el,d.type,d.listener)})},yn.prototype._search=function(d){var f=this;if(this._clearResults(),d&&""!==d){var m=this._searchProvider.find(d);if(m.length){m.forEach(function(b){var _=b.element.id,x=f._createResultNode(b,_);f._results[_]={element:b.element,node:x}});var v=vr(yn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(v),this._preselect(v)}}},yn.prototype._scrollToDirection=function(d){var f=this._getCurrentResult();if(f){var m=d?f.previousElementSibling:f.nextElementSibling;m&&(this._scrollToNode(m),this._preselect(m))}},yn.prototype._scrollToNode=function(d){if(d&&d!==this._getCurrentResult()){var f=d.offsetTop,m=this._resultsContainer.scrollTop,v=f-this._resultsContainer.clientHeight+d.clientHeight;f<m?this._resultsContainer.scrollTop=f:m<v&&(this._resultsContainer.scrollTop=v)}},yn.prototype._clearResults=function(){rr(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},yn.prototype._getCurrentResult=function(){return vr(yn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},yn.prototype._createResultNode=function(d,f){var m=Sr(yn.RESULT_HTML);return d.primaryTokens.length>0&&oA(m,d.primaryTokens,yn.RESULT_PRIMARY_HTML),oA(m,d.secondaryTokens,yn.RESULT_SECONDARY_HTML),Ue(m,yn.RESULT_ID_ATTRIBUTE,f),this._resultsContainer.appendChild(m),m},yn.prototype.registerProvider=function(d){this._searchProvider=d},yn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,$t(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},yn.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,$t(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},yn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},yn.prototype.isOpen=function(){return this._open},yn.prototype._preselect=function(d){var f=this._getCurrentResult();if(d!==f){f&&$t(f).remove(yn.RESULT_SELECTED_CLASS);var m=Ue(d,yn.RESULT_ID_ATTRIBUTE),v=this._results[m].element;$t(d).add(yn.RESULT_SELECTED_CLASS),this._resetOverlay(v),this._canvas.scrollToElement(v,{top:400}),this._selection.select(v),this._eventBus.fire("searchPad.preselected",v)}},yn.prototype._select=function(d){var f=Ue(d,yn.RESULT_ID_ATTRIBUTE),m=this._results[f].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(m,{top:400}),this._selection.select(m),this._eventBus.fire("searchPad.selected",m)},yn.prototype._resetOverlay=function(d){if(this._overlayId&&this._overlays.remove(this._overlayId),d){var f=(x={width:(b=(m=si(d)).width+2*6)+"px",height:(_=m.height+12)+"px"},Oe(w=Sr('<div class="'+yn.OVERLAY_CLASS+'"></div>'),x),{position:{bottom:_-6,right:b-6},show:!0,html:w});this._overlayId=this._overlays.add(d,f)}var m,b,_,x,w},yn.CONTAINER_SELECTOR=".djs-search-container",yn.INPUT_SELECTOR=".djs-search-input input",yn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",yn.RESULT_SELECTOR=".djs-search-result",yn.RESULT_SELECTED_SELECTOR="."+(yn.RESULT_SELECTED_CLASS="djs-search-result-selected"),yn.RESULT_ID_ATTRIBUTE="data-result-id",yn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",yn.OVERLAY_CLASS="djs-search-overlay",yn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',yn.RESULT_HTML='<div class="djs-search-result"></div>',yn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',yn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var Yz={__depends__:[M_,zu],searchPad:["type",yn]};function C7(d,f,m){this._elementRegistry=d,this._canvas=m,f.registerProvider(this)}function sA(d){return kt(d,function(f){return!!f.matched}).length>0}function aA(d,f){var m=[],v=d;if(!d)return m;d=d.toLowerCase(),f=f.toLowerCase();var b=d.indexOf(f);return b>-1?(0!==b&&m.push({normal:v.substr(0,b)}),m.push({matched:v.substr(b,f.length)}),f.length+b<d.length&&m.push({normal:v.substr(f.length+b,d.length)})):m.push({normal:v}),m}C7.$inject=["elementRegistry","searchPad","canvas"],C7.prototype.find=function(d){var f=this._canvas.getRootElement(),m=this._elementRegistry.filter(function(v){return!v.labelTarget});return m=kt(m,function(v){return v!==f}),qr(m=kt(m=wr(m,function(v){return{primaryTokens:aA(qi(v),d),secondaryTokens:aA(v.id,d),element:v}}),function(v){return sA(v.primaryTokens)||sA(v.secondaryTokens)}),function(v){return qi(v.element)+v.element.id})};var Kz={__depends__:[Yz],__init__:["bpmnSearch"],bpmnSearch:["type",C7]};function a0(d){B1.call(this,d)}return Ye(a0,B1),a0.Viewer=Ro,a0.NavigatedViewer=xh,a0.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},a0.prototype._modules=[].concat(Ro.prototype._modules,a0.prototype._interactionModules=[NO,oS,Gu,ei],a0.prototype._modelingModules=[CS,qO,YO,PS,qS,u4,d4,Uz,h4,nd,Qu,Gz,gk,h8,vk,bk,k4,jb,Qk,Zk,b7,YE,M4,w7,Kz]),a0}()},563:Nr=>{"use strict";var Qt=/,?([a-z]),?/gi,Hn=parseFloat,Ft=Math,Ye=Ft.PI,ut=Ft.min,Vt=Ft.max,tn=Ft.pow,rt=Ft.abs,it=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,mt=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,nn=Array.isArray||function(Ve){return Ve instanceof Array};function Ut(Ve,qe){return Object.prototype.hasOwnProperty.call(Ve,qe)}function dt(Ve){if("function"==typeof Ve||Object(Ve)!==Ve)return Ve;var qe=new Ve.constructor;for(var Ze in Ve)Ut(Ve,Ze)&&(qe[Ze]=dt(Ve[Ze]));return qe}function Or(Ve){var qe=Or.ps=Or.ps||{};return qe[Ve]?qe[Ve].sleep=100:qe[Ve]={sleep:100},setTimeout(function(){for(var Ze in qe)Ut(qe,Ze)&&Ze!=Ve&&(qe[Ze].sleep--,!qe[Ze].sleep&&delete qe[Ze])}),qe[Ve]}function vn(Ve,qe,Ze,de){return 1===arguments.length&&(qe=Ve.y,Ze=Ve.width,de=Ve.height,Ve=Ve.x),{x:Ve,y:qe,width:Ze,height:de,x2:Ve+Ze,y2:qe+de}}function cn(){return this.join(",").replace(Qt,"$1")}function uo(Ve){var qe=dt(Ve);return qe.toString=cn,qe}function kt(Ve,qe,Ze,de,Nt,Ie,Ge,re,se){var me=1-se,De=tn(me,3),je=tn(me,2),Oe=se*se*se,Gt=De*qe+3*je*se*de+3*me*se*se*Ie+Oe*re;return{x:oi(De*Ve+3*je*se*Ze+3*me*se*se*Nt+Oe*Ge),y:oi(Gt)}}function ge(Ve){var qe=gs.apply(null,Ve);return vn(qe.x0,qe.y0,qe.x1-qe.x0,qe.y1-qe.y0)}function ii(Ve,qe,Ze){return qe>=Ve.x&&qe<=Ve.x+Ve.width&&Ze>=Ve.y&&Ze<=Ve.y+Ve.height}function ki(Ve,qe,Ze,de,Nt){return Ve*(Ve*(-3*qe+9*Ze-9*de+3*Nt)+6*qe-12*Ze+6*de)-3*qe+3*Ze}function Ci(Ve,qe,Ze,de,Nt,Ie,Ge,re,se){null==se&&(se=1);for(var me=(se=se>1?1:se<0?0:se)/2,je=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ke=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Oe=0,Ue=0;Ue<12;Ue++){var Gt=me*je[Ue]+me,$t=ki(Gt,Ve,Ze,Nt,Ge),qt=ki(Gt,qe,de,Ie,re);Oe+=Ke[Ue]*Ft.sqrt($t*$t+qt*qt)}return me*Oe}function wr(Ve,qe,Ze,de,Nt,Ie,Ge,re){if(!(Vt(Ve,Ze)<ut(Nt,Ge)||ut(Ve,Ze)>Vt(Nt,Ge)||Vt(qe,de)<ut(Ie,re)||ut(qe,de)>Vt(Ie,re))){var me=(Ve*de-qe*Ze)*(Ie-re)-(qe-de)*(Nt*re-Ie*Ge),De=(Ve-Ze)*(Ie-re)-(qe-de)*(Nt-Ge);if(De){var je=oi(((Ve*de-qe*Ze)*(Nt-Ge)-(Ve-Ze)*(Nt*re-Ie*Ge))/De),Ke=oi(me/De),Oe=+je.toFixed(2),Ue=+Ke.toFixed(2);if(!(Oe<+ut(Ve,Ze).toFixed(2)||Oe>+Vt(Ve,Ze).toFixed(2)||Oe<+ut(Nt,Ge).toFixed(2)||Oe>+Vt(Nt,Ge).toFixed(2)||Ue<+ut(qe,de).toFixed(2)||Ue>+Vt(qe,de).toFixed(2)||Ue<+ut(Ie,re).toFixed(2)||Ue>+Vt(Ie,re).toFixed(2)))return{x:je,y:Ke}}}}function oi(Ve){return Math.round(1e11*Ve)/1e11}function ms(Ve,qe,Ze){if(!function Gr(Ve,qe){return Ve=vn(Ve),ii(qe=vn(qe),Ve.x,Ve.y)||ii(qe,Ve.x2,Ve.y)||ii(qe,Ve.x,Ve.y2)||ii(qe,Ve.x2,Ve.y2)||ii(Ve,qe.x,qe.y)||ii(Ve,qe.x2,qe.y)||ii(Ve,qe.x,qe.y2)||ii(Ve,qe.x2,qe.y2)||(Ve.x<qe.x2&&Ve.x>qe.x||qe.x<Ve.x2&&qe.x>Ve.x)&&(Ve.y<qe.y2&&Ve.y>qe.y||qe.y<Ve.y2&&qe.y>Ve.y)}(ge(Ve),ge(qe)))return Ze?0:[];for(var Ie=Ci.apply(0,Ve),Ge=Ci.apply(0,qe),re=Ea(Ve)?1:~~(Ie/5)||1,se=Ea(qe)?1:~~(Ge/5)||1,me=[],De=[],je={},Ke=Ze?0:[],Oe=0;Oe<re+1;Oe++){var Ue=kt.apply(0,Ve.concat(Oe/re));me.push({x:Ue.x,y:Ue.y,t:Oe/re})}for(Oe=0;Oe<se+1;Oe++)Ue=kt.apply(0,qe.concat(Oe/se)),De.push({x:Ue.x,y:Ue.y,t:Oe/se});for(Oe=0;Oe<re;Oe++)for(var Gt=0;Gt<se;Gt++){var gi,$t=me[Oe],qt=me[Oe+1],rr=De[Gt],Lr=De[Gt+1],ar=rt(qt.x-$t.x)<.01?"y":"x",In=rt(Lr.x-rr.x)<.01?"y":"x",Cr=wr($t.x,$t.y,qt.x,qt.y,rr.x,rr.y,Lr.x,Lr.y);if(Cr){if(je[gi=Cr.x.toFixed(9)+"#"+Cr.y.toFixed(9)])continue;je[gi]=!0;var kr=$t.t+rt((Cr[ar]-$t[ar])/(qt[ar]-$t[ar]))*(qt.t-$t.t),Ol=rr.t+rt((Cr[In]-rr[In])/(Lr[In]-rr[In]))*(Lr.t-rr.t);kr>=0&&kr<=1&&Ol>=0&&Ol<=1&&(Ze?Ke++:Ke.push({x:Cr.x,y:Cr.y,t1:kr,t2:Ol}))}}return Ke}function Ea(Ve){return Ve[0]===Ve[2]&&Ve[1]===Ve[3]&&Ve[4]===Ve[6]&&Ve[5]===Ve[7]}function qr(Ve,qe,Ze,de){return[Ve,qe,Ze,de,Ze,de]}function po(Ve,qe,Ze,de,Nt,Ie){var Ge=.3333333333333333,re=2/3;return[Ge*Ve+re*Ze,Ge*qe+re*de,Ge*Nt+re*Ze,Ge*Ie+re*de,Nt,Ie]}function qa(Ve,qe,Ze,de,Nt,Ie,Ge,re,se,me){var Oe,De=120*Ye/180,je=Ye/180*(+Nt||0),Ke=[],Ue=function lt(Ve){return function qe(){var Ze=Array.prototype.slice.call(arguments,0),de=Ze.join("\u2400"),Nt=qe.cache=qe.cache||{},Ie=qe.count=qe.count||[];return Ut(Nt,de)?(function Dn(Ve,qe){for(var Ze=0,de=Ve.length;Ze<de;Ze++)if(Ve[Ze]===qe)return Ve.push(Ve.splice(Ze,1)[0])}(Ie,de),Nt[de]):(Ie.length>=1e3&&delete Nt[Ie.shift()],Ie.push(de),Nt[de]=Ve.apply(0,Ze),Nt[de])}}(function(fp,kn,Ar){return{x:fp*Ft.cos(Ar)-kn*Ft.sin(Ar),y:fp*Ft.sin(Ar)+kn*Ft.cos(Ar)}});if(me)gi=me[0],kr=me[1],In=me[2],Cr=me[3];else{qe=(Oe=Ue(Ve,qe,-je)).y;var Gt=((Ve=Oe.x)-(re=(Oe=Ue(re,se,-je)).x))/2,$t=(qe-(se=Oe.y))/2,qt=Gt*Gt/(Ze*Ze)+$t*$t/(de*de);qt>1&&(Ze*=qt=Ft.sqrt(qt),de*=qt);var rr=Ze*Ze,Lr=de*de,ar=(Ie==Ge?-1:1)*Ft.sqrt(rt((rr*Lr-rr*$t*$t-Lr*Gt*Gt)/(rr*$t*$t+Lr*Gt*Gt))),In=ar*Ze*$t/de+(Ve+re)/2,Cr=ar*-de*Gt/Ze+(qe+se)/2,gi=Ft.asin(((qe-Cr)/de).toFixed(9)),kr=Ft.asin(((se-Cr)/de).toFixed(9));(gi=Ve<In?Ye-gi:gi)<0&&(gi=2*Ye+gi),(kr=re<In?Ye-kr:kr)<0&&(kr=2*Ye+kr),Ge&&gi>kr&&(gi-=2*Ye),!Ge&&kr>gi&&(kr-=2*Ye)}var Ol=kr-gi;if(rt(Ol)>De){var Zt=kr,eh=re,Vc=se;Ke=qa(re=In+Ze*Ft.cos(kr=gi+De*(Ge&&kr>gi?1:-1)),se=Cr+de*Ft.sin(kr),Ze,de,Nt,0,Ge,eh,Vc,[kr,Zt,In,Cr])}Ol=kr-gi;var Ai=Ft.cos(gi),ku=Ft.sin(gi),dp=Ft.cos(kr),Qr=Ft.sin(kr),Sr=Ft.tan(Ol/4),vr=4/3*Ze*Sr,A0=4/3*de*Sr,vs=[Ve,qe],wa=[Ve+vr*ku,qe-A0*Ai],rn=[re+vr*Qr,se-A0*dp],Wa=[re,se];if(wa[0]=2*vs[0]-wa[0],wa[1]=2*vs[1]-wa[1],me)return[wa,rn,Wa].concat(Ke);for(var pp=[],na=0,Et=(Ke=[wa,rn,Wa].concat(Ke).join().split(",")).length;na<Et;na++)pp[na]=na%2?Ue(Ke[na-1],Ke[na],je).y:Ue(Ke[na],Ke[na+1],je).x;return pp}function gs(Ve,qe,Ze,de,Nt,Ie,Ge,re){for(var De,je,Ke,Oe,Ue,Gt,$t,qt,se=[],me=[[],[]],rr=0;rr<2;++rr)if(0==rr?(je=6*Ve-12*Ze+6*Nt,De=-3*Ve+9*Ze-9*Nt+3*Ge,Ke=3*Ze-3*Ve):(je=6*qe-12*de+6*Ie,De=-3*qe+9*de-9*Ie+3*re,Ke=3*de-3*qe),rt(De)<1e-12){if(rt(je)<1e-12)continue;0<(Oe=-Ke/je)&&Oe<1&&se.push(Oe)}else qt=Ft.sqrt($t=je*je-4*Ke*De),!($t<0)&&(0<(Ue=(-je+qt)/(2*De))&&Ue<1&&se.push(Ue),0<(Gt=(-je-qt)/(2*De))&&Gt<1&&se.push(Gt));for(var In,Lr=se.length,ar=Lr;Lr--;)me[0][Lr]=(In=1-(Oe=se[Lr]))*In*In*Ve+3*In*In*Oe*Ze+3*In*Oe*Oe*Nt+Oe*Oe*Oe*Ge,me[1][Lr]=In*In*In*qe+3*In*In*Oe*de+3*In*Oe*Oe*Ie+Oe*Oe*Oe*re;return me[0][ar]=Ve,me[1][ar]=qe,me[0][ar+1]=Ge,me[1][ar+1]=re,me[0].length=me[1].length=ar+2,{x0:ut.apply(0,me[0]),y0:ut.apply(0,me[1]),x1:Vt.apply(0,me[0]),y1:Vt.apply(0,me[1])}}function xa(Ve){var qe=Or(Ve);if(qe.curve)return uo(qe.curve);for(var Ze=function _a(Ve){var qe=Or(Ve);if(qe.abs)return uo(qe.abs);if((!nn(Ve)||!nn(Ve&&Ve[0]))&&(Ve=function wn(Ve){if(!Ve)return null;var qe=Or(Ve);if(qe.arr)return dt(qe.arr);var Ze={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},de=[];return nn(Ve)&&nn(Ve[0])&&(de=dt(Ve)),de.length||String(Ve).replace(it,function(Nt,Ie,Ge){var re=[],se=Ie.toLowerCase();for(Ge.replace(mt,function(me,De){De&&re.push(+De)}),"m"==se&&re.length>2&&(de.push([Ie].concat(re.splice(0,2))),se="l",Ie="m"==Ie?"l":"L");re.length>=Ze[se]&&(de.push([Ie].concat(re.splice(0,Ze[se]))),Ze[se]););}),de.toString=Or.toString,qe.arr=dt(de),de}(Ve)),!Ve||!Ve.length)return[["M",0,0]];var se,Ze=[],de=0,Nt=0,Ie=0,Ge=0,re=0;"M"==Ve[0][0]&&(Ie=de=+Ve[0][1],Ge=Nt=+Ve[0][2],re++,Ze[0]=["M",de,Nt]);for(var me,De,je=re,Ke=Ve.length;je<Ke;je++){if(Ze.push(me=[]),(se=(De=Ve[je])[0])!=se.toUpperCase())switch(me[0]=se.toUpperCase(),me[0]){case"A":me[1]=De[1],me[2]=De[2],me[3]=De[3],me[4]=De[4],me[5]=De[5],me[6]=+De[6]+de,me[7]=+De[7]+Nt;break;case"V":me[1]=+De[1]+Nt;break;case"H":me[1]=+De[1]+de;break;case"M":Ie=+De[1]+de,Ge=+De[2]+Nt;default:for(var Oe=1,Ue=De.length;Oe<Ue;Oe++)me[Oe]=+De[Oe]+(Oe%2?de:Nt)}else for(var Gt=0,$t=De.length;Gt<$t;Gt++)me[Gt]=De[Gt];switch(se=se.toUpperCase(),me[0]){case"Z":de=+Ie,Nt=+Ge;break;case"H":de=me[1];break;case"V":Nt=me[1];break;case"M":Ie=me[me.length-2],Ge=me[me.length-1];default:de=me[me.length-2],Nt=me[me.length-1]}}return Ze.toString=cn,qe.abs=uo(Ze),Ze}(Ve),de={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Nt=function(Oe,Ue,Gt){var $t,qt;if(!Oe)return["C",Ue.x,Ue.y,Ue.x,Ue.y,Ue.x,Ue.y];switch(!(Oe[0]in{T:1,Q:1})&&(Ue.qx=Ue.qy=null),Oe[0]){case"M":Ue.X=Oe[1],Ue.Y=Oe[2];break;case"A":Oe=["C"].concat(qa.apply(0,[Ue.x,Ue.y].concat(Oe.slice(1))));break;case"S":"C"==Gt||"S"==Gt?($t=2*Ue.x-Ue.bx,qt=2*Ue.y-Ue.by):($t=Ue.x,qt=Ue.y),Oe=["C",$t,qt].concat(Oe.slice(1));break;case"T":"Q"==Gt||"T"==Gt?(Ue.qx=2*Ue.x-Ue.qx,Ue.qy=2*Ue.y-Ue.qy):(Ue.qx=Ue.x,Ue.qy=Ue.y),Oe=["C"].concat(po(Ue.x,Ue.y,Ue.qx,Ue.qy,Oe[1],Oe[2]));break;case"Q":Ue.qx=Oe[1],Ue.qy=Oe[2],Oe=["C"].concat(po(Ue.x,Ue.y,Oe[1],Oe[2],Oe[3],Oe[4]));break;case"L":Oe=["C"].concat(qr(Ue.x,Ue.y,Oe[1],Oe[2]));break;case"H":Oe=["C"].concat(qr(Ue.x,Ue.y,Oe[1],Ue.y));break;case"V":Oe=["C"].concat(qr(Ue.x,Ue.y,Ue.x,Oe[1]));break;case"Z":Oe=["C"].concat(qr(Ue.x,Ue.y,Ue.X,Ue.Y))}return Oe},Ie=function(Oe,Ue){if(Oe[Ue].length>7){Oe[Ue].shift();for(var Gt=Oe[Ue];Gt.length;)Ge[Ue]="A",Oe.splice(Ue++,0,["C"].concat(Gt.splice(0,6)));Oe.splice(Ue,1),De=Ze.length}},Ge=[],re="",se="",me=0,De=Ze.length;me<De;me++){Ze[me]&&(re=Ze[me][0]),"C"!=re&&(Ge[me]=re,me&&(se=Ge[me-1])),Ze[me]=Nt(Ze[me],de,se),"A"!=Ge[me]&&"C"==re&&(Ge[me]="C"),Ie(Ze,me);var je=Ze[me],Ke=je.length;de.x=je[Ke-2],de.y=je[Ke-1],de.bx=Hn(je[Ke-4])||de.x,de.by=Hn(je[Ke-3])||de.y}return qe.curve=uo(Ze),Ze}Nr.exports=function Po(Ve,qe,Ze){Ve=xa(Ve),qe=xa(qe);for(var de,Nt,Ie,Ge,re,se,me,De,je,Ke,Oe=Ze?0:[],Ue=0,Gt=Ve.length;Ue<Gt;Ue++){var $t=Ve[Ue];if("M"==$t[0])de=re=$t[1],Nt=se=$t[2];else{"C"==$t[0]?(je=[de,Nt].concat($t.slice(1)),de=je[6],Nt=je[7]):(je=[de,Nt,de,Nt,re,se,re,se],de=re,Nt=se);for(var qt=0,rr=qe.length;qt<rr;qt++){var Lr=qe[qt];if("M"==Lr[0])Ie=me=Lr[1],Ge=De=Lr[2];else{"C"==Lr[0]?(Ke=[Ie,Ge].concat(Lr.slice(1)),Ie=Ke[6],Ge=Ke[7]):(Ke=[Ie,Ge,Ie,Ge,me,De,me,De],Ie=me,Ge=De);var ar=ms(je,Ke,Ze);if(Ze)Oe+=ar;else{for(var In=0,Cr=ar.length;In<Cr;In++)ar[In].segment1=Ue,ar[In].segment2=qt,ar[In].bez1=je,ar[In].bez2=Ke;Oe=Oe.concat(ar)}}}}}return Oe}},578:function(Nr,Qt){var Hn,Ye;void 0!==(Ye="function"==typeof(Hn=function(){"use strict";function Vt(Ut,dt,Dn){var lt=new XMLHttpRequest;lt.open("GET",Ut),lt.responseType="blob",lt.onload=function(){nn(lt.response,dt,Dn)},lt.onerror=function(){console.error("could not download file")},lt.send()}function tn(Ut){var dt=new XMLHttpRequest;dt.open("HEAD",Ut,!1);try{dt.send()}catch{}return 200<=dt.status&&299>=dt.status}function rt(Ut){try{Ut.dispatchEvent(new MouseEvent("click"))}catch{var dt=document.createEvent("MouseEvents");dt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ut.dispatchEvent(dt)}}var it="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,mt=it.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),nn=it.saveAs||("object"!=typeof window||window!==it?function(){}:"download"in HTMLAnchorElement.prototype&&!mt?function(Ut,dt,Dn){var lt=it.URL||it.webkitURL,wn=document.createElement("a");wn.download=dt=dt||Ut.name||"download",wn.rel="noopener","string"==typeof Ut?(wn.href=Ut,wn.origin===location.origin?rt(wn):tn(wn.href)?Vt(Ut,dt,Dn):rt(wn,wn.target="_blank")):(wn.href=lt.createObjectURL(Ut),setTimeout(function(){lt.revokeObjectURL(wn.href)},4e4),setTimeout(function(){rt(wn)},0))}:"msSaveOrOpenBlob"in navigator?function(Ut,dt,Dn){if(dt=dt||Ut.name||"download","string"!=typeof Ut)navigator.msSaveOrOpenBlob(function ut(Ut,dt){return typeof dt>"u"?dt={autoBom:!1}:"object"!=typeof dt&&(console.warn("Deprecated: Expected third argument to be a object"),dt={autoBom:!dt}),dt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ut.type)?new Blob(["\ufeff",Ut],{type:Ut.type}):Ut}(Ut,Dn),dt);else if(tn(Ut))Vt(Ut,dt,Dn);else{var lt=document.createElement("a");lt.href=Ut,lt.target="_blank",setTimeout(function(){rt(lt)})}}:function(Ut,dt,Dn,lt){if((lt=lt||open("","_blank"))&&(lt.document.title=lt.document.body.innerText="downloading..."),"string"==typeof Ut)return Vt(Ut,dt,Dn);var wn="application/octet-stream"===Ut.type,Or=/constructor/i.test(it.HTMLElement)||it.safari,vn=/CriOS\/[\d]+/.test(navigator.userAgent);if((vn||wn&&Or||mt)&&typeof FileReader<"u"){var cn=new FileReader;cn.onloadend=function(){var ge=cn.result;ge=vn?ge:ge.replace(/^data:[^;]*;/,"data:attachment/file;"),lt?lt.location.href=ge:location=ge,lt=null},cn.readAsDataURL(Ut)}else{var uo=it.URL||it.webkitURL,kt=uo.createObjectURL(Ut);lt?lt.location=kt:location.href=kt,lt=null,setTimeout(function(){uo.revokeObjectURL(kt)},4e4)}});it.saveAs=nn.saveAs=nn,Nr.exports=nn})?Hn.apply(Qt,[]):Hn)&&(Nr.exports=Ye)},511:(Nr,Qt,Hn)=>{var Ft;!function(Ye,ut,Vt,tn){"use strict";var vn,rt=["","webkit","Moz","MS","ms","o"],it=ut.createElement("div"),mt="function",nn=Math.round,Ut=Math.abs,dt=Date.now;function Dn(K,ie,be){return setTimeout(ge(K,be),ie)}function lt(K,ie,be){return!!Array.isArray(K)&&(wn(K,be[ie],be),!0)}function wn(K,ie,be){var Le;if(K)if(K.forEach)K.forEach(ie,be);else if(K.length!==tn)for(Le=0;Le<K.length;)ie.call(be,K[Le],Le,K),Le++;else for(Le in K)K.hasOwnProperty(Le)&&ie.call(be,K[Le],Le,K)}function Or(K,ie,be){var Le="DEPRECATED METHOD: "+ie+"\n"+be+" AT \n";return function(){var ze=new Error("get-stack-trace"),Ot=ze&&ze.stack?ze.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",lr=Ye.console&&(Ye.console.warn||Ye.console.log);return lr&&lr.call(Ye.console,Le,Ot),K.apply(this,arguments)}}vn="function"!=typeof Object.assign?function(ie){if(ie===tn||null===ie)throw new TypeError("Cannot convert undefined or null to object");for(var be=Object(ie),Le=1;Le<arguments.length;Le++){var ze=arguments[Le];if(ze!==tn&&null!==ze)for(var Ot in ze)ze.hasOwnProperty(Ot)&&(be[Ot]=ze[Ot])}return be}:Object.assign;var cn=Or(function(ie,be,Le){for(var ze=Object.keys(be),Ot=0;Ot<ze.length;)(!Le||Le&&ie[ze[Ot]]===tn)&&(ie[ze[Ot]]=be[ze[Ot]]),Ot++;return ie},"extend","Use `assign`."),uo=Or(function(ie,be){return cn(ie,be,!0)},"merge","Use `assign`.");function kt(K,ie,be){var ze,Le=ie.prototype;(ze=K.prototype=Object.create(Le)).constructor=K,ze._super=Le,be&&vn(ze,be)}function ge(K,ie){return function(){return K.apply(ie,arguments)}}function ii(K,ie){return typeof K==mt?K.apply(ie&&ie[0]||tn,ie):K}function Gr(K,ie){return K===tn?ie:K}function ki(K,ie,be){wn(ms(ie),function(Le){K.addEventListener(Le,be,!1)})}function Ci(K,ie,be){wn(ms(ie),function(Le){K.removeEventListener(Le,be,!1)})}function wr(K,ie){for(;K;){if(K==ie)return!0;K=K.parentNode}return!1}function oi(K,ie){return K.indexOf(ie)>-1}function ms(K){return K.trim().split(/\s+/g)}function Po(K,ie,be){if(K.indexOf&&!be)return K.indexOf(ie);for(var Le=0;Le<K.length;){if(be&&K[Le][be]==ie||!be&&K[Le]===ie)return Le;Le++}return-1}function _a(K){return Array.prototype.slice.call(K,0)}function Ea(K,ie,be){for(var Le=[],ze=[],Ot=0;Ot<K.length;){var lr=ie?K[Ot][ie]:K[Ot];Po(ze,lr)<0&&Le.push(K[Ot]),ze[Ot]=lr,Ot++}return be&&(Le=ie?Le.sort(function(Oo,ss){return Oo[ie]>ss[ie]}):Le.sort()),Le}function qr(K,ie){for(var be,Le,ze=ie[0].toUpperCase()+ie.slice(1),Ot=0;Ot<rt.length;){if((Le=(be=rt[Ot])?be+ze:ie)in K)return Le;Ot++}return tn}var po=1;function gs(K){var ie=K.ownerDocument||K;return ie.defaultView||ie.parentWindow||Ye}var Ve="ontouchstart"in Ye,qe=qr(Ye,"PointerEvent")!==tn,Ze=Ve&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),de="touch",Ie="mouse",re=25,se=1,De=4,je=8,Ke=1,Oe=2,Ue=4,Gt=8,$t=16,qt=Oe|Ue,rr=Gt|$t,Lr=qt|rr,ar=["x","y"],In=["clientX","clientY"];function Cr(K,ie){var be=this;this.manager=K,this.callback=ie,this.element=K.element,this.target=K.options.inputTarget,this.domHandler=function(Le){ii(K.options.enable,[K])&&be.handler(Le)},this.init()}function kr(K,ie,be){var Le=be.pointers.length,ze=be.changedPointers.length,Ot=ie&se&&Le-ze==0,lr=ie&(De|je)&&Le-ze==0;be.isFirst=!!Ot,be.isFinal=!!lr,Ot&&(K.session={}),be.eventType=ie,function Ol(K,ie){var be=K.session,Le=ie.pointers,ze=Le.length;be.firstInput||(be.firstInput=Vc(ie)),ze>1&&!be.firstMultiple?be.firstMultiple=Vc(ie):1===ze&&(be.firstMultiple=!1);var Ot=be.firstInput,lr=be.firstMultiple,Mo=lr?lr.center:Ot.center,Oo=ie.center=Ai(Le);ie.timeStamp=dt(),ie.deltaTime=ie.timeStamp-Ot.timeStamp,ie.angle=Sr(Mo,Oo),ie.distance=Qr(Mo,Oo),function Zt(K,ie){var be=ie.center,Le=K.offsetDelta||{},ze=K.prevDelta||{},Ot=K.prevInput||{};(ie.eventType===se||Ot.eventType===De)&&(ze=K.prevDelta={x:Ot.deltaX||0,y:Ot.deltaY||0},Le=K.offsetDelta={x:be.x,y:be.y}),ie.deltaX=ze.x+(be.x-Le.x),ie.deltaY=ze.y+(be.y-Le.y)}(be,ie),ie.offsetDirection=dp(ie.deltaX,ie.deltaY);var ss=ku(ie.deltaTime,ie.deltaX,ie.deltaY);ie.overallVelocityX=ss.x,ie.overallVelocityY=ss.y,ie.overallVelocity=Ut(ss.x)>Ut(ss.y)?ss.x:ss.y,ie.scale=lr?function A0(K,ie){return Qr(ie[0],ie[1],In)/Qr(K[0],K[1],In)}(lr.pointers,Le):1,ie.rotation=lr?function vr(K,ie){return Sr(ie[1],ie[0],In)+Sr(K[1],K[0],In)}(lr.pointers,Le):0,ie.maxPointers=be.prevInput?ie.pointers.length>be.prevInput.maxPointers?ie.pointers.length:be.prevInput.maxPointers:ie.pointers.length,function eh(K,ie){var ze,Ot,lr,Mo,be=K.lastInterval||ie,Le=ie.timeStamp-be.timeStamp;if(ie.eventType!=je&&(Le>re||be.velocity===tn)){var Oo=ie.deltaX-be.deltaX,ss=ie.deltaY-be.deltaY,It=ku(Le,Oo,ss);Ot=It.x,lr=It.y,ze=Ut(It.x)>Ut(It.y)?It.x:It.y,Mo=dp(Oo,ss),K.lastInterval=ie}else ze=be.velocity,Ot=be.velocityX,lr=be.velocityY,Mo=be.direction;ie.velocity=ze,ie.velocityX=Ot,ie.velocityY=lr,ie.direction=Mo}(be,ie);var It=K.element;wr(ie.srcEvent.target,It)&&(It=ie.srcEvent.target),ie.target=It}(K,be),K.emit("hammer.input",be),K.recognize(be),K.session.prevInput=be}function Vc(K){for(var ie=[],be=0;be<K.pointers.length;)ie[be]={clientX:nn(K.pointers[be].clientX),clientY:nn(K.pointers[be].clientY)},be++;return{timeStamp:dt(),pointers:ie,center:Ai(ie),deltaX:K.deltaX,deltaY:K.deltaY}}function Ai(K){var ie=K.length;if(1===ie)return{x:nn(K[0].clientX),y:nn(K[0].clientY)};for(var be=0,Le=0,ze=0;ze<ie;)be+=K[ze].clientX,Le+=K[ze].clientY,ze++;return{x:nn(be/ie),y:nn(Le/ie)}}function ku(K,ie,be){return{x:ie/K||0,y:be/K||0}}function dp(K,ie){return K===ie?Ke:Ut(K)>=Ut(ie)?K<0?Oe:Ue:ie<0?Gt:$t}function Qr(K,ie,be){be||(be=ar);var Le=ie[be[0]]-K[be[0]],ze=ie[be[1]]-K[be[1]];return Math.sqrt(Le*Le+ze*ze)}function Sr(K,ie,be){return be||(be=ar),180*Math.atan2(ie[be[1]]-K[be[1]],ie[be[0]]-K[be[0]])/Math.PI}Cr.prototype={handler:function(){},init:function(){this.evEl&&ki(this.element,this.evEl,this.domHandler),this.evTarget&&ki(this.target,this.evTarget,this.domHandler),this.evWin&&ki(gs(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ci(this.element,this.evEl,this.domHandler),this.evTarget&&Ci(this.target,this.evTarget,this.domHandler),this.evWin&&Ci(gs(this.element),this.evWin,this.domHandler)}};var vs={mousedown:se,mousemove:2,mouseup:De},wa="mousedown",rn="mousemove mouseup";function Wa(){this.evEl=wa,this.evWin=rn,this.pressed=!1,Cr.apply(this,arguments)}kt(Wa,Cr,{handler:function(ie){var be=vs[ie.type];be&se&&0===ie.button&&(this.pressed=!0),2&be&&1!==ie.which&&(be=De),this.pressed&&(be&De&&(this.pressed=!1),this.callback(this.manager,be,{pointers:[ie],changedPointers:[ie],pointerType:Ie,srcEvent:ie}))}});var pp={pointerdown:se,pointermove:2,pointerup:De,pointercancel:je,pointerout:je},na={2:de,3:"pen",4:Ie,5:"kinect"},Et="pointerdown",fp="pointermove pointerup pointercancel";function kn(){this.evEl=Et,this.evWin=fp,Cr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Ye.MSPointerEvent&&!Ye.PointerEvent&&(Et="MSPointerDown",fp="MSPointerMove MSPointerUp MSPointerCancel"),kt(kn,Cr,{handler:function(ie){var be=this.store,Le=!1,ze=ie.type.toLowerCase().replace("ms",""),Ot=pp[ze],lr=na[ie.pointerType]||ie.pointerType,Mo=lr==de,Oo=Po(be,ie.pointerId,"pointerId");Ot&se&&(0===ie.button||Mo)?Oo<0&&(be.push(ie),Oo=be.length-1):Ot&(De|je)&&(Le=!0),!(Oo<0)&&(be[Oo]=ie,this.callback(this.manager,Ot,{pointers:be,changedPointers:[ie],pointerType:lr,srcEvent:ie}),Le&&be.splice(Oo,1))}});var Ar={touchstart:se,touchmove:2,touchend:De,touchcancel:je};function w1(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Cr.apply(this,arguments)}function C1(K,ie){var be=_a(K.touches),Le=_a(K.changedTouches);return ie&(De|je)&&(be=Ea(be.concat(Le),"identifier",!0)),[be,Le]}kt(w1,Cr,{handler:function(ie){var be=Ar[ie.type];if(be===se&&(this.started=!0),this.started){var Le=C1.call(this,ie,be);be&(De|je)&&Le[0].length-Le[1].length==0&&(this.started=!1),this.callback(this.manager,be,{pointers:Le[0],changedPointers:Le[1],pointerType:de,srcEvent:ie})}}});var ra={touchstart:se,touchmove:2,touchend:De,touchcancel:je},S1="touchstart touchmove touchend touchcancel";function Rt(){this.evTarget=S1,this.targetIds={},Cr.apply(this,arguments)}function th(K,ie){var be=_a(K.touches),Le=this.targetIds;if(ie&(2|se)&&1===be.length)return Le[be[0].identifier]=!0,[be,be];var ze,Ot,lr=_a(K.changedTouches),Mo=[],Oo=this.target;if(Ot=be.filter(function(ss){return wr(ss.target,Oo)}),ie===se)for(ze=0;ze<Ot.length;)Le[Ot[ze].identifier]=!0,ze++;for(ze=0;ze<lr.length;)Le[lr[ze].identifier]&&Mo.push(lr[ze]),ie&(De|je)&&delete Le[lr[ze].identifier],ze++;return Mo.length?[Ea(Ot.concat(Mo),"identifier",!0),Mo]:void 0}kt(Rt,Cr,{handler:function(ie){var be=ra[ie.type],Le=th.call(this,ie,be);Le&&this.callback(this.manager,be,{pointers:Le[0],changedPointers:Le[1],pointerType:de,srcEvent:ie})}});var xo=2500;function Au(){Cr.apply(this,arguments);var K=ge(this.handler,this);this.touch=new Rt(this.manager,K),this.mouse=new Wa(this.manager,K),this.primaryTouch=null,this.lastTouches=[]}function yr(K,ie){K&se?(this.primaryTouch=ie.changedPointers[0].identifier,a_.call(this,ie)):K&(De|je)&&a_.call(this,ie)}function a_(K){var ie=K.changedPointers[0];if(ie.identifier===this.primaryTouch){var be={x:ie.clientX,y:ie.clientY};this.lastTouches.push(be);var Le=this.lastTouches;setTimeout(function(){var Ot=Le.indexOf(be);Ot>-1&&Le.splice(Ot,1)},xo)}}function Hy(K){for(var ie=K.srcEvent.clientX,be=K.srcEvent.clientY,Le=0;Le<this.lastTouches.length;Le++){var ze=this.lastTouches[Le],Ot=Math.abs(ie-ze.x),lr=Math.abs(be-ze.y);if(Ot<=25&&lr<=25)return!0}return!1}kt(Au,Cr,{handler:function(ie,be,Le){var Ot=Le.pointerType==Ie;if(!(Ot&&Le.sourceCapabilities&&Le.sourceCapabilities.firesTouchEvents)){if(Le.pointerType==de)yr.call(this,be,Le);else if(Ot&&Hy.call(this,Le))return;this.callback(ie,be,Le)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Je=qr(it.style,"touchAction"),jc=Je!==tn,hp="compute",Uy="manipulation",kl="none",I0="pan-x",ys="pan-y",Xa=function Gy(){if(!jc)return!1;var K={},ie=Ye.CSS&&Ye.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(be){K[be]=!ie||Ye.CSS.supports("touch-action",be)}),K}();function Ya(K,ie){this.manager=K,this.set(ie)}Ya.prototype={set:function(K){K==hp&&(K=this.compute()),jc&&this.manager.element.style&&Xa[K]&&(this.manager.element.style[Je]=K),this.actions=K.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var K=[];return wn(this.manager.recognizers,function(ie){ii(ie.options.enable,[ie])&&(K=K.concat(ie.getTouchAction()))}),function N0(K){if(oi(K,kl))return kl;var ie=oi(K,I0),be=oi(K,ys);return ie&&be?kl:ie||be?ie?I0:ys:oi(K,Uy)?Uy:"auto"}(K.join(" "))},preventDefaults:function(K){var ie=K.srcEvent,be=K.offsetDirection;if(!this.manager.session.prevented){var Le=this.actions,ze=oi(Le,kl)&&!Xa[kl],Ot=oi(Le,ys)&&!Xa[ys],lr=oi(Le,I0)&&!Xa[I0];if(ze&&1===K.pointers.length&&K.distance<2&&K.deltaTime<250)return;return lr&&Ot||!(ze||Ot&&be&qt||lr&&be&rr)?void 0:this.preventSrc(ie)}ie.preventDefault()},preventSrc:function(K){this.manager.session.prevented=!0,K.preventDefault()}};var L0=1;function Ka(K){this.options=vn({},this.defaults,K||{}),this.id=function qa(){return po++}(),this.manager=null,this.options.enable=Gr(this.options.enable,!0),this.state=L0,this.simultaneous={},this.requireFail=[]}function fo(K){return 16&K?"cancel":8&K?"end":4&K?"move":2&K?"start":""}function Ru(K){return K==$t?"down":K==Gt?"up":K==Oe?"left":K==Ue?"right":""}function mp(K,ie){var be=ie.manager;return be?be.get(K):K}function zs(){Ka.apply(this,arguments)}function jr(){zs.apply(this,arguments),this.pX=null,this.pY=null}function un(){zs.apply(this,arguments)}function Iu(){Ka.apply(this,arguments),this._timer=null,this._input=null}function os(){zs.apply(this,arguments)}function zc(){zs.apply(this,arguments)}function Hc(){Ka.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function si(K,ie){return(ie=ie||{}).recognizers=Gr(ie.recognizers,si.defaults.preset),new B0(K,ie)}function B0(K,ie){this.options=vn({},si.defaults,ie||{}),this.options.inputTarget=this.options.inputTarget||K,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=K,this.input=function gi(K){return new(K.options.inputClass||(qe?kn:Ze?Rt:Ve?Au:Wa))(K,kr)}(this),this.touchAction=new Ya(this,this.options.touchAction),Uc(this,!0),wn(this.options.recognizers,function(be){var Le=this.add(new be[0](be[1]));be[2]&&Le.recognizeWith(be[2]),be[3]&&Le.requireFailure(be[3])},this)}function Uc(K,ie){var Le,be=K.element;be.style&&(wn(K.options.cssProps,function(ze,Ot){Le=qr(be.style,Ot),ie?(K.oldCssProps[Le]=be.style[Le],be.style[Le]=ze):be.style[Le]=K.oldCssProps[Le]||""}),ie||(K.oldCssProps={}))}Ka.prototype={defaults:{},set:function(K){return vn(this.options,K),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(K){if(lt(K,"recognizeWith",this))return this;var ie=this.simultaneous;return ie[(K=mp(K,this)).id]||(ie[K.id]=K,K.recognizeWith(this)),this},dropRecognizeWith:function(K){return lt(K,"dropRecognizeWith",this)||(K=mp(K,this),delete this.simultaneous[K.id]),this},requireFailure:function(K){if(lt(K,"requireFailure",this))return this;var ie=this.requireFail;return-1===Po(ie,K=mp(K,this))&&(ie.push(K),K.requireFailure(this)),this},dropRequireFailure:function(K){if(lt(K,"dropRequireFailure",this))return this;K=mp(K,this);var ie=Po(this.requireFail,K);return ie>-1&&this.requireFail.splice(ie,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(K){return!!this.simultaneous[K.id]},emit:function(K){var ie=this,be=this.state;function Le(ze){ie.manager.emit(ze,K)}be<8&&Le(ie.options.event+fo(be)),Le(ie.options.event),K.additionalEvent&&Le(K.additionalEvent),be>=8&&Le(ie.options.event+fo(be))},tryEmit:function(K){if(this.canEmit())return this.emit(K);this.state=32},canEmit:function(){for(var K=0;K<this.requireFail.length;){if(!(this.requireFail[K].state&(32|L0)))return!1;K++}return!0},recognize:function(K){var ie=vn({},K);if(!ii(this.options.enable,[this,ie]))return this.reset(),void(this.state=32);56&this.state&&(this.state=L0),this.state=this.process(ie),30&this.state&&this.tryEmit(ie)},process:function(K){},getTouchAction:function(){},reset:function(){}},kt(zs,Ka,{defaults:{pointers:1},attrTest:function(K){var ie=this.options.pointers;return 0===ie||K.pointers.length===ie},process:function(K){var ie=this.state,be=K.eventType,Le=6&ie,ze=this.attrTest(K);return Le&&(be&je||!ze)?16|ie:Le||ze?be&De?8|ie:2&ie?4|ie:2:32}}),kt(jr,zs,{defaults:{event:"pan",threshold:10,pointers:1,direction:Lr},getTouchAction:function(){var K=this.options.direction,ie=[];return K&qt&&ie.push(ys),K&rr&&ie.push(I0),ie},directionTest:function(K){var ie=this.options,be=!0,Le=K.distance,ze=K.direction,Ot=K.deltaX,lr=K.deltaY;return ze&ie.direction||(ie.direction&qt?(ze=0===Ot?Ke:Ot<0?Oe:Ue,be=Ot!=this.pX,Le=Math.abs(K.deltaX)):(ze=0===lr?Ke:lr<0?Gt:$t,be=lr!=this.pY,Le=Math.abs(K.deltaY))),K.direction=ze,be&&Le>ie.threshold&&ze&ie.direction},attrTest:function(K){return zs.prototype.attrTest.call(this,K)&&(2&this.state||!(2&this.state)&&this.directionTest(K))},emit:function(K){this.pX=K.deltaX,this.pY=K.deltaY;var ie=Ru(K.direction);ie&&(K.additionalEvent=this.options.event+ie),this._super.emit.call(this,K)}}),kt(un,zs,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kl]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.scale-1)>this.options.threshold||2&this.state)},emit:function(K){1!==K.scale&&(K.additionalEvent=this.options.event+(K.scale<1?"in":"out")),this._super.emit.call(this,K)}}),kt(Iu,Ka,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(K){var ie=this.options,be=K.pointers.length===ie.pointers,Le=K.distance<ie.threshold,ze=K.deltaTime>ie.time;if(this._input=K,!Le||!be||K.eventType&(De|je)&&!ze)this.reset();else if(K.eventType&se)this.reset(),this._timer=Dn(function(){this.state=8,this.tryEmit()},ie.time,this);else if(K.eventType&De)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(K){8===this.state&&(K&&K.eventType&De?this.manager.emit(this.options.event+"up",K):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),kt(os,zs,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kl]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.rotation)>this.options.threshold||2&this.state)}}),kt(zc,zs,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qt|rr,pointers:1},getTouchAction:function(){return jr.prototype.getTouchAction.call(this)},attrTest:function(K){var be,ie=this.options.direction;return ie&(qt|rr)?be=K.overallVelocity:ie&qt?be=K.overallVelocityX:ie&rr&&(be=K.overallVelocityY),this._super.attrTest.call(this,K)&&ie&K.offsetDirection&&K.distance>this.options.threshold&&K.maxPointers==this.options.pointers&&Ut(be)>this.options.velocity&&K.eventType&De},emit:function(K){var ie=Ru(K.offsetDirection);ie&&this.manager.emit(this.options.event+ie,K),this.manager.emit(this.options.event,K)}}),kt(Hc,Ka,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Uy]},process:function(K){var ie=this.options,be=K.pointers.length===ie.pointers,Le=K.distance<ie.threshold,ze=K.deltaTime<ie.time;if(this.reset(),K.eventType&se&&0===this.count)return this.failTimeout();if(Le&&ze&&be){if(K.eventType!=De)return this.failTimeout();var Ot=!this.pTime||K.timeStamp-this.pTime<ie.interval,lr=!this.pCenter||Qr(this.pCenter,K.center)<ie.posThreshold;if(this.pTime=K.timeStamp,this.pCenter=K.center,lr&&Ot?this.count+=1:this.count=1,this._input=K,0==this.count%ie.taps)return this.hasRequireFailures()?(this._timer=Dn(function(){this.state=8,this.tryEmit()},ie.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Dn(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),si.VERSION="2.0.7",si.defaults={domEvents:!1,touchAction:hp,enable:!0,inputTarget:null,inputClass:null,preset:[[os,{enable:!1}],[un,{enable:!1},["rotate"]],[zc,{direction:qt}],[jr,{direction:qt},["swipe"]],[Hc],[Hc,{event:"doubletap",taps:2},["tap"]],[Iu]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},B0.prototype={set:function(K){return vn(this.options,K),K.touchAction&&this.touchAction.update(),K.inputTarget&&(this.input.destroy(),this.input.target=K.inputTarget,this.input.init()),this},stop:function(K){this.session.stopped=K?2:1},recognize:function(K){var ie=this.session;if(!ie.stopped){this.touchAction.preventDefaults(K);var be,Le=this.recognizers,ze=ie.curRecognizer;(!ze||ze&&8&ze.state)&&(ze=ie.curRecognizer=null);for(var Ot=0;Ot<Le.length;)be=Le[Ot],2===ie.stopped||ze&&be!=ze&&!be.canRecognizeWith(ze)?be.reset():be.recognize(K),!ze&&14&be.state&&(ze=ie.curRecognizer=be),Ot++}},get:function(K){if(K instanceof Ka)return K;for(var ie=this.recognizers,be=0;be<ie.length;be++)if(ie[be].options.event==K)return ie[be];return null},add:function(K){if(lt(K,"add",this))return this;var ie=this.get(K.options.event);return ie&&this.remove(ie),this.recognizers.push(K),K.manager=this,this.touchAction.update(),K},remove:function(K){if(lt(K,"remove",this))return this;if(K=this.get(K)){var ie=this.recognizers,be=Po(ie,K);-1!==be&&(ie.splice(be,1),this.touchAction.update())}return this},on:function(K,ie){if(K!==tn&&ie!==tn){var be=this.handlers;return wn(ms(K),function(Le){be[Le]=be[Le]||[],be[Le].push(ie)}),this}},off:function(K,ie){if(K!==tn){var be=this.handlers;return wn(ms(K),function(Le){ie?be[Le]&&be[Le].splice(Po(be[Le],ie),1):delete be[Le]}),this}},emit:function(K,ie){this.options.domEvents&&function DC(K,ie){var be=ut.createEvent("Event");be.initEvent(K,!0,!0),be.gesture=ie,ie.target.dispatchEvent(be)}(K,ie);var be=this.handlers[K]&&this.handlers[K].slice();if(be&&be.length){ie.type=K,ie.preventDefault=function(){ie.srcEvent.preventDefault()};for(var Le=0;Le<be.length;)be[Le](ie),Le++}},destroy:function(){this.element&&Uc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vn(si,{INPUT_START:se,INPUT_MOVE:2,INPUT_END:De,INPUT_CANCEL:je,STATE_POSSIBLE:L0,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Ke,DIRECTION_LEFT:Oe,DIRECTION_RIGHT:Ue,DIRECTION_UP:Gt,DIRECTION_DOWN:$t,DIRECTION_HORIZONTAL:qt,DIRECTION_VERTICAL:rr,DIRECTION_ALL:Lr,Manager:B0,Input:Cr,TouchAction:Ya,TouchInput:Rt,MouseInput:Wa,PointerEventInput:kn,TouchMouseInput:Au,SingleTouchInput:w1,Recognizer:Ka,AttrRecognizer:zs,Tap:Hc,Pan:jr,Swipe:zc,Pinch:un,Rotate:os,Press:Iu,on:ki,off:Ci,each:wn,merge:uo,extend:cn,assign:vn,inherit:kt,bindFn:ge,prefixed:qr}),(typeof Ye<"u"?Ye:typeof self<"u"?self:{}).Hammer=si,(Ft=function(){return si}.call(Qt,Hn,Qt,Nr))!==tn&&(Nr.exports=Ft)}(window,document)},932:(Nr,Qt,Hn)=>{Nr.exports=Hn(344),Nr.exports.Collection=Hn(738)},738:Nr=>{"use strict";Nr.exports.extend=function Qt(Ft,Ye,ut,Vt){var tn=ut.inverse;return Object.defineProperty(Ft,"remove",{value:function(rt){var it=this.indexOf(rt);return-1!==it&&(this.splice(it,1),Ye.unset(rt,tn,Vt)),rt}}),Object.defineProperty(Ft,"contains",{value:function(rt){return-1!==this.indexOf(rt)}}),Object.defineProperty(Ft,"add",{value:function(rt,it){var mt=this.indexOf(rt);if(typeof it>"u"){if(-1!==mt)return;it=this.length}-1!==mt&&this.splice(mt,1),this.splice(it,0,rt),-1===mt&&Ye.set(rt,tn,Vt)}}),Object.defineProperty(Ft,"__refs_collection",{value:!0}),Ft},Nr.exports.isExtended=function Hn(Ft){return!0===Ft.__refs_collection}},344:(Nr,Qt,Hn)=>{"use strict";var Ft=Hn(738);function ut(rt,it,mt){var nn=Ft.extend(mt[it.name]||[],rt,it,mt);Object.defineProperty(mt,it.name,{enumerable:it.enumerable,value:nn}),nn.length&&nn.forEach(function(Ut){rt.set(Ut,it.inverse,mt)})}function tn(rt,it){if(!(this instanceof tn))return new tn(rt,it);rt.inverse=it,it.inverse=rt,this.props={},this.props[rt.name]=rt,this.props[it.name]=it}tn.prototype.bind=function(rt,it){if("string"==typeof it){if(!this.props[it])throw new Error("no property <"+it+"> in ref");it=this.props[it]}it.collection?ut(this,it,rt):function Vt(rt,it,mt){var nn=it.inverse,Ut=mt[it.name];Object.defineProperty(mt,it.name,{configurable:it.configurable,enumerable:it.enumerable,get:function(){return Ut},set:function(dt){if(dt!==Ut){var Dn=Ut;Ut=null,Dn&&rt.unset(Dn,nn,mt),rt.set(Ut=dt,nn,mt)}}})}(this,it,rt)},tn.prototype.ensureRefsCollection=function(rt,it){var mt=rt[it.name];return Ft.isExtended(mt)||ut(this,it,rt),mt},tn.prototype.ensureBound=function(rt,it){(function Ye(rt,it){return Object.prototype.hasOwnProperty.call(rt,it.name||it)})(rt,it)||this.bind(rt,it)},tn.prototype.unset=function(rt,it,mt){rt&&(this.ensureBound(rt,it),it.collection?this.ensureRefsCollection(rt,it).remove(mt):rt[it.name]=void 0)},tn.prototype.set=function(rt,it,mt){rt&&(this.ensureBound(rt,it),it.collection?this.ensureRefsCollection(rt,it).add(mt):rt[it.name]=mt)},Nr.exports=tn},709:(Nr,Qt)=>{var Ft;!function(){"use strict";var Ye={}.hasOwnProperty;function ut(){for(var rt="",it=0;it<arguments.length;it++){var mt=arguments[it];mt&&(rt=tn(rt,Vt(mt)))}return rt}function Vt(rt){if("string"==typeof rt||"number"==typeof rt)return rt;if("object"!=typeof rt)return"";if(Array.isArray(rt))return ut.apply(null,rt);if(rt.toString!==Object.prototype.toString&&!rt.toString.toString().includes("[native code]"))return rt.toString();var it="";for(var mt in rt)Ye.call(rt,mt)&&rt[mt]&&(it=tn(it,mt));return it}function tn(rt,it){return it?rt?rt+" "+it:rt+it:rt}Nr.exports?(ut.default=ut,Nr.exports=ut):void 0!==(Ft=function(){return ut}.apply(Qt,[]))&&(Nr.exports=Ft)}()},892:(Nr,Qt)=>{"use strict";const Ft=Object.prototype.toString,Ye=Object.prototype.hasOwnProperty;function ut(re){return void 0===re}function Vt(re){return void 0!==re}function tn(re){return null==re}function rt(re){return"[object Array]"===Ft.call(re)}function it(re){return"[object Object]"===Ft.call(re)}function nn(re){const se=Ft.call(re);return"[object Function]"===se||"[object AsyncFunction]"===se||"[object GeneratorFunction]"===se||"[object AsyncGeneratorFunction]"===se||"[object Proxy]"===se}function dt(re){if(!rt(re))throw new Error("must supply array")}function Dn(re,se){return Ye.call(re,se)}function lt(re,se){const me=qr(se);let De;return vn(re,function(je,Ke){if(me(je,Ke))return De=je,!1}),De}function vn(re,se){let me,De;if(ut(re))return;const je=rt(re)?qa:po;for(let Ke in re)if(Dn(re,Ke)&&(me=re[Ke],De=se(me,je(Ke)),!1===De))return me}function uo(re,se,me){return vn(re,function(De,je){me=se(me,De,je)}),me}function kt(re,se){return!!uo(re,function(me,De,je){return me&&se(De,je)},!0)}function ii(re,se){let me=[];return vn(re,function(De,je){me.push(se(De,je))}),me}function Gr(re){return re&&Object.keys(re)||[]}function wr(re,se,me={}){return se=Ea(se),vn(re,function(De){let je=se(De)||"_",Ke=me[je];Ke||(Ke=me[je]=[]),Ke.push(De)}),me}function oi(re,...se){re=Ea(re);let me={};return vn(se,je=>wr(je,re,me)),ii(me,function(je,Ke){return je[0]})}const ms=oi;function Ea(re){return nn(re)?re:se=>se[re]}function qr(re){return nn(re)?re:se=>se===re}function po(re){return re}function qa(re){return Number(re)}Qt.assign=function qe(re,...se){return Object.assign(re,...se)},Qt.bind=function Ve(re,se){return re.bind(se)},Qt.debounce=function gs(re,se){let me,De,je,Ke;function Oe(rr){let Lr=Date.now(),ar=rr?0:Ke+se-Lr;if(ar>0)return Ue(ar);re.apply(je,De),Gt()}function Ue(rr){me=setTimeout(Oe,rr)}function Gt(){me&&clearTimeout(me),me=Ke=De=je=void 0}function qt(...rr){Ke=Date.now(),De=rr,je=this,me||Ue(se)}return qt.flush=function $t(){me&&Oe(!0),Gt()},qt.cancel=Gt,qt},Qt.ensureArray=dt,Qt.every=kt,Qt.filter=function Or(re,se){const me=qr(se);let De=[];return vn(re,function(je,Ke){me(je,Ke)&&De.push(je)}),De},Qt.find=lt,Qt.findIndex=function wn(re,se){const me=qr(se);let De=rt(re)?-1:void 0;return vn(re,function(je,Ke){if(me(je,Ke))return De=Ke,!1}),De},Qt.flatten=function Hn(re){return Array.prototype.concat.apply([],re)},Qt.forEach=vn,Qt.get=function de(re,se,me){let De=re;return vn(se,function(je){if(tn(De))return De=void 0,!1;De=De[je]}),ut(De)?me:De},Qt.groupBy=wr,Qt.has=Dn,Qt.isArray=rt,Qt.isDefined=Vt,Qt.isFunction=nn,Qt.isNil=tn,Qt.isNumber=function mt(re){return"[object Number]"===Ft.call(re)},Qt.isObject=it,Qt.isString=function Ut(re){return"[object String]"===Ft.call(re)},Qt.isUndefined=ut,Qt.keys=Gr,Qt.map=ii,Qt.matchPattern=function _a(re){return function(se){return kt(re,function(me,De){return se[De]===me})}},Qt.merge=function Ge(re,...se){return se.length&&vn(se,function(me){!me||!it(me)||vn(me,function(De,je){if("__proto__"===je)return;let Ke=re[je];it(De)?(it(Ke)||(Ke={}),re[je]=Ge(Ke,De)):re[je]=De})}),re},Qt.omit=function Ie(re,se){let me={};return vn(Object(re),function(je,Ke){-1===se.indexOf(Ke)&&(me[Ke]=je)}),me},Qt.pick=function Nt(re,se){let me={},De=Object(re);return vn(se,function(je){je in De&&(me[je]=re[je])}),me},Qt.reduce=uo,Qt.set=function Ze(re,se,me){let De=re;return vn(se,function(je,Ke){if("number"!=typeof je&&"string"!=typeof je)throw new Error("illegal key type: "+typeof je+". Key should be of type number or string.");if("constructor"===je)throw new Error("illegal key: constructor");if("__proto__"===je)throw new Error("illegal key: __proto__");let Oe=se[Ke+1],Ue=De[je];Vt(Oe)&&tn(Ue)&&(Ue=De[je]=isNaN(+Oe)?{}:[]),ut(Oe)?ut(me)?delete De[je]:De[je]=me:De=Ue}),re},Qt.size=function ki(re){return Gr(re).length},Qt.some=function ge(re,se){return!!lt(re,se)},Qt.sortBy=function Po(re,se){se=Ea(se);let me=[];return vn(re,function(De,je){let Ke=se(De,je),Oe={d:Ke,v:De};for(var Ue=0;Ue<me.length;Ue++){let{d:Gt}=me[Ue];if(Ke<Gt)return void me.splice(Ue,0,Oe)}me.push(Oe)}),ii(me,De=>De.v)},Qt.throttle=function xa(re,se){let me=!1;return function(...De){me||(re(...De),me=!0,setTimeout(()=>{me=!1},se))}},Qt.unionBy=ms,Qt.uniqueBy=oi,Qt.values=function Ci(re){return ii(re,se=>se)},Qt.without=function cn(re,se){if(ut(re))return[];dt(re);const me=qr(se);return re.filter(function(De,je){return!me(De,je)})}},293:Nr=>{function Qt(Ft,Ye,ut,Vt,tn,rt,it){try{var mt=Ft[rt](it),nn=mt.value}catch(Ut){return void ut(Ut)}mt.done?Ye(nn):Promise.resolve(nn).then(Vt,tn)}Nr.exports=function Hn(Ft){return function(){var Ye=this,ut=arguments;return new Promise(function(Vt,tn){var rt=Ft.apply(Ye,ut);function it(nn){Qt(rt,Vt,tn,it,mt,"next",nn)}function mt(nn){Qt(rt,Vt,tn,it,mt,"throw",nn)}it(void 0)})}},Nr.exports.__esModule=!0,Nr.exports.default=Nr.exports},343:Nr=>{"use strict";Nr.exports=JSON.parse('{"name":"Information Model","prefix":"infoModel","uri":"http://custom","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"CustomTask","extends":["bpmn:Task"],"properties":[{"name":"business","isAttr":true,"type":"String","description":"A test"},{"name":"prsb","isAttr":true,"type":"String","description":"A test"},{"name":"openehr","isAttr":true,"type":"String","description":"A test"}]}]}')}},Nr=>{Nr(Nr.s=408)}]);