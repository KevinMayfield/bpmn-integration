(self.webpackChunkbpmn_angular_integraion_examples=self.webpackChunkbpmn_angular_integraion_examples||[]).push([[792],{751:(Ar,Kt,zn)=>{"use strict";var Ye=zn(293).default,ct=zn(892);function Ht(Ie,Ge,re){var se=function Sn(Ie,Ge){var re=[],se=Ie.get("extensionElements");if(typeof se<"u"){var me=se.get("values");typeof me<"u"&&(re=ct.filter(me,function(Ce){return function at(Ie,Ge){return Ie&&"function"==typeof Ie.$instanceOf&&Ie.$instanceOf(Ge)}(Ce,Ge)}))}return re}(Ie,Ge);return re?(se[0]||{})[re]||[]:se}function ut(Ie,Ge){var re=function Bt(Ie){return(Ht(Ie,"camunda:InputOutput")||[])[0]}(Ie);return re&&re.get(Ge)||[]}function xn(Ie){for(var Ge=[],re=Ie;re.$parent;)Ge.push(re.$parent),re=re.$parent;return Ge}function Or(Ie,Ge,re){re=re||0,ct.isArray(Ie)||(Ie=[Ie]),ct.forEach(Ie,function(se,me){var Ce=Ge(se,me,re);ct.isArray(Ce)&&Ce.length&&Or(Ce,Ge,re+1)})}function gn(Ie,Ge,re){var se=!re||-1===Ie.indexOf(Ge);return se&&Ie.push(Ge),se}function ln(Ie,Ge,re){var se=[],me=[];return Or(Ie,function(Ce,$e,Ke){gn(se,Ce,Ge);var ke=Ce.flowElements;if((-1===re||Ke<re)&&ke&&gn(me,ke,Ge))return ke}),se}function oo(Ie,Ge){return ln(Ie,!Ge,-1)}function ge(Ie,Ge){var re=ct.findIndex(Ie,function(se){return se.name===Ge.name&&se.scope===Ge.scope});re>=0?Ie[re].origin=function Er(Ie,Ge){return Ie.concat(Ge)}(Ie[re].origin,Ge.origin):Ie.push(Ge)}function ti(Ie,Ge,re){var se=function zr(Ie,Ge,re){var se=xn(Ie),me=ct.find(se,function(Ce){return function Pi(Ie,Ge){return Ie&&"function"==typeof Ie.$instanceOf&&Ie.$instanceOf(Ge)}(Ce,"bpmn:SubProcess")&&function Ei(Ie,Ge){return ct.find(function en(Ie){return ut(Ie,"inputParameters")}(Ie),function(re){return re.name===Ge})}(Ce,re)});return me||Ge}(Ie,re,Ge);return{name:Ge,origin:[Ie],scope:se}}function Hr(Ie,Ge){var re=Ie.eventDefinitions;return re&&Ge?ct.filter(re,function(se){return function ls(Ie,Ge){return Ie&&"function"==typeof Ie.$instanceOf&&Ie.$instanceOf(Ge)}(se,Ge)}):re}var je=[function ni(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ct.isArray(Ge)||(Ge=[Ge]),ct.forEach(Ge,function(me){var Ce=function nt(Ie){return ut(Ie,"outputParameters")}(me);ct.forEach(Ce,function($e){var Ke=ti(me,$e.name,re);ge(se,Ke)})}),se},function as(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ct.isArray(Ge)||(Ge=[Ge]),ct.forEach(Ge,function(me){var Ce=function xo(Ie){return Ie.get("camunda:resultVariable")}(me);if(Ce){var $e=ti(me,Ce,re);ge(se,$e)}}),se},function va(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ct.isArray(Ge)||(Ge=[Ge]),ct.forEach(Ge,function(me){var Ce=function rt(Ie){var Ge=function ht(Ie){return Ht(Ie,"camunda:FormData")[0]}(Ie);return Ge&&Ge.get("fields")||[]}(me);ct.forEach(Ce,function($e){var Ke=ti(me,$e.id,re);ge(se,Ke)})}),se},function ya(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables;return ct.isArray(Ge)||(Ge=[Ge]),ct.forEach(Ge,function(me){var Ce=function tn(Ie){return Ht(Ie,"camunda:Out")}(me);ct.forEach(Ce,function($e){if(!$e.local){var Ke=ti(me,$e.target,re);ge(se,Ke)}})}),se},function ba(Ie){var Ge=Ie.elements,re=Ie.containerElement,se=Ie.processVariables,me=function(Ce,$e){var Ke=ti(Ce,$e,re);ge(se,Ke)};return ct.isArray(Ge)||(Ge=[Ge]),ct.forEach(Ge,function(Ce){var $e=function so(Ie){return Hr(Ie,"bpmn:ErrorEventDefinition")}(Ce);ct.forEach($e,function(ke){var Ue=ke.get("errorCodeVariable"),Ut=ke.get("errorMessageVariable");Ue&&me(Ce,Ue),Ut&&me(Ce,Ut)});var Ke=function Va(Ie){return Hr(Ie,"bpmn:EscalationEventDefinition")}(Ce);ct.forEach(Ke,function(ke){var Ue=ke.get("escalationCodeVariable");Ue&&me(Ce,Ue)})}),se}];function de(){return(de=Ye(function*(Ie,Ge,re=[]){var se=yield function qe(Ie,Ge=[]){const re=[];var se=[],me=oo([Ie],!1);return ct.forEach([...je,...Ge],function(Ce){re.push(Ce({elements:me,containerElement:Ie,processVariables:se}))}),Promise.all(re).then(()=>se)}(Ge,re),me=function Ot(Ie,Ge){var re=oo(Ge);return ct.find(re,function(se){return se.id===Ie})}(Ie,Ge),Ce=ct.filter(se,function(ke){return ke.scope.id===me.id}),$e=xn(me);return function It(Ie,Ge){return Ie.concat(Ge)}(Ce,ct.filter(se,function(ke){return ct.find($e,function(Ue){return Ue.id===ke.scope.id})}))})).apply(this,arguments)}Kt.Zc=function Ze(Ie,Ge){return de.apply(this,arguments)}},632:(Ar,Kt,zn)=>{"use strict";var Ye=zn(293).default,ct=zn(892);function Bt(re){return(Sn(re,"zeebe:IoMapping")||[])[0]}function Sn(re,se,me){var Ce=function xn(re,se){var me=[],Ce=re.get("extensionElements");if(typeof Ce<"u"){var $e=Ce.get("values");typeof $e<"u"&&(me=ct.filter($e,function(Ke){return function Or(re,se){return re&&"function"==typeof re.$instanceOf&&re.$instanceOf(se)}(Ke,se)}))}return me}(re,se);return me?(Ce[0]||{})[me]||[]:Ce}function gn(re){for(var se=[],me=re;me.$parent;)se.push(me.$parent),me=me.$parent;return se}function ln(re,se,me){me=me||0,ct.isArray(re)||(re=[re]),ct.forEach(re,function(Ce,$e){var Ke=se(Ce,$e,me);ct.isArray(Ke)&&Ke.length&&ln(Ke,se,me+1)})}function oo(re,se,me){var Ce=!me||-1===re.indexOf(se);return Ce&&re.push(se),Ce}function Ot(re,se,me){var Ce=[],$e=[];return ln(re,function(Ke,ke,Ue){oo(Ce,Ke,se);var Ut=Ke.flowElements;if((-1===me||Ue<me)&&Ut&&oo($e,Ut,se))return Ut}),Ce}function ge(re,se){return Ot(re,!se,-1)}function zr(re,se){var me=ct.findIndex(re,function(Ce){return Ce.name===se.name&&Ce.scope===se.scope});me>=0?re[me].origin=function as(re,se){return re.concat(se)}(re[me].origin,se.origin):re.push(se)}function Pi(re,se,me){var Ce=function Ei(re,se,me){var Ce=gn(re),$e=ct.find(Ce,function(Ke){return function Er(re,se){return re&&"function"==typeof re.$instanceOf&&re.$instanceOf(se)}(Ke,"bpmn:SubProcess")&&function ni(re,se){return ct.find(function en(re){return function at(re,se){var me=Bt(re);return me&&me.get(se)||[]}(re,"inputParameters")}(re),function(me){return me.target===se})}(Ke,me)});return $e||se}(re,me,se);return{name:se,origin:[re],scope:Ce}}var Va=[function xo(re){var se=re.elements,me=re.processVariables;return ct.isArray(se)||(se=[se]),ct.forEach(se,function(Ce){var $e=function rt(re){return(Bt(re)||{}).inputParameters}(Ce);ct.forEach($e,function(Ke){var ke=Pi(Ce,Ke.target,Ce);zr(me,ke)})}),me},function va(re){var se=re.elements,me=re.processVariables;return ct.isArray(se)||(se=[se]),ct.forEach(se,function(Ce){var $e=Ce.loopCharacteristics,Ke=$e&&function ht(re){const se=Sn(re,"zeebe:LoopCharacteristics")[0];return se&&se.inputElement}($e);if(Ke){var ke=Pi(Ce,Ke,Ce);zr(me,ke)}}),me},function ya(re){var se=re.elements,me=re.containerElement,Ce=re.processVariables;return ct.isArray(se)||(se=[se]),ct.forEach(se,function($e){var Ke=function nt(re){return(Bt(re)||{}).outputParameters}($e);ct.forEach(Ke,function(ke){var Ue=Pi($e,ke.target,me);zr(Ce,Ue)})}),Ce},function Hr(re){var se=re.elements,me=re.containerElement,Ce=re.processVariables;return ct.isArray(se)||(se=[se]),ct.forEach(se,function($e){var Ke=$e.loopCharacteristics,ke=Ke&&function tn(re){const se=Sn(re,"zeebe:LoopCharacteristics")[0];return se&&se.outputCollection}(Ke);if(ke){var Ue=Pi($e,ke,me);zr(Ce,Ue)}}),Ce},function so(re){var se=re.elements,me=re.containerElement,Ce=re.processVariables;return ct.isArray(se)||(se=[se]),ct.forEach(se,function($e){var Ke=function Ht(re){return(Sn(re,"zeebe:CalledDecision")||[])[0]}($e)||function ut(re){return(Sn(re,"zeebe:Script")||[])[0]}($e);if(Ke){var ke=Ke.resultVariable;if(ke){var Ue=Pi($e,ke,me);zr(Ce,Ue)}}}),Ce}];function ba(re,se){return je.apply(this,arguments)}function je(){return(je=Ye(function*(re,se,me=[]){var Ce=yield function ls(re,se=[]){var me=[],Ce=ge([re],!1);const $e=[];return ct.forEach([...Va,...se],function(Ke){$e.push(Ke({elements:Ce,containerElement:re,processVariables:me}))}),Promise.all($e).then(()=>me)}(se,me),$e=function ti(re,se){var me=ge(se);return ct.find(me,function(Ce){return Ce.id===re})}(re,se),Ke=ct.filter(Ce,function(Ut){return Ut.scope.id===$e.id}),ke=gn($e);return function It(re,se){return re.concat(se)}(Ke,ct.filter(Ce,function(Ut){return ct.find(ke,function($t){return $t.id===Ut.scope.id})}))})).apply(this,arguments)}function Ie(re){return re&&re.businessObject||re}function Ge(re,se){var me=Ie(re);return me&&"function"==typeof me.$instanceOf&&me.$instanceOf(se)}Kt.Hp=function qe(re,se=[]){return ba(function Ze(re){const se=Ie(re);return Ge(re,"bpmn:Participant")?se.processRef.id:se.id}(re),function de(re){const se=Ie(re);if(Ge(se,"bpmn:Participant"))return se.processRef;if(Ge(se,"bpmn:Process"))return se;let me=se;for(;me.$parent&&!Ge(me,"bpmn:Process");)me=me.$parent;return me}(re),se)}},377:(Ar,Kt,zn)=>{"use strict";function Lt(t,i,o,s,a,l,c){try{var u=t[l](c),p=u.value}catch(h){return void o(h)}u.done?i(p):Promise.resolve(p).then(s,a)}function Ye(t){return function(){var i=this,o=arguments;return new Promise(function(s,a){var l=t.apply(i,o);function c(p){Lt(l,s,a,c,u,"next",p)}function u(p){Lt(l,s,a,c,u,"throw",p)}c(void 0)})}}let Bt=null,nt=1;const rt=Symbol("SIGNAL");function ht(t){const i=Bt;return Bt=t,i}function Or(t){if((!Er(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==nt)){if(!t.producerMustRecompute(t)&&!ti(t))return t.dirty=!1,void(t.lastCleanEpoch=nt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nt}}function ti(t){ni(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],s=t.producerLastReadVersion[i];if(s!==o.version||(Or(o),s!==o.version))return!0}return!1}function Ei(t,i){if(function as(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ni(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Ei(t.producerNode[s],t.producerIndexOfThis[s]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[i],a=t.liveConsumerNode[i];ni(a),a.producerIndexOfThis[s]=i}}function Er(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ni(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ls=null;function ke(t){return"function"==typeof t}function Ue(t){const o=t(s=>{Error.call(s),s.stack=(new Error).stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}const Ut=Ue(t=>function(o){t(this),this.message=o?`${o.length} errors occurred during unsubscription:\n${o.map((s,a)=>`${a+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=o});function $t(t,i){if(t){const o=t.indexOf(i);0<=o&&t.splice(o,1)}}class Gt{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(const l of o)l.remove(this);else o.remove(this);const{initialTeardown:s}=this;if(ke(s))try{s()}catch(l){i=l instanceof Ut?l.errors:[l]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const l of a)try{sr(l)}catch(c){i=i??[],c instanceof Ut?i=[...i,...c.errors]:i.push(c)}}if(i)throw new Ut(i)}}add(i){var o;if(i&&i!==this)if(this.closed)sr(i);else{if(i instanceof Gt){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(o=this._finalizers)&&void 0!==o?o:[]).push(i)}}_hasParent(i){const{_parentage:o}=this;return o===i||Array.isArray(o)&&o.includes(i)}_addParent(i){const{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(i),o):o?[o,i]:i}_removeParent(i){const{_parentage:o}=this;o===i?this._parentage=null:Array.isArray(o)&&$t(o,i)}remove(i){const{_finalizers:o}=this;o&&$t(o,i),i instanceof Gt&&i._removeParent(this)}}Gt.EMPTY=(()=>{const t=new Gt;return t.closed=!0,t})();const nr=Gt.EMPTY;function Ir(t){return t instanceof Gt||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function sr(t){ke(t)?t():t.unsubscribe()}const An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xr={setTimeout(t,i,...o){const{delegate:s}=xr;return s?.setTimeout?s.setTimeout(t,i,...o):setTimeout(t,i,...o)},clearTimeout(t){const{delegate:i}=xr;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fi(t){xr.setTimeout(()=>{const{onUnhandledError:i}=An;if(!i)throw t;i(t)})}function kr(){}const Sl=Rc("C",void 0,void 0);function Rc(t,i,o){return{kind:t,value:i,error:o}}let Oi=null;function Su(t){if(An.useDeprecatedSynchronousErrorHandling){const i=!Oi;if(i&&(Oi={errorThrown:!1,error:null}),t(),i){const{errorThrown:o,error:s}=Oi;if(Oi=null,o)throw s}}else t()}class Xr extends Gt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Ir(i)&&i.add(this)):this.destination=rp}static create(i,o,s){return new cs(i,o,s)}next(i){this.isStopped?za(function Gf(t){return Rc("N",t,void 0)}(i),this):this._next(i)}error(i){this.isStopped?za(function Qt(t){return Rc("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?za(Sl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wr=Function.prototype.bind;function gr(t,i){return wr.call(t,i)}class D0{constructor(i){this.partialObserver=i}next(i){const{partialObserver:o}=this;if(o.next)try{o.next(i)}catch(s){_a(s)}}error(i){const{partialObserver:o}=this;if(o.error)try{o.error(i)}catch(s){_a(s)}else _a(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(o){_a(o)}}}class cs extends Xr{constructor(i,o,s){let a;if(super(),ke(i)||!i)a={next:i??void 0,error:o??void 0,complete:s??void 0};else{let l;this&&An.useDeprecatedNextContext?(l=Object.create(i),l.unsubscribe=()=>this.unsubscribe(),a={next:i.next&&gr(i.next,l),error:i.error&&gr(i.error,l),complete:i.complete&&gr(i.complete,l)}):a=i}this.destination=new D0(a)}}function _a(t){An.useDeprecatedSynchronousErrorHandling?function np(t){An.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=t)}(t):fi(t)}function za(t,i){const{onStoppedNotification:o}=An;o&&xr.setTimeout(()=>o(t,i))}const rp={closed:!0,next:kr,error:function nn(t){throw t},complete:kr},Qs="function"==typeof Symbol&&Symbol.observable||"@@observable";function _t(t){return t}function kn(t){return 0===t.length?_t:1===t.length?t[0]:function(o){return t.reduce((s,a)=>a(s),o)}}let Nr=(()=>{class t{constructor(o){o&&(this._subscribe=o)}lift(o){const s=new t;return s.source=this,s.operator=o,s}subscribe(o,s,a){const l=function p1(t){return t&&t instanceof Xr||function T0(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}(t)&&Ir(t)}(o)?o:new cs(o,s,a);return Su(()=>{const{operator:c,source:u}=this;l.add(c?c.call(l,u):u?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(o){try{return this._subscribe(o)}catch(s){o.error(s)}}forEach(o,s){return new(s=hi(s))((a,l)=>{const c=new cs({next:u=>{try{o(u)}catch(p){l(p),c.unsubscribe()}},error:l,complete:a});this.subscribe(c)})}_subscribe(o){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(o)}[Qs](){return this}pipe(...o){return kn(o)(this)}toPromise(o){return new(o=hi(o))((s,a)=>{let l;this.subscribe(c=>l=c,c=>a(c),()=>s(l))})}}return t.create=i=>new t(i),t})();function hi(t){var i;return null!==(i=t??An.Promise)&&void 0!==i?i:Promise}const f1=Ue(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zs=(()=>{class t extends Nr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){const s=new h1(this,this);return s.operator=o,s}_throwIfClosed(){if(this.closed)throw new f1}next(o){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(o)}})}error(o){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;const{observers:s}=this;for(;s.length;)s.shift().error(o)}})}complete(){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return(null===(o=this.observers)||void 0===o?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){const{hasError:s,isStopped:a,observers:l}=this;return s||a?nr:(this.currentObservers=null,l.push(o),new Gt(()=>{this.currentObservers=null,$t(l,o)}))}_checkFinalizedStatuses(o){const{hasError:s,thrownError:a,isStopped:l}=this;s?o.error(a):l&&o.complete()}asObservable(){const o=new Nr;return o.source=this,o}}return t.create=(i,o)=>new h1(i,o),t})();class h1 extends Zs{constructor(i,o){super(),this.destination=i,this.source=o}next(i){var o,s;null===(s=null===(o=this.destination)||void 0===o?void 0:o.next)||void 0===s||s.call(o,i)}error(i){var o,s;null===(s=null===(o=this.destination)||void 0===o?void 0:o.error)||void 0===s||s.call(o,i)}complete(){var i,o;null===(o=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===o||o.call(i)}_subscribe(i){var o,s;return null!==(s=null===(o=this.source)||void 0===o?void 0:o.subscribe(i))&&void 0!==s?s:nr}}class Mt extends Zs{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const o=super._subscribe(i);return!o.closed&&i.next(this._value),o}getValue(){const{hasError:i,thrownError:o,_value:s}=this;if(i)throw o;return this._throwIfClosed(),s}next(i){super.next(this._value=i)}}function qf(t){return ke(t?.lift)}function go(t){return i=>{if(qf(i))return i.lift(function(o){try{return t(o,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function ao(t,i,o,s,a){return new Cu(t,i,o,s,a)}class Cu extends Xr{constructor(i,o,s,a,l,c){super(i),this.onFinalize=l,this.shouldUnsubscribe=c,this._next=o?function(u){try{o(u)}catch(p){i.error(p)}}:super._next,this._error=a?function(u){try{a(u)}catch(p){i.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(u){i.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:o}=this;super.unsubscribe(),!o&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Sr(t,i){return go((o,s)=>{let a=0;o.subscribe(ao(s,l=>{s.next(t.call(i,l,a++))}))})}class it extends Error{constructor(i,o){super(function Ac(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function us(t){return{toString:t}.toString()}const Ua="__parameters__";function Bo(t,i,o){return us(()=>{const s=function k0(t){return function(...o){if(t){const s=t(...o);for(const a in s)this[a]=s[a]}}}(i);function a(...l){if(this instanceof a)return s.apply(this,l),this;const c=new a(...l);return u.annotation=c,u;function u(p,h,v){const y=p.hasOwnProperty(Ua)?p[Ua]:Object.defineProperty(p,Ua,{value:[]})[Ua];for(;y.length<=v;)y.push(null);return(y[v]=y[v]||[]).push(c),p}}return o&&(a.prototype=Object.create(o.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}const rr=globalThis;function Ln(t){for(let i in t)if(t[i]===Ln)return i;throw Error("Could not find renamed property on target object.")}function lo(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(lo).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Du(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Ls=Ln({__forward_ref__:Ln});function Tu(t){return t.__forward_ref__=Tu,t.toString=function(){return lo(this())},t}function cn(t){return Pu(t)?t():t}function Pu(t){return"function"==typeof t&&t.hasOwnProperty(Ls)&&t.__forward_ref__===Tu}function Rt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zl(t){return Jl(t,Iy)||Jl(t,m1)}function Jl(t,i){return t.hasOwnProperty(i)?t[i]:null}function ec(t){return t&&(t.hasOwnProperty(Y5)||t.hasOwnProperty(K5))?t[Y5]:null}const Iy=Ln({\u0275prov:Ln}),Y5=Ln({\u0275inj:Ln}),m1=Ln({ngInjectableDef:Ln}),K5=Ln({ngInjectorDef:Ln});class At{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Rt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yf(t){return t&&!!t.\u0275providers}const v1=Ln({\u0275cmp:Ln}),Z5=Ln({\u0275dir:Ln}),Ly=Ln({\u0275pipe:Ln}),y1=Ln({\u0275mod:Ln}),jc=Ln({\u0275fac:Ln}),Kf=Ln({__NG_ELEMENT_ID__:Ln}),c8=Ln({__NG_ENV_ID__:Ln});function Ur(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function Fn(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Xt(t,i){throw new it(-201,!1)}var Zn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Zn||{});let J5;function hn(){return J5}function Kr(t){const i=J5;return J5=t,i}function Fy(t,i,o){const s=Zl(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:o&Zn.Optional?null:void 0!==i?i:void Xt()}const Qf={},t_="__NG_DI_FLAG__",_n="ngTempTokenPath",Zf=/\n/gm,By="__source";let Ou;function ku(t){const i=Ou;return Ou=t,i}function N0(t,i=Zn.Default){if(void 0===Ou)throw new it(-203,!1);return null===Ou?Fy(t,void 0,i):Ou.get(t,i&Zn.Optional?null:void 0,i)}function un(t,i=Zn.Default){return(hn()||N0)(cn(t),i)}function tt(t,i=Zn.Default){return un(t,b1(i))}function b1(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jy(t){const i=[];for(let o=0;o<t.length;o++){const s=cn(t[o]);if(Array.isArray(s)){if(0===s.length)throw new it(900,!1);let a,l=Zn.Default;for(let c=0;c<s.length;c++){const u=s[c],p=p8(u);"number"==typeof p?-1===p?a=u.token:l|=p:a=u}i.push(un(a,l))}else i.push(un(s))}return i}function eh(t,i){return t[t_]=i,t.prototype[t_]=i,t}function p8(t){return t[t_]}const E1=eh(Bo("Optional"),8),$y=eh(Bo("SkipSelf"),4);function $c(t,i){return t.hasOwnProperty(jc)?t[jc]:null}function Vc(t,i){t.forEach(o=>Array.isArray(o)?Vc(o,i):i(o))}function x1(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function nh(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}const tc={},Cr=[],Ru=new At(""),r_=new At("",-1),ps=new At("");class Js{get(i,o=Qf){if(o===Qf){const s=new Error(`NullInjectorError: No provider for ${lo(i)}!`);throw s.name="NullInjectorError",s}return o}}var nc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nc||{}),Tl=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tl||{}),Fs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fs||{});function g8(t,i,o){let s=t.length;for(;;){const a=t.indexOf(i,o);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const l=i.length;if(a+l===s||t.charCodeAt(a+l)<=32)return a}o=a+1}}function xa(t,i,o){let s=0;for(;s<o.length;){const a=o[s];if("number"==typeof a){if(0!==a)break;s++;const l=o[s++],c=o[s++],u=o[s++];t.setAttribute(i,c,u,l)}else{const l=a,c=o[++s];y8(l)?t.setProperty(i,l,c):t.setAttribute(i,l,c),s++}}return s}function v8(t){return 3===t||4===t||6===t}function y8(t){return 64===t.charCodeAt(0)}function w1(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let s=0;s<i.length;s++){const a=i[s];"number"==typeof a?o=a:0===o||rh(t,o,a,null,-1===o||2===o?i[++s]:null)}}return t}function rh(t,i,o,s,a){let l=0,c=t.length;if(-1===i)c=-1;else for(;l<t.length;){const u=t[l++];if("number"==typeof u){if(u===i){c=-1;break}if(u>i){c=l-1;break}}}for(;l<t.length;){const u=t[l];if("number"==typeof u)break;if(u===o){if(null===s)return void(null!==a&&(t[l+1]=a));if(s===t[l+1])return void(t[l+2]=a)}l++,null!==s&&l++,null!==a&&l++}-1!==c&&(t.splice(c,0,i),l=c+1),t.splice(l++,0,o),null!==s&&t.splice(l++,0,s),null!==a&&t.splice(l++,0,a)}const b8="ng-template";function lp(t,i,o,s){let a=0;if(s){for(;a<i.length&&"string"==typeof i[a];a+=2)if("class"===i[a]&&-1!==g8(i[a+1].toLowerCase(),o,0))return!0}else if(zy(t))return!1;if(a=i.indexOf(1,a),a>-1){let l;for(;++a<i.length&&"string"==typeof(l=i[a]);)if(l.toLowerCase()===o)return!0}return!1}function zy(t){return 4===t.type&&t.value!==b8}function _8(t,i,o){return i===(4!==t.type||o?t.value:b8)}function ih(t,i,o){let s=4;const a=t.attrs,l=null!==a?function x8(t){for(let i=0;i<t.length;i++)if(v8(t[i]))return i;return t.length}(a):0;let c=!1;for(let u=0;u<i.length;u++){const p=i[u];if("number"!=typeof p){if(!c)if(4&s){if(s=2|1&s,""!==p&&!_8(t,p,o)||""===p&&1===i.length){if(Pl(s))return!1;c=!0}}else if(8&s){if(null===a||!lp(t,a,p,o)){if(Pl(s))return!1;c=!0}}else{const h=i[++u],v=Hy(p,a,zy(t),o);if(-1===v){if(Pl(s))return!1;c=!0;continue}if(""!==h){let y;if(y=v>l?"":a[v+1].toLowerCase(),2&s&&h!==y){if(Pl(s))return!1;c=!0}}}}else{if(!c&&!Pl(s)&&!Pl(p))return!1;if(c&&Pl(p))continue;c=!1,s=p|1&s}}return Pl(s)||c}function Pl(t){return!(1&t)}function Hy(t,i,o,s){if(null===i)return-1;let a=0;if(s||!o){let l=!1;for(;a<i.length;){const c=i[a];if(c===t)return a;if(3===c||6===c)l=!0;else{if(1===c||2===c){let u=i[++a];for(;"string"==typeof u;)u=i[++a];continue}if(4===c)break;if(0===c){a+=4;continue}}a+=l?1:2}return-1}return function jO(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const s=t[o];if("number"==typeof s)return-1;if(s===i)return o;o++}return-1}(i,t)}function E8(t,i,o=!1){for(let s=0;s<i.length;s++)if(ih(t,i[s],o))return!0;return!1}function o_(t,i){return t?":not("+i.trim()+")":i}function $O(t){let i=t[0],o=1,s=2,a="",l=!1;for(;o<t.length;){let c=t[o];if("string"==typeof c)if(2&s){const u=t[++o];a+="["+c+(u.length>0?'="'+u+'"':"")+"]"}else 8&s?a+="."+c:4&s&&(a+=" "+c);else""!==a&&!Pl(c)&&(i+=o_(l,a),a=""),s=c,l=l||!Pl(s);o++}return""!==a&&(i+=o_(l,a)),i}function S1(t){return us(()=>{const i=Gy(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tl.Emulated,styles:t.styles||Cr,_:null,schemas:t.schemas||null,tView:null,id:""};cp(o);const s=t.dependencies;return o.directiveDefs=oh(s,!1),o.pipeDefs=oh(s,!0),o.id=function T8(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const a of o)i=Math.imul(31,i)+a.charCodeAt(0)|0;return i+=2147483648,"c"+i}(o),o})}function C8(t){return Hn(t)||Zi(t)}function B0(t){return null!==t}function Bs(t){return us(()=>({type:t.type,bootstrap:t.bootstrap||Cr,declarations:t.declarations||Cr,imports:t.imports||Cr,exports:t.exports||Cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function D8(t,i){if(null==t)return tc;const o={};for(const s in t)if(t.hasOwnProperty(s)){const a=t[s];let l,c,u=Fs.None;Array.isArray(a)?(u=a[0],l=a[1],c=a[2]??l):(l=a,c=a),i?(o[l]=u!==Fs.None?[s,u]:s,i[l]=c):o[l]=s}return o}function jo(t){return us(()=>{const i=Gy(t);return cp(i),i})}function Hn(t){return t[v1]||null}function Zi(t){return t[Z5]||null}function $o(t){return t[Ly]||null}function Gr(t,i){const o=t[y1]||null;if(!o&&!0===i)throw new Error(`Type ${lo(t)} does not have '\u0275mod' property.`);return o}function Gy(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||tc,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:D8(t.inputs,i),outputs:D8(t.outputs),debugInfo:null}}function cp(t){t.features?.forEach(i=>i(t))}function oh(t,i){if(!t)return null;const o=i?$o:C8;return()=>("function"==typeof t?t():t).map(s=>o(s)).filter(B0)}function zO(...t){return{\u0275providers:qy(0,t),\u0275fromNgModule:!0}}function qy(t,...i){const o=[],s=new Set;let a;const l=c=>{o.push(c)};return Vc(i,c=>{const u=c;Wy(u,l,[],s)&&(a||=[],a.push(u))}),void 0!==a&&s_(a,l),o}function s_(t,i){for(let o=0;o<t.length;o++){const{ngModule:s,providers:a}=t[o];Xy(a,l=>{i(l,s)})}}function Wy(t,i,o,s){if(!(t=cn(t)))return!1;let a=null,l=ec(t);const c=!l&&Hn(t);if(l||c){if(c&&!c.standalone)return!1;a=t}else{const p=t.ngModule;if(l=ec(p),!l)return!1;a=p}const u=s.has(a);if(c){if(u)return!1;if(s.add(a),c.dependencies){const p="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const h of p)Wy(h,i,o,s)}}else{if(!l)return!1;{if(null!=l.imports&&!u){let h;s.add(a);try{Vc(l.imports,v=>{Wy(v,i,o,s)&&(h||=[],h.push(v))})}finally{}void 0!==h&&s_(h,i)}if(!u){const h=$c(a)||(()=>new a);i({provide:a,useFactory:h,deps:Cr},a),i({provide:ps,useValue:a,multi:!0},a),i({provide:Ru,useValue:()=>un(a),multi:!0},a)}const p=l.providers;if(null!=p&&!u){const h=t;Xy(p,v=>{i(v,h)})}}}return a!==t&&void 0!==t.providers}function Xy(t,i){for(let o of t)Yf(o)&&(o=o.\u0275providers),Array.isArray(o)?Xy(o,i):i(o)}const a_=Ln({provide:String,useValue:Ln});function Au(t){return null!==t&&"object"==typeof t&&a_ in t}function zc(t){return"function"==typeof t}const l_=new At(""),Ky={},Qy={};let c_;function Zy(){return void 0===c_&&(c_=new Js),c_}class qr{}class sh extends qr{get destroyed(){return this._destroyed}constructor(i,o,s,a){super(),this.parent=o,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,e2(i,c=>this.processProvider(c)),this.records.set(r_,Un(void 0,this)),a.has("environment")&&this.records.set(qr,Un(void 0,this));const l=this.records.get(l_);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(ps,Cr,Zn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=ht(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ht(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=ku(this),s=Kr(void 0);try{return i()}finally{ku(o),Kr(s)}}get(i,o=Qf,s=Zn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(c8))return i[c8](this);s=b1(s);const l=ku(this),c=Kr(void 0);try{if(!(s&Zn.SkipSelf)){let p=this.records.get(i);if(void 0===p){const h=function GO(t){return"function"==typeof t||"object"==typeof t&&t instanceof At}(i)&&Zl(i);p=h&&this.injectableDefInScope(h)?Un(Jy(i),Ky):null,this.records.set(i,p)}if(null!=p)return this.hydrate(i,p)}return(s&Zn.Self?Zy():this.parent).get(i,o=s&Zn.Optional&&o===Qf?null:o)}catch(u){if("NullInjectorError"===u.name){if((u[_n]=u[_n]||[]).unshift(lo(i)),l)throw u;return function th(t,i,o,s){const a=t[_n];throw i[By]&&a.unshift(i[By]),t.message=function _1(t,i,o,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let a=lo(i);if(Array.isArray(i))a=i.map(lo).join(" -> ");else if("object"==typeof i){let l=[];for(let c in i)if(i.hasOwnProperty(c)){let u=i[c];l.push(c+":"+("string"==typeof u?JSON.stringify(u):lo(u)))}a=`{${l.join(", ")}}`}return`${o}${s?"("+s+")":""}[${a}]: ${t.replace(Zf,"\n  ")}`}("\n"+t.message,a,o,s),t.ngTokenPath=a,t[_n]=null,t}(u,i,"R3InjectorError",this.source)}throw u}finally{Kr(c),ku(l)}}resolveInjectorInitializers(){const i=ht(null),o=ku(this),s=Kr(void 0);try{const l=this.get(Ru,Cr,Zn.Self);for(const c of l)c()}finally{ku(o),Kr(s),ht(i)}}toString(){const i=[],o=this.records;for(const s of o.keys())i.push(lo(s));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processProvider(i){let o=zc(i=cn(i))?i:cn(i&&i.provide);const s=function UO(t){return Au(t)?Un(void 0,t.useValue):Un(function Y(t,i,o){let s;if(zc(t)){const a=cn(t);return $c(a)||Jy(a)}if(Au(t))s=()=>cn(t.useValue);else if(function xi(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...jy(t.deps||[]));else if(function Yy(t){return!(!t||!t.useExisting)}(t))s=()=>un(cn(t.useExisting));else{const a=cn(t&&(t.useClass||t.provide));if(!function yt(t){return!!t.deps}(t))return $c(a)||Jy(a);s=()=>new a(...jy(t.deps))}return s}(t),Ky)}(i);if(!zc(i)&&!0===i.multi){let a=this.records.get(o);a||(a=Un(void 0,Ky,!0),a.factory=()=>jy(a.multi),this.records.set(o,a)),o=i,a.multi.push(i)}this.records.set(o,s)}hydrate(i,o){const s=ht(null);try{return o.value===Ky&&(o.value=Qy,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ur(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{ht(s)}}injectableDefInScope(i){if(!i.providedIn)return!1;const o=cn(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Jy(t){const i=Zl(t),o=null!==i?i.factory:$c(t);if(null!==o)return o;if(t instanceof At)throw new it(204,!1);if(t instanceof Function)return function ea(t){if(t.length>0)throw new it(204,!1);const o=function a8(t){return t&&(t[Iy]||t[m1])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new it(204,!1)}function Un(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function e2(t,i){for(const o of t)Array.isArray(o)?e2(o,i):o&&Yf(o)?e2(o.\u0275providers,i):i(o)}function es(t,i){t instanceof sh&&t.assertNotDestroyed();const s=ku(t),a=Kr(void 0);try{return i()}finally{ku(s),Kr(a)}}function u_(){return void 0!==hn()||null!=function d8(){return Ou}()}const ki=0,dt=1,Zt=2,vo=3,Ya=4,fs=5,zi=6,Hc=7,Dr=8,rn=9,gt=10,En=11,P1=12,dp=13,Ol=14,Ji=15,O1=16,lh=17,Iu=18,k1=19,d_=20,$0=21,pp=22,V0=23,jn=25,p_=1,Ka=7,ch=9,co=10;var ic=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ic||{});function $s(t){return Array.isArray(t)&&"object"==typeof t[p_]}function hs(t){return Array.isArray(t)&&!0===t[p_]}function z0(t){return!!(4&t.flags)}function Nu(t){return t.componentOffset>-1}function oc(t){return!(1&~t.flags)}function kl(t){return!!t.template}function n2(t){return!!(512&t[Zt])}class v_{constructor(i,o,s){this.previousValue=i,this.currentValue=o,this.firstChange=s}isFirstChange(){return this.firstChange}}function st(t,i,o,s){null!==i?i.applyValueToInputSignal(i,s):t[o]=s}function ta(){return s2}function s2(t){return t.type.prototype.ngOnChanges&&(t.setInput=I1),nk}function nk(){const t=a2(this),i=t?.current;if(i){const o=t.previous;if(o===tc)t.previous=i;else for(let s in i)o[s]=i[s];t.current=null,this.ngOnChanges(i)}}function I1(t,i,o,s,a){const l=this.declaredInputs[s],c=a2(t)||function I8(t,i){return t[A8]=i}(t,{previous:tc,current:null}),u=c.current||(c.current={}),p=c.previous,h=p[l];u[l]=new v_(h&&h.currentValue,o,p===tc),st(t,i,a,o)}ta.ngInherit=!0;const A8="__ngSimpleChanges__";function a2(t){return t[A8]||null}const Vs=function(t,i,o){};let b_=!1;function mi(t){for(;Array.isArray(t);)t=t[ki];return t}function zs(t,i){return mi(i[t.index])}function Do(t,i){const o=i[t];return $s(o)?o:o[ki]}function E_(t){return!(128&~t[Zt])}function ac(t,i){return null==i?null:t[i]}function wa(t){t[lh]=0}function zo(t){1024&t[Zt]||(t[Zt]|=1024,E_(t)&&uo(t))}function ph(t){return!!(9216&t[Zt]||t[V0]?.dirty)}function p2(t){t[gt].changeDetectionScheduler?.notify(1),ph(t)?uo(t):64&t[Zt]&&(function N8(){return b_}()?(t[Zt]|=1024,uo(t)):t[gt].changeDetectionScheduler?.notify())}function uo(t){t[gt].changeDetectionScheduler?.notify();let i=Bu(t);for(;null!==i&&!(8192&i[Zt])&&(i[Zt]|=8192,E_(i));)i=Bu(i)}function f2(t,i){if(!(256&~t[Zt]))throw new it(911,!1);null===t[$0]&&(t[$0]=[]),t[$0].push(i)}function Bu(t){const i=t[vo];return hs(i)?i[vo]:i}const Mn={lFrame:L1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function F8(){return Mn.bindingsEnabled}function We(){return Mn.lFrame.lView}function dr(){return Mn.lFrame.tView}function fh(t){return Mn.lFrame.contextLView=t,t[Dr]}function Qa(t){return Mn.lFrame.contextLView=null,t}function Qr(){let t=hh();for(;null!==t&&64===t.type;)t=t.parent;return t}function hh(){return Mn.lFrame.currentTNode}function Hs(t,i){const o=Mn.lFrame;o.currentTNode=t,o.isParent=i}function m2(){return Mn.lFrame.isParent}function lk(t,i){const o=Mn.lFrame;o.bindingIndex=o.bindingRootIndex=t,gs(i)}function gs(t){Mn.lFrame.currentDirectiveIndex=t}function vh(){return Mn.lFrame.currentQueryIndex}function Gn(t){Mn.lFrame.currentQueryIndex=t}function V8(t){const i=t[dt];return 2===i.type?i.declTNode:1===i.type?t[fs]:null}function yh(t,i,o){if(o&Zn.SkipSelf){let a=i,l=t;for(;!(a=a.parent,null!==a||o&Zn.Host||(a=V8(l),null===a||(l=l[Ol],10&a.type))););if(null===a)return!1;i=a,t=l}const s=Mn.lFrame=D_();return s.currentTNode=i,s.lView=t,!0}function b2(t){const i=D_(),o=t[dt];Mn.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function D_(){const t=Mn.lFrame,i=null===t?null:t.child;return null===i?L1(t):i}function L1(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function T_(){const t=Mn.lFrame;return Mn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const z8=T_;function Gc(){const t=T_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qc(t){Mn.lFrame.selectedIndex=t}let P_=!0;function bh(){return P_}function cc(t){P_=t}function gp(t,i){for(let o=i.directiveStart,s=i.directiveEnd;o<s;o++){const l=t.data[o].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:u,ngAfterViewInit:p,ngAfterViewChecked:h,ngOnDestroy:v}=l;c&&(t.contentHooks??=[]).push(-o,c),u&&((t.contentHooks??=[]).push(o,u),(t.contentCheckHooks??=[]).push(o,u)),p&&(t.viewHooks??=[]).push(-o,p),h&&((t.viewHooks??=[]).push(o,h),(t.viewCheckHooks??=[]).push(o,h)),null!=v&&(t.destroyHooks??=[]).push(o,v)}}function j1(t,i,o){O_(t,i,3,o)}function $1(t,i,o,s){(3&t[Zt])===o&&O_(t,i,o,s)}function V1(t,i){let o=t[Zt];(3&o)===i&&(o&=16383,o+=1,t[Zt]=o)}function O_(t,i,o,s){const l=s??-1,c=i.length-1;let u=0;for(let p=void 0!==s?65535&t[lh]:0;p<c;p++)if("number"==typeof i[p+1]){if(u=i[p],null!=s&&u>=s)break}else i[p]<0&&(t[lh]+=65536),(u<l||-1==l)&&(X8(t,o,i,p),t[lh]=(4294901760&t[lh])+p+2),p++}function W8(t,i){Vs(4,t,i);const o=ht(null);try{i.call(t)}finally{ht(o),Vs(5,t,i)}}function X8(t,i,o,s){const a=o[s]<0,l=o[s+1],u=t[a?-o[s]:o[s]];a?t[Zt]>>14<t[lh]>>16&&(3&t[Zt])===i&&(t[Zt]+=16384,W8(u,l)):W8(u,l)}const vp=-1;class z1{constructor(i,o,s){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=s}}function po(t){return t!==vp}function $u(t){return 32767&t}function G0(t,i){let o=function Z8(t){return t>>16}(t),s=i;for(;o>0;)s=s[Ol],o--;return s}let x2=!0;function U1(t){const i=x2;return x2=t,i}const k_=255,M_=5;let w2=0;const Al={};function yp(t,i){const o=_h(t,i);if(-1!==o)return o;const s=i[dt];s.firstCreatePass&&(t.injectorIndex=i.length,G1(s.data,t),G1(i,null),G1(s.blueprint,null));const a=Vu(t,i),l=t.injectorIndex;if(po(a)){const c=$u(a),u=G0(a,i),p=u[dt].data;for(let h=0;h<8;h++)i[l+h]=u[c+h]|p[c+h]}return i[l+8]=a,l}function G1(t,i){t.push(0,0,0,0,0,0,0,0,i)}function _h(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Vu(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,s=null,a=i;for(;null!==a;){if(s=Eh(a),null===s)return vp;if(o++,a=a[Ol],-1!==s.injectorIndex)return s.injectorIndex|o<<16}return vp}function A_(t,i,o){!function R_(t,i,o){let s;"string"==typeof o?s=o.charCodeAt(0)||0:o.hasOwnProperty(Kf)&&(s=o[Kf]),null==s&&(s=o[Kf]=w2++);const a=s&k_;i.data[t+(a>>M_)]|=1<<a}(t,i,o)}function eS(t,i,o){if(o&Zn.Optional||void 0!==t)return t;Xt()}function q1(t,i,o,s){if(o&Zn.Optional&&void 0===s&&(s=null),!(o&(Zn.Self|Zn.Host))){const a=t[rn],l=Kr(void 0);try{return a?a.get(i,s,o&Zn.Optional):Fy(i,s,o&Zn.Optional)}finally{Kr(l)}}return eS(s,0,o)}function S2(t,i,o,s=Zn.Default,a){if(null!==t){if(2048&i[Zt]&&!(s&Zn.Self)){const c=function pk(t,i,o,s,a){let l=t,c=i;for(;null!==l&&null!==c&&2048&c[Zt]&&!(512&c[Zt]);){const u=C2(l,c,o,s|Zn.Self,Al);if(u!==Al)return u;let p=l.parent;if(!p){const h=c[d_];if(h){const v=h.get(o,Al,s);if(v!==Al)return v}p=Eh(c),c=c[Ol]}l=p}return a}(t,i,o,s,Al);if(c!==Al)return c}const l=C2(t,i,o,s,Al);if(l!==Al)return l}return q1(i,o,s,a)}function C2(t,i,o,s,a){const l=function dk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Kf)?t[Kf]:void 0;return"number"==typeof i?i>=0?i&k_:I_:i}(o);if("function"==typeof l){if(!yh(i,t,s))return s&Zn.Host?eS(a,0,s):q1(i,o,s,a);try{let c;if(c=l(s),null!=c||s&Zn.Optional)return c;Xt()}finally{z8()}}else if("number"==typeof l){let c=null,u=_h(t,i),p=vp,h=s&Zn.Host?i[Ji][fs]:null;for((-1===u||s&Zn.SkipSelf)&&(p=-1===u?Vu(t,i):i[u+8],p!==vp&&rS(s,!1)?(c=i[dt],u=$u(p),i=G0(p,i)):u=-1);-1!==u;){const v=i[dt];if(nS(l,u,v.data)){const y=tS(u,i,o,c,s,h);if(y!==Al)return y}p=i[u+8],p!==vp&&rS(s,i[dt].data[u+8]===h)&&nS(l,u,i)?(c=v,u=$u(p),i=G0(p,i)):u=-1}}return a}function tS(t,i,o,s,a,l){const c=i[dt],u=c.data[t+8],v=W1(u,c,o,null==s?Nu(u)&&x2:s!=c&&!!(3&u.type),a&Zn.Host&&l===u);return null!==v?Wc(i,c,v,u):Al}function W1(t,i,o,s,a){const l=t.providerIndexes,c=i.data,u=1048575&l,p=t.directiveStart,v=l>>20,E=a?u+v:t.directiveEnd;for(let S=s?u:u+v;S<E;S++){const D=c[S];if(S<p&&o===D||S>=p&&D.type===o)return S}if(a){const S=c[p];if(S&&kl(S)&&S.type===o)return p}return null}function Wc(t,i,o,s){let a=t[o];const l=i.data;if(function Y8(t){return t instanceof z1}(a)){const c=a;c.resolving&&function vr(t,i){throw i&&i.join(" > "),new it(-200,t)}(Ur(l[o]));const u=U1(c.canSeeViewProviders);c.resolving=!0;const h=c.injectImpl?Kr(c.injectImpl):null;yh(t,s,Zn.Default);try{a=t[o]=c.factory(void 0,l,t,s),i.firstCreatePass&&o>=s.directiveStart&&function q8(t,i,o){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=i.type.prototype;if(s){const c=s2(i);(o.preOrderHooks??=[]).push(t,c),(o.preOrderCheckHooks??=[]).push(t,c)}a&&(o.preOrderHooks??=[]).push(0-t,a),l&&((o.preOrderHooks??=[]).push(t,l),(o.preOrderCheckHooks??=[]).push(t,l))}(o,l[o],i)}finally{null!==h&&Kr(h),U1(u),c.resolving=!1,z8()}}return a}function nS(t,i,o){return!!(o[i+(t>>M_)]&1<<t)}function rS(t,i){return!(t&Zn.Self||t&Zn.Host&&i)}class Yn{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,s){return S2(this._tNode,this._lView,i,b1(s),o)}}function I_(){return new Yn(Qr(),We())}function D2(t){return us(()=>{const i=t.prototype.constructor,o=i[jc]||q0(i),s=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==s;){const l=a[jc]||q0(a);if(l&&l!==o)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function q0(t){return Pu(t)?()=>{const i=q0(cn(t));return i&&i()}:$c(t)}function Eh(t){const i=t[dt],o=i.type;return 2===o?i.declTNode:1===o?t[fs]:null}function $_(t,i=null,o=null,s){const a=aS(t,i,o,s);return a.resolveInjectorInitializers(),a}function aS(t,i=null,o=null,s,a=new Set){const l=[o||Cr,zO(t)];return s=s||("object"==typeof t?void 0:lo(t)),new sh(l,i||Zy(),s||null,a)}let na=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Qf;static#t=this.NULL=new Js;static create(o,s){if(Array.isArray(o))return $_({name:""},s,o,"");{const a=o.name??"";return $_({name:a},o.parent,o.providers,a)}}static#n=this.\u0275prov=Rt({token:t,providedIn:"any",factory:()=>un(r_)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Ep(t){return t.ngOriginalError}class Za{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ep(i);for(;o&&Ep(o);)o=Ep(o);return o||null}}const lS=new At("",{providedIn:"root",factory:()=>tt(Za).handleError.bind(void 0)});let xp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=xh;static#t=this.__NG_ENV_ID__=o=>o}return t})();class vk extends xp{constructor(i){super(),this._lView=i}onDestroy(i){return f2(this._lView,i),()=>function U0(t,i){if(null===t[$0])return;const o=t[$0].indexOf(i);-1!==o&&t[$0].splice(o,1)}(this._lView,i)}}function xh(){return new vk(We())}function bk(){return X0(Qr(),We())}function X0(t,i){return new ys(zs(t,i))}let ys=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=bk}return t})();function K1(t){return t instanceof ys?t.nativeElement:t}function O2(t){return i=>{setTimeout(t,void 0,i)}}const ts=class _k extends Zs{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,u_()&&(this.destroyRef=tt(xp,{optional:!0})??void 0)}emit(i){const o=ht(null);try{super.next(i)}finally{ht(o)}}subscribe(i,o,s){let a=i,l=o||(()=>null),c=s;if(i&&"object"==typeof i){const p=i;a=p.next?.bind(p),l=p.error?.bind(p),c=p.complete?.bind(p)}this.__isAsync&&(l=O2(l),a&&(a=O2(a)),c&&(c=O2(c)));const u=super.subscribe({next:a,error:l,complete:c});return i instanceof Gt&&i.add(u),u}};function cS(){return this._results[Symbol.iterator]()}class k2{static#e=Symbol.iterator;get changes(){return this._changes??=new ts}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=k2.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=cS)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){this.dirty=!1;const s=function yi(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function FO(t,i,o){if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++){let a=t[s],l=i[s];if(o&&(a=o(a),l=o(l)),l!==a)return!1}return!0}(this._results,s,o))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Z1(t){return!(128&~t.flags)}const J1=new Map;let Ek=0;const eg="__ngContext__";function Ho(t,i){$s(i)?(t[eg]=i[k1],function pS(t){J1.set(t[k1],t)}(i)):t[eg]=i}function X_(t){return Y_(t[P1])}function xS(t){return Y_(t[Ya])}function Y_(t){for(;null!==t&&!hs(t);)t=t[Ya];return t}let Z_;const Ph=new At("",{providedIn:"root",factory:()=>rg}),rg="ng",Il=new At(""),Uo=new At("",{providedIn:"platform",factory:()=>"unknown"}),kS=new At("",{providedIn:"root",factory:()=>function Hu(){if(void 0!==Z_)return Z_;if(typeof document<"u")return document;throw new it(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let e4=()=>null;function cg(t,i,o=!1){return e4(t,i,o)}const a4=new At("",{providedIn:"root",factory:()=>!1});function Ca(t){return t instanceof Function?t():t}var nl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nl||{});let Bh;function Y2(t,i){return Bh(t,i)}function td(t,i,o,s,a){if(null!=s){let l,c=!1;hs(s)?l=s:$s(s)&&(c=!0,s=s[ki]);const u=mi(s);0===t&&null!==o?null==a?R4(i,o,u):rd(i,o,u,a||null,!0):1===t&&null!==o?rd(i,o,u,a||null,!0):2===t?function Qc(t,i,o){const s=Ap(t,i);s&&function eM(t,i,o,s){t.removeChild(i,o,s)}(t,s,i,o)}(i,u,c):3===t&&i.destroyNode(u),null!=l&&function Pg(t,i,o,s,a){const l=o[Ka];l!==mi(o)&&td(i,t,s,l,a);for(let u=co;u<o.length;u++){const p=o[u];Np(p[dt],p,t,i,s,l)}}(i,t,l,o,a)}}function wg(t,i,o){return t.createElement(i,o)}function O4(t,i){i[gt].changeDetectionScheduler?.notify(1),Np(t,i,i[En],2,null,null)}function k4(t,i){const o=t[ch],s=o.indexOf(i);o.splice(s,1)}function nd(t,i){if(t.length<=co)return;const o=co+i,s=t[o];if(s){const a=s[O1];null!==a&&a!==t&&k4(a,s),i>0&&(t[o-1][Ya]=s[Ya]);const l=nh(t,co+i);!function l7(t,i){O4(t,i),i[ki]=null,i[fs]=null}(s[dt],s);const c=l[Iu];null!==c&&c.detachView(l[dt]),s[vo]=null,s[Ya]=null,s[Zt]&=-129}return s}function Cg(t,i){if(!(256&i[Zt])){const o=i[En];o.destroyNode&&Np(t,i,o,3,null,null),function c7(t){let i=t[P1];if(!i)return Q2(t[dt],t);for(;i;){let o=null;if($s(i))o=i[P1];else{const s=i[co];s&&(o=s)}if(!o){for(;i&&!i[Ya]&&i!==t;)$s(i)&&Q2(i[dt],i),i=i[vo];null===i&&(i=t),$s(i)&&Q2(i[dt],i),o=i&&i[Ya]}i=o}}(i)}}function Q2(t,i){if(256&i[Zt])return;const o=ht(null);try{i[Zt]&=-129,i[Zt]|=256,i[V0]&&function zr(t){if(ni(t),Er(t))for(let i=0;i<t.producerNode.length;i++)Ei(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(i[V0]),function d7(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let s=0;s<o.length;s+=2){const a=i[o[s]];if(!(a instanceof z1)){const l=o[s+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const u=a[l[c]],p=l[c+1];Vs(4,u,p);try{p.call(u)}finally{Vs(5,u,p)}}else{Vs(4,a,l);try{l.call(a)}finally{Vs(5,a,l)}}}}}(t,i),function u7(t,i){const o=t.cleanup,s=i[Hc];if(null!==o)for(let l=0;l<o.length-1;l+=2)if("string"==typeof o[l]){const c=o[l+3];c>=0?s[c]():s[-c].unsubscribe(),l+=2}else o[l].call(s[o[l+1]]);null!==s&&(i[Hc]=null);const a=i[$0];if(null!==a){i[$0]=null;for(let l=0;l<a.length;l++)(0,a[l])()}}(t,i),1===i[dt].type&&i[En].destroy();const s=i[O1];if(null!==s&&hs(i[vo])){s!==i[vo]&&k4(s,i);const a=i[Iu];null!==a&&a.detachView(t)}!function hS(t){J1.delete(t[k1])}(i)}finally{ht(o)}}function Rp(t,i,o){return function M4(t,i,o){let s=i;for(;null!==s&&40&s.type;)s=(i=s).parent;if(null===s)return o[ki];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:l}=t.data[s.directiveStart+a];if(l===Tl.None||l===Tl.Emulated)return null}return zs(s,o)}}(t,i.parent,o)}function rd(t,i,o,s,a){t.insertBefore(i,o,s,a)}function R4(t,i,o){t.appendChild(i,o)}function Z2(t,i,o,s,a){null!==s?rd(t,i,o,s,a):R4(t,i,o)}function Ap(t,i){return t.parentNode(i)}let jh,A4=function tb(t,i,o){return 40&t.type?zs(t,o):null};function nb(t,i,o,s){const a=Rp(t,s,i),l=i[En],u=function eb(t,i,o){return A4(t,i,o)}(s.parent||i[fs],s,i);if(null!=a)if(Array.isArray(o))for(let p=0;p<o.length;p++)Z2(l,a,o[p],u,!1);else Z2(l,a,o,u,!1);void 0!==jh&&jh(l,s,i,o,a)}function Ip(t,i){if(null!==i){const o=i.type;if(3&o)return zs(i,t);if(4&o)return Dg(-1,t[i.index]);if(8&o){const s=i.child;if(null!==s)return Ip(t,s);{const a=t[i.index];return hs(a)?Dg(-1,a):mi(a)}}if(32&o)return Y2(i,t)()||mi(t[i.index]);{const s=rb(t,i);return null!==s?Array.isArray(s)?s[0]:Ip(Bu(t[Ji]),s):Ip(t,i.next)}}return null}function rb(t,i){return null!==i?t[Ji][fs].projection[i.projection]:null}function Dg(t,i){const o=co+t+1;if(o<i.length){const s=i[o],a=s[dt].firstChild;if(null!==a)return Ip(s,a)}return i[Ka]}function Tg(t,i,o,s,a,l,c){for(;null!=o;){const u=s[o.index],p=o.type;if(c&&0===i&&(u&&Ho(mi(u),s),o.flags|=2),32&~o.flags)if(8&p)Tg(t,i,o.child,s,a,l,!1),td(i,t,a,u,l);else if(32&p){const h=Y2(o,s);let v;for(;v=h();)td(i,t,a,v,l);td(i,t,a,u,l)}else 16&p?id(t,i,s,o,a,l):td(i,t,a,u,l);o=c?o.projectionNext:o.next}}function Np(t,i,o,s,a,l){Tg(o,s,t.firstChild,i,a,l,!1)}function id(t,i,o,s,a,l){const c=o[Ji],p=c[fs].projection[s.projection];if(Array.isArray(p))for(let h=0;h<p.length;h++)td(i,t,a,p[h],l);else{let h=p;const v=c[vo];Z1(s)&&(h.flags|=128),Tg(t,i,h,v,a,l,!0)}}function N4(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function Og(t,i,o){const{mergedAttrs:s,classes:a,styles:l}=o;null!==s&&xa(t,i,s),null!==a&&N4(t,i,a),null!==l&&function h7(t,i,o){t.setAttribute(i,"style",o)}(t,i,l)}const qn={};function Cn(t,i=Zn.Default){const o=We();return null===o?un(t,i):S2(Qr(),o,cn(t),i)}function m7(t,i,o,s,a,l){const c=ht(null);try{let u=null;a&Fs.SignalBased&&(u=i[s][rt]),null!==u&&void 0!==u.transformFn&&(l=u.transformFn(l)),a&Fs.HasDecoratorInputTransform&&(l=t.inputTransforms[s].call(i,l)),null!==t.setInput?t.setInput(i,u,l,o,s):st(i,u,s,l)}finally{ht(c)}}function ob(t,i,o,s,a,l,c,u,p,h,v){const y=i.blueprint.slice();return y[ki]=a,y[Zt]=204|s,(null!==h||t&&2048&t[Zt])&&(y[Zt]|=2048),wa(y),y[vo]=y[Ol]=t,y[Dr]=o,y[gt]=c||t&&t[gt],y[En]=u||t&&t[En],y[rn]=p||t&&t[rn]||null,y[fs]=l,y[k1]=function dS(){return Ek++}(),y[zi]=v,y[d_]=h,y[Ji]=2==i.type?t[Ji]:y,y}function $h(t,i,o,s,a){let l=t.data[i];if(null===l)l=function sb(t,i,o,s,a){const l=hh(),c=m2(),p=t.data[i]=function iM(t,i,o,s,a,l){let c=i?i.injectorIndex:-1,u=0;return function hp(){return null!==Mn.skipHydrationRootTNode}()&&(u|=128),{type:o,index:s,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,o,i,s,a);return null===t.firstChild&&(t.firstChild=p),null!==l&&(c?null==l.child&&null!==p.parent&&(l.child=p):null===l.next&&(l.next=p,p.prev=l)),p}(t,i,o,s,a),function ak(){return Mn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=o,l.value=s,l.attrs=a;const c=function mh(){const t=Mn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Hs(l,!0),l}function Lp(t,i,o,s){if(0===o)return-1;const a=i.length;for(let l=0;l<o;l++)i.push(s),t.blueprint.push(s),t.data.push(null);return a}function g7(t,i,o,s,a){const l=function vs(){return Mn.lFrame.selectedIndex}(),c=2&s;try{qc(-1),c&&i.length>jn&&function L4(t,i,o,s){if(!s)if(3&~i[Zt]){const l=t.preOrderHooks;null!==l&&$1(i,l,0,o)}else{const l=t.preOrderCheckHooks;null!==l&&j1(i,l,o)}qc(o)}(t,i,jn,!1),Vs(c?2:0,a),o(s,a)}finally{qc(l),Vs(c?3:1,a)}}function ab(t,i,o){if(z0(i)){const s=ht(null);try{const l=i.directiveEnd;for(let c=i.directiveStart;c<l;c++){const u=t.data[c];u.contentQueries&&u.contentQueries(1,o[c],c)}}finally{ht(s)}}}function v7(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=B4(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function B4(t,i,o,s,a,l,c,u,p,h,v){const y=jn+s,E=y+a,S=function od(t,i){const o=[];for(let s=0;s<i;s++)o.push(s<t?null:qn);return o}(y,E),D="function"==typeof h?h():h;return S[dt]={type:t,blueprint:S,template:o,queries:null,viewQuery:u,declTNode:i,data:S.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:D,incompleteFirstPass:!1,ssrId:v}}let cb=()=>null;function y7(t,i,o,s,a){for(let l in i){if(!i.hasOwnProperty(l))continue;const c=i[l];if(void 0===c)continue;s??={};let u,p=Fs.None;Array.isArray(c)?(u=c[0],p=c[1]):u=c;let h=l;if(null!==a){if(!a.hasOwnProperty(l))continue;h=a[l]}0===t?U4(s,o,h,u,p):U4(s,o,h,u)}return s}function U4(t,i,o,s,a){let l;t.hasOwnProperty(o)?(l=t[o]).push(i,s):l=t[o]=[i,s],void 0!==a&&l.push(a)}function X4(t,i,o,s,a,l){for(let h=0;h<s.length;h++)A_(yp(o,i),t,s[h].type);!function w7(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,s.length);for(let h=0;h<s.length;h++){const v=s[h];v.providersResolver&&v.providersResolver(v)}let c=!1,u=!1,p=Lp(t,i,s.length,null);for(let h=0;h<s.length;h++){const v=s[h];o.mergedAttrs=w1(o.mergedAttrs,v.hostAttrs),Rg(t,o,i,p,v),x7(p,v,a),null!==v.contentQueries&&(o.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(o.flags|=64);const y=v.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),c=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),u=!0),p++}!function bs(t,i,o){const a=i.directiveEnd,l=t.data,c=i.attrs,u=[];let p=null,h=null;for(let v=i.directiveStart;v<a;v++){const y=l[v],E=o?o.get(y):null,D=E?E.outputs:null;p=y7(0,y.inputs,v,p,E?E.inputs:null),h=y7(1,y.outputs,v,h,D);const k=null===p||null===c||zy(i)?null:D7(p,v,c);u.push(k)}null!==p&&(p.hasOwnProperty("class")&&(i.flags|=8),p.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=u,i.inputs=p,i.outputs=h}(t,o,l)}function Mg(t,i,o){const s=o.directiveStart,a=o.directiveEnd,l=o.index,c=function v2(){return Mn.lFrame.currentDirectiveIndex}();try{qc(l);for(let u=s;u<a;u++){const p=t.data[u],h=i[u];gs(u),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&Vh(p,h)}}finally{qc(-1),gs(c)}}function Vh(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function K4(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function x7(t,i,o){if(o){if(i.exportAs)for(let s=0;s<i.exportAs.length;s++)o[i.exportAs[s]]=t;kl(i)&&(o[""]=t)}}function Rg(t,i,o,s,a){t.data[s]=a;const l=a.factory||(a.factory=$c(a.type)),c=new z1(l,kl(a),Cn);t.blueprint[s]=c,o[s]=c,function Zc(t,i,o,s,a){const l=a.hostBindings;if(l){let c=t.hostBindingOpCodes;null===c&&(c=t.hostBindingOpCodes=[]);const u=~i.index;(function _7(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(c)!=u&&c.push(u),c.push(o,s,l)}}(t,i,s,Lp(t,o,a.hostVars,qn),a)}function C7(t,i,o,s,a,l){const c=l[i];if(null!==c)for(let u=0;u<c.length;)m7(s,o,c[u++],c[u++],c[u++],c[u++])}function D7(t,i,o){let s=null,a=0;for(;a<o.length;){const l=o[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===s&&(s=[]);const c=t[l];for(let u=0;u<c.length;u+=3)if(c[u]===i){s.push(l,c[u+1],c[u+2],o[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function Z4(t,i){const o=t.contentQueries;if(null!==o){const s=ht(null);try{for(let a=0;a<o.length;a+=2){const c=o[a+1];if(-1!==c){const u=t.data[c];Gn(o[a]),u.contentQueries(2,i[c],c)}}}finally{ht(s)}}}function zh(t,i){return t[P1]?t[dp][Ya]=i:t[P1]=i,t[dp]=i,i}function Hh(t,i,o){Gn(0);const s=ht(null);try{i(t,o)}finally{ht(s)}}function J4(t){return t[Hc]||(t[Hc]=[])}function T7(t){return t.cleanup||(t.cleanup=[])}function ub(t,i){const o=t[rn],s=o?o.get(Za,null):null;s&&s.handleError(i)}function Uh(t,i,o,s,a){for(let l=0;l<o.length;){const c=o[l++],u=o[l++],p=o[l++];m7(t.data[c],i[c],s,u,p,a)}}function aM(t,i){const o=Do(i,t),s=o[dt];!function Fp(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(s,o);const a=o[ki];null!==a&&null===o[zi]&&(o[zi]=cg(a,o[rn])),Gh(s,o,o[Dr])}function Gh(t,i,o){b2(i);try{const s=t.viewQuery;null!==s&&Hh(1,s,o);const a=t.template;null!==a&&g7(t,i,a,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),i[Iu]?.finishViewCreation(t),t.staticContentQueries&&Z4(t,i),t.staticViewQueries&&Hh(2,t.viewQuery,o);const l=t.components;null!==l&&function Ig(t,i){for(let o=0;o<i.length;o++)aM(t,i[o])}(i,l)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{i[Zt]&=-5,Gc()}}function Ta(t,i){return!i||null===i.firstChild||Z1(t)}function qh(t,i,o,s=!0){const a=i[dt];if(function Sg(t,i,o,s){const a=co+s,l=o.length;s>0&&(o[a-1][Ya]=i),s<l-co?(i[Ya]=o[a],x1(o,co+s,i)):(o.push(i),i[Ya]=null),i[vo]=o;const c=i[O1];null!==c&&o!==c&&function Jk(t,i){const o=t[ch];i[Ji]!==i[vo][vo][Ji]&&(t[Zt]|=ic.HasTransplantedViews),null===o?t[ch]=[i]:o.push(i)}(c,i);const u=i[Iu];null!==u&&u.insertView(t),p2(i),i[Zt]|=128}(a,i,t,o),s){const c=Dg(o,t),u=i[En],p=Ap(u,t[Ka]);null!==p&&function Zk(t,i,o,s,a,l){s[ki]=a,s[fs]=i,Np(t,s,o,1,a,l)}(a,t[fs],u,i,p,c)}const l=i[zi];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function Ng(t,i,o,s,a=!1){for(;null!==o;){const l=i[o.index];null!==l&&s.push(mi(l)),hs(l)&&Lg(l,s);const c=o.type;if(8&c)Ng(t,i,o.child,s);else if(32&c){const u=Y2(o,i);let p;for(;p=u();)s.push(p)}else if(16&c){const u=rb(i,o);if(Array.isArray(u))s.push(...u);else{const p=Bu(i[Ji]);Ng(p[dt],p,u,s,!0)}}o=a?o.projectionNext:o.next}return s}function Lg(t,i){for(let o=co;o<t.length;o++){const s=t[o],a=s[dt].firstChild;null!==a&&Ng(s[dt],s,a,i)}t[Ka]!==t[ki]&&i.push(t[Ka])}let Fg=[];const jp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{uo(t.lView)},consumerOnSignalRead(){this.lView[V0]=this}},db=100;function Bg(t,i=!0,o=0){const s=t[gt],a=s.rendererFactory;a.begin?.();try{!function pb(t,i){jg(t,i);let o=0;for(;ph(t);){if(o===db)throw new it(103,!1);o++,jg(t,1)}}(t,o)}catch(c){throw i&&ub(t,c),c}finally{a.end?.(),s.inlineEffectRunner?.flush()}}function cM(t,i,o,s){const a=i[Zt];if(!(256&~a))return;i[gt].inlineEffectRunner?.flush(),b2(i);let c=null,u=null;(function fb(t){return 2!==t.type})(t)&&(u=function Nl(t){return t[V0]??function O7(t){const i=Fg.pop()??Object.create(jp);return i.lView=t,i}(t)}(i),c=function Ot(t){return t&&(t.nextProducerIndex=0),ht(t)}(u));try{wa(i),function g2(t){return Mn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&g7(t,i,o,2,s);const p=!(3&~a);if(p){const y=t.preOrderCheckHooks;null!==y&&j1(i,y,null)}else{const y=t.preOrderHooks;null!==y&&$1(i,y,0,null),V1(i,0)}if(function Mi(t){for(let i=X_(t);null!==i;i=xS(i)){if(!(i[Zt]&ic.HasTransplantedViews))continue;const o=i[ch];for(let s=0;s<o.length;s++){zo(o[s])}}}(i),tE(i,0),null!==t.contentQueries&&Z4(t,i),p){const y=t.contentCheckHooks;null!==y&&j1(i,y)}else{const y=t.contentHooks;null!==y&&$1(i,y,1),V1(i,1)}!function rM(t,i){const o=t.hostBindingOpCodes;if(null!==o)try{for(let s=0;s<o.length;s++){const a=o[s];if(a<0)qc(~a);else{const l=a,c=o[++s],u=o[++s];lk(c,l),u(2,i[l])}}}finally{qc(-1)}}(t,i);const h=t.components;null!==h&&nE(i,h,0);const v=t.viewQuery;if(null!==v&&Hh(2,v,s),p){const y=t.viewCheckHooks;null!==y&&j1(i,y)}else{const y=t.viewHooks;null!==y&&$1(i,y,2),V1(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[pp]){for(const y of i[pp])y();i[pp]=null}i[Zt]&=-73}catch(p){throw uo(i),p}finally{null!==u&&(function ge(t,i){if(ht(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Er(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ei(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(u,c),function k7(t){t.lView[V0]!==t&&(t.lView=null,Fg.push(t))}(u)),Gc()}}function tE(t,i){for(let o=X_(t);null!==o;o=xS(o))for(let s=co;s<o.length;s++)qu(o[s],i)}function uM(t,i,o){qu(Do(i,t),o)}function qu(t,i){E_(t)&&jg(t,i)}function jg(t,i){const s=t[dt],a=t[Zt],l=t[V0];let c=!!(0===i&&16&a);if(c||=!!(64&a&&0===i),c||=!!(1024&a),c||=!(!l?.dirty||!ti(l)),l&&(l.dirty=!1),t[Zt]&=-9217,c)cM(s,t,s.template,t[Dr]);else if(8192&a){tE(t,1);const u=s.components;null!==u&&nE(t,u,1)}}function nE(t,i,o){for(let s=0;s<i.length;s++)uM(t,i[s],o)}function $g(t){for(t[gt].changeDetectionScheduler?.notify();t;){t[Zt]|=64;const i=Bu(t);if(n2(t)&&!i)return t;t=i}return null}class Wh{get rootNodes(){const i=this._lView,o=i[dt];return Ng(o,i,o.firstChild,[])}constructor(i,o,s=!0){this._lView=i,this._cdRefInjectingView=o,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dr]}set context(i){this._lView[Dr]=i}get destroyed(){return!(256&~this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[vo];if(hs(i)){const o=i[8],s=o?o.indexOf(this):-1;s>-1&&(nd(i,s),nh(o,s))}this._attachedToViewContainer=!1}Cg(this._lView[dt],this._lView)}onDestroy(i){f2(this._lView,i)}markForCheck(){$g(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-129}reattach(){p2(this._lView),this._lView[Zt]|=128}detectChanges(){this._lView[Zt]|=1024,Bg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new it(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,O4(this._lView[dt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new it(902,!1);this._appRef=i,p2(this._lView)}}let hc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ll}return t})();const rE=hc,dM=class extends rE{constructor(i,o,s){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,s){const a=function Bp(t,i,o,s){const a=ht(null);try{const l=i.tView,p=ob(t,l,o,4096&t[Zt]?4096:16,null,i,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);p[O1]=t[i.index];const v=t[Iu];return null!==v&&(p[Iu]=v.createEmbeddedView(l)),Gh(l,p,o),p}finally{ht(a)}}(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:o,dehydratedView:s});return new Wh(a)}};function Ll(){return _s(Qr(),We())}function _s(t,i){return 4&t.type?new dM(i,t,X0(t,i)):null}class Vp{}class L7{}class uE{}class dE{resolveComponentFactory(i){throw function gM(t){const i=Error(`No component factory found for ${lo(t)}.`);return i.ngComponent=t,i}(i)}}let pd=(()=>{class t{static#e=this.NULL=new dE}return t})();class Zh{}let Eb=(()=>{class t{static#e=this.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>null})}return t})();const pE={},j7=new Set;function mc(t){j7.has(t)||(j7.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fE(...t){}class Lr{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ts(!1),this.onMicrotaskEmpty=new ts(!1),this.onStable=new ts(!1),this.onError=new ts(!1),typeof Zone>"u")throw new it(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&o,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function Es(){const t="function"==typeof rr.requestAnimationFrame;let i=rr[t?"requestAnimationFrame":"setTimeout"],o=rr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const s=i[Zone.__symbol__("OriginalDelegate")];s&&(i=s);const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function bM(t){const i=()=>{!function $7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xb(t),t.isCheckStableRunning=!0,em(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,s,a,l,c,u)=>{if(function _M(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(u))return o.invokeTask(a,l,c,u);try{return hE(t),o.invokeTask(a,l,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&i(),wb(t)}},onInvoke:(o,s,a,l,c,u,p)=>{try{return hE(t),o.invoke(a,l,c,u,p)}finally{t.shouldCoalesceRunChangeDetection&&i(),wb(t)}},onHasTask:(o,s,a,l)=>{o.hasTask(a,l),s===a&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,xb(t),em(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(o,s,a,l)=>(o.handleError(a,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lr.isInAngularZone())throw new it(909,!1)}static assertNotInAngularZone(){if(Lr.isInAngularZone())throw new it(909,!1)}run(i,o,s){return this._inner.run(i,o,s)}runTask(i,o,s,a){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+a,i,yM,fE,fE);try{return l.runTask(c,o,s)}finally{l.cancelTask(c)}}runGuarded(i,o,s){return this._inner.runGuarded(i,o,s)}runOutsideAngular(i){return this._outer.run(i)}}const yM={};function em(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wb(t){t._nesting--,em(t)}class V7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ts,this.onMicrotaskEmpty=new ts,this.onStable=new ts,this.onError=new ts}run(i,o,s){return i.apply(o,s)}runGuarded(i,o,s){return i.apply(o,s)}runOutsideAngular(i){return i()}runTask(i,o,s,a){return i.apply(o,s)}}var Ku=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ku||{});const mE={destroy(){}};function gE(t,i){!i&&function D1(t){if(!u_())throw new it(-203,!1)}();const o=i?.injector??tt(na);if(!function Da(t){return"browser"===(t??tt(na)).get(Uo)}(o))return mE;mc("NgAfterNextRender");const s=o.get(fd),a=s.handler??=new Cb,l=i?.phase??Ku.MixedReadWrite,c=()=>{a.unregister(p),u()},u=o.get(xp).onDestroy(c),p=es(o,()=>new U7(l,()=>{c(),t()}));return a.register(p),{destroy:c}}class U7{constructor(i,o){this.phase=i,this.callbackFn=o,this.zone=tt(Lr),this.errorHandler=tt(Za,{optional:!0}),tt(Vp,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class Cb{constructor(){this.executingCallbacks=!1,this.buckets={[Ku.EarlyRead]:new Set,[Ku.Write]:new Set,[Ku.MixedReadWrite]:new Set,[Ku.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const o of i)o.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let fd=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of o)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>new t})}return t})();function rv(t,i,o){let s=o?t.styles:null,a=o?t.classes:null,l=0;if(null!==i)for(let c=0;c<i.length;c++){const u=i[c];"number"==typeof u?l=u:1==l?a=Du(a,u):2==l&&(s=Du(s,u+": "+i[++c]+";"))}o?t.styles=s:t.stylesWithoutHost=s,o?t.classes=a:t.classesWithoutHost=a}class Tb extends pd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Hn(i);return new iv(o,this.ngModule)}}function yE(t){const i=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];void 0!==s&&i.push({propName:Array.isArray(s)?s[0]:s,templateName:o})}return i}class Pb{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,s){s=b1(s);const a=this.injector.get(i,pE,s);return a!==pE||o===pE?a:this.parentInjector.get(i,o,s)}}class iv extends uE{get inputs(){const i=this.componentDef,o=i.inputTransforms,s=yE(i.inputs);if(null!==o)for(const a of s)o.hasOwnProperty(a.propName)&&(a.transform=o[a.propName]);return s}get outputs(){return yE(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Uy(t){return t.map($O).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,s,a){const l=ht(null);try{let c=(a=a||this.ngModule)instanceof qr?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const u=c?new Pb(i,c):i,p=u.get(Zh,null);if(null===p)throw new it(407,!1);const h=u.get(Eb,null),E={rendererFactory:p,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:u.get(fd,null),changeDetectionScheduler:u.get(Vp,null)},S=p.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",k=s?function j4(t,i,o,s){const l=s.get(a4,!1)||o===Tl.ShadowDom,c=t.selectRootElement(i,l);return function $4(t){cb(t)}(c),c}(S,s,this.componentDef.encapsulation,u):wg(S,D,function gd(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(D));let R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let L=null;null!==k&&(L=cg(k,u,!0));const N=B4(0,null,null,1,0,null,null,null,null,null,null),B=ob(null,N,null,R,null,null,E,S,u,null,L);let $,q;b2(B);try{const ee=this.componentDef;let ae,te=null;ee.findHostDirectiveDefs?(ae=[],te=new Map,ee.findHostDirectiveDefs(ee,ae,te),ae.push(ee)):ae=[ee];const ne=function G7(t,i){const o=t[dt],s=jn;return t[s]=i,$h(o,s,2,"#host",null)}(B,k),he=function _E(t,i,o,s,a,l,c){const u=a[dt];!function ia(t,i,o,s){for(const a of t)i.mergedAttrs=w1(i.mergedAttrs,a.hostAttrs);null!==i.mergedAttrs&&(rv(i,i.mergedAttrs,!0),null!==o&&Og(s,o,i))}(s,t,i,c);let p=null;null!==i&&(p=cg(i,a[rn]));const h=l.rendererFactory.createRenderer(i,o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const y=ob(a,v7(o),null,v,a[t.index],t,l,h,null,null,p);return u.firstCreatePass&&K4(u,t,s.length-1),zh(a,y),a[t.index]=y}(ne,k,ee,ae,B,E,S);q=function Ml(t,i){return t.data[i]}(N,jn),k&&function q7(t,i,o,s){if(s)xa(t,o,["ng-version","17.3.10"]);else{const{attrs:a,classes:l}=function S8(t){const i=[],o=[];let s=1,a=2;for(;s<t.length;){let l=t[s];if("string"==typeof l)2===a?""!==l&&i.push(l,t[++s]):8===a&&o.push(l);else{if(!Pl(a))break;a=l}s++}return{attrs:i,classes:o}}(i.selectors[0]);a&&xa(t,o,a),l&&l.length>0&&N4(t,o,l.join(" "))}}(S,ee,k,s),void 0!==o&&function xM(t,i,o){const s=t.projection=[];for(let a=0;a<i.length;a++){const l=o[a];s.push(null!=l?Array.from(l):null)}}(q,this.ngContentSelectors,o),$=function EM(t,i,o,s,a,l){const c=Qr(),u=a[dt],p=zs(c,a);X4(u,a,c,o,null,s);for(let v=0;v<o.length;v++)Ho(Wc(a,u,c.directiveStart+v,c),a);Mg(u,a,c),p&&Ho(p,a);const h=Wc(a,u,c.directiveStart+c.componentOffset,c);if(t[Dr]=a[Dr]=h,null!==l)for(const v of l)v(h,i);return ab(u,c,a),h}(he,ee,ae,te,B,[Ob]),Gh(N,B,null)}finally{Gc()}return new bE(this.componentType,$,X0(q,B),B,q)}finally{ht(l)}}}class bE extends L7{constructor(i,o,s,a,l){super(),this.location=s,this._rootLView=a,this._tNode=l,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Wh(a,void 0,!1),this.componentType=i}setInput(i,o){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const l=this._rootLView;Uh(l[dt],l,a,i,o),this.previousInputValues.set(i,o),$g(Do(this._tNode.index,l))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ob(){const t=Qr();gp(We()[dt],t)}let Bl=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=EE}return t})();function EE(){return SE(Qr(),We())}const W7=Bl,xE=class extends W7{constructor(i,o,s){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=s}get element(){return X0(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const i=Vu(this._hostTNode,this._hostLView);if(po(i)){const o=G0(i,this._hostLView),s=$u(i);return new Yn(o[dt].data[s+8],o)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=wE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-co}createEmbeddedView(i,o,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const u=i.createEmbeddedViewImpl(o||{},l,null);return this.insertImpl(u,a,Ta(this._hostTNode,null)),u}createComponent(i,o,s,a,l){const c=i&&!function ii(t){return"function"==typeof t}(i);let u;if(c)u=o;else{const D=o||{};u=D.index,s=D.injector,a=D.projectableNodes,l=D.environmentInjector||D.ngModuleRef}const p=c?i:new iv(Hn(i)),h=s||this.parentInjector;if(!l&&null==p.ngModule){const k=(c?h:this.parentInjector).get(qr,null);k&&(l=k)}Hn(p.componentType??{});const S=p.create(h,a,null,l);return this.insertImpl(S.hostView,u,Ta(this._hostTNode,null)),S}insert(i,o){return this.insertImpl(i,o,!0)}insertImpl(i,o,s){const a=i._lView;if(function ik(t){return hs(t[vo])}(a)){const u=this.indexOf(i);if(-1!==u)this.detach(u);else{const p=a[vo],h=new xE(p,p[fs],p[vo]);h.detach(h.indexOf(i))}}const l=this._adjustIndex(o),c=this._lContainer;return qh(c,a,l,s),i.attachToViewContainerRef(),x1(kb(c),l,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=wE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),s=nd(this._lContainer,o);s&&(nh(kb(this._lContainer),o),Cg(s[dt],s))}detach(i){const o=this._adjustIndex(i,-1),s=nd(this._lContainer,o);return s&&null!=nh(kb(this._lContainer),o)?new Wh(s):null}_adjustIndex(i,o=0){return i??this.length+o}};function wE(t){return t[8]}function kb(t){return t[8]||(t[8]=[])}function SE(t,i){let o;const s=i[t.index];return hs(s)?o=s:(o=function Q4(t,i,o,s){return[t,!0,0,i,null,s,null,o,null,null]}(s,i,null,t),i[t.index]=o,zh(i,o)),CE(o,i,t,s),new xE(o,t,i)}let CE=function Rb(t,i,o,s){if(t[Ka])return;let a;a=8&o.type?mi(s):function wM(t,i){const o=t[En],s=o.createComment(""),a=zs(i,t);return rd(o,Ap(o,a),s,function J2(t,i){return t.nextSibling(i)}(o,a),!1),s}(i,o),t[Ka]=a};class TE{constructor(i){this.queryList=i,this.matches=null}clone(){return new TE(this.queryList)}setDirty(){this.queryList.setDirty()}}class PE{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const s=null!==i.contentQueries?i.contentQueries[0]:o.length,a=[];for(let l=0;l<s;l++){const c=o.getByIndex(l);a.push(this.queries[c.indexInDeclarationView].clone())}return new PE(a)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==LE(i,o).matches&&this.queries[o].setDirty()}}class OE{constructor(i,o,s=null){this.flags=o,this.read=s,this.predicate="string"==typeof i?function IE(t){return t.split(",").map(i=>i.trim())}(i):i}}class Qu{constructor(i=[]){this.queries=i}elementStart(i,o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let s=0;s<this.length;s++){const a=null!==o?o.length:0,l=this.getByIndex(s).embeddedTView(i,a);l&&(l.indexInDeclarationView=s,null!==o?o.push(l):o=[l])}return null!==o?new Qu(o):null}template(i,o){for(let s=0;s<this.queries.length;s++)this.queries[s].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ov{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ov(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let s=i.parent;for(;null!==s&&8&s.type&&s.index!==o;)s=s.parent;return o===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(i,o,SM(o,l)),this.matchTNodeWithReadOption(i,o,W1(o,i,l,!1,!1))}else s===hc?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,W1(o,i,s,!1,!1))}matchTNodeWithReadOption(i,o,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===ys||a===Bl||a===hc&&4&o.type)this.addMatch(o.index,-2);else{const l=W1(o,i,a,!1,!1);null!==l&&this.addMatch(o.index,l)}else this.addMatch(o.index,s)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function SM(t,i){const o=t.localNames;if(null!==o)for(let s=0;s<o.length;s+=2)if(o[s]===i)return o[s+1];return null}function K7(t,i,o,s){return-1===o?function kE(t,i){return 11&t.type?X0(t,i):4&t.type?_s(t,i):null}(i,t):-2===o?function nm(t,i,o){return o===ys?X0(i,t):o===hc?_s(i,t):o===Bl?SE(i,t):void 0}(t,i,s):Wc(t,t[dt],o,i)}function ME(t,i,o,s){const a=i[Iu].queries[s];if(null===a.matches){const l=t.data,c=o.matches,u=[];for(let p=0;null!==c&&p<c.length;p+=2){const h=c[p];u.push(h<0?null:K7(i,l[h],c[p+1],o.metadata.read))}a.matches=u}return a.matches}function RE(t,i,o,s){const a=t.queries.getByIndex(o),l=a.matches;if(null!==l){const c=ME(t,i,a,o);for(let u=0;u<l.length;u+=2){const p=l[u];if(p>0)s.push(c[u/2]);else{const h=l[u+1],v=i[-p];for(let y=co;y<v.length;y++){const E=v[y];E[O1]===E[vo]&&RE(E[dt],E,h,s)}if(null!==v[ch]){const y=v[ch];for(let E=0;E<y.length;E++){const S=y[E];RE(S[dt],S,h,s)}}}}}return s}function Hp(t,i,o){const s=dr();return s.firstCreatePass&&(function Z7(t,i,o){null===t.queries&&(t.queries=new Qu),t.queries.track(new ov(i,o))}(s,new OE(t,i,o),-1),!(2&~i)&&(s.staticViewQueries=!0)),function AE(t,i,o){const s=new k2(!(4&~o));return function H4(t,i,o,s){const a=J4(i);a.push(o),t.firstCreatePass&&T7(t).push(s,a.length-1)}(t,i,s,s.destroy),(i[Iu]??=new PE).queries.push(new TE(s))-1}(s,We(),i)}function LE(t,i){return t.queries.getByIndex(i)}function Ib(t,i){const o=t[dt],s=LE(o,i);return s.crossesNgTemplate?RE(o,t,i,[]):ME(o,t,s,i)}class wt{}class pr{}class qs extends wt{constructor(i,o,s){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tb(this);const a=Gr(i);this._bootstrapComponents=Ca(a.bootstrap),this._r3Injector=aS(i,o,[{provide:wt,useValue:this},{provide:pd,useValue:this.componentFactoryResolver},...s],lo(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Wr extends pr{constructor(i){super(),this.moduleType=i}create(i){return new qs(this.moduleType,i,[])}}class Mr extends wt{constructor(i){super(),this.componentFactoryResolver=new Tb(this),this.instance=null;const o=new sh([...i.providers,{provide:wt,useValue:this},{provide:pd,useValue:this.componentFactoryResolver}],i.parent||Zy(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function si(t,i,o=null){return new Mr({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let _r=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VM(t,i,o,s,a){const c=a?"class":"style";Uh(t,o,i.inputs[c],c,s)}function yv(t,i,o,s){const a=We(),l=dr(),c=jn+t,u=a[En],p=l.firstCreatePass?function yde(t,i,o,s,a,l){const c=i.consts,p=$h(i,t,2,s,ac(c,a));return function sd(t,i,o,s){if(F8()){const a=null===s?null:{"":-1},l=function oM(t,i){const o=t.directiveRegistry;let s=null,a=null;if(o)for(let l=0;l<o.length;l++){const c=o[l];if(E8(i,c.selectors,!1))if(s||(s=[]),kl(c))if(null!==c.findHostDirectiveDefs){const u=[];a=a||new Map,c.findHostDirectiveDefs(c,u,a),s.unshift(...u,c),K4(t,i,u.length)}else s.unshift(c),K4(t,i,0);else a=a||new Map,c.findHostDirectiveDefs?.(c,s,a),s.push(c)}return null===s?null:[s,a]}(t,o);let c,u;null===l?c=u=null:[c,u]=l,null!==c&&X4(t,i,o,c,a,u),a&&function E7(t,i,o){if(i){const s=t.localNames=[];for(let a=0;a<i.length;a+=2){const l=o[i[a+1]];if(null==l)throw new it(-301,!1);s.push(i[a],l)}}}(o,s,a)}o.mergedAttrs=w1(o.mergedAttrs,o.attrs)}(i,o,p,ac(c,l)),null!==p.attrs&&rv(p,p.attrs,!1),null!==p.mergedAttrs&&rv(p,p.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,p),p}(c,l,a,i,o,s):l.data[c],h=Nz(l,a,p,u,i,t);a[c]=h;const v=oc(p);return Hs(p,!0),Og(u,h,p),!function rm(t){return!(32&~t.flags)}(p)&&bh()&&nb(l,a,h,p),0===function sk(){return Mn.lFrame.elementDepthCount}()&&Ho(h,a),function h2(){Mn.lFrame.elementDepthCount++}(),v&&(function F4(t,i,o){F8()&&(function Y4(t,i,o,s){const a=o.directiveStart,l=o.directiveEnd;Nu(o)&&function S7(t,i,o){const s=zs(i,t),a=v7(o);let c=16;o.signals?c=4096:o.onPush&&(c=64);const u=zh(t,ob(t,a,null,c,s,i,null,t[gt].rendererFactory.createRenderer(s,o),null,null,null));t[i.index]=u}(i,o,t.data[a+o.componentOffset]),t.firstCreatePass||yp(o,i),Ho(s,i);const c=o.initialInputs;for(let u=a;u<l;u++){const p=t.data[u],h=Wc(i,t,u,o);Ho(h,i),null!==c&&C7(0,u-a,h,p,0,c),kl(p)&&(Do(o.index,i)[Dr]=Wc(i,t,u,o))}}(t,i,o,zs(o,i)),!(64&~o.flags)&&Mg(t,i,o))}(l,a,p),ab(l,p,a)),null!==s&&function lb(t,i,o=zs){const s=i.localNames;if(null!==s){let a=i.index+1;for(let l=0;l<s.length;l+=2){const c=s[l+1],u=-1===c?o(i,t):t[c];t[a++]=u}}}(a,p),yv}function dm(){let t=Qr();m2()?function gh(){Mn.lFrame.isParent=!1}():(t=t.parent,Hs(t,!1));const i=t;(function N1(t){return Mn.skipHydrationRootTNode===t})(i)&&function w_(){Mn.skipHydrationRootTNode=null}(),function L8(){Mn.lFrame.elementDepthCount--}();const o=dr();return o.firstCreatePass&&(gp(o,t),z0(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function H1(t){return!!(8&t.flags)}(i)&&VM(o,i,We(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function To(t){return!!(16&t.flags)}(i)&&VM(o,i,We(),i.stylesWithoutHost,!1),dm}function KE(t,i,o,s){return yv(t,i,o,s),dm(),KE}let Nz=(t,i,o,s,a,l)=>(cc(!0),wg(s,a,function B1(){return Mn.lFrame.currentNamespace}()));const i3="en-US";let Hz=i3;function o3(t,i,o,s){const a=We(),l=dr(),c=Qr();return function QM(t,i,o,s,a,l,c){const u=oc(s),h=t.firstCreatePass&&T7(t),v=i[Dr],y=J4(i);let E=!0;if(3&s.type||c){const k=zs(s,i),R=c?c(k):k,L=y.length,N=c?$=>c(mi($[s.index])):s.index;let B=null;if(!c&&u&&(B=function xpe(t,i,o,s){const a=t.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const c=a[l];if(c===o&&a[l+1]===s){const u=i[Hc],p=a[l+2];return u.length>p?u[p]:null}"string"==typeof c&&(l+=2)}return null}(t,i,a,s.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=l,B.__ngLastListenerFn__=l,E=!1;else{l=vH(s,i,v,l,!1);const $=o.listen(R,a,l);y.push(l,$),h&&h.push(a,N,L,L+1)}}else l=vH(s,i,v,l,!1);const S=s.outputs;let D;if(E&&null!==S&&(D=S[a])){const k=D.length;if(k)for(let R=0;R<k;R+=2){const q=i[D[R]][D[R+1]].subscribe(l),ee=y.length;y.push(l,q),h&&h.push(a,s.index,ee,-(ee+1))}}}(l,a,a[En],c,t,i,s),o3}function gH(t,i,o,s){const a=ht(null);try{return Vs(6,i,o),!1!==o(s)}catch(l){return ub(t,l),!1}finally{Vs(7,i,o),ht(a)}}function vH(t,i,o,s,a){return function l(c){if(c===Function)return s;$g(t.componentOffset>-1?Do(t.index,i):i);let p=gH(i,o,s,c),h=l.__ngNextListenerFn__;for(;h;)p=gH(i,o,h,c)&&p,h=h.__ngNextListenerFn__;return a&&!1===p&&c.preventDefault(),p}}function JM(t,i,o){Hp(t,i,o)}function _C(t){const i=We(),o=dr(),s=vh();Gn(s+1);const a=LE(o,s);if(t.dirty&&function rk(t){return!(4&~t[Zt])}(i)===!(2&~a.metadata.flags)){if(null===a.matches)t.reset([]);else{const l=Ib(i,s);t.reset(l,K1),t.notifyOnChanges()}return!0}return!1}function EC(){return function Ab(t,i){return t[Iu].queries[i].queryList}(We(),vh())}function rx(t,i=""){const o=We(),s=dr(),a=t+jn,l=s.firstCreatePass?$h(s,a,1,i,null):s.data[a],c=FH(s,o,l,i,t);o[a]=c,bh()&&nb(s,o,c,l),Hs(l,!1)}let FH=(t,i,o,s,a)=>(cc(!0),function K2(t,i){return t.createText(i)}(i[En],s)),Ype=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const s=qy(0,o.type),a=s.length>0?si([s],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,a)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Rt({token:t,providedIn:"environment",factory:()=>new t(un(qr))})}return t})();function KH(t){mc("NgStandalone"),t.getStandaloneInjector=i=>i.get(Ype).getOrCreateStandaloneInjector(t)}let yU=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const wU=new At(""),DC=new At("");let pR,uR=(()=>{class t{constructor(o,s,a){this._ngZone=o,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,pR||(function lhe(t){pR=t}(a),a.addToWindow(s)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(o)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),o()},s)),this._callbacks.push({doneCb:o,timeoutId:l,updateCb:a})}whenStable(o,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,s,a){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(un(Lr),un(dR),un(DC))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})(),dR=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,s){this._applications.set(o,s)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,s=!0){return pR?.findTestabilityInTree(this,o,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function TC(t){return!!t&&"function"==typeof t.then}function SU(t){return!!t&&"function"==typeof t.subscribe}const fR=new At("");let hR=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,s)=>{this.resolve=o,this.reject=s}),this.appInits=tt(fR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const a of this.appInits){const l=a();if(TC(l))o.push(l);else if(SU(l)){const c=new Promise((u,p)=>{l.subscribe({complete:u,error:p})});o.push(c)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{s()}).catch(a=>{this.reject(a)}),0===o.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mR=new At("");function TU(t,i){return Array.isArray(i)?i.reduce(TU,t):{...t,...i}}let pm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tt(lS),this.afterRenderEffectManager=tt(fd),this.externalTestViews=new Set,this.beforeRender=new Zs,this.afterTick=new Zs,this.componentTypes=[],this.components=[],this.isStable=tt(_r).hasPendingTasks.pipe(Sr(o=>!o)),this._injector=tt(qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,s){const a=o instanceof uE;if(!this._injector.get(hR).done)throw!a&&function rc(t){const i=Hn(t)||Zi(t)||$o(t);return null!==i&&i.standalone}(o),new it(405,!1);let c;c=a?o:this._injector.get(pd).resolveComponentFactory(o),this.componentTypes.push(c.componentType);const u=function che(t){return t.isBoundToModule}(c)?void 0:this._injector.get(wt),h=c.create(na.NULL,[],s||c.selector,u),v=h.location.nativeElement,y=h.injector.get(wU,null);return y?.registerApplication(v),h.onDestroy(()=>{this.detachView(h.hostView),PC(this.components,h),y?.unregisterApplication(v)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new it(101,!1);const s=ht(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(a){this.internalErrorHandler(a)}finally{this.afterTick.next(),this._runningTick=!1,ht(s)}}detectChangesInAttachedViews(o){let s=0;const a=this.afterRenderEffectManager;for(;;){if(s===db)throw new it(103,!1);if(o){const l=0===s;this.beforeRender.next(l);for(let{_lView:c,notifyErrorHandler:u}of this._views)dhe(c,l,u)}if(s++,a.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>gR(l))&&(a.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>gR(l))))break}}attachView(o){const s=o;this._views.push(s),s.attachToAppRef(this)}detachView(o){const s=o;PC(this._views,s),s.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const s=this._injector.get(mR,[]);[...this._bootstrapListeners,...s].forEach(a=>a(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>PC(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new it(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PC(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}function dhe(t,i,o){!i&&!gR(t)||function phe(t,i,o){let s;o?(s=0,t[Zt]|=1024):s=64&t[Zt]?0:1,Bg(t,i,s)}(t,o,i)}function gR(t){return ph(t)}class fhe{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let PU=(()=>{class t{compileModuleSync(o){return new Wr(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const s=this.compileModuleSync(o),l=Ca(Gr(o).declarations).reduce((c,u)=>{const p=Hn(u);return p&&c.push(new iv(p)),c},[]);return new fhe(s,l)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ghe=(()=>{class t{constructor(){this.zone=tt(Lr),this.applicationRef=tt(pm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vhe(){const t=tt(Lr),i=tt(Za);return o=>t.runOutsideAngular(()=>i.handleError(o))}let bhe=(()=>{class t{constructor(){this.subscription=new Gt,this.initialized=!1,this.zone=tt(Lr),this.pendingTasks=tt(_r)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Lr.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Lr.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ef=new At("",{providedIn:"root",factory:()=>tt(ef,Zn.Optional|Zn.SkipSelf)||function _he(){return typeof $localize<"u"&&$localize.locale||i3}()}),vR=new At("");let RU=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,s){const a=function z7(t="zone.js",i){return"noop"===t?new V7:"zone.js"===t?new Lr(i):t}(s?.ngZone,function MU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return a.run(()=>{const l=function bi(t,i,o){return new qs(t,i,o)}(o.moduleType,this.injector,function kU(t){return[{provide:Lr,useFactory:t},{provide:Ru,multi:!0,useFactory:()=>{const i=tt(ghe,{optional:!0});return()=>i.initialize()}},{provide:Ru,multi:!0,useFactory:()=>{const i=tt(bhe);return()=>{i.initialize()}}},{provide:lS,useFactory:vhe}]}(()=>a)),c=l.injector.get(Za,null);return a.runOutsideAngular(()=>{const u=a.onError.subscribe({next:p=>{c.handleError(p)}});l.onDestroy(()=>{PC(this._modules,l),u.unsubscribe()})}),function DU(t,i,o){try{const s=o();return TC(s)?s.catch(a=>{throw i.runOutsideAngular(()=>t.handleError(a)),a}):s}catch(s){throw i.runOutsideAngular(()=>t.handleError(s)),s}}(c,a,()=>{const u=l.injector.get(hR);return u.runInitializers(),u.donePromise.then(()=>(function Uz(t){"string"==typeof t&&(Hz=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ef,i3)||i3),this._moduleDoBootstrap(l),l))})})}bootstrapModule(o,s=[]){const a=TU({},s);return function mhe(t,i,o){const s=new Wr(o);return Promise.resolve(s)}(0,0,o).then(l=>this.bootstrapModuleFactory(l,a))}_moduleDoBootstrap(o){const s=o.injector.get(pm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!o.instance.ngDoBootstrap)throw new it(-403,!1);o.instance.ngDoBootstrap(s)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const o=this._injector.get(vR,null);o&&(o.forEach(s=>s()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(un(na))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),fm=null;const AU=new At("");function IU(t,i,o=[]){const s=`Platform: ${i}`,a=new At(s);return(l=[])=>{let c=yR();if(!c||c.injector.get(AU,!1)){const u=[...o,...l,{provide:a,useValue:!0}];t?t(u):function whe(t){if(fm&&!fm.get(AU,!1))throw new it(400,!1);(function CU(){!function je(t){ls=t}(()=>{throw new it(600,!1)})})(),fm=t;const i=t.get(RU);(function LU(t){t.get(Il,null)?.forEach(o=>o())})(t)}(function NU(t=[],i){return na.create({name:i,providers:[{provide:l_,useValue:"platform"},{provide:vR,useValue:new Set([()=>fm=null])},...t]})}(u,s))}return function She(t){const i=yR();if(!i)throw new it(401,!1);return i}()}}function yR(){return fm?.get(RU)??null}let kC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Dhe}return t})();function Dhe(t){return function The(t,i,o){if(Nu(t)&&!o){const s=Do(t.index,i);return new Wh(s,s)}return 47&t.type?new Wh(i[Ji],i):null}(Qr(),We(),!(16&~t))}const jhe=IU(null,"core",[]);let $he=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(s){return new(s||t)(un(pm))};static#t=this.\u0275mod=Bs({type:t});static#n=this.\u0275inj=Yr({})}return t})(),mG=null;function c3(){return mG}class wme{}const vc=new At("");let TR=(()=>{class t{historyGo(o){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>tt(Cme),providedIn:"platform"})}return t})();const Sme=new At("");let Cme=(()=>{class t extends TR{constructor(){super(),this._doc=tt(vc),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c3().getBaseHref(this._doc)}onPopState(o){const s=c3().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",o,!1),()=>s.removeEventListener("popstate",o)}onHashChange(o){const s=c3().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",o,!1),()=>s.removeEventListener("hashchange",o)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(o){this._location.pathname=o}pushState(o,s,a){this._history.pushState(o,s,a)}replaceState(o,s,a){this._history.replaceState(o,s,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function PR(t,i){if(0==t.length)return i;if(0==i.length)return t;let o=0;return t.endsWith("/")&&o++,i.startsWith("/")&&o++,2==o?t+i.substring(1):1==o?t+i:t+"/"+i}function gG(t){const i=t.match(/#|\?|$/),o=i&&i.index||t.length;return t.slice(0,o-("/"===t[o-1]?1:0))+t.slice(o)}function tf(t){return t&&"?"!==t[0]?"?"+t:t}let Ev=(()=>{class t{historyGo(o){throw new Error("")}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>tt(yG),providedIn:"root"})}return t})();const vG=new At("");let yG=(()=>{class t extends Ev{constructor(o,s){super(),this._platformLocation=o,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??tt(vc).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return PR(this._baseHref,o)}path(o=!1){const s=this._platformLocation.pathname+tf(this._platformLocation.search),a=this._platformLocation.hash;return a&&o?`${s}${a}`:s}pushState(o,s,a,l){const c=this.prepareExternalUrl(a+tf(l));this._platformLocation.pushState(o,s,c)}replaceState(o,s,a,l){const c=this.prepareExternalUrl(a+tf(l));this._platformLocation.replaceState(o,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}static#e=this.\u0275fac=function(s){return new(s||t)(un(TR),un(vG,8))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dme=(()=>{class t extends Ev{constructor(o,s){super(),this._platformLocation=o,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}path(o=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(o){const s=PR(this._baseHref,o);return s.length>0?"#"+s:s}pushState(o,s,a,l){let c=this.prepareExternalUrl(a+tf(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(o,s,c)}replaceState(o,s,a,l){let c=this.prepareExternalUrl(a+tf(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(o,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}static#e=this.\u0275fac=function(s){return new(s||t)(un(TR),un(vG,8))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})(),ux=(()=>{class t{constructor(o){this._subject=new ts,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=o;const s=this._locationStrategy.getBaseHref();this._basePath=function Ome(t){if(new RegExp("^(https?:)?//").test(t)){const[,o]=t.split(/\/\/[^\/]+/);return o}return t}(gG(bG(s))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(o=!1){return this.normalize(this._locationStrategy.path(o))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(o,s=""){return this.path()==this.normalize(o+tf(s))}normalize(o){return t.stripTrailingSlash(function Pme(t,i){if(!t||!i.startsWith(t))return i;const o=i.substring(t.length);return""===o||["/",";","?","#"].includes(o[0])?o:i}(this._basePath,bG(o)))}prepareExternalUrl(o){return o&&"/"!==o[0]&&(o="/"+o),this._locationStrategy.prepareExternalUrl(o)}go(o,s="",a=null){this._locationStrategy.pushState(a,"",o,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+tf(s)),a)}replaceState(o,s="",a=null){this._locationStrategy.replaceState(a,"",o,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+tf(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(o=0){this._locationStrategy.historyGo?.(o)}onUrlChange(o){return this._urlChangeListeners.push(o),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(o);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(o="",s){this._urlChangeListeners.forEach(a=>a(o,s))}subscribe(o,s,a){return this._subject.subscribe({next:o,error:s,complete:a})}static#e=this.normalizeQueryParams=tf;static#t=this.joinWithSlash=PR;static#n=this.stripTrailingSlash=gG;static#r=this.\u0275fac=function(s){return new(s||t)(un(Ev))};static#i=this.\u0275prov=Rt({token:t,factory:()=>function Tme(){return new ux(un(Ev))}(),providedIn:"root"})}return t})();function bG(t){return t.replace(/\/index.html$/,"")}function PG(t,i){i=encodeURIComponent(i);for(const o of t.split(";")){const s=o.indexOf("="),[a,l]=-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}let U1e=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=Bs({type:t});static#n=this.\u0275inj=Yr({})}return t})();const NG="browser";function LG(t){return"server"===t}let Y1e=(()=>{class t{static#e=this.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>function X1e(t){return t===NG}(tt(Uo))?new K1e(tt(vc),window):new Z1e})}return t})();class K1e{constructor(i,o){this.document=i,this.window=o,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const o=function Q1e(t,i){const o=t.getElementById(i)||t.getElementsByName(i)[0];if(o)return o;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const c=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(c)return c}a=s.nextNode()}}return null}(this.document,i);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const o=i.getBoundingClientRect(),s=o.left+this.window.pageXOffset,a=o.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}}class Z1e{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class FG{}class Dge extends wme{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class UR extends Dge{static makeCurrent(){!function xme(t){mG??=t}(new UR)}onAndCancel(i,o,s){return i.addEventListener(o,s),()=>{i.removeEventListener(o,s)}}dispatchEvent(i,o){i.dispatchEvent(o)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,o){return(o=o||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,o){return"window"===o?window:"document"===o?i:"body"===o?i.body:null}getBaseHref(i){const o=function Tge(){return hx=hx||document.querySelector("base"),hx?hx.getAttribute("href"):null}();return null==o?null:function Pge(t){return new URL(t,document.baseURI).pathname}(o)}resetBaseElement(){hx=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return PG(document.cookie,i)}}let hx=null,kge=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();const GR=new At("");let qG=(()=>{class t{constructor(o,s){this._zone=s,this._eventNameToPlugin=new Map,o.forEach(a=>{a.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,s,a){return this._findPluginFor(s).addEventListener(o,s,a)}getZone(){return this._zone}_findPluginFor(o){let s=this._eventNameToPlugin.get(o);if(s)return s;if(s=this._plugins.find(l=>l.supports(o)),!s)throw new it(5101,!1);return this._eventNameToPlugin.set(o,s),s}static#e=this.\u0275fac=function(s){return new(s||t)(un(GR),un(Lr))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();class WG{constructor(i){this._doc=i}}const qR="ng-app-id";let XG=(()=>{class t{constructor(o,s,a,l={}){this.doc=o,this.appId=s,this.nonce=a,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=LG(l),this.resetHostNodes()}addStyles(o){for(const s of o)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(o){for(const s of o)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const o=this.styleNodesInDOM;o&&(o.forEach(s=>s.remove()),o.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(const s of this.getAllStyles())this.addStyleToHost(o,s)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(const s of this.hostNodes)this.addStyleToHost(s,o)}onStyleRemoved(o){const s=this.styleRef;s.get(o)?.elements?.forEach(a=>a.remove()),s.delete(o)}collectServerRenderedStyles(){const o=this.doc.head?.querySelectorAll(`style[${qR}="${this.appId}"]`);if(o?.length){const s=new Map;return o.forEach(a=>{null!=a.textContent&&s.set(a.textContent,a)}),s}return null}changeUsageCount(o,s){const a=this.styleRef;if(a.has(o)){const l=a.get(o);return l.usage+=s,l.usage}return a.set(o,{usage:s,elements:[]}),s}getStyleElement(o,s){const a=this.styleNodesInDOM,l=a?.get(s);if(l?.parentNode===o)return a.delete(s),l.removeAttribute(qR),l;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=s,this.platformIsServer&&c.setAttribute(qR,this.appId),o.appendChild(c),c}}addStyleToHost(o,s){const a=this.getStyleElement(o,s),l=this.styleRef,c=l.get(s)?.elements;c?c.push(a):l.set(s,{elements:[a],usage:1})}resetHostNodes(){const o=this.hostNodes;o.clear(),o.add(this.doc.head)}static#e=this.\u0275fac=function(s){return new(s||t)(un(vc),un(Ph),un(kS,8),un(Uo))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();const WR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},XR=/%COMP%/g,Ige=new At("",{providedIn:"root",factory:()=>!0});function KG(t,i){return i.map(o=>o.replace(XR,t))}let QG=(()=>{class t{constructor(o,s,a,l,c,u,p,h=null){this.eventManager=o,this.sharedStylesHost=s,this.appId=a,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=u,this.ngZone=p,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=LG(u),this.defaultRenderer=new YR(o,c,p,this.platformIsServer)}createRenderer(o,s){if(!o||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Tl.ShadowDom&&(s={...s,encapsulation:Tl.Emulated});const a=this.getOrCreateRenderer(o,s);return a instanceof JG?a.applyToHost(o):a instanceof KR&&a.applyStyles(),a}getOrCreateRenderer(o,s){const a=this.rendererByCompId;let l=a.get(s.id);if(!l){const c=this.doc,u=this.ngZone,p=this.eventManager,h=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(s.encapsulation){case Tl.Emulated:l=new JG(p,h,s,this.appId,v,c,u,y);break;case Tl.ShadowDom:return new Bge(p,h,o,s,c,u,this.nonce,y);default:l=new KR(p,h,s,v,c,u,y)}a.set(s.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(s){return new(s||t)(un(qG),un(XG),un(Ph),un(Ige),un(vc),un(Uo),un(Lr),un(kS))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();class YR{constructor(i,o,s,a){this.eventManager=i,this.doc=o,this.ngZone=s,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,o){return o?this.doc.createElementNS(WR[o]||o,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,o){(ZG(i)?i.content:i).appendChild(o)}insertBefore(i,o,s){i&&(ZG(i)?i.content:i).insertBefore(o,s)}removeChild(i,o){i&&i.removeChild(o)}selectRootElement(i,o){let s="string"==typeof i?this.doc.querySelector(i):i;if(!s)throw new it(-5104,!1);return o||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,o,s,a){if(a){o=a+":"+o;const l=WR[a];l?i.setAttributeNS(l,o,s):i.setAttribute(o,s)}else i.setAttribute(o,s)}removeAttribute(i,o,s){if(s){const a=WR[s];a?i.removeAttributeNS(a,o):i.removeAttribute(`${s}:${o}`)}else i.removeAttribute(o)}addClass(i,o){i.classList.add(o)}removeClass(i,o){i.classList.remove(o)}setStyle(i,o,s,a){a&(nl.DashCase|nl.Important)?i.style.setProperty(o,s,a&nl.Important?"important":""):i.style[o]=s}removeStyle(i,o,s){s&nl.DashCase?i.style.removeProperty(o):i.style[o]=""}setProperty(i,o,s){null!=i&&(i[o]=s)}setValue(i,o){i.nodeValue=o}listen(i,o,s){if("string"==typeof i&&!(i=c3().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${o}`);return this.eventManager.addEventListener(i,o,this.decoratePreventDefault(s))}decoratePreventDefault(i){return o=>{if("__ngUnwrap__"===o)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(o)):i(o))&&o.preventDefault()}}}function ZG(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Bge extends YR{constructor(i,o,s,a,l,c,u,p){super(i,l,c,p),this.sharedStylesHost=o,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=KG(a.id,a.styles);for(const v of h){const y=document.createElement("style");u&&y.setAttribute("nonce",u),y.textContent=v,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,o){return super.appendChild(this.nodeOrShadowRoot(i),o)}insertBefore(i,o,s){return super.insertBefore(this.nodeOrShadowRoot(i),o,s)}removeChild(i,o){return super.removeChild(this.nodeOrShadowRoot(i),o)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class KR extends YR{constructor(i,o,s,a,l,c,u,p){super(i,l,c,u),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=a,this.styles=p?KG(p,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JG extends KR{constructor(i,o,s,a,l,c,u,p){const h=a+"-"+s.id;super(i,o,s,l,c,u,p,h),this.contentAttr=function Nge(t){return"_ngcontent-%COMP%".replace(XR,t)}(h),this.hostAttr=function Lge(t){return"_nghost-%COMP%".replace(XR,t)}(h)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,o){const s=super.createElement(i,o);return super.setAttribute(s,this.contentAttr,""),s}}let jge=(()=>{class t extends WG{constructor(o){super(o)}supports(o){return!0}addEventListener(o,s,a){return o.addEventListener(s,a,!1),()=>this.removeEventListener(o,s,a)}removeEventListener(o,s,a){return o.removeEventListener(s,a)}static#e=this.\u0275fac=function(s){return new(s||t)(un(vc))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();const eq=["alt","control","meta","shift"],$ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vge={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let zge=(()=>{class t extends WG{constructor(o){super(o)}supports(o){return null!=t.parseEventName(o)}addEventListener(o,s,a){const l=t.parseEventName(s),c=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>c3().onAndCancel(o,l.domEventName,c))}static parseEventName(o){const s=o.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(s.pop());let c="",u=s.indexOf("code");if(u>-1&&(s.splice(u,1),c="code."),eq.forEach(h=>{const v=s.indexOf(h);v>-1&&(s.splice(v,1),c+=h+".")}),c+=l,0!=s.length||0===l.length)return null;const p={};return p.domEventName=a,p.fullKey=c,p}static matchEventFullKeyCode(o,s){let a=$ge[o.key]||o.key,l="";return s.indexOf("code.")>-1&&(a=o.code,l="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),eq.forEach(c=>{c!==a&&(0,Vge[c])(o)&&(l+=c+".")}),l+=a,l===s)}static eventCallback(o,s,a){return l=>{t.matchEventFullKeyCode(l,o)&&a.runGuarded(()=>s(l))}}static _normalizeKey(o){return"esc"===o?"escape":o}static#e=this.\u0275fac=function(s){return new(s||t)(un(vc))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();const qge=IU(jhe,"browser",[{provide:Uo,useValue:NG},{provide:Il,useValue:function Hge(){UR.makeCurrent()},multi:!0},{provide:vc,useFactory:function Gge(){return function OS(t){Z_=t}(document),document},deps:[]}]),Wge=new At(""),rq=[{provide:DC,useClass:class Oge{addToWindow(i){rr.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new it(5103,!1);return l},rr.getAllAngularTestabilities=()=>i.getAllTestabilities(),rr.getAllAngularRootElements=()=>i.getAllRootElements(),rr.frameworkStabilizers||(rr.frameworkStabilizers=[]),rr.frameworkStabilizers.push(s=>{const a=rr.getAllAngularTestabilities();let l=a.length;const c=function(){l--,0==l&&s()};a.forEach(u=>{u.whenStable(c)})})}findTestabilityInTree(i,o,s){return null==o?null:i.getTestability(o)??(s?c3().isShadowRoot(o)?this.findTestabilityInTree(i,o.host,!0):this.findTestabilityInTree(i,o.parentElement,!0):null)}},deps:[]},{provide:wU,useClass:uR,deps:[Lr,dR,DC]},{provide:uR,useClass:uR,deps:[Lr,dR,DC]}],iq=[{provide:l_,useValue:"root"},{provide:Za,useFactory:function Uge(){return new Za},deps:[]},{provide:GR,useClass:jge,multi:!0,deps:[vc,Lr,Uo]},{provide:GR,useClass:zge,multi:!0,deps:[vc]},QG,XG,qG,{provide:Zh,useExisting:QG},{provide:FG,useClass:kge,deps:[]},[]];let Xge=(()=>{class t{constructor(o){}static withServerTransition(o){return{ngModule:t,providers:[{provide:Ph,useValue:o.appId}]}}static#e=this.\u0275fac=function(s){return new(s||t)(un(Wge,12))};static#t=this.\u0275mod=Bs({type:t});static#n=this.\u0275inj=Yr({providers:[...iq,...rq],imports:[U1e,$he]})}return t})(),Yge=(()=>{class t{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static#e=this.\u0275fac=function(s){return new(s||t)(un(vc))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hm(t){return this instanceof hm?(this.v=t,this):new hm(t)}function dq(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function eA(t){var i="function"==typeof Symbol&&Symbol.iterator,o=i&&t[i],s=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(l){o[l]=t[l]&&function(c){return new Promise(function(u,p){!function a(l,c,u,p){Promise.resolve(p).then(function(h){l({value:h,done:u})},c)}(u,p,(c=t[l](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const pq=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fq(t){return ke(t?.then)}function hq(t){return ke(t[Qs])}function mq(t){return Symbol.asyncIterator&&ke(t?.[Symbol.asyncIterator])}function gq(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vq=function Eve(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yq(t){return ke(t?.[vq])}function bq(t){return function uq(t,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=o.apply(t,i||[]),l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(E){s[E]&&(a[E]=function(S){return new Promise(function(D,k){l.push([E,S,D,k])>1||u(E,S)})})}function u(E,S){try{!function p(E){E.value instanceof hm?Promise.resolve(E.value.v).then(h,v):y(l[0][2],E)}(s[E](S))}catch(D){y(l[0][3],D)}}function h(E){u("next",E)}function v(E){u("throw",E)}function y(E,S){E(S),l.shift(),l.length&&u(l[0][0],l[0][1])}}(this,arguments,function*(){const o=t.getReader();try{for(;;){const{value:s,done:a}=yield hm(o.read());if(a)return yield hm(void 0);yield yield hm(s)}}finally{o.releaseLock()}})}function _q(t){return ke(t?.getReader)}function sf(t){if(t instanceof Nr)return t;if(null!=t){if(hq(t))return function xve(t){return new Nr(i=>{const o=t[Qs]();if(ke(o.subscribe))return o.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(pq(t))return function wve(t){return new Nr(i=>{for(let o=0;o<t.length&&!i.closed;o++)i.next(t[o]);i.complete()})}(t);if(fq(t))return function Sve(t){return new Nr(i=>{t.then(o=>{i.closed||(i.next(o),i.complete())},o=>i.error(o)).then(null,fi)})}(t);if(mq(t))return Eq(t);if(yq(t))return function Cve(t){return new Nr(i=>{for(const o of t)if(i.next(o),i.closed)return;i.complete()})}(t);if(_q(t))return function Dve(t){return Eq(bq(t))}(t)}throw gq(t)}function Eq(t){return new Nr(i=>{(function Tve(t,i){var o,s,a,l;return function lq(t,i,o,s){return new(o||(o=Promise))(function(l,c){function u(v){try{h(s.next(v))}catch(y){c(y)}}function p(v){try{h(s.throw(v))}catch(y){c(y)}}function h(v){v.done?l(v.value):function a(l){return l instanceof o?l:new o(function(c){c(l)})}(v.value).then(u,p)}h((s=s.apply(t,i||[])).next())})}(this,void 0,void 0,function*(){try{for(o=dq(t);!(s=yield o.next()).done;)if(i.next(s.value),i.closed)return}catch(c){a={error:c}}finally{try{s&&!s.done&&(l=o.return)&&(yield l.call(o))}finally{if(a)throw a.error}}i.complete()})})(t,i).catch(o=>i.error(o))})}function af(t,i,o,s=0,a=!1){const l=i.schedule(function(){o(),a?t.add(this.schedule(null,s)):this.unsubscribe()},s);if(t.add(l),!a)return l}function xq(t,i=0){return go((o,s)=>{o.subscribe(ao(s,a=>af(s,t,()=>s.next(a),i),()=>af(s,t,()=>s.complete(),i),a=>af(s,t,()=>s.error(a),i)))})}function wq(t,i=0){return go((o,s)=>{s.add(t.schedule(()=>o.subscribe(s),i))})}function Sq(t,i){if(!t)throw new Error("Iterable cannot be null");return new Nr(o=>{af(o,i,()=>{const s=t[Symbol.asyncIterator]();af(o,i,()=>{s.next().then(a=>{a.done?o.complete():o.next(a.value)})},0,!0)})})}function Ps(t,i){return i?function Ave(t,i){if(null!=t){if(hq(t))return function Pve(t,i){return sf(t).pipe(wq(i),xq(i))}(t,i);if(pq(t))return function kve(t,i){return new Nr(o=>{let s=0;return i.schedule(function(){s===t.length?o.complete():(o.next(t[s++]),o.closed||this.schedule())})})}(t,i);if(fq(t))return function Ove(t,i){return sf(t).pipe(wq(i),xq(i))}(t,i);if(mq(t))return Sq(t,i);if(yq(t))return function Mve(t,i){return new Nr(o=>{let s;return af(o,i,()=>{s=t[vq](),af(o,i,()=>{let a,l;try{({value:a,done:l}=s.next())}catch(c){return void o.error(c)}l?o.complete():o.next(a)},0,!0)}),()=>ke(s?.return)&&s.return()})}(t,i);if(_q(t))return function Rve(t,i){return Sq(bq(t),i)}(t,i)}throw gq(t)}(t,i):sf(t)}function tA(t){return t[t.length-1]}function JC(t){return function Ive(t){return t&&ke(t.schedule)}(tA(t))?t.pop():void 0}function Bn(...t){return Ps(t,JC(t))}const{isArray:Lve}=Array,{getPrototypeOf:Fve,prototype:Bve,keys:jve}=Object;const{isArray:zve}=Array;function nA(...t){const i=JC(t),o=function Nve(t){return ke(tA(t))?t.pop():void 0}(t),{args:s,keys:a}=function $ve(t){if(1===t.length){const i=t[0];if(Lve(i))return{args:i,keys:null};if(function Vve(t){return t&&"object"==typeof t&&Fve(t)===Bve}(i)){const o=jve(i);return{args:o.map(s=>i[s]),keys:o}}}return{args:t,keys:null}}(t);if(0===s.length)return Ps([],i);const l=new Nr(function qve(t,i,o=_t){return s=>{Cq(i,()=>{const{length:a}=t,l=new Array(a);let c=a,u=a;for(let p=0;p<a;p++)Cq(i,()=>{const h=Ps(t[p],i);let v=!1;h.subscribe(ao(s,y=>{l[p]=y,v||(v=!0,u--),u||s.next(o(l.slice()))},()=>{--c||s.complete()}))},s)},s)}}(s,i,a?c=>function Gve(t,i){return t.reduce((o,s,a)=>(o[s]=i[a],o),{})}(a,c):_t));return o?l.pipe(function Uve(t){return Sr(i=>function Hve(t,i){return zve(i)?t(...i):t(i)}(t,i))}(o)):l}function Cq(t,i,o){t?af(o,t,i):i()}const eD=Ue(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Oa(t,i,o=1/0){return ke(i)?Oa((s,a)=>Sr((l,c)=>i(s,l,a,c))(sf(t(s,a))),o):("number"==typeof i&&(o=i),go((s,a)=>function Wve(t,i,o,s,a,l,c,u){const p=[];let h=0,v=0,y=!1;const E=()=>{y&&!p.length&&!h&&i.complete()},S=k=>h<s?D(k):p.push(k),D=k=>{l&&i.next(k),h++;let R=!1;sf(o(k,v++)).subscribe(ao(i,L=>{a?.(L),l?S(L):i.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(h--;p.length&&h<s;){const L=p.shift();c?af(i,c,()=>D(L)):D(L)}E()}catch(L){i.error(L)}}))};return t.subscribe(ao(i,S,()=>{y=!0,E()})),()=>{u?.()}}(s,a,t,o)))}function gx(t=1/0){return Oa(_t,t)}function rA(...t){return function Xve(){return gx(1)}()(Ps(t,JC(t)))}function Dq(t){return new Nr(i=>{sf(t()).subscribe(i)})}function tD(t,i){const o=ke(t)?t:()=>t,s=a=>a.error(o());return new Nr(i?a=>i.schedule(s,0,a):s)}const xd=new Nr(t=>t.complete());function iA(){return go((t,i)=>{let o=null;t._refCount++;const s=ao(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(o=null);const a=t._connection,l=o;o=null,a&&(!l||a===l)&&a.unsubscribe(),i.unsubscribe()});t.subscribe(s),s.closed||(o=t.connect())})}class Tq extends Nr{constructor(i,o){super(),this.source=i,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,qf(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Gt;const o=this.getSubject();i.add(this.source.subscribe(ao(o,void 0,()=>{this._teardown(),o.complete()},s=>{this._teardown(),o.error(s)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Gt.EMPTY)}return i}refCount(){return iA()(this)}}function l0(t,i){return go((o,s)=>{let a=null,l=0,c=!1;const u=()=>c&&!a&&s.complete();o.subscribe(ao(s,p=>{a?.unsubscribe();let h=0;const v=l++;sf(t(p,v)).subscribe(a=ao(s,y=>s.next(i?i(p,y,v,h++):y),()=>{a=null,u()}))},()=>{c=!0,u()}))})}function d3(t){return t<=0?()=>xd:go((i,o)=>{let s=0;i.subscribe(ao(o,a=>{++s<=t&&(o.next(a),t<=s&&o.complete())}))})}function lf(t,i){return go((o,s)=>{let a=0;o.subscribe(ao(s,l=>t.call(i,l,a++)&&s.next(l)))})}function nD(t){return go((i,o)=>{let s=!1;i.subscribe(ao(o,a=>{s=!0,o.next(a)},()=>{s||o.next(t),o.complete()}))})}function Pq(t=Qve){return go((i,o)=>{let s=!1;i.subscribe(ao(o,a=>{s=!0,o.next(a)},()=>s?o.complete():o.error(t())))})}function Qve(){return new eD}function xv(t,i){const o=arguments.length>=2;return s=>s.pipe(t?lf((a,l)=>t(a,l,s)):_t,d3(1),o?nD(i):Pq(()=>new eD))}function p3(t,i){return ke(i)?Oa(t,i,1):Oa(t,1)}function cl(t,i,o){const s=ke(t)||i||o?{next:t,error:i,complete:o}:t;return s?go((a,l)=>{var c;null===(c=s.subscribe)||void 0===c||c.call(s);let u=!0;a.subscribe(ao(l,p=>{var h;null===(h=s.next)||void 0===h||h.call(s,p),l.next(p)},()=>{var p;u=!1,null===(p=s.complete)||void 0===p||p.call(s),l.complete()},p=>{var h;u=!1,null===(h=s.error)||void 0===h||h.call(s,p),l.error(p)},()=>{var p,h;u&&(null===(p=s.unsubscribe)||void 0===p||p.call(s)),null===(h=s.finalize)||void 0===h||h.call(s)}))}):_t}function f3(t){return go((i,o)=>{let l,s=null,a=!1;s=i.subscribe(ao(o,void 0,void 0,c=>{l=sf(t(c,f3(t)(i))),s?(s.unsubscribe(),s=null,l.subscribe(o)):a=!0})),a&&(s.unsubscribe(),s=null,l.subscribe(o))})}function oA(t){return t<=0?()=>xd:go((i,o)=>{let s=[];i.subscribe(ao(o,a=>{s.push(a),t<s.length&&s.shift()},()=>{for(const a of s)o.next(a);o.complete()},void 0,()=>{s=null}))})}function vx(t){return go((i,o)=>{try{i.subscribe(o)}finally{o.add(t)}})}const ir="primary",yx=Symbol("RouteTitle");class rye{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const o=this.params[i];return Array.isArray(o)?o[0]:o}return null}getAll(i){if(this.has(i)){const o=this.params[i];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function h3(t){return new rye(t)}function iye(t,i,o){const s=o.path.split("/");if(s.length>t.length||"full"===o.pathMatch&&(i.hasChildren()||s.length<t.length))return null;const a={};for(let l=0;l<s.length;l++){const c=s[l],u=t[l];if(c.startsWith(":"))a[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:t.slice(0,s.length),posParams:a}}function wd(t,i){const o=t?sA(t):void 0,s=i?sA(i):void 0;if(!o||!s||o.length!=s.length)return!1;let a;for(let l=0;l<o.length;l++)if(a=o[l],!Oq(t[a],i[a]))return!1;return!0}function sA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Oq(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const o=[...t].sort(),s=[...i].sort();return o.every((a,l)=>s[l]===a)}return t===i}function kq(t){return t.length>0?t[t.length-1]:null}function mm(t){return function Jge(t){return!!t&&(t instanceof Nr||ke(t.lift)&&ke(t.subscribe))}(t)?t:TC(t)?Ps(Promise.resolve(t)):Bn(t)}const sye={exact:function Aq(t,i,o){if(!wv(t.segments,i.segments)||!rD(t.segments,i.segments,o)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!t.children[s]||!Aq(t.children[s],i.children[s],o))return!1;return!0},subset:Iq},Mq={exact:function aye(t,i){return wd(t,i)},subset:function lye(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(o=>Oq(t[o],i[o]))},ignored:()=>!0};function Rq(t,i,o){return sye[o.paths](t.root,i.root,o.matrixParams)&&Mq[o.queryParams](t.queryParams,i.queryParams)&&!("exact"===o.fragment&&t.fragment!==i.fragment)}function Iq(t,i,o){return Nq(t,i,i.segments,o)}function Nq(t,i,o,s){if(t.segments.length>o.length){const a=t.segments.slice(0,o.length);return!(!wv(a,o)||i.hasChildren()||!rD(a,o,s))}if(t.segments.length===o.length){if(!wv(t.segments,o)||!rD(t.segments,o,s))return!1;for(const a in i.children)if(!t.children[a]||!Iq(t.children[a],i.children[a],s))return!1;return!0}{const a=o.slice(0,t.segments.length),l=o.slice(t.segments.length);return!!(wv(t.segments,a)&&rD(t.segments,a,s)&&t.children[ir])&&Nq(t.children[ir],i,l,s)}}function rD(t,i,o){return i.every((s,a)=>Mq[o](t[a].parameters,s.parameters))}class m3{constructor(i=new Si([],{}),o={},s=null){this.root=i,this.queryParams=o,this.fragment=s}get queryParamMap(){return this._queryParamMap??=h3(this.queryParams),this._queryParamMap}toString(){return dye.serialize(this)}}class Si{constructor(i,o){this.segments=i,this.children=o,this.parent=null,Object.values(o).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iD(this)}}class bx{constructor(i,o){this.path=i,this.parameters=o}get parameterMap(){return this._parameterMap??=h3(this.parameters),this._parameterMap}toString(){return Bq(this)}}function wv(t,i){return t.length===i.length&&t.every((o,s)=>o.path===i[s].path)}let g3=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>new aA,providedIn:"root"})}return t})();class aA{parse(i){const o=new xye(i);return new m3(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(i){const o=`/${_x(i.root,!0)}`,s=function hye(t){const i=Object.entries(t).map(([o,s])=>Array.isArray(s)?s.map(a=>`${oD(o)}=${oD(a)}`).join("&"):`${oD(o)}=${oD(s)}`).filter(o=>o);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${o}${s}${"string"==typeof i.fragment?`#${function pye(t){return encodeURI(t)}(i.fragment)}`:""}`}}const dye=new aA;function iD(t){return t.segments.map(i=>Bq(i)).join("/")}function _x(t,i){if(!t.hasChildren())return iD(t);if(i){const o=t.children[ir]?_x(t.children[ir],!1):"",s=[];return Object.entries(t.children).forEach(([a,l])=>{a!==ir&&s.push(`${a}:${_x(l,!1)}`)}),s.length>0?`${o}(${s.join("//")})`:o}{const o=function uye(t,i){let o=[];return Object.entries(t.children).forEach(([s,a])=>{s===ir&&(o=o.concat(i(a,s)))}),Object.entries(t.children).forEach(([s,a])=>{s!==ir&&(o=o.concat(i(a,s)))}),o}(t,(s,a)=>a===ir?[_x(t.children[ir],!1)]:[`${a}:${_x(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ir]?`${iD(t)}/${o[0]}`:`${iD(t)}/(${o.join("//")})`}}function Lq(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oD(t){return Lq(t).replace(/%3B/gi,";")}function lA(t){return Lq(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sD(t){return decodeURIComponent(t)}function Fq(t){return sD(t.replace(/\+/g,"%20"))}function Bq(t){return`${lA(t.path)}${function fye(t){return Object.entries(t).map(([i,o])=>`;${lA(i)}=${lA(o)}`).join("")}(t.parameters)}`}const mye=/^[^\/()?;#]+/;function cA(t){const i=t.match(mye);return i?i[0]:""}const gye=/^[^\/()?;=#]+/,yye=/^[^=?&#]+/,_ye=/^[^&#]+/;class xye{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Si([],{}):new Si([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(o).length>0)&&(s[ir]=new Si(i,o)),s}parseSegment(){const i=cA(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new it(4009,!1);return this.capture(i),new bx(sD(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const o=function vye(t){const i=t.match(gye);return i?i[0]:""}(this.remaining);if(!o)return;this.capture(o);let s="";if(this.consumeOptional("=")){const a=cA(this.remaining);a&&(s=a,this.capture(s))}i[sD(o)]=sD(s)}parseQueryParam(i){const o=function bye(t){const i=t.match(yye);return i?i[0]:""}(this.remaining);if(!o)return;this.capture(o);let s="";if(this.consumeOptional("=")){const c=function Eye(t){const i=t.match(_ye);return i?i[0]:""}(this.remaining);c&&(s=c,this.capture(s))}const a=Fq(o),l=Fq(s);if(i.hasOwnProperty(a)){let c=i[a];Array.isArray(c)||(c=[c],i[a]=c),c.push(l)}else i[a]=l}parseParens(i){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=cA(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new it(4010,!1);let l;s.indexOf(":")>-1?(l=s.slice(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=ir);const c=this.parseChildren();o[l]=1===Object.keys(c).length?c[ir]:new Si([],c),this.consumeOptional("//")}return o}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new it(4011,!1)}}function jq(t){return t.segments.length>0?new Si([],{[ir]:t}):t}function $q(t){const i={};for(const[s,a]of Object.entries(t.children)){const l=$q(a);if(s===ir&&0===l.segments.length&&l.hasChildren())for(const[c,u]of Object.entries(l.children))i[c]=u;else(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function wye(t){if(1===t.numberOfChildren&&t.children[ir]){const i=t.children[ir];return new Si(t.segments.concat(i.segments),i.children)}return t}(new Si(t.segments,i))}function v3(t){return t instanceof m3}function Vq(t){let i;const a=jq(function o(l){const c={};for(const p of l.children){const h=o(p);c[p.outlet]=h}const u=new Si(l.url,c);return l===t&&(i=u),u}(t.root));return i??a}function zq(t,i,o,s){let a=t;for(;a.parent;)a=a.parent;if(0===i.length)return uA(a,a,a,o,s);const l=function Cye(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Uq(!0,0,t);let i=0,o=!1;const s=t.reduce((a,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const u={};return Object.entries(l.outlets).forEach(([p,h])=>{u[p]="string"==typeof h?h.split("/"):h}),[...a,{outlets:u}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===c?(l.split("/").forEach((u,p)=>{0==p&&"."===u||(0==p&&""===u?o=!0:".."===u?i++:""!=u&&a.push(u))}),a):[...a,l]},[]);return new Uq(o,i,s)}(i);if(l.toRoot())return uA(a,a,new Si([],{}),o,s);const c=function Dye(t,i,o){if(t.isAbsolute)return new lD(i,!0,0);if(!o)return new lD(i,!1,NaN);if(null===o.parent)return new lD(o,!0,0);const s=aD(t.commands[0])?0:1;return function Tye(t,i,o){let s=t,a=i,l=o;for(;l>a;){if(l-=a,s=s.parent,!s)throw new it(4005,!1);a=s.segments.length}return new lD(s,!1,a-l)}(o,o.segments.length-1+s,t.numberOfDoubleDots)}(l,a,t),u=c.processChildren?xx(c.segmentGroup,c.index,l.commands):Gq(c.segmentGroup,c.index,l.commands);return uA(a,c.segmentGroup,u,o,s)}function aD(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ex(t){return"object"==typeof t&&null!=t&&t.outlets}function uA(t,i,o,s,a){let c,l={};s&&Object.entries(s).forEach(([p,h])=>{l[p]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),c=t===i?o:Hq(t,i,o);const u=jq($q(c));return new m3(u,l,a)}function Hq(t,i,o){const s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=l===i?o:Hq(l,i,o)}),new Si(t.segments,s)}class Uq{constructor(i,o,s){if(this.isAbsolute=i,this.numberOfDoubleDots=o,this.commands=s,i&&s.length>0&&aD(s[0]))throw new it(4003,!1);const a=s.find(Ex);if(a&&a!==kq(s))throw new it(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lD{constructor(i,o,s){this.segmentGroup=i,this.processChildren=o,this.index=s}}function Gq(t,i,o){if(t??=new Si([],{}),0===t.segments.length&&t.hasChildren())return xx(t,i,o);const s=function Oye(t,i,o){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(s>=o.length)return l;const c=t.segments[a],u=o[s];if(Ex(u))break;const p=`${u}`,h=s<o.length-1?o[s+1]:null;if(a>0&&void 0===p)break;if(p&&h&&"object"==typeof h&&void 0===h.outlets){if(!Wq(p,h,c))return l;s+=2}else{if(!Wq(p,{},c))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(t,i,o),a=o.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const l=new Si(t.segments.slice(0,s.pathIndex),{});return l.children[ir]=new Si(t.segments.slice(s.pathIndex),t.children),xx(l,0,a)}return s.match&&0===a.length?new Si(t.segments,{}):s.match&&!t.hasChildren()?dA(t,i,o):s.match?xx(t,0,a):dA(t,i,o)}function xx(t,i,o){if(0===o.length)return new Si(t.segments,{});{const s=function Pye(t){return Ex(t[0])?t[0].outlets:{[ir]:t}}(o),a={};if(Object.keys(s).some(l=>l!==ir)&&t.children[ir]&&1===t.numberOfChildren&&0===t.children[ir].segments.length){const l=xx(t.children[ir],i,o);return new Si(t.segments,l.children)}return Object.entries(s).forEach(([l,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(a[l]=Gq(t.children[l],i,c))}),Object.entries(t.children).forEach(([l,c])=>{void 0===s[l]&&(a[l]=c)}),new Si(t.segments,a)}}function dA(t,i,o){const s=t.segments.slice(0,i);let a=0;for(;a<o.length;){const l=o[a];if(Ex(l)){const p=kye(l.outlets);return new Si(s,p)}if(0===a&&aD(o[0])){s.push(new bx(t.segments[i].path,qq(o[0]))),a++;continue}const c=Ex(l)?l.outlets[ir]:`${l}`,u=a<o.length-1?o[a+1]:null;c&&u&&aD(u)?(s.push(new bx(c,qq(u))),a+=2):(s.push(new bx(c,{})),a++)}return new Si(s,{})}function kye(t){const i={};return Object.entries(t).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=dA(new Si([],{}),0,s))}),i}function qq(t){const i={};return Object.entries(t).forEach(([o,s])=>i[o]=`${s}`),i}function Wq(t,i,o){return t==o.path&&wd(i,o.parameters)}const wx="imperative";var Fr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Fr||{});class Sd{constructor(i,o){this.id=i,this.url=o}}class cD extends Sd{constructor(i,o,s="imperative",a=null){super(i,o),this.type=Fr.NavigationStart,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cf extends Sd{constructor(i,o,s){super(i,o),this.urlAfterRedirects=s,this.type=Fr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var bc=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bc||{}),uD=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(uD||{});class y3 extends Sd{constructor(i,o,s,a){super(i,o),this.reason=s,this.code=a,this.type=Fr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class b3 extends Sd{constructor(i,o,s,a){super(i,o),this.reason=s,this.code=a,this.type=Fr.NavigationSkipped}}class dD extends Sd{constructor(i,o,s,a){super(i,o),this.error=s,this.target=a,this.type=Fr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xq extends Sd{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Fr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mye extends Sd{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Fr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rye extends Sd{constructor(i,o,s,a,l){super(i,o),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l,this.type=Fr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aye extends Sd{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Fr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iye extends Sd{constructor(i,o,s,a){super(i,o),this.urlAfterRedirects=s,this.state=a,this.type=Fr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nye{constructor(i){this.route=i,this.type=Fr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lye{constructor(i){this.route=i,this.type=Fr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fye{constructor(i){this.snapshot=i,this.type=Fr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bye{constructor(i){this.snapshot=i,this.type=Fr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jye{constructor(i){this.snapshot=i,this.type=Fr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ye{constructor(i){this.snapshot=i,this.type=Fr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yq{constructor(i,o,s){this.routerEvent=i,this.position=o,this.anchor=s,this.type=Fr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pA{}class fA{constructor(i){this.url=i}}class Vye{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sx,this.attachRef=null}}let Sx=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(o,s){const a=this.getOrCreateContext(o);a.outlet=s,this.contexts.set(o,a)}onChildOutletDestroyed(o){const s=this.getContext(o);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let s=this.getContext(o);return s||(s=new Vye,this.contexts.set(o,s)),s}getContext(o){return this.contexts.get(o)||null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Kq{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const o=this.pathFromRoot(i);return o.length>1?o[o.length-2]:null}children(i){const o=hA(i,this._root);return o?o.children.map(s=>s.value):[]}firstChild(i){const o=hA(i,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(i){const o=mA(i,this._root);return o.length<2?[]:o[o.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return mA(i,this._root).map(o=>o.value)}}function hA(t,i){if(t===i.value)return i;for(const o of i.children){const s=hA(t,o);if(s)return s}return null}function mA(t,i){if(t===i.value)return[i];for(const o of i.children){const s=mA(t,o);if(s.length)return s.unshift(i),s}return[]}class c0{constructor(i,o){this.value=i,this.children=o}toString(){return`TreeNode(${this.value})`}}function _3(t){const i={};return t&&t.children.forEach(o=>i[o.value.outlet]=o),i}class Qq extends Kq{constructor(i,o){super(i),this.snapshot=o,yA(this,i)}toString(){return this.snapshot.toString()}}function Zq(t){const i=function zye(t){const l=new vA([],{},{},"",{},ir,t,null,{});return new Jq("",new c0(l,[]))}(t),o=new Mt([new bx("",{})]),s=new Mt({}),a=new Mt({}),l=new Mt({}),c=new Mt(""),u=new E3(o,s,l,c,a,ir,t,i.root);return u.snapshot=i.root,new Qq(new c0(u,[]),i)}class E3{constructor(i,o,s,a,l,c,u,p){this.urlSubject=i,this.paramsSubject=o,this.queryParamsSubject=s,this.fragmentSubject=a,this.dataSubject=l,this.outlet=c,this.component=u,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(Sr(h=>h[yx]))??Bn(void 0),this.url=i,this.params=o,this.queryParams=s,this.fragment=a,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Sr(i=>h3(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Sr(i=>h3(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gA(t,i,o="emptyOnly"){let s;const{routeConfig:a}=t;return s=null===i||"always"!==o&&""!==a?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.data,...a?.data,...t._resolvedData}},a&&tW(a)&&(s.resolve[yx]=a.title),s}class vA{get title(){return this.data?.[yx]}constructor(i,o,s,a,l,c,u,p,h){this.url=i,this.params=o,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=c,this.component=u,this.routeConfig=p,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=h3(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=h3(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jq extends Kq{constructor(i,o){super(o),this.url=i,yA(this,o)}toString(){return eW(this._root)}}function yA(t,i){i.value._routerState=t,i.children.forEach(o=>yA(t,o))}function eW(t){const i=t.children.length>0?` { ${t.children.map(eW).join(", ")} } `:"";return`${t.value}${i}`}function bA(t){if(t.snapshot){const i=t.snapshot,o=t._futureSnapshot;t.snapshot=o,wd(i.queryParams,o.queryParams)||t.queryParamsSubject.next(o.queryParams),i.fragment!==o.fragment&&t.fragmentSubject.next(o.fragment),wd(i.params,o.params)||t.paramsSubject.next(o.params),function oye(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;++o)if(!wd(t[o],i[o]))return!1;return!0}(i.url,o.url)||t.urlSubject.next(o.url),wd(i.data,o.data)||t.dataSubject.next(o.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _A(t,i){const o=wd(t.params,i.params)&&function cye(t,i){return wv(t,i)&&t.every((o,s)=>wd(o.parameters,i[s].parameters))}(t.url,i.url);return o&&!(!t.parent!=!i.parent)&&(!t.parent||_A(t.parent,i.parent))}function tW(t){return"string"==typeof t.title||null===t.title}let nW=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ir,this.activateEvents=new ts,this.deactivateEvents=new ts,this.attachEvents=new ts,this.detachEvents=new ts,this.parentContexts=tt(Sx),this.location=tt(Bl),this.changeDetector=tt(kC),this.environmentInjector=tt(qr),this.inputBinder=tt(pD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){const{firstChange:s,previousValue:a}=o.name;if(s)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new it(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new it(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new it(4012,!1);this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,s){this.activated=o,this._activatedRoute=s,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,s){if(this.isActivated)throw new it(4013,!1);this._activatedRoute=o;const a=this.location,c=o.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new EA(o,u,a.injector);this.activated=a.createComponent(c,{index:a.length,injector:p,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275dir=jo({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ta]})}return t})();class EA{__ngOutletInjector(i){return new EA(this.route,this.childContexts,i)}constructor(i,o,s){this.route=i,this.childContexts=o,this.parent=s}get(i,o){return i===E3?this.route:i===Sx?this.childContexts:this.parent.get(i,o)}}const pD=new At("");let rW=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(o){this.unsubscribeFromRouteData(o),this.subscribeToRouteData(o)}unsubscribeFromRouteData(o){this.outletDataSubscriptions.get(o)?.unsubscribe(),this.outletDataSubscriptions.delete(o)}subscribeToRouteData(o){const{activatedRoute:s}=o,a=nA([s.queryParams,s.params,s.data]).pipe(l0(([l,c,u],p)=>(u={...l,...c,...u},0===p?Bn(u):Promise.resolve(u)))).subscribe(l=>{if(!o.isActivated||!o.activatedComponentRef||o.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(o);const c=function Eme(t){const i=Hn(t);if(!i)return null;const o=new iv(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(s.component);if(c)for(const{templateName:u}of c.inputs)o.activatedComponentRef.setInput(u,l[u]);else this.unsubscribeFromRouteData(o)});this.outletDataSubscriptions.set(o,a)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();function Cx(t,i,o){if(o&&t.shouldReuseRoute(i.value,o.value.snapshot)){const s=o.value;s._futureSnapshot=i.value;const a=function Uye(t,i,o){return i.children.map(s=>{for(const a of o.children)if(t.shouldReuseRoute(s.value,a.value.snapshot))return Cx(t,s,a);return Cx(t,s)})}(t,i,o);return new c0(s,a)}{if(t.shouldAttach(i.value)){const l=t.retrieve(i.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=i.value,c.children=i.children.map(u=>Cx(t,u)),c}}const s=function Gye(t){return new E3(new Mt(t.url),new Mt(t.params),new Mt(t.queryParams),new Mt(t.fragment),new Mt(t.data),t.outlet,t.component,t)}(i.value),a=i.children.map(l=>Cx(t,l));return new c0(s,a)}}const iW="ngNavigationCancelingError";function oW(t,i){const{redirectTo:o,navigationBehaviorOptions:s}=v3(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,a=sW(!1,bc.Redirect);return a.url=o,a.navigationBehaviorOptions=s,a}function sW(t,i){const o=new Error(`NavigationCancelingError: ${t||""}`);return o[iW]=!0,o.cancellationCode=i,o}function aW(t){return!!t&&t[iW]}let lW=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=S1({type:t,selectors:[["ng-component"]],standalone:!0,features:[KH],decls:1,vars:0,template:function(s,a){1&s&&KE(0,"router-outlet")},dependencies:[nW],encapsulation:2})}return t})();function xA(t){const i=t.children&&t.children.map(xA),o=i?{...t,children:i}:{...t};return!o.component&&!o.loadComponent&&(i||o.loadChildren)&&o.outlet&&o.outlet!==ir&&(o.component=lW),o}function Cd(t){return t.outlet||ir}function Dx(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){const o=i.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}class Jye{constructor(i,o,s,a,l){this.routeReuseStrategy=i,this.futureState=o,this.currState=s,this.forwardEvent=a,this.inputBindingEnabled=l}activate(i){const o=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,s,i),bA(this.futureState.root),this.activateChildRoutes(o,s,i)}deactivateChildRoutes(i,o,s){const a=_3(o);i.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,a[c],s),delete a[c]}),Object.values(a).forEach(l=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,o,s){const a=i.value,l=o?o.value:null;if(a===l)if(a.component){const c=s.getContext(a.outlet);c&&this.deactivateChildRoutes(i,o,c.children)}else this.deactivateChildRoutes(i,o,s);else l&&this.deactivateRouteAndItsChildren(o,s)}deactivateRouteAndItsChildren(i,o){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,o):this.deactivateRouteAndOutlet(i,o)}detachAndStoreRouteSubtree(i,o){const s=o.getContext(i.value.outlet),a=s&&i.value.component?s.children:o,l=_3(i);for(const c of Object.values(l))this.deactivateRouteAndItsChildren(c,a);if(s&&s.outlet){const c=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:c,route:i,contexts:u})}}deactivateRouteAndOutlet(i,o){const s=o.getContext(i.value.outlet),a=s&&i.value.component?s.children:o,l=_3(i);for(const c of Object.values(l))this.deactivateRouteAndItsChildren(c,a);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(i,o,s){const a=_3(o);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new $ye(l.value.snapshot))}),i.children.length&&this.forwardEvent(new Bye(i.value.snapshot))}activateRoutes(i,o,s){const a=i.value,l=o?o.value:null;if(bA(a),a===l)if(a.component){const c=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,o,c.children)}else this.activateChildRoutes(i,o,s);else if(a.component){const c=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const u=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),bA(u.route.value),this.activateChildRoutes(i,null,c.children)}else{const u=Dx(a.snapshot);c.attachRef=null,c.route=a,c.injector=u,c.outlet&&c.outlet.activateWith(a,c.injector),this.activateChildRoutes(i,null,c.children)}}else this.activateChildRoutes(i,null,s)}}class cW{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class fD{constructor(i,o){this.component=i,this.route=o}}function e2e(t,i,o){const s=t._root;return Tx(s,i?i._root:null,o,[s.value])}function x3(t,i){const o=Symbol(),s=i.get(t,o);return s===o?"function"!=typeof t||function Bc(t){return null!==Zl(t)}(t)?i.get(t):t:s}function Tx(t,i,o,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=_3(i);return t.children.forEach(c=>{(function n2e(t,i,o,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,c=i?i.value:null,u=o?o.getContext(t.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const p=function r2e(t,i,o){if("function"==typeof o)return o(t,i);switch(o){case"pathParamsChange":return!wv(t.url,i.url);case"pathParamsOrQueryParamsChange":return!wv(t.url,i.url)||!wd(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_A(t,i)||!wd(t.queryParams,i.queryParams);default:return!_A(t,i)}}(c,l,l.routeConfig.runGuardsAndResolvers);p?a.canActivateChecks.push(new cW(s)):(l.data=c.data,l._resolvedData=c._resolvedData),Tx(t,i,l.component?u?u.children:null:o,s,a),p&&u&&u.outlet&&u.outlet.isActivated&&a.canDeactivateChecks.push(new fD(u.outlet.component,c))}else c&&Px(i,u,a),a.canActivateChecks.push(new cW(s)),Tx(t,null,l.component?u?u.children:null:o,s,a)})(c,l[c.value.outlet],o,s.concat([c.value]),a),delete l[c.value.outlet]}),Object.entries(l).forEach(([c,u])=>Px(u,o.getContext(c),a)),a}function Px(t,i,o){const s=_3(t),a=t.value;Object.entries(s).forEach(([l,c])=>{Px(c,a.component?i?i.children.getContext(l):null:i,o)}),o.canDeactivateChecks.push(new fD(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}function Ox(t){return"function"==typeof t}function uW(t){return t instanceof eD||"EmptyError"===t?.name}const hD=Symbol("INITIAL_VALUE");function w3(){return l0(t=>nA(t.map(i=>i.pipe(d3(1),function Kve(...t){const i=JC(t);return go((o,s)=>{(i?rA(t,o,i):rA(t,o)).subscribe(s)})}(hD)))).pipe(Sr(i=>{for(const o of i)if(!0!==o){if(o===hD)return hD;if(!1===o||o instanceof m3)return o}return!0}),lf(i=>i!==hD),d3(1)))}function dW(t){return function ip(...t){return kn(t)}(cl(i=>{if(v3(i))throw oW(0,i)}),Sr(i=>!0===i))}class wA{constructor(i){this.segmentGroup=i||null}}class SA extends Error{constructor(i){super(),this.urlTree=i}}function S3(t){return tD(new wA(t))}class x2e{constructor(i,o){this.urlSerializer=i,this.urlTree=o}lineralizeSegments(i,o){let s=[],a=o.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Bn(s);if(a.numberOfChildren>1||!a.children[ir])return tD(new it(4e3,!1));a=a.children[ir]}}applyRedirectCommands(i,o,s){const a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),i,s);if(o.startsWith("/"))throw new SA(a);return a}applyRedirectCreateUrlTree(i,o,s,a){const l=this.createSegmentGroup(i,o.root,s,a);return new m3(l,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(i,o){const s={};return Object.entries(i).forEach(([a,l])=>{if("string"==typeof l&&l.startsWith(":")){const u=l.substring(1);s[a]=o[u]}else s[a]=l}),s}createSegmentGroup(i,o,s,a){const l=this.createSegments(i,o.segments,s,a);let c={};return Object.entries(o.children).forEach(([u,p])=>{c[u]=this.createSegmentGroup(i,p,s,a)}),new Si(l,c)}createSegments(i,o,s,a){return o.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,o,s){const a=s[o.path.substring(1)];if(!a)throw new it(4001,!1);return a}findOrReturn(i,o){let s=0;for(const a of o){if(a.path===i.path)return o.splice(s),a;s++}return i}}const CA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w2e(t,i,o,s,a){const l=DA(t,i,o);return l.matched?(s=function Wye(t,i){return t.providers&&!t._injector&&(t._injector=si(t.providers,i,`Route: ${t.path}`)),t._injector??i}(i,s),function b2e(t,i,o,s){const a=i.canMatch;return a&&0!==a.length?Bn(a.map(c=>{const u=x3(c,t);return mm(function c2e(t){return t&&Ox(t.canMatch)}(u)?u.canMatch(i,o):es(t,()=>u(i,o)))})).pipe(w3(),dW()):Bn(!0)}(s,i,o).pipe(Sr(c=>!0===c?l:{...CA}))):Bn(l)}function DA(t,i,o){if("**"===i.path)return function S2e(t){return{matched:!0,parameters:t.length>0?kq(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(o);if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||o.length>0)?{...CA}:{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};const a=(i.matcher||iye)(o,t,i);if(!a)return{...CA};const l={};Object.entries(a.posParams??{}).forEach(([u,p])=>{l[u]=p.path});const c=a.consumed.length>0?{...l,...a.consumed[a.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:o.slice(a.consumed.length),parameters:c,positionalParamSegments:a.posParams??{}}}function pW(t,i,o,s){return o.length>0&&function T2e(t,i,o){return o.some(s=>mD(t,i,s)&&Cd(s)!==ir)}(t,o,s)?{segmentGroup:new Si(i,D2e(s,new Si(o,t.children))),slicedSegments:[]}:0===o.length&&function P2e(t,i,o){return o.some(s=>mD(t,i,s))}(t,o,s)?{segmentGroup:new Si(t.segments,C2e(t,o,s,t.children)),slicedSegments:o}:{segmentGroup:new Si(t.segments,t.children),slicedSegments:o}}function C2e(t,i,o,s){const a={};for(const l of o)if(mD(t,i,l)&&!s[Cd(l)]){const c=new Si([],{});a[Cd(l)]=c}return{...s,...a}}function D2e(t,i){const o={};o[ir]=i;for(const s of t)if(""===s.path&&Cd(s)!==ir){const a=new Si([],{});o[Cd(s)]=a}return o}function mD(t,i,o){return(!(t.hasChildren()||i.length>0)||"full"!==o.pathMatch)&&""===o.path}class M2e{}class I2e{constructor(i,o,s,a,l,c,u){this.injector=i,this.configLoader=o,this.rootComponentType=s,this.config=a,this.urlTree=l,this.paramsInheritanceStrategy=c,this.urlSerializer=u,this.applyRedirects=new x2e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new it(4002,`'${i.segmentGroup}'`)}recognize(){const i=pW(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Sr(o=>{const s=new vA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ir,this.rootComponentType,null,{}),a=new c0(s,o),l=new Jq("",a),c=function Sye(t,i,o=null,s=null){return zq(Vq(t),i,o,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(l._root,null),{state:l,tree:c}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,ir).pipe(f3(s=>{if(s instanceof SA)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof wA?this.noMatchError(s):s}))}inheritParamsAndData(i,o){const s=i.value,a=gA(s,o,this.paramsInheritanceStrategy);s.params=Object.freeze(a.params),s.data=Object.freeze(a.data),i.children.forEach(l=>this.inheritParamsAndData(l,s))}processSegmentGroup(i,o,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(i,o,s):this.processSegment(i,o,s,s.segments,a,!0).pipe(Sr(l=>l instanceof c0?[l]:[]))}processChildren(i,o,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return Ps(a).pipe(p3(l=>{const c=s.children[l],u=function Qye(t,i){const o=t.filter(s=>Cd(s)===i);return o.push(...t.filter(s=>Cd(s)!==i)),o}(o,l);return this.processSegmentGroup(i,u,c,l)}),function Jve(t,i){return go(function Zve(t,i,o,s,a){return(l,c)=>{let u=o,p=i,h=0;l.subscribe(ao(c,v=>{const y=h++;p=u?t(p,v,y):(u=!0,v),s&&c.next(p)},a&&(()=>{u&&c.next(p),c.complete()})))}}(t,i,arguments.length>=2,!0))}((l,c)=>(l.push(...c),l)),nD(null),function eye(t,i){const o=arguments.length>=2;return s=>s.pipe(t?lf((a,l)=>t(a,l,s)):_t,oA(1),o?nD(i):Pq(()=>new eD))}(),Oa(l=>{if(null===l)return S3(s);const c=fW(l);return function N2e(t){t.sort((i,o)=>i.value.outlet===ir?-1:o.value.outlet===ir?1:i.value.outlet.localeCompare(o.value.outlet))}(c),Bn(c)}))}processSegment(i,o,s,a,l,c){return Ps(o).pipe(p3(u=>this.processSegmentAgainstRoute(u._injector??i,o,u,s,a,l,c).pipe(f3(p=>{if(p instanceof wA)return Bn(null);throw p}))),xv(u=>!!u),f3(u=>{if(uW(u))return function k2e(t,i,o){return 0===i.length&&!t.children[o]}(s,a,l)?Bn(new M2e):S3(s);throw u}))}processSegmentAgainstRoute(i,o,s,a,l,c,u){return function O2e(t,i,o,s){return!!(Cd(t)===s||s!==ir&&mD(i,o,t))&&DA(i,t,o).matched}(s,a,l,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(i,a,s,l,c):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(i,a,o,s,l,c):S3(a):S3(a)}expandSegmentAgainstRouteUsingRedirect(i,o,s,a,l,c){const{matched:u,consumedSegments:p,positionalParamSegments:h,remainingSegments:v}=DA(o,a,l);if(!u)return S3(o);a.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const y=this.applyRedirects.applyRedirectCommands(p,a.redirectTo,h);return this.applyRedirects.lineralizeSegments(a,y).pipe(Oa(E=>this.processSegment(i,s,o,E.concat(v),c,!1)))}matchSegmentAgainstRoute(i,o,s,a,l){const c=w2e(o,s,a,i);return"**"===s.path&&(o.children={}),c.pipe(l0(u=>u.matched?this.getChildConfig(i=s._injector??i,s,a).pipe(l0(({routes:p})=>{const h=s._loadedInjector??i,{consumedSegments:v,remainingSegments:y,parameters:E}=u,S=new vA(v,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function F2e(t){return t.data||{}}(s),Cd(s),s.component??s._loadedComponent??null,s,function B2e(t){return t.resolve||{}}(s)),{segmentGroup:D,slicedSegments:k}=pW(o,v,y,p);if(0===k.length&&D.hasChildren())return this.processChildren(h,p,D).pipe(Sr(L=>null===L?null:new c0(S,L)));if(0===p.length&&0===k.length)return Bn(new c0(S,[]));const R=Cd(s)===l;return this.processSegment(h,p,D,k,R?ir:l,!0).pipe(Sr(L=>new c0(S,L instanceof c0?[L]:[])))})):S3(o)))}getChildConfig(i,o,s){return o.children?Bn({routes:o.children,injector:i}):o.loadChildren?void 0!==o._loadedRoutes?Bn({routes:o._loadedRoutes,injector:o._loadedInjector}):function y2e(t,i,o,s){const a=i.canLoad;return void 0===a||0===a.length?Bn(!0):Bn(a.map(c=>{const u=x3(c,t);return mm(function o2e(t){return t&&Ox(t.canLoad)}(u)?u.canLoad(i,o):es(t,()=>u(i,o)))})).pipe(w3(),dW())}(i,o,s).pipe(Oa(a=>a?this.configLoader.loadChildren(i,o).pipe(cl(l=>{o._loadedRoutes=l.routes,o._loadedInjector=l.injector})):function E2e(t){return tD(sW(!1,bc.GuardRejected))}())):Bn({routes:[],injector:i})}}function L2e(t){const i=t.value.routeConfig;return i&&""===i.path}function fW(t){const i=[],o=new Set;for(const s of t){if(!L2e(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),o.add(a)):i.push(s)}for(const s of o){const a=fW(s.children);i.push(new c0(s.value,a))}return i.filter(s=>!o.has(s))}function hW(t){const i=t.children.map(o=>hW(o)).flat();return[t,...i]}function TA(t){return l0(i=>{const o=t(i);return o?Ps(o).pipe(Sr(()=>i)):Bn(i)})}let mW=(()=>{class t{buildTitle(o){let s,a=o.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(l=>l.outlet===ir);return s}getResolvedTitleForRoute(o){return o.data[yx]}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>tt(U2e),providedIn:"root"})}return t})(),U2e=(()=>{class t extends mW{constructor(o){super(),this.title=o}updateTitle(o){const s=this.buildTitle(o);void 0!==s&&this.title.setTitle(s)}static#e=this.\u0275fac=function(s){return new(s||t)(un(Yge))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const C3=new At("",{providedIn:"root",factory:()=>({})}),D3=new At("");let PA=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=tt(PU)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Bn(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);const s=mm(o.loadComponent()).pipe(Sr(gW),cl(l=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=l}),vx(()=>{this.componentLoaders.delete(o)})),a=new Tq(s,()=>new Zs).pipe(iA());return this.componentLoaders.set(o,a),a}loadChildren(o,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Bn({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const l=function G2e(t,i,o,s){return mm(t.loadChildren()).pipe(Sr(gW),Oa(a=>a instanceof pr||Array.isArray(a)?Bn(a):Ps(i.compileModuleAsync(a))),Sr(a=>{s&&s(t);let l,c,u=!1;return Array.isArray(a)?(c=a,!0):(l=a.create(o).injector,c=l.get(D3,[],{optional:!0,self:!0}).flat()),{routes:c.map(xA),injector:l}}))}(s,this.compiler,o,this.onLoadEndListener).pipe(vx(()=>{this.childrenLoaders.delete(s)})),c=new Tq(l,()=>new Zs).pipe(iA());return this.childrenLoaders.set(s,c),c}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gW(t){return function q2e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let OA=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>tt(W2e),providedIn:"root"})}return t})(),W2e=(()=>{class t{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,s){return o}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vW=new At(""),yW=new At("");function X2e(t,i,o){const s=t.get(yW),a=t.get(vc);return t.get(Lr).runOutsideAngular(()=>{if(!a.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(h=>setTimeout(h));let l;const c=new Promise(h=>{l=h}),u=a.startViewTransition(()=>(l(),function Y2e(t){return new Promise(i=>{gE(i,{injector:t})})}(t))),{onViewTransitionCreated:p}=s;return p&&es(t,()=>p({transition:u,from:i,to:o})),c})}let gD=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Zs,this.transitionAbortSubject=new Zs,this.configLoader=tt(PA),this.environmentInjector=tt(qr),this.urlSerializer=tt(g3),this.rootContexts=tt(Sx),this.location=tt(ux),this.inputBindingEnabled=null!==tt(pD,{optional:!0}),this.titleStrategy=tt(mW),this.options=tt(C3,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=tt(OA),this.createViewTransition=tt(vW,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new Lye(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new Nye(a))}complete(){this.transitions?.complete()}handleNavigationRequest(o){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...o,id:s})}setupNavigations(o,s,a){return this.transitions=new Mt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wx,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lf(l=>0!==l.id),Sr(l=>({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),l0(l=>{let c=!1,u=!1;return Bn(l).pipe(l0(p=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",bc.SupersededByNewNavigation),xd;this.currentTransition=l,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const h=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!h&&"reload"!==(p.extras.onSameUrlNavigation??o.onSameUrlNavigation)){const y="";return this.events.next(new b3(p.id,this.urlSerializer.serialize(p.rawUrl),y,uD.IgnoredSameUrlNavigation)),p.resolve(null),xd}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Bn(p).pipe(l0(y=>{const E=this.transitions?.getValue();return this.events.next(new cD(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions?.getValue()?xd:Promise.resolve(y)}),function j2e(t,i,o,s,a,l){return Oa(c=>function R2e(t,i,o,s,a,l,c="emptyOnly"){return new I2e(t,i,o,s,a,c,l).recognize()}(t,i,o,s,c.extractedUrl,a,l).pipe(Sr(({state:u,tree:p})=>({...c,targetSnapshot:u,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),cl(y=>{l.targetSnapshot=y.targetSnapshot,l.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const E=new Xq(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:y,extractedUrl:E,source:S,restoredState:D,extras:k}=p,R=new cD(y,this.urlSerializer.serialize(E),S,D);this.events.next(R);const L=Zq(this.rootComponentType).snapshot;return this.currentTransition=l={...p,targetSnapshot:L,urlAfterRedirects:E,extras:{...k,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=E,Bn(l)}{const y="";return this.events.next(new b3(p.id,this.urlSerializer.serialize(p.extractedUrl),y,uD.IgnoredByUrlHandlingStrategy)),p.resolve(null),xd}}),cl(p=>{const h=new Mye(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}),Sr(p=>(this.currentTransition=l={...p,guards:e2e(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},l)),function u2e(t,i){return Oa(o=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:c}}=o;return 0===c.length&&0===l.length?Bn({...o,guardsResult:!0}):function d2e(t,i,o,s){return Ps(t).pipe(Oa(a=>function v2e(t,i,o,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return l&&0!==l.length?Bn(l.map(u=>{const p=Dx(i)??a,h=x3(u,p);return mm(function l2e(t){return t&&Ox(t.canDeactivate)}(h)?h.canDeactivate(t,i,o,s):es(p,()=>h(t,i,o,s))).pipe(xv())})).pipe(w3()):Bn(!0)}(a.component,a.route,o,i,s)),xv(a=>!0!==a,!0))}(c,s,a,t).pipe(Oa(u=>u&&function i2e(t){return"boolean"==typeof t}(u)?function p2e(t,i,o,s){return Ps(i).pipe(p3(a=>rA(function h2e(t,i){return null!==t&&i&&i(new Fye(t)),Bn(!0)}(a.route.parent,s),function f2e(t,i){return null!==t&&i&&i(new jye(t)),Bn(!0)}(a.route,s),function g2e(t,i,o){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(c=>function t2e(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(c)).filter(c=>null!==c).map(c=>Dq(()=>Bn(c.guards.map(p=>{const h=Dx(c.node)??o,v=x3(p,h);return mm(function a2e(t){return t&&Ox(t.canActivateChild)}(v)?v.canActivateChild(s,t):es(h,()=>v(s,t))).pipe(xv())})).pipe(w3())));return Bn(l).pipe(w3())}(t,a.path,o),function m2e(t,i,o){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return Bn(!0);const a=s.map(l=>Dq(()=>{const c=Dx(i)??o,u=x3(l,c);return mm(function s2e(t){return t&&Ox(t.canActivate)}(u)?u.canActivate(i,t):es(c,()=>u(i,t))).pipe(xv())}));return Bn(a).pipe(w3())}(t,a.route,o))),xv(a=>!0!==a,!0))}(s,l,t,i):Bn(u)),Sr(u=>({...o,guardsResult:u})))})}(this.environmentInjector,p=>this.events.next(p)),cl(p=>{if(l.guardsResult=p.guardsResult,v3(p.guardsResult))throw oW(0,p.guardsResult);const h=new Rye(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(h)}),lf(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",bc.GuardRejected),!1)),TA(p=>{if(p.guards.canActivateChecks.length)return Bn(p).pipe(cl(h=>{const v=new Aye(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}),l0(h=>{let v=!1;return Bn(h).pipe(function $2e(t,i){return Oa(o=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=o;if(!a.length)return Bn(o);const l=new Set(a.map(p=>p.route)),c=new Set;for(const p of l)if(!c.has(p))for(const h of hW(p))c.add(h);let u=0;return Ps(c).pipe(p3(p=>l.has(p)?function V2e(t,i,o,s){const a=t.routeConfig,l=t._resolve;return void 0!==a?.title&&!tW(a)&&(l[yx]=a.title),function z2e(t,i,o,s){const a=sA(t);if(0===a.length)return Bn({});const l={};return Ps(a).pipe(Oa(c=>function H2e(t,i,o,s){const a=Dx(i)??s,l=x3(t,a);return mm(l.resolve?l.resolve(i,o):es(a,()=>l(i,o)))}(t[c],i,o,s).pipe(xv(),cl(u=>{l[c]=u}))),oA(1),function tye(t){return Sr(()=>t)}(l),f3(c=>uW(c)?xd:tD(c)))}(l,t,i,s).pipe(Sr(c=>(t._resolvedData=c,t.data=gA(t,t.parent,o).resolve,null)))}(p,s,t,i):(p.data=gA(p,p.parent,t).resolve,Bn(void 0))),cl(()=>u++),oA(1),Oa(p=>u===c.size?Bn(o):xd))})}(this.paramsInheritanceStrategy,this.environmentInjector),cl({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(h,"",bc.NoDataFromResolver)}}))}),cl(h=>{const v=new Iye(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}))}),TA(p=>{const h=v=>{const y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(cl(E=>{v.component=E}),Sr(()=>{})));for(const E of v.children)y.push(...h(E));return y};return nA(h(p.targetSnapshot.root)).pipe(nD(null),d3(1))}),TA(()=>this.afterPreactivation()),l0(()=>{const{currentSnapshot:p,targetSnapshot:h}=l,v=this.createViewTransition?.(this.environmentInjector,p.root,h.root);return v?Ps(v).pipe(Sr(()=>l)):Bn(l)}),Sr(p=>{const h=function Hye(t,i,o){const s=Cx(t,i._root,o?o._root:void 0);return new Qq(s,i)}(o.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=l={...p,targetRouterState:h},this.currentNavigation.targetRouterState=h,l}),cl(()=>{this.events.next(new pA)}),((t,i,o,s)=>Sr(a=>(new Jye(i,a.targetRouterState,a.currentRouterState,o,s).activate(t),a)))(this.rootContexts,o.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),d3(1),cl({next:p=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cf(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{c=!0}}),function nye(t){return go((i,o)=>{sf(t).subscribe(ao(o,()=>o.complete(),kr)),!o.closed&&i.subscribe(o)})}(this.transitionAbortSubject.pipe(cl(p=>{throw p}))),vx(()=>{!c&&!u&&this.cancelNavigationTransition(l,"",bc.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),f3(p=>{if(u=!0,aW(p))this.events.next(new y3(l.id,this.urlSerializer.serialize(l.extractedUrl),p.message,p.cancellationCode)),function qye(t){return aW(t)&&v3(t.url)}(p)?this.events.next(new fA(p.url)):l.resolve(!1);else{this.events.next(new dD(l.id,this.urlSerializer.serialize(l.extractedUrl),p,l.targetSnapshot??void 0));try{l.resolve(o.errorHandler(p))}catch(h){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(h)}}return xd}))}))}cancelNavigationTransition(o,s,a){const l=new y3(o.id,this.urlSerializer.serialize(o.extractedUrl),s,a);this.events.next(l),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function K2e(t){return t!==wx}let Q2e=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>tt(J2e),providedIn:"root"})}return t})();class Z2e{shouldDetach(i){return!1}store(i,o){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,o){return i.routeConfig===o.routeConfig}}let J2e=(()=>{class t extends Z2e{static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=D2(t)))(a||t)}})();static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bW=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:()=>tt(ebe),providedIn:"root"})}return t})(),ebe=(()=>{class t extends bW{constructor(){super(...arguments),this.location=tt(ux),this.urlSerializer=tt(g3),this.options=tt(C3,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=tt(OA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new m3,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zq(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(s=>{"popstate"===s.type&&o(s.url,s.state)})}handleRouterEvent(o,s){if(o instanceof cD)this.stateMemento=this.createStateMemento();else if(o instanceof b3)this.rawUrlTree=s.initialUrl;else if(o instanceof Xq){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(a,s)}}else o instanceof pA?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):o instanceof y3&&(o.code===bc.GuardRejected||o.code===bc.NoDataFromResolver)?this.restoreHistory(s):o instanceof dD?this.restoreHistory(s,!0):o instanceof cf&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,s){const a=this.urlSerializer.serialize(o);if(this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl){const c={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(a,"",c)}else{const l={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(a,"",l)}}restoreHistory(o,s=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===o.finalUrl&&0===l&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,s){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:s}:{navigationId:o}}static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=D2(t)))(a||t)}})();static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kx=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kx||{});function _W(t,i){t.events.pipe(lf(o=>o instanceof cf||o instanceof y3||o instanceof dD||o instanceof b3),Sr(o=>o instanceof cf||o instanceof b3?kx.COMPLETE:o instanceof y3&&(o.code===bc.Redirect||o.code===bc.SupersededByNewNavigation)?kx.REDIRECTING:kx.FAILED),lf(o=>o!==kx.REDIRECTING),d3(1)).subscribe(()=>{i()})}function tbe(t){throw t}const nbe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let u0=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=tt(yU),this.stateManager=tt(bW),this.options=tt(C3,{optional:!0})||{},this.pendingTasks=tt(_r),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=tt(gD),this.urlSerializer=tt(g3),this.location=tt(ux),this.urlHandlingStrategy=tt(OA),this._events=new Zs,this.errorHandler=this.options.errorHandler||tbe,this.navigated=!1,this.routeReuseStrategy=tt(Q2e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=tt(D3,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!tt(pD,{optional:!0}),this.eventsSubscription=new Gt,this.isNgZoneEnabled=tt(Lr)instanceof Lr&&Lr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const o=this.navigationTransitions.events.subscribe(s=>{try{const a=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(null!==a&&null!==l)if(this.stateManager.handleRouterEvent(s,l),s instanceof y3&&s.code!==bc.Redirect&&s.code!==bc.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof cf)this.navigated=!0;else if(s instanceof fA){const c=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),u={info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||K2e(a.source)};this.scheduleNavigation(c,wx,null,u,{resolve:a.resolve,reject:a.reject,promise:a.promise})}(function obe(t){return!(t instanceof pA||t instanceof fA)})(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wx,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",s)},0)})}navigateToSyncWithBrowser(o,s,a){const l={replaceUrl:!0},c=a?.navigationId?a:null;if(a){const p={...a};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(l.state=p)}const u=this.parseUrl(o);this.scheduleNavigation(u,s,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(xA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,s={}){const{relativeTo:a,queryParams:l,fragment:c,queryParamsHandling:u,preserveFragment:p}=s,h=p?this.currentUrlTree.fragment:c;let y,v=null;switch(u){case"merge":v={...this.currentUrlTree.queryParams,...l};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=l||null}null!==v&&(v=this.removeEmptyProps(v));try{y=Vq(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof o[0]||!o[0].startsWith("/"))&&(o=[]),y=this.currentUrlTree.root}return zq(y,o,v,h??null)}navigateByUrl(o,s={skipLocationChange:!1}){const a=v3(o)?o:this.parseUrl(o),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,wx,null,s)}navigate(o,s={skipLocationChange:!1}){return function ibe(t){for(let i=0;i<t.length;i++)if(null==t[i])throw new it(4008,!1)}(o),this.navigateByUrl(this.createUrlTree(o,s),s)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,s){let a;if(a=!0===s?{...nbe}:!1===s?{...rbe}:s,v3(o))return Rq(this.currentUrlTree,o,a);const l=this.parseUrl(o);return Rq(this.currentUrlTree,l,a)}removeEmptyProps(o){return Object.entries(o).reduce((s,[a,l])=>(null!=l&&(s[a]=l),s),{})}scheduleNavigation(o,s,a,l,c){if(this.disposed)return Promise.resolve(!1);let u,p,h;c?(u=c.resolve,p=c.reject,h=c.promise):h=new Promise((y,E)=>{u=y,p=E});const v=this.pendingTasks.add();return _W(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:l,resolve:u,reject:p,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class EW{}let lbe=(()=>{class t{constructor(o,s,a,l,c){this.router=o,this.injector=a,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(lf(o=>o instanceof cf),p3(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(o,s){const a=[];for(const l of s){l.providers&&!l._injector&&(l._injector=si(l.providers,o,`Route: ${l.path}`));const c=l._injector??o,u=l._loadedInjector??c;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&a.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&a.push(this.processRoutes(u,l.children??l._loadedRoutes))}return Ps(a).pipe(gx())}preloadConfig(o,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(o,s):Bn(null);const l=a.pipe(Oa(c=>null===c?Bn(void 0):(s._loadedRoutes=c.routes,s._loadedInjector=c.injector,this.processRoutes(c.injector??o,c.routes))));return s.loadComponent&&!s._loadedComponent?Ps([l,this.loader.loadComponent(s)]).pipe(gx()):l})}static#e=this.\u0275fac=function(s){return new(s||t)(un(u0),un(PU),un(qr),un(EW),un(PA))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const MA=new At("");let xW=(()=>{class t{constructor(o,s,a,l,c={}){this.urlSerializer=o,this.transitions=s,this.viewportScroller=a,this.zone=l,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=tt(qr),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(o=>{o instanceof cD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=o.navigationTrigger,this.restoredId=o.restoredState?o.restoredState.navigationId:0):o instanceof cf?(this.lastId=o.id,this.scheduleScrollEvent(o,this.urlSerializer.parse(o.urlAfterRedirects).fragment)):o instanceof b3&&o.code===uD.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(o,this.urlSerializer.parse(o.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(o=>{o instanceof Yq&&(o.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(o.position):o.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(o.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(o,s){var a=this;this.zone.runOutsideAngular(Ye(function*(){yield new Promise(l=>{setTimeout(()=>{l()}),gE(()=>{l()},{injector:a.environmentInjector})}),a.zone.run(()=>{a.transitions.events.next(new Yq(o,"popstate"===a.lastSource?a.store[a.restoredId]:null,s))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){!function kg(){throw new Error("invalid")}()};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();function Dd(t,i){return{\u0275kind:t,\u0275providers:i}}function SW(){const t=tt(na);return i=>{const o=t.get(pm);if(i!==o.components[0])return;const s=t.get(u0),a=t.get(CW);1===t.get(RA)&&s.initialNavigation(),t.get(DW,null,Zn.Optional)?.setUpPreloading(),t.get(MA,null,Zn.Optional)?.init(),s.resetRootComponentType(o.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const CW=new At("",{factory:()=>new Zs}),RA=new At("",{providedIn:"root",factory:()=>1}),DW=new At("");function pbe(t){return Dd(0,[{provide:DW,useExisting:lbe},{provide:EW,useExisting:t}])}function hbe(t){return Dd(9,[{provide:vW,useValue:X2e},{provide:yW,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const TW=new At("ROUTER_FORROOT_GUARD"),mbe=[ux,{provide:g3,useClass:aA},u0,Sx,{provide:E3,useFactory:function wW(t){return t.routerState.root},deps:[u0]},PA,[]];let PW=(()=>{class t{constructor(o){}static forRoot(o,s){return{ngModule:t,providers:[mbe,[],{provide:D3,multi:!0,useValue:o},{provide:TW,useFactory:bbe,deps:[[u0,new E1,new $y]]},{provide:C3,useValue:s||{}},s?.useHash?{provide:Ev,useClass:Dme}:{provide:Ev,useClass:yG},{provide:MA,useFactory:()=>{const t=tt(Y1e),i=tt(Lr),o=tt(C3),s=tt(gD),a=tt(g3);return o.scrollOffset&&t.setOffset(o.scrollOffset),new xW(a,s,t,i,o)}},s?.preloadingStrategy?pbe(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?_be(s):[],s?.bindToComponentInputs?Dd(8,[rW,{provide:pD,useExisting:rW}]).\u0275providers:[],s?.enableViewTransitions?hbe().\u0275providers:[],[{provide:OW,useFactory:SW},{provide:mR,multi:!0,useExisting:OW}]]}}static forChild(o){return{ngModule:t,providers:[{provide:D3,multi:!0,useValue:o}]}}static#e=this.\u0275fac=function(s){return new(s||t)(un(TW,8))};static#t=this.\u0275mod=Bs({type:t});static#n=this.\u0275inj=Yr({})}return t})();function bbe(t){return"guarded"}function _be(t){return["disabled"===t.initialNavigation?Dd(3,[{provide:fR,multi:!0,useFactory:()=>{const i=tt(u0);return()=>{i.setUpLocationChangeListener()}}},{provide:RA,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Dd(2,[{provide:RA,useValue:0},{provide:fR,multi:!0,deps:[na],useFactory:i=>{const o=i.get(Sme,Promise.resolve());return()=>o.then(()=>new Promise(s=>{const a=i.get(u0),l=i.get(CW);_W(a,()=>{s(!0)}),i.get(gD).afterPreactivation=()=>(s(!0),l.closed?Bn(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const OW=new At(""),xbe=[];let wbe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=Bs({type:t});static#n=this.\u0275inj=Yr({imports:[PW.forRoot(xbe),PW]})}return t})();var Mx,Jt,kW,Sv,MW,RW,AA,AW,Rx={},IW=[],Cbe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vD=Array.isArray;function uf(t,i){for(var o in i)t[o]=i[o];return t}function NW(t){var i=t.parentNode;i&&i.removeChild(t)}function zl(t,i,o){var s,a,l,c={};for(l in i)"key"==l?s=i[l]:"ref"==l?a=i[l]:c[l]=i[l];if(arguments.length>2&&(c.children=arguments.length>3?Mx.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===c[l]&&(c[l]=t.defaultProps[l]);return Ax(t,c,s,a,null)}function Ax(t,i,o,s,a){var l={type:t,props:i,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++kW,__i:-1,__u:0};return null==a&&null!=Jt.vnode&&Jt.vnode(l),l}function Td(t){return t.children}function Pd(t,i){this.props=t,this.context=i}function T3(t,i){if(null==i)return t.__?T3(t.__,t.__i+1):null;for(var o;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e)return o.__e;return"function"==typeof t.type?T3(t):null}function LW(t){var i,o;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e){t.__e=t.__c.base=o.__e;break}return LW(t)}}function IA(t){(!t.__d&&(t.__d=!0)&&Sv.push(t)&&!yD.__r++||MW!==Jt.debounceRendering)&&((MW=Jt.debounceRendering)||RW)(yD)}function yD(){var t,i,o,s,a,l,c,u,p;for(Sv.sort(AA);t=Sv.shift();)t.__d&&(i=Sv.length,s=void 0,l=(a=(o=t).__v).__e,u=[],p=[],(c=o.__P)&&((s=uf({},a)).__v=a.__v+1,Jt.vnode&&Jt.vnode(s),NA(c,s,a,o.__n,void 0!==c.ownerSVGElement,32&a.__u?[l]:null,u,l??T3(a),!!(32&a.__u),p),s.__.__k[s.__i]=s,zW(u,s,p),s.__e!=l&&LW(s)),Sv.length>i&&Sv.sort(AA));yD.__r=0}function FW(t,i,o,s,a,l,c,u,p,h,v){var y,E,S,D,k,R=s&&s.__k||IW,L=i.length;for(o.__d=p,function Tbe(t,i,o){var s,a,l,c,u,p=i.length,h=o.length,v=h,y=0;for(t.__k=[],s=0;s<p;s++)null!=(a=t.__k[s]=null==(a=i[s])||"boolean"==typeof a||"function"==typeof a?null:"string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?Ax(null,a,null,null,a):vD(a)?Ax(Td,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?Ax(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)?(a.__=t,a.__b=t.__b+1,u=Pbe(a,o,c=s+y,v),a.__i=u,l=null,-1!==u&&(v--,(l=o[u])&&(l.__u|=131072)),null==l||null===l.__v?(-1==u&&y--,"function"!=typeof a.type&&(a.__u|=65536)):u!==c&&(u===c+1?y++:u>c?v>p-c?y+=u-c:y--:y=u<c&&u==c-1?u-c:0,u!==s+y&&(a.__u|=65536))):(l=o[s])&&null==l.key&&l.__e&&(l.__e==t.__d&&(t.__d=T3(l)),FA(l,l,!1),o[s]=null,v--);if(v)for(s=0;s<h;s++)null!=(l=o[s])&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=T3(l)),FA(l,l))}(o,i,R),p=o.__d,y=0;y<L;y++)null!=(S=o.__k[y])&&"boolean"!=typeof S&&"function"!=typeof S&&(E=-1===S.__i?Rx:R[S.__i]||Rx,S.__i=y,NA(t,S,E,a,l,c,u,p,h,v),D=S.__e,S.ref&&E.ref!=S.ref&&(E.ref&&LA(E.ref,null,S),v.push(S.ref,S.__c||D,S)),null==k&&null!=D&&(k=D),65536&S.__u||E.__k===S.__k?p=BW(S,p,t):"function"==typeof S.type&&void 0!==S.__d?p=S.__d:D&&(p=D.nextSibling),S.__d=void 0,S.__u&=-196609);o.__d=p,o.__e=k}function BW(t,i,o){var s,a;if("function"==typeof t.type){for(s=t.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=t,i=BW(s[a],i,o));return i}return t.__e!=i&&(o.insertBefore(t.__e,i||null),i=t.__e),i&&i.nextSibling}function df(t,i){return i=i||[],null==t||"boolean"==typeof t||(vD(t)?t.some(function(o){df(o,i)}):i.push(t)),i}function Pbe(t,i,o,s){var a=t.key,l=t.type,c=o-1,u=o+1,p=i[o];if(null===p||p&&a==p.key&&l===p.type)return o;if(s>(null==p||131072&p.__u?0:1))for(;c>=0||u<i.length;){if(c>=0){if((p=i[c])&&!(131072&p.__u)&&a==p.key&&l===p.type)return c;c--}if(u<i.length){if((p=i[u])&&!(131072&p.__u)&&a==p.key&&l===p.type)return u;u++}}return-1}function jW(t,i,o){"-"===i[0]?t.setProperty(i,o??""):t[i]=null==o?"":"number"!=typeof o||Cbe.test(i)?o:o+"px"}function bD(t,i,o,s,a){var l;e:if("style"===i)if("string"==typeof o)t.style.cssText=o;else{if("string"==typeof s&&(t.style.cssText=s=""),s)for(i in s)o&&i in o||jW(t.style,i,"");if(o)for(i in o)s&&o[i]===s[i]||jW(t.style,i,o[i])}else if("o"===i[0]&&"n"===i[1])l=i!==(i=i.replace(/(PointerCapture)$|Capture$/,"$1")),i=i.toLowerCase()in t?i.toLowerCase().slice(2):i.slice(2),t.l||(t.l={}),t.l[i+l]=o,o?s?o.u=s.u:(o.u=Date.now(),t.addEventListener(i,l?VW:$W,l)):t.removeEventListener(i,l?VW:$W,l);else{if(a)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==i&&"height"!==i&&"href"!==i&&"list"!==i&&"form"!==i&&"tabIndex"!==i&&"download"!==i&&"rowSpan"!==i&&"colSpan"!==i&&"role"!==i&&i in t)try{t[i]=o??"";break e}catch{}"function"==typeof o||(null==o||!1===o&&"-"!==i[4]?t.removeAttribute(i):t.setAttribute(i,o))}}function $W(t){var i=this.l[t.type+!1];if(t.t){if(t.t<=i.u)return}else t.t=Date.now();return i(Jt.event?Jt.event(t):t)}function VW(t){return this.l[t.type+!0](Jt.event?Jt.event(t):t)}function NA(t,i,o,s,a,l,c,u,p,h){var v,y,E,S,D,k,R,L,N,B,$,q,ee,ae,te,ne=i.type;if(void 0!==i.constructor)return null;128&o.__u&&(p=!!(32&o.__u),l=[u=i.__e=o.__e]),(v=Jt.__b)&&v(i);e:if("function"==typeof ne)try{if(L=i.props,N=(v=ne.contextType)&&s[v.__c],B=v?N?N.props.value:v.__:s,o.__c?R=(y=i.__c=o.__c).__=y.__E:("prototype"in ne&&ne.prototype.render?i.__c=y=new ne(L,B):(i.__c=y=new Pd(L,B),y.constructor=ne,y.render=kbe),N&&N.sub(y),y.props=L,y.state||(y.state={}),y.context=B,y.__n=s,E=y.__d=!0,y.__h=[],y._sb=[]),null==y.__s&&(y.__s=y.state),null!=ne.getDerivedStateFromProps&&(y.__s==y.state&&(y.__s=uf({},y.__s)),uf(y.__s,ne.getDerivedStateFromProps(L,y.__s))),S=y.props,D=y.state,y.__v=i,E)null==ne.getDerivedStateFromProps&&null!=y.componentWillMount&&y.componentWillMount(),null!=y.componentDidMount&&y.__h.push(y.componentDidMount);else{if(null==ne.getDerivedStateFromProps&&L!==S&&null!=y.componentWillReceiveProps&&y.componentWillReceiveProps(L,B),!y.__e&&(null!=y.shouldComponentUpdate&&!1===y.shouldComponentUpdate(L,y.__s,B)||i.__v===o.__v)){for(i.__v!==o.__v&&(y.props=L,y.state=y.__s,y.__d=!1),i.__e=o.__e,i.__k=o.__k,i.__k.forEach(function(he){he&&(he.__=i)}),$=0;$<y._sb.length;$++)y.__h.push(y._sb[$]);y._sb=[],y.__h.length&&c.push(y);break e}null!=y.componentWillUpdate&&y.componentWillUpdate(L,y.__s,B),null!=y.componentDidUpdate&&y.__h.push(function(){y.componentDidUpdate(S,D,k)})}if(y.context=B,y.props=L,y.__P=t,y.__e=!1,q=Jt.__r,ee=0,"prototype"in ne&&ne.prototype.render){for(y.state=y.__s,y.__d=!1,q&&q(i),v=y.render(y.props,y.state,y.context),ae=0;ae<y._sb.length;ae++)y.__h.push(y._sb[ae]);y._sb=[]}else do{y.__d=!1,q&&q(i),v=y.render(y.props,y.state,y.context),y.state=y.__s}while(y.__d&&++ee<25);y.state=y.__s,null!=y.getChildContext&&(s=uf(uf({},s),y.getChildContext())),E||null==y.getSnapshotBeforeUpdate||(k=y.getSnapshotBeforeUpdate(S,D)),FW(t,vD(te=null!=v&&v.type===Td&&null==v.key?v.props.children:v)?te:[te],i,o,s,a,l,c,u,p,h),y.base=i.__e,i.__u&=-161,y.__h.length&&c.push(y),R&&(y.__E=y.__=null)}catch(he){i.__v=null,p||null!=l?(i.__e=u,i.__u|=p?160:32,l[l.indexOf(u)]=null):(i.__e=o.__e,i.__k=o.__k),Jt.__e(he,i,o)}else null==l&&i.__v===o.__v?(i.__k=o.__k,i.__e=o.__e):i.__e=function Obe(t,i,o,s,a,l,c,u,p){var h,v,y,E,S,D,k,R=o.props,L=i.props,N=i.type;if("svg"===N&&(a=!0),null!=l)for(h=0;h<l.length;h++)if((S=l[h])&&"setAttribute"in S==!!N&&(N?S.localName===N:3===S.nodeType)){t=S,l[h]=null;break}if(null==t){if(null===N)return document.createTextNode(L);t=a?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,L.is&&L),l=null,u=!1}if(null===N)R===L||u&&t.data===L||(t.data=L);else{if(l=l&&Mx.call(t.childNodes),R=o.props||Rx,!u&&null!=l)for(R={},h=0;h<t.attributes.length;h++)R[(S=t.attributes[h]).name]=S.value;for(h in R)S=R[h],"children"==h||("dangerouslySetInnerHTML"==h?y=S:"key"===h||h in L||bD(t,h,null,S,a));for(h in L)S=L[h],"children"==h?E=S:"dangerouslySetInnerHTML"==h?v=S:"value"==h?D=S:"checked"==h?k=S:"key"===h||u&&"function"!=typeof S||R[h]===S||bD(t,h,S,R[h],a);if(v)u||y&&(v.__html===y.__html||v.__html===t.innerHTML)||(t.innerHTML=v.__html),i.__k=[];else if(y&&(t.innerHTML=""),FW(t,vD(E)?E:[E],i,o,s,a&&"foreignObject"!==N,l,c,l?l[0]:o.__k&&T3(o,0),u,p),null!=l)for(h=l.length;h--;)null!=l[h]&&NW(l[h]);u||(h="value",void 0!==D&&(D!==t[h]||"progress"===N&&!D||"option"===N&&D!==R[h])&&bD(t,h,D,R[h],!1),h="checked",void 0!==k&&k!==t[h]&&bD(t,h,k,R[h],!1))}return t}(o.__e,i,o,s,a,l,c,p,h);(v=Jt.diffed)&&v(i)}function zW(t,i,o){i.__d=void 0;for(var s=0;s<o.length;s++)LA(o[s],o[++s],o[++s]);Jt.__c&&Jt.__c(i,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(l){l.call(a)})}catch(l){Jt.__e(l,a.__v)}})}function LA(t,i,o){try{"function"==typeof t?t(i):t.current=i}catch(s){Jt.__e(s,o)}}function FA(t,i,o){var s,a;if(Jt.unmount&&Jt.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||LA(s,null,i)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){Jt.__e(l,i)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(a=0;a<s.length;a++)s[a]&&FA(s[a],i,o||"function"!=typeof t.type);o||null==t.__e||NW(t.__e),t.__=t.__e=t.__d=void 0}function kbe(t,i,o){return this.constructor(t,o)}function Cv(t,i,o){var s,a,l,c;Jt.__&&Jt.__(t,i),a=(s="function"==typeof o)?null:o&&o.__k||i.__k,l=[],c=[],NA(i,t=(!s&&o||i).__k=zl(Td,null,[t]),a||Rx,Rx,void 0!==i.ownerSVGElement,!s&&o?[o]:a?null:i.firstChild?Mx.call(i.childNodes):null,l,!s&&o?o:a?a.__e:i.firstChild,s,c),zW(l,t,c)}function gm(t,i){var o={__c:i="__cC"+AW++,__:t,Consumer:function(s,a){return s.children(a)},Provider:function(s){var a,l;return this.getChildContext||(a=[],(l={})[i]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.some(function(u){u.__e=!0,IA(u)})},this.sub=function(c){a.push(c);var u=c.componentWillUnmount;c.componentWillUnmount=function(){a.splice(a.indexOf(c),1),u&&u.call(c)}}),s.children}};return o.Provider.__=o.Consumer.contextType=o}Mx=IW.slice,Jt={__e:function(t,i,o,s){for(var a,l,c;i=i.__;)if((a=i.__c)&&!a.__)try{if((l=a.constructor)&&null!=l.getDerivedStateFromError&&(a.setState(l.getDerivedStateFromError(t)),c=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(t,s||{}),c=a.__d),c)return a.__E=a}catch(u){t=u}throw t}},kW=0,Pd.prototype.setState=function(t,i){var o;o=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=uf({},this.state),"function"==typeof t&&(t=t(uf({},o),this.props)),t&&uf(o,t),null!=t&&this.__v&&(i&&this._sb.push(i),IA(this))},Pd.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),IA(this))},Pd.prototype.render=Td,Sv=[],RW="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,AA=function(t,i){return t.__v.__b-i.__v.__b},yD.__r=0,AW=0;var pf,Ai,BA,UW,P3=0,GW=[],_D=[],qW=Jt.__b,WW=Jt.__r,XW=Jt.diffed,YW=Jt.__c,KW=Jt.unmount;function Dv(t,i){Jt.__h&&Jt.__h(Ai,t,P3||i),P3=0;var o=Ai.__H||(Ai.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:_D}),o.__[t]}function Xn(t){return P3=1,function QW(t,i,o){var s=Dv(pf++,2);if(s.t=t,!s.__c&&(s.__=[o?o(i):JW(void 0,i),function(u){var p=s.__N?s.__N[0]:s.__[0],h=s.t(p,u);p!==h&&(s.__N=[h,s.__[1]],s.__c.setState({}))}],s.__c=Ai,!Ai.u)){var a=function(u,p,h){if(!s.__c.__H)return!0;var v=s.__c.__H.__.filter(function(E){return E.__c});if(v.every(function(E){return!E.__N}))return!l||l.call(this,u,p,h);var y=!1;return v.forEach(function(E){if(E.__N){var S=E.__[0];E.__=E.__N,E.__N=void 0,S!==E.__[0]&&(y=!0)}}),!(!y&&s.__c.props===u)&&(!l||l.call(this,u,p,h))};Ai.u=!0;var l=Ai.shouldComponentUpdate,c=Ai.componentWillUpdate;Ai.componentWillUpdate=function(u,p,h){if(this.__e){var v=l;l=void 0,a(u,p,h),l=v}c&&c.call(this,u,p,h)},Ai.shouldComponentUpdate=a}return s.__N||s.__}(JW,t)}function pn(t,i){var o=Dv(pf++,3);!Jt.__s&&$A(o.__H,i)&&(o.__=t,o.i=i,Ai.__H.__h.push(o))}function O3(t,i){var o=Dv(pf++,4);!Jt.__s&&$A(o.__H,i)&&(o.__=t,o.i=i,Ai.__h.push(o))}function _i(t){return P3=5,ka(function(){return{current:t}},[])}function ka(t,i){var o=Dv(pf++,7);return $A(o.__H,i)?(o.__V=t(),o.i=i,o.__h=t,o.__V):o.__}function Hl(t,i){return P3=8,ka(function(){return t},i)}function ul(t){var i=Ai.context[t.__c],o=Dv(pf++,9);return o.c=t,i?(null==o.__&&(o.__=!0,i.sub(Ai)),i.props.value):t.__}function Nbe(){for(var t;t=GW.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ED),t.__H.__h.forEach(jA),t.__H.__h=[]}catch(i){t.__H.__h=[],Jt.__e(i,t.__v)}}Jt.__b=function(t){Ai=null,qW&&qW(t)},Jt.__r=function(t){WW&&WW(t),pf=0;var i=(Ai=t.__c).__H;i&&(BA===Ai?(i.__h=[],Ai.__h=[],i.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=_D,o.__N=o.i=void 0})):(i.__h.forEach(ED),i.__h.forEach(jA),i.__h=[],pf=0)),BA=Ai},Jt.diffed=function(t){XW&&XW(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==GW.push(i)&&UW===Jt.requestAnimationFrame||((UW=Jt.requestAnimationFrame)||Lbe)(Nbe)),i.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==_D&&(o.__=o.__V),o.i=void 0,o.__V=_D})),BA=Ai=null},Jt.__c=function(t,i){i.some(function(o){try{o.__h.forEach(ED),o.__h=o.__h.filter(function(s){return!s.__||jA(s)})}catch(s){i.some(function(a){a.__h&&(a.__h=[])}),i=[],Jt.__e(s,o.__v)}}),YW&&YW(t,i)},Jt.unmount=function(t){KW&&KW(t);var i,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(s){try{ED(s)}catch(a){i=a}}),o.__H=void 0,i&&Jt.__e(i,o.__v))};var ZW="function"==typeof requestAnimationFrame;function Lbe(t){var i,o=function(){clearTimeout(s),ZW&&cancelAnimationFrame(i),setTimeout(t)},s=setTimeout(o,100);ZW&&(i=requestAnimationFrame(o))}function ED(t){var i=Ai,o=t.__c;"function"==typeof o&&(t.__c=void 0,o()),Ai=i}function jA(t){var i=Ai;t.__c=t.__(),Ai=i}function $A(t,i){return!t||t.length!==i.length||i.some(function(o,s){return o!==t[s]})}function JW(t,i){return"function"==typeof i?i(t):i}function Ix(t){return Array.prototype.concat.apply([],t)}const Nx=Object.prototype.toString,Fbe=Object.prototype.hasOwnProperty;function Ul(t){return void 0===t}function Ii(t){return void 0!==t}function xD(t){return null==t}function Rn(t){return"[object Array]"===Nx.call(t)}function Oo(t){return"[object Object]"===Nx.call(t)}function mn(t){return"[object Number]"===Nx.call(t)}function Br(t){const i=Nx.call(t);return"[object Function]"===i||"[object AsyncFunction]"===i||"[object GeneratorFunction]"===i||"[object AsyncGeneratorFunction]"===i||"[object Proxy]"===i}function oa(t){return"[object String]"===Nx.call(t)}function Gl(t,i){return Fbe.call(t,i)}function Kn(t,i){const o=wD(i);let s;return _e(t,function(a,l){if(o(a,l))return s=a,!1}),s}function Lx(t,i){const o=wD(i);let s=Rn(t)?-1:void 0;return _e(t,function(a,l){if(o(a,l))return s=l,!1}),s}function On(t,i){const o=wD(i);let s=[];return _e(t,function(a,l){o(a,l)&&s.push(a)}),s}function _e(t,i){let o,s;if(Ul(t))return;const a=Rn(t)?zbe:Vbe;for(let l in t)if(Gl(t,l)&&(o=t[l],s=i(o,a(l)),!1===s))return o}function Ci(t,i){if(Ul(t))return[];!function Bbe(t){if(!Rn(t))throw new Error("must supply array")}(t);const o=wD(i);return t.filter(function(s,a){return!o(s,a)})}function dl(t,i,o){return _e(t,function(s,a){o=i(o,s,a)}),o}function k3(t,i){return!!dl(t,function(o,s,a){return o&&i(s,a)},!0)}function ff(t,i){return!!Kn(t,i)}function ko(t,i){let o=[];return _e(t,function(s,a){o.push(i(s,a))}),o}function M3(t){return t&&Object.keys(t)||[]}function VA(t){return ko(t,i=>i)}function Tv(t,i,o={}){return i=zA(i),_e(t,function(s){let a=i(s)||"_",l=o[a];l||(l=o[a]=[]),l.push(s)}),o}function eX(t,...i){t=zA(t);let o={};return _e(i,a=>Tv(a,t,o)),ko(o,function(a,l){return a[0]})}const $be=eX;function os(t,i){i=zA(i);let o=[];return _e(t,function(s,a){let l=i(s,a),c={d:l,v:s};for(var u=0;u<o.length;u++){let{d:p}=o[u];if(l<p)return void o.splice(u,0,c)}o.push(c)}),ko(o,s=>s.v)}function d0(t){return function(i){return k3(t,function(o,s){return i[s]===o})}}function zA(t){return Br(t)?t:i=>i[t]}function wD(t){return Br(t)?t:i=>i===t}function Vbe(t){return t}function zbe(t){return Number(t)}function HA(t,i){let o,s,a,l;function c(y){let E=Date.now(),S=y?0:l+i-E;if(S>0)return u(S);t.apply(a,s),p()}function u(y){o=setTimeout(c,y)}function p(){o&&clearTimeout(o),o=l=s=a=void 0}function v(...y){l=Date.now(),s=y,a=this,o||u(i)}return v.flush=function h(){o&&c(!0),p()},v.cancel=p,v}function pl(t,i){return t.bind(i)}function Ae(t,...i){return Object.assign(t,...i)}function tX(t,i,o){let s=t;return _e(i,function(a,l){if("number"!=typeof a&&"string"!=typeof a)throw new Error("illegal key type: "+typeof a+". Key should be of type number or string.");if("constructor"===a)throw new Error("illegal key: constructor");if("__proto__"===a)throw new Error("illegal key: __proto__");let c=i[l+1],u=s[a];Ii(c)&&xD(u)&&(u=s[a]=isNaN(+c)?{}:[]),Ul(c)?Ul(o)?delete s[a]:s[a]=o:s=u}),t}function p0(t,i){let o={},s=Object(t);return _e(i,function(a){a in s&&(o[a]=t[a])}),o}function Od(t,i){let o={};return _e(Object(t),function(a,l){-1===i.indexOf(l)&&(o[l]=a)}),o}function nX(t,i){for(var o in i)t[o]=i[o];return t}function UA(t,i){for(var o in t)if("__source"!==o&&!(o in i))return!0;for(var s in i)if("__source"!==s&&t[s]!==i[s])return!0;return!1}function GA(t){this.props=t}(GA.prototype=new Pd).isPureReactComponent=!0,GA.prototype.shouldComponentUpdate=function(t,i){return UA(this.props,t)||UA(this.state,i)};var rX=Jt.__b;Jt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),rX&&rX(t)};var qbe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function hf(t){function i(o){var s=nX({},o);return delete s.ref,t(s,o.ref||null)}return i.$$typeof=qbe,i.render=i,i.prototype.isReactComponent=i.__f=!0,i.displayName="ForwardRef("+(t.displayName||t.name)+")",i}var Xbe=Jt.__e;Jt.__e=function(t,i,o,s){if(t.then)for(var a,l=i;l=l.__;)if((a=l.__c)&&a.__c)return null==i.__e&&(i.__e=o.__e,i.__k=o.__k),a.__c(t,i);Xbe(t,i,o,s)};var oX=Jt.unmount;function sX(t,i,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){"function"==typeof s.__c&&s.__c()}),t.__c.__H=null),null!=(t=nX({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=i),t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return sX(s,i,o)})),t}function aX(t,i,o){return t&&o&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return aX(s,i,o)}),t.__c&&t.__c.__P===i&&(t.__e&&o.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=o)),t}function SD(){this.__u=0,this.t=null,this.__b=null}function lX(t){var i=t.__.__c;return i&&i.__a&&i.__a(t)}function Fx(){this.u=null,this.o=null}Jt.unmount=function(t){var i=t.__c;i&&i.__R&&i.__R(),i&&32&t.__u&&(t.type=null),oX&&oX(t)},(SD.prototype=new Pd).__c=function(t,i){var o=i.__c,s=this;null==s.t&&(s.t=[]),s.t.push(o);var a=lX(s.__v),l=!1,c=function(){l||(l=!0,o.__R=null,a?a(u):u())};o.__R=c;var u=function(){if(! --s.__u){if(s.state.__a){var p=s.state.__a;s.__v.__k[0]=aX(p,p.__c.__P,p.__c.__O)}var h;for(s.setState({__a:s.__b=null});h=s.t.pop();)h.forceUpdate()}};s.__u++||32&i.__u||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(c,c)},SD.prototype.componentWillUnmount=function(){this.t=[]},SD.prototype.render=function(t,i){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=sX(this.__b,o,s.__O=s.__P)}this.__b=null}var a=i.__a&&zl(Td,null,t.fallback);return a&&(a.__u&=-33),[zl(Td,null,i.__a?null:t.children),a]};var cX=function(t,i,o){if(++o[1]===o[0]&&t.o.delete(i),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(o=t.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;t.u=o=o[2]}};function Kbe(t){return this.getChildContext=function(){return t.context},t.children}function Qbe(t){var i=this,o=t.i;i.componentWillUnmount=function(){Cv(null,i.l),i.l=null,i.i=null},i.i&&i.i!==o&&i.componentWillUnmount(),i.l||(i.i=o,i.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(s){this.childNodes.push(s),i.i.appendChild(s)},insertBefore:function(s,a){this.childNodes.push(s),i.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),i.i.removeChild(s)}}),Cv(zl(Kbe,{context:i.context},t.__v),i.l)}function qA(t,i){var o=zl(Qbe,{__v:t,i});return o.containerInfo=i,o}(Fx.prototype=new Pd).__a=function(t){var i=this,o=lX(i.__v),s=i.o.get(t);return s[0]++,function(a){var l=function(){i.props.revealOrder?(s.push(a),cX(i,t,s)):a()};o?o(l):l()}},Fx.prototype.render=function(t){this.u=null,this.o=new Map;var i=df(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&i.reverse();for(var o=i.length;o--;)this.o.set(i[o],this.u=[1,0,this.u]);return t.children},Fx.prototype.componentDidUpdate=Fx.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(i,o){cX(t,o,i)})};var uX=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Zbe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Jbe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,e3e=/[A-Z0-9]/g,t3e=typeof document<"u",n3e=function(t){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};Pd.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Pd.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(i){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:i})}})});var dX=Jt.event;function o3e(){}function s3e(){return this.cancelBubble}function a3e(){return this.defaultPrevented}Jt.event=function(t){return dX&&(t=dX(t)),t.persist=o3e,t.isPropagationStopped=s3e,t.isDefaultPrevented=a3e,t.nativeEvent=t};var l3e={enumerable:!1,configurable:!0,get:function(){return this.class}},pX=Jt.vnode;Jt.vnode=function(t){"string"==typeof t.type&&function(i){var o=i.props,s=i.type,a={};for(var l in o){var c=o[l];if(!("value"===l&&"defaultValue"in o&&null==c||t3e&&"children"===l&&"noscript"===s||"class"===l||"className"===l)){var u=l.toLowerCase();"defaultValue"===l&&"value"in o&&null==o.value?l="value":"download"===l&&!0===c?c="":"ondoubleclick"===u?l="ondblclick":"onchange"!==u||"input"!==s&&"textarea"!==s||n3e(o.type)?"onfocus"===u?l="onfocusin":"onblur"===u?l="onfocusout":Jbe.test(l)?l=u:-1===s.indexOf("-")&&Zbe.test(l)?l=l.replace(e3e,"-$&").toLowerCase():null===c&&(c=void 0):u=l="oninput","oninput"===u&&a[l=u]&&(l="oninputCapture"),a[l]=c}}"select"==s&&a.multiple&&Array.isArray(a.value)&&(a.value=df(o.children).forEach(function(p){p.props.selected=-1!=a.value.indexOf(p.props.value)})),"select"==s&&null!=a.defaultValue&&(a.value=df(o.children).forEach(function(p){p.props.selected=a.multiple?-1!=a.defaultValue.indexOf(p.props.value):a.defaultValue==p.props.value})),o.class&&!o.className?(a.class=o.class,Object.defineProperty(a,"className",l3e)):(o.className&&!o.class||o.class&&o.className)&&(a.class=a.className=o.className),i.props=a}(t),t.$$typeof=uX,pX&&pX(t)};var fX=Jt.__r;Jt.__r=function(t){fX&&fX(t)};var hX=Jt.diffed;Jt.diffed=function(t){hX&&hX(t);var i=t.props,o=t.__e;null!=o&&"textarea"===t.type&&"value"in i&&i.value!==o.value&&(o.value=null==i.value?"":i.value)};var Pe_createElement=zl,C3e=0;function X(t,i,o,s,a,l){var c,u,p={};for(u in i)"ref"==u?c=i[u]:p[u]=i[u];var h={type:t,props:p,key:o,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--C3e,__i:-1,__u:0,__source:a,__self:l};if("function"==typeof t&&(c=t.defaultProps))for(u in c)void 0===p[u]&&(p[u]=c[u]);return Jt.vnode&&Jt.vnode(h),h}var O3e=zn(709),Ni=zn.n(O3e);function k3e(t,i){return i.forEach(function(o){o&&"string"!=typeof o&&!Array.isArray(o)&&Object.keys(o).forEach(function(s){if("default"!==s&&!(s in t)){var a=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return o[s]}})}})}),Object.freeze(t)}const M3e=Object.prototype.toString,R3e=Object.prototype.hasOwnProperty;function N3e(t,i){return R3e.call(t,i)}function yX(t,i){let o,s;if(function A3e(t){return void 0===t}(t))return;const a=function I3e(t){return"[object Array]"===M3e.call(t)}(t)?F3e:L3e;for(let l in t)if(N3e(t,l)&&(o=t[l],s=i(o,a(l)),!1===s))return o}function L3e(t){return t}function F3e(t){return Number(t)}function Ws(t,...i){const o=t.style;return yX(i,function(s){s&&yX(s,function(a,l){o[l]=a})}),t}function Ma(t,i,o){return 2==arguments.length?t.getAttribute(i):null===o?t.removeAttribute(i):(t.setAttribute(i,o),t)}const B3e=Object.prototype.toString;function Os(t){return new vm(t)}function vm(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function DD(t){for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);return t}function Bx(t,i){return t&&"function"==typeof t.matches&&t.matches(i)}function mf(t,i,o){for(var s=o?t:t.parentNode;s&&s.nodeType!==document.DOCUMENT_NODE&&s.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Bx(s,i))return s;s=s.parentNode}return Bx(s,i)?s:null}vm.prototype.add=function(t){return this.list.add(t),this},vm.prototype.remove=function(t){return"[object RegExp]"==B3e.call(t)?this.removeMatching(t):(this.list.remove(t),this)},vm.prototype.removeMatching=function(t){const i=this.array();for(let o=0;o<i.length;o++)t.test(i[o])&&this.remove(i[o]);return this},vm.prototype.toggle=function(t,i){return typeof i<"u"?i!==this.list.toggle(t,i)&&this.list.toggle(t):this.list.toggle(t),this},vm.prototype.array=function(){return Array.from(this.list)},vm.prototype.has=vm.prototype.contains=function(t){return this.list.contains(t)};var PD,YA,KA,TD={};function bX(){PD=window.addEventListener?"addEventListener":"attachEvent",YA=window.removeEventListener?"removeEventListener":"detachEvent",KA="addEventListener"!==PD?"on":""}var OD,fn=k3e({__proto__:null,bind:TD.bind=function(t,i,o,s){return PD||bX(),t[PD](KA+i,o,s||!1),o},unbind:TD.unbind=function(t,i,o,s){return YA||bX(),t[YA](KA+i,o,s||!1),o},default:TD},[TD]),_X=["focus","blur"],Ra={bind:function V3e(t,i,o,s,a){return-1!==_X.indexOf(o)&&(a=!0),fn.bind(t,o,function(l){l.delegateTarget=mf(l.target||l.srcElement,i,!0),l.delegateTarget&&s.call(t,l)},a)},unbind:function z3e(t,i,o,s){return-1!==_X.indexOf(i)&&(s=!0),fn.unbind(t,i,o,s)}},EX=!1;typeof document<"u"&&((OD=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',EX=!OD.getElementsByTagName("link").length,OD=void 0);var Go={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:EX?[1,"X<div>","</div>"]:[0,"",""]};Go.td=Go.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Go.option=Go.optgroup=[1,'<select multiple="multiple">',"</select>"],Go.thead=Go.tbody=Go.colgroup=Go.caption=Go.tfoot=[1,"<table>","</table>"],Go.polyline=Go.ellipse=Go.polygon=Go.circle=Go.text=Go.line=Go.path=Go.rect=Go.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var ui=function U3e(t,i){if("string"!=typeof t)throw new TypeError("String expected");i||(i=document);var o=/<([\w:]+)/.exec(t);if(!o)return i.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var s=o[1];if("body"==s)return(p=i.createElement("html")).innerHTML=t,p.removeChild(p.lastChild);var p,a=Object.prototype.hasOwnProperty.call(Go,s)?Go[s]:Go._default,l=a[0],c=a[1],u=a[2];for((p=i.createElement("div")).innerHTML=c+t+u;l--;)p=p.lastChild;if(p.firstChild==p.lastChild)return p.removeChild(p.firstChild);for(var h=i.createDocumentFragment();p.firstChild;)h.appendChild(p.removeChild(p.firstChild));return h};function er(t,i){return(i=i||document).querySelector(t)}function kD(t,i){return(i=i||document).querySelectorAll(t)}function kd(t){t.parentNode&&t.parentNode.removeChild(t)}const xX=1024;let G3e=0;class ou{constructor(i,o){this.from=i,this.to=o}}class $n{constructor(i={}){this.id=G3e++,this.perNode=!!i.perNode,this.deserialize=i.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(i){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof i&&(i=ss.match(i)),o=>{let s=i(o);return void 0===s?null:[this,s]}}}$n.closedBy=new $n({deserialize:t=>t.split(" ")}),$n.openedBy=new $n({deserialize:t=>t.split(" ")}),$n.group=new $n({deserialize:t=>t.split(" ")}),$n.isolate=new $n({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),$n.contextHash=new $n({perNode:!0}),$n.lookAhead=new $n({perNode:!0}),$n.mounted=new $n({perNode:!0});class jx{constructor(i,o,s){this.tree=i,this.overlay=o,this.parser=s}static get(i){return i&&i.props&&i.props[$n.mounted.id]}}const q3e=Object.create(null);class ss{constructor(i,o,s,a=0){this.name=i,this.props=o,this.id=s,this.flags=a}static define(i){let o=i.props&&i.props.length?Object.create(null):q3e,a=new ss(i.name||"",o,i.id,(i.top?1:0)|(i.skipped?2:0)|(i.error?4:0)|(null==i.name?8:0));if(i.props)for(let l of i.props)if(Array.isArray(l)||(l=l(a)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");o[l[0].id]=l[1]}return a}prop(i){return this.props[i.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(i){if("string"==typeof i){if(this.name==i)return!0;let o=this.prop($n.group);return!!o&&o.indexOf(i)>-1}return this.id==i}static match(i){let o=Object.create(null);for(let s in i)for(let a of s.split(" "))o[a]=i[s];return s=>{for(let a=s.prop($n.group),l=-1;l<(a?a.length:0);l++){let c=o[l<0?s.name:a[l]];if(c)return c}}}}ss.none=new ss("",Object.create(null),0,8);class R3{constructor(i){this.types=i;for(let o=0;o<i.length;o++)if(i[o].id!=o)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...i){let o=[];for(let s of this.types){let a=null;for(let l of i){let c=l(s);c&&(a||(a=Object.assign({},s.props)),a[c[0].id]=c[1])}o.push(a?new ss(s.name,a,s.id,s.flags):s)}return new R3(o)}}const MD=new WeakMap,wX=new WeakMap;var bo=function(t){return t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t}(bo||{});class Tr{constructor(i,o,s,a,l){if(this.type=i,this.children=o,this.positions=s,this.length=a,this.props=null,l&&l.length){this.props=Object.create(null);for(let[c,u]of l)this.props["number"==typeof c?c:c.id]=u}}toString(){let i=jx.get(this);if(i&&!i.overlay)return i.tree.toString();let o="";for(let s of this.children){let a=s.toString();a&&(o&&(o+=","),o+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(o.length?"("+o+")":""):o}cursor(i=0){return new RD(this.topNode,i)}cursorAt(i,o=0,s=0){let a=MD.get(this)||this.topNode,l=new RD(a);return l.moveTo(i,o),MD.set(this,l._tree),l}get topNode(){return new Aa(this,0,0,null)}resolve(i,o=0){let s=$x(MD.get(this)||this.topNode,i,o,!1);return MD.set(this,s),s}resolveInner(i,o=0){let s=$x(wX.get(this)||this.topNode,i,o,!0);return wX.set(this,s),s}resolveStack(i,o=0){return function Y3e(t,i,o){let s=t.resolveInner(i,o),a=null;for(let l=s instanceof Aa?s:s.context.parent;l;l=l.parent)if(l.index<0){let c=l.parent;(a||(a=[s])).push(c.resolve(i,o)),l=c}else{let c=jx.get(l.tree);if(c&&c.overlay&&c.overlay[0].from<=i&&c.overlay[c.overlay.length-1].to>=i){let u=new Aa(c.tree,c.overlay[0].from+l.from,-1,l);(a||(a=[s])).push($x(u,i,o,!1))}}return a?TX(a):s}(this,i,o)}iterate(i){let{enter:o,leave:s,from:a=0,to:l=this.length}=i,c=i.mode||0,u=(c&bo.IncludeAnonymous)>0;for(let p=this.cursor(c|bo.IncludeAnonymous);;){let h=!1;if(p.from<=l&&p.to>=a&&(!u&&p.type.isAnonymous||!1!==o(p))){if(p.firstChild())continue;h=!0}for(;h&&s&&(u||!p.type.isAnonymous)&&s(p),!p.nextSibling();){if(!p.parent())return;h=!0}}}prop(i){return i.perNode?this.props?this.props[i.id]:void 0:this.type.prop(i)}get propValues(){let i=[];if(this.props)for(let o in this.props)i.push([+o,this.props[o]]);return i}balance(i={}){return this.children.length<=8?this:eI(ss.none,this.children,this.positions,0,this.children.length,0,this.length,(o,s,a)=>new Tr(this.type,o,s,a,this.propValues),i.makeTree||((o,s,a)=>new Tr(ss.none,o,s,a)))}static build(i){return function K3e(t){var i;let{buffer:o,nodeSet:s,maxBufferLength:a=xX,reused:l=[],minRepeatType:c=s.types.length}=t,u=Array.isArray(o)?new QA(o,o.length):o,p=s.types,h=0,v=0;function y(q,ee,ae,te,ne,he){let{id:we,start:fe,end:ye,size:Fe}=u,bt=v;for(;Fe<0;){if(u.next(),-1==Fe)return ae.push(l[we]),void te.push(fe-q);if(-3==Fe)return void(h=we);if(-4==Fe)return void(v=we);throw new RangeError(`Unrecognized record size: ${Fe}`)}let Ct,Ft,Et=p[we],pe=fe-q;if(ye-fe<=a&&(Ft=function R(q,ee){let ae=u.fork(),te=0,ne=0,he=0,we=ae.end-a,fe={size:0,start:0,skip:0};e:for(let ye=ae.pos-q;ae.pos>ye;){let Fe=ae.size;if(ae.id==ee&&Fe>=0){fe.size=te,fe.start=ne,fe.skip=he,he+=4,te+=4,ae.next();continue}let bt=ae.pos-Fe;if(Fe<0||bt<ye||ae.start<we)break;let Et=ae.id>=c?4:0,Ct=ae.start;for(ae.next();ae.pos>bt;){if(ae.size<0){if(-3!=ae.size)break e;Et+=4}else ae.id>=c&&(Et+=4);ae.next()}ne=Ct,te+=Fe,he+=Et}return(ee<0||te==q)&&(fe.size=te,fe.start=ne,fe.skip=he),fe.size>4?fe:void 0}(u.pos-ee,ne))){let U=new Uint16Array(Ft.size-Ft.skip),Se=u.pos-Ft.size,Me=U.length;for(;u.pos>Se;)Me=L(Ft.start,U,Me);Ct=new ym(U,ye-Ft.start,s),pe=Ft.start-q}else{let U=u.pos-Fe;u.next();let Se=[],Me=[],Te=we>=c?we:-1,Be=0,et=ye;for(;u.pos>U;)Te>=0&&u.id==Te&&u.size>=0?(u.end<=et-a&&(D(Se,Me,fe,Be,u.end,et,Te,bt),Be=Se.length,et=u.end),u.next()):he>2500?E(fe,U,Se,Me):y(fe,U,Se,Me,Te,he+1);if(Te>=0&&Be>0&&Be<Se.length&&D(Se,Me,fe,Be,fe,et,Te,bt),Se.reverse(),Me.reverse(),Te>-1&&Be>0){let Pn=function S(q){return(ee,ae,te)=>{let we,fe,ne=0,he=ee.length-1;if(he>=0&&(we=ee[he])instanceof Tr){if(!he&&we.type==q&&we.length==te)return we;(fe=we.prop($n.lookAhead))&&(ne=ae[he]+we.length+fe)}return k(q,ee,ae,te,ne)}}(Et);Ct=eI(Et,Se,Me,0,Se.length,0,ye-fe,Pn,Pn)}else Ct=k(Et,Se,Me,ye-fe,bt-ye)}ae.push(Ct),te.push(pe)}function E(q,ee,ae,te){let ne=[],he=0,we=-1;for(;u.pos>ee;){let{id:fe,start:ye,end:Fe,size:bt}=u;if(bt>4)u.next();else{if(we>-1&&ye<we)break;we<0&&(we=Fe-a),ne.push(fe,ye,Fe),he++,u.next()}}if(he){let fe=new Uint16Array(4*he),ye=ne[ne.length-2];for(let Fe=ne.length-3,bt=0;Fe>=0;Fe-=3)fe[bt++]=ne[Fe],fe[bt++]=ne[Fe+1]-ye,fe[bt++]=ne[Fe+2]-ye,fe[bt++]=bt;ae.push(new ym(fe,ne[2]-ye,s)),te.push(ye-q)}}function D(q,ee,ae,te,ne,he,we,fe){let ye=[],Fe=[];for(;q.length>te;)ye.push(q.pop()),Fe.push(ee.pop()+ae-ne);q.push(k(s.types[we],ye,Fe,he-ne,fe-he)),ee.push(ne-ae)}function k(q,ee,ae,te,ne=0,he){if(h){let we=[$n.contextHash,h];he=he?[we].concat(he):[we]}if(ne>25){let we=[$n.lookAhead,ne];he=he?[we].concat(he):[we]}return new Tr(q,ee,ae,te,he)}function L(q,ee,ae){let{id:te,start:ne,end:he,size:we}=u;if(u.next(),we>=0&&te<c){let fe=ae;if(we>4){let ye=u.pos-(we-4);for(;u.pos>ye;)ae=L(q,ee,ae)}ee[--ae]=fe,ee[--ae]=he-q,ee[--ae]=ne-q,ee[--ae]=te}else-3==we?h=te:-4==we&&(v=te);return ae}let N=[],B=[];for(;u.pos>0;)y(t.start||0,t.bufferStart||0,N,B,-1,0);let $=null!==(i=t.length)&&void 0!==i?i:N.length?B[0]+N[0].length:0;return new Tr(p[t.topID],N.reverse(),B.reverse(),$)}(i)}}Tr.empty=new Tr(ss.none,[],[],0);class QA{constructor(i,o){this.buffer=i,this.index=o}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new QA(this.buffer,this.index)}}class ym{constructor(i,o,s){this.buffer=i,this.length=o,this.set=s}get type(){return ss.none}toString(){let i=[];for(let o=0;o<this.buffer.length;)i.push(this.childString(o)),o=this.buffer[o+3];return i.join(",")}childString(i){let s=this.buffer[i+3],a=this.set.types[this.buffer[i]],l=a.name;if(/\W/.test(l)&&!a.isError&&(l=JSON.stringify(l)),s==(i+=4))return l;let c=[];for(;i<s;)c.push(this.childString(i)),i=this.buffer[i+3];return l+"("+c.join(",")+")"}findChild(i,o,s,a,l){let{buffer:c}=this,u=-1;for(let p=i;p!=o&&!(SX(l,a,c[p+1],c[p+2])&&(u=p,s>0));p=c[p+3]);return u}slice(i,o,s){let a=this.buffer,l=new Uint16Array(o-i),c=0;for(let u=i,p=0;u<o;){l[p++]=a[u++],l[p++]=a[u++]-s;let h=l[p++]=a[u++]-s;l[p++]=a[u++]-i,c=Math.max(c,h)}return new ym(l,c,this.set)}}function SX(t,i,o,s){switch(t){case-2:return o<i;case-1:return s>=i&&o<i;case 0:return o<i&&s>i;case 1:return o<=i&&s>i;case 2:return s>i;case 4:return!0}}function $x(t,i,o,s){for(var a;t.from==t.to||(o<1?t.from>=i:t.from>i)||(o>-1?t.to<=i:t.to<i);){let c=!s&&t instanceof Aa&&t.index<0?null:t.parent;if(!c)return t;t=c}let l=s?0:bo.IgnoreOverlays;if(s)for(let c=t,u=c.parent;u;c=u,u=c.parent)c instanceof Aa&&c.index<0&&(null===(a=u.enter(i,o,l))||void 0===a?void 0:a.from)!=c.from&&(t=u);for(;;){let c=t.enter(i,o,l);if(!c)return t;t=c}}class CX{cursor(i=0){return new RD(this,i)}getChild(i,o=null,s=null){let a=DX(this,i,o,s);return a.length?a[0]:null}getChildren(i,o=null,s=null){return DX(this,i,o,s)}resolve(i,o=0){return $x(this,i,o,!1)}resolveInner(i,o=0){return $x(this,i,o,!0)}matchContext(i){return ZA(this,i)}enterUnfinishedNodesBefore(i){let o=this.childBefore(i),s=this;for(;o;){let a=o.lastChild;if(!a||a.to!=o.to)break;a.type.isError&&a.from==a.to?(s=o,o=a.prevSibling):o=a}return s}get node(){return this}get next(){return this.parent}}class Aa extends CX{constructor(i,o,s,a){super(),this._tree=i,this.from=o,this.index=s,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(i,o,s,a,l=0){for(let c=this;;){for(let{children:u,positions:p}=c._tree,h=o>0?u.length:-1;i!=h;i+=o){let v=u[i],y=p[i]+c.from;if(SX(a,s,y,y+v.length))if(v instanceof ym){if(l&bo.ExcludeBuffers)continue;let E=v.findChild(0,v.buffer.length,o,s-y,a);if(E>-1)return new Md(new W3e(c,v,i,y),null,E)}else if(l&bo.IncludeAnonymous||!v.type.isAnonymous||JA(v)){let E;if(!(l&bo.IgnoreMounts)&&(E=jx.get(v))&&!E.overlay)return new Aa(E.tree,y,i,c);let S=new Aa(v,y,i,c);return l&bo.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(o<0?v.children.length-1:0,o,s,a)}}if(l&bo.IncludeAnonymous||!c.type.isAnonymous||(i=c.index>=0?c.index+o:o<0?-1:c._parent._tree.children.length,c=c._parent,!c))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(i){return this.nextChild(0,1,i,2)}childBefore(i){return this.nextChild(this._tree.children.length-1,-1,i,-2)}enter(i,o,s=0){let a;if(!(s&bo.IgnoreOverlays)&&(a=jx.get(this._tree))&&a.overlay){let l=i-this.from;for(let{from:c,to:u}of a.overlay)if((o>0?c<=l:c<l)&&(o<0?u>=l:u>l))return new Aa(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,i,o,s)}nextSignificantParent(){let i=this;for(;i.type.isAnonymous&&i._parent;)i=i._parent;return i}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function DX(t,i,o,s){let a=t.cursor(),l=[];if(!a.firstChild())return l;if(null!=o)for(let c=!1;!c;)if(c=a.type.is(o),!a.nextSibling())return l;for(;;){if(null!=s&&a.type.is(s))return l;if(a.type.is(i)&&l.push(a.node),!a.nextSibling())return null==s?l:[]}}function ZA(t,i,o=i.length-1){for(let s=t.parent;o>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(i[o]&&i[o]!=s.name)return!1;o--}}return!0}class W3e{constructor(i,o,s,a){this.parent=i,this.buffer=o,this.index=s,this.start=a}}class Md extends CX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(i,o,s){super(),this.context=i,this._parent=o,this.index=s,this.type=i.buffer.set.types[i.buffer.buffer[s]]}child(i,o,s){let{buffer:a}=this.context,l=a.findChild(this.index+4,a.buffer[this.index+3],i,o-this.context.start,s);return l<0?null:new Md(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(i){return this.child(1,i,2)}childBefore(i){return this.child(-1,i,-2)}enter(i,o,s=0){if(s&bo.ExcludeBuffers)return null;let{buffer:a}=this.context,l=a.findChild(this.index+4,a.buffer[this.index+3],o>0?1:-1,i-this.context.start,o);return l<0?null:new Md(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(i){return this._parent?null:this.context.parent.nextChild(this.context.index+i,i,0,4)}get nextSibling(){let{buffer:i}=this.context,o=i.buffer[this.index+3];return o<(this._parent?i.buffer[this._parent.index+3]:i.buffer.length)?new Md(this.context,this._parent,o):this.externalSibling(1)}get prevSibling(){let{buffer:i}=this.context,o=this._parent?this._parent.index+4:0;return this.index==o?this.externalSibling(-1):new Md(this.context,this._parent,i.findChild(o,this.index,-1,0,4))}get tree(){return null}toTree(){let i=[],o=[],{buffer:s}=this.context,a=this.index+4,l=s.buffer[this.index+3];return l>a&&(i.push(s.slice(a,l,s.buffer[this.index+1])),o.push(0)),new Tr(this.type,i,o,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function TX(t){if(!t.length)return null;let i=0,o=t[0];for(let l=1;l<t.length;l++){let c=t[l];(c.from>o.from||c.to<o.to)&&(o=c,i=l)}let s=o instanceof Aa&&o.index<0?null:o.parent,a=t.slice();return s?a[i]=s:a.splice(i,1),new X3e(a,o)}class X3e{constructor(i,o){this.heads=i,this.node=o}get next(){return TX(this.heads)}}class RD{get name(){return this.type.name}constructor(i,o=0){if(this.mode=o,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,i instanceof Aa)this.yieldNode(i);else{this._tree=i.context.parent,this.buffer=i.context;for(let s=i._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=i,this.yieldBuf(i.index)}}yieldNode(i){return!!i&&(this._tree=i,this.type=i.type,this.from=i.from,this.to=i.to,!0)}yieldBuf(i,o){this.index=i;let{start:s,buffer:a}=this.buffer;return this.type=o||a.set.types[a.buffer[i]],this.from=s+a.buffer[i+1],this.to=s+a.buffer[i+2],!0}yield(i){return!!i&&(i instanceof Aa?(this.buffer=null,this.yieldNode(i)):(this.buffer=i.context,this.yieldBuf(i.index,i.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(i,o,s){if(!this.buffer)return this.yield(this._tree.nextChild(i<0?this._tree._tree.children.length-1:0,i,o,s,this.mode));let{buffer:a}=this.buffer,l=a.findChild(this.index+4,a.buffer[this.index+3],i,o-this.buffer.start,s);return!(l<0)&&(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(i){return this.enterChild(1,i,2)}childBefore(i){return this.enterChild(-1,i,-2)}enter(i,o,s=this.mode){return this.buffer?!(s&bo.ExcludeBuffers)&&this.enterChild(1,i,o):this.yield(this._tree.enter(i,o,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&bo.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let i=this.mode&bo.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(i)}sibling(i){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+i,i,0,4,this.mode));let{buffer:o}=this.buffer,s=this.stack.length-1;if(i<0){let a=s<0?0:this.stack[s]+4;if(this.index!=a)return this.yieldBuf(o.findChild(a,this.index,-1,0,4))}else{let a=o.buffer[this.index+3];if(a<(s<0?o.buffer.length:o.buffer[this.stack[s]+3]))return this.yieldBuf(a)}return s<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+i,i,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(i){let o,s,{buffer:a}=this;if(a){if(i>0){if(this.index<a.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(a.buffer.buffer[l+3]<this.index)return!1;({index:o,parent:s}=a)}else({index:o,_parent:s}=this._tree);for(;s;({index:o,_parent:s}=s))if(o>-1)for(let l=o+i,c=i<0?-1:s._tree.children.length;l!=c;l+=i){let u=s._tree.children[l];if(this.mode&bo.IncludeAnonymous||u instanceof ym||!u.type.isAnonymous||JA(u))return!1}return!0}move(i,o){if(o&&this.enterChild(i,0,4))return!0;for(;;){if(this.sibling(i))return!0;if(this.atLastNode(i)||!this.parent())return!1}}next(i=!0){return this.move(1,i)}prev(i=!0){return this.move(-1,i)}moveTo(i,o=0){for(;(this.from==this.to||(o<1?this.from>=i:this.from>i)||(o>-1?this.to<=i:this.to<i))&&this.parent(););for(;this.enterChild(1,i,o););return this}get node(){if(!this.buffer)return this._tree;let i=this.bufferNode,o=null,s=0;if(i&&i.context==this.buffer)e:for(let a=this.index,l=this.stack.length;l>=0;){for(let c=i;c;c=c._parent)if(c.index==a){if(a==this.index)return c;o=c,s=l+1;break e}a=this.stack[--l]}for(let a=s;a<this.stack.length;a++)o=new Md(this.buffer,o,this.stack[a]);return this.bufferNode=new Md(this.buffer,o,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(i,o){for(let s=0;;){let a=!1;if(this.type.isAnonymous||!1!==i(this)){if(this.firstChild()){s++;continue}this.type.isAnonymous||(a=!0)}for(;a&&o&&o(this),a=this.type.isAnonymous,!this.nextSibling();){if(!s)return;this.parent(),s--,a=!0}}}matchContext(i){if(!this.buffer)return ZA(this.node,i);let{buffer:o}=this.buffer,{types:s}=o.set;for(let a=i.length-1,l=this.stack.length-1;a>=0;l--){if(l<0)return ZA(this.node,i,a);let c=s[o.buffer[this.stack[l]]];if(!c.isAnonymous){if(i[a]&&i[a]!=c.name)return!1;a--}}return!0}}function JA(t){return t.children.some(i=>i instanceof ym||!i.type.isAnonymous||JA(i))}const PX=new WeakMap;function AD(t,i){if(!t.isAnonymous||i instanceof ym||i.type!=t)return 1;let o=PX.get(i);if(null==o){o=1;for(let s of i.children){if(s.type!=t||!(s instanceof Tr)){o=1;break}o+=AD(t,s)}PX.set(i,o)}return o}function eI(t,i,o,s,a,l,c,u,p){let h=0;for(let D=s;D<a;D++)h+=AD(t,i[D]);let v=Math.ceil(1.5*h/8),y=[],E=[];return function S(D,k,R,L,N){for(let B=R;B<L;){let $=B,q=k[B],ee=AD(t,D[B]);for(B++;B<L;B++){let ae=AD(t,D[B]);if(ee+ae>=v)break;ee+=ae}if(B==$+1){if(ee>v){let ae=D[$];S(ae.children,ae.positions,0,ae.children.length,k[$]+N);continue}y.push(D[$])}else y.push(eI(t,D,k,$,B,q,k[B-1]+D[B-1].length-q,null,p));E.push(q+N-l)}}(i,o,s,a,0),(u||p)(y,E,c)}class gf{constructor(i,o,s,a,l=!1,c=!1){this.from=i,this.to=o,this.tree=s,this.offset=a,this.open=(l?1:0)|(c?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(i,o=[],s=!1){let a=[new gf(0,i.length,i,0,!1,s)];for(let l of o)l.to>i.length&&a.push(l);return a}static applyChanges(i,o,s=128){if(!o.length)return i;let a=[],l=1,c=i.length?i[0]:null;for(let u=0,p=0,h=0;;u++){let v=u<o.length?o[u]:null,y=v?v.fromA:1e9;if(y-p>=s)for(;c&&c.from<y;){let E=c;if(p>=E.from||y<=E.to||h){let S=Math.max(E.from,p)-h,D=Math.min(E.to,y)-h;E=S>=D?null:new gf(S,D,E.tree,E.offset+h,u>0,!!v)}if(E&&a.push(E),c.to>y)break;c=l<i.length?i[l++]:null}if(!v)break;p=v.toA,h=v.toA-v.toB}return a}}class ID{startParse(i,o,s){return"string"==typeof i&&(i=new Q3e(i)),s=s?s.length?s.map(a=>new ou(a.from,a.to)):[new ou(0,0)]:[new ou(0,i.length)],this.createParse(i,o||[],s)}parse(i,o,s){let a=this.startParse(i,o,s);for(;;){let l=a.advance();if(l)return l}}}class Q3e{constructor(i){this.string=i}get length(){return this.string.length}chunk(i){return this.string.slice(i)}get lineChunks(){return!1}read(i,o){return this.string.slice(i,o)}}function Z3e(t){return(i,o,s,a)=>new e5e(i,t,o,s,a)}class OX{constructor(i,o,s,a,l){this.parser=i,this.parse=o,this.overlay=s,this.target=a,this.from=l}}function kX(t){if(!t.length||t.some(i=>i.from>=i.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class J3e{constructor(i,o,s,a,l,c,u){this.parser=i,this.predicate=o,this.mounts=s,this.index=a,this.start=l,this.target=c,this.prev=u,this.depth=0,this.ranges=[]}}const tI=new $n({perNode:!0});class e5e{constructor(i,o,s,a,l){this.nest=o,this.input=s,this.fragments=a,this.ranges=l,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=i}advance(){if(this.baseParse){let s=this.baseParse.advance();if(!s)return null;if(this.baseParse=null,this.baseTree=s,this.startInner(),null!=this.stoppedAt)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let s=this.baseTree;return null!=this.stoppedAt&&(s=new Tr(s.type,s.children,s.positions,s.length,s.propValues.concat([[tI,this.stoppedAt]]))),s}let i=this.inner[this.innerDone],o=i.parse.advance();if(o){this.innerDone++;let s=Object.assign(Object.create(null),i.target.props);s[$n.mounted.id]=new jx(o,i.overlay,i.parser),i.target.props=s}return null}get parsedPos(){if(this.baseParse)return 0;let i=this.input.length;for(let o=this.innerDone;o<this.inner.length;o++)this.inner[o].from<i&&(i=Math.min(i,this.inner[o].parse.parsedPos));return i}stopAt(i){if(this.stoppedAt=i,this.baseParse)this.baseParse.stopAt(i);else for(let o=this.innerDone;o<this.inner.length;o++)this.inner[o].parse.stopAt(i)}startInner(){let i=new r5e(this.fragments),o=null,s=null,a=new RD(new Aa(this.baseTree,this.ranges[0].from,0,null),bo.IncludeAnonymous|bo.IgnoreMounts);e:for(let l,c;;){let p,u=!0;if(null!=this.stoppedAt&&a.from>=this.stoppedAt)u=!1;else if(i.hasNode(a)){if(o){let h=o.mounts.find(v=>v.frag.from<=a.from&&v.frag.to>=a.to&&v.mount.overlay);if(h)for(let v of h.mount.overlay){let y=v.from+h.pos,E=v.to+h.pos;y>=a.from&&E<=a.to&&!o.ranges.some(S=>S.from<E&&S.to>y)&&o.ranges.push({from:y,to:E})}}u=!1}else if(s&&(c=t5e(s.ranges,a.from,a.to)))u=2!=c;else if(!a.type.isAnonymous&&(l=this.nest(a,this.input))&&(a.from<a.to||!l.overlay)){a.tree||n5e(a);let h=i.findMounts(a.from,l.parser);if("function"==typeof l.overlay)o=new J3e(l.parser,l.overlay,h,this.inner.length,a.from,a.tree,o);else{let v=AX(this.ranges,l.overlay||(a.from<a.to?[new ou(a.from,a.to)]:[]));v.length&&kX(v),(v.length||!l.overlay)&&this.inner.push(new OX(l.parser,v.length?l.parser.startParse(this.input,IX(h,v),v):l.parser.startParse(""),l.overlay?l.overlay.map(y=>new ou(y.from-a.from,y.to-a.from)):null,a.tree,v.length?v[0].from:a.from)),l.overlay?v.length&&(s={ranges:v,depth:0,prev:s}):u=!1}}else o&&(p=o.predicate(a))&&(!0===p&&(p=new ou(a.from,a.to)),p.from<p.to&&o.ranges.push(p));if(u&&a.firstChild())o&&o.depth++,s&&s.depth++;else for(;!a.nextSibling();){if(!a.parent())break e;if(o&&! --o.depth){let h=AX(this.ranges,o.ranges);h.length&&(kX(h),this.inner.splice(o.index,0,new OX(o.parser,o.parser.startParse(this.input,IX(o.mounts,h),h),o.ranges.map(v=>new ou(v.from-o.start,v.to-o.start)),o.target,h[0].from))),o=o.prev}s&&! --s.depth&&(s=s.prev)}}}}function t5e(t,i,o){for(let s of t){if(s.from>=o)break;if(s.to>i)return s.from<=i&&s.to>=o?2:1}return 0}function MX(t,i,o,s,a,l){if(i<o){let c=t.buffer[i+1];s.push(t.slice(i,o,c)),a.push(c-l)}}function n5e(t){let{node:i}=t,o=[],s=i.context.buffer;do{o.push(t.index),t.parent()}while(!t.tree);let a=t.tree,l=a.children.indexOf(s),c=a.children[l],u=c.buffer,p=[l];a.children[l]=function h(v,y,E,S,D,k){let R=o[k],L=[],N=[];MX(c,v,R,L,N,S);let B=u[R+1],$=u[R+2];p.push(L.length);let q=k?h(R+4,u[R+3],c.set.types[u[R]],B,$-B,k-1):i.toTree();return L.push(q),N.push(B-S),MX(c,u[R+3],y,L,N,S),new Tr(E,L,N,D)}(0,u.length,ss.none,0,c.length,o.length-1);for(let v of p)t.yield(new Aa(t.tree.children[v],t.tree.positions[v]+t.from,v,t._tree))}class RX{constructor(i,o){this.offset=o,this.done=!1,this.cursor=i.cursor(bo.IncludeAnonymous|bo.IgnoreMounts)}moveTo(i){let{cursor:o}=this,s=i-this.offset;for(;!this.done&&o.from<s;)o.to>=i&&o.enter(s,1,bo.IgnoreOverlays|bo.ExcludeBuffers)||o.next(!1)||(this.done=!0)}hasNode(i){if(this.moveTo(i.from),!this.done&&this.cursor.from+this.offset==i.from&&this.cursor.tree)for(let o=this.cursor.tree;;){if(o==i.tree)return!0;if(!(o.children.length&&0==o.positions[0]&&o.children[0]instanceof Tr))break;o=o.children[0]}return!1}}class r5e{constructor(i){var o;if(this.fragments=i,this.curTo=0,this.fragI=0,i.length){let s=this.curFrag=i[0];this.curTo=null!==(o=s.tree.prop(tI))&&void 0!==o?o:s.to,this.inner=new RX(s.tree,-s.offset)}else this.curFrag=this.inner=null}hasNode(i){for(;this.curFrag&&i.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=i.from&&this.curTo>=i.to&&this.inner.hasNode(i)}nextFrag(){var i;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let o=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(i=o.tree.prop(tI))&&void 0!==i?i:o.to,this.inner=new RX(o.tree,-o.offset)}}findMounts(i,o){var s;let a=[];if(this.inner){this.inner.cursor.moveTo(i,1);for(let l=this.inner.cursor.node;l;l=l.parent){let c=null===(s=l.tree)||void 0===s?void 0:s.prop($n.mounted);if(c&&c.parser==o)for(let u=this.fragI;u<this.fragments.length;u++){let p=this.fragments[u];if(p.from>=l.to)break;p.tree==this.curFrag.tree&&a.push({frag:p,pos:l.from-p.offset,mount:c})}}}return a}}function AX(t,i){let o=null,s=i;for(let a=1,l=0;a<t.length;a++){let c=t[a-1].to,u=t[a].from;for(;l<s.length;l++){let p=s[l];if(p.from>=u)break;p.to<=c||(o||(s=o=i.slice()),p.from<c?(o[l]=new ou(p.from,c),p.to>u&&o.splice(l+1,0,new ou(u,p.to))):p.to>u?o[l--]=new ou(u,p.to):o.splice(l--,1))}}return s}function i5e(t,i,o,s){let a=0,l=0,c=!1,u=!1,p=-1e9,h=[];for(;;){let v=a==t.length?1e9:c?t[a].to:t[a].from,y=l==i.length?1e9:u?i[l].to:i[l].from;if(c!=u){let E=Math.max(p,o),S=Math.min(v,y,s);E<S&&h.push(new ou(E,S))}if(p=Math.min(v,y),1e9==p)break;v==p&&(c?(c=!1,a++):c=!0),y==p&&(u?(u=!1,l++):u=!0)}return h}function IX(t,i){let o=[];for(let{pos:s,mount:a,frag:l}of t){let c=s+(a.overlay?a.overlay[0].from:0),u=c+a.tree.length,p=Math.max(l.from,c),h=Math.min(l.to,u);if(a.overlay){let y=i5e(i,a.overlay.map(E=>new ou(E.from+s,E.to+s)),p,h);for(let E=0,S=p;;E++){let D=E==y.length,k=D?h:y[E].from;if(k>S&&o.push(new gf(S,k,a.tree,-c,l.from>=S||l.openStart,l.to<=k||l.openEnd)),D)break;S=y[E].to}}else o.push(new gf(p,h,a.tree,-c,l.from>=c||l.openStart,l.to<=u||l.openEnd))}return o}class ND{constructor(i,o,s,a,l,c,u,p,h,v=0,y){this.p=i,this.stack=o,this.state=s,this.reducePos=a,this.pos=l,this.score=c,this.buffer=u,this.bufferBase=p,this.curContext=h,this.lookAhead=v,this.parent=y}toString(){return`[${this.stack.filter((i,o)=>o%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(i,o,s=0){let a=i.parser.context;return new ND(i,[],o,s,s,0,[],0,a?new NX(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(i,o){this.stack.push(this.state,o,this.bufferBase+this.buffer.length),this.state=i}reduce(i){var o;let s=i>>19,a=65535&i,{parser:l}=this.p,c=l.dynamicPrecedence(a);if(c&&(this.score+=c),0==s)return this.pushState(l.getGoto(this.state,a,!0),this.reducePos),a<l.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,4,!0),void this.reduceContext(a,this.reducePos);let u=this.stack.length-3*(s-1)-(262144&i?6:0),p=u?this.stack[u-2]:this.p.ranges[0].from,h=this.reducePos-p;h>=2e3&&(null===(o=this.p.parser.nodeSet.types[a])||void 0===o||!o.isAnonymous)&&(p==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=p,this.p.lastBigReductionSize=h));let y=this.bufferBase+this.buffer.length-(u?this.stack[u-1]:0);if(a<l.minRepeatTerm||131072&i){let E=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,p,E,y+4,!0)}for(this.state=262144&i?this.stack[u]:l.getGoto(this.stack[u-3],a,!0);this.stack.length>u;)this.stack.pop();this.reduceContext(a,p)}storeNode(i,o,s,a=4,l=!1){if(0==i&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let c=this,u=this.buffer.length;if(0==u&&c.parent&&(u=c.bufferBase-c.parent.bufferBase,c=c.parent),u>0&&0==c.buffer[u-4]&&c.buffer[u-1]>-1){if(o==s)return;if(c.buffer[u-2]>=o)return void(c.buffer[u-2]=s)}}if(l&&this.pos!=s){let c=this.buffer.length;if(c>0&&0!=this.buffer[c-4])for(;c>0&&this.buffer[c-2]>s;)this.buffer[c]=this.buffer[c-4],this.buffer[c+1]=this.buffer[c-3],this.buffer[c+2]=this.buffer[c-2],this.buffer[c+3]=this.buffer[c-1],c-=4,a>4&&(a-=4);this.buffer[c]=i,this.buffer[c+1]=o,this.buffer[c+2]=s,this.buffer[c+3]=a}else this.buffer.push(i,o,s,a)}shift(i,o,s,a){if(131072&i)this.pushState(65535&i,this.pos);else if(262144&i)this.pos=a,this.shiftContext(o,s),o<=this.p.parser.maxNode&&this.buffer.push(o,s,a,4);else{let l=i,{parser:c}=this.p;(a>this.pos||o<=c.maxNode)&&(this.pos=a,c.stateFlag(l,1)||(this.reducePos=a)),this.pushState(l,s),this.shiftContext(o,s),o<=c.maxNode&&this.buffer.push(o,s,a,4)}}apply(i,o,s,a){65536&i?this.reduce(i):this.shift(i,o,s,a)}useNode(i,o){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=i)&&(this.p.reused.push(i),s++);let a=this.pos;this.reducePos=this.pos=a+i.length,this.pushState(o,a),this.buffer.push(s,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,i,this,this.p.stream.reset(this.pos-i.length)))}split(){let i=this,o=i.buffer.length;for(;o>0&&i.buffer[o-2]>i.reducePos;)o-=4;let s=i.buffer.slice(o),a=i.bufferBase+o;for(;i&&a==i.bufferBase;)i=i.parent;return new ND(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,a,this.curContext,this.lookAhead,i)}recoverByDelete(i,o){let s=i<=this.p.parser.maxNode;s&&this.storeNode(i,this.pos,o,4),this.storeNode(0,this.pos,o,s?8:4),this.pos=this.reducePos=o,this.score-=190}canShift(i){for(let o=new o5e(this);;){let s=this.p.parser.stateSlot(o.state,4)||this.p.parser.hasAction(o.state,i);if(0==s)return!1;if(!(65536&s))return!0;o.reduce(s)}}recoverByInsert(i){if(this.stack.length>=300)return[];let o=this.p.parser.nextStates(this.state);if(o.length>8||this.stack.length>=120){let a=[];for(let c,l=0;l<o.length;l+=2)(c=o[l+1])!=this.state&&this.p.parser.hasAction(c,i)&&a.push(o[l],c);if(this.stack.length<120)for(let l=0;a.length<8&&l<o.length;l+=2){let c=o[l+1];a.some((u,p)=>1&p&&u==c)||a.push(o[l],c)}o=a}let s=[];for(let a=0;a<o.length&&s.length<4;a+=2){let l=o[a+1];if(l==this.state)continue;let c=this.split();c.pushState(l,this.pos),c.storeNode(0,c.pos,c.pos,4,!0),c.shiftContext(o[a],this.pos),c.reducePos=this.pos,c.score-=200,s.push(c)}return s}forceReduce(){let{parser:i}=this.p,o=i.stateSlot(this.state,5);if(!(65536&o))return!1;if(!i.validAction(this.state,o)){let l=this.stack.length-3*(o>>19);if(l<0||i.getGoto(this.stack[l],65535&o,!1)<0){let c=this.findForcedReduction();if(null==c)return!1;o=c}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(o),!0}findForcedReduction(){let{parser:i}=this.p,o=[],s=(a,l)=>{if(!o.includes(a))return o.push(a),i.allActions(a,c=>{if(!(393216&c))if(65536&c){let u=(c>>19)-l;if(u>1){let p=65535&c,h=this.stack.length-3*u;if(h>=0&&i.getGoto(this.stack[h],p,!1)>=0)return u<<19|65536|p}}else{let u=s(c,l+1);if(null!=u)return u}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:i}=this.p;return 65535==i.data[i.stateSlot(this.state,1)]&&!i.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(i){if(this.state!=i.state||this.stack.length!=i.stack.length)return!1;for(let o=0;o<this.stack.length;o+=3)if(this.stack[o]!=i.stack[o])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(i){return this.p.parser.dialect.flags[i]}shiftContext(i,o){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,i,this,this.p.stream.reset(o)))}reduceContext(i,o){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,i,this,this.p.stream.reset(o)))}emitContext(){let i=this.buffer.length-1;(i<0||-3!=this.buffer[i])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let i=this.buffer.length-1;(i<0||-4!=this.buffer[i])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(i){if(i!=this.curContext.context){let o=new NX(this.curContext.tracker,i);o.hash!=this.curContext.hash&&this.emitContext(),this.curContext=o}}setLookAhead(i){i>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=i)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class NX{constructor(i,o){this.tracker=i,this.context=o,this.hash=i.strict?i.hash(o):0}}class o5e{constructor(i){this.start=i,this.state=i.state,this.stack=i.stack,this.base=this.stack.length}reduce(i){let o=65535&i,s=i>>19;0==s?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(s-1);let a=this.start.p.parser.getGoto(this.stack[this.base-3],o,!0);this.state=a}}class LD{constructor(i,o,s){this.stack=i,this.pos=o,this.index=s,this.buffer=i.buffer,0==this.index&&this.maybeNext()}static create(i,o=i.bufferBase+i.buffer.length){return new LD(i,o,o-i.bufferBase)}maybeNext(){let i=this.stack.parent;null!=i&&(this.index=this.stack.bufferBase-i.bufferBase,this.stack=i,this.buffer=i.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new LD(this.stack,this.pos,this.index)}}function Vx(t,i=Uint16Array){if("string"!=typeof t)return t;let o=null;for(let s=0,a=0;s<t.length;){let l=0;for(;;){let c=t.charCodeAt(s++),u=!1;if(126==c){l=65535;break}c>=92&&c--,c>=34&&c--;let p=c-32;if(p>=46&&(p-=46,u=!0),l+=p,u)break;l*=46}o?o[a++]=l:o=new i(l)}return o}class FD{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const LX=new FD;class s5e{constructor(i,o){this.input=i,this.ranges=o,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=LX,this.rangeIndex=0,this.pos=this.chunkPos=o[0].from,this.range=o[0],this.end=o[o.length-1].to,this.readNext()}resolveOffset(i,o){let s=this.range,a=this.rangeIndex,l=this.pos+i;for(;l<s.from;){if(!a)return null;let c=this.ranges[--a];l-=s.from-c.to,s=c}for(;o<0?l>s.to:l>=s.to;){if(a==this.ranges.length-1)return null;let c=this.ranges[++a];l+=c.from-s.to,s=c}return l}clipPos(i){if(i>=this.range.from&&i<this.range.to)return i;for(let o of this.ranges)if(o.to>i)return Math.max(i,o.from);return this.end}peek(i){let s,a,o=this.chunkOff+i;if(o>=0&&o<this.chunk.length)s=this.pos+i,a=this.chunk.charCodeAt(o);else{let l=this.resolveOffset(i,1);if(null==l)return-1;if(s=l,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let c=this.rangeIndex,u=this.range;for(;u.to<=s;)u=this.ranges[++c];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-s)),a=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),a}acceptToken(i,o=0){let s=o?this.resolveOffset(o,-1):this.pos;if(null==s||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=i,this.token.end=s}acceptTokenTo(i,o){this.token.value=i,this.token.end=o}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:i,chunkPos:o}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=i,this.chunk2Pos=o,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let i=this.input.chunk(this.pos);this.chunk=this.pos+i.length>this.range.to?i.slice(0,this.range.to-this.pos):i,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(i=1){for(this.chunkOff+=i;this.pos+i>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();i-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=i,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(i,o){if(o?(this.token=o,o.start=i,o.lookAhead=i+1,o.value=o.extended=-1):this.token=LX,this.pos!=i){if(this.pos=i,i==this.end)return this.setDone(),this;for(;i<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;i>=this.range.to;)this.range=this.ranges[++this.rangeIndex];i>=this.chunkPos&&i<this.chunkPos+this.chunk.length?this.chunkOff=i-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(i,o){if(i>=this.chunkPos&&o<=this.chunkPos+this.chunk.length)return this.chunk.slice(i-this.chunkPos,o-this.chunkPos);if(i>=this.chunk2Pos&&o<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(i-this.chunk2Pos,o-this.chunk2Pos);if(i>=this.range.from&&o<=this.range.to)return this.input.read(i,o);let s="";for(let a of this.ranges){if(a.from>=o)break;a.to>i&&(s+=this.input.read(Math.max(a.from,i),Math.min(a.to,o)))}return s}}class A3{constructor(i,o){this.data=i,this.id=o}token(i,o){let{parser:s}=o.p;!function FX(t,i,o,s,a,l){let c=0,u=1<<s,{dialect:p}=o.p.parser;e:for(;u&t[c];){let h=t[c+1];for(let S=c+3;S<h;S+=2)if((t[S+1]&u)>0){let D=t[S];if(p.allows(D)&&(-1==i.token.value||i.token.value==D||l5e(D,i.token.value,a,l))){i.acceptToken(D);break}}let v=i.next,y=0,E=t[c+2];if(!(i.next<0&&E>y&&65535==t[h+3*E-3])){for(;y<E;){let S=y+E>>1,D=h+S+(S<<1);if(v<t[D])E=S;else{if(!(v>=(t[D+1]||65536))){c=t[D+2],i.advance();continue e}y=S+1}}break}c=t[h+3*E-1]}}(this.data,i,o,this.id,s.data,s.tokenPrecTable)}}A3.prototype.contextual=A3.prototype.fallback=A3.prototype.extend=!1,A3.prototype.fallback=A3.prototype.extend=!1;class I3{constructor(i,o={}){this.token=i,this.contextual=!!o.contextual,this.fallback=!!o.fallback,this.extend=!!o.extend}}function BX(t,i,o){for(let a,s=i;65535!=(a=t[s]);s++)if(a==o)return s-i;return-1}function l5e(t,i,o,s){let a=BX(o,s,i);return a<0||BX(o,s,t)<a}const _c=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let nI=null;function jX(t,i,o){let s=t.cursor(bo.IncludeAnonymous);for(s.moveTo(i);;)if(!(o<0?s.childBefore(i):s.childAfter(i)))for(;;){if((o<0?s.to<i:s.from>i)&&!s.type.isError)return o<0?Math.max(0,Math.min(s.to-1,i-25)):Math.min(t.length,Math.max(s.from+1,i+25));if(o<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return o<0?0:t.length}}class c5e{constructor(i,o){this.fragments=i,this.nodeSet=o,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let i=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(i){for(this.safeFrom=i.openStart?jX(i.tree,i.from+i.offset,1)-i.offset:i.from,this.safeTo=i.openEnd?jX(i.tree,i.to+i.offset,-1)-i.offset:i.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(i.tree),this.start.push(-i.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(i){if(i<this.nextStart)return null;for(;this.fragment&&this.safeTo<=i;)this.nextFragment();if(!this.fragment)return null;for(;;){let o=this.trees.length-1;if(o<0)return this.nextFragment(),null;let s=this.trees[o],a=this.index[o];if(a==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=s.children[a],c=this.start[o]+s.positions[a];if(c>i)return this.nextStart=c,null;if(l instanceof Tr){if(c==i){if(c<this.safeFrom)return null;let u=c+l.length;if(u<=this.safeTo){let p=l.prop($n.lookAhead);if(!p||u+p<this.fragment.to)return l}}this.index[o]++,c+l.length>=Math.max(this.safeFrom,i)&&(this.trees.push(l),this.start.push(c),this.index.push(0))}else this.index[o]++,this.nextStart=c+l.length}}}class u5e{constructor(i,o){this.stream=o,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=i.tokenizers.map(s=>new FD)}getActions(i){let o=0,s=null,{parser:a}=i.p,{tokenizers:l}=a,c=a.stateSlot(i.state,3),u=i.curContext?i.curContext.hash:0,p=0;for(let h=0;h<l.length;h++){if(!(1<<h&c))continue;let v=l[h],y=this.tokens[h];if((!s||v.fallback)&&((v.contextual||y.start!=i.pos||y.mask!=c||y.context!=u)&&(this.updateCachedToken(y,v,i),y.mask=c,y.context=u),y.lookAhead>y.end+25&&(p=Math.max(y.lookAhead,p)),0!=y.value)){let E=o;if(y.extended>-1&&(o=this.addActions(i,y.extended,y.end,o)),o=this.addActions(i,y.value,y.end,o),!v.extend&&(s=y,o>E))break}}for(;this.actions.length>o;)this.actions.pop();return p&&i.setLookAhead(p),!s&&i.pos==this.stream.end&&(s=new FD,s.value=i.p.parser.eofTerm,s.start=s.end=i.pos,o=this.addActions(i,s.value,s.end,o)),this.mainToken=s,this.actions}getMainToken(i){if(this.mainToken)return this.mainToken;let o=new FD,{pos:s,p:a}=i;return o.start=s,o.end=Math.min(s+1,a.stream.end),o.value=s==a.stream.end?a.parser.eofTerm:0,o}updateCachedToken(i,o,s){let a=this.stream.clipPos(s.pos);if(o.token(this.stream.reset(a,i),s),i.value>-1){let{parser:l}=s.p;for(let c=0;c<l.specialized.length;c++)if(l.specialized[c]==i.value){let u=l.specializers[c](this.stream.read(i.start,i.end),s);if(u>=0&&s.p.parser.dialect.allows(u>>1)){1&u?i.extended=u>>1:i.value=u>>1;break}}}else i.value=0,i.end=this.stream.clipPos(a+1)}putAction(i,o,s,a){for(let l=0;l<a;l+=3)if(this.actions[l]==i)return a;return this.actions[a++]=i,this.actions[a++]=o,this.actions[a++]=s,a}addActions(i,o,s,a){let{state:l}=i,{parser:c}=i.p,{data:u}=c;for(let p=0;p<2;p++)for(let h=c.stateSlot(l,p?2:1);;h+=3){if(65535==u[h]){if(1!=u[h+1]){0==a&&2==u[h+1]&&(a=this.putAction(vf(u,h+2),o,s,a));break}h=vf(u,h+2)}u[h]==o&&(a=this.putAction(vf(u,h+1),o,s,a))}return a}}class d5e{constructor(i,o,s,a){this.parser=i,this.input=o,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new s5e(o,a),this.tokens=new u5e(i,this.stream),this.topTerm=i.top[1];let{from:l}=a[0];this.stacks=[ND.start(this,i.top[0],l)],this.fragments=s.length&&this.stream.end-l>4*i.bufferLength?new c5e(s,i.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let a,l,i=this.stacks,o=this.minStackPos,s=this.stacks=[];if(this.bigReductionCount>300&&1==i.length){let[c]=i;for(;c.forceReduce()&&c.stack.length&&c.stack[c.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let c=0;c<i.length;c++){let u=i[c];for(;;){if(this.tokens.mainToken=null,u.pos>o)s.push(u);else{if(this.advanceStack(u,s,i))continue;{a||(a=[],l=[]),a.push(u);let p=this.tokens.getMainToken(u);l.push(p.value,p.end)}}break}}if(!s.length){let c=a&&function h5e(t){let i=null;for(let o of t){let s=o.p.stoppedAt;(o.pos==o.p.stream.end||null!=s&&o.pos>s)&&o.p.parser.stateFlag(o.state,2)&&(!i||i.score<o.score)&&(i=o)}return i}(a);if(c)return _c&&console.log("Finish with "+this.stackID(c)),this.stackToTree(c);if(this.parser.strict)throw _c&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+o);this.recovering||(this.recovering=5)}if(this.recovering&&a){let c=null!=this.stoppedAt&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,l,s);if(c)return _c&&console.log("Force-finish "+this.stackID(c)),this.stackToTree(c.forceAll())}if(this.recovering){let c=1==this.recovering?1:3*this.recovering;if(s.length>c)for(s.sort((u,p)=>p.score-u.score);s.length>c;)s.pop();s.some(u=>u.reducePos>o)&&this.recovering--}else if(s.length>1){e:for(let c=0;c<s.length-1;c++){let u=s[c];for(let p=c+1;p<s.length;p++){let h=s[p];if(u.sameState(h)||u.buffer.length>500&&h.buffer.length>500){if(!((u.score-h.score||u.buffer.length-h.buffer.length)>0)){s.splice(c--,1);continue e}s.splice(p--,1)}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let c=1;c<s.length;c++)s[c].pos<this.minStackPos&&(this.minStackPos=s[c].pos);return null}stopAt(i){if(null!=this.stoppedAt&&this.stoppedAt<i)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=i}advanceStack(i,o,s){let a=i.pos,{parser:l}=this,c=_c?this.stackID(i)+" -> ":"";if(null!=this.stoppedAt&&a>this.stoppedAt)return i.forceReduce()?i:null;if(this.fragments){let h=i.curContext&&i.curContext.tracker.strict,v=h?i.curContext.hash:0;for(let y=this.fragments.nodeAt(a);y;){let E=this.parser.nodeSet.types[y.type.id]==y.type?l.getGoto(i.state,y.type.id):-1;if(E>-1&&y.length&&(!h||(y.prop($n.contextHash)||0)==v))return i.useNode(y,E),_c&&console.log(c+this.stackID(i)+` (via reuse of ${l.getName(y.type.id)})`),!0;if(!(y instanceof Tr)||0==y.children.length||y.positions[0]>0)break;let S=y.children[0];if(!(S instanceof Tr&&0==y.positions[0]))break;y=S}}let u=l.stateSlot(i.state,4);if(u>0)return i.reduce(u),_c&&console.log(c+this.stackID(i)+` (via always-reduce ${l.getName(65535&u)})`),!0;if(i.stack.length>=8400)for(;i.stack.length>6e3&&i.forceReduce(););let p=this.tokens.getActions(i);for(let h=0;h<p.length;){let v=p[h++],y=p[h++],E=p[h++],S=h==p.length||!s,D=S?i:i.split(),k=this.tokens.mainToken;if(D.apply(v,y,k?k.start:D.pos,E),_c&&console.log(c+this.stackID(D)+` (via ${65536&v?`reduce of ${l.getName(65535&v)}`:"shift"} for ${l.getName(y)} @ ${a}${D==i?"":", split"})`),S)return!0;D.pos>a?o.push(D):s.push(D)}return!1}advanceFully(i,o){let s=i.pos;for(;;){if(!this.advanceStack(i,null,null))return!1;if(i.pos>s)return $X(i,o),!0}}runRecovery(i,o,s){let a=null,l=!1;for(let c=0;c<i.length;c++){let u=i[c],p=o[c<<1],h=o[1+(c<<1)],v=_c?this.stackID(u)+" -> ":"";if(u.deadEnd&&(l||(l=!0,u.restart(),_c&&console.log(v+this.stackID(u)+" (restarted)"),this.advanceFully(u,s))))continue;let y=u.split(),E=v;for(let S=0;y.forceReduce()&&S<10&&(_c&&console.log(E+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,s));S++)_c&&(E=this.stackID(y)+" -> ");for(let S of u.recoverByInsert(p))_c&&console.log(v+this.stackID(S)+" (via recover-insert)"),this.advanceFully(S,s);this.stream.end>u.pos?(h==u.pos&&(h++,p=0),u.recoverByDelete(p,h),_c&&console.log(v+this.stackID(u)+` (via recover-delete ${this.parser.getName(p)})`),$X(u,s)):(!a||a.score<u.score)&&(a=u)}return a}stackToTree(i){return i.close(),Tr.build({buffer:LD.create(i),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:i.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(i){let o=(nI||(nI=new WeakMap)).get(i);return o||nI.set(i,o=String.fromCodePoint(this.nextStackID++)),o+i}}function $X(t,i){for(let o=0;o<i.length;o++){let s=i[o];if(s.pos==t.pos&&s.sameState(t))return void(i[o].score<t.score&&(i[o]=t))}i.push(t)}class p5e{constructor(i,o,s){this.source=i,this.flags=o,this.disabled=s}allows(i){return!this.disabled||0==this.disabled[i]}}const rI=t=>t;class f5e{constructor(i){this.start=i.start,this.shift=i.shift||rI,this.reduce=i.reduce||rI,this.reuse=i.reuse||rI,this.hash=i.hash||(()=>0),this.strict=!1!==i.strict}}class zx extends ID{constructor(i){if(super(),this.wrappers=[],14!=i.version)throw new RangeError(`Parser version (${i.version}) doesn't match runtime version (14)`);let o=i.nodeNames.split(" ");this.minRepeatTerm=o.length;for(let u=0;u<i.repeatNodeCount;u++)o.push("");let s=Object.keys(i.topRules).map(u=>i.topRules[u][1]),a=[];for(let u=0;u<o.length;u++)a.push([]);function l(u,p,h){a[u].push([p,p.deserialize(String(h))])}if(i.nodeProps)for(let u of i.nodeProps){let p=u[0];"string"==typeof p&&(p=$n[p]);for(let h=1;h<u.length;){let v=u[h++];if(v>=0)l(v,p,u[h++]);else{let y=u[h+-v];for(let E=-v;E>0;E--)l(u[h++],p,y);h++}}}this.nodeSet=new R3(o.map((u,p)=>ss.define({name:p>=this.minRepeatTerm?void 0:u,id:p,props:a[p],top:s.indexOf(p)>-1,error:0==p,skipped:i.skippedNodes&&i.skippedNodes.indexOf(p)>-1}))),i.propSources&&(this.nodeSet=this.nodeSet.extend(...i.propSources)),this.strict=!1,this.bufferLength=xX;let c=Vx(i.tokenData);this.context=i.context,this.specializerSpecs=i.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(VX),this.states=Vx(i.states,Uint32Array),this.data=Vx(i.stateData),this.goto=Vx(i.goto),this.maxTerm=i.maxTerm,this.tokenizers=i.tokenizers.map(u=>"number"==typeof u?new A3(c,u):u),this.topRules=i.topRules,this.dialects=i.dialects||{},this.dynamicPrecedences=i.dynamicPrecedences||null,this.tokenPrecTable=i.tokenPrec,this.termNames=i.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(i,o,s){let a=new d5e(this,i,o,s);for(let l of this.wrappers)a=l(a,i,o,s);return a}getGoto(i,o,s=!1){let a=this.goto;if(o>=a[0])return-1;for(let l=a[o+1];;){let c=a[l++],u=1&c,p=a[l++];if(u&&s)return p;for(let h=l+(c>>1);l<h;l++)if(a[l]==i)return p;if(u)return-1}}hasAction(i,o){let s=this.data;for(let a=0;a<2;a++)for(let c,l=this.stateSlot(i,a?2:1);;l+=3){if(65535==(c=s[l])){if(1!=s[l+1]){if(2==s[l+1])return vf(s,l+2);break}c=s[l=vf(s,l+2)]}if(c==o||0==c)return vf(s,l+1)}return 0}stateSlot(i,o){return this.states[6*i+o]}stateFlag(i,o){return(this.stateSlot(i,0)&o)>0}validAction(i,o){return!!this.allActions(i,s=>s==o||null)}allActions(i,o){let s=this.stateSlot(i,4),a=s?o(s):void 0;for(let l=this.stateSlot(i,1);null==a;l+=3){if(65535==this.data[l]){if(1!=this.data[l+1])break;l=vf(this.data,l+2)}a=o(vf(this.data,l+1))}return a}nextStates(i){let o=[];for(let s=this.stateSlot(i,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=vf(this.data,s+2)}if(!(1&this.data[s+2])){let a=this.data[s+1];o.some((l,c)=>1&c&&l==a)||o.push(this.data[s],a)}}return o}configure(i){let o=Object.assign(Object.create(zx.prototype),this);if(i.props&&(o.nodeSet=this.nodeSet.extend(...i.props)),i.top){let s=this.topRules[i.top];if(!s)throw new RangeError(`Invalid top rule name ${i.top}`);o.top=s}return i.tokenizers&&(o.tokenizers=this.tokenizers.map(s=>{let a=i.tokenizers.find(l=>l.from==s);return a?a.to:s})),i.specializers&&(o.specializers=this.specializers.slice(),o.specializerSpecs=this.specializerSpecs.map((s,a)=>{let l=i.specializers.find(u=>u.from==s.external);if(!l)return s;let c=Object.assign(Object.assign({},s),{external:l.to});return o.specializers[a]=VX(c),c})),i.contextTracker&&(o.context=i.contextTracker),i.dialect&&(o.dialect=this.parseDialect(i.dialect)),null!=i.strict&&(o.strict=i.strict),i.wrap&&(o.wrappers=o.wrappers.concat(i.wrap)),null!=i.bufferLength&&(o.bufferLength=i.bufferLength),o}hasWrappers(){return this.wrappers.length>0}getName(i){return this.termNames?this.termNames[i]:String(i<=this.maxNode&&this.nodeSet.types[i].name||i)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(i){let o=this.dynamicPrecedences;return null==o?0:o[i]||0}parseDialect(i){let o=Object.keys(this.dialects),s=o.map(()=>!1);if(i)for(let l of i.split(" ")){let c=o.indexOf(l);c>=0&&(s[c]=!0)}let a=null;for(let l=0;l<o.length;l++)if(!s[l])for(let u,c=this.dialects[o[l]];65535!=(u=this.data[c++]);)(a||(a=new Uint8Array(this.maxTerm+1)))[u]=1;return new p5e(i,s,a)}static deserialize(i){return new zx(i)}}function vf(t,i){return t[i]|t[i+1]<<16}function VX(t){if(t.external){let i=t.extend?1:0;return(o,s)=>t.external(o,s)<<1|i}return t.get}let m5e=0;class f0{constructor(i,o,s){this.set=i,this.base=o,this.modified=s,this.id=m5e++}static define(i){if(i?.base)throw new Error("Can not derive from a modified tag");let o=new f0([],null,[]);if(o.set.push(o),i)for(let s of i.set)o.set.push(s);return o}static defineModifier(){let i=new BD;return o=>o.modified.indexOf(i)>-1?o:BD.get(o.base||o,o.modified.concat(i).sort((s,a)=>s.id-a.id))}}let g5e=0;class BD{constructor(){this.instances=[],this.id=g5e++}static get(i,o){if(!o.length)return i;let s=o[0].instances.find(u=>u.base==i&&function v5e(t,i){return t.length==i.length&&t.every((o,s)=>o==i[s])}(o,u.modified));if(s)return s;let a=[],l=new f0(a,i,o);for(let u of o)u.instances.push(l);let c=function y5e(t){let i=[[]];for(let o=0;o<t.length;o++)for(let s=0,a=i.length;s<a;s++)i.push(i[s].concat(t[o]));return i.sort((o,s)=>s.length-o.length)}(o);for(let u of i.set)if(!u.modified.length)for(let p of c)a.push(BD.get(u,p));return l}}function Hx(t){let i=Object.create(null);for(let o in t){let s=t[o];Array.isArray(s)||(s=[s]);for(let a of o.split(" "))if(a){let l=[],c=2,u=a;for(let y=0;;){if("..."==u&&y>0&&y+3==a.length){c=1;break}let E=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!E)throw new RangeError("Invalid path: "+a);if(l.push("*"==E[0]?"":'"'==E[0][0]?JSON.parse(E[0]):E[0]),y+=E[0].length,y==a.length)break;let S=a[y++];if(y==a.length&&"!"==S){c=0;break}if("/"!=S)throw new RangeError("Invalid path: "+a);u=a.slice(y)}let p=l.length-1,h=l[p];if(!h)throw new RangeError("Invalid path: "+a);let v=new jD(s,c,p>0?l.slice(0,p):null);i[h]=v.sort(i[h])}}return zX.add(i)}const zX=new $n;class jD{constructor(i,o,s,a){this.tags=i,this.mode=o,this.context=s,this.next=a}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(i){return!i||i.depth<this.depth?(this.next=i,this):(i.next=this.sort(i.next),i)}get depth(){return this.context?this.context.length:0}}function HX(t,i){let o=Object.create(null);for(let l of t)if(Array.isArray(l.tag))for(let c of l.tag)o[c.id]=l.class;else o[l.tag.id]=l.class;let{scope:s,all:a=null}=i||{};return{style:l=>{let c=a;for(let u of l)for(let p of u.set){let h=o[p.id];if(h){c=c?c+" "+h:h;break}}return c},scope:s}}function UX(t,i,o,s=0,a=t.length){let l=new _5e(s,Array.isArray(i)?i:[i],o);l.highlightRange(t.cursor(),s,a,"",l.highlighters),l.flush(a)}jD.empty=new jD([],2,null);class _5e{constructor(i,o,s){this.at=i,this.highlighters=o,this.span=s,this.class=""}startSpan(i,o){o!=this.class&&(this.flush(i),i>this.at&&(this.at=i),this.class=o)}flush(i){i>this.at&&this.class&&this.span(this.at,i,this.class)}highlightRange(i,o,s,a,l){let{type:c,from:u,to:p}=i;if(u>=s||p<=o)return;c.isTop&&(l=this.highlighters.filter(S=>!S.scope||S.scope(c)));let h=a,v=function E5e(t){let i=t.type.prop(zX);for(;i&&i.context&&!t.matchContext(i.context);)i=i.next;return i||null}(i)||jD.empty,y=function b5e(t,i){let o=null;for(let s of t){let a=s.style(i);a&&(o=o?o+" "+a:a)}return o}(l,v.tags);if(y&&(h&&(h+=" "),h+=y,1==v.mode&&(a+=(a?" ":"")+y)),this.startSpan(Math.max(o,u),h),v.opaque)return;let E=i.tree&&i.tree.prop($n.mounted);if(E&&E.overlay){let S=i.node.enter(E.overlay[0].from+u,1),D=this.highlighters.filter(R=>!R.scope||R.scope(E.tree.type)),k=i.firstChild();for(let R=0,L=u;;R++){let N=R<E.overlay.length?E.overlay[R]:null,B=N?N.from+u:p,$=Math.max(o,L),q=Math.min(s,B);if($<q&&k)for(;i.from<q&&(this.highlightRange(i,$,q,a,l),this.startSpan(Math.min(q,i.to),h),!(i.to>=B)&&i.nextSibling()););if(!N||B>s)break;L=N.to+u,L>o&&(this.highlightRange(S.cursor(),Math.max(o,N.from+u),Math.min(s,L),"",D),this.startSpan(Math.min(s,L),h))}k&&i.parent()}else if(i.firstChild()){E&&(a="");do{if(!(i.to<=o)){if(i.from>=s)break;this.highlightRange(i,o,s,a,l),this.startSpan(Math.min(s,i.to),h)}}while(i.nextSibling());i.parent()}}}const kt=f0.define,$D=kt(),bm=kt(),GX=kt(bm),qX=kt(bm),_m=kt(),VD=kt(_m),iI=kt(_m),Rd=kt(),Pv=kt(Rd),Ad=kt(),Id=kt(),oI=kt(),Ux=kt(oI),zD=kt(),ce={comment:$D,lineComment:kt($D),blockComment:kt($D),docComment:kt($D),name:bm,variableName:kt(bm),typeName:GX,tagName:kt(GX),propertyName:qX,attributeName:kt(qX),className:kt(bm),labelName:kt(bm),namespace:kt(bm),macroName:kt(bm),literal:_m,string:VD,docString:kt(VD),character:kt(VD),attributeValue:kt(VD),number:iI,integer:kt(iI),float:kt(iI),bool:kt(_m),regexp:kt(_m),escape:kt(_m),color:kt(_m),url:kt(_m),keyword:Ad,self:kt(Ad),null:kt(Ad),atom:kt(Ad),unit:kt(Ad),modifier:kt(Ad),operatorKeyword:kt(Ad),controlKeyword:kt(Ad),definitionKeyword:kt(Ad),moduleKeyword:kt(Ad),operator:Id,derefOperator:kt(Id),arithmeticOperator:kt(Id),logicOperator:kt(Id),bitwiseOperator:kt(Id),compareOperator:kt(Id),updateOperator:kt(Id),definitionOperator:kt(Id),typeOperator:kt(Id),controlOperator:kt(Id),punctuation:oI,separator:kt(oI),bracket:Ux,angleBracket:kt(Ux),squareBracket:kt(Ux),paren:kt(Ux),brace:kt(Ux),content:Rd,heading:Pv,heading1:kt(Pv),heading2:kt(Pv),heading3:kt(Pv),heading4:kt(Pv),heading5:kt(Pv),heading6:kt(Pv),contentSeparator:kt(Rd),list:kt(Rd),quote:kt(Rd),emphasis:kt(Rd),strong:kt(Rd),link:kt(Rd),monospace:kt(Rd),strikethrough:kt(Rd),inserted:kt(),deleted:kt(),changed:kt(),invalid:kt(),meta:zD,documentMeta:kt(zD),annotation:kt(zD),processingInstruction:kt(zD),definition:f0.defineModifier(),constant:f0.defineModifier(),function:f0.defineModifier(),standard:f0.defineModifier(),local:f0.defineModifier(),special:f0.defineModifier()};HX([{tag:ce.link,class:"tok-link"},{tag:ce.heading,class:"tok-heading"},{tag:ce.emphasis,class:"tok-emphasis"},{tag:ce.strong,class:"tok-strong"},{tag:ce.keyword,class:"tok-keyword"},{tag:ce.atom,class:"tok-atom"},{tag:ce.bool,class:"tok-bool"},{tag:ce.url,class:"tok-url"},{tag:ce.labelName,class:"tok-labelName"},{tag:ce.inserted,class:"tok-inserted"},{tag:ce.deleted,class:"tok-deleted"},{tag:ce.literal,class:"tok-literal"},{tag:ce.string,class:"tok-string"},{tag:ce.number,class:"tok-number"},{tag:[ce.regexp,ce.escape,ce.special(ce.string)],class:"tok-string2"},{tag:ce.variableName,class:"tok-variableName"},{tag:ce.local(ce.variableName),class:"tok-variableName tok-local"},{tag:ce.definition(ce.variableName),class:"tok-variableName tok-definition"},{tag:ce.special(ce.variableName),class:"tok-variableName2"},{tag:ce.definition(ce.propertyName),class:"tok-propertyName tok-definition"},{tag:ce.typeName,class:"tok-typeName"},{tag:ce.namespace,class:"tok-namespace"},{tag:ce.className,class:"tok-className"},{tag:ce.macroName,class:"tok-macroName"},{tag:ce.propertyName,class:"tok-propertyName"},{tag:ce.operator,class:"tok-operator"},{tag:ce.comment,class:"tok-comment"},{tag:ce.meta,class:"tok-meta"},{tag:ce.invalid,class:"tok-invalid"},{tag:ce.punctuation,class:"tok-punctuation"}]);class Zr{lineAt(i){if(i<0||i>this.length)throw new RangeError(`Invalid position ${i} in document of length ${this.length}`);return this.lineInner(i,!1,1,0)}line(i){if(i<1||i>this.lines)throw new RangeError(`Invalid line number ${i} in ${this.lines}-line document`);return this.lineInner(i,!0,1,0)}replace(i,o,s){[i,o]=N3(this,i,o);let a=[];return this.decompose(0,i,a,2),s.length&&s.decompose(0,s.length,a,3),this.decompose(o,this.length,a,1),Nd.from(a,this.length-(o-i)+s.length)}append(i){return this.replace(this.length,this.length,i)}slice(i,o=this.length){[i,o]=N3(this,i,o);let s=[];return this.decompose(i,o,s,0),Nd.from(s,o-i)}eq(i){if(i==this)return!0;if(i.length!=this.length||i.lines!=this.lines)return!1;let o=this.scanIdentical(i,1),s=this.length-this.scanIdentical(i,-1),a=new Gx(this),l=new Gx(i);for(let c=o,u=o;;){if(a.next(c),l.next(c),c=0,a.lineBreak!=l.lineBreak||a.done!=l.done||a.value!=l.value)return!1;if(u+=a.value.length,a.done||u>=s)return!0}}iter(i=1){return new Gx(this,i)}iterRange(i,o=this.length){return new XX(this,i,o)}iterLines(i,o){let s;if(null==i)s=this.iter();else{null==o&&(o=this.lines+1);let a=this.line(i).from;s=this.iterRange(a,Math.max(a,o==this.lines+1?this.length:o<=1?0:this.line(o-1).to))}return new YX(s)}toString(){return this.sliceString(0)}toJSON(){let i=[];return this.flatten(i),i}constructor(){}static of(i){if(0==i.length)throw new RangeError("A document must have at least one line");return 1!=i.length||i[0]?i.length<=32?new qo(i):Nd.from(qo.split(i,[])):Zr.empty}}class qo extends Zr{constructor(i,o=function x5e(t){let i=-1;for(let o of t)i+=o.length+1;return i}(i)){super(),this.text=i,this.length=o}get lines(){return this.text.length}get children(){return null}lineInner(i,o,s,a){for(let l=0;;l++){let c=this.text[l],u=a+c.length;if((o?s:u)>=i)return new w5e(a,u,s,c);a=u+1,s++}}decompose(i,o,s,a){let l=i<=0&&o>=this.length?this:new qo(WX(this.text,i,o),Math.min(o,this.length)-Math.max(0,i));if(1&a){let c=s.pop(),u=HD(l.text,c.text.slice(),0,l.length);if(u.length<=32)s.push(new qo(u,c.length+l.length));else{let p=u.length>>1;s.push(new qo(u.slice(0,p)),new qo(u.slice(p)))}}else s.push(l)}replace(i,o,s){if(!(s instanceof qo))return super.replace(i,o,s);[i,o]=N3(this,i,o);let a=HD(this.text,HD(s.text,WX(this.text,0,i)),o),l=this.length+s.length-(o-i);return a.length<=32?new qo(a,l):Nd.from(qo.split(a,[]),l)}sliceString(i,o=this.length,s="\n"){[i,o]=N3(this,i,o);let a="";for(let l=0,c=0;l<=o&&c<this.text.length;c++){let u=this.text[c],p=l+u.length;l>i&&c&&(a+=s),i<p&&o>l&&(a+=u.slice(Math.max(0,i-l),o-l)),l=p+1}return a}flatten(i){for(let o of this.text)i.push(o)}scanIdentical(){return 0}static split(i,o){let s=[],a=-1;for(let l of i)s.push(l),a+=l.length+1,32==s.length&&(o.push(new qo(s,a)),s=[],a=-1);return a>-1&&o.push(new qo(s,a)),o}}class Nd extends Zr{constructor(i,o){super(),this.children=i,this.length=o,this.lines=0;for(let s of i)this.lines+=s.lines}lineInner(i,o,s,a){for(let l=0;;l++){let c=this.children[l],u=a+c.length,p=s+c.lines-1;if((o?p:u)>=i)return c.lineInner(i,o,s,a);a=u+1,s=p+1}}decompose(i,o,s,a){for(let l=0,c=0;c<=o&&l<this.children.length;l++){let u=this.children[l],p=c+u.length;if(i<=p&&o>=c){let h=a&((c<=i?1:0)|(p>=o?2:0));c>=i&&p<=o&&!h?s.push(u):u.decompose(i-c,o-c,s,h)}c=p+1}}replace(i,o,s){if([i,o]=N3(this,i,o),s.lines<this.lines)for(let a=0,l=0;a<this.children.length;a++){let c=this.children[a],u=l+c.length;if(i>=l&&o<=u){let p=c.replace(i-l,o-l,s),h=this.lines-c.lines+p.lines;if(p.lines<h>>4&&p.lines>h>>6){let v=this.children.slice();return v[a]=p,new Nd(v,this.length-(o-i)+s.length)}return super.replace(l,u,p)}l=u+1}return super.replace(i,o,s)}sliceString(i,o=this.length,s="\n"){[i,o]=N3(this,i,o);let a="";for(let l=0,c=0;l<this.children.length&&c<=o;l++){let u=this.children[l],p=c+u.length;c>i&&l&&(a+=s),i<p&&o>c&&(a+=u.sliceString(i-c,o-c,s)),c=p+1}return a}flatten(i){for(let o of this.children)o.flatten(i)}scanIdentical(i,o){if(!(i instanceof Nd))return 0;let s=0,[a,l,c,u]=o>0?[0,0,this.children.length,i.children.length]:[this.children.length-1,i.children.length-1,-1,-1];for(;;a+=o,l+=o){if(a==c||l==u)return s;let p=this.children[a],h=i.children[l];if(p!=h)return s+p.scanIdentical(h,o);s+=p.length+1}}static from(i,o=i.reduce((s,a)=>s+a.length+1,-1)){let s=0;for(let S of i)s+=S.lines;if(s<32){let S=[];for(let D of i)D.flatten(S);return new qo(S,o)}let a=Math.max(32,s>>5),l=a<<1,c=a>>1,u=[],p=0,h=-1,v=[];function y(S){let D;if(S.lines>l&&S instanceof Nd)for(let k of S.children)y(k);else S.lines>c&&(p>c||!p)?(E(),u.push(S)):S instanceof qo&&p&&(D=v[v.length-1])instanceof qo&&S.lines+D.lines<=32?(p+=S.lines,h+=S.length+1,v[v.length-1]=new qo(D.text.concat(S.text),D.length+1+S.length)):(p+S.lines>a&&E(),p+=S.lines,h+=S.length+1,v.push(S))}function E(){0!=p&&(u.push(1==v.length?v[0]:Nd.from(v,h)),h=-1,p=v.length=0)}for(let S of i)y(S);return E(),1==u.length?u[0]:new Nd(u,o)}}function HD(t,i,o=0,s=1e9){for(let a=0,l=0,c=!0;l<t.length&&a<=s;l++){let u=t[l],p=a+u.length;p>=o&&(p>s&&(u=u.slice(0,s-a)),a<o&&(u=u.slice(o-a)),c?(i[i.length-1]+=u,c=!1):i.push(u)),a=p+1}return i}function WX(t,i,o){return HD(t,[""],i,o)}Zr.empty=new qo([""],0);class Gx{constructor(i,o=1){this.dir=o,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[i],this.offsets=[o>0?1:(i instanceof qo?i.text.length:i.children.length)<<1]}nextInner(i,o){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,a=this.nodes[s],l=this.offsets[s],c=l>>1;if(c==(o>0?a instanceof qo?a.text.length:a.children.length:0)){if(0==s)return this.done=!0,this.value="",this;o>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&l)==(o>0?0:1)){if(this.offsets[s]+=o,0==i)return this.lineBreak=!0,this.value="\n",this;i--}else if(a instanceof qo){let p=a.text[c+(o<0?-1:0)];if(this.offsets[s]+=o,p.length>Math.max(0,i))return this.value=0==i?p:o>0?p.slice(i):p.slice(0,p.length-i),this;i-=p.length}else{let p=a.children[c+(o<0?-1:0)];i>p.length?(i-=p.length,this.offsets[s]+=o):(o<0&&this.offsets[s]--,this.nodes.push(p),this.offsets.push(o>0?1:(p instanceof qo?p.text.length:p.children.length)<<1))}}}next(i=0){return i<0&&(this.nextInner(-i,-this.dir),i=this.value.length),this.nextInner(i,this.dir)}}class XX{constructor(i,o,s){this.value="",this.done=!1,this.cursor=new Gx(i,o>s?-1:1),this.pos=o>s?i.length:0,this.from=Math.min(o,s),this.to=Math.max(o,s)}nextInner(i,o){if(o<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;i+=Math.max(0,o<0?this.pos-this.to:this.from-this.pos);let s=o<0?this.pos-this.from:this.to-this.pos;i>s&&(i=s),s-=i;let{value:a}=this.cursor.next(i);return this.pos+=(a.length+i)*o,this.value=a.length<=s?a:o<0?a.slice(a.length-s):a.slice(0,s),this.done=!this.value,this}next(i=0){return i<0?i=Math.max(i,this.from-this.pos):i>0&&(i=Math.min(i,this.to-this.pos)),this.nextInner(i,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class YX{constructor(i){this.inner=i,this.afterBreak=!0,this.value="",this.done=!1}next(i=0){let{done:o,lineBreak:s,value:a}=this.inner.next(i);return o&&this.afterBreak?(this.value="",this.afterBreak=!1):o?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Zr.prototype[Symbol.iterator]=function(){return this.iter()},Gx.prototype[Symbol.iterator]=XX.prototype[Symbol.iterator]=YX.prototype[Symbol.iterator]=function(){return this});class w5e{constructor(i,o,s,a){this.from=i,this.to=o,this.number=s,this.text=a}get length(){return this.to-this.from}}function N3(t,i,o){return[i=Math.max(0,Math.min(t.length,i)),Math.max(i,Math.min(t.length,o))]}let L3="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<L3.length;t++)L3[t]+=L3[t-1];function S5e(t){for(let i=1;i<L3.length;i+=2)if(L3[i]>t)return L3[i-1]<=t;return!1}function KX(t){return t>=127462&&t<=127487}const QX=8205;function fl(t,i,o=!0,s=!0){return(o?ZX:C5e)(t,i,s)}function ZX(t,i,o){if(i==t.length)return i;i&&JX(t.charCodeAt(i))&&eY(t.charCodeAt(i-1))&&i--;let s=hl(t,i);for(i+=h0(s);i<t.length;){let a=hl(t,i);if(s==QX||a==QX||o&&S5e(a))i+=h0(a),s=a;else{if(!KX(a))break;{let l=0,c=i-2;for(;c>=0&&KX(hl(t,c));)l++,c-=2;if(l%2==0)break;i+=2}}}return i}function C5e(t,i,o){for(;i>0;){let s=ZX(t,i-2,o);if(s<i)return s;i--}return 0}function JX(t){return t>=56320&&t<57344}function eY(t){return t>=55296&&t<56320}function hl(t,i){let o=t.charCodeAt(i);if(!eY(o)||i+1==t.length)return o;let s=t.charCodeAt(i+1);return JX(s)?s-56320+(o-55296<<10)+65536:o}function tY(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function h0(t){return t<65536?1:2}const sI=/\r\n?|\n/;var sa=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(sa||(sa={}));class Ld{constructor(i){this.sections=i}get length(){let i=0;for(let o=0;o<this.sections.length;o+=2)i+=this.sections[o];return i}get newLength(){let i=0;for(let o=0;o<this.sections.length;o+=2){let s=this.sections[o+1];i+=s<0?this.sections[o]:s}return i}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(i){for(let o=0,s=0,a=0;o<this.sections.length;){let l=this.sections[o++],c=this.sections[o++];c<0?(i(s,a,l),a+=l):a+=c,s+=l}}iterChangedRanges(i,o=!1){aI(this,i,o)}get invertedDesc(){let i=[];for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++];a<0?i.push(s,a):i.push(a,s)}return new Ld(i)}composeDesc(i){return this.empty?i:i.empty?this:nY(this,i)}mapDesc(i,o=!1){return i.empty?this:lI(this,i,o)}mapPos(i,o=-1,s=sa.Simple){let a=0,l=0;for(let c=0;c<this.sections.length;){let u=this.sections[c++],p=this.sections[c++],h=a+u;if(p<0){if(h>i)return l+(i-a);l+=u}else{if(s!=sa.Simple&&h>=i&&(s==sa.TrackDel&&a<i&&h>i||s==sa.TrackBefore&&a<i||s==sa.TrackAfter&&h>i))return null;if(h>i||h==i&&o<0&&!u)return i==a||o<0?l:l+p;l+=p}a=h}if(i>a)throw new RangeError(`Position ${i} is out of range for changeset of length ${a}`);return l}touchesRange(i,o=i){for(let s=0,a=0;s<this.sections.length&&a<=o;){let u=a+this.sections[s++];if(this.sections[s++]>=0&&a<=o&&u>=i)return!(a<i&&u>o)||"cover";a=u}return!1}toString(){let i="";for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++];i+=(i?" ":"")+s+(a>=0?":"+a:"")}return i}toJSON(){return this.sections}static fromJSON(i){if(!Array.isArray(i)||i.length%2||i.some(o=>"number"!=typeof o))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ld(i)}static create(i){return new Ld(i)}}class ks extends Ld{constructor(i,o){super(i),this.inserted=o}apply(i){if(this.length!=i.length)throw new RangeError("Applying change set to a document with the wrong length");return aI(this,(o,s,a,l,c)=>i=i.replace(a,a+(s-o),c),!1),i}mapDesc(i,o=!1){return lI(this,i,o,!0)}invert(i){let o=this.sections.slice(),s=[];for(let a=0,l=0;a<o.length;a+=2){let c=o[a],u=o[a+1];if(u>=0){o[a]=u,o[a+1]=c;let p=a>>1;for(;s.length<p;)s.push(Zr.empty);s.push(c?i.slice(l,l+c):Zr.empty)}l+=c}return new ks(o,s)}compose(i){return this.empty?i:i.empty?this:nY(this,i,!0)}map(i,o=!1){return i.empty?this:lI(this,i,o,!0)}iterChanges(i,o=!1){aI(this,i,o)}get desc(){return Ld.create(this.sections)}filter(i){let o=[],s=[],a=[],l=new qx(this);e:for(let c=0,u=0;;){let p=c==i.length?1e9:i[c++];for(;u<p||u==p&&0==l.len;){if(l.done)break e;let v=Math.min(l.len,p-u);Ia(a,v,-1);let y=-1==l.ins?-1:0==l.off?l.ins:0;Ia(o,v,y),y>0&&Em(s,o,l.text),l.forward(v),u+=v}let h=i[c++];for(;u<h;){if(l.done)break e;let v=Math.min(l.len,h-u);Ia(o,v,-1),Ia(a,v,-1==l.ins?-1:0==l.off?l.ins:0),l.forward(v),u+=v}}return{changes:new ks(o,s),filtered:Ld.create(a)}}toJSON(){let i=[];for(let o=0;o<this.sections.length;o+=2){let s=this.sections[o],a=this.sections[o+1];i.push(a<0?s:0==a?[s]:[s].concat(this.inserted[o>>1].toJSON()))}return i}static of(i,o,s){let a=[],l=[],c=0,u=null;function p(v=!1){if(!v&&!a.length)return;c<o&&Ia(a,o-c,-1);let y=new ks(a,l);u=u?u.compose(y.map(u)):y,a=[],l=[],c=0}return function h(v){if(Array.isArray(v))for(let y of v)h(y);else if(v instanceof ks){if(v.length!=o)throw new RangeError(`Mismatched change set length (got ${v.length}, expected ${o})`);p(),u=u?u.compose(v.map(u)):v}else{let{from:y,to:E=y,insert:S}=v;if(y>E||y<0||E>o)throw new RangeError(`Invalid change range ${y} to ${E} (in doc of length ${o})`);let D=S?"string"==typeof S?Zr.of(S.split(s||sI)):S:Zr.empty,k=D.length;if(y==E&&0==k)return;y<c&&p(),y>c&&Ia(a,y-c,-1),Ia(a,E-y,k),Em(l,a,D),c=E}}(i),p(!u),u}static empty(i){return new ks(i?[i,-1]:[],[])}static fromJSON(i){if(!Array.isArray(i))throw new RangeError("Invalid JSON representation of ChangeSet");let o=[],s=[];for(let a=0;a<i.length;a++){let l=i[a];if("number"==typeof l)o.push(l,-1);else{if(!Array.isArray(l)||"number"!=typeof l[0]||l.some((c,u)=>u&&"string"!=typeof c))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==l.length)o.push(l[0],0);else{for(;s.length<a;)s.push(Zr.empty);s[a]=Zr.of(l.slice(1)),o.push(l[0],s[a].length)}}}return new ks(o,s)}static createSet(i,o){return new ks(i,o)}}function Ia(t,i,o,s=!1){if(0==i&&o<=0)return;let a=t.length-2;a>=0&&o<=0&&o==t[a+1]?t[a]+=i:0==i&&0==t[a]?t[a+1]+=o:s?(t[a]+=i,t[a+1]+=o):t.push(i,o)}function Em(t,i,o){if(0==o.length)return;let s=i.length-2>>1;if(s<t.length)t[t.length-1]=t[t.length-1].append(o);else{for(;t.length<s;)t.push(Zr.empty);t.push(o)}}function aI(t,i,o){let s=t.inserted;for(let a=0,l=0,c=0;c<t.sections.length;){let u=t.sections[c++],p=t.sections[c++];if(p<0)a+=u,l+=u;else{let h=a,v=l,y=Zr.empty;for(;h+=u,v+=p,p&&s&&(y=y.append(s[c-2>>1])),!(o||c==t.sections.length||t.sections[c+1]<0);)u=t.sections[c++],p=t.sections[c++];i(a,h,l,v,y),a=h,l=v}}}function lI(t,i,o,s=!1){let a=[],l=s?[]:null,c=new qx(t),u=new qx(i);for(let p=-1;;)if(-1==c.ins&&-1==u.ins){let h=Math.min(c.len,u.len);Ia(a,h,-1),c.forward(h),u.forward(h)}else if(u.ins>=0&&(c.ins<0||p==c.i||0==c.off&&(u.len<c.len||u.len==c.len&&!o))){let h=u.len;for(Ia(a,u.ins,-1);h;){let v=Math.min(c.len,h);c.ins>=0&&p<c.i&&c.len<=v&&(Ia(a,0,c.ins),l&&Em(l,a,c.text),p=c.i),c.forward(v),h-=v}u.next()}else{if(!(c.ins>=0)){if(c.done&&u.done)return l?ks.createSet(a,l):Ld.create(a);throw new Error("Mismatched change set lengths")}{let h=0,v=c.len;for(;v;)if(-1==u.ins){let y=Math.min(v,u.len);h+=y,v-=y,u.forward(y)}else{if(!(0==u.ins&&u.len<v))break;v-=u.len,u.next()}Ia(a,h,p<c.i?c.ins:0),l&&p<c.i&&Em(l,a,c.text),p=c.i,c.forward(c.len-v)}}}function nY(t,i,o=!1){let s=[],a=o?[]:null,l=new qx(t),c=new qx(i);for(let u=!1;;){if(l.done&&c.done)return a?ks.createSet(s,a):Ld.create(s);if(0==l.ins)Ia(s,l.len,0,u),l.next();else if(0!=c.len||c.done){if(l.done||c.done)throw new Error("Mismatched change set lengths");{let p=Math.min(l.len2,c.len),h=s.length;if(-1==l.ins){let v=-1==c.ins?-1:c.off?0:c.ins;Ia(s,p,v,u),a&&v&&Em(a,s,c.text)}else-1==c.ins?(Ia(s,l.off?0:l.len,p,u),a&&Em(a,s,l.textBit(p))):(Ia(s,l.off?0:l.len,c.off?0:c.ins,u),a&&!c.off&&Em(a,s,c.text));u=(l.ins>p||c.ins>=0&&c.len>p)&&(u||s.length>h),l.forward2(p),c.forward(p)}}else Ia(s,0,c.ins,u),a&&Em(a,s,c.text),c.next()}}class qx{constructor(i){this.set=i,this.i=0,this.next()}next(){let{sections:i}=this.set;this.i<i.length?(this.len=i[this.i++],this.ins=i[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:i}=this.set,o=this.i-2>>1;return o>=i.length?Zr.empty:i[o]}textBit(i){let{inserted:o}=this.set,s=this.i-2>>1;return s>=o.length&&!i?Zr.empty:o[s].slice(this.off,null==i?void 0:this.off+i)}forward(i){i==this.len?this.next():(this.len-=i,this.off+=i)}forward2(i){-1==this.ins?this.forward(i):i==this.ins?this.next():(this.ins-=i,this.off+=i)}}class Ov{constructor(i,o,s){this.from=i,this.to=o,this.flags=s}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let i=7&this.flags;return 7==i?null:i}get goalColumn(){let i=this.flags>>6;return 16777215==i?void 0:i}map(i,o=-1){let s,a;return this.empty?s=a=i.mapPos(this.from,o):(s=i.mapPos(this.from,1),a=i.mapPos(this.to,-1)),s==this.from&&a==this.to?this:new Ov(s,a,this.flags)}extend(i,o=i){if(i<=this.anchor&&o>=this.anchor)return lt.range(i,o);let s=Math.abs(i-this.anchor)>Math.abs(o-this.anchor)?i:o;return lt.range(this.anchor,s)}eq(i,o=!1){return!(this.anchor!=i.anchor||this.head!=i.head||o&&this.empty&&this.assoc!=i.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(i){if(!i||"number"!=typeof i.anchor||"number"!=typeof i.head)throw new RangeError("Invalid JSON representation for SelectionRange");return lt.range(i.anchor,i.head)}static create(i,o,s){return new Ov(i,o,s)}}class lt{constructor(i,o){this.ranges=i,this.mainIndex=o}map(i,o=-1){return i.empty?this:lt.create(this.ranges.map(s=>s.map(i,o)),this.mainIndex)}eq(i,o=!1){if(this.ranges.length!=i.ranges.length||this.mainIndex!=i.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(i.ranges[s],o))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new lt([this.main],0)}addRange(i,o=!0){return lt.create([i].concat(this.ranges),o?0:this.mainIndex+1)}replaceRange(i,o=this.mainIndex){let s=this.ranges.slice();return s[o]=i,lt.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(i=>i.toJSON()),main:this.mainIndex}}static fromJSON(i){if(!i||!Array.isArray(i.ranges)||"number"!=typeof i.main||i.main>=i.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new lt(i.ranges.map(o=>Ov.fromJSON(o)),i.main)}static single(i,o=i){return new lt([lt.range(i,o)],0)}static create(i,o=0){if(0==i.length)throw new RangeError("A selection needs at least one range");for(let s=0,a=0;a<i.length;a++){let l=i[a];if(l.empty?l.from<=s:l.from<s)return lt.normalized(i.slice(),o);s=l.to}return new lt(i,o)}static cursor(i,o=0,s,a){return Ov.create(i,i,(0==o?0:o<0?8:16)|(null==s?7:Math.min(6,s))|(a??16777215)<<6)}static range(i,o,s,a){let l=(s??16777215)<<6|(null==a?7:Math.min(6,a));return o<i?Ov.create(o,i,48|l):Ov.create(i,o,(o>i?8:0)|l)}static normalized(i,o=0){let s=i[o];i.sort((a,l)=>a.from-l.from),o=i.indexOf(s);for(let a=1;a<i.length;a++){let l=i[a],c=i[a-1];if(l.empty?l.from<=c.to:l.from<c.to){let u=c.from,p=Math.max(l.to,c.to);a<=o&&o--,i.splice(--a,2,l.anchor>l.head?lt.range(p,u):lt.range(u,p))}}return new lt(i,o)}}function rY(t,i){for(let o of t.ranges)if(o.to>i)throw new RangeError("Selection points outside of document")}let cI=0;class zt{constructor(i,o,s,a,l){this.combine=i,this.compareInput=o,this.compare=s,this.isStatic=a,this.id=cI++,this.default=i([]),this.extensions="function"==typeof l?l(this):l}get reader(){return this}static define(i={}){return new zt(i.combine||(o=>o),i.compareInput||((o,s)=>o===s),i.compare||(i.combine?(o,s)=>o===s:uI),!!i.static,i.enables)}of(i){return new UD([],this,0,i)}compute(i,o){if(this.isStatic)throw new Error("Can't compute a static facet");return new UD(i,this,1,o)}computeN(i,o){if(this.isStatic)throw new Error("Can't compute a static facet");return new UD(i,this,2,o)}from(i,o){return o||(o=s=>s),this.compute([i],s=>o(s.field(i)))}}function uI(t,i){return t==i||t.length==i.length&&t.every((o,s)=>o===i[s])}class UD{constructor(i,o,s,a){this.dependencies=i,this.facet=o,this.type=s,this.value=a,this.id=cI++}dynamicSlot(i){var o;let s=this.value,a=this.facet.compareInput,l=this.id,c=i[l]>>1,u=2==this.type,p=!1,h=!1,v=[];for(let y of this.dependencies)"doc"==y?p=!0:"selection"==y?h=!0:1&(null!==(o=i[y.id])&&void 0!==o?o:1)||v.push(i[y.id]);return{create:y=>(y.values[c]=s(y),1),update(y,E){if(p&&E.docChanged||h&&(E.docChanged||E.selection)||dI(y,v)){let S=s(y);if(u?!iY(S,y.values[c],a):!a(S,y.values[c]))return y.values[c]=S,1}return 0},reconfigure:(y,E)=>{let S,D=E.config.address[l];if(null!=D){let k=qD(E,D);if(this.dependencies.every(R=>R instanceof zt?E.facet(R)===y.facet(R):!(R instanceof Xs)||E.field(R,!1)==y.field(R,!1))||(u?iY(S=s(y),k,a):a(S=s(y),k)))return y.values[c]=k,0}else S=s(y);return y.values[c]=S,1}}}}function iY(t,i,o){if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++)if(!o(t[s],i[s]))return!1;return!0}function dI(t,i){let o=!1;for(let s of i)1&Yx(t,s)&&(o=!0);return o}function D5e(t,i,o){let s=o.map(p=>t[p.id]),a=o.map(p=>p.type),l=s.filter(p=>!(1&p)),c=t[i.id]>>1;function u(p){let h=[];for(let v=0;v<s.length;v++){let y=qD(p,s[v]);if(2==a[v])for(let E of y)h.push(E);else h.push(y)}return i.combine(h)}return{create(p){for(let h of s)Yx(p,h);return p.values[c]=u(p),1},update(p,h){if(!dI(p,l))return 0;let v=u(p);return i.compare(v,p.values[c])?0:(p.values[c]=v,1)},reconfigure(p,h){let v=dI(p,s),y=h.config.facets[i.id],E=h.facet(i);if(y&&!v&&uI(o,y))return p.values[c]=E,0;let S=u(p);return i.compare(S,E)?(p.values[c]=E,0):(p.values[c]=S,1)}}}const oY=zt.define({static:!0});class Xs{constructor(i,o,s,a,l){this.id=i,this.createF=o,this.updateF=s,this.compareF=a,this.spec=l,this.provides=void 0}static define(i){let o=new Xs(cI++,i.create,i.update,i.compare||((s,a)=>s===a),i);return i.provide&&(o.provides=i.provide(o)),o}create(i){let o=i.facet(oY).find(s=>s.field==this);return(o?.create||this.createF)(i)}slot(i){let o=i[this.id]>>1;return{create:s=>(s.values[o]=this.create(s),1),update:(s,a)=>{let l=s.values[o],c=this.updateF(l,a);return this.compareF(l,c)?0:(s.values[o]=c,1)},reconfigure:(s,a)=>null!=a.config.address[this.id]?(s.values[o]=a.field(this),0):(s.values[o]=this.create(s),1)}}init(i){return[this,oY.of({field:this,create:i})]}get extension(){return this}}function Wx(t){return i=>new sY(i,t)}const Mv={highest:Wx(0),high:Wx(1),default:Wx(2),low:Wx(3),lowest:Wx(4)};class sY{constructor(i,o){this.inner=i,this.prec=o}}class Xx{of(i){return new pI(this,i)}reconfigure(i){return Xx.reconfigure.of({compartment:this,extension:i})}get(i){return i.config.compartments.get(this)}}class pI{constructor(i,o){this.compartment=i,this.inner=o}}class GD{constructor(i,o,s,a,l,c){for(this.base=i,this.compartments=o,this.dynamicSlots=s,this.address=a,this.staticValues=l,this.facets=c,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(i){let o=this.address[i.id];return null==o?i.default:this.staticValues[o>>1]}static resolve(i,o,s){let a=[],l=Object.create(null),c=new Map;for(let E of function T5e(t,i,o){let s=[[],[],[],[],[]],a=new Map;return function l(c,u){let p=a.get(c);if(null!=p){if(p<=u)return;let h=s[p].indexOf(c);h>-1&&s[p].splice(h,1),c instanceof pI&&o.delete(c.compartment)}if(a.set(c,u),Array.isArray(c))for(let h of c)l(h,u);else if(c instanceof pI){if(o.has(c.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=i.get(c.compartment)||c.inner;o.set(c.compartment,h),l(h,u)}else if(c instanceof sY)l(c.inner,c.prec);else if(c instanceof Xs)s[u].push(c),c.provides&&l(c.provides,u);else if(c instanceof UD)s[u].push(c),c.facet.extensions&&l(c.facet.extensions,2);else{let h=c.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${c}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(h,u)}}(t,2),s.reduce((c,u)=>c.concat(u))}(i,o,c))E instanceof Xs?a.push(E):(l[E.facet.id]||(l[E.facet.id]=[])).push(E);let u=Object.create(null),p=[],h=[];for(let E of a)u[E.id]=h.length<<1,h.push(S=>E.slot(S));let v=s?.config.facets;for(let E in l){let S=l[E],D=S[0].facet,k=v&&v[E]||[];if(S.every(R=>0==R.type))if(u[D.id]=p.length<<1|1,uI(k,S))p.push(s.facet(D));else{let R=D.combine(S.map(L=>L.value));p.push(s&&D.compare(R,s.facet(D))?s.facet(D):R)}else{for(let R of S)0==R.type?(u[R.id]=p.length<<1|1,p.push(R.value)):(u[R.id]=h.length<<1,h.push(L=>R.dynamicSlot(L)));u[D.id]=h.length<<1,h.push(R=>D5e(R,D,S))}}let y=h.map(E=>E(u));return new GD(i,c,y,u,p,l)}}function Yx(t,i){if(1&i)return 2;let o=i>>1,s=t.status[o];if(4==s)throw new Error("Cyclic dependency between fields and/or facets");if(2&s)return s;t.status[o]=4;let a=t.computeSlot(t,t.config.dynamicSlots[o]);return t.status[o]=2|a}function qD(t,i){return 1&i?t.config.staticValues[i>>1]:t.values[i>>1]}const aY=zt.define(),fI=zt.define({combine:t=>t.some(i=>i),static:!0}),lY=zt.define({combine:t=>t.length?t[0]:void 0,static:!0}),cY=zt.define(),uY=zt.define(),dY=zt.define(),pY=zt.define({combine:t=>!!t.length&&t[0]});class yf{constructor(i,o){this.type=i,this.value=o}static define(){return new P5e}}class P5e{of(i){return new yf(this,i)}}class O5e{constructor(i){this.map=i}of(i){return new Jr(this,i)}}let Jr=(()=>{class t{constructor(o,s){this.type=o,this.value=s}map(o){let s=this.type.map(this.value,o);return void 0===s?void 0:s==this.value?this:new t(this.type,s)}is(o){return this.type==o}static define(o={}){return new O5e(o.map||(s=>s))}static mapEffects(o,s){if(!o.length)return o;let a=[];for(let l of o){let c=l.map(s);c&&a.push(c)}return a}}return t.reconfigure=t.define(),t.appendConfig=t.define(),t})(),m0=(()=>{class t{constructor(o,s,a,l,c,u){this.startState=o,this.changes=s,this.selection=a,this.effects=l,this.annotations=c,this.scrollIntoView=u,this._doc=null,this._state=null,a&&rY(a,s.newLength),c.some(p=>p.type==t.time)||(this.annotations=c.concat(t.time.of(Date.now())))}static create(o,s,a,l,c,u){return new t(o,s,a,l,c,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(o){for(let s of this.annotations)if(s.type==o)return s.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(o){let s=this.annotation(t.userEvent);return!(!s||!(s==o||s.length>o.length&&s.slice(0,o.length)==o&&"."==s[o.length]))}}return t.time=yf.define(),t.userEvent=yf.define(),t.addToHistory=yf.define(),t.remote=yf.define(),t})();function k5e(t,i){let o=[];for(let s=0,a=0;;){let l,c;if(s<t.length&&(a==i.length||i[a]>=t[s]))l=t[s++],c=t[s++];else{if(!(a<i.length))return o;l=i[a++],c=i[a++]}!o.length||o[o.length-1]<l?o.push(l,c):o[o.length-1]<c&&(o[o.length-1]=c)}}function fY(t,i,o){var s;let a,l,c;return o?(a=i.changes,l=ks.empty(i.changes.length),c=t.changes.compose(i.changes)):(a=i.changes.map(t.changes),l=t.changes.mapDesc(i.changes,!0),c=t.changes.compose(a)),{changes:c,selection:i.selection?i.selection.map(l):null===(s=t.selection)||void 0===s?void 0:s.map(a),effects:Jr.mapEffects(t.effects,a).concat(Jr.mapEffects(i.effects,l)),annotations:t.annotations.length?t.annotations.concat(i.annotations):i.annotations,scrollIntoView:t.scrollIntoView||i.scrollIntoView}}function hI(t,i,o){let s=i.selection,a=F3(i.annotations);return i.userEvent&&(a=a.concat(m0.userEvent.of(i.userEvent))),{changes:i.changes instanceof ks?i.changes:ks.of(i.changes||[],o,t.facet(lY)),selection:s&&(s instanceof lt?s:lt.single(s.anchor,s.head)),effects:F3(i.effects),annotations:a,scrollIntoView:!!i.scrollIntoView}}function hY(t,i,o){let s=hI(t,i.length?i[0]:{},t.doc.length);i.length&&!1===i[0].filter&&(o=!1);for(let l=1;l<i.length;l++){!1===i[l].filter&&(o=!1);let c=!!i[l].sequential;s=fY(s,hI(t,i[l],c?s.changes.newLength:t.doc.length),c)}let a=m0.create(t,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return function R5e(t){let i=t.startState,o=i.facet(dY),s=t;for(let a=o.length-1;a>=0;a--){let l=o[a](t);l&&Object.keys(l).length&&(s=fY(s,hI(i,l,t.changes.newLength),!0))}return s==t?t:m0.create(i,t.changes,t.selection,s.effects,s.annotations,s.scrollIntoView)}(o?function M5e(t){let i=t.startState,o=!0;for(let a of i.facet(cY)){let l=a(t);if(!1===l){o=!1;break}Array.isArray(l)&&(o=!0===o?l:k5e(o,l))}if(!0!==o){let a,l;if(!1===o)l=t.changes.invertedDesc,a=ks.empty(i.doc.length);else{let c=t.changes.filter(o);a=c.changes,l=c.filtered.mapDesc(c.changes).invertedDesc}t=m0.create(i,a,t.selection&&t.selection.map(l),Jr.mapEffects(t.effects,l),t.annotations,t.scrollIntoView)}let s=i.facet(uY);for(let a=s.length-1;a>=0;a--){let l=s[a](t);t=l instanceof m0?l:Array.isArray(l)&&1==l.length&&l[0]instanceof m0?l[0]:hY(i,F3(l),!1)}return t}(a):a)}const A5e=[];function F3(t){return null==t?A5e:Array.isArray(t)?t:[t]}var su=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(su||(su={}));const I5e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let mI;try{mI=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let Ec=(()=>{class t{constructor(o,s,a,l,c,u){this.config=o,this.doc=s,this.selection=a,this.values=l,this.status=o.statusTemplate.slice(),this.computeSlot=c,u&&(u._state=this);for(let p=0;p<this.config.dynamicSlots.length;p++)Yx(this,p<<1);this.computeSlot=null}field(o,s=!0){let a=this.config.address[o.id];if(null!=a)return Yx(this,a),qD(this,a);if(s)throw new RangeError("Field is not present in this state")}update(...o){return hY(this,o,!0)}applyTransaction(o){let c,s=this.config,{base:a,compartments:l}=s;for(let p of o.effects)p.is(Xx.reconfigure)?(s&&(l=new Map,s.compartments.forEach((h,v)=>l.set(v,h)),s=null),l.set(p.value.compartment,p.value.extension)):p.is(Jr.reconfigure)?(s=null,a=p.value):p.is(Jr.appendConfig)&&(s=null,a=F3(a).concat(p.value));s?c=o.startState.values.slice():(s=GD.resolve(a,l,this),c=new t(s,this.doc,this.selection,s.dynamicSlots.map(()=>null),(h,v)=>v.reconfigure(h,this),null).values);let u=o.startState.facet(fI)?o.newSelection:o.newSelection.asSingle();new t(s,o.newDoc,u,c,(p,h)=>h.update(p,o),o)}replaceSelection(o){return"string"==typeof o&&(o=this.toText(o)),this.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:o},range:lt.cursor(s.from+o.length)}))}changeByRange(o){let s=this.selection,a=o(s.ranges[0]),l=this.changes(a.changes),c=[a.range],u=F3(a.effects);for(let p=1;p<s.ranges.length;p++){let h=o(s.ranges[p]),v=this.changes(h.changes),y=v.map(l);for(let S=0;S<p;S++)c[S]=c[S].map(y);let E=l.mapDesc(v,!0);c.push(h.range.map(E)),l=l.compose(y),u=Jr.mapEffects(u,y).concat(Jr.mapEffects(F3(h.effects),E))}return{changes:l,selection:lt.create(c,s.mainIndex),effects:u}}changes(o=[]){return o instanceof ks?o:ks.of(o,this.doc.length,this.facet(t.lineSeparator))}toText(o){return Zr.of(o.split(this.facet(t.lineSeparator)||sI))}sliceDoc(o=0,s=this.doc.length){return this.doc.sliceString(o,s,this.lineBreak)}facet(o){let s=this.config.address[o.id];return null==s?o.default:(Yx(this,s),qD(this,s))}toJSON(o){let s={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(o)for(let a in o){let l=o[a];l instanceof Xs&&null!=this.config.address[l.id]&&(s[a]=l.spec.toJSON(this.field(o[a]),this))}return s}static fromJSON(o,s={},a){if(!o||"string"!=typeof o.doc)throw new RangeError("Invalid JSON representation for EditorState");let l=[];if(a)for(let c in a)if(Object.prototype.hasOwnProperty.call(o,c)){let u=a[c],p=o[c];l.push(u.init(h=>u.spec.fromJSON(p,h)))}return t.create({doc:o.doc,selection:lt.fromJSON(o.selection),extensions:s.extensions?l.concat([s.extensions]):l})}static create(o={}){let s=GD.resolve(o.extensions||[],new Map),a=o.doc instanceof Zr?o.doc:Zr.of((o.doc||"").split(s.staticFacet(t.lineSeparator)||sI)),l=o.selection?o.selection instanceof lt?o.selection:lt.single(o.selection.anchor,o.selection.head):lt.single(0);return rY(l,a.length),s.staticFacet(fI)||(l=l.asSingle()),new t(s,a,l,s.dynamicSlots.map(()=>null),(c,u)=>u.create(c),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||"\n"}get readOnly(){return this.facet(pY)}phrase(o,...s){for(let a of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(a,o)){o=a[o];break}return s.length&&(o=o.replace(/\$(\$|\d*)/g,(a,l)=>{if("$"==l)return"$";let c=+(l||1);return!c||c>s.length?a:s[c-1]})),o}languageDataAt(o,s,a=-1){let l=[];for(let c of this.facet(aY))for(let u of c(this,s,a))Object.prototype.hasOwnProperty.call(u,o)&&l.push(u[o]);return l}charCategorizer(o){return function L5e(t){return i=>{if(!/\S/.test(i))return su.Space;if(function N5e(t){if(mI)return mI.test(t);for(let i=0;i<t.length;i++){let o=t[i];if(/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||I5e.test(o)))return!0}return!1}(i))return su.Word;for(let o=0;o<t.length;o++)if(i.indexOf(t[o])>-1)return su.Word;return su.Other}}(this.languageDataAt("wordChars",o).join(""))}wordAt(o){let{text:s,from:a,length:l}=this.doc.lineAt(o),c=this.charCategorizer(o),u=o-a,p=o-a;for(;u>0;){let h=fl(s,u,!1);if(c(s.slice(h,u))!=su.Word)break;u=h}for(;p<l;){let h=fl(s,p);if(c(s.slice(p,h))!=su.Word)break;p=h}return u==p?null:lt.range(u+a,p+a)}}return t.allowMultipleSelections=fI,t.tabSize=zt.define({combine:i=>i.length?i[0]:4}),t.lineSeparator=lY,t.readOnly=pY,t.phrases=zt.define({compare(i,o){let s=Object.keys(i),a=Object.keys(o);return s.length==a.length&&s.every(l=>i[l]==o[l])}}),t.languageData=aY,t.changeFilter=cY,t.transactionFilter=uY,t.transactionExtender=dY,t})();function bf(t,i,o={}){let s={};for(let a of t)for(let l of Object.keys(a)){let c=a[l],u=s[l];if(void 0===u)s[l]=c;else if(u!==c&&void 0!==c){if(!Object.hasOwnProperty.call(o,l))throw new Error("Config merge conflict for field "+l);s[l]=o[l](u,c)}}for(let a in i)void 0===s[a]&&(s[a]=i[a]);return s}Xx.reconfigure=Jr.define();class Rv{eq(i){return this==i}range(i,o=i){return Kx.create(i,o,this)}}Rv.prototype.startSide=Rv.prototype.endSide=0,Rv.prototype.point=!1,Rv.prototype.mapMode=sa.TrackDel;class Kx{constructor(i,o,s){this.from=i,this.to=o,this.value=s}static create(i,o,s){return new Kx(i,o,s)}}function gI(t,i){return t.from-i.from||t.value.startSide-i.value.startSide}class vI{constructor(i,o,s,a){this.from=i,this.to=o,this.value=s,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(i,o,s,a=0){let l=s?this.to:this.from;for(let c=a,u=l.length;;){if(c==u)return c;let p=c+u>>1,h=l[p]-i||(s?this.value[p].endSide:this.value[p].startSide)-o;if(p==c)return h>=0?c:u;h>=0?u=p:c=p+1}}between(i,o,s,a){for(let l=this.findIndex(o,-1e9,!0),c=this.findIndex(s,1e9,!1,l);l<c;l++)if(!1===a(this.from[l]+i,this.to[l]+i,this.value[l]))return!1}map(i,o){let s=[],a=[],l=[],c=-1,u=-1;for(let p=0;p<this.value.length;p++){let E,S,h=this.value[p],v=this.from[p]+i,y=this.to[p]+i;if(v==y){let D=o.mapPos(v,h.startSide,h.mapMode);if(null==D||(E=S=D,h.startSide!=h.endSide&&(S=o.mapPos(v,h.endSide),S<E)))continue}else if(E=o.mapPos(v,h.startSide),S=o.mapPos(y,h.endSide),E>S||E==S&&h.startSide>0&&h.endSide<=0)continue;(S-E||h.endSide-h.startSide)<0||(c<0&&(c=E),h.point&&(u=Math.max(u,S-E)),s.push(h),a.push(E-c),l.push(S-c))}return{mapped:s.length?new vI(a,l,s,u):null,pos:c}}}let Mo=(()=>{class t{constructor(o,s,a,l){this.chunkPos=o,this.chunk=s,this.nextLayer=a,this.maxPoint=l}static create(o,s,a,l){return new t(o,s,a,l)}get length(){let o=this.chunk.length-1;return o<0?0:Math.max(this.chunkEnd(o),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let o=this.nextLayer.size;for(let s of this.chunk)o+=s.value.length;return o}chunkEnd(o){return this.chunkPos[o]+this.chunk[o].length}update(o){let{add:s=[],sort:a=!1,filterFrom:l=0,filterTo:c=this.length}=o,u=o.filter;if(0==s.length&&!u)return this;if(a&&(s=s.slice().sort(gI)),this.isEmpty)return s.length?t.of(s):this;let p=new gY(this,null,-1).goto(0),h=0,v=[],y=new Av;for(;p.value||h<s.length;)if(h<s.length&&(p.from-s[h].from||p.startSide-s[h].value.startSide)>=0){let E=s[h++];y.addInner(E.from,E.to,E.value)||v.push(E)}else 1==p.rangeIndex&&p.chunkIndex<this.chunk.length&&(h==s.length||this.chunkEnd(p.chunkIndex)<s[h].from)&&(!u||l>this.chunkEnd(p.chunkIndex)||c<this.chunkPos[p.chunkIndex])&&y.addChunk(this.chunkPos[p.chunkIndex],this.chunk[p.chunkIndex])?p.nextChunk():((!u||l>p.to||c<p.from||u(p.from,p.to,p.value))&&(y.addInner(p.from,p.to,p.value)||v.push(Kx.create(p.from,p.to,p.value))),p.next());return y.finishInner(this.nextLayer.isEmpty&&!v.length?t.empty:this.nextLayer.update({add:v,filter:u,filterFrom:l,filterTo:c}))}map(o){if(o.empty||this.isEmpty)return this;let s=[],a=[],l=-1;for(let u=0;u<this.chunk.length;u++){let p=this.chunkPos[u],h=this.chunk[u],v=o.touchesRange(p,p+h.length);if(!1===v)l=Math.max(l,h.maxPoint),s.push(h),a.push(o.mapPos(p));else if(!0===v){let{mapped:y,pos:E}=h.map(p,o);y&&(l=Math.max(l,y.maxPoint),s.push(y),a.push(E))}}let c=this.nextLayer.map(o);return 0==s.length?c:new t(a,s,c||t.empty,l)}between(o,s,a){if(!this.isEmpty){for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],u=this.chunk[l];if(s>=c&&o<=c+u.length&&!1===u.between(c,o-c,s-c,a))return}this.nextLayer.between(o,s,a)}}iter(o=0){return Qx.from([this]).goto(o)}get isEmpty(){return this.nextLayer==this}static iter(o,s=0){return Qx.from(o).goto(s)}static compare(o,s,a,l,c=-1){let u=o.filter(E=>E.maxPoint>0||!E.isEmpty&&E.maxPoint>=c),p=s.filter(E=>E.maxPoint>0||!E.isEmpty&&E.maxPoint>=c),h=mY(u,p,a),v=new Zx(u,h,c),y=new Zx(p,h,c);a.iterGaps((E,S,D)=>vY(v,E,y,S,D,l)),a.empty&&0==a.length&&vY(v,0,y,0,0,l)}static eq(o,s,a=0,l){null==l&&(l=999999999);let c=o.filter(y=>!y.isEmpty&&s.indexOf(y)<0),u=s.filter(y=>!y.isEmpty&&o.indexOf(y)<0);if(c.length!=u.length)return!1;if(!c.length)return!0;let p=mY(c,u),h=new Zx(c,p,0).goto(a),v=new Zx(u,p,0).goto(a);for(;;){if(h.to!=v.to||!bI(h.active,v.active)||h.point&&(!v.point||!h.point.eq(v.point)))return!1;if(h.to>l)return!0;h.next(),v.next()}}static spans(o,s,a,l,c=-1){let u=new Zx(o,null,c).goto(s),p=s,h=u.openStart;for(;;){let v=Math.min(u.to,a);if(u.point){let y=u.activeForPoint(u.to),E=u.pointFrom<s?y.length+1:u.point.startSide<0?y.length:Math.min(y.length,h);l.point(p,v,u.point,y,E,u.pointRank),h=Math.min(u.openEnd(v),y.length)}else v>p&&(l.span(p,v,u.active,h),h=u.openEnd(v));if(u.to>a)return h+(u.point&&u.to>a?1:0);p=u.to,u.next()}}static of(o,s=!1){let a=new Av;for(let l of o instanceof Kx?[o]:s?function F5e(t){if(t.length>1)for(let i=t[0],o=1;o<t.length;o++){let s=t[o];if(gI(i,s)>0)return t.slice().sort(gI);i=s}return t}(o):o)a.add(l.from,l.to,l.value);return a.finish()}static join(o){if(!o.length)return t.empty;let s=o[o.length-1];for(let a=o.length-2;a>=0;a--)for(let l=o[a];l!=t.empty;l=l.nextLayer)s=new t(l.chunkPos,l.chunk,s,Math.max(l.maxPoint,s.maxPoint));return s}}return t.empty=new t([],[],null,-1),t})();Mo.empty.nextLayer=Mo.empty;class Av{finishChunk(i){this.chunks.push(new vI(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,i&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(i,o,s){this.addInner(i,o,s)||(this.nextLayer||(this.nextLayer=new Av)).add(i,o,s)}addInner(i,o,s){let a=i-this.lastTo||s.startSide-this.last.endSide;if(a<=0&&(i-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(a<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=i),this.from.push(i-this.chunkStart),this.to.push(o-this.chunkStart),this.last=s,this.lastFrom=i,this.lastTo=o,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,o-i)),0))}addChunk(i,o){if((i-this.lastTo||o.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,o.maxPoint),this.chunks.push(o),this.chunkPos.push(i);let s=o.value.length-1;return this.last=o.value[s],this.lastFrom=o.from[s]+i,this.lastTo=o.to[s]+i,!0}finish(){return this.finishInner(Mo.empty)}finishInner(i){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return i;let o=Mo.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(i):i,this.setMaxPoint);return this.from=null,o}}function mY(t,i,o){let s=new Map;for(let l of t)for(let c=0;c<l.chunk.length;c++)l.chunk[c].maxPoint<=0&&s.set(l.chunk[c],l.chunkPos[c]);let a=new Set;for(let l of i)for(let c=0;c<l.chunk.length;c++){let u=s.get(l.chunk[c]);null!=u&&(o?o.mapPos(u):u)==l.chunkPos[c]&&!o?.touchesRange(u,u+l.chunk[c].length)&&a.add(l.chunk[c])}return a}class gY{constructor(i,o,s,a=0){this.layer=i,this.skip=o,this.minPoint=s,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(i,o=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(i,o,!1),this}gotoInner(i,o,s){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<i||a.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(i-this.layer.chunkPos[this.chunkIndex],o,!0);(!s||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(i,o){(this.to-i||this.endSide-o)<0&&this.gotoInner(i,o,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let i=this.layer.chunkPos[this.chunkIndex],o=this.layer.chunk[this.chunkIndex];if(this.from=i+o.from[this.rangeIndex],this.to=i+o.to[this.rangeIndex],this.value=o.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(i){if(i==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=i}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(i){return this.from-i.from||this.startSide-i.startSide||this.rank-i.rank||this.to-i.to||this.endSide-i.endSide}}class Qx{constructor(i){this.heap=i}static from(i,o=null,s=-1){let a=[];for(let l=0;l<i.length;l++)for(let c=i[l];!c.isEmpty;c=c.nextLayer)c.maxPoint>=s&&a.push(new gY(c,o,s,l));return 1==a.length?a[0]:new Qx(a)}get startSide(){return this.value?this.value.startSide:0}goto(i,o=-1e9){for(let s of this.heap)s.goto(i,o);for(let s=this.heap.length>>1;s>=0;s--)yI(this.heap,s);return this.next(),this}forward(i,o){for(let s of this.heap)s.forward(i,o);for(let s=this.heap.length>>1;s>=0;s--)yI(this.heap,s);(this.to-i||this.value.endSide-o)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let i=this.heap[0];this.from=i.from,this.to=i.to,this.value=i.value,this.rank=i.rank,i.value&&i.next(),yI(this.heap,0)}}}function yI(t,i){for(let o=t[i];;){let s=1+(i<<1);if(s>=t.length)break;let a=t[s];if(s+1<t.length&&a.compare(t[s+1])>=0&&(a=t[s+1],s++),o.compare(a)<0)break;t[s]=o,t[i]=a,i=s}}class Zx{constructor(i,o,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Qx.from(i,o,s)}goto(i,o=-1e9){return this.cursor.goto(i,o),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=i,this.endSide=o,this.openStart=-1,this.next(),this}forward(i,o){for(;this.minActive>-1&&(this.activeTo[this.minActive]-i||this.active[this.minActive].endSide-o)<0;)this.removeActive(this.minActive);this.cursor.forward(i,o)}removeActive(i){WD(this.active,i),WD(this.activeTo,i),WD(this.activeRank,i),this.minActive=yY(this.active,this.activeTo)}addActive(i){let o=0,{value:s,to:a,rank:l}=this.cursor;for(;o<this.activeRank.length&&(l-this.activeRank[o]||a-this.activeTo[o])>0;)o++;XD(this.active,o,s),XD(this.activeTo,o,a),XD(this.activeRank,o,l),i&&XD(i,o,this.cursor.from),this.minActive=yY(this.active,this.activeTo)}next(){let i=this.to,o=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>i){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),s&&WD(s,a)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>i){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let l=this.cursor.value;if(l.point){if(!(o&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(s),this.cursor.next()}}}if(s){this.openStart=0;for(let a=s.length-1;a>=0&&s[a]<i;a--)this.openStart++}}activeForPoint(i){if(!this.active.length)return this.active;let o=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>i||this.activeTo[s]==i&&this.active[s].endSide>=this.point.endSide)&&o.push(this.active[s]);return o.reverse()}openEnd(i){let o=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>i;s--)o++;return o}}function vY(t,i,o,s,a,l){t.goto(i),o.goto(s);let c=s+a,u=s,p=s-i;for(;;){let h=t.to+p-o.to||t.endSide-o.endSide,v=h<0?t.to+p:o.to,y=Math.min(v,c);if(t.point||o.point?t.point&&o.point&&(t.point==o.point||t.point.eq(o.point))&&bI(t.activeForPoint(t.to),o.activeForPoint(o.to))||l.comparePoint(u,y,t.point,o.point):y>u&&!bI(t.active,o.active)&&l.compareRange(u,y,t.active,o.active),v>c)break;u=v,h<=0&&t.next(),h>=0&&o.next()}}function bI(t,i){if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!=i[o]&&!t[o].eq(i[o]))return!1;return!0}function WD(t,i){for(let o=i,s=t.length-1;o<s;o++)t[o]=t[o+1];t.pop()}function XD(t,i,o){for(let s=t.length-1;s>=i;s--)t[s+1]=t[s];t[i]=o}function yY(t,i){let o=-1,s=1e9;for(let a=0;a<i.length;a++)(i[a]-s||t[a].endSide-t[o].endSide)<0&&(o=a,s=i[a]);return o}function YD(t,i,o=t.length){let s=0;for(let a=0;a<o;)9==t.charCodeAt(a)?(s+=i-s%i,a++):(s++,a=fl(t,a));return s}const bY=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),EI=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),_Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xm{constructor(i,o){this.rules=[];let{finish:s}=o||{};function a(c){return/^@/.test(c)?[c]:c.split(/,\s*/)}function l(c,u,p,h){let v=[],y=/^@(\w+)\b/.exec(c[0]),E=y&&"keyframes"==y[1];if(y&&null==u)return p.push(c[0]+";");for(let S in u){let D=u[S];if(/&/.test(S))l(S.split(/,\s*/).map(k=>c.map(R=>k.replace(/&/,R))).reduce((k,R)=>k.concat(R)),D,p);else if(D&&"object"==typeof D){if(!y)throw new RangeError("The value of a property ("+S+") should be a primitive value.");l(a(S),D,v,E)}else null!=D&&v.push(S.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+D+";")}(v.length||E)&&p.push((!s||y||h?c:c.map(s)).join(", ")+" {"+v.join(" ")+"}")}for(let c in i)l(a(c),i[c],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let i=_Y[bY]||1;return _Y[bY]=i+1,"\u037c"+i.toString(36)}static mount(i,o,s){let a=i[EI],l=s&&s.nonce;a?l&&a.setNonce(l):a=new j5e(i,l),a.mount(Array.isArray(o)?o:[o],i)}}let EY=new Map;class j5e{constructor(i,o){let s=i.ownerDocument||i,a=s.defaultView;if(!i.head&&i.adoptedStyleSheets&&a.CSSStyleSheet){let l=EY.get(s);if(l)return i[EI]=l;this.sheet=new a.CSSStyleSheet,EY.set(s,this)}else this.styleTag=s.createElement("style"),o&&this.styleTag.setAttribute("nonce",o);this.modules=[],i[EI]=this}mount(i,o){let s=this.sheet,a=0,l=0;for(let c=0;c<i.length;c++){let u=i[c],p=this.modules.indexOf(u);if(p<l&&p>-1&&(this.modules.splice(p,1),l--,p=-1),-1==p){if(this.modules.splice(l++,0,u),s)for(let h=0;h<u.rules.length;h++)s.insertRule(u.rules[h],a++)}else{for(;l<p;)a+=this.modules[l++].rules.length;a+=u.rules.length,l++}}if(s)o.adoptedStyleSheets.indexOf(this.sheet)<0&&(o.adoptedStyleSheets=[this.sheet,...o.adoptedStyleSheets]);else{let c="";for(let p=0;p<this.modules.length;p++)c+=this.modules[p].getRules()+"\n";this.styleTag.textContent=c;let u=o.head||o;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(i){this.styleTag&&this.styleTag.getAttribute("nonce")!=i&&this.styleTag.setAttribute("nonce",i)}}for(var wm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),V5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),aa=0;aa<10;aa++)wm[48+aa]=wm[96+aa]=String(aa);for(aa=1;aa<=24;aa++)wm[aa+111]="F"+aa;for(aa=65;aa<=90;aa++)wm[aa]=String.fromCharCode(aa+32),Jx[aa]=String.fromCharCode(aa);for(var xI in wm)Jx.hasOwnProperty(xI)||(Jx[xI]=wm[xI]);function KD(t){let i;return i=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,i.getSelection()}function wI(t,i){return!!i&&(t==i||t.contains(1!=i.nodeType?i.parentNode:i))}function QD(t,i){if(!i.anchorNode)return!1;try{return wI(t,i.anchorNode)}catch{return!1}}function B3(t){return 3==t.nodeType?Nv(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ew(t,i,o,s){return!!o&&(xY(t,i,o,s,-1)||xY(t,i,o,s,1))}function Iv(t){for(var i=0;;i++)if(!(t=t.previousSibling))return i}function ZD(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function xY(t,i,o,s,a){for(;;){if(t==o&&i==s)return!0;if(i==(a<0?0:_f(t))){if("DIV"==t.nodeName)return!1;let l=t.parentNode;if(!l||1!=l.nodeType)return!1;i=Iv(t)+(a<0?0:1),t=l}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[i+(a<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;i=a<0?_f(t):0}}}function _f(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function JD(t,i){let o=i?t.left:t.right;return{left:o,right:o,top:t.top,bottom:t.bottom}}function U5e(t){let i=t.visualViewport;return i?{left:0,right:i.width,top:0,bottom:i.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function wY(t,i){let o=i.width/t.offsetWidth,s=i.height/t.offsetHeight;return(o>.995&&o<1.005||!isFinite(o)||Math.abs(i.width-t.offsetWidth)<1)&&(o=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(i.height-t.offsetHeight)<1)&&(s=1),{scaleX:o,scaleY:s}}class W5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(i){return this.anchorNode==i.anchorNode&&this.anchorOffset==i.anchorOffset&&this.focusNode==i.focusNode&&this.focusOffset==i.focusOffset}setRange(i){let{anchorNode:o,focusNode:s}=i;this.set(o,Math.min(i.anchorOffset,o?_f(o):0),s,Math.min(i.focusOffset,s?_f(s):0))}set(i,o,s,a){this.anchorNode=i,this.anchorOffset=o,this.focusNode=s,this.focusOffset=a}}let CY,j3=null;function SY(t){if(t.setActive)return t.setActive();if(j3)return t.focus(j3);let i=[];for(let o=t;o&&(i.push(o,o.scrollTop,o.scrollLeft),o!=o.ownerDocument);o=o.parentNode);if(t.focus(null==j3?{get preventScroll(){return j3={preventScroll:!0},!0}}:void 0),!j3){j3=!1;for(let o=0;o<i.length;){let s=i[o++],a=i[o++],l=i[o++];s.scrollTop!=a&&(s.scrollTop=a),s.scrollLeft!=l&&(s.scrollLeft=l)}}}function Nv(t,i,o=i){let s=CY||(CY=document.createRange());return s.setEnd(t,o),s.setStart(t,i),s}function $3(t,i,o,s){let a={key:i,code:i,keyCode:o,which:o,cancelable:!0};s&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=s);let l=new KeyboardEvent("keydown",a);l.synthetic=!0,t.dispatchEvent(l);let c=new KeyboardEvent("keyup",a);return c.synthetic=!0,t.dispatchEvent(c),l.defaultPrevented||c.defaultPrevented}function DY(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function TY(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function PY(t,i){for(let o=t,s=i;;){if(3==o.nodeType&&s>0)return{node:o,offset:s};if(1==o.nodeType&&s>0){if("false"==o.contentEditable)return null;o=o.childNodes[s-1],s=_f(o)}else{if(!o.parentNode||ZD(o))return null;s=Iv(o),o=o.parentNode}}}function OY(t,i){for(let o=t,s=i;;){if(3==o.nodeType&&s<o.nodeValue.length)return{node:o,offset:s};if(1==o.nodeType&&s<o.childNodes.length){if("false"==o.contentEditable)return null;o=o.childNodes[s],s=0}else{if(!o.parentNode||ZD(o))return null;s=Iv(o)+1,o=o.parentNode}}}class Na{constructor(i,o,s=!0){this.node=i,this.offset=o,this.precise=s}static before(i,o){return new Na(i.parentNode,Iv(i),o)}static after(i,o){return new Na(i.parentNode,Iv(i)+1,o)}}const SI=[];class Li{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(i){let o=this.posAtStart;for(let s of this.children){if(s==i)return o;o+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(i){return this.posBefore(i)+i.length}sync(i,o){if(2&this.flags){let l,s=this.dom,a=null;for(let c of this.children){if(7&c.flags){if(!c.dom&&(l=a?a.nextSibling:s.firstChild)){let u=Li.get(l);(!u||!u.parent&&u.canReuseDOM(c))&&c.reuseDOM(l)}c.sync(i,o),c.flags&=-8}if(l=a?a.nextSibling:s.firstChild,o&&!o.written&&o.node==s&&l!=c.dom&&(o.written=!0),c.dom.parentNode==s)for(;l&&l!=c.dom;)l=kY(l);else s.insertBefore(c.dom,l);a=c.dom}for(l=a?a.nextSibling:s.firstChild,l&&o&&o.node==s&&(o.written=!0);l;)l=kY(l)}else if(1&this.flags)for(let s of this.children)7&s.flags&&(s.sync(i,o),s.flags&=-8)}reuseDOM(i){}localPosFromDOM(i,o){let s;if(i==this.dom)s=this.dom.childNodes[o];else{let a=0==_f(i)?0:0==o?-1:1;for(;;){let l=i.parentNode;if(l==this.dom)break;0==a&&l.firstChild!=l.lastChild&&(a=i==l.firstChild?-1:1),i=l}s=a<0?i:i.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!Li.get(s);)s=s.nextSibling;if(!s)return this.length;for(let a=0,l=0;;a++){let c=this.children[a];if(c.dom==s)return l;l+=c.length+c.breakAfter}}domBoundsAround(i,o,s=0){let a=-1,l=-1,c=-1,u=-1;for(let p=0,h=s,v=s;p<this.children.length;p++){let y=this.children[p],E=h+y.length;if(h<i&&E>o)return y.domBoundsAround(i,o,h);if(E>=i&&-1==a&&(a=p,l=h),h>o&&y.dom.parentNode==this.dom){c=p,u=v;break}v=E,h=E+y.breakAfter}return{from:l,to:u<0?s+this.length:u,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:c<this.children.length&&c>=0?this.children[c].dom:null}}markDirty(i=!1){this.flags|=2,this.markParentsDirty(i)}markParentsDirty(i){for(let o=this.parent;o;o=o.parent){if(i&&(o.flags|=2),1&o.flags)return;o.flags|=1,i=!1}}setParent(i){this.parent!=i&&(this.parent=i,7&this.flags&&this.markParentsDirty(!0))}setDOM(i){this.dom!=i&&(this.dom&&(this.dom.cmView=null),this.dom=i,i.cmView=this)}get rootView(){for(let i=this;;){let o=i.parent;if(!o)return i;i=o}}replaceChildren(i,o,s=SI){this.markDirty();for(let a=i;a<o;a++){let l=this.children[a];l.parent==this&&s.indexOf(l)<0&&l.destroy()}this.children.splice(i,o-i,...s);for(let a=0;a<s.length;a++)s[a].setParent(this)}ignoreMutation(i){return!1}ignoreEvent(i){return!1}childCursor(i=this.length){return new MY(this.children,i,this.children.length)}childPos(i,o=1){return this.childCursor().findPos(i,o)}toString(){let i=this.constructor.name.replace("View","");return i+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==i?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(i){return i.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(i,o,s,a,l,c){return!1}become(i){return!1}canReuseDOM(i){return i.constructor==this.constructor&&!(8&(this.flags|i.flags))}getSide(){return 0}destroy(){for(let i of this.children)i.parent==this&&i.destroy();this.parent=null}}function kY(t){let i=t.nextSibling;return t.parentNode.removeChild(t),i}Li.prototype.breakAfter=0;class MY{constructor(i,o,s){this.children=i,this.pos=o,this.i=s,this.off=0}findPos(i,o=1){for(;;){if(i>this.pos||i==this.pos&&(o>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=i-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function RY(t,i,o,s,a,l,c,u,p){let{children:h}=t,v=h.length?h[i]:null,y=l.length?l[l.length-1]:null,E=y?y.breakAfter:c;if(!(i==s&&v&&!c&&!E&&l.length<2&&v.merge(o,a,l.length?y:null,0==o,u,p))){if(s<h.length){let S=h[s];S&&(a<S.length||S.breakAfter&&y?.breakAfter)?(i==s&&(S=S.split(a),a=0),!E&&y&&S.merge(0,a,y,!0,0,p)?l[l.length-1]=S:((a||S.children.length&&!S.children[0].length)&&S.merge(0,a,null,!1,0,p),l.push(S))):S?.breakAfter&&(y?y.breakAfter=1:c=1),s++}for(v&&(v.breakAfter=c,o>0&&(!c&&l.length&&v.merge(o,v.length,l[0],!1,u,0)?v.breakAfter=l.shift().breakAfter:(o<v.length||v.children.length&&0==v.children[v.children.length-1].length)&&v.merge(o,v.length,null,!1,u,0),i++));i<s&&l.length;)if(h[s-1].become(l[l.length-1]))s--,l.pop(),p=l.length?0:u;else{if(!h[i].become(l[0]))break;i++,l.shift(),u=l.length?0:p}!l.length&&i&&s<h.length&&!h[i-1].breakAfter&&h[s].merge(0,0,h[i-1],!1,u,p)&&i--,(i<s||l.length)&&t.replaceChildren(i,s,l)}}function AY(t,i,o,s,a,l){let c=t.childCursor(),{i:u,off:p}=c.findPos(o,1),{i:h,off:v}=c.findPos(i,-1),y=i-o;for(let E of s)y+=E.length;t.length+=y,RY(t,h,v,u,p,s,0,a,l)}let xc=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},CI=typeof document<"u"?document:{documentElement:{style:{}}};const DI=/Edge\/(\d+)/.exec(xc.userAgent),IY=/MSIE \d/.test(xc.userAgent),TI=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xc.userAgent),eT=!!(IY||TI||DI),NY=!eT&&/gecko\/(\d+)/i.test(xc.userAgent),PI=!eT&&/Chrome\/(\d+)/.exec(xc.userAgent),LY="webkitFontSmoothing"in CI.documentElement.style,FY=!eT&&/Apple Computer/.test(xc.vendor),BY=FY&&(/Mobile\/\w+/.test(xc.userAgent)||xc.maxTouchPoints>2);var Wt={mac:BY||/Mac/.test(xc.platform),windows:/Win/.test(xc.platform),linux:/Linux|X11/.test(xc.platform),ie:eT,ie_version:IY?CI.documentMode||6:TI?+TI[1]:DI?+DI[1]:0,gecko:NY,gecko_version:NY?+(/Firefox\/(\d+)/.exec(xc.userAgent)||[0,0])[1]:0,chrome:!!PI,chrome_version:PI?+PI[1]:0,ios:BY,android:/Android\b/.test(xc.userAgent),webkit:LY,safari:FY,webkit_version:LY?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=CI.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class g0 extends Li{constructor(i){super(),this.text=i}get length(){return this.text.length}createDOM(i){this.setDOM(i||document.createTextNode(this.text))}sync(i,o){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(o&&o.node==this.dom&&(o.written=!0),this.dom.nodeValue=this.text)}reuseDOM(i){3==i.nodeType&&this.createDOM(i)}merge(i,o,s){return!(8&this.flags||s&&(!(s instanceof g0)||this.length-(o-i)+s.length>256||8&s.flags)||(this.text=this.text.slice(0,i)+(s?s.text:"")+this.text.slice(o),this.markDirty(),0))}split(i){let o=new g0(this.text.slice(i));return this.text=this.text.slice(0,i),this.markDirty(),o.flags|=8&this.flags,o}localPosFromDOM(i,o){return i==this.dom?o:o?this.text.length:0}domAtPos(i){return new Na(this.dom,i)}domBoundsAround(i,o,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(i,o){return function Q5e(t,i,o){let s=t.nodeValue.length;i>s&&(i=s);let a=i,l=i,c=0;0==i&&o<0||i==s&&o>=0?Wt.chrome||Wt.gecko||(i?(a--,c=1):l<s&&(l++,c=-1)):o<0?a--:l<s&&l++;let u=Nv(t,a,l).getClientRects();if(!u.length)return null;let p=u[(c?c<0:o>=0)?0:u.length-1];return Wt.safari&&!c&&0==p.width&&(p=Array.prototype.find.call(u,h=>h.width)||p),c?JD(p,c<0):p||null}(this.dom,i,o)}}class Ef extends Li{constructor(i,o=[],s=0){super(),this.mark=i,this.children=o,this.length=s;for(let a of o)a.setParent(this)}setAttrs(i){if(DY(i),this.mark.class&&(i.className=this.mark.class),this.mark.attrs)for(let o in this.mark.attrs)i.setAttribute(o,this.mark.attrs[o]);return i}canReuseDOM(i){return super.canReuseDOM(i)&&!(8&(this.flags|i.flags))}reuseDOM(i){i.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(i),this.flags|=6)}sync(i,o){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(i,o)}merge(i,o,s,a,l,c){return!(s&&(!(s instanceof Ef&&s.mark.eq(this.mark))||i&&l<=0||o<this.length&&c<=0)||(AY(this,i,o,s?s.children.slice():[],l-1,c-1),this.markDirty(),0))}split(i){let o=[],s=0,a=-1,l=0;for(let u of this.children){let p=s+u.length;p>i&&o.push(s<i?u.split(i-s):u),a<0&&s>=i&&(a=l),s=p,l++}let c=this.length-i;return this.length=i,a>-1&&(this.children.length=a,this.markDirty()),new Ef(this.mark,o,c)}domAtPos(i){return jY(this,i)}coordsAt(i,o){return VY(this,i,o)}}class Sm extends Li{static create(i,o,s){return new Sm(i,o,s)}constructor(i,o,s){super(),this.widget=i,this.length=o,this.side=s,this.prevWidget=null}split(i){let o=Sm.create(this.widget,this.length-i,this.side);return this.length-=i,o}sync(i){(!this.dom||!this.widget.updateDOM(this.dom,i))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(i)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(i,o,s,a,l,c){return!(s&&(!(s instanceof Sm&&this.widget.compare(s.widget))||i>0&&l<=0||o<this.length&&c<=0)||(this.length=i+(s?s.length:0)+(this.length-o),0))}become(i){return i instanceof Sm&&i.side==this.side&&this.widget.constructor==i.widget.constructor&&(this.widget.compare(i.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=i.widget,this.length=i.length,!0)}ignoreMutation(){return!0}ignoreEvent(i){return this.widget.ignoreEvent(i)}get overrideDOMText(){if(0==this.length)return Zr.empty;let i=this;for(;i.parent;)i=i.parent;let{view:o}=i,s=o&&o.state.doc,a=this.posAtStart;return s?s.slice(a,a+this.length):Zr.empty}domAtPos(i){return(this.length?0==i:this.side>0)?Na.before(this.dom):Na.after(this.dom,i==this.length)}domBoundsAround(){return null}coordsAt(i,o){let s=this.widget.coordsAt(this.dom,i,o);if(s)return s;let a=this.dom.getClientRects(),l=null;if(!a.length)return null;let c=this.side?this.side<0:i>0;for(let u=c?a.length-1:0;l=a[u],!(i>0?0==u:u==a.length-1||l.top<l.bottom);u+=c?-1:1);return JD(l,!c)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class V3 extends Li{constructor(i){super(),this.side=i}get length(){return 0}merge(){return!1}become(i){return i instanceof V3&&i.side==this.side}split(){return new V3(this.side)}sync(){if(!this.dom){let i=document.createElement("img");i.className="cm-widgetBuffer",i.setAttribute("aria-hidden","true"),this.setDOM(i)}}getSide(){return this.side}domAtPos(i){return this.side>0?Na.before(this.dom):Na.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(i){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Zr.empty}get isHidden(){return!0}}function jY(t,i){let o=t.dom,{children:s}=t,a=0;for(let l=0;a<s.length;a++){let c=s[a],u=l+c.length;if(!(u==l&&c.getSide()<=0)){if(i>l&&i<u&&c.dom.parentNode==o)return c.domAtPos(i-l);if(i<=l)break;l=u}}for(let l=a;l>0;l--){let c=s[l-1];if(c.dom.parentNode==o)return c.domAtPos(c.length)}for(let l=a;l<s.length;l++){let c=s[l];if(c.dom.parentNode==o)return c.domAtPos(0)}return new Na(o,0)}function $Y(t,i,o){let s,{children:a}=t;o>0&&i instanceof Ef&&a.length&&(s=a[a.length-1])instanceof Ef&&s.mark.eq(i.mark)?$Y(s,i.children[0],o-1):(a.push(i),i.setParent(t)),t.length+=i.length}function VY(t,i,o){let s=null,a=-1,l=null,c=-1;!function u(h,v){for(let y=0,E=0;y<h.children.length&&E<=v;y++){let S=h.children[y],D=E+S.length;D>=v&&(S.children.length?u(S,v-E):(!l||l.isHidden&&o>0)&&(D>v||E==D&&S.getSide()>0)?(l=S,c=v-E):(E<v||E==D&&S.getSide()<0&&!S.isHidden)&&(s=S,a=v-E)),E=D}}(t,i);let p=(o<0?s:l)||s||l;return p?p.coordsAt(Math.max(0,p==s?a:c),o):function Z5e(t){let i=t.dom.lastChild;if(!i)return t.dom.getBoundingClientRect();let o=B3(i);return o[o.length-1]||null}(t)}function OI(t,i){for(let o in t)"class"==o&&i.class?i.class+=" "+t.class:"style"==o&&i.style?i.style+=";"+t.style:i[o]=t[o];return i}g0.prototype.children=Sm.prototype.children=V3.prototype.children=SI;const zY=Object.create(null);function kI(t,i,o){if(t==i)return!0;t||(t=zY),i||(i=zY);let s=Object.keys(t),a=Object.keys(i);if(s.length-(o&&s.indexOf(o)>-1?1:0)!=a.length-(o&&a.indexOf(o)>-1?1:0))return!1;for(let l of s)if(l!=o&&(-1==a.indexOf(l)||t[l]!==i[l]))return!1;return!0}function MI(t,i,o){let s=!1;if(i)for(let a in i)o&&a in o||(s=!0,"style"==a?t.style.cssText="":t.removeAttribute(a));if(o)for(let a in o)i&&i[a]==o[a]||(s=!0,"style"==a?t.style.cssText=o[a]:t.setAttribute(a,o[a]));return s}function J5e(t){let i=Object.create(null);for(let o=0;o<t.attributes.length;o++){let s=t.attributes[o];i[s.name]=s.value}return i}class Ms extends Li{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(i,o,s,a,l,c){if(s){if(!(s instanceof Ms))return!1;this.dom||s.transferDOM(this)}return a&&this.setDeco(s?s.attrs:null),AY(this,i,o,s?s.children.slice():[],l,c),!0}split(i){let o=new Ms;if(o.breakAfter=this.breakAfter,0==this.length)return o;let{i:s,off:a}=this.childPos(i);a&&(o.append(this.children[s].split(a),0),this.children[s].merge(a,this.children[s].length,null,!1,0,0),s++);for(let l=s;l<this.children.length;l++)o.append(this.children[l],0);for(;s>0&&0==this.children[s-1].length;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=i,o}transferDOM(i){this.dom&&(this.markDirty(),i.setDOM(this.dom),i.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(i){kI(this.attrs,i)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=i)}append(i,o){$Y(this,i,o)}addLineDeco(i){let o=i.spec.attributes,s=i.spec.class;o&&(this.attrs=OI(o,this.attrs||{})),s&&(this.attrs=OI({class:s},this.attrs||{}))}domAtPos(i){return jY(this,i)}reuseDOM(i){"DIV"==i.nodeName&&(this.setDOM(i),this.flags|=6)}sync(i,o){var s;this.dom?4&this.flags&&(DY(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(MI(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(i,o);let a=this.dom.lastChild;for(;a&&Li.get(a)instanceof Ef;)a=a.lastChild;if(!(a&&this.length&&("BR"==a.nodeName||0!=(null===(s=Li.get(a))||void 0===s?void 0:s.isEditable)||Wt.ios&&this.children.some(l=>l instanceof g0)))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let o,i=0;for(let s of this.children){if(!(s instanceof g0)||/[^ -~]/.test(s.text))return null;let a=B3(s.dom);if(1!=a.length)return null;i+=a[0].width,o=a[0].height}return i?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:i/this.length,textHeight:o}:null}coordsAt(i,o){let s=VY(this,i,o);if(!this.children.length&&s&&this.parent){let{heightOracle:a}=this.parent.view.viewState,l=s.bottom-s.top;if(Math.abs(l-a.lineHeight)<2&&a.textHeight<l){let c=(l-a.textHeight)/2;return{top:s.top+c,bottom:s.bottom-c,left:s.left,right:s.left}}}return s}become(i){return!1}covers(){return!0}static find(i,o){for(let s=0,a=0;s<i.children.length;s++){let l=i.children[s],c=a+l.length;if(c>=o){if(l instanceof Ms)return l;if(c>o)break}a=c+l.breakAfter}return null}}class Cm extends Li{constructor(i,o,s){super(),this.widget=i,this.length=o,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(i,o,s,a,l,c){return!(s&&(!(s instanceof Cm&&this.widget.compare(s.widget))||i>0&&l<=0||o<this.length&&c<=0)||(this.length=i+(s?s.length:0)+(this.length-o),0))}domAtPos(i){return 0==i?Na.before(this.dom):Na.after(this.dom,i==this.length)}split(i){let o=this.length-i;this.length=i;let s=new Cm(this.widget,o,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return SI}sync(i){(!this.dom||!this.widget.updateDOM(this.dom,i))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(i)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Zr.empty}domBoundsAround(){return null}become(i){return i instanceof Cm&&i.widget.constructor==this.widget.constructor&&(i.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=i.widget,this.length=i.length,this.deco=i.deco,this.breakAfter=i.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(i){return this.widget.ignoreEvent(i)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(i,o){return this.widget.coordsAt(this.dom,i,o)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(i){let{startSide:o,endSide:s}=this.deco;return o!=s&&(i<0?o<0:s>0)}}class Fd{eq(i){return!1}updateDOM(i,o){return!1}compare(i){return this==i||this.constructor==i.constructor&&this.eq(i)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(i){return!0}coordsAt(i,o,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(i){}}var ml=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ml||(ml={}));class Vn extends Rv{constructor(i,o,s,a){super(),this.startSide=i,this.endSide=o,this.widget=s,this.spec=a}get heightRelevant(){return!1}static mark(i){return new tw(i)}static widget(i){let o=Math.max(-1e4,Math.min(1e4,i.side||0)),s=!!i.block;return o+=s&&!i.inlineOrder?o>0?3e8:-4e8:o>0?1e8:-1e8,new Dm(i,o,o,s,i.widget||null,!1)}static replace(i){let s,a,o=!!i.block;if(i.isBlockGap)s=-5e8,a=4e8;else{let{start:l,end:c}=HY(i,o);s=(l?o?-3e8:-1:5e8)-1,a=1+(c?o?2e8:1:-6e8)}return new Dm(i,s,a,o,i.widget||null,!0)}static line(i){return new nw(i)}static set(i,o=!1){return Mo.of(i,o)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Vn.none=Mo.empty;class tw extends Vn{constructor(i){let{start:o,end:s}=HY(i);super(o?-1:5e8,s?1:-6e8,null,i),this.tagName=i.tagName||"span",this.class=i.class||"",this.attrs=i.attributes||null}eq(i){var o,s;return this==i||i instanceof tw&&this.tagName==i.tagName&&(this.class||(null===(o=this.attrs)||void 0===o?void 0:o.class))==(i.class||(null===(s=i.attrs)||void 0===s?void 0:s.class))&&kI(this.attrs,i.attrs,"class")}range(i,o=i){if(i>=o)throw new RangeError("Mark decorations may not be empty");return super.range(i,o)}}tw.prototype.point=!1;class nw extends Vn{constructor(i){super(-2e8,-2e8,null,i)}eq(i){return i instanceof nw&&this.spec.class==i.spec.class&&kI(this.spec.attributes,i.spec.attributes)}range(i,o=i){if(o!=i)throw new RangeError("Line decoration ranges must be zero-length");return super.range(i,o)}}nw.prototype.mapMode=sa.TrackBefore,nw.prototype.point=!0;class Dm extends Vn{constructor(i,o,s,a,l,c){super(o,s,l,i),this.block=a,this.isReplace=c,this.mapMode=a?o<=0?sa.TrackBefore:sa.TrackAfter:sa.TrackDel}get type(){return this.startSide!=this.endSide?ml.WidgetRange:this.startSide<=0?ml.WidgetBefore:ml.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(i){return i instanceof Dm&&function e_e(t,i){return t==i||!!(t&&i&&t.compare(i))}(this.widget,i.widget)&&this.block==i.block&&this.startSide==i.startSide&&this.endSide==i.endSide}range(i,o=i){if(this.isReplace&&(i>o||i==o&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&o!=i)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(i,o)}}function HY(t,i=!1){let{inclusiveStart:o,inclusiveEnd:s}=t;return null==o&&(o=t.inclusive),null==s&&(s=t.inclusive),{start:o??i,end:s??i}}function RI(t,i,o,s=0){let a=o.length-1;a>=0&&o[a]+s>=t?o[a]=Math.max(o[a],i):o.push(t,i)}Dm.prototype.point=!0;class rw{constructor(i,o,s,a){this.doc=i,this.pos=o,this.end=s,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=i.iter(),this.skip=o}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let i=this.content[this.content.length-1];return!(i.breakAfter||i instanceof Cm&&i.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ms),this.atCursorPos=!0),this.curLine}flushBuffer(i=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(tT(new V3(-1),i),i.length),this.pendingBuffer=0)}addBlockWidget(i){this.flushBuffer(),this.curLine=null,this.content.push(i)}finish(i){this.pendingBuffer&&i<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(i&&this.content.length&&this.content[this.content.length-1]instanceof Cm)&&this.getLine()}buildText(i,o,s){for(;i>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,i--;continue}this.text=l,this.textOff=0}let a=Math.min(this.text.length-this.textOff,i,512);this.flushBuffer(o.slice(o.length-s)),this.getLine().append(tT(new g0(this.text.slice(this.textOff,this.textOff+a)),o),s),this.atCursorPos=!0,this.textOff+=a,i-=a,s=0}}span(i,o,s,a){this.buildText(o-i,s,a),this.pos=o,this.openStart<0&&(this.openStart=a)}point(i,o,s,a,l,c){if(this.disallowBlockEffectsFor[c]&&s instanceof Dm){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(o>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=o-i;if(s instanceof Dm)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Cm(s.widget||UY.block,u,s));else{let p=Sm.create(s.widget||UY.inline,u,u?0:s.startSide),h=this.atCursorPos&&!p.isEditable&&l<=a.length&&(i<o||s.startSide>0),v=!p.isEditable&&(i<o||l>a.length||s.startSide<=0),y=this.getLine();2==this.pendingBuffer&&!h&&!p.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),h&&(y.append(tT(new V3(1),a),l),l=a.length+Math.max(0,l-a.length)),y.append(tT(p,a),l),this.atCursorPos=v,this.pendingBuffer=v?i<o||l>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=o),this.openStart<0&&(this.openStart=l)}static build(i,o,s,a,l){let c=new rw(i,o,s,l);return c.openEnd=Mo.spans(a,o,s,c),c.openStart<0&&(c.openStart=c.openEnd),c.finish(c.openEnd),c}}function tT(t,i){for(let o of i)t=new Ef(o,[t],t.length);return t}let UY=(()=>{class t extends Fd{constructor(o){super(),this.tag=o}eq(o){return o.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(o){return o.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return t.inline=new t("span"),t.block=new t("div"),t})();var Fi=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Fi||(Fi={}));const Lv=Fi.LTR,AI=Fi.RTL;function GY(t){let i=[];for(let o=0;o<t.length;o++)i.push(1<<+t[o]);return i}const t_e=GY("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),n_e=GY("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),II=Object.create(null),Bd=[];for(let t of["()","[]","{}"]){let i=t.charCodeAt(0),o=t.charCodeAt(1);II[i]=o,II[o]=-i}function qY(t){return t<=247?t_e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?n_e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const r_e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Tm{get dir(){return this.level%2?AI:Lv}constructor(i,o,s){this.from=i,this.to=o,this.level=s}side(i,o){return this.dir==o==i?this.to:this.from}forward(i,o){return i==(this.dir==o)}static find(i,o,s,a){let l=-1;for(let c=0;c<i.length;c++){let u=i[c];if(u.from<=o&&u.to>=o){if(u.level==s)return c;(l<0||(0!=a?a<0?u.from<o:u.to>o:i[l].level>u.level))&&(l=c)}}if(l<0)throw new RangeError("Index out of range");return l}}function WY(t,i){if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){let s=t[o],a=i[o];if(s.from!=a.from||s.to!=a.to||s.direction!=a.direction||!WY(s.inner,a.inner))return!1}return!0}const Bi=[];function NI(t,i,o,s,a,l,c){let u=s%2?2:1;if(s%2==a%2)for(let p=i,h=0;p<o;){let v=!0,y=!1;if(h==l.length||p<l[h].from){let k=Bi[p];k!=u&&(v=!1,y=16==k)}let E=v||1!=u?null:[],S=v?s:s+1,D=p;e:for(;;)if(h<l.length&&D==l[h].from){if(y)break e;let k=l[h];if(!v)for(let R=k.to,L=h+1;;){if(R==o)break e;if(!(L<l.length&&l[L].from==R)){if(Bi[R]==u)break e;break}R=l[L++].to}h++,E?E.push(k):(k.from>p&&c.push(new Tm(p,k.from,S)),LI(t,k.direction==Lv!=!(S%2)?s+1:s,a,k.inner,k.from,k.to,c),p=k.to),D=k.to}else{if(D==o||(v?Bi[D]!=u:Bi[D]==u))break;D++}E?NI(t,p,D,s+1,a,E,c):p<D&&c.push(new Tm(p,D,S)),p=D}else for(let p=o,h=l.length;p>i;){let v=!0,y=!1;if(!h||p>l[h-1].to){let k=Bi[p-1];k!=u&&(v=!1,y=16==k)}let E=v||1!=u?null:[],S=v?s:s+1,D=p;e:for(;;)if(h&&D==l[h-1].to){if(y)break e;let k=l[--h];if(!v)for(let R=k.from,L=h;;){if(R==i)break e;if(!L||l[L-1].to!=R){if(Bi[R-1]==u)break e;break}R=l[--L].from}E?E.push(k):(k.to<p&&c.push(new Tm(k.to,p,S)),LI(t,k.direction==Lv!=!(S%2)?s+1:s,a,k.inner,k.from,k.to,c),p=k.from),D=k.from}else{if(D==i||(v?Bi[D-1]!=u:Bi[D-1]==u))break;D--}E?NI(t,D,p,s+1,a,E,c):D<p&&c.push(new Tm(D,p,S)),p=D}}function LI(t,i,o,s,a,l,c){let u=i%2?2:1;(function i_e(t,i,o,s,a){for(let l=0;l<=s.length;l++){let c=l?s[l-1].to:i,u=l<s.length?s[l].from:o,p=l?256:a;for(let h=c,v=p,y=p;h<u;h++){let E=qY(t.charCodeAt(h));512==E?E=v:8==E&&4==y&&(E=16),Bi[h]=4==E?2:E,7&E&&(y=E),v=E}for(let h=c,v=p,y=p;h<u;h++){let E=Bi[h];if(128==E)h<u-1&&v==Bi[h+1]&&24&v?E=Bi[h]=v:Bi[h]=256;else if(64==E){let S=h+1;for(;S<u&&64==Bi[S];)S++;let D=h&&8==v||S<o&&8==Bi[S]?1==y?1:8:256;for(let k=h;k<S;k++)Bi[k]=D;h=S-1}else 8==E&&1==y&&(Bi[h]=1);v=E,7&E&&(y=E)}}})(t,a,l,s,u),function o_e(t,i,o,s,a){let l=1==a?2:1;for(let c=0,u=0,p=0;c<=s.length;c++){let v=c<s.length?s[c].from:o;for(let E,S,D,y=c?s[c-1].to:i;y<v;y++)if(S=II[E=t.charCodeAt(y)])if(S<0){for(let k=u-3;k>=0;k-=3)if(Bd[k+1]==-S){let R=Bd[k+2],L=2&R?a:4&R?1&R?l:a:0;L&&(Bi[y]=Bi[Bd[k]]=L),u=k;break}}else{if(189==Bd.length)break;Bd[u++]=y,Bd[u++]=E,Bd[u++]=p}else if(2==(D=Bi[y])||1==D){let k=D==a;p=k?0:1;for(let R=u-3;R>=0;R-=3){let L=Bd[R+2];if(2&L)break;if(k)Bd[R+2]|=2;else{if(4&L)break;Bd[R+2]|=4}}}}}(t,a,l,s,u),function s_e(t,i,o,s){for(let a=0,l=s;a<=o.length;a++){let u=a<o.length?o[a].from:i;for(let p=a?o[a-1].to:t;p<u;){let h=Bi[p];if(256==h){let v=p+1;for(;;)if(v==u){if(a==o.length)break;v=o[a++].to,u=a<o.length?o[a].from:i}else{if(256!=Bi[v])break;v++}let y=1==l,S=y==(1==(v<i?Bi[v]:s))?y?1:2:s;for(let D=v,k=a,R=k?o[k-1].to:t;D>p;)D==R&&(D=o[--k].from,R=k?o[k-1].to:t),Bi[--D]=S;p=v}else l=h,p++}}}(a,l,s,u),NI(t,a,l,i,o,s,c)}function YY(t){return[new Tm(0,t,0)]}let KY="";function QY(t,i,o,s,a){var l;let c=s.head-t.from,u=Tm.find(i,c,null!==(l=s.bidiLevel)&&void 0!==l?l:-1,s.assoc),p=i[u],h=p.side(a,o);if(c==h){let E=u+=a?1:-1;if(E<0||E>=i.length)return null;p=i[u=E],c=p.side(!a,o),h=p.side(a,o)}let v=fl(t.text,c,p.forward(a,o));(v<p.from||v>p.to)&&(v=h),KY=t.text.slice(Math.min(c,v),Math.max(c,v));let y=u==(a?i.length-1:0)?null:i[u+(a?1:-1)];return y&&v==h&&y.level+(a?0:1)<p.level?lt.cursor(y.side(!a,o)+t.from,y.forward(a,o)?1:-1,y.level):lt.cursor(v+t.from,p.forward(a,o)?-1:1,p.level)}function a_e(t,i,o){for(let s=i;s<o;s++){let a=qY(t.charCodeAt(s));if(1==a)return Lv;if(2==a||4==a)return AI}return Lv}const ZY=zt.define(),JY=zt.define(),eK=zt.define(),tK=zt.define(),FI=zt.define(),nK=zt.define(),rK=zt.define(),iK=zt.define({combine:t=>t.some(i=>i)}),oK=zt.define({combine:t=>t.some(i=>i)}),sK=zt.define();class z3{constructor(i,o="nearest",s="nearest",a=5,l=5,c=!1){this.range=i,this.y=o,this.x=s,this.yMargin=a,this.xMargin=l,this.isSnapshot=c}map(i){return i.empty?this:new z3(this.range.map(i),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(i){return this.range.to<=i.doc.length?this:new z3(lt.cursor(i.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const nT=Jr.define({map:(t,i)=>t.map(i)});function gl(t,i,o){let s=t.facet(tK);s.length?s[0](i):window.onerror?window.onerror(String(i),o,void 0,void 0,i):o?console.error(o+":",i):console.error(i)}const rT=zt.define({combine:t=>!t.length||t[0]});let l_e=0;const iw=zt.define();class Wo{constructor(i,o,s,a,l){this.id=i,this.create=o,this.domEventHandlers=s,this.domEventObservers=a,this.extension=l(this)}static define(i,o){const{eventHandlers:s,eventObservers:a,provide:l,decorations:c}=o||{};return new Wo(l_e++,i,s,a,u=>{let p=[iw.of(u)];return c&&p.push(ow.of(h=>{let v=h.plugin(u);return v?c(v):Vn.none})),l&&p.push(l(u)),p})}static fromClass(i,o){return Wo.define(s=>new i(s),o)}}class BI{constructor(i){this.spec=i,this.mustUpdate=null,this.value=null}update(i){if(this.value){if(this.mustUpdate){let o=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(o)}catch(s){if(gl(o.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(i)}catch(o){gl(i.state,o,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(i){var o;if(null!==(o=this.value)&&void 0!==o&&o.destroy)try{this.value.destroy()}catch(s){gl(i.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const aK=zt.define(),iT=zt.define(),ow=zt.define(),lK=zt.define(),jI=zt.define(),cK=zt.define();function uK(t,i){let o=t.state.facet(cK);if(!o.length)return o;let s=o.map(l=>l instanceof Function?l(t):l),a=[];return Mo.spans(s,i.from,i.to,{point(){},span(l,c,u,p){let h=l-i.from,v=c-i.from,y=a;for(let E=u.length-1;E>=0;E--,p--){let D,S=u[E].spec.bidiIsolate;if(null==S&&(S=a_e(i.text,h,v)),p>0&&y.length&&(D=y[y.length-1]).to==h&&D.direction==S)D.to=v,y=D.inner;else{let k={from:h,to:v,direction:S,inner:[]};y.push(k),y=k.inner}}}}),a}const dK=zt.define();function pK(t){let i=0,o=0,s=0,a=0;for(let l of t.state.facet(dK)){let c=l(t);c&&(null!=c.left&&(i=Math.max(i,c.left)),null!=c.right&&(o=Math.max(o,c.right)),null!=c.top&&(s=Math.max(s,c.top)),null!=c.bottom&&(a=Math.max(a,c.bottom)))}return{left:i,right:o,top:s,bottom:a}}const sw=zt.define();class wc{constructor(i,o,s,a){this.fromA=i,this.toA=o,this.fromB=s,this.toB=a}join(i){return new wc(Math.min(this.fromA,i.fromA),Math.max(this.toA,i.toA),Math.min(this.fromB,i.fromB),Math.max(this.toB,i.toB))}addToSet(i){let o=i.length,s=this;for(;o>0;o--){let a=i[o-1];if(!(a.fromA>s.toA)){if(a.toA<s.fromA)break;s=s.join(a),i.splice(o-1,1)}}return i.splice(o,0,s),i}static extendWithRanges(i,o){if(0==o.length)return i;let s=[];for(let a=0,l=0,c=0,u=0;;a++){let p=a==i.length?null:i[a],h=c-u,v=p?p.fromB:1e9;for(;l<o.length&&o[l]<v;){let E=o[l+1],S=Math.max(u,o[l]),D=Math.min(v,E);if(S<=D&&new wc(S+h,D+h,S,D).addToSet(s),E>v)break;l+=2}if(!p)return s;new wc(p.fromA,p.toA,p.fromB,p.toB).addToSet(s),c=p.toA,u=p.toB}}}class oT{constructor(i,o,s){this.view=i,this.state=o,this.transactions=s,this.flags=0,this.startState=i.state,this.changes=ks.empty(this.startState.doc.length);for(let l of s)this.changes=this.changes.compose(l.changes);let a=[];this.changes.iterChangedRanges((l,c,u,p)=>a.push(new wc(l,c,u,p))),this.changedRanges=a}static create(i,o,s){return new oT(i,o,s)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(i=>i.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class fK extends Li{get length(){return this.view.state.doc.length}constructor(i){super(),this.view=i,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(i.contentDOM),this.children=[new Ms],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wc(0,0,0,i.state.doc.length)],0,null)}update(i){var o;let s=i.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:h,toA:v})=>v<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=i.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=i.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let a=-1;this.view.inputState.composing>=0&&(null!==(o=this.domChanged)&&void 0!==o&&o.newSel?a=this.domChanged.newSel.head:!function m_e(t,i){let o=!1;return i&&t.iterChangedRanges((s,a)=>{s<i.to&&a>i.from&&(o=!0)}),o}(i.changes,this.hasComposition)&&!i.selectionSet&&(a=i.state.selection.main.head));let l=a>-1?function u_e(t,i,o){let s=mK(t,o);if(!s)return null;let{node:a,from:l,to:c}=s,u=a.nodeValue;if(/[\n\r]/.test(u)||t.state.doc.sliceString(s.from,s.to)!=u)return null;let p=i.invertedDesc,h=new wc(p.mapPos(l),p.mapPos(c),l,c),v=[];for(let y=a.parentNode;;y=y.parentNode){let E=Li.get(y);if(E instanceof Ef)v.push({node:y,deco:E.mark});else{if(E instanceof Ms||"DIV"==y.nodeName&&y.parentNode==t.contentDOM)return{range:h,text:a,marks:v,line:y};if(y==t.contentDOM)return null;v.push({node:y,deco:new tw({inclusive:!0,attributes:J5e(y),tagName:y.tagName.toLowerCase()})})}}}(this.view,i.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:v}=this.hasComposition;s=new wc(h,v,i.changes.mapPos(h,-1),i.changes.mapPos(v,1)).addToSet(s.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(Wt.ie||Wt.chrome)&&!l&&i&&i.state.doc.lines!=i.startState.doc.lines&&(this.forceSelection=!0);let p=function f_e(t,i,o){let s=new p_e;return Mo.compare(t,i,o,s),s.changes}(this.decorations,this.updateDeco(),i.changes);return s=wc.extendWithRanges(s,p),!!(7&this.flags||0!=s.length)&&(this.updateInner(s,i.startState.doc.length,l),i.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(i,o,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(i,o,s);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let c=Wt.chrome||Wt.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,c),this.flags&=-8,c&&(c.written||a.selectionRange.focusNode!=c.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(c=>c.flags&=-9);let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let c of this.children)c instanceof Cm&&c.widget instanceof hK&&l.push(c.dom);a.updateGaps(l)}updateChildren(i,o,s){let a=s?s.range.addToSet(i.slice()):i,l=this.childCursor(o);for(let c=a.length-1;;c--){let u=c>=0?a[c]:null;if(!u)break;let E,S,D,k,{fromA:p,toA:h,fromB:v,toB:y}=u;if(s&&s.range.fromB<y&&s.range.toB>v){let $=rw.build(this.view.state.doc,v,s.range.fromB,this.decorations,this.dynamicDecorationMap),q=rw.build(this.view.state.doc,s.range.toB,y,this.decorations,this.dynamicDecorationMap);S=$.breakAtStart,D=$.openStart,k=q.openEnd;let ee=this.compositionView(s);q.breakAtStart?ee.breakAfter=1:q.content.length&&ee.merge(ee.length,ee.length,q.content[0],!1,q.openStart,0)&&(ee.breakAfter=q.content[0].breakAfter,q.content.shift()),$.content.length&&ee.merge(0,0,$.content[$.content.length-1],!0,0,$.openEnd)&&$.content.pop(),E=$.content.concat(ee).concat(q.content)}else({content:E,breakAtStart:S,openStart:D,openEnd:k}=rw.build(this.view.state.doc,v,y,this.decorations,this.dynamicDecorationMap));let{i:R,off:L}=l.findPos(h,1),{i:N,off:B}=l.findPos(p,-1);RY(this,N,B,R,L,E,S,D,k)}s&&this.fixCompositionDOM(s)}compositionView(i){let o=new g0(i.text.nodeValue);o.flags|=8;for(let{deco:a}of i.marks)o=new Ef(a,[o],o.length);let s=new Ms;return s.append(o,0),s}fixCompositionDOM(i){let o=(l,c)=>{c.flags|=8|(c.children.some(p=>7&p.flags)?1:0),this.markedForComposition.add(c);let u=Li.get(l);u&&u!=c&&(u.dom=null),c.setDOM(l)},s=this.childPos(i.range.fromB,1),a=this.children[s.i];o(i.line,a);for(let l=i.marks.length-1;l>=-1;l--)s=a.childPos(s.off,1),a=a.children[s.i],o(l>=0?i.marks[l].node:i.text,a)}updateSelection(i=!1,o=!1){(i||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,a=s==this.dom,l=!a&&QD(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(a||o||l))return;let c=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,p=this.moveToLine(this.domAtPos(u.anchor)),h=u.empty?p:this.moveToLine(this.domAtPos(u.head));if(Wt.gecko&&u.empty&&!this.hasComposition&&function c_e(t){return 1==t.node.nodeType&&t.node.firstChild&&(0==t.offset||"false"==t.node.childNodes[t.offset-1].contentEditable)&&(t.offset==t.node.childNodes.length||"false"==t.node.childNodes[t.offset].contentEditable)}(p)){let y=document.createTextNode("");this.view.observer.ignore(()=>p.node.insertBefore(y,p.node.childNodes[p.offset]||null)),p=h=new Na(y,0),c=!0}let v=this.view.observer.selectionRange;(c||!v.focusNode||(!ew(p.node,p.offset,v.anchorNode,v.anchorOffset)||!ew(h.node,h.offset,v.focusNode,v.focusOffset))&&!this.suppressWidgetCursorChange(v,u))&&(this.view.observer.ignore(()=>{Wt.android&&Wt.chrome&&this.dom.contains(v.focusNode)&&function h_e(t,i){for(let o=t;o&&o!=i;o=o.assignedSlot||o.parentNode)if(1==o.nodeType&&"false"==o.contentEditable)return!0;return!1}(v.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=KD(this.view.root);if(y)if(u.empty){if(Wt.gecko){let E=function d_e(t,i){return 1!=t.nodeType?0:(i&&"false"==t.childNodes[i-1].contentEditable?1:0)|(i<t.childNodes.length&&"false"==t.childNodes[i].contentEditable?2:0)}(p.node,p.offset);if(E&&3!=E){let S=(1==E?PY:OY)(p.node,p.offset);S&&(p=new Na(S.node,S.offset))}}y.collapse(p.node,p.offset),null!=u.bidiLevel&&void 0!==y.caretBidiLevel&&(y.caretBidiLevel=u.bidiLevel)}else if(y.extend){y.collapse(p.node,p.offset);try{y.extend(h.node,h.offset)}catch{}}else{let E=document.createRange();u.anchor>u.head&&([p,h]=[h,p]),E.setEnd(h.node,h.offset),E.setStart(p.node,p.offset),y.removeAllRanges(),y.addRange(E)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(p,h)),this.impreciseAnchor=p.precise?null:new Na(v.anchorNode,v.anchorOffset),this.impreciseHead=h.precise?null:new Na(v.focusNode,v.focusOffset)}suppressWidgetCursorChange(i,o){return this.hasComposition&&o.empty&&ew(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)&&this.posFromDOM(i.focusNode,i.focusOffset)==o.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:i}=this,o=i.state.selection.main,s=KD(i.root),{anchorNode:a,anchorOffset:l}=i.observer.selectionRange;if(!(s&&o.empty&&o.assoc&&s.modify))return;let c=Ms.find(this,o.head);if(!c)return;let u=c.posAtStart;if(o.head==u||o.head==u+c.length)return;let p=this.coordsAt(o.head,-1),h=this.coordsAt(o.head,1);if(!p||!h||p.bottom>h.top)return;let v=this.domAtPos(o.head+o.assoc);s.collapse(v.node,v.offset),s.modify("move",o.assoc<0?"forward":"backward","lineboundary"),i.observer.readSelectionRange();let y=i.observer.selectionRange;i.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=o.from&&s.collapse(a,l)}moveToLine(i){let s,o=this.dom;if(i.node!=o)return i;for(let a=i.offset;!s&&a<o.childNodes.length;a++){let l=Li.get(o.childNodes[a]);l instanceof Ms&&(s=l.domAtPos(0))}for(let a=i.offset-1;!s&&a>=0;a--){let l=Li.get(o.childNodes[a]);l instanceof Ms&&(s=l.domAtPos(l.length))}return s?new Na(s.node,s.offset,!0):i}nearest(i){for(let o=i;o;){let s=Li.get(o);if(s&&s.rootView==this)return s;o=o.parentNode}return null}posFromDOM(i,o){let s=this.nearest(i);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(i,o)+s.posAtStart}domAtPos(i){let{i:o,off:s}=this.childCursor().findPos(i,-1);for(;o<this.children.length-1;){let a=this.children[o];if(s<a.length||a instanceof Ms)break;o++,s=0}return this.children[o].domAtPos(s)}coordsAt(i,o){let s=null,a=0;for(let l=this.length,c=this.children.length-1;c>=0;c--){let u=this.children[c],p=l-u.breakAfter,h=p-u.length;if(p<i)break;h<=i&&(h<i||u.covers(-1))&&(p>i||u.covers(1))&&(!s||u instanceof Ms&&!(s instanceof Ms&&o>=0))&&(s=u,a=h),l=h}return s?s.coordsAt(i-a,o):null}coordsForChar(i){let{i:o,off:s}=this.childPos(i,1),a=this.children[o];if(!(a instanceof Ms))return null;for(;a.children.length;){let{i:u,off:p}=a.childPos(s,1);for(;;u++){if(u==a.children.length)return null;if((a=a.children[u]).length)break}s=p}if(!(a instanceof g0))return null;let l=fl(a.text,s);if(l==s)return null;let c=Nv(a.dom,s,l).getClientRects();for(let u=0;u<c.length;u++){let p=c[u];if(u==c.length-1||p.top<p.bottom&&p.left<p.right)return p}return null}measureVisibleLineHeights(i){let o=[],{from:s,to:a}=i,l=this.view.contentDOM.clientWidth,c=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,p=this.view.textDirection==Fi.LTR;for(let h=0,v=0;v<this.children.length;v++){let y=this.children[v],E=h+y.length;if(E>a)break;if(h>=s){let S=y.dom.getBoundingClientRect();if(o.push(S.height),c){let D=y.dom.lastChild,k=D?B3(D):[];if(k.length){let R=k[k.length-1],L=p?R.right-S.left:S.right-R.left;L>u&&(u=L,this.minWidth=l,this.minWidthFrom=h,this.minWidthTo=E)}}}h=E+y.breakAfter}return o}textDirectionAt(i){let{i:o}=this.childPos(i,1);return"rtl"==getComputedStyle(this.children[o].dom).direction?Fi.RTL:Fi.LTR}measureTextSize(){for(let l of this.children)if(l instanceof Ms){let c=l.measureTextSize();if(c)return c}let o,s,a,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let l=B3(i.firstChild)[0];o=i.getBoundingClientRect().height,s=l?l.width/27:7,a=l?l.height:o,i.remove()}),{lineHeight:o,charWidth:s,textHeight:a}}childCursor(i=this.length){let o=this.children.length;return o&&(i-=this.children[--o].length),new MY(this.children,i,o)}computeBlockGapDeco(){let i=[],o=this.view.viewState;for(let s=0,a=0;;a++){let l=a==o.viewports.length?null:o.viewports[a],c=l?l.from-1:this.length;if(c>s){let u=(o.lineBlockAt(c).bottom-o.lineBlockAt(s).top)/this.view.scaleY;i.push(Vn.replace({widget:new hK(u),block:!0,inclusive:!0,isBlockGap:!0}).range(s,c))}if(!l)break;s=l.to+1}return Vn.set(i)}updateDeco(){let i=0,o=this.view.state.facet(ow).map(l=>(this.dynamicDecorationMap[i++]="function"==typeof l)?l(this.view):l),s=!1,a=this.view.state.facet(lK).map((l,c)=>{let u="function"==typeof l;return u&&(s=!0),u?l(this.view):l});for(a.length&&(this.dynamicDecorationMap[i++]=s,o.push(Mo.join(a))),this.decorations=[...o,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];i<this.decorations.length;)this.dynamicDecorationMap[i++]=!1;return this.decorations}scrollIntoView(i){if(i.isSnapshot){let h=this.view.viewState.lineBlockAt(i.range.head);return this.view.scrollDOM.scrollTop=h.top-i.yMargin,void(this.view.scrollDOM.scrollLeft=i.xMargin)}for(let h of this.view.state.facet(sK))try{if(h(this.view,i.range,i))return!0}catch(v){gl(this.view.state,v,"scroll handler")}let a,{range:o}=i,s=this.coordsAt(o.head,o.empty?o.assoc:o.head>o.anchor?-1:1);if(!s)return;!o.empty&&(a=this.coordsAt(o.anchor,o.anchor>o.head?-1:1))&&(s={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top),right:Math.max(s.right,a.right),bottom:Math.max(s.bottom,a.bottom)});let l=pK(this.view),c={left:s.left-l.left,top:s.top-l.top,right:s.right+l.right,bottom:s.bottom+l.bottom},{offsetWidth:u,offsetHeight:p}=this.view.scrollDOM;!function G5e(t,i,o,s,a,l,c,u){let p=t.ownerDocument,h=p.defaultView||window;for(let v=t,y=!1;v&&!y;)if(1==v.nodeType){let E,S=v==p.body,D=1,k=1;if(S)E=U5e(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(v).position)&&(y=!0),v.scrollHeight<=v.clientHeight&&v.scrollWidth<=v.clientWidth){v=v.assignedSlot||v.parentNode;continue}let N=v.getBoundingClientRect();({scaleX:D,scaleY:k}=wY(v,N)),E={left:N.left,right:N.left+v.clientWidth*D,top:N.top,bottom:N.top+v.clientHeight*k}}let R=0,L=0;if("nearest"==a)i.top<E.top?(L=-(E.top-i.top+c),o>0&&i.bottom>E.bottom+L&&(L=i.bottom-E.bottom+L+c)):i.bottom>E.bottom&&(L=i.bottom-E.bottom+c,o<0&&i.top-L<E.top&&(L=-(E.top+L-i.top+c)));else{let N=i.bottom-i.top,B=E.bottom-E.top;L=("center"==a&&N<=B?i.top+N/2-B/2:"start"==a||"center"==a&&o<0?i.top-c:i.bottom-B+c)-E.top}if("nearest"==s?i.left<E.left?(R=-(E.left-i.left+l),o>0&&i.right>E.right+R&&(R=i.right-E.right+R+l)):i.right>E.right&&(R=i.right-E.right+l,o<0&&i.left<E.left+R&&(R=-(E.left+R-i.left+l))):R=("center"==s?i.left+(i.right-i.left)/2-(E.right-E.left)/2:"start"==s==u?i.left-l:i.right-(E.right-E.left)+l)-E.left,R||L)if(S)h.scrollBy(R,L);else{let N=0,B=0;if(L){let $=v.scrollTop;v.scrollTop+=L/k,B=(v.scrollTop-$)*k}if(R){let $=v.scrollLeft;v.scrollLeft+=R/D,N=(v.scrollLeft-$)*D}i={left:i.left-N,top:i.top-B,right:i.right-N,bottom:i.bottom-B},N&&Math.abs(N-R)<1&&(s="nearest"),B&&Math.abs(B-L)<1&&(a="nearest")}if(S)break;v=v.assignedSlot||v.parentNode}else{if(11!=v.nodeType)break;v=v.host}}(this.view.scrollDOM,c,o.head<o.anchor?-1:1,i.x,i.y,Math.max(Math.min(i.xMargin,u),-u),Math.max(Math.min(i.yMargin,p),-p),this.view.textDirection==Fi.LTR)}}class hK extends Fd{constructor(i){super(),this.height=i}toDOM(){let i=document.createElement("div");return i.className="cm-gap",this.updateDOM(i),i}eq(i){return i.height==this.height}updateDOM(i){return i.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function mK(t,i){let o=t.observer.selectionRange;if(!o.focusNode)return null;let s=PY(o.focusNode,o.focusOffset),a=OY(o.focusNode,o.focusOffset),l=s||a;if(a&&s&&a.node!=s.node){let u=Li.get(a.node);if(!u||u instanceof g0&&u.text!=a.node.nodeValue)l=a;else if(t.docView.lastCompositionAfterCursor){let p=Li.get(s.node);!p||p instanceof g0&&p.text!=s.node.nodeValue||(l=a)}}if(t.docView.lastCompositionAfterCursor=l!=s,!l)return null;let c=i-l.offset;return{from:c,to:c+l.node.nodeValue.length,node:l.node}}let p_e=class{constructor(){this.changes=[]}compareRange(i,o){RI(i,o,this.changes)}comparePoint(i,o){RI(i,o,this.changes)}};function v_e(t,i){return i.left>t?i.left-t:Math.max(0,t-i.right)}function y_e(t,i){return i.top>t?i.top-t:Math.max(0,t-i.bottom)}function $I(t,i){return t.top<i.bottom-1&&t.bottom>i.top+1}function gK(t,i){return i<t.top?{top:i,left:t.left,right:t.right,bottom:t.bottom}:t}function vK(t,i){return i>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:i}:t}function VI(t,i,o){let s,a,l,c,p,h,v,y,u=!1;for(let D=t.firstChild;D;D=D.nextSibling){let k=B3(D);for(let R=0;R<k.length;R++){let L=k[R];a&&$I(a,L)&&(L=gK(vK(L,a.bottom),a.top));let N=v_e(i,L),B=y_e(o,L);if(0==N&&0==B)return 3==D.nodeType?yK(D,i,o):VI(D,i,o);if(!s||c>B||c==B&&l>N){s=D,a=L,l=N,c=B;let $=B?o<L.top?-1:1:N?i<L.left?-1:1:0;u=!$||($>0?R<k.length-1:R>0)}0==N?o>L.bottom&&(!v||v.bottom<L.bottom)?(p=D,v=L):o<L.top&&(!y||y.top>L.top)&&(h=D,y=L):v&&$I(v,L)?v=vK(v,L.bottom):y&&$I(y,L)&&(y=gK(y,L.top))}}if(v&&v.bottom>=o?(s=p,a=v):y&&y.top<=o&&(s=h,a=y),!s)return{node:t,offset:0};let E=Math.max(a.left,Math.min(a.right,i));return 3==s.nodeType?yK(s,E,o):u&&"false"!=s.contentEditable?VI(s,E,o):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,s)+(i>=(a.left+a.right)/2?1:0)}}function yK(t,i,o){let s=t.nodeValue.length,a=-1,l=1e9,c=0;for(let u=0;u<s;u++){let p=Nv(t,u,u+1).getClientRects();for(let h=0;h<p.length;h++){let v=p[h];if(v.top==v.bottom)continue;c||(c=i-v.left);let y=(v.top>o?v.top-o:o-v.bottom)-1;if(v.left-1<=i&&v.right+1>=i&&y<l){let E=i>=(v.left+v.right)/2,S=E;if((Wt.chrome||Wt.gecko)&&Nv(t,u).getBoundingClientRect().left==v.right&&(S=!E),y<=0)return{node:t,offset:u+(S?1:0)};a=u+(S?1:0),l=y}}}return{node:t,offset:a>-1?a:c>0?t.nodeValue.length:0}}function bK(t,i,o,s=-1){var a,l;let p,c=t.contentDOM.getBoundingClientRect(),u=c.top+t.viewState.paddingTop,{docHeight:h}=t.viewState,{x:v,y}=i,E=y-u;if(E<0)return 0;if(E>h)return t.state.doc.length;for(let $=t.viewState.heightOracle.textHeight/2,q=!1;p=t.elementAtHeight(E),p.type!=ml.Text;)for(;E=s>0?p.bottom+$:p.top-$,!(E>=0&&E<=h);){if(q)return o?null:0;q=!0,s=-s}y=u+E;let S=p.from;if(S<t.viewport.from)return 0==t.viewport.from?0:o?null:_K(t,c,p,v,y);if(S>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:o?null:_K(t,c,p,v,y);let D=t.dom.ownerDocument,k=t.root.elementFromPoint?t.root:D,R=k.elementFromPoint(v,y);R&&!t.contentDOM.contains(R)&&(R=null),R||(v=Math.max(c.left+1,Math.min(c.right-1,v)),R=k.elementFromPoint(v,y),R&&!t.contentDOM.contains(R)&&(R=null));let L,N=-1;if(R&&0!=(null===(a=t.docView.nearest(R))||void 0===a?void 0:a.isEditable))if(D.caretPositionFromPoint){let $=D.caretPositionFromPoint(v,y);$&&({offsetNode:L,offset:N}=$)}else if(D.caretRangeFromPoint){let $=D.caretRangeFromPoint(v,y);$&&(({startContainer:L,startOffset:N}=$),(!t.contentDOM.contains(L)||Wt.safari&&function b_e(t,i,o){let s;if(3!=t.nodeType||i!=(s=t.nodeValue.length))return!1;for(let a=t.nextSibling;a;a=a.nextSibling)if(1!=a.nodeType||"BR"!=a.nodeName)return!1;return Nv(t,s-1,s).getBoundingClientRect().left>o}(L,N,v)||Wt.chrome&&function __e(t,i,o){if(0!=i)return!1;for(let a=t;;){let l=a.parentNode;if(!l||1!=l.nodeType||l.firstChild!=a)return!1;if(l.classList.contains("cm-line"))break;a=l}return o-(1==t.nodeType?t.getBoundingClientRect():Nv(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(L,N,v))&&(L=void 0))}if(!L||!t.docView.dom.contains(L)){let $=Ms.find(t.docView,S);if(!$)return E>p.top+p.height/2?p.to:p.from;({node:L,offset:N}=VI($.dom,v,y))}let B=t.docView.nearest(L);if(!B)return null;if(B.isWidget&&1==(null===(l=B.dom)||void 0===l?void 0:l.nodeType)){let $=B.dom.getBoundingClientRect();return i.y<$.top||i.y<=$.bottom&&i.x<=($.left+$.right)/2?B.posAtStart:B.posAtEnd}return B.localPosFromDOM(L,N)+B.posAtStart}function _K(t,i,o,s,a){let l=Math.round((s-i.left)*t.defaultCharacterWidth);if(t.lineWrapping&&o.height>1.5*t.defaultLineHeight){let u=t.viewState.heightOracle.textHeight;l+=Math.floor((a-o.top-.5*(t.defaultLineHeight-u))/u)*t.viewState.heightOracle.lineLength}let c=t.state.sliceDoc(o.from,o.to);return o.from+function B5e(t,i,o,s){for(let a=0,l=0;;){if(l>=i)return a;if(a==t.length)break;l+=9==t.charCodeAt(a)?o-l%o:1,a=fl(t,a)}return!0===s?-1:t.length}(c,l,t.state.tabSize)}function EK(t,i,o,s){let a=t.state.doc.lineAt(i.head),l=t.bidiSpans(a),c=t.textDirectionAt(a.from);for(let u=i,p=null;;){let h=QY(a,l,c,u,o),v=KY;if(!h){if(a.number==(o?t.state.doc.lines:1))return u;v="\n",a=t.state.doc.line(a.number+(o?1:-1)),l=t.bidiSpans(a),h=t.visualLineSide(a,!o)}if(p){if(!p(v))return u}else{if(!s)return h;p=s(v)}u=h}}function sT(t,i,o){for(;;){let s=0;for(let a of t)a.between(i-1,i+1,(l,c,u)=>{if(i>l&&i<c){let p=s||o||(i-l<c-i?-1:1);i=p<0?l:c,s=p}});if(!s)return i}}function HI(t,i,o){let s=sT(t.state.facet(jI).map(a=>a(t)),o.from,i.head>o.from?-1:1);return s==o.from?o:lt.cursor(s,s<o.from?1:-1)}class S_e{setSelectionOrigin(i){this.lastSelectionOrigin=i,this.lastSelectionTime=Date.now()}constructor(i){this.view=i,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=i.hasFocus,Wt.safari&&i.contentDOM.addEventListener("input",()=>null),Wt.gecko&&function $_e(t){jK.has(t)||(jK.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}(i.contentDOM.ownerDocument)}handleEvent(i){!function R_e(t,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let s,o=i.target;o!=t.contentDOM;o=o.parentNode)if(!o||11==o.nodeType||(s=Li.get(o))&&s.ignoreEvent(i))return!1;return!0}(this.view,i)||this.ignoreDuringComposition(i)||"keydown"==i.type&&this.keydown(i)||this.runHandlers(i.type,i)}runHandlers(i,o){let s=this.handlers[i];if(s){for(let a of s.observers)a(this.view,o);for(let a of s.handlers){if(o.defaultPrevented)break;if(a(this.view,o)){o.preventDefault();break}}}}ensureHandlers(i){let o=function C_e(t){let i=Object.create(null);function o(s){return i[s]||(i[s]={observers:[],handlers:[]})}for(let s of t){let a=s.spec;if(a&&a.domEventHandlers)for(let l in a.domEventHandlers){let c=a.domEventHandlers[l];c&&o(l).handlers.push(xK(s.value,c))}if(a&&a.domEventObservers)for(let l in a.domEventObservers){let c=a.domEventObservers[l];c&&o(l).observers.push(xK(s.value,c))}}for(let s in v0)o(s).handlers.push(v0[s]);for(let s in au)o(s).observers.push(au[s]);return i}(i),s=this.handlers,a=this.view.contentDOM;for(let l in o)if("scroll"!=l){let c=!o[l].handlers.length,u=s[l];u&&c!=!u.handlers.length&&(a.removeEventListener(l,this.handleEvent),u=null),u||a.addEventListener(l,this.handleEvent,{passive:c})}for(let l in s)"scroll"!=l&&!o[l]&&a.removeEventListener(l,this.handleEvent);this.handlers=o}keydown(i){if(this.lastKeyCode=i.keyCode,this.lastKeyTime=Date.now(),9==i.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=i.keyCode&&SK.indexOf(i.keyCode)<0&&(this.view.inputState.lastEscPress=0),Wt.android&&Wt.chrome&&!i.synthetic&&(13==i.keyCode||8==i.keyCode))return this.view.observer.delayAndroidKey(i.key,i.keyCode),!0;let o;return!Wt.ios||i.synthetic||i.altKey||i.metaKey||!((o=wK.find(s=>s.keyCode==i.keyCode))&&!i.ctrlKey||D_e.indexOf(i.key)>-1&&i.ctrlKey&&!i.shiftKey)?(229!=i.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=o||i,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(i){let o=this.pendingIOSKey;return!(!o||"Enter"==o.key&&i&&i.from<i.to&&/^\S+$/.test(i.insert.toString()))&&(this.pendingIOSKey=void 0,$3(this.view.contentDOM,o.key,o.keyCode,o instanceof KeyboardEvent?o:void 0))}ignoreDuringComposition(i){return!!/^key/.test(i.type)&&(this.composing>0||!!(Wt.safari&&!Wt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(i){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=i}update(i){this.mouseSelection&&this.mouseSelection.update(i),this.draggedContent&&i.docChanged&&(this.draggedContent=this.draggedContent.map(i.changes)),i.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function xK(t,i){return(o,s)=>{try{return i.call(t,s,o)}catch(a){gl(o.state,a)}}}const wK=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],D_e="dthko",SK=[16,17,18,20,91,92,224,225];function lT(t){return.7*Math.max(0,t)+8}class P_e{constructor(i,o,s,a){this.view=i,this.startEvent=o,this.style=s,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=o,this.scrollParent=function q5e(t){let i=t.ownerDocument;for(let o=t.parentNode;o&&o!=i.body;)if(1==o.nodeType){if(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth)return o;o=o.assignedSlot||o.parentNode}else{if(11!=o.nodeType)break;o=o.host}return null}(i.contentDOM),this.atoms=i.state.facet(jI).map(c=>c(i));let l=i.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=o.shiftKey,this.multiple=i.state.facet(Ec.allowMultipleSelections)&&function O_e(t,i){let o=t.state.facet(ZY);return o.length?o[0](i):Wt.mac?i.metaKey:i.ctrlKey}(i,o),this.dragging=!(!function M_e(t,i){let{main:o}=t.state.selection;if(o.empty)return!1;let s=KD(t.root);if(!s||0==s.rangeCount)return!0;let a=s.getRangeAt(0).getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(c.left<=i.clientX&&c.right>=i.clientX&&c.top<=i.clientY&&c.bottom>=i.clientY)return!0}return!1}(i,o)||1!=IK(o))&&null}start(i){!1===this.dragging&&this.select(i)}move(i){var o;if(0==i.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function T_e(t,i){return Math.max(Math.abs(t.clientX-i.clientX),Math.abs(t.clientY-i.clientY))}(this.startEvent,i)<10)return;this.select(this.lastEvent=i);let s=0,a=0,l=(null===(o=this.scrollParent)||void 0===o?void 0:o.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},c=pK(this.view);i.clientX-c.left<=l.left+6?s=-lT(l.left-i.clientX):i.clientX+c.right>=l.right-6&&(s=lT(i.clientX-l.right)),i.clientY-c.top<=l.top+6?a=-lT(l.top-i.clientY):i.clientY+c.bottom>=l.bottom-6&&(a=lT(i.clientY-l.bottom)),this.setScrollSpeed(s,a)}up(i){null==this.dragging&&this.select(this.lastEvent),this.dragging||i.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let i=this.view.contentDOM.ownerDocument;i.removeEventListener("mousemove",this.move),i.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(i,o){this.scrollSpeed={x:i,y:o},i||o?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(i){let o=null;for(let s=0;s<i.ranges.length;s++){let a=i.ranges[s],l=null;if(a.empty){let c=sT(this.atoms,a.from,0);c!=a.from&&(l=lt.cursor(c,-1))}else{let c=sT(this.atoms,a.from,-1),u=sT(this.atoms,a.to,1);(c!=a.from||u!=a.to)&&(l=lt.range(a.from==a.anchor?c:u,a.from==a.head?c:u))}l&&(o||(o=i.ranges.slice()),o[s]=l)}return o?lt.create(o,i.mainIndex):i}select(i){let{view:o}=this,s=this.skipAtoms(this.style.get(i,this.extend,this.multiple));(this.mustSelect||!s.eq(o.state.selection,!1===this.dragging))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(i){this.style.update(i)&&setTimeout(()=>this.select(this.lastEvent),20)}}const v0=Object.create(null),au=Object.create(null),CK=Wt.ie&&Wt.ie_version<15||Wt.ios&&Wt.webkit_version<604;function DK(t,i){let s,{state:o}=t,a=1,l=o.toText(i),c=l.lines==o.selection.ranges.length;if(null!=UI&&o.selection.ranges.every(p=>p.empty)&&UI==l.toString()){let p=-1;s=o.changeByRange(h=>{let v=o.doc.lineAt(h.from);if(v.from==p)return{range:h};p=v.from;let y=o.toText((c?l.line(a++).text:i)+o.lineBreak);return{changes:{from:v.from,insert:y},range:lt.cursor(h.from+y.length)}})}else s=c?o.changeByRange(p=>{let h=l.line(a++);return{changes:{from:p.from,to:p.to,insert:h.text},range:lt.cursor(p.from+h.length)}}):o.replaceSelection(l);t.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}function TK(t,i,o,s){if(1==s)return lt.cursor(i,o);if(2==s)return function g_e(t,i,o=1){let s=t.charCategorizer(i),a=t.doc.lineAt(i),l=i-a.from;if(0==a.length)return lt.cursor(i);0==l?o=1:l==a.length&&(o=-1);let c=l,u=l;o<0?c=fl(a.text,l,!1):u=fl(a.text,l);let p=s(a.text.slice(c,u));for(;c>0;){let h=fl(a.text,c,!1);if(s(a.text.slice(h,c))!=p)break;c=h}for(;u<a.length;){let h=fl(a.text,u);if(s(a.text.slice(u,h))!=p)break;u=h}return lt.range(c+a.from,u+a.from)}(t.state,i,o);{let a=Ms.find(t.docView,i),l=t.state.doc.lineAt(a?a.posAtEnd:i),u=a?a.posAtEnd:l.to;return u<t.state.doc.length&&u==l.to&&u++,lt.range(a?a.posAtStart:l.from,u)}}au.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},v0.keydown=(t,i)=>(t.inputState.setSelectionOrigin("select"),27==i.keyCode&&(t.inputState.lastEscPress=Date.now()),!1),au.touchstart=(t,i)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},au.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},v0.mousedown=(t,i)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let o=null;for(let s of t.state.facet(eK))if(o=s(t,i),o)break;if(!o&&0==i.button&&(o=function L_e(t,i){let o=kK(t,i),s=IK(i),a=t.state.selection;return{update(l){l.docChanged&&(o.pos=l.changes.mapPos(o.pos),a=a.map(l.changes))},get(l,c,u){let h,p=kK(t,l),v=TK(t,p.pos,p.bias,s);if(o.pos!=p.pos&&!c){let y=TK(t,o.pos,o.bias,s),E=Math.min(y.from,v.from),S=Math.max(y.to,v.to);v=E<v.from?lt.range(E,S):lt.range(S,E)}return c?a.replaceRange(a.main.extend(v.from,v.to)):u&&1==s&&a.ranges.length>1&&(h=function F_e(t,i){for(let o=0;o<t.ranges.length;o++){let{from:s,to:a}=t.ranges[o];if(s<=i&&a>=i)return lt.create(t.ranges.slice(0,o).concat(t.ranges.slice(o+1)),t.mainIndex==o?0:t.mainIndex-(t.mainIndex>o?1:0))}return null}(a,p.pos))?h:u?a.addRange(v):lt.create([v])}}}(t,i)),o){let s=!t.hasFocus;t.inputState.startMouseSelection(new P_e(t,i,o,s)),s&&t.observer.ignore(()=>SY(t.contentDOM));let a=t.inputState.mouseSelection;if(a)return a.start(i),!1===a.dragging}return!1};let PK=(t,i)=>t>=i.top&&t<=i.bottom,OK=(t,i,o)=>PK(i,o)&&t>=o.left&&t<=o.right;function I_e(t,i,o,s){let a=Ms.find(t.docView,i);if(!a)return 1;let l=i-a.posAtStart;if(0==l)return 1;if(l==a.length)return-1;let c=a.coordsAt(l,-1);if(c&&OK(o,s,c))return-1;let u=a.coordsAt(l,1);return u&&OK(o,s,u)?1:c&&PK(s,c)?-1:1}function kK(t,i){let o=t.posAtCoords({x:i.clientX,y:i.clientY},!1);return{pos:o,bias:I_e(t,o,i.clientX,i.clientY)}}const N_e=Wt.ie&&Wt.ie_version<=11;let MK=null,RK=0,AK=0;function IK(t){if(!N_e)return t.detail;let i=MK,o=AK;return MK=t,AK=Date.now(),RK=!i||o>Date.now()-400&&Math.abs(i.clientX-t.clientX)<2&&Math.abs(i.clientY-t.clientY)<2?(RK+1)%3:1}function NK(t,i,o,s){if(!o)return;let a=t.posAtCoords({x:i.clientX,y:i.clientY},!1),{draggedContent:l}=t.inputState,c=s&&l&&function k_e(t,i){let o=t.state.facet(JY);return o.length?o[0](i):Wt.mac?!i.altKey:!i.ctrlKey}(t,i)?{from:l.from,to:l.to}:null,u={from:a,insert:o},p=t.state.changes(c?[c,u]:u);t.focus(),t.dispatch({changes:p,selection:{anchor:p.mapPos(a,-1),head:p.mapPos(a,1)},userEvent:c?"move.drop":"input.drop"}),t.inputState.draggedContent=null}v0.dragstart=(t,i)=>{let{selection:{main:o}}=t.state;if(i.target.draggable){let a=t.docView.nearest(i.target);if(a&&a.isWidget){let l=a.posAtStart,c=l+a.length;(l>=o.to||c<=o.from)&&(o=lt.range(l,c))}}let{inputState:s}=t;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=o,i.dataTransfer&&(i.dataTransfer.setData("Text",t.state.sliceDoc(o.from,o.to)),i.dataTransfer.effectAllowed="copyMove"),!1},v0.dragend=t=>(t.inputState.draggedContent=null,!1),v0.drop=(t,i)=>{if(!i.dataTransfer)return!1;if(t.state.readOnly)return!0;let o=i.dataTransfer.files;if(o&&o.length){let s=Array(o.length),a=0,l=()=>{++a==o.length&&NK(t,i,s.filter(c=>null!=c).join(t.state.lineBreak),!1)};for(let c=0;c<o.length;c++){let u=new FileReader;u.onerror=l,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(s[c]=u.result),l()},u.readAsText(o[c])}return!0}{let s=i.dataTransfer.getData("Text");if(s)return NK(t,i,s,!0),!0}return!1},v0.paste=(t,i)=>{if(t.state.readOnly)return!0;t.observer.flush();let o=CK?null:i.clipboardData;return o?(DK(t,o.getData("text/plain")||o.getData("text/uri-list")),!0):(function A_e(t){let i=t.dom.parentNode;if(!i)return;let o=i.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(()=>{t.focus(),o.remove(),DK(t,o.value)},50)}(t),!1)};let UI=null;v0.copy=v0.cut=(t,i)=>{let{text:o,ranges:s,linewise:a}=function j_e(t){let i=[],o=[],s=!1;for(let a of t.selection.ranges)a.empty||(i.push(t.sliceDoc(a.from,a.to)),o.push(a));if(!i.length){let a=-1;for(let{from:l}of t.selection.ranges){let c=t.doc.lineAt(l);c.number>a&&(i.push(c.text),o.push({from:c.from,to:Math.min(t.doc.length,c.to+1)})),a=c.number}s=!0}return{text:i.join(t.lineBreak),ranges:o,linewise:s}}(t.state);if(!o&&!a)return!1;UI=a?o:null,"cut"==i.type&&!t.state.readOnly&&t.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let l=CK?null:i.clipboardData;return l?(l.clearData(),l.setData("text/plain",o),!0):(function B_e(t,i){let o=t.dom.parentNode;if(!o)return;let s=o.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=i,s.focus(),s.selectionEnd=i.length,s.selectionStart=0,setTimeout(()=>{s.remove(),t.focus()},50)}(t,o),!1)};const LK=yf.define();function FK(t,i){let o=[];for(let s of t.facet(rK)){let a=s(t,i);a&&o.push(a)}return o?t.update({effects:o,annotations:LK.of(!0)}):null}function BK(t){setTimeout(()=>{let i=t.hasFocus;if(i!=t.inputState.notifiedFocused){let o=FK(t.state,i);o?t.dispatch(o):t.update([])}},10)}au.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),BK(t)},au.blur=t=>{t.observer.clearSelectionRange(),BK(t)},au.compositionstart=au.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)},au.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Wt.chrome&&Wt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)},au.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},v0.beforeinput=(t,i)=>{var o;let s;if(Wt.chrome&&Wt.android&&(s=wK.find(a=>a.inputType==i.inputType))&&(t.observer.delayAndroidKey(s.key,s.keyCode),"Backspace"==s.key||"Delete"==s.key)){let a=(null===(o=window.visualViewport)||void 0===o?void 0:o.height)||0;setTimeout(()=>{var l;((null===(l=window.visualViewport)||void 0===l?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Wt.ios&&"deleteContentForward"==i.inputType&&t.observer.flushSoon(),Wt.safari&&"insertText"==i.inputType&&t.inputState.composing>=0&&setTimeout(()=>au.compositionend(t,i),20),!1};const jK=new Set,$K=["pre-wrap","normal","pre-line","break-spaces"];class VK{constructor(i){this.lineWrapping=i,this.doc=Zr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(i,o){let s=this.doc.lineAt(o).number-this.doc.lineAt(i).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((o-i-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(i){return this.lineWrapping?(1+Math.max(0,Math.ceil((i-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(i){return this.doc=i,this}mustRefreshForWrapping(i){return $K.indexOf(i)>-1!=this.lineWrapping}mustRefreshForHeights(i){let o=!1;for(let s=0;s<i.length;s++){let a=i[s];a<0?s++:this.heightSamples[Math.floor(10*a)]||(o=!0,this.heightSamples[Math.floor(10*a)]=!0)}return o}refresh(i,o,s,a,l,c){let u=$K.indexOf(i)>-1,p=Math.round(o)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=o,this.charWidth=s,this.textHeight=a,this.lineLength=l,p){this.heightSamples={};for(let h=0;h<c.length;h++){let v=c[h];v<0?h++:this.heightSamples[Math.floor(10*v)]=!0}}return p}}class zK{constructor(i,o){this.from=i,this.heights=o,this.index=0}get more(){return this.index<this.heights.length}}class jd{constructor(i,o,s,a,l){this.from=i,this.length=o,this.top=s,this.height=a,this._content=l}get type(){return"number"==typeof this._content?ml.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Dm?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(i){let o=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(i._content)?i._content:[i]);return new jd(this.from,this.length+i.length,this.top,this.height+i.height,o)}}var Yi=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Yi||(Yi={}));const cT=.001;class La{constructor(i,o,s=2){this.length=i,this.height=o,this.flags=s}get outdated(){return(2&this.flags)>0}set outdated(i){this.flags=(i?2:0)|-3&this.flags}setHeight(i,o){this.height!=o&&(Math.abs(this.height-o)>cT&&(i.heightChanged=!0),this.height=o)}replace(i,o,s){return La.of(s)}decomposeLeft(i,o){o.push(this)}decomposeRight(i,o){o.push(this)}applyChanges(i,o,s,a){let l=this,c=s.doc;for(let u=a.length-1;u>=0;u--){let{fromA:p,toA:h,fromB:v,toB:y}=a[u],E=l.lineAt(p,Yi.ByPosNoHeight,s.setDoc(o),0,0),S=E.to>=h?E:l.lineAt(h,Yi.ByPosNoHeight,s,0,0);for(y+=S.to-h,h=S.to;u>0&&E.from<=a[u-1].toA;)p=a[u-1].fromA,v=a[u-1].fromB,u--,p<E.from&&(E=l.lineAt(p,Yi.ByPosNoHeight,s,0,0));v+=E.from-p,p=E.from;let D=GI.build(s.setDoc(c),i,v,y);l=l.replace(p,h,D)}return l.updateHeight(s,0)}static empty(){return new Sc(0,0)}static of(i){if(1==i.length)return i[0];let o=0,s=i.length,a=0,l=0;for(;;)if(o==s)if(a>2*l){let u=i[o-1];u.break?i.splice(--o,1,u.left,null,u.right):i.splice(--o,1,u.left,u.right),s+=1+u.break,a-=u.size}else{if(!(l>2*a))break;{let u=i[s];u.break?i.splice(s,1,u.left,null,u.right):i.splice(s,1,u.left,u.right),s+=2+u.break,l-=u.size}}else if(a<l){let u=i[o++];u&&(a+=u.size)}else{let u=i[--s];u&&(l+=u.size)}let c=0;return null==i[o-1]?(c=1,o--):null==i[o]&&(c=1,s++),new V_e(La.of(i.slice(0,o)),c,La.of(i.slice(s)))}}La.prototype.size=1;class HK extends La{constructor(i,o,s){super(i,o),this.deco=s}blockAt(i,o,s,a){return new jd(a,this.length,s,this.height,this.deco||0)}lineAt(i,o,s,a,l){return this.blockAt(0,s,a,l)}forEachLine(i,o,s,a,l,c){i<=l+this.length&&o>=l&&c(this.blockAt(0,s,a,l))}updateHeight(i,o=0,s=!1,a){return a&&a.from<=o&&a.more&&this.setHeight(i,a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Sc extends HK{constructor(i,o){super(i,o,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(i,o,s,a){return new jd(a,this.length,s,this.height,this.breaks)}replace(i,o,s){let a=s[0];return 1==s.length&&(a instanceof Sc||a instanceof la&&4&a.flags)&&Math.abs(this.length-a.length)<10?(a instanceof la?a=new Sc(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):La.of(s)}updateHeight(i,o=0,s=!1,a){return a&&a.from<=o&&a.more?this.setHeight(i,a.heights[a.index++]):(s||this.outdated)&&this.setHeight(i,Math.max(this.widgetHeight,i.heightForLine(this.length-this.collapsed))+this.breaks*i.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class la extends La{constructor(i){super(i,0)}heightMetrics(i,o){let c,s=i.doc.lineAt(o).number,a=i.doc.lineAt(o+this.length).number,l=a-s+1,u=0;if(i.lineWrapping){let p=Math.min(this.height,i.lineHeight*l);c=p/l,this.length>l+1&&(u=(this.height-p)/(this.length-l-1))}else c=this.height/l;return{firstLine:s,lastLine:a,perLine:c,perChar:u}}blockAt(i,o,s,a){let{firstLine:l,lastLine:c,perLine:u,perChar:p}=this.heightMetrics(o,a);if(o.lineWrapping){let h=a+(i<o.lineHeight?0:Math.round(Math.max(0,Math.min(1,(i-s)/this.height))*this.length)),v=o.doc.lineAt(h),y=u+v.length*p,E=Math.max(s,i-y/2);return new jd(v.from,v.length,E,y,0)}{let h=Math.max(0,Math.min(c-l,Math.floor((i-s)/u))),{from:v,length:y}=o.doc.line(l+h);return new jd(v,y,s+u*h,u,0)}}lineAt(i,o,s,a,l){if(o==Yi.ByHeight)return this.blockAt(i,s,a,l);if(o==Yi.ByPosNoHeight){let{from:S,to:D}=s.doc.lineAt(i);return new jd(S,D-S,0,0,0)}let{firstLine:c,perLine:u,perChar:p}=this.heightMetrics(s,l),h=s.doc.lineAt(i),v=u+h.length*p,y=h.number-c;return new jd(h.from,h.length,Math.max(a,Math.min(a+u*y+p*(h.from-l-y),a+this.height-v)),v,0)}forEachLine(i,o,s,a,l,c){i=Math.max(i,l),o=Math.min(o,l+this.length);let{firstLine:u,perLine:p,perChar:h}=this.heightMetrics(s,l);for(let v=i,y=a;v<=o;){let E=s.doc.lineAt(v);if(v==i){let D=E.number-u;y+=p*D+h*(i-l-D)}let S=p+h*E.length;c(new jd(E.from,E.length,y,S,0)),y+=S,v=E.to+1}}replace(i,o,s){let a=this.length-o;if(a>0){let l=s[s.length-1];l instanceof la?s[s.length-1]=new la(l.length+a):s.push(null,new la(a-1))}if(i>0){let l=s[0];l instanceof la?s[0]=new la(i+l.length):s.unshift(new la(i-1),null)}return La.of(s)}decomposeLeft(i,o){o.push(new la(i-1),null)}decomposeRight(i,o){o.push(null,new la(this.length-i-1))}updateHeight(i,o=0,s=!1,a){let l=o+this.length;if(a&&a.from<=o+this.length&&a.more){let c=[],u=Math.max(o,a.from),p=-1;for(a.from>o&&c.push(new la(a.from-o-1).updateHeight(i,o));u<=l&&a.more;){let v=i.doc.lineAt(u).length;c.length&&c.push(null);let y=a.heights[a.index++];-1==p?p=y:Math.abs(y-p)>=cT&&(p=-2);let E=new Sc(v,y);E.outdated=!1,c.push(E),u+=v+1}u<=l&&c.push(null,new la(l-u).updateHeight(i,u));let h=La.of(c);return(p<0||Math.abs(h.height-this.height)>=cT||Math.abs(p-this.heightMetrics(i,o).perLine)>=cT)&&(i.heightChanged=!0),h}return(s||this.outdated)&&(this.setHeight(i,i.heightForGap(o,o+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class V_e extends La{constructor(i,o,s){super(i.length+o+s.length,i.height+s.height,o|(i.outdated||s.outdated?2:0)),this.left=i,this.right=s,this.size=i.size+s.size}get break(){return 1&this.flags}blockAt(i,o,s,a){let l=s+this.left.height;return i<l?this.left.blockAt(i,o,s,a):this.right.blockAt(i,o,l,a+this.left.length+this.break)}lineAt(i,o,s,a,l){let c=a+this.left.height,u=l+this.left.length+this.break,p=o==Yi.ByHeight?i<c:i<u,h=p?this.left.lineAt(i,o,s,a,l):this.right.lineAt(i,o,s,c,u);if(this.break||(p?h.to<u:h.from>u))return h;let v=o==Yi.ByPosNoHeight?Yi.ByPosNoHeight:Yi.ByPos;return p?h.join(this.right.lineAt(u,v,s,c,u)):this.left.lineAt(u,v,s,a,l).join(h)}forEachLine(i,o,s,a,l,c){let u=a+this.left.height,p=l+this.left.length+this.break;if(this.break)i<p&&this.left.forEachLine(i,o,s,a,l,c),o>=p&&this.right.forEachLine(i,o,s,u,p,c);else{let h=this.lineAt(p,Yi.ByPos,s,a,l);i<h.from&&this.left.forEachLine(i,h.from-1,s,a,l,c),h.to>=i&&h.from<=o&&c(h),o>h.to&&this.right.forEachLine(h.to+1,o,s,u,p,c)}}replace(i,o,s){let a=this.left.length+this.break;if(o<a)return this.balanced(this.left.replace(i,o,s),this.right);if(i>this.left.length)return this.balanced(this.left,this.right.replace(i-a,o-a,s));let l=[];i>0&&this.decomposeLeft(i,l);let c=l.length;for(let u of s)l.push(u);if(i>0&&UK(l,c-1),o<this.length){let u=l.length;this.decomposeRight(o,l),UK(l,u)}return La.of(l)}decomposeLeft(i,o){let s=this.left.length;if(i<=s)return this.left.decomposeLeft(i,o);o.push(this.left),this.break&&(s++,i>=s&&o.push(null)),i>s&&this.right.decomposeLeft(i-s,o)}decomposeRight(i,o){let s=this.left.length,a=s+this.break;if(i>=a)return this.right.decomposeRight(i-a,o);i<s&&this.left.decomposeRight(i,o),this.break&&i<a&&o.push(null),o.push(this.right)}balanced(i,o){return i.size>2*o.size||o.size>2*i.size?La.of(this.break?[i,null,o]:[i,o]):(this.left=i,this.right=o,this.height=i.height+o.height,this.outdated=i.outdated||o.outdated,this.size=i.size+o.size,this.length=i.length+this.break+o.length,this)}updateHeight(i,o=0,s=!1,a){let{left:l,right:c}=this,u=o+l.length+this.break,p=null;return a&&a.from<=o+l.length&&a.more?p=l=l.updateHeight(i,o,s,a):l.updateHeight(i,o,s),a&&a.from<=u+c.length&&a.more?p=c=c.updateHeight(i,u,s,a):c.updateHeight(i,u,s),p?this.balanced(l,c):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function UK(t,i){let o,s;null==t[i]&&(o=t[i-1])instanceof la&&(s=t[i+1])instanceof la&&t.splice(i-1,3,new la(o.length+1+s.length))}class GI{constructor(i,o){this.pos=i,this.oracle=o,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=i}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(i,o){if(this.lineStart>-1){let s=Math.min(o,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof Sc?a.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new Sc(s-this.pos,-1)),this.writtenTo=s,o>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=o}point(i,o,s){if(i<o||s.heightRelevant){let a=s.widget?s.widget.estimatedHeight:0,l=s.widget?s.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let c=o-i;s.block?this.addBlock(new HK(c,a,s)):(c||l||a>=5)&&this.addLineDeco(a,l,c)}else o>i&&this.span(i,o);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:i,to:o}=this.oracle.doc.lineAt(this.pos);this.lineStart=i,this.lineEnd=o,this.writtenTo<i&&((this.writtenTo<i-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,i-1)),this.nodes.push(null)),this.pos>i&&this.nodes.push(new Sc(this.pos-i,-1)),this.writtenTo=this.pos}blankContent(i,o){let s=new la(o-i);return this.oracle.doc.lineAt(i).to==o&&(s.flags|=4),s}ensureLine(){this.enterLine();let i=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(i instanceof Sc)return i;let o=new Sc(0,-1);return this.nodes.push(o),o}addBlock(i){this.enterLine();let o=i.deco;o&&o.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(i),this.writtenTo=this.pos=this.pos+i.length,o&&o.endSide>0&&(this.covering=i)}addLineDeco(i,o,s){let a=this.ensureLine();a.length+=s,a.collapsed+=s,a.widgetHeight=Math.max(a.widgetHeight,i),a.breaks+=o,this.writtenTo=this.pos=this.pos+s}finish(i){let o=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||o instanceof Sc||this.isCovered?(this.writtenTo<this.pos||null==o)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Sc(0,-1));let s=i;for(let a of this.nodes)a instanceof Sc&&a.updateHeight(this.oracle,s),s+=a?a.length:1;return this.nodes}static build(i,o,s,a){let l=new GI(s,i);return Mo.spans(o,s,a,l,0),l.finish(s)}}class U_e{constructor(){this.changes=[]}compareRange(){}comparePoint(i,o,s,a){(i<o||s&&s.heightRelevant||a&&a.heightRelevant)&&RI(i,o,this.changes,5)}}function G_e(t,i){let o=t.getBoundingClientRect(),s=t.ownerDocument,a=s.defaultView||window,l=Math.max(0,o.left),c=Math.min(a.innerWidth,o.right),u=Math.max(0,o.top),p=Math.min(a.innerHeight,o.bottom);for(let h=t.parentNode;h&&h!=s.body;)if(1==h.nodeType){let v=h,y=window.getComputedStyle(v);if((v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth)&&"visible"!=y.overflow){let E=v.getBoundingClientRect();l=Math.max(l,E.left),c=Math.min(c,E.right),u=Math.max(u,E.top),p=h==t.parentNode?E.bottom:Math.min(p,E.bottom)}h="absolute"==y.position||"fixed"==y.position?v.offsetParent:v.parentNode}else{if(11!=h.nodeType)break;h=h.host}return{left:l-o.left,right:Math.max(l,c)-o.left,top:u-(o.top+i),bottom:Math.max(u,p)-(o.top+i)}}function q_e(t,i){let o=t.getBoundingClientRect();return{left:0,right:o.right-o.left,top:i,bottom:o.bottom-(o.top+i)}}class qI{constructor(i,o,s){this.from=i,this.to=o,this.size=s}static same(i,o){if(i.length!=o.length)return!1;for(let s=0;s<i.length;s++){let a=i[s],l=o[s];if(a.from!=l.from||a.to!=l.to||a.size!=l.size)return!1}return!0}draw(i,o){return Vn.replace({widget:new W_e(this.size*(o?i.scaleY:i.scaleX),o)}).range(this.from,this.to)}}class W_e extends Fd{constructor(i,o){super(),this.size=i,this.vertical=o}eq(i){return i.size==this.size&&i.vertical==this.vertical}toDOM(){let i=document.createElement("div");return this.vertical?i.style.height=this.size+"px":(i.style.width=this.size+"px",i.style.height="2px",i.style.display="inline-block"),i}get estimatedHeight(){return this.vertical?this.size:-1}}class GK{constructor(i){this.state=i,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=qK,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Fi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let o=i.facet(iT).some(s=>"function"!=typeof s&&"cm-lineWrapping"==s.class);this.heightOracle=new VK(o),this.stateDeco=i.facet(ow).filter(s=>"function"!=typeof s),this.heightMap=La.empty().applyChanges(this.stateDeco,Zr.empty,this.heightOracle.setDoc(i.doc),[new wc(0,0,0,i.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Vn.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let i=[this.viewport],{main:o}=this.state.selection;for(let s=0;s<=1;s++){let a=s?o.head:o.anchor;if(!i.some(({from:l,to:c})=>a>=l&&a<=c)){let{from:l,to:c}=this.lineBlockAt(a);i.push(new uT(l,c))}}this.viewports=i.sort((s,a)=>s.from-a.from),this.scaler=this.heightMap.height<=7e6?qK:new K_e(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,i=>{this.viewportLines.push(1==this.scaler.scale?i:aw(i,this.scaler))})}update(i,o=null){this.state=i.state;let s=this.stateDeco;this.stateDeco=this.state.facet(ow).filter(v=>"function"!=typeof v);let l=wc.extendWithRanges(i.changedRanges,function H_e(t,i,o){let s=new U_e;return Mo.compare(t,i,o,s,0),s.changes}(s,this.stateDeco,i?i.changes:ks.empty(this.state.doc.length))),c=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,i.startState.doc,this.heightOracle.setDoc(this.state.doc),l),this.heightMap.height!=c&&(i.flags|=2),u?(this.scrollAnchorPos=i.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let p=l.length?this.mapViewport(this.viewport,i.changes):this.viewport;(o&&(o.range.head<p.from||o.range.head>p.to)||!this.viewportIsAppropriate(p))&&(p=this.getViewport(0,o));let h=!i.changes.empty||2&i.flags||p.from!=this.viewport.from||p.to!=this.viewport.to;this.viewport=p,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,i.changes))),i.flags|=this.computeVisibleRanges(),o&&(this.scrollTarget=o),!this.mustEnforceCursorAssoc&&i.selectionSet&&i.view.lineWrapping&&i.state.selection.main.empty&&i.state.selection.main.assoc&&!i.state.facet(oK)&&(this.mustEnforceCursorAssoc=!0)}measure(i){let o=i.contentDOM,s=window.getComputedStyle(o),a=this.heightOracle,l=s.whiteSpace;this.defaultTextDirection="rtl"==s.direction?Fi.RTL:Fi.LTR;let c=this.heightOracle.mustRefreshForWrapping(l),u=o.getBoundingClientRect(),p=c||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let h=0,v=0;if(u.width&&u.height){let{scaleX:$,scaleY:q}=wY(o,u);($>.005&&Math.abs(this.scaleX-$)>.005||q>.005&&Math.abs(this.scaleY-q)>.005)&&(this.scaleX=$,this.scaleY=q,h|=8,c=p=!0)}let y=(parseInt(s.paddingTop)||0)*this.scaleY,E=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=E)&&(this.paddingTop=y,this.paddingBottom=E,h|=10),this.editorWidth!=i.scrollDOM.clientWidth&&(a.lineWrapping&&(p=!0),this.editorWidth=i.scrollDOM.clientWidth,h|=8);let S=i.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=S&&(this.scrollAnchorHeight=-1,this.scrollTop=S),this.scrolledToBottom=TY(i.scrollDOM);let D=(this.printing?q_e:G_e)(o,this.paddingTop),k=D.top-this.pixelViewport.top,R=D.bottom-this.pixelViewport.bottom;this.pixelViewport=D;let L=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(L!=this.inView&&(this.inView=L,L&&(p=!0)),!this.inView&&!this.scrollTarget)return 0;let N=u.width;if((this.contentDOMWidth!=N||this.editorHeight!=i.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=i.scrollDOM.clientHeight,h|=8),p){let $=i.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights($)&&(c=!0),c||a.lineWrapping&&Math.abs(N-this.contentDOMWidth)>a.charWidth){let{lineHeight:q,charWidth:ee,textHeight:ae}=i.docView.measureTextSize();c=q>0&&a.refresh(l,q,ee,ae,N/ee,$),c&&(i.docView.minWidth=0,h|=8)}k>0&&R>0?v=Math.max(k,R):k<0&&R<0&&(v=Math.min(k,R)),a.heightChanged=!1;for(let q of this.viewports){let ee=q.from==this.viewport.from?$:i.docView.measureVisibleLineHeights(q);this.heightMap=(c?La.empty().applyChanges(this.stateDeco,Zr.empty,this.heightOracle,[new wc(0,0,0,i.state.doc.length)]):this.heightMap).updateHeight(a,0,c,new zK(q.from,ee))}a.heightChanged&&(h|=2)}let B=!this.viewportIsAppropriate(this.viewport,v)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(this.viewport=this.getViewport(v,this.scrollTarget)),this.updateForViewport(),(2&h||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(c?[]:this.lineGaps,i)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,i.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(i,o){let s=.5-Math.max(-.5,Math.min(.5,i/1e3/2)),a=this.heightMap,l=this.heightOracle,{visibleTop:c,visibleBottom:u}=this,p=new uT(a.lineAt(c-1e3*s,Yi.ByHeight,l,0,0).from,a.lineAt(u+1e3*(1-s),Yi.ByHeight,l,0,0).to);if(o){let{head:h}=o.range;if(h<p.from||h>p.to){let E,v=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=a.lineAt(h,Yi.ByPos,l,0,0);E="center"==o.y?(y.top+y.bottom)/2-v/2:"start"==o.y||"nearest"==o.y&&h<p.from?y.top:y.bottom-v,p=new uT(a.lineAt(E-500,Yi.ByHeight,l,0,0).from,a.lineAt(E+v+500,Yi.ByHeight,l,0,0).to)}}return p}mapViewport(i,o){let s=o.mapPos(i.from,-1),a=o.mapPos(i.to,1);return new uT(this.heightMap.lineAt(s,Yi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,Yi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:i,to:o},s=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(i,Yi.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(o,Yi.ByPos,this.heightOracle,0,0),{visibleTop:c,visibleBottom:u}=this;return(0==i||a<=c-Math.max(10,Math.min(-s,250)))&&(o==this.state.doc.length||l>=u+Math.max(10,Math.min(s,250)))&&a>c-2e3&&l<u+2e3}mapLineGaps(i,o){if(!i.length||o.empty)return i;let s=[];for(let a of i)o.touchesRange(a.from,a.to)||s.push(new qI(o.mapPos(a.from),o.mapPos(a.to),a.size));return s}ensureLineGaps(i,o){let s=this.heightOracle.lineWrapping,a=s?1e4:2e3,l=a>>1,c=a<<1;if(this.defaultTextDirection!=Fi.LTR&&!s)return[];let u=[],p=(h,v,y,E)=>{if(v-h<l)return;let S=this.state.selection.main,D=[S.from];S.empty||D.push(S.to);for(let R of D)if(R>h&&R<v)return p(h,R-10,y,E),void p(R+10,v,y,E);let k=function Y_e(t,i){for(let o of t)if(i(o))return o}(i,R=>R.from>=y.from&&R.to<=y.to&&Math.abs(R.from-h)<l&&Math.abs(R.to-v)<l&&!D.some(L=>R.from<L&&R.to>L));if(!k){if(v<y.to&&o&&s&&o.visibleRanges.some(R=>R.from<=v&&R.to>=v)){let R=o.moveToLineBoundary(lt.cursor(v),!1,!0).head;R>h&&(v=R)}k=new qI(h,v,this.gapSize(y,h,v,E))}u.push(k)};for(let h of this.viewportLines){if(h.length<c)continue;let v=X_e(h.from,h.to,this.stateDeco);if(v.total<c)continue;let E,S,y=this.scrollTarget?this.scrollTarget.range.head:null;if(s){let k,R,D=a/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=y){let L=pT(v,y),N=((this.visibleBottom-this.visibleTop)/2+D)/h.height;k=L-N,R=L+N}else k=(this.visibleTop-h.top-D)/h.height,R=(this.visibleBottom-h.top+D)/h.height;E=dT(v,k),S=dT(v,R)}else{let R,L,D=v.total*this.heightOracle.charWidth,k=a*this.heightOracle.charWidth;if(null!=y){let N=pT(v,y),B=((this.pixelViewport.right-this.pixelViewport.left)/2+k)/D;R=N-B,L=N+B}else R=(this.pixelViewport.left-k)/D,L=(this.pixelViewport.right+k)/D;E=dT(v,R),S=dT(v,L)}E>h.from&&p(h.from,E,h,v),S<h.to&&p(S,h.to,h,v)}return u}gapSize(i,o,s,a){let l=pT(a,s)-pT(a,o);return this.heightOracle.lineWrapping?i.height*l:a.total*this.heightOracle.charWidth*l}updateLineGaps(i){qI.same(i,this.lineGaps)||(this.lineGaps=i,this.lineGapDeco=Vn.set(i.map(o=>o.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let i=this.stateDeco;this.lineGaps.length&&(i=i.concat(this.lineGapDeco));let o=[];Mo.spans(i,this.viewport.from,this.viewport.to,{span(a,l){o.push({from:a,to:l})},point(){}},20);let s=o.length!=this.visibleRanges.length||this.visibleRanges.some((a,l)=>a.from!=o[l].from||a.to!=o[l].to);return this.visibleRanges=o,s?4:0}lineBlockAt(i){return i>=this.viewport.from&&i<=this.viewport.to&&this.viewportLines.find(o=>o.from<=i&&o.to>=i)||aw(this.heightMap.lineAt(i,Yi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(i){return aw(this.heightMap.lineAt(this.scaler.fromDOM(i),Yi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(i){let o=this.lineBlockAtHeight(i+8);return o.from>=this.viewport.from||this.viewportLines[0].top-i>200?o:this.viewportLines[0]}elementAtHeight(i){return aw(this.heightMap.blockAt(this.scaler.fromDOM(i),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class uT{constructor(i,o){this.from=i,this.to=o}}function X_e(t,i,o){let s=[],a=t,l=0;return Mo.spans(o,t,i,{span(){},point(c,u){c>a&&(s.push({from:a,to:c}),l+=c-a),a=u}},20),a<i&&(s.push({from:a,to:i}),l+=i-a),{total:l,ranges:s}}function dT({total:t,ranges:i},o){if(o<=0)return i[0].from;if(o>=1)return i[i.length-1].to;let s=Math.floor(t*o);for(let a=0;;a++){let{from:l,to:c}=i[a],u=c-l;if(s<=u)return l+s;s-=u}}function pT(t,i){let o=0;for(let{from:s,to:a}of t.ranges){if(i<=a){o+=i-s;break}o+=a-s}return o/t.total}const qK={toDOM:t=>t,fromDOM:t=>t,scale:1};class K_e{constructor(i,o,s){let a=0,l=0,c=0;this.viewports=s.map(({from:u,to:p})=>{let h=o.lineAt(u,Yi.ByPos,i,0,0).top,v=o.lineAt(p,Yi.ByPos,i,0,0).bottom;return a+=v-h,{from:u,to:p,top:h,bottom:v,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(o.height-a);for(let u of this.viewports)u.domTop=c+(u.top-l)*this.scale,c=u.domBottom=u.domTop+(u.bottom-u.top),l=u.bottom}toDOM(i){for(let o=0,s=0,a=0;;o++){let l=o<this.viewports.length?this.viewports[o]:null;if(!l||i<l.top)return a+(i-s)*this.scale;if(i<=l.bottom)return l.domTop+(i-l.top);s=l.bottom,a=l.domBottom}}fromDOM(i){for(let o=0,s=0,a=0;;o++){let l=o<this.viewports.length?this.viewports[o]:null;if(!l||i<l.domTop)return s+(i-a)/this.scale;if(i<=l.domBottom)return l.top+(i-l.domTop);s=l.bottom,a=l.domBottom}}}function aw(t,i){if(1==i.scale)return t;let o=i.toDOM(t.top),s=i.toDOM(t.bottom);return new jd(t.from,t.length,o,s-o,Array.isArray(t._content)?t._content.map(a=>aw(a,i)):t._content)}const fT=zt.define({combine:t=>t.join(" ")}),WI=zt.define({combine:t=>t.indexOf(!0)>-1}),XI=xm.newName(),WK=xm.newName(),XK=xm.newName(),YK={"&light":"."+WK,"&dark":"."+XK};function YI(t,i,o){return new xm(i,{finish:s=>/&/.test(s)?s.replace(/&\w*/,a=>{if("&"==a)return t;if(!o||!o[a])throw new RangeError(`Unsupported selector: ${a}`);return o[a]}):t+" "+s})}const Q_e=YI("."+XI,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},YK);class Z_e{constructor(i,o){this.points=i,this.text="",this.lineSeparator=o.facet(Ec.lineSeparator)}append(i){this.text+=i}lineBreak(){this.text+="\uffff"}readRange(i,o){if(!i)return this;let s=i.parentNode;for(let a=i;;){this.findPointBefore(s,a);let l=this.text.length;this.readNode(a);let c=a.nextSibling;if(c==o)break;let u=Li.get(a),p=Li.get(c);(u&&p?u.breakAfter:(u?u.breakAfter:ZD(a))||ZD(c)&&("BR"!=a.nodeName||a.cmIgnore)&&this.text.length>l)&&this.lineBreak(),a=c}return this.findPointBefore(s,o),this}readTextNode(i){let o=i.nodeValue;for(let s of this.points)s.node==i&&(s.pos=this.text.length+Math.min(s.offset,o.length));for(let s=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let u,l=-1,c=1;if(this.lineSeparator?(l=o.indexOf(this.lineSeparator,s),c=this.lineSeparator.length):(u=a.exec(o))&&(l=u.index,c=u[0].length),this.append(o.slice(s,l<0?o.length:l)),l<0)break;if(this.lineBreak(),c>1)for(let p of this.points)p.node==i&&p.pos>this.text.length&&(p.pos-=c-1);s=l+c}}readNode(i){if(i.cmIgnore)return;let o=Li.get(i),s=o&&o.overrideDOMText;if(null!=s){this.findPointInside(i,s.length);for(let a=s.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else 3==i.nodeType?this.readTextNode(i):"BR"==i.nodeName?i.nextSibling&&this.lineBreak():1==i.nodeType&&this.readRange(i.firstChild,null)}findPointBefore(i,o){for(let s of this.points)s.node==i&&i.childNodes[s.offset]==o&&(s.pos=this.text.length)}findPointInside(i,o){for(let s of this.points)(3==i.nodeType?s.node==i:i.contains(s.node))&&(s.pos=this.text.length+(J_e(i,s.node,s.offset)?o:0))}}function J_e(t,i,o){for(;;){if(!i||o<_f(i))return!1;if(i==t)return!0;o=Iv(i)+1,i=i.parentNode}}class KK{constructor(i,o){this.node=i,this.offset=o,this.pos=-1}}class e4e{constructor(i,o,s,a){this.typeOver=a,this.bounds=null,this.text="";let{impreciseHead:l,impreciseAnchor:c}=i.docView;if(i.state.readOnly&&o>-1)this.newSel=null;else if(o>-1&&(this.bounds=i.docView.domBoundsAround(o,s,0))){let u=l||c?[]:function r4e(t){let i=[];if(t.root.activeElement!=t.contentDOM)return i;let{anchorNode:o,anchorOffset:s,focusNode:a,focusOffset:l}=t.observer.selectionRange;return o&&(i.push(new KK(o,s)),(a!=o||l!=s)&&i.push(new KK(a,l))),i}(i),p=new Z_e(u,i.state);p.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=p.text,this.newSel=function i4e(t,i){if(0==t.length)return null;let o=t[0].pos,s=2==t.length?t[1].pos:o;return o>-1&&s>-1?lt.single(o+i,s+i):null}(u,this.bounds.from)}else{let u=i.observer.selectionRange,p=l&&l.node==u.focusNode&&l.offset==u.focusOffset||!wI(i.contentDOM,u.focusNode)?i.state.selection.main.head:i.docView.posFromDOM(u.focusNode,u.focusOffset),h=c&&c.node==u.anchorNode&&c.offset==u.anchorOffset||!wI(i.contentDOM,u.anchorNode)?i.state.selection.main.anchor:i.docView.posFromDOM(u.anchorNode,u.anchorOffset),v=i.viewport;if((Wt.ios||Wt.chrome)&&i.state.selection.main.empty&&p!=h&&(v.from>0||v.to<i.state.doc.length)){let y=Math.min(p,h),E=Math.max(p,h),S=v.from-y,D=v.to-E;(0==S||1==S||0==y)&&(0==D||-1==D||E==i.state.doc.length)&&(p=0,h=i.state.doc.length)}this.newSel=lt.single(h,p)}}}function QK(t,i){let o,{newSel:s}=i,a=t.state.selection.main,l=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(i.bounds){let{from:c,to:u}=i.bounds,p=a.from,h=null;(8===l||Wt.android&&i.text.length<u-c)&&(p=a.to,h="end");let v=function n4e(t,i,o,s){let a=Math.min(t.length,i.length),l=0;for(;l<a&&t.charCodeAt(l)==i.charCodeAt(l);)l++;if(l==a&&t.length==i.length)return null;let c=t.length,u=i.length;for(;c>0&&u>0&&t.charCodeAt(c-1)==i.charCodeAt(u-1);)c--,u--;return"end"==s&&(o-=c+Math.max(0,l-Math.min(c,u))-l),c<l&&t.length<i.length?(l-=o<=l&&o>=c?l-o:0,u=l+(u-c),c=l):u<l&&(l-=o<=l&&o>=u?l-o:0,c=l+(c-u),u=l),{from:l,toA:c,toB:u}}(t.state.doc.sliceString(c,u,"\uffff"),i.text,p-c,h);v&&(Wt.chrome&&13==l&&v.toB==v.from+2&&"\uffff\uffff"==i.text.slice(v.from,v.toB)&&v.toB--,o={from:c+v.from,to:c+v.toA,insert:Zr.of(i.text.slice(v.from,v.toB).split("\uffff"))})}else s&&(!t.hasFocus&&t.state.facet(rT)||s.main.eq(a))&&(s=null);if(!o&&!s)return!1;if(!o&&i.typeOver&&!a.empty&&s&&s.main.empty?o={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)}:o&&o.from>=a.from&&o.to<=a.to&&(o.from!=a.from||o.to!=a.to)&&a.to-a.from-(o.to-o.from)<=4?o={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,o.from).append(o.insert).append(t.state.doc.slice(o.to,a.to))}:(Wt.mac||Wt.android)&&o&&o.from==o.to&&o.from==a.head-1&&/^\. ?$/.test(o.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(s&&2==o.insert.length&&(s=lt.single(s.main.anchor-1,s.main.head-1)),o={from:a.from,to:a.to,insert:Zr.of([" "])}):Wt.chrome&&o&&o.from==o.to&&o.from==a.head&&"\n "==o.insert.toString()&&t.lineWrapping&&(s&&(s=lt.single(s.main.anchor-1,s.main.head-1)),o={from:a.from,to:a.to,insert:Zr.of([" "])}),o){if(Wt.ios&&t.inputState.flushIOSKey(o)||Wt.android&&(o.to==a.to&&(o.from==a.from||o.from==a.from-1&&" "==t.state.sliceDoc(o.from,a.from))&&1==o.insert.length&&2==o.insert.lines&&$3(t.contentDOM,"Enter",13)||(o.from==a.from-1&&o.to==a.to&&0==o.insert.length||8==l&&o.insert.length<o.to-o.from&&o.to>a.head)&&$3(t.contentDOM,"Backspace",8)||o.from==a.from&&o.to==a.to+1&&0==o.insert.length&&$3(t.contentDOM,"Delete",46)))return!0;let c=o.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let u,p=()=>u||(u=function t4e(t,i,o){let s,a=t.state,l=a.selection.main;if(i.from>=l.from&&i.to<=l.to&&i.to-i.from>=(l.to-l.from)/3&&(!o||o.main.empty&&o.main.from==i.from+i.insert.length)&&t.inputState.composing<0){let u=l.from<i.from?a.sliceDoc(l.from,i.from):"",p=l.to>i.to?a.sliceDoc(i.to,l.to):"";s=a.replaceSelection(t.state.toText(u+i.insert.sliceString(0,void 0,t.state.lineBreak)+p))}else{let u=a.changes(i),p=o&&o.main.to<=u.newLength?o.main:void 0;if(a.selection.ranges.length>1&&t.inputState.composing>=0&&i.to<=l.to&&i.to>=l.to-10){let v,h=t.state.sliceDoc(i.from,i.to),y=o&&mK(t,o.main.head);v=y?{from:y.from,to:y.to-(i.insert.length-(i.to-i.from))}:t.state.doc.lineAt(l.head);let E=l.to-i.to,S=l.to-l.from;s=a.changeByRange(D=>{if(D.from==l.from&&D.to==l.to)return{changes:u,range:p||D.map(u)};let k=D.to-E,R=k-h.length;if(D.to-D.from!=S||t.state.sliceDoc(R,k)!=h||D.to>=v.from&&D.from<=v.to)return{range:D};let L=a.changes({from:R,to:k,insert:i.insert}),N=D.to-l.to;return{changes:L,range:p?lt.range(Math.max(0,p.anchor+N),Math.max(0,p.head+N)):D.map(L)}})}else s={changes:u,selection:p&&a.selection.replaceRange(p)}}let c="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,c+=".compose",t.inputState.compositionFirstChange&&(c+=".start",t.inputState.compositionFirstChange=!1)),a.update(s,{userEvent:c,scrollIntoView:!0})}(t,o,s));return t.state.facet(nK).some(h=>h(t,o.from,o.to,c,p))||t.dispatch(p()),!0}if(s&&!s.main.eq(a)){let c=!1,u="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(c=!0),u=t.inputState.lastSelectionOrigin),t.dispatch({selection:s,scrollIntoView:c,userEvent:u}),!0}return!1}const o4e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},KI=Wt.ie&&Wt.ie_version<=11;class s4e{constructor(i){this.view=i,this.active=!1,this.selectionRange=new W5e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=i.contentDOM,this.observer=new MutationObserver(o=>{for(let s of o)this.queue.push(s);(Wt.ie&&Wt.ie_version<=11||Wt.ios&&i.composing)&&o.some(s=>"childList"==s.type&&s.removedNodes.length||"characterData"==s.type&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),KI&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var o;(null===(o=this.view.docView)||void 0===o?void 0:o.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(i.scrollDOM)),this.addWindowListeners(this.win=i.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(o=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),o.length>0&&o[o.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(o=>{o.length>0&&o[o.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(i){this.view.inputState.runHandlers("scroll",i),this.intersecting&&this.view.measure()}onScroll(i){this.intersecting&&this.flush(!1),this.onScrollChanged(i)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(i){"change"==i.type&&!i.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(i){if(this.gapIntersection&&(i.length!=this.gaps.length||this.gaps.some((o,s)=>o!=i[s]))){this.gapIntersection.disconnect();for(let o of i)this.gapIntersection.observe(o);this.gaps=i}}onSelectionChange(i){let o=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,a=this.selectionRange;if(s.state.facet(rT)?s.root.activeElement!=this.dom:!QD(s.dom,a))return;let l=a.anchorNode&&s.docView.nearest(a.anchorNode);l&&l.ignoreEvent(i)?o||(this.selectionChanged=!1):(Wt.ie&&Wt.ie_version<=11||Wt.android&&Wt.chrome)&&!s.state.selection.main.empty&&a.focusNode&&ew(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:i}=this,o=KD(i.root);if(!o)return!1;let s=Wt.safari&&11==i.root.nodeType&&function H5e(t){let i=t.activeElement;for(;i&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}(this.dom.ownerDocument)==this.dom&&function a4e(t,i){if(i.getComposedRanges){let a=i.getComposedRanges(t.root)[0];if(a)return JK(t,a)}let o=null;function s(a){a.preventDefault(),a.stopImmediatePropagation(),o=a.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",s,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",s,!0),o?JK(t,o):null}(this.view,o)||o;if(!s||this.selectionRange.eq(s))return!1;let a=QD(this.dom,s);return a&&!this.selectionChanged&&i.inputState.lastFocusTime>Date.now()-200&&i.inputState.lastTouchTime<Date.now()-300&&function Y5e(t,i){let o=i.focusNode,s=i.focusOffset;if(!o||i.anchorNode!=o||i.anchorOffset!=s)return!1;for(s=Math.min(s,_f(o));;)if(s){if(1!=o.nodeType)return!1;let a=o.childNodes[s-1];"false"==a.contentEditable?s--:(o=a,s=_f(o))}else{if(o==t)return!0;s=Iv(o),o=o.parentNode}}(this.dom,s)?(this.view.inputState.lastFocusTime=0,i.docView.updateSelection(),!1):(this.selectionRange.setRange(s),a&&(this.selectionChanged=!0),!0)}setSelectionRange(i,o){this.selectionRange.set(i.node,i.offset,o.node,o.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let i=0,o=null;for(let s=this.dom;s;)if(1==s.nodeType)!o&&i<this.scrollTargets.length&&this.scrollTargets[i]==s?i++:o||(o=this.scrollTargets.slice(0,i)),o&&o.push(s),s=s.assignedSlot||s.parentNode;else{if(11!=s.nodeType)break;s=s.host}if(i<this.scrollTargets.length&&!o&&(o=this.scrollTargets.slice(0,i)),o){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=o)s.addEventListener("scroll",this.onScroll)}}ignore(i){if(!this.active)return i();try{return this.stop(),i()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,o4e),KI&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),KI&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(i,o){var s;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&$3(this.dom,l.key,l.keyCode))})),(!this.delayedAndroidKey||"Enter"==i)&&(this.delayedAndroidKey={key:i,keyCode:o,force:this.lastChange<Date.now()-50||!(null===(s=this.delayedAndroidKey)||void 0===s||!s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let i of this.observer.takeRecords())this.queue.push(i);return this.queue}processRecords(){let i=this.pendingRecords();i.length&&(this.queue=[]);let o=-1,s=-1,a=!1;for(let l of i){let c=this.readMutation(l);c&&(c.typeOver&&(a=!0),-1==o?({from:o,to:s}=c):(o=Math.min(c.from,o),s=Math.max(c.to,s)))}return{from:o,to:s,typeOver:a}}readChange(){let{from:i,to:o,typeOver:s}=this.processRecords(),a=this.selectionChanged&&QD(this.dom,this.selectionRange);if(i<0&&!a)return null;i>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let l=new e4e(this.view,i,o,s);return this.view.docView.domChanged={newSel:l.newSel?l.newSel.main:null},l}flush(i=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;i&&this.readSelectionRange();let o=this.readChange();if(!o)return this.view.requestMeasure(),!1;let s=this.view.state,a=QK(this.view,o);return this.view.state==s&&this.view.update([]),a}readMutation(i){let o=this.view.docView.nearest(i.target);if(!o||o.ignoreMutation(i))return null;if(o.markDirty("attributes"==i.type),"attributes"==i.type&&(o.flags|=4),"childList"==i.type){let s=ZK(o,i.previousSibling||i.target.previousSibling,-1),a=ZK(o,i.nextSibling||i.target.nextSibling,1);return{from:s?o.posAfter(s):o.posAtStart,to:a?o.posBefore(a):o.posAtEnd,typeOver:!1}}return"characterData"==i.type?{from:o.posAtStart,to:o.posAtEnd,typeOver:i.target.nodeValue==i.oldValue}:null}setWindow(i){i!=this.win&&(this.removeWindowListeners(this.win),this.win=i,this.addWindowListeners(this.win))}addWindowListeners(i){i.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):i.addEventListener("beforeprint",this.onPrint),i.addEventListener("scroll",this.onScroll),i.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(i){i.removeEventListener("scroll",this.onScroll),i.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):i.removeEventListener("beforeprint",this.onPrint),i.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var i,o,s;this.stop(),null===(i=this.intersection)||void 0===i||i.disconnect(),null===(o=this.gapIntersection)||void 0===o||o.disconnect(),null===(s=this.resizeScroll)||void 0===s||s.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function ZK(t,i,o){for(;i;){let s=Li.get(i);if(s&&s.parent==t)return s;let a=i.parentNode;i=a!=t.dom?a:o>0?i.nextSibling:i.previousSibling}return null}function JK(t,i){let o=i.startContainer,s=i.startOffset,a=i.endContainer,l=i.endOffset,c=t.docView.domAtPos(t.state.selection.main.anchor);return ew(c.node,c.offset,a,l)&&([o,s,a,l]=[a,l,o,s]),{anchorNode:o,anchorOffset:s,focusNode:a,focusOffset:l}}let Dn=(()=>{class t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(o={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),o.parent&&o.parent.appendChild(this.dom);let{dispatch:s}=o;this.dispatchTransactions=o.dispatchTransactions||s&&(a=>a.forEach(l=>s(l,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=o.root||function X5e(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(o.parent)||document,this.viewState=new GK(o.state||Ec.create(o)),o.scrollTo&&o.scrollTo.is(nT)&&(this.viewState.scrollTarget=o.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(iw).map(a=>new BI(a));for(let a of this.plugins)a.update(this);this.observer=new s4e(this),this.inputState=new S_e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new fK(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...o){let s=1==o.length&&o[0]instanceof m0?o:1==o.length&&Array.isArray(o[0])?o[0]:[this.state.update(...o)];this.dispatchTransactions(s,this)}update(o){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let l,s=!1,a=!1,c=this.state;for(let S of o){if(S.startState!=c)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");c=S.state}if(this.destroyed)return void(this.viewState.state=c);let u=this.hasFocus,p=0,h=null;o.some(S=>S.annotation(LK))?(this.inputState.notifiedFocused=u,p=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,h=FK(c,u),h||(p=1));let v=this.observer.delayedAndroidKey,y=null;if(v?(this.observer.clearDelayedAndroidKey(),y=this.observer.readChange(),(y&&!this.state.doc.eq(c.doc)||!this.state.selection.eq(c.selection))&&(y=null)):this.observer.clear(),c.facet(Ec.phrases)!=this.state.facet(Ec.phrases))return this.setState(c);l=oT.create(this,c,o),l.flags|=p;let E=this.viewState.scrollTarget;try{this.updateState=2;for(let S of o){if(E&&(E=E.map(S.changes)),S.scrollIntoView){let{main:D}=S.state.selection;E=new z3(D.empty?D:lt.cursor(D.head,D.head>D.anchor?-1:1))}for(let D of S.effects)D.is(nT)&&(E=D.value.clip(this.state))}this.viewState.update(l,E),this.bidiCache=hT.update(this.bidiCache,l.changes),l.empty||(this.updatePlugins(l),this.inputState.update(l)),s=this.docView.update(l),this.state.facet(sw)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(o),this.docView.updateSelection(s,o.some(S=>S.isUserEvent("select.pointer")))}finally{this.updateState=0}if(l.startState.facet(fT)!=l.state.facet(fT)&&(this.viewState.mustMeasureContent=!0),(s||a||E||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),s&&this.docViewUpdate(),!l.empty)for(let S of this.state.facet(FI))try{S(l)}catch(D){gl(this.state,D,"update listener")}(h||y)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),y&&!QK(this,y)&&v.force&&$3(this.contentDOM,v.key,v.keyCode)})}setState(o){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=o);this.updateState=2;let s=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new GK(o),this.plugins=o.facet(iw).map(a=>new BI(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new fK(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}s&&this.focus(),this.requestMeasure()}updatePlugins(o){let s=o.startState.facet(iw),a=o.state.facet(iw);if(s!=a){let l=[];for(let c of a){let u=s.indexOf(c);if(u<0)l.push(new BI(c));else{let p=this.plugins[u];p.mustUpdate=o,l.push(p)}}for(let c of this.plugins)c.mustUpdate!=o&&c.destroy(this);this.plugins=l,this.pluginMap.clear()}else for(let l of this.plugins)l.mustUpdate=o;for(let l=0;l<this.plugins.length;l++)this.plugins[l].update(this);s!=a&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let o of this.plugins){let s=o.value;if(s&&s.docViewUpdate)try{s.docViewUpdate(this)}catch(a){gl(this.state,a,"doc view update listener")}}}measure(o=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,o&&this.observer.forceFlush();let s=null,a=this.scrollDOM,l=a.scrollTop*this.scaleY,{scrollAnchorPos:c,scrollAnchorHeight:u}=this.viewState;Math.abs(l-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let p=0;;p++){if(u<0)if(TY(a))c=-1,u=this.viewState.heightMap.height;else{let D=this.viewState.scrollAnchorAt(l);c=D.from,u=D.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(p>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let v=[];4&h||([this.measureRequests,v]=[v,this.measureRequests]);let y=v.map(D=>{try{return D.read(this)}catch(k){return gl(this.state,k),eQ}}),E=oT.create(this,this.state,[]),S=!1;E.flags|=h,s?s.flags|=h:s=E,this.updateState=2,E.empty||(this.updatePlugins(E),this.inputState.update(E),this.updateAttrs(),S=this.docView.update(E),S&&this.docViewUpdate());for(let D=0;D<v.length;D++)if(y[D]!=eQ)try{let k=v[D];k.write&&k.write(y[D],this)}catch(k){gl(this.state,k)}if(S&&this.docView.updateSelection(!0),!E.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}{let k=(c<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(c).top)-u;if(k>1||k<-1){l+=k,a.scrollTop=l/this.scaleY,u=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(s&&!s.empty)for(let p of this.state.facet(FI))p(s)}get themeClasses(){return XI+" "+(this.state.facet(WI)?XK:WK)+" "+this.state.facet(fT)}updateAttrs(){let o=tQ(this,aK,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),s={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(rT)?"true":"false",class:"cm-content",style:`${Wt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(s["aria-readonly"]="true"),tQ(this,iT,s);let a=this.observer.ignore(()=>{let l=MI(this.contentDOM,this.contentAttrs,s),c=MI(this.dom,this.editorAttrs,o);return l||c});return this.editorAttrs=o,this.contentAttrs=s,a}showAnnouncements(o){let s=!0;for(let a of o)for(let l of a.effects)l.is(t.announce)&&(s&&(this.announceDOM.textContent=""),s=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=l.value)}mountStyles(){this.styleModules=this.state.facet(sw);let o=this.state.facet(t.cspNonce);xm.mount(this.root,this.styleModules.concat(Q_e).reverse(),o?{nonce:o}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(o){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),o){if(this.measureRequests.indexOf(o)>-1)return;if(null!=o.key)for(let s=0;s<this.measureRequests.length;s++)if(this.measureRequests[s].key===o.key)return void(this.measureRequests[s]=o);this.measureRequests.push(o)}}plugin(o){let s=this.pluginMap.get(o);return(void 0===s||s&&s.spec!=o)&&this.pluginMap.set(o,s=this.plugins.find(a=>a.spec==o)||null),s&&s.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(o){return this.readMeasured(),this.viewState.elementAtHeight(o)}lineBlockAtHeight(o){return this.readMeasured(),this.viewState.lineBlockAtHeight(o)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(o){return this.viewState.lineBlockAt(o)}get contentHeight(){return this.viewState.contentHeight}moveByChar(o,s,a){return HI(this,o,EK(this,o,s,a))}moveByGroup(o,s){return HI(this,o,EK(this,o,s,a=>function x_e(t,i,o){let s=t.state.charCategorizer(i),a=s(o);return l=>{let c=s(l);return a==su.Space&&(a=c),a==c}}(this,o.head,a)))}visualLineSide(o,s){let a=this.bidiSpans(o),l=this.textDirectionAt(o.from),c=a[s?a.length-1:0];return lt.cursor(c.side(s,l)+o.from,c.forward(!s,l)?1:-1)}moveToLineBoundary(o,s,a=!0){return function E_e(t,i,o,s){let a=function zI(t,i){let o=t.lineBlockAt(i);if(Array.isArray(o.type))for(let s of o.type)if(s.to>i||s.to==i&&(s.to==o.to||s.type==ml.Text))return s;return o}(t,i.head),l=s&&a.type==ml.Text&&(t.lineWrapping||a.widgetLineBreaks)?t.coordsAtPos(i.assoc<0&&i.head>a.from?i.head-1:i.head):null;if(l){let c=t.dom.getBoundingClientRect(),u=t.textDirectionAt(a.from),p=t.posAtCoords({x:o==(u==Fi.LTR)?c.right-1:c.left+1,y:(l.top+l.bottom)/2});if(null!=p)return lt.cursor(p,o?-1:1)}return lt.cursor(o?a.to:a.from,o?-1:1)}(this,o,s,a)}moveVertically(o,s,a){return HI(this,o,function w_e(t,i,o,s){let a=i.head,l=o?1:-1;if(a==(o?t.state.doc.length:0))return lt.cursor(a,i.assoc);let u,c=i.goalColumn,p=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(a,i.assoc||-1),v=t.documentTop;if(h)null==c&&(c=h.left-p.left),u=l<0?h.top:h.bottom;else{let S=t.viewState.lineBlockAt(a);null==c&&(c=Math.min(p.right-p.left,t.defaultCharacterWidth*(a-S.from))),u=(l<0?S.top:S.bottom)+v}let y=p.left+c,E=s??t.viewState.heightOracle.textHeight>>1;for(let S=0;;S+=10){let D=u+(E+S)*l,k=bK(t,{x:y,y:D},!1,l);if(D<p.top||D>p.bottom||(l<0?k<a:k>a)){let R=t.docView.coordsForChar(k);return lt.cursor(k,!R||D<R.top?-1:1,void 0,c)}}}(this,o,s,a))}domAtPos(o){return this.docView.domAtPos(o)}posAtDOM(o,s=0){return this.docView.posFromDOM(o,s)}posAtCoords(o,s=!0){return this.readMeasured(),bK(this,o,s)}coordsAtPos(o,s=1){this.readMeasured();let a=this.docView.coordsAt(o,s);if(!a||a.left==a.right)return a;let l=this.state.doc.lineAt(o),c=this.bidiSpans(l);return JD(a,c[Tm.find(c,o-l.from,-1,s)].dir==Fi.LTR==s>0)}coordsForChar(o){return this.readMeasured(),this.docView.coordsForChar(o)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(o){return!this.state.facet(iK)||o<this.viewport.from||o>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(o))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(o){if(o.length>l4e)return YY(o.length);let a,s=this.textDirectionAt(o.from);for(let c of this.bidiCache)if(c.from==o.from&&c.dir==s&&(c.fresh||WY(c.isolates,a=uK(this,o))))return c.order;a||(a=uK(this,o));let l=function XY(t,i,o){if(!t)return[new Tm(0,0,i==AI?1:0)];if(i==Lv&&!o.length&&!r_e.test(t))return YY(t.length);if(o.length)for(;t.length>Bi.length;)Bi[Bi.length]=256;let s=[],a=i==Lv?0:1;return LI(t,a,a,o,0,t.length,s),s}(o.text,s,a);return this.bidiCache.push(new hT(o.from,o.to,s,a,!0,l)),l}get hasFocus(){var o;return(this.dom.ownerDocument.hasFocus()||Wt.safari&&(null===(o=this.inputState)||void 0===o?void 0:o.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{SY(this.contentDOM),this.docView.updateSelection()})}setRoot(o){this._root!=o&&(this._root=o,this.observer.setWindow((9==o.nodeType?o:o.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let o of this.plugins)o.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(o,s={}){return nT.of(new z3("number"==typeof o?lt.cursor(o):o,s.y,s.x,s.yMargin,s.xMargin))}scrollSnapshot(){let{scrollTop:o,scrollLeft:s}=this.scrollDOM,a=this.viewState.scrollAnchorAt(o);return nT.of(new z3(lt.cursor(a.from),"start","start",a.top-o,s,!0))}static domEventHandlers(o){return Wo.define(()=>({}),{eventHandlers:o})}static domEventObservers(o){return Wo.define(()=>({}),{eventObservers:o})}static theme(o,s){let a=xm.newName(),l=[fT.of(a),sw.of(YI(`.${a}`,o))];return s&&s.dark&&l.push(WI.of(!0)),l}static baseTheme(o){return Mv.lowest(sw.of(YI("."+XI,o,YK)))}static findFromDOM(o){var s;let a=o.querySelector(".cm-content"),l=a&&Li.get(a)||Li.get(o);return(null===(s=l?.rootView)||void 0===s?void 0:s.view)||null}}return t.styleModule=sw,t.inputHandler=nK,t.scrollHandler=sK,t.focusChangeEffect=rK,t.perLineTextDirection=iK,t.exceptionSink=tK,t.updateListener=FI,t.editable=rT,t.mouseSelectionStyle=eK,t.dragMovesSelection=JY,t.clickAddsSelectionRange=ZY,t.decorations=ow,t.outerDecorations=lK,t.atomicRanges=jI,t.bidiIsolatedRanges=cK,t.scrollMargins=dK,t.darkTheme=WI,t.cspNonce=zt.define({combine:i=>i.length?i[0]:""}),t.contentAttributes=iT,t.editorAttributes=aK,t.lineWrapping=t.contentAttributes.of({class:"cm-lineWrapping"}),t.announce=Jr.define(),t})();const l4e=4096,eQ={};class hT{constructor(i,o,s,a,l,c){this.from=i,this.to=o,this.dir=s,this.isolates=a,this.fresh=l,this.order=c}static update(i,o){if(o.empty&&!i.some(l=>l.fresh))return i;let s=[],a=i.length?i[i.length-1].dir:Fi.LTR;for(let l=Math.max(0,i.length-10);l<i.length;l++){let c=i[l];c.dir==a&&!o.touchesRange(c.from,c.to)&&s.push(new hT(o.mapPos(c.from,1),o.mapPos(c.to,-1),c.dir,c.isolates,!1,c.order))}return s}}function tQ(t,i,o){for(let s=t.state.facet(i),a=s.length-1;a>=0;a--){let l=s[a],c="function"==typeof l?l(t):l;c&&OI(c,o)}return o}const c4e=Wt.mac?"mac":Wt.windows?"win":Wt.linux?"linux":"key";function mT(t,i,o){return i.altKey&&(t="Alt-"+t),i.ctrlKey&&(t="Ctrl-"+t),i.metaKey&&(t="Meta-"+t),!1!==o&&i.shiftKey&&(t="Shift-"+t),t}const cw=zt.define({enables:Mv.default(Dn.domEventHandlers({keydown:(t,i)=>function iQ(t,i,o,s){let a=function z5e(t){var o=!($5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||V5e&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Jx:wm)[t.keyCode]||t.key||"Unidentified";return"Esc"==o&&(o="Escape"),"Del"==o&&(o="Delete"),"Left"==o&&(o="ArrowLeft"),"Up"==o&&(o="ArrowUp"),"Right"==o&&(o="ArrowRight"),"Down"==o&&(o="ArrowDown"),o}(i),c=h0(hl(a,0))==a.length&&" "!=a,u="",p=!1,h=!1,v=!1;Pm&&Pm.view==o&&Pm.scope==s&&(u=Pm.prefix+" ",SK.indexOf(i.keyCode)<0&&(h=!0,Pm=null));let D,k,y=new Set,E=R=>{if(R){for(let L of R.run)if(!y.has(L)&&(y.add(L),L(o,i)))return R.stopPropagation&&(v=!0),!0;R.preventDefault&&(R.stopPropagation&&(v=!0),h=!0)}return!1},S=t[s];return S&&(E(S[u+mT(a,i,!c)])?p=!0:c&&(i.altKey||i.metaKey||i.ctrlKey)&&!(Wt.windows&&i.ctrlKey&&i.altKey)&&(D=wm[i.keyCode])&&D!=a?(E(S[u+mT(D,i,!0)])||i.shiftKey&&(k=Jx[i.keyCode])!=a&&k!=D&&E(S[u+mT(k,i,!1)]))&&(p=!0):c&&i.shiftKey&&E(S[u+mT(a,i,!0)])&&(p=!0),!p&&E(S._any)&&(p=!0)),h&&(p=!0),p&&v&&i.stopPropagation(),p}(function rQ(t){let i=t.facet(cw),o=nQ.get(i);return o||nQ.set(i,o=function f4e(t,i=c4e){let o=Object.create(null),s=Object.create(null),a=(c,u)=>{let p=s[c];if(null==p)s[c]=u;else if(p!=u)throw new Error("Key binding "+c+" is used both as a regular binding and as a multi-stroke prefix")},l=(c,u,p,h,v)=>{var y,E;let S=o[c]||(o[c]=Object.create(null)),D=u.split(/ (?!$)/).map(L=>function u4e(t,i){const o=t.split(/-(?!$)/);let a,l,c,u,s=o[o.length-1];"Space"==s&&(s=" ");for(let p=0;p<o.length-1;++p){const h=o[p];if(/^(cmd|meta|m)$/i.test(h))u=!0;else if(/^a(lt)?$/i.test(h))a=!0;else if(/^(c|ctrl|control)$/i.test(h))l=!0;else if(/^s(hift)?$/i.test(h))c=!0;else{if(!/^mod$/i.test(h))throw new Error("Unrecognized modifier name: "+h);"mac"==i?u=!0:l=!0}}return a&&(s="Alt-"+s),l&&(s="Ctrl-"+s),u&&(s="Meta-"+s),c&&(s="Shift-"+s),s}(L,i));for(let L=1;L<D.length;L++){let N=D.slice(0,L).join(" ");a(N,!0),S[N]||(S[N]={preventDefault:!0,stopPropagation:!1,run:[B=>{let $=Pm={view:B,prefix:N,scope:c};return setTimeout(()=>{Pm==$&&(Pm=null)},p4e),!0}]})}let k=D.join(" ");a(k,!1);let R=S[k]||(S[k]={preventDefault:!1,stopPropagation:!1,run:(null===(E=null===(y=S._any)||void 0===y?void 0:y.run)||void 0===E?void 0:E.slice())||[]});p&&R.run.push(p),h&&(R.preventDefault=!0),v&&(R.stopPropagation=!0)};for(let c of t){let u=c.scope?c.scope.split(" "):["editor"];if(c.any)for(let h of u){let v=o[h]||(o[h]=Object.create(null));v._any||(v._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let y in v)v[y].run.push(c.any)}let p=c[i]||c.key;if(p)for(let h of u)l(h,p,c.run,c.preventDefault,c.stopPropagation),c.shift&&l(h,"Shift-"+p,c.shift,c.preventDefault,c.stopPropagation)}return o}(i.reduce((s,a)=>s.concat(a),[]))),o}(i.state),t,i,"editor")}))}),nQ=new WeakMap;let Pm=null;const p4e=4e3;const dQ={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};!Wt.ios&&(dQ[".cm-line"].caretColor="transparent !important",dQ[".cm-content"]={caretColor:"transparent !important"});const pw="-10000px";class vQ{constructor(i,o,s,a){this.facet=o,this.createTooltipView=s,this.removeTooltipView=a,this.input=i.state.facet(o),this.tooltips=this.input.filter(c=>c);let l=null;this.tooltipViews=this.tooltips.map(c=>l=s(c,l))}update(i,o){var s;let a=i.state.facet(this.facet),l=a.filter(p=>p);if(a===this.input){for(let p of this.tooltipViews)p.update&&p.update(i);return!1}let c=[],u=o?[]:null;for(let p=0;p<l.length;p++){let h=l[p],v=-1;if(h){for(let y=0;y<this.tooltips.length;y++){let E=this.tooltips[y];E&&E.create==h.create&&(v=y)}if(v<0)c[p]=this.createTooltipView(h,p?c[p-1]:null),u&&(u[p]=!!h.above);else{let y=c[p]=this.tooltipViews[v];u&&(u[p]=o[v]),y.update&&y.update(i)}}}for(let p of this.tooltipViews)c.indexOf(p)<0&&(this.removeTooltipView(p),null===(s=p.destroy)||void 0===s||s.call(p));return o&&(u.forEach((p,h)=>o[h]=p),o.length=u.length),this.input=a,this.tooltips=l,this.tooltipViews=c,!0}}function yQ(t={}){return yT.of(t)}function B4e(t){let{win:i}=t;return{top:0,left:0,bottom:i.innerHeight,right:i.innerWidth}}const yT=zt.define({combine:t=>{var i,o,s;return{position:Wt.ios?"absolute":(null===(i=t.find(a=>a.position))||void 0===i?void 0:i.position)||"fixed",parent:(null===(o=t.find(a=>a.parent))||void 0===o?void 0:o.parent)||null,tooltipSpace:(null===(s=t.find(a=>a.tooltipSpace))||void 0===s?void 0:s.tooltipSpace)||B4e}}}),bQ=new WeakMap,bT=Wo.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let i=t.state.facet(yT);this.position=i.position,this.parent=i.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new vQ(t,_T,(o,s)=>this.createTooltip(o,s),o=>{this.resizeObserver&&this.resizeObserver.unobserve(o.dom),o.dom.remove()}),this.above=this.manager.tooltips.map(o=>!!o.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(o=>{Date.now()>this.lastTransaction-50&&o.length>0&&o[o.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let i=this.manager.update(t,this.above);i&&this.observeIntersection();let o=i||t.geometryChanged,s=t.state.facet(yT);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;o=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);o=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);o&&this.maybeMeasure()}createTooltip(t,i){let o=t.create(this.view),s=i?i.dom:null;if(o.dom.classList.add("cm-tooltip"),t.arrow&&!o.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",o.dom.appendChild(a)}return o.dom.style.position=this.position,o.dom.style.top=pw,o.dom.style.left="0px",this.container.insertBefore(o.dom,s),o.mount&&o.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(o.dom),o}destroy(){var t,i,o;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),null===(t=s.destroy)||void 0===t||t.call(s);this.parent&&this.container.remove(),null===(i=this.resizeObserver)||void 0===i||i.disconnect(),null===(o=this.intersectionObserver)||void 0===o||o.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),i=1,o=1,s=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(Wt.gecko)s=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==pw&&"0px"==a.style.left){let l=a.getBoundingClientRect();s=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}}if(s||"absolute"==this.position)if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(i=a.width/this.parent.offsetWidth,o=a.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:o}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((a,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(yT).tooltipSpace(this.view),scaleX:i,scaleY:o,makeAbsolute:s}}writeMeasure(t){var i;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{editor:o,space:s,scaleX:a,scaleY:l}=t,c=[];for(let u=0;u<this.manager.tooltips.length;u++){let p=this.manager.tooltips[u],h=this.manager.tooltipViews[u],{dom:v}=h,y=t.pos[u],E=t.size[u];if(!y||y.bottom<=Math.max(o.top,s.top)||y.top>=Math.min(o.bottom,s.bottom)||y.right<Math.max(o.left,s.left)-.1||y.left>Math.min(o.right,s.right)+.1){v.style.top=pw;continue}let S=p.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,D=S?7:0,k=E.right-E.left,R=null!==(i=bQ.get(h))&&void 0!==i?i:E.bottom-E.top,L=h.offset||$4e,N=this.view.textDirection==Fi.LTR,B=E.width>s.right-s.left?N?s.left:s.right-E.width:N?Math.min(y.left-(S?14:0)+L.x,s.right-k):Math.max(s.left,y.left-k+(S?14:0)-L.x),$=this.above[u];!p.strictSide&&($?y.top-(E.bottom-E.top)-L.y<s.top:y.bottom+(E.bottom-E.top)+L.y>s.bottom)&&$==s.bottom-y.bottom>y.top-s.top&&($=this.above[u]=!$);let q=($?y.top-s.top:s.bottom-y.bottom)-D;if(q<R&&!1!==h.resize){if(q<this.view.defaultLineHeight){v.style.top=pw;continue}bQ.set(h,R),v.style.height=(R=q)/l+"px"}else v.style.height&&(v.style.height="");let ee=$?y.top-R-D-L.y:y.bottom+D+L.y,ae=B+k;if(!0!==h.overlap)for(let te of c)te.left<ae&&te.right>B&&te.top<ee+R&&te.bottom>ee&&(ee=$?te.top-R-2-D:te.bottom+D+2);"absolute"==this.position?(v.style.top=(ee-t.parent.top)/l+"px",v.style.left=(B-t.parent.left)/a+"px"):(v.style.top=ee/l+"px",v.style.left=B/a+"px"),S&&(S.style.left=(y.left+(N?L.x:-L.x)-(B+14-7))/a+"px"),!0!==h.overlap&&c.push({left:B,top:ee,right:ae,bottom:ee+R}),v.classList.toggle("cm-tooltip-above",$),v.classList.toggle("cm-tooltip-below",!$),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=pw}},{eventObservers:{scroll(){this.maybeMeasure()}}}),$4e={x:0,y:0},_T=zt.define({enables:[bT,Dn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),fw=zt.define({combine:t=>t.reduce((i,o)=>i.concat(o),[])});class ET{static create(i){return new ET(i)}constructor(i){this.view=i,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new vQ(i,fw,(o,s)=>this.createHostedView(o,s),o=>o.dom.remove())}createHostedView(i,o){let s=i.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,o?o.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(i){for(let o of this.manager.tooltipViews)o.mount&&o.mount(i);this.mounted=!0}positioned(i){for(let o of this.manager.tooltipViews)o.positioned&&o.positioned(i)}update(i){this.manager.update(i)}destroy(){var i;for(let o of this.manager.tooltipViews)null===(i=o.destroy)||void 0===i||i.call(o)}passProp(i){let o;for(let s of this.manager.tooltipViews){let a=s[i];if(void 0!==a)if(void 0===o)o=a;else if(o!==a)return}return o}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const V4e=_T.compute([fw],t=>{let i=t.facet(fw);return 0===i.length?null:{pos:Math.min(...i.map(o=>o.pos)),end:Math.max(...i.map(o=>{var s;return null!==(s=o.end)&&void 0!==s?s:o.pos})),create:ET.create,above:i[0].above,arrow:i.some(o=>o.arrow)}});class z4e{constructor(i,o,s,a,l){this.view=i,this.source=o,this.field=s,this.setHover=a,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:i.dom,time:0},this.checkHover=this.checkHover.bind(this),i.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),i.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let i=Date.now()-this.lastMove.time;i<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-i):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:i,lastMove:o}=this,s=i.docView.nearest(o.target);if(!s)return;let a,l=1;if(s instanceof Sm)a=s.posAtStart;else{if(a=i.posAtCoords(o),null==a)return;let u=i.coordsAtPos(a);if(!u||o.y<u.top||o.y>u.bottom||o.x<u.left-i.defaultCharacterWidth||o.x>u.right+i.defaultCharacterWidth)return;let p=i.bidiSpans(i.state.doc.lineAt(a)).find(v=>v.from<=a&&v.to>=a),h=p&&p.dir==Fi.RTL?-1:1;l=o.x<u.left?-h:h}let c=this.source(i,a,l);if(c?.then){let u=this.pending={pos:a};c.then(p=>{this.pending==u&&(this.pending=null,p&&(!Array.isArray(p)||p.length)&&i.dispatch({effects:this.setHover.of(Array.isArray(p)?p:[p])}))},p=>gl(i.state,p,"hover tooltip"))}else c&&(!Array.isArray(c)||c.length)&&i.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])})}get tooltip(){let i=this.view.plugin(bT),o=i?i.manager.tooltips.findIndex(s=>s.create==ET.create):-1;return o>-1?i.manager.tooltipViews[o]:null}mousemove(i){var o,s;this.lastMove={x:i.clientX,y:i.clientY,target:i.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:l}=this;if(a.length&&l&&!function H4e(t,i){let o=t.getBoundingClientRect();return i.clientX>=o.left-xT&&i.clientX<=o.right+xT&&i.clientY>=o.top-xT&&i.clientY<=o.bottom+xT}(l.dom,i)||this.pending){let{pos:c}=a[0]||this.pending,u=null!==(s=null===(o=a[0])||void 0===o?void 0:o.end)&&void 0!==s?s:c;(c==u?this.view.posAtCoords(this.lastMove)!=c:!function U4e(t,i,o,s,a,l){let c=t.scrollDOM.getBoundingClientRect();if(c.left>s||c.right<s||c.top>a||Math.min(c.bottom,t.documentTop+t.documentPadding.top+t.contentHeight)<a)return!1;let p=t.posAtCoords({x:s,y:a},!1);return p>=i&&p<=o}(this.view,c,u,i.clientX,i.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(i){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:o}=this;if(o.length){let{tooltip:s}=this;s&&s.dom.contains(i.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(i){let o=s=>{i.removeEventListener("mouseleave",o),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};i.addEventListener("mouseleave",o)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const xT=4;function G4e(t,i={}){let o=Jr.define(),s=Xs.define({create:()=>[],update(a,l){if(a.length&&(i.hideOnChange&&(l.docChanged||l.selection)?a=[]:i.hideOn&&(a=a.filter(c=>!i.hideOn(l,c))),l.docChanged)){let c=[];for(let u of a){let p=l.changes.mapPos(u.pos,-1,sa.TrackDel);if(null!=p){let h=Object.assign(Object.create(null),u);h.pos=p,null!=h.end&&(h.end=l.changes.mapPos(h.end)),c.push(h)}}a=c}for(let c of l.effects)c.is(o)&&(a=c.value),c.is(q4e)&&(a=[]);return a},provide:a=>fw.from(a)});return[s,Wo.define(a=>new z4e(a,t,s,o,i.hoverTime||300)),V4e]}function _Q(t,i){let o=t.plugin(bT);if(!o)return null;let s=o.manager.tooltips.indexOf(i);return s<0?null:o.manager.tooltipViews[s]}const q4e=Jr.define(),tN=zt.define({combine(t){let i,o;for(let s of t)i=i||s.topContainer,o=o||s.bottomContainer;return{topContainer:i,bottomContainer:o}}}),EQ=Wo.fromClass(class{constructor(t){this.input=t.state.facet(nN),this.specs=this.input.filter(o=>o),this.panels=this.specs.map(o=>o(t));let i=t.state.facet(tN);this.top=new wT(t,!0,i.topContainer),this.bottom=new wT(t,!1,i.bottomContainer),this.top.sync(this.panels.filter(o=>o.top)),this.bottom.sync(this.panels.filter(o=>!o.top));for(let o of this.panels)o.dom.classList.add("cm-panel"),o.mount&&o.mount()}update(t){let i=t.state.facet(tN);this.top.container!=i.topContainer&&(this.top.sync([]),this.top=new wT(t.view,!0,i.topContainer)),this.bottom.container!=i.bottomContainer&&(this.bottom.sync([]),this.bottom=new wT(t.view,!1,i.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let o=t.state.facet(nN);if(o!=this.input){let s=o.filter(p=>p),a=[],l=[],c=[],u=[];for(let p of s){let v,h=this.specs.indexOf(p);h<0?(v=p(t.view),u.push(v)):(v=this.panels[h],v.update&&v.update(t)),a.push(v),(v.top?l:c).push(v)}this.specs=s,this.panels=a,this.top.sync(l),this.bottom.sync(c);for(let p of u)p.dom.classList.add("cm-panel"),p.mount&&p.mount()}else for(let s of this.panels)s.update&&s.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Dn.scrollMargins.of(i=>{let o=i.plugin(t);return o&&{top:o.top.scrollMargin(),bottom:o.bottom.scrollMargin()}})});class wT{constructor(i,o,s){this.view=i,this.top=o,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(i){for(let o of this.panels)o.destroy&&i.indexOf(o)<0&&o.destroy();this.panels=i,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let o=this.container||this.view.dom;o.insertBefore(this.dom,this.top?o.firstChild:null)}let i=this.dom.firstChild;for(let o of this.panels)if(o.dom.parentNode==this.dom){for(;i!=o.dom;)i=xQ(i);i=i.nextSibling}else this.dom.insertBefore(o.dom,i);for(;i;)i=xQ(i)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let i of this.classes.split(" "))i&&this.container.classList.remove(i);for(let i of(this.classes=this.view.themeClasses).split(" "))i&&this.container.classList.add(i)}}}function xQ(t){let i=t.nextSibling;return t.remove(),i}const nN=zt.define({enables:EQ});class $d extends Rv{compare(i){return this==i||this.constructor==i.constructor&&this.eq(i)}eq(i){return!1}destroy(i){}}$d.prototype.elementClass="",$d.prototype.toDOM=void 0,$d.prototype.mapMode=sa.TrackBefore,$d.prototype.startSide=$d.prototype.endSide=-1,$d.prototype.point=!0;const rN=zt.define(),hw=zt.define(),iN=zt.define({combine:t=>t.some(i=>i)});function wQ(t){let i=[K4e];return t&&!1===t.fixed&&i.push(iN.of(!0)),i}const K4e=Wo.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(hw).map(i=>new CQ(t,i));for(let i of this.gutters)this.dom.appendChild(i.dom);this.fixed=!t.state.facet(iN),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let i=this.prevViewport,o=t.view.viewport,s=Math.min(i.to,o.to)-Math.max(i.from,o.from);this.syncGutters(s<.8*(o.to-o.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(iN)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let i=this.dom.nextSibling;t&&this.dom.remove();let o=Mo.iter(this.view.state.facet(rN),this.view.viewport.from),s=[],a=this.gutters.map(l=>new Q4e(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(l.type)){let c=!0;for(let u of l.type)if(u.type==ml.Text&&c){oN(o,s,u.from);for(let p of a)p.line(this.view,u,s);c=!1}else if(u.widget)for(let p of a)p.widget(this.view,u)}else if(l.type==ml.Text){oN(o,s,l.from);for(let c of a)c.line(this.view,l,s)}else if(l.widget)for(let c of a)c.widget(this.view,l);for(let l of a)l.finish();t&&this.view.scrollDOM.insertBefore(this.dom,i)}updateGutters(t){let i=t.startState.facet(hw),o=t.state.facet(hw),s=t.docChanged||t.heightChanged||t.viewportChanged||!Mo.eq(t.startState.facet(rN),t.state.facet(rN),t.view.viewport.from,t.view.viewport.to);if(i==o)for(let a of this.gutters)a.update(t)&&(s=!0);else{s=!0;let a=[];for(let l of o){let c=i.indexOf(l);c<0?a.push(new CQ(this.view,l)):(this.gutters[c].update(t),a.push(this.gutters[c]))}for(let l of this.gutters)l.dom.remove(),a.indexOf(l)<0&&l.destroy();for(let l of a)this.dom.appendChild(l.dom);this.gutters=a}return s}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Dn.scrollMargins.of(i=>{let o=i.plugin(t);return o&&0!=o.gutters.length&&o.fixed?i.textDirection==Fi.LTR?{left:o.dom.offsetWidth*i.scaleX}:{right:o.dom.offsetWidth*i.scaleX}:null})});function SQ(t){return Array.isArray(t)?t:[t]}function oN(t,i,o){for(;t.value&&t.from<=o;)t.from==o&&i.push(t.value),t.next()}class Q4e{constructor(i,o,s){this.gutter=i,this.height=s,this.i=0,this.cursor=Mo.iter(i.markers,o.from)}addElement(i,o,s){let{gutter:a}=this,l=(o.top-this.height)/i.scaleY,c=o.height/i.scaleY;if(this.i==a.elements.length){let u=new DQ(i,c,l,s);a.elements.push(u),a.dom.appendChild(u.dom)}else a.elements[this.i].update(i,c,l,s);this.height=o.bottom,this.i++}line(i,o,s){let a=[];oN(this.cursor,a,o.from),s.length&&(a=a.concat(s));let l=this.gutter.config.lineMarker(i,o,a);l&&a.unshift(l),0==a.length&&!this.gutter.config.renderEmptyElements||this.addElement(i,o,a)}widget(i,o){let s=this.gutter.config.widgetMarker(i,o.widget,o);s&&this.addElement(i,o,[s])}finish(){let i=this.gutter;for(;i.elements.length>this.i;){let o=i.elements.pop();i.dom.removeChild(o.dom),o.destroy()}}}class CQ{constructor(i,o){this.view=i,this.config=o,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in o.domEventHandlers)this.dom.addEventListener(s,a=>{let c,l=a.target;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let p=l.getBoundingClientRect();c=(p.top+p.bottom)/2}else c=a.clientY;let u=i.lineBlockAtHeight(c-i.documentTop);o.domEventHandlers[s](i,u,a)&&a.preventDefault()});this.markers=SQ(o.markers(i)),o.initialSpacer&&(this.spacer=new DQ(i,0,0,[o.initialSpacer(i)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(i){let o=this.markers;if(this.markers=SQ(this.config.markers(i.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],i);a!=this.spacer.markers[0]&&this.spacer.update(i.view,0,0,[a])}let s=i.view.viewport;return!Mo.eq(this.markers,o,s.from,s.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(i)}destroy(){for(let i of this.elements)i.destroy()}}class DQ{constructor(i,o,s,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(i,o,s,a)}update(i,o,s,a){this.height!=o&&(this.height=o,this.dom.style.height=o+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),function Z4e(t,i){if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++)if(!t[o].compare(i[o]))return!1;return!0}(this.markers,a)||this.setMarkers(i,a)}setMarkers(i,o){let s="cm-gutterElement",a=this.dom.firstChild;for(let l=0,c=0;;){let u=c,p=l<o.length?o[l++]:null,h=!1;if(p){let v=p.elementClass;v&&(s+=" "+v);for(let y=c;y<this.markers.length;y++)if(this.markers[y].compare(p)){u=y,h=!0;break}}else u=this.markers.length;for(;c<u;){let v=this.markers[c++];if(v.toDOM){v.destroy(a);let y=a.nextSibling;a.remove(),a=y}}if(!p)break;p.toDOM&&(h?a=a.nextSibling:this.dom.insertBefore(p.toDOM(i),a)),h&&c++}this.dom.className=s,this.markers=o}destroy(){this.setMarkers(null,[])}}const J4e=zt.define(),U3=zt.define({combine:t=>bf(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(i,o){let s=Object.assign({},i);for(let a in o){let l=s[a],c=o[a];s[a]=l?(u,p,h)=>l(u,p,h)||c(u,p,h):c}return s}})});class sN extends $d{constructor(i){super(),this.number=i}eq(i){return this.number==i.number}toDOM(){return document.createTextNode(this.number)}}function aN(t,i){return t.state.facet(U3).formatNumber(i,t.state)}const eEe=hw.compute([U3],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:i=>i.state.facet(J4e),lineMarker:(i,o,s)=>s.some(a=>a.toDOM)?null:new sN(aN(i,i.state.doc.lineAt(o.from).number)),widgetMarker:()=>null,lineMarkerChange:i=>i.startState.facet(U3)!=i.state.facet(U3),initialSpacer:i=>new sN(aN(i,PQ(i.state.doc.lines))),updateSpacer(i,o){let s=aN(o.view,PQ(o.view.state.doc.lines));return s==i.number?i:new sN(s)},domEventHandlers:t.facet(U3).domEventHandlers}));function TQ(t={}){return[U3.of(t),wQ(),eEe]}function PQ(t){let i=9;for(;i<t;)i=10*i+9;return i}var lN;const Fv=new $n;const oEe=new $n;let Cc=(()=>{class t{constructor(o,s,a=[],l=""){this.data=o,this.name=l,Ec.prototype.hasOwnProperty("tree")||Object.defineProperty(Ec.prototype,"tree",{get(){return Ki(this)}}),this.parser=s,this.extension=[Om.of(this),Ec.languageData.of((c,u,p)=>{let h=RQ(c,u,p),v=h.type.prop(Fv);if(!v)return[];let y=c.facet(v),E=h.type.prop(oEe);if(E){let S=h.resolve(u-h.from,p);for(let D of E)if(D.test(S,c)){let k=c.facet(D.facet);return"replace"==D.type?k:k.concat(y)}}return y})].concat(a)}isActiveAt(o,s,a=-1){return RQ(o,s,a).type.prop(Fv)==this.data}findRegions(o){let s=o.facet(Om);if(s?.data==this.data)return[{from:0,to:o.doc.length}];if(!s||!s.allowsNesting)return[];let a=[],l=(c,u)=>{if(c.prop(Fv)==this.data)return void a.push({from:u,to:u+c.length});let p=c.prop($n.mounted);if(p){if(p.tree.prop(Fv)==this.data){if(p.overlay)for(let h of p.overlay)a.push({from:h.from+u,to:h.to+u});else a.push({from:u,to:u+c.length});return}if(p.overlay){let h=a.length;if(l(p.tree,p.overlay[0].from+u),a.length>h)return}}for(let h=0;h<c.children.length;h++){let v=c.children[h];v instanceof Tr&&l(v,c.positions[h]+u)}};return l(Ki(o),0),a}get allowsNesting(){return!0}}return t.setState=Jr.define(),t})();function RQ(t,i,o){let s=t.facet(Om),a=Ki(t).topNode;if(!s||s.allowsNesting)for(let l=a;l;l=l.enter(i,o,bo.ExcludeBuffers))l.type.isTop&&(a=l);return a}class mw extends Cc{constructor(i,o,s){super(i,o,[],s),this.parser=o}static define(i){let o=function MQ(t){return zt.define({combine:t?i=>i.concat(t):void 0})}(i.languageData);return new mw(o,i.parser.configure({props:[Fv.add(s=>s.isTop?o:void 0)]}),i.name)}configure(i,o){return new mw(this.data,this.parser.configure(i),o||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ki(t){let i=t.field(Cc.state,!1);return i?i.tree:Tr.empty}class aEe{constructor(i){this.doc=i,this.cursorPos=0,this.string="",this.cursor=i.iter()}get length(){return this.doc.length}syncTo(i){return this.string=this.cursor.next(i-this.cursorPos).value,this.cursorPos=i+this.string.length,this.cursorPos-this.string.length}chunk(i){return this.syncTo(i),this.string}get lineChunks(){return!0}read(i,o){let s=this.cursorPos-this.string.length;return i<s||o>=this.cursorPos?this.doc.sliceString(i,o):this.string.slice(i-s,o-s)}}let gw=null;class G3{constructor(i,o,s=[],a,l,c,u,p){this.parser=i,this.state=o,this.fragments=s,this.tree=a,this.treeLen=l,this.viewport=c,this.skipped=u,this.scheduleOn=p,this.parse=null,this.tempSkipped=[]}static create(i,o,s){return new G3(i,o,[],Tr.empty,0,s,[],null)}startParse(){return this.parser.startParse(new aEe(this.state.doc),this.fragments)}work(i,o){return null!=o&&o>=this.state.doc.length&&(o=void 0),this.tree!=Tr.empty&&this.isDone(o??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if("number"==typeof i){let a=Date.now()+i;i=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),null!=o&&(null==this.parse.stoppedAt||this.parse.stoppedAt>o)&&o<this.state.doc.length&&this.parse.stopAt(o);;){let a=this.parse.advance();if(a){if(this.fragments=this.withoutTempSkipped(gf.addTree(a,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(s=this.parse.stoppedAt)&&void 0!==s?s:this.state.doc.length,this.tree=a,this.parse=null,!(this.treeLen<(o??this.state.doc.length)))return!0;this.parse=this.startParse()}if(i())return!1}})}takeTree(){let i,o;this.parse&&(i=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>i)&&this.parse.stopAt(i),this.withContext(()=>{for(;!(o=this.parse.advance()););}),this.treeLen=i,this.tree=o,this.fragments=this.withoutTempSkipped(gf.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(i){let o=gw;gw=this;try{return i()}finally{gw=o}}withoutTempSkipped(i){for(let o;o=this.tempSkipped.pop();)i=AQ(i,o.from,o.to);return i}changes(i,o){let{fragments:s,tree:a,treeLen:l,viewport:c,skipped:u}=this;if(this.takeTree(),!i.empty){let p=[];if(i.iterChangedRanges((h,v,y,E)=>p.push({fromA:h,toA:v,fromB:y,toB:E})),s=gf.applyChanges(s,p),a=Tr.empty,l=0,c={from:i.mapPos(c.from,-1),to:i.mapPos(c.to,1)},this.skipped.length){u=[];for(let h of this.skipped){let v=i.mapPos(h.from,1),y=i.mapPos(h.to,-1);v<y&&u.push({from:v,to:y})}}}return new G3(this.parser,o,s,a,l,c,u,this.scheduleOn)}updateViewport(i){if(this.viewport.from==i.from&&this.viewport.to==i.to)return!1;this.viewport=i;let o=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:a,to:l}=this.skipped[s];a<i.to&&l>i.from&&(this.fragments=AQ(this.fragments,a,l),this.skipped.splice(s--,1))}return!(this.skipped.length>=o||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(i,o){this.skipped.push({from:i,to:o})}static getSkippingParser(i){return new class extends ID{createParse(o,s,a){let l=a[0].from,c=a[a.length-1].to;return{parsedPos:l,advance(){let p=gw;if(p){for(let h of a)p.tempSkipped.push(h);i&&(p.scheduleOn=p.scheduleOn?Promise.all([p.scheduleOn,i]):i)}return this.parsedPos=c,new Tr(ss.none,[],[],c-l)},stoppedAt:null,stopAt(){}}}}}isDone(i){i=Math.min(i,this.state.doc.length);let o=this.fragments;return this.treeLen>=i&&o.length&&0==o[0].from&&o[0].to>=i}static get(){return gw}}function AQ(t,i,o){return gf.applyChanges(t,[{fromA:i,toA:o,fromB:i,toB:o}])}class q3{constructor(i){this.context=i,this.tree=i.tree}apply(i){if(!i.docChanged&&this.tree==this.context.tree)return this;let o=this.context.changes(i.changes,i.state),s=this.context.treeLen==i.startState.doc.length?void 0:Math.max(i.changes.mapPos(this.context.treeLen),o.viewport.to);return o.work(20,s)||o.takeTree(),new q3(o)}static init(i){let o=Math.min(3e3,i.doc.length),s=G3.create(i.facet(Om).parser,i,{from:0,to:o});return s.work(20,o)||s.takeTree(),new q3(s)}}Cc.state=Xs.define({create:q3.init,update(t,i){for(let o of i.effects)if(o.is(Cc.setState))return o.value;return i.startState.facet(Om)!=i.state.facet(Om)?q3.init(i.state):t.apply(i)}});let IQ=t=>{let i=setTimeout(()=>t(),500);return()=>clearTimeout(i)};typeof requestIdleCallback<"u"&&(IQ=t=>{let i=-1,o=setTimeout(()=>{i=requestIdleCallback(t,{timeout:400})},100);return()=>i<0?clearTimeout(o):cancelIdleCallback(i)});const cN=typeof navigator<"u"&&null!==(lN=navigator.scheduling)&&void 0!==lN&&lN.isInputPending?()=>navigator.scheduling.isInputPending():null,NQ=Wo.fromClass(class{constructor(i){this.view=i,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(i){let o=this.view.state.field(Cc.state).context;(o.updateViewport(i.view.viewport)||this.view.viewport.to>o.treeLen)&&this.scheduleWork(),(i.docChanged||i.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(o)}scheduleWork(){if(this.working)return;let{state:i}=this.view,o=i.field(Cc.state);(o.tree!=o.context.tree||!o.context.isDone(i.doc.length))&&(this.working=IQ(this.work))}work(i){this.working=null;let o=Date.now();if(this.chunkEnd<o&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=o+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:a}}=this.view,l=s.field(Cc.state);if(l.tree==l.context.tree&&l.context.isDone(a+1e5))return;let c=Date.now()+Math.min(this.chunkBudget,100,i&&!cN?Math.max(25,i.timeRemaining()-5):1e9),u=l.context.treeLen<a&&s.doc.length>a+1e3,p=l.context.work(()=>cN&&cN()||Date.now()>c,a+(u?0:1e5));this.chunkBudget-=Date.now()-o,(p||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Cc.setState.of(new q3(l.context))})),this.chunkBudget>0&&!(p&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(i){i.scheduleOn&&(this.workScheduled++,i.scheduleOn.then(()=>this.scheduleWork()).catch(o=>gl(this.view.state,o)).then(()=>this.workScheduled--),i.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Om=zt.define({combine:t=>t.length?t[0]:null,enables:t=>[Cc.state,NQ,Dn.contentAttributes.compute([t],i=>{let o=i.facet(t);return o&&o.name?{"data-language":o.name}:{}})]});class LQ{constructor(i,o=[]){this.language=i,this.support=o,this.extension=[i,o]}}const BQ=zt.define(),ST=zt.define({combine:t=>{if(!t.length)return"  ";let i=t[0];if(!i||/\S/.test(i)||Array.from(i).some(o=>o!=i[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return i}});function Bv(t){let i=t.facet(ST);return 9==i.charCodeAt(0)?t.tabSize*i.length:i.length}function W3(t,i){let o="",s=t.tabSize,a=t.facet(ST)[0];if("\t"==a){for(;i>=s;)o+="\t",i-=s;a=" "}for(let l=0;l<i;l++)o+=a;return o}function CT(t,i){t instanceof Ec&&(t=new vw(t));for(let s of t.state.facet(BQ)){let a=s(t,i);if(void 0!==a)return a}let o=Ki(t.state);return o.length>=i?function lEe(t,i,o){let s=i.resolveStack(o),a=s.node.enterUnfinishedNodesBefore(o);if(a!=s.node){let l=[];for(let c=a;c!=s.node;c=c.parent)l.push(c);for(let c=l.length-1;c>=0;c--)s={node:l[c],next:s}}return $Q(s,t,o)}(t,o,i):null}class vw{constructor(i,o={}){this.state=i,this.options=o,this.unit=Bv(i)}lineAt(i,o=1){let s=this.state.doc.lineAt(i),{simulateBreak:a,simulateDoubleBreak:l}=this.options;return null!=a&&a>=s.from&&a<=s.to?l&&a==i?{text:"",from:i}:(o<0?a<i:a<=i)?{text:s.text.slice(a-s.from),from:a}:{text:s.text.slice(0,a-s.from),from:s.from}:s}textAfterPos(i,o=1){if(this.options.simulateDoubleBreak&&i==this.options.simulateBreak)return"";let{text:s,from:a}=this.lineAt(i,o);return s.slice(i-a,Math.min(s.length,i+100-a))}column(i,o=1){let{text:s,from:a}=this.lineAt(i,o),l=this.countColumn(s,i-a),c=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return c>-1&&(l+=c-this.countColumn(s,s.search(/\S|$/))),l}countColumn(i,o=i.length){return YD(i,this.state.tabSize,o)}lineIndent(i,o=1){let{text:s,from:a}=this.lineAt(i,o),l=this.options.overrideIndentation;if(l){let c=l(a);if(c>-1)return c}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const jQ=new $n;function $Q(t,i,o){for(let s=t;s;s=s.next){let a=uEe(s.node);if(a)return a(uN.create(i,o,s))}return 0}function uEe(t){let i=t.type.prop(jQ);if(i)return i;let s,o=t.firstChild;if(o&&(s=o.type.prop($n.closedBy))){let a=t.lastChild,l=a&&s.indexOf(a.name)>-1;return c=>zQ(c,!0,1,void 0,l&&!function cEe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(c)?a.from:void 0)}return null==t.parent?dEe:null}function dEe(){return 0}class uN extends vw{constructor(i,o,s){super(i.state,i.options),this.base=i,this.pos=o,this.context=s}get node(){return this.context.node}static create(i,o,s){return new uN(i,o,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(i){let o=this.state.doc.lineAt(i.from);for(;;){let s=i.resolve(o.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(pEe(s,i))break;o=this.state.doc.lineAt(s.from)}return this.lineIndent(o.from)}continue(){return $Q(this.context.next,this.base,this.pos)}}function pEe(t,i){for(let o=i;o;o=o.parent)if(t==o)return!0;return!1}function VQ({closing:t,align:i=!0,units:o=1}){return s=>zQ(s,i,o,t)}function zQ(t,i,o,s,a){let l=t.textAfter,c=l.match(/^\s*/)[0].length,u=s&&l.slice(c,c+s.length)==s||a==t.pos+c,p=i?function fEe(t){let i=t.node,o=i.childAfter(i.from),s=i.lastChild;if(!o)return null;let a=t.options.simulateBreak,l=t.state.doc.lineAt(o.from),c=null==a||a<=l.from?l.to:Math.min(l.to,a);for(let u=o.to;;){let p=i.childAfter(u);if(!p||p==s)return null;if(!p.type.isSkipped)return p.from<c?o:null;u=p.to}}(t):null;return p?t.column(u?p.from:p.to):t.baseIndent+(u?0:t.unit*o)}function dN({except:t,units:i=1}={}){return o=>{let s=t&&t.test(o.textAfter);return o.baseIndent+(s?0:i*o.unit)}}const hEe=200;function HQ(){return Ec.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let i=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!i.length)return t;let o=t.newDoc,{head:s}=t.newSelection.main,a=o.lineAt(s);if(s>a.from+hEe)return t;let l=o.sliceString(a.from,s);if(!i.some(h=>h.test(l)))return t;let{state:c}=t,u=-1,p=[];for(let{head:h}of c.selection.ranges){let v=c.doc.lineAt(h);if(v.from==u)continue;u=v.from;let y=CT(c,v.from);if(null==y)continue;let E=/^\s*/.exec(v.text)[0],S=W3(c,y);E!=S&&p.push({from:v.from,to:v.from+E.length,insert:S})}return p.length?[t,{changes:p,sequential:!0}]:t})}const pN=new $n;function yw(t){let i=t.firstChild,o=t.lastChild;return i&&i.to<o.from?{from:i.to,to:o.type.isError?t.to:o.from}:null}class Mm{constructor(i,o){let s;function a(u){let p=xm.newName();return(s||(s=Object.create(null)))["."+p]=u,p}this.specs=i;const l="string"==typeof o.all?o.all:o.all?a(o.all):void 0,c=o.scope;this.scope=c instanceof Cc?u=>u.prop(Fv)==c.data:c?u=>u==c:void 0,this.style=HX(i.map(u=>({tag:u.tag,class:u.class||a(Object.assign({},u,{tag:null}))})),{all:l}).style,this.module=s?new xm(s):null,this.themeType=o.themeType}static define(i,o){return new Mm(i,o||{})}}const vN=zt.define(),XQ=zt.define({combine:t=>t.length?[t[0]]:null});function TT(t){let i=t.facet(vN);return i.length?i:t.facet(XQ)}function PT(t,i){let s,o=[OEe];return t instanceof Mm&&(t.module&&o.push(Dn.styleModule.of(t.module)),s=t.themeType),o.push(i?.fallback?XQ.of(t):s?vN.computeN([Dn.darkTheme],a=>a.facet(Dn.darkTheme)==("dark"==s)?[t]:[]):vN.of(t)),o}class PEe{constructor(i){this.markCache=Object.create(null),this.tree=Ki(i.state),this.decorations=this.buildDeco(i,TT(i.state)),this.decoratedTo=i.viewport.to}update(i){let o=Ki(i.state),s=TT(i.state),a=s!=TT(i.startState),{viewport:l}=i.view,c=i.changes.mapPos(this.decoratedTo,1);o.length<l.to&&!a&&o.type==this.tree.type&&c>=l.to?(this.decorations=this.decorations.map(i.changes),this.decoratedTo=c):(o!=this.tree||i.viewportChanged||a)&&(this.tree=o,this.decorations=this.buildDeco(i.view,s),this.decoratedTo=l.to)}buildDeco(i,o){if(!o||!this.tree.length)return Vn.none;let s=new Av;for(let{from:a,to:l}of i.visibleRanges)UX(this.tree,o,(c,u,p)=>{s.add(c,u,this.markCache[p]||(this.markCache[p]=Vn.mark({class:p})))},a,l);return s.finish()}}const OEe=Mv.high(Wo.fromClass(PEe,{decorations:t=>t.decorations})),kEe=Dn.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),YQ=1e4,KQ="()[]{}",QQ=zt.define({combine:t=>bf(t,{afterCursor:!0,brackets:KQ,maxScanDistance:YQ,renderMatch:AEe})}),MEe=Vn.mark({class:"cm-matchingBracket"}),REe=Vn.mark({class:"cm-nonmatchingBracket"});function AEe(t){let i=[],o=t.matched?MEe:REe;return i.push(o.range(t.start.from,t.start.to)),t.end&&i.push(o.range(t.end.from,t.end.to)),i}const IEe=[Xs.define({create:()=>Vn.none,update(t,i){if(!i.docChanged&&!i.selection)return t;let o=[],s=i.state.facet(QQ);for(let a of i.state.selection.ranges){if(!a.empty)continue;let l=Vd(i.state,a.head,-1,s)||a.head>0&&Vd(i.state,a.head-1,1,s)||s.afterCursor&&(Vd(i.state,a.head,1,s)||a.head<i.state.doc.length&&Vd(i.state,a.head+1,-1,s));l&&(o=o.concat(s.renderMatch(l,i.state)))}return Vn.set(o,!0)},provide:t=>Dn.decorations.from(t)}),kEe];function ZQ(t={}){return[QQ.of(t),IEe]}const NEe=new $n;function yN(t,i,o){let s=t.prop(i<0?$n.openedBy:$n.closedBy);if(s)return s;if(1==t.name.length){let a=o.indexOf(t.name);if(a>-1&&a%2==(i<0?1:0))return[o[a+i]]}return null}function bN(t){let i=t.type.prop(NEe);return i?i(t.node):t}function Vd(t,i,o,s={}){let a=s.maxScanDistance||YQ,l=s.brackets||KQ,c=Ki(t),u=c.resolveInner(i,o);for(let p=u;p;p=p.parent){let h=yN(p.type,o,l);if(h&&p.from<p.to){let v=bN(p);if(v&&(o>0?i>=v.from&&i<v.to:i>v.from&&i<=v.to))return LEe(0,0,o,p,v,h,l)}}return function FEe(t,i,o,s,a,l,c){let u=o<0?t.sliceDoc(i-1,i):t.sliceDoc(i,i+1),p=c.indexOf(u);if(p<0||p%2==0!=o>0)return null;let h={from:o<0?i-1:i,to:o>0?i+1:i},v=t.doc.iterRange(i,o>0?t.doc.length:0),y=0;for(let E=0;!v.next().done&&E<=l;){let S=v.value;o<0&&(E+=S.length);let D=i+E*o;for(let k=o>0?0:S.length-1,R=o>0?S.length:-1;k!=R;k+=o){let L=c.indexOf(S[k]);if(!(L<0||s.resolveInner(D+k,1).type!=a))if(L%2==0==o>0)y++;else{if(1==y)return{start:h,end:{from:D+k,to:D+k+1},matched:L>>1==p>>1};y--}}o>0&&(E+=S.length)}return v.done?{start:h,matched:!1}:null}(t,i,o,c,u.type,a,l)}function LEe(t,i,o,s,a,l,c){let u=s.parent,p={from:a.from,to:a.to},h=0,v=u?.cursor();if(v&&(o<0?v.childBefore(s.from):v.childAfter(s.to)))do{if(o<0?v.to<=s.from:v.from>=s.to){if(0==h&&l.indexOf(v.type.name)>-1&&v.from<v.to){let y=bN(v);return{start:p,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}if(yN(v.type,o,c))h++;else if(yN(v.type,-o,c)){if(0==h){let y=bN(v);return{start:p,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}h--}}}while(o<0?v.prevSibling():v.nextSibling());return{start:p,matched:!1}}const EN=Object.create(null),xw=[ss.none],oZ=[],sZ=Object.create(null),aZ=Object.create(null);for(let[t,i]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])aZ[t]=cZ(EN,i);function xN(t,i){oZ.indexOf(t)>-1||(oZ.push(t),console.warn(i))}function cZ(t,i){let o=[];for(let u of i.split(" ")){let p=[];for(let h of u.split(".")){let v=t[h]||ce[h];v?"function"==typeof v?p.length?p=p.map(v):xN(h,`Modifier ${h} used at start of tag`):p.length?xN(h,`Tag ${h} used as modifier`):p=Array.isArray(v)?v:[v]:xN(h,`Unknown highlighting tag ${h}`)}for(let h of p)o.push(h)}if(!o.length)return 0;let s=i.replace(/ /g,"_"),a=s+" "+o.map(u=>u.id),l=sZ[a];if(l)return l.id;let c=sZ[a]=ss.define({id:xw.length,name:s,props:[Hx({[s]:o})]});return xw.push(c),c.id}class fZ{constructor(i,o,s){this.state=i,this.pos=o,this.explicit=s,this.abortListeners=[]}tokenBefore(i){let o=Ki(this.state).resolveInner(this.pos,-1);for(;o&&i.indexOf(o.name)<0;)o=o.parent;return o?{from:o.from,to:this.pos,text:this.state.sliceDoc(o.from,this.pos),type:o.type}:null}matchBefore(i){let o=this.state.doc.lineAt(this.pos),s=Math.max(o.from,this.pos-250),a=o.text.slice(s-o.from,this.pos-o.from),l=a.search(gZ(i,!1));return l<0?null:{from:s+l,to:this.pos,text:a.slice(l)}}get aborted(){return null==this.abortListeners}addEventListener(i,o){"abort"==i&&this.abortListeners&&this.abortListeners.push(o)}}function hZ(t){let i=Object.keys(t).join(""),o=/\w/.test(i);return o&&(i=i.replace(/\w/g,"")),`[${o?"\\w":""}${i.replace(/[^\w\s]/g,"\\$&")}]`}function SN(t){let i=t.map(a=>"string"==typeof a?{label:a}:a),[o,s]=i.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:function YEe(t){let i=Object.create(null),o=Object.create(null);for(let{label:a}of t){i[a[0]]=!0;for(let l=1;l<a.length;l++)o[a[l]]=!0}let s=hZ(i)+hZ(o)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(i);return a=>{let l=a.matchBefore(s);return l||a.explicit?{from:l?l.from:a.pos,options:i,validFor:o}:null}}class mZ{constructor(i,o,s,a){this.completion=i,this.source=o,this.match=s,this.score=a}}function Rm(t){return t.selection.main.from}function gZ(t,i){var o;let{source:s}=t,a=i&&"^"!=s[0],l="$"!=s[s.length-1];return a||l?new RegExp(`${a?"^":""}(?:${s})${l?"$":""}`,null!==(o=t.flags)&&void 0!==o?o:t.ignoreCase?"i":""):t}const CN=yf.define(),vZ=new WeakMap;function QEe(t){if(!Array.isArray(t))return t;let i=vZ.get(t);return i||vZ.set(t,i=SN(t)),i}const OT=Jr.define(),ww=Jr.define();class ZEe{constructor(i){this.pattern=i,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let o=0;o<i.length;){let s=hl(i,o),a=h0(s);this.chars.push(s);let l=i.slice(o,o+a),c=l.toUpperCase();this.folded.push(hl(c==l?l.toLowerCase():c,0)),o+=a}this.astral=i.length!=this.chars.length}ret(i,o){return this.score=i,this.matched=o,this}match(i){if(0==this.pattern.length)return this.ret(-100,[]);if(i.length<this.pattern.length)return null;let{chars:o,folded:s,any:a,precise:l,byWord:c}=this;if(1==o.length){let N=hl(i,0),B=h0(N),$=B==i.length?0:-100;if(N!=o[0]){if(N!=s[0])return null;$+=-200}return this.ret($,[0,B])}let u=i.indexOf(this.pattern);if(0==u)return this.ret(i.length==this.pattern.length?0:-100,[0,this.pattern.length]);let p=o.length,h=0;if(u<0){for(let N=0,B=Math.min(i.length,200);N<B&&h<p;){let $=hl(i,N);($==o[h]||$==s[h])&&(a[h++]=N),N+=h0($)}if(h<p)return null}let v=0,y=0,E=!1,S=0,D=-1,k=-1,R=/[a-z]/.test(i),L=!0;for(let N=0,B=Math.min(i.length,200),$=0;N<B&&y<p;){let q=hl(i,N);u<0&&(v<p&&q==o[v]&&(l[v++]=N),S<p&&(q==o[S]||q==s[S]?(0==S&&(D=N),k=N+1,S++):S=0));let ee,ae=q<255?q>=48&&q<=57||q>=97&&q<=122?2:q>=65&&q<=90?1:0:(ee=tY(q))!=ee.toLowerCase()?1:ee!=ee.toUpperCase()?2:0;(!N||1==ae&&R||0==$&&0!=ae)&&(o[y]==q||s[y]==q&&(E=!0)?c[y++]=N:c.length&&(L=!1)),$=ae,N+=h0(q)}return y==p&&0==c[0]&&L?this.result((E?-200:0)-100,c,i):S==p&&0==D?this.ret(-200-i.length+(k==i.length?0:-100),[0,k]):u>-1?this.ret(-700-i.length,[u,u+this.pattern.length]):S==p?this.ret(-900-i.length,[D,k]):y==p?this.result((E?-200:0)-100-700+(L?0:-1100),c,i):2==o.length?null:this.result((a[0]?-700:0)-200-1100,a,i)}result(i,o,s){let a=[],l=0;for(let c of o){let u=c+(this.astral?h0(hl(s,c)):1);l&&a[l-1]==c?a[l-1]=u:(a[l++]=c,a[l++]=u)}return this.ret(i-s.length,a)}}class JEe{constructor(i){this.pattern=i,this.matched=[],this.score=0,this.folded=i.toLowerCase()}match(i){if(i.length<this.pattern.length)return null;let o=i.slice(0,this.pattern.length),s=o==this.pattern?0:o.toLowerCase()==this.folded?-200:null;return null==s?null:(this.matched=[0,o.length],this.score=s+(i.length==this.pattern.length?0:-100),this)}}const ca=zt.define({combine:t=>bf(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:exe,filterStrict:!1,compareCompletions:(i,o)=>i.label.localeCompare(o.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(i,o)=>i&&o,closeOnBlur:(i,o)=>i&&o,icons:(i,o)=>i&&o,tooltipClass:(i,o)=>s=>yZ(i(s),o(s)),optionClass:(i,o)=>s=>yZ(i(s),o(s)),addToOptions:(i,o)=>i.concat(o),filterStrict:(i,o)=>i||o})});function yZ(t,i){return t?i?t+" "+i:t:i}function exe(t,i,o,s,a,l){let v,y,c=t.textDirection==Fi.RTL,u=c,p=!1,h="top",E=i.left-a.left,S=a.right-i.right,D=s.right-s.left,k=s.bottom-s.top;if(u&&E<Math.min(D,S)?u=!1:!u&&S<Math.min(D,E)&&(u=!0),D<=(u?E:S))v=Math.max(a.top,Math.min(o.top,a.bottom-k))-i.top,y=Math.min(400,u?E:S);else{p=!0,y=Math.min(400,(c?i.right:a.right-i.left)-30);let N=a.bottom-i.bottom;N>=k||N>i.top?v=o.bottom-i.top:(h="bottom",v=i.bottom-o.top)}return{style:`${h}: ${v/((i.bottom-i.top)/l.offsetHeight)}px; max-width: ${y/((i.right-i.left)/l.offsetWidth)}px`,class:"cm-completionInfo-"+(p?c?"left-narrow":"right-narrow":u?"left":"right")}}function DN(t,i,o){if(t<=o)return{from:0,to:t};if(i<0&&(i=0),i<=t>>1){let a=Math.floor(i/o);return{from:a*o,to:(a+1)*o}}let s=Math.floor((t-i)/o);return{from:t-(s+1)*o,to:t-s*o}}class nxe{constructor(i,o,s){this.view=i,this.stateField=o,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:p=>this.placeInfo(p),key:this},this.space=null,this.currentClass="";let a=i.state.field(o),{options:l,selected:c}=a.open,u=i.state.facet(ca);this.optionContent=function txe(t){let i=t.addToOptions.slice();return t.icons&&i.push({render(o){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),o.type&&s.classList.add(...o.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),s.setAttribute("aria-hidden","true"),s},position:20}),i.push({render(o,s,a,l){let c=document.createElement("span");c.className="cm-completionLabel";let u=o.displayLabel||o.label,p=0;for(let h=0;h<l.length;){let v=l[h++],y=l[h++];v>p&&c.appendChild(document.createTextNode(u.slice(p,v)));let E=c.appendChild(document.createElement("span"));E.appendChild(document.createTextNode(u.slice(v,y))),E.className="cm-completionMatchedText",p=y}return p<u.length&&c.appendChild(document.createTextNode(u.slice(p))),c},position:50},{render(o){if(!o.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=o.detail,s},position:80}),i.sort((o,s)=>o.position-s.position).map(o=>o.render)}(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=DN(l.length,c,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(i.state),this.dom.addEventListener("mousedown",p=>{let{options:h}=i.state.field(o).open;for(let y,v=p.target;v&&v!=this.dom;v=v.parentNode)if("LI"==v.nodeName&&(y=/-(\d+)$/.exec(v.id))&&+y[1]<h.length)return this.applyCompletion(i,h[+y[1]]),void p.preventDefault()}),this.dom.addEventListener("focusout",p=>{let h=i.state.field(this.stateField,!1);h&&h.tooltip&&i.state.facet(ca).closeOnBlur&&p.relatedTarget!=i.contentDOM&&i.dispatch({effects:ww.of(null)})}),this.showOptions(l,a.id)}mount(){this.updateSel()}showOptions(i,o){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(i,o,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(i){var o;let s=i.state.field(this.stateField),a=i.startState.field(this.stateField);if(this.updateTooltipClass(i.state),s!=a){let{options:l,selected:c,disabled:u}=s.open;(!a.open||a.open.options!=l)&&(this.range=DN(l.length,c,i.state.facet(ca).maxRenderedOptions),this.showOptions(l,s.id)),this.updateSel(),u!=(null===(o=a.open)||void 0===o?void 0:o.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(i){let o=this.tooltipClass(i);if(o!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of o.split(" "))s&&this.dom.classList.add(s);this.currentClass=o}}positioned(i){this.space=i,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let i=this.view.state.field(this.stateField),o=i.open;if((o.selected>-1&&o.selected<this.range.from||o.selected>=this.range.to)&&(this.range=DN(o.options.length,o.selected,this.view.state.facet(ca).maxRenderedOptions),this.showOptions(o.options,i.id)),this.updateSelectedOption(o.selected)){this.destroyInfo();let{completion:s}=o.options[o.selected],{info:a}=s;if(!a)return;let l="string"==typeof a?document.createTextNode(a):a(s);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==i&&this.addInfoPane(c,s)}).catch(c=>gl(this.view.state,c,"completion info")):this.addInfoPane(l,s)}}addInfoPane(i,o){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",null!=i.nodeType)s.appendChild(i),this.infoDestroy=null;else{let{dom:a,destroy:l}=i;s.appendChild(a),this.infoDestroy=l||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(i){let o=null;for(let s=this.list.firstChild,a=this.range.from;s;s=s.nextSibling,a++)"LI"==s.nodeName&&s.id?a==i?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),o=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected"):a--;return o&&function ixe(t,i){let o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a=o.height/t.offsetHeight;s.top<o.top?t.scrollTop-=(o.top-s.top)/a:s.bottom>o.bottom&&(t.scrollTop+=(s.bottom-o.bottom)/a)}(this.list,o),o}measureInfo(){let i=this.dom.querySelector("[aria-selected]");if(!i||!this.info)return null;let o=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),a=i.getBoundingClientRect(),l=this.space;if(!l){let c=this.dom.ownerDocument.defaultView||window;l={left:0,top:0,right:c.innerWidth,bottom:c.innerHeight}}return a.top>Math.min(l.bottom,o.bottom)-10||a.bottom<Math.max(l.top,o.top)+10?null:this.view.state.facet(ca).positionInfo(this.view,o,a,s,l,this.dom)}placeInfo(i){this.info&&(i?(i.style&&(this.info.style.cssText=i.style),this.info.className="cm-tooltip cm-completionInfo "+(i.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(i,o,s){const a=document.createElement("ul");a.id=o,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions"));let l=null;for(let c=s.from;c<s.to;c++){let{completion:u,match:p}=i[c],{section:h}=u;if(h){let E="string"==typeof h?h:h.name;E!=l&&(c>s.from||0==s.from)&&(l=E,"string"!=typeof h&&h.header?a.appendChild(h.header(h)):a.appendChild(document.createElement("completion-section")).textContent=E)}const v=a.appendChild(document.createElement("li"));v.id=o+"-"+c,v.setAttribute("role","option");let y=this.optionClass(u);y&&(v.className=y);for(let E of this.optionContent){let S=E(u,this.view.state,this.view,p);S&&v.appendChild(S)}}return s.from&&a.classList.add("cm-completionListIncompleteTop"),s.to<i.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function rxe(t,i){return o=>new nxe(o,t,i)}function bZ(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Y3{constructor(i,o,s,a,l,c){this.options=i,this.attrs=o,this.tooltip=s,this.timestamp=a,this.selected=l,this.disabled=c}setSelected(i,o){return i==this.selected||i>=this.options.length?this:new Y3(this.options,_Z(o,i),this.tooltip,this.timestamp,i,this.disabled)}static build(i,o,s,a,l){let c=function oxe(t,i){let o=[],s=null,a=h=>{o.push(h);let{section:v}=h.completion;if(v){s||(s=[]);let y="string"==typeof v?v:v.name;s.some(E=>E.name==y)||s.push("string"==typeof v?{name:y}:v)}},l=i.facet(ca);for(let h of t)if(h.hasResult()){let v=h.result.getMatch;if(!1===h.result.filter)for(let y of h.result.options)a(new mZ(y,h.source,v?v(y):[],1e9-o.length));else{let E,y=i.sliceDoc(h.from,h.to),S=l.filterStrict?new JEe(y):new ZEe(y);for(let D of h.result.options)if(E=S.match(D.label)){let k=D.displayLabel?v?v(D,E.matched):[]:E.matched;a(new mZ(D,h.source,k,E.score+(D.boost||0)))}}}if(s){let h=Object.create(null),v=0,y=(E,S)=>{var D,k;return(null!==(D=E.rank)&&void 0!==D?D:1e9)-(null!==(k=S.rank)&&void 0!==k?k:1e9)||(E.name<S.name?-1:1)};for(let E of s.sort(y))v-=1e5,h[E.name]=v;for(let E of o){let{section:S}=E.completion;S&&(E.score+=h["string"==typeof S?S:S.name])}}let c=[],u=null,p=l.compareCompletions;for(let h of o.sort((v,y)=>y.score-v.score||p(v.completion,y.completion))){let v=h.completion;!u||u.label!=v.label||u.detail!=v.detail||null!=u.type&&null!=v.type&&u.type!=v.type||u.apply!=v.apply||u.boost!=v.boost?c.push(h):bZ(h.completion)>bZ(u)&&(c[c.length-1]=h),u=h.completion}return c}(i,o);if(!c.length)return a&&i.some(p=>1==p.state)?new Y3(a.options,a.attrs,a.tooltip,a.timestamp,a.selected,!0):null;let u=o.facet(ca).selectOnOpen?0:-1;if(a&&a.selected!=u&&-1!=a.selected){let p=a.options[a.selected].completion;for(let h=0;h<c.length;h++)if(c[h].completion==p){u=h;break}}return new Y3(c,_Z(s,u),{pos:i.reduce((p,h)=>h.hasResult()?Math.min(p,h.from):p,1e8),create:uxe,above:l.aboveCursor},a?a.timestamp:Date.now(),u,!1)}map(i){return new Y3(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:i.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class kT{constructor(i,o,s){this.active=i,this.id=o,this.open=s}static start(){return new kT(lxe,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(i){let{state:o}=i,s=o.facet(ca),l=(s.override||o.languageDataAt("autocomplete",Rm(o)).map(QEe)).map(u=>(this.active.find(h=>h.source==u)||new vl(u,this.active.some(h=>0!=h.state)?1:0)).update(i,s));l.length==this.active.length&&l.every((u,p)=>u==this.active[p])&&(l=this.active);let c=this.open;c&&i.docChanged&&(c=c.map(i.changes)),i.selection||l.some(u=>u.hasResult()&&i.changes.touchesRange(u.from,u.to))||!function sxe(t,i){if(t==i)return!0;for(let o=0,s=0;;){for(;o<t.length&&!t[o].hasResult;)o++;for(;s<i.length&&!i[s].hasResult;)s++;let a=o==t.length,l=s==i.length;if(a||l)return a==l;if(t[o++].result!=i[s++].result)return!1}}(l,this.active)?c=Y3.build(l,o,this.id,c,s):c&&c.disabled&&!l.some(u=>1==u.state)&&(c=null),!c&&l.every(u=>1!=u.state)&&l.some(u=>u.hasResult())&&(l=l.map(u=>u.hasResult()?new vl(u.source,0):u));for(let u of i.effects)u.is(PN)&&(c=c&&c.setSelected(u.value,this.id));return l==this.active&&c==this.open?this:new kT(l,this.id,c)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:axe}}const axe={"aria-autocomplete":"list"};function _Z(t,i){let o={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return i>-1&&(o["aria-activedescendant"]=t+"-"+i),o}const lxe=[];function TN(t,i){if(t.isUserEvent("input.complete")){let o=t.annotation(CN);if(o&&i.activateOnCompletion(o))return"input"}return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class vl{constructor(i,o,s=-1){this.source=i,this.state=o,this.explicitPos=s}hasResult(){return!1}update(i,o){let s=TN(i,o),a=this;s?a=a.handleUserEvent(i,s,o):i.docChanged?a=a.handleChange(i):i.selection&&0!=a.state&&(a=new vl(a.source,0));for(let l of i.effects)if(l.is(OT))a=new vl(a.source,1,l.value?Rm(i.state):-1);else if(l.is(ww))a=new vl(a.source,0);else if(l.is(EZ))for(let c of l.value)c.source==a.source&&(a=c);return a}handleUserEvent(i,o,s){return"delete"!=o&&s.activateOnTyping?new vl(this.source,1):this.map(i.changes)}handleChange(i){return i.changes.touchesRange(Rm(i.startState))?new vl(this.source,0):this.map(i.changes)}map(i){return i.empty||this.explicitPos<0?this:new vl(this.source,this.state,i.mapPos(this.explicitPos))}}class K3 extends vl{constructor(i,o,s,a,l){super(i,2,o),this.result=s,this.from=a,this.to=l}hasResult(){return!0}handleUserEvent(i,o,s){var a;let l=this.result;l.map&&!i.changes.empty&&(l=l.map(l,i.changes));let c=i.changes.mapPos(this.from),u=i.changes.mapPos(this.to,1),p=Rm(i.state);if((this.explicitPos<0?p<=c:p<this.from)||p>u||!l||"delete"==o&&Rm(i.startState)==this.from)return new vl(this.source,"input"==o&&s.activateOnTyping?1:0);let h=this.explicitPos<0?-1:i.changes.mapPos(this.explicitPos);return function cxe(t,i,o,s){if(!t)return!1;let a=i.sliceDoc(o,s);return"function"==typeof t?t(a,o,s,i):gZ(t,!0).test(a)}(l.validFor,i.state,c,u)?new K3(this.source,h,l,c,u):l.update&&(l=l.update(l,c,u,new fZ(i.state,p,h>=0)))?new K3(this.source,h,l,l.from,null!==(a=l.to)&&void 0!==a?a:Rm(i.state)):new vl(this.source,1,h)}handleChange(i){return i.changes.touchesRange(this.from,this.to)?new vl(this.source,0):this.map(i.changes)}map(i){return i.empty?this:(this.result.map?this.result.map(this.result,i):this.result)?new K3(this.source,this.explicitPos<0?-1:i.mapPos(this.explicitPos),this.result,i.mapPos(this.from),i.mapPos(this.to,1)):new vl(this.source,0)}}const EZ=Jr.define({map:(t,i)=>t.map(o=>o.map(i))}),PN=Jr.define(),Ys=Xs.define({create:()=>kT.start(),update:(t,i)=>t.update(i),provide:t=>[_T.from(t,i=>i.tooltip),Dn.contentAttributes.from(t,i=>i.attrs)]});function ON(t,i){const o=i.completion.apply||i.completion.label;let s=t.state.field(Ys).active.find(a=>a.source==i.source);return s instanceof K3&&("string"==typeof o?t.dispatch(Object.assign(Object.assign({},function KEe(t,i,o,s){let{main:a}=t.selection,l=o-a.from,c=s-a.from;return Object.assign(Object.assign({},t.changeByRange(u=>u!=a&&o!=s&&t.sliceDoc(u.from+l,u.from+c)!=t.sliceDoc(o,s)?{range:u}:{changes:{from:u.from+l,to:s==a.from?u.to:u.from+c,insert:i},range:lt.cursor(u.from+l+i.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,o,s.from,s.to)),{annotations:CN.of(i.completion)})):o(t,i.completion,s.from,s.to),!0)}const uxe=rxe(Ys,ON);function MT(t,i="option"){return o=>{let s=o.state.field(Ys,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<o.state.facet(ca).interactionDelay)return!1;let l,a=1;"page"==i&&(l=_Q(o,s.open.tooltip))&&(a=Math.max(2,Math.floor(l.dom.offsetHeight/l.dom.querySelector("li").offsetHeight)-1));let{length:c}=s.open.options,u=s.open.selected>-1?s.open.selected+a*(t?1:-1):t?0:c-1;return u<0?u="page"==i?0:c-1:u>=c&&(u="page"==i?c-1:0),o.dispatch({effects:PN.of(u)}),!0}}class hxe{constructor(i,o){this.active=i,this.context=o,this.time=Date.now(),this.updates=[],this.done=void 0}}const vxe=Wo.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let i of t.state.field(Ys).active)1==i.state&&this.startQuery(i)}update(t){let i=t.state.field(Ys),o=t.state.facet(ca);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ys)==i)return;let s=t.transactions.some(l=>(l.selection||l.docChanged)&&!TN(l,o));for(let l=0;l<this.running.length;l++){let c=this.running[l];if(s||c.updates.length+t.transactions.length>50&&Date.now()-c.time>1e3){for(let u of c.context.abortListeners)try{u()}catch(p){gl(this.view.state,p)}c.context.abortListeners=null,this.running.splice(l--,1)}else c.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(l=>l.effects.some(c=>c.is(OT)))&&(this.pendingStart=!0);let a=this.pendingStart?50:o.activateOnTypingDelay;if(this.debounceUpdate=i.active.some(l=>1==l.state&&!this.running.some(c=>c.active.source==l.source))?setTimeout(()=>this.startUpdate(),a):-1,0!=this.composing)for(let l of t.transactions)"input"==TN(l,o)?this.composing=2:2==this.composing&&l.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,i=t.field(Ys);for(let o of i.active)1==o.state&&!this.running.some(s=>s.active.source==o.source)&&this.startQuery(o)}startQuery(t){let{state:i}=this.view,o=Rm(i),s=new fZ(i,o,t.explicitPos==o),a=new hxe(t,s);this.running.push(a),Promise.resolve(t.source(s)).then(l=>{a.context.aborted||(a.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:ww.of(null)}),gl(this.view.state,l)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ca).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let i=[],o=this.view.state.facet(ca);for(let s=0;s<this.running.length;s++){let a=this.running[s];if(void 0===a.done)continue;if(this.running.splice(s--,1),a.done){let c=new K3(a.active.source,a.active.explicitPos,a.done,a.done.from,null!==(t=a.done.to)&&void 0!==t?t:Rm(a.updates.length?a.updates[0].startState:this.view.state));for(let u of a.updates)c=c.update(u,o);if(c.hasResult()){i.push(c);continue}}let l=this.view.state.field(Ys).active.find(c=>c.source==a.active.source);if(l&&1==l.state)if(null==a.done){let c=new vl(a.active.source,0);for(let u of a.updates)c=c.update(u,o);1!=c.state&&i.push(c)}else this.startQuery(l)}i.length&&this.view.dispatch({effects:EZ.of(i)})}},{eventHandlers:{blur(t){let i=this.view.state.field(Ys,!1);if(i&&i.tooltip&&this.view.state.facet(ca).closeOnBlur){let o=i.open&&_Q(this.view,i.open.tooltip);(!o||!o.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ww.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:OT.of(!1)}),20),this.composing=0}}}),yxe="object"==typeof navigator&&/Win/.test(navigator.platform),bxe=Mv.highest(Dn.domEventHandlers({keydown(t,i){let o=i.state.field(Ys,!1);if(!o||!o.open||o.open.disabled||o.open.selected<0||t.key.length>1||t.ctrlKey&&(!yxe||!t.altKey)||t.metaKey)return!1;let s=o.open.options[o.open.selected],a=o.active.find(c=>c.source==s.source),l=s.completion.commitCharacters||a.result.commitCharacters;return l&&l.indexOf(t.key)>-1&&ON(i,s),!1}})),xZ=Dn.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class _xe{constructor(i,o,s,a){this.field=i,this.line=o,this.from=s,this.to=a}}class kN{constructor(i,o,s){this.field=i,this.from=o,this.to=s}map(i){let o=i.mapPos(this.from,-1,sa.TrackDel),s=i.mapPos(this.to,1,sa.TrackDel);return null==o||null==s?null:new kN(this.field,o,s)}}class MN{constructor(i,o){this.lines=i,this.fieldPositions=o}instantiate(i,o){let s=[],a=[o],l=i.doc.lineAt(o),c=/^\s*/.exec(l.text)[0];for(let p of this.lines){if(s.length){let h=c,v=/^\t*/.exec(p)[0].length;for(let y=0;y<v;y++)h+=i.facet(ST);a.push(o+h.length-v),p=h+p.slice(v)}s.push(p),o+=p.length+1}return{text:s,ranges:this.fieldPositions.map(p=>new kN(p.field,a[p.line]+p.from,a[p.line]+p.to))}}static parse(i){let l,o=[],s=[],a=[];for(let c of i.split(/\r\n?|\n/)){for(;l=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(c);){let u=l[1]?+l[1]:null,p=l[2]||l[3]||"",h=-1;for(let v=0;v<o.length;v++)(null!=u?o[v].seq==u:p&&o[v].name==p)&&(h=v);if(h<0){let v=0;for(;v<o.length&&(null==u||null!=o[v].seq&&o[v].seq<u);)v++;o.splice(v,0,{seq:u,name:p}),h=v;for(let y of a)y.field>=h&&y.field++}a.push(new _xe(h,s.length,l.index,l.index+p.length)),c=c.slice(0,l.index)+p+c.slice(l.index+l[0].length)}for(let u;u=/\\([{}])/.exec(c);){c=c.slice(0,u.index)+u[1]+c.slice(u.index+u[0].length);for(let p of a)p.line==s.length&&p.from>u.index&&(p.from--,p.to--)}s.push(c)}return new MN(s,a)}}let Exe=Vn.widget({widget:new class extends Fd{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),xxe=Vn.mark({class:"cm-snippetField"});class Q3{constructor(i,o){this.ranges=i,this.active=o,this.deco=Vn.set(i.map(s=>(s.from==s.to?Exe:xxe).range(s.from,s.to)))}map(i){let o=[];for(let s of this.ranges){let a=s.map(i);if(!a)return null;o.push(a)}return new Q3(o,this.active)}selectionInsideField(i){return i.ranges.every(o=>this.ranges.some(s=>s.field==this.active&&s.from<=o.from&&s.to>=o.to))}}const Sw=Jr.define({map:(t,i)=>t&&t.map(i)}),wxe=Jr.define(),jv=Xs.define({create:()=>null,update(t,i){for(let o of i.effects){if(o.is(Sw))return o.value;if(o.is(wxe)&&t)return new Q3(t.ranges,o.value)}return t&&i.docChanged&&(t=t.map(i.changes)),t&&i.selection&&!t.selectionInsideField(i.selection)&&(t=null),t},provide:t=>Dn.decorations.from(t,i=>i?i.deco:Vn.none)});function RN(t,i){return lt.create(t.filter(o=>o.field==i).map(o=>lt.range(o.from,o.to)))}function Sxe(t){let i=MN.parse(t);return(o,s,a,l)=>{let{text:c,ranges:u}=i.instantiate(o.state,a),p={changes:{from:a,to:l,insert:Zr.of(c)},scrollIntoView:!0,annotations:s?[CN.of(s),m0.userEvent.of("input.complete")]:void 0};if(u.length&&(p.selection=RN(u,0)),u.some(h=>h.field>0)){let h=new Q3(u,0),v=p.effects=[Sw.of(h)];void 0===o.state.field(jv,!1)&&v.push(Jr.appendConfig.of([jv,Oxe,kxe,xZ]))}o.dispatch(o.state.update(p))}}function wZ(t){return({state:i,dispatch:o})=>{let s=i.field(jv,!1);if(!s||t<0&&0==s.active)return!1;let a=s.active+t,l=t>0&&!s.ranges.some(c=>c.field==a+t);return o(i.update({selection:RN(s.ranges,a),effects:Sw.of(l?null:new Q3(s.ranges,a)),scrollIntoView:!0})),!0}}const Pxe=[{key:"Tab",run:wZ(1),shift:wZ(-1)},{key:"Escape",run:({state:t,dispatch:i})=>!!t.field(jv,!1)&&(i(t.update({effects:Sw.of(null)})),!0)}],SZ=zt.define({combine:t=>t.length?t[0]:Pxe}),Oxe=Mv.highest(cw.compute([SZ],t=>t.facet(SZ)));function $v(t,i){return Object.assign(Object.assign({},i),{apply:Sxe(t)})}const kxe=Dn.domEventHandlers({mousedown(t,i){let s,o=i.state.field(jv,!1);if(!o||null==(s=i.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let a=o.ranges.find(l=>l.from<=s&&l.to>=s);return!(!a||a.field==o.active||(i.dispatch({selection:RN(o.ranges,a.field),effects:Sw.of(o.ranges.some(l=>l.field>a.field)?new Q3(o.ranges,a.field):null),scrollIntoView:!0}),0))}}),Cw={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Vv=Jr.define({map:(t,i)=>i.mapPos(t,-1,sa.TrackAfter)??void 0}),AN=new class extends Rv{};AN.startSide=1,AN.endSide=-1;const OZ=Xs.define({create:()=>Mo.empty,update(t,i){if(t=t.map(i.changes),i.selection){let o=i.state.doc.lineAt(i.selection.main.head);t=t.update({filter:s=>s>=o.from&&s<=o.to})}for(let o of i.effects)o.is(Vv)&&(t=t.update({add:[AN.range(o.value,o.value+1)]}));return t}});function kZ(){return[Ixe,OZ]}const IN="()[]{}<>";function MZ(t){for(let i=0;i<8;i+=2)if(IN.charCodeAt(i)==t)return IN.charAt(i+1);return tY(t<128?t:t+1)}const Axe="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Ixe=Dn.inputHandler.of((t,i,o,s)=>{if((Axe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let a=t.state.selection.main;if(s.length>2||2==s.length&&1==h0(hl(s,0))||i!=a.from||o!=a.to)return!1;let l=function Nxe(t,i){let o=function RZ(t,i){return t.languageDataAt("closeBrackets",i)[0]||Cw}(t,t.selection.main.head),s=o.brackets||Cw.brackets;for(let a of s){let l=MZ(hl(a,0));if(i==a)return l==a?jxe(t,a,s.indexOf(a+a+a)>-1,o):Fxe(t,a,l,o.before||Cw.before);if(i==l&&AZ(t,t.selection.main.from))return Bxe(t,0,l)}return null}(t.state,s);return!!l&&(t.dispatch(l),!0)});function AZ(t,i){let o=!1;return t.field(OZ).between(0,t.doc.length,s=>{s==i&&(o=!0)}),o}function RT(t,i){let o=t.sliceString(i,i+2);return o.slice(0,h0(hl(o,0)))}function Fxe(t,i,o,s){let a=null,l=t.changeByRange(c=>{if(!c.empty)return{changes:[{insert:i,from:c.from},{insert:o,from:c.to}],effects:Vv.of(c.to+i.length),range:lt.range(c.anchor+i.length,c.head+i.length)};let u=RT(t.doc,c.head);return!u||/\s/.test(u)||s.indexOf(u)>-1?{changes:{insert:i+o,from:c.head},effects:Vv.of(c.head+i.length),range:lt.cursor(c.head+i.length)}:{range:a=c}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function Bxe(t,i,o){let s=null,a=t.changeByRange(l=>l.empty&&RT(t.doc,l.head)==o?{changes:{from:l.head,to:l.head+o.length,insert:o},range:lt.cursor(l.head+o.length)}:s={range:l});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function jxe(t,i,o,s){let a=s.stringPrefixes||Cw.stringPrefixes,l=null,c=t.changeByRange(u=>{if(!u.empty)return{changes:[{insert:i,from:u.from},{insert:i,from:u.to}],effects:Vv.of(u.to+i.length),range:lt.range(u.anchor+i.length,u.head+i.length)};let v,p=u.head,h=RT(t.doc,p);if(h==i){if(IZ(t,p))return{changes:{insert:i+i,from:p},effects:Vv.of(p+i.length),range:lt.cursor(p+i.length)};if(AZ(t,p)){let E=o&&t.sliceDoc(p,p+3*i.length)==i+i+i?i+i+i:i;return{changes:{from:p,to:p+E.length,insert:E},range:lt.cursor(p+E.length)}}}else{if(o&&t.sliceDoc(p-2*i.length,p)==i+i&&(v=NZ(t,p-2*i.length,a))>-1&&IZ(t,v))return{changes:{insert:i+i+i+i,from:p},effects:Vv.of(p+i.length),range:lt.cursor(p+i.length)};if(t.charCategorizer(p)(h)!=su.Word&&NZ(t,p,a)>-1&&!function $xe(t,i,o,s){let a=Ki(t).resolveInner(i,-1),l=s.reduce((c,u)=>Math.max(c,u.length),0);for(let c=0;c<5;c++){let u=t.sliceDoc(a.from,Math.min(a.to,a.from+o.length+l)),p=u.indexOf(o);if(!p||p>-1&&s.indexOf(u.slice(0,p))>-1){let v=a.firstChild;for(;v&&v.from==a.from&&v.to-v.from>o.length+p;){if(t.sliceDoc(v.to-o.length,v.to)==o)return!1;v=v.firstChild}return!0}let h=a.to==i&&a.parent;if(!h)break;a=h}return!1}(t,p,i,a))return{changes:{insert:i+i,from:p},effects:Vv.of(p+i.length),range:lt.cursor(p+i.length)}}return{range:l=u}});return l?null:t.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function IZ(t,i){let o=Ki(t).resolveInner(i+1);return o.parent&&o.from==i}function NZ(t,i,o){let s=t.charCategorizer(i);if(s(t.sliceDoc(i-1,i))!=su.Word)return i;for(let a of o){let l=i-a.length;if(t.sliceDoc(l,i)==a&&s(t.sliceDoc(l-1,l))!=su.Word)return l}return-1}function Vxe(t={}){return[bxe,Ys,ca.of(t),vxe,Hxe,xZ]}const zxe=[{key:"Ctrl-Space",run:t=>!!t.state.field(Ys,!1)&&(t.dispatch({effects:OT.of(!0)}),!0)},{key:"Escape",run:t=>{let i=t.state.field(Ys,!1);return!(!i||!i.active.some(o=>0!=o.state)||(t.dispatch({effects:ww.of(null)}),0))}},{key:"ArrowDown",run:MT(!0)},{key:"ArrowUp",run:MT(!1)},{key:"PageDown",run:MT(!0,"page")},{key:"PageUp",run:MT(!1,"page")},{key:"Enter",run:t=>{let i=t.state.field(Ys,!1);return!(t.state.readOnly||!i||!i.open||i.open.selected<0||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(ca).interactionDelay)&&ON(t,i.open.options[i.open.selected])}}],Hxe=Mv.highest(cw.computeN([ca],t=>t.facet(ca).defaultKeymap?[zxe]:[]));function NN(t,i){return({state:o,dispatch:s})=>{if(o.readOnly)return!1;let a=t(i,o);return!!a&&(s(o.update(a)),!0)}}const Gxe=NN(Kxe,0),qxe=NN(FZ,0),Wxe=NN((t,i)=>FZ(t,i,function Yxe(t){let i=[];for(let o of t.selection.ranges){let s=t.doc.lineAt(o.from),a=o.to<=s.to?s:t.doc.lineAt(o.to),l=i.length-1;l>=0&&i[l].to>s.from?i[l].to=a.to:i.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:a.to})}return i}(i)),0);function LN(t,i){let o=t.languageDataAt("commentTokens",i);return o.length?o[0]:{}}const Dw=50;function FZ(t,i,o=i.selection.ranges){let s=o.map(l=>LN(i,l.from).block);if(!s.every(l=>l))return null;let a=o.map((l,c)=>function Xxe(t,{open:i,close:o},s,a){let v,y,l=t.sliceDoc(s-Dw,s),c=t.sliceDoc(a,a+Dw),u=/\s*$/.exec(l)[0].length,p=/^\s*/.exec(c)[0].length,h=l.length-u;if(l.slice(h-i.length,h)==i&&c.slice(p,p+o.length)==o)return{open:{pos:s-u,margin:u&&1},close:{pos:a+p,margin:p&&1}};a-s<=2*Dw?v=y=t.sliceDoc(s,a):(v=t.sliceDoc(s,s+Dw),y=t.sliceDoc(a-Dw,a));let E=/^\s*/.exec(v)[0].length,S=/\s*$/.exec(y)[0].length,D=y.length-S-o.length;return v.slice(E,E+i.length)==i&&y.slice(D,D+o.length)==o?{open:{pos:s+E+i.length,margin:/\s/.test(v.charAt(E+i.length))?1:0},close:{pos:a-S-o.length,margin:/\s/.test(y.charAt(D-1))?1:0}}:null}(i,s[c],l.from,l.to));if(2!=t&&!a.every(l=>l))return{changes:i.changes(o.map((l,c)=>a[c]?[]:[{from:l.from,insert:s[c].open+" "},{from:l.to,insert:" "+s[c].close}]))};if(1!=t&&a.some(l=>l)){let l=[];for(let u,c=0;c<a.length;c++)if(u=a[c]){let p=s[c],{open:h,close:v}=u;l.push({from:h.pos-p.open.length,to:h.pos+h.margin},{from:v.pos-v.margin,to:v.pos+p.close.length})}return{changes:l}}return null}function Kxe(t,i,o=i.selection.ranges){let s=[],a=-1;for(let{from:l,to:c}of o){let u=s.length,p=1e9,h=LN(i,l).line;if(h){for(let v=l;v<=c;){let y=i.doc.lineAt(v);if(y.from>a&&(l==c||c>y.from)){a=y.from;let E=/^\s*/.exec(y.text)[0].length,S=E==y.length,D=y.text.slice(E,E+h.length)==h?E:-1;E<y.text.length&&E<p&&(p=E),s.push({line:y,comment:D,token:h,indent:E,empty:S,single:!1})}v=y.to+1}if(p<1e9)for(let v=u;v<s.length;v++)s[v].indent<s[v].line.text.length&&(s[v].indent=p);s.length==u+1&&(s[u].single=!0)}}if(2!=t&&s.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:u,token:p,indent:h,empty:v,single:y}of s)(y||!v)&&l.push({from:u.from+h,insert:p+" "});let c=i.changes(l);return{changes:c,selection:i.selection.map(c,1)}}if(1!=t&&s.some(l=>l.comment>=0)){let l=[];for(let{line:c,comment:u,token:p}of s)if(u>=0){let h=c.from+u,v=h+p.length;" "==c.text[v-c.from]&&v++,l.push({from:h,to:v})}return{changes:l}}return null}function Z3(t,i){return lt.create(t.ranges.map(i),t.mainIndex)}function zd(t,i){return t.update({selection:i,scrollIntoView:!0,userEvent:"select"})}function cu({state:t,dispatch:i},o){let s=Z3(t.selection,o);return!s.eq(t.selection,!0)&&(i(zd(t,s)),!0)}function Tw(t,i){return lt.cursor(i?t.to:t.from)}function NT(t,i){return cu(t,o=>o.empty?t.moveByChar(o,i):Tw(o,i))}function Fa(t){return t.textDirectionAt(t.state.selection.main.head)==Fi.LTR}const zZ=t=>NT(t,!Fa(t)),HZ=t=>NT(t,Fa(t));function LT(t,i){return cu(t,o=>o.empty?t.moveByGroup(o,i):Tw(o,i))}function cwe(t,i,o){if(i.type.prop(o))return!0;let s=i.to-i.from;return s&&(s>2||/[^\s,.;:]/.test(t.sliceDoc(i.from,i.to)))||i.firstChild}function FT(t,i,o){let c,u,s=Ki(t).resolveInner(i.head),a=o?$n.closedBy:$n.openedBy;for(let p=i.head;;){let h=o?s.childAfter(p):s.childBefore(p);if(!h)break;cwe(t,h,a)?s=h:p=o?h.to:h.from}return u=s.type.prop(a)&&(c=o?Vd(t,s.from,1):Vd(t,s.to,-1))&&c.matched?o?c.end.to:c.end.from:o?s.to:s.from,lt.cursor(u,o?-1:1)}function WZ(t,i){return cu(t,o=>{if(!o.empty)return Tw(o,i);let s=t.moveVertically(o,i);return s.head!=o.head?s:t.moveToLineBoundary(o,i)})}typeof Intl<"u"&&Intl;const XZ=t=>WZ(t,!1),YZ=t=>WZ(t,!0);function KZ(t){let a,i=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,o=0,s=0;if(i){for(let l of t.state.facet(Dn.scrollMargins)){let c=l(t);c?.top&&(o=Math.max(c?.top,o)),c?.bottom&&(s=Math.max(c?.bottom,s))}a=t.scrollDOM.clientHeight-o-s}else a=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:o,marginBottom:s,selfScroll:i,height:Math.max(t.defaultLineHeight,a-5)}}function QZ(t,i){let l,o=KZ(t),{state:s}=t,a=Z3(s.selection,c=>c.empty?t.moveVertically(c,i,o.height):Tw(c,i));if(a.eq(s.selection))return!1;if(o.selfScroll){let c=t.coordsAtPos(s.selection.main.head),u=t.scrollDOM.getBoundingClientRect(),p=u.top+o.marginTop;c&&c.top>p&&c.bottom<u.bottom-o.marginBottom&&(l=Dn.scrollIntoView(a.main.head,{y:"start",yMargin:c.top-p}))}return t.dispatch(zd(s,a),{effects:l}),!0}const ZZ=t=>QZ(t,!1),zN=t=>QZ(t,!0);function Am(t,i,o){let s=t.lineBlockAt(i.head),a=t.moveToLineBoundary(i,o);if(a.head==i.head&&a.head!=(o?s.to:s.from)&&(a=t.moveToLineBoundary(i,o,!1)),!o&&a.head==s.from&&s.length){let l=/^\s*/.exec(t.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;l&&i.head!=s.from+l&&(a=lt.cursor(s.from+l))}return a}function Dc(t,i){let o=Z3(t.state.selection,s=>{let a=i(s);return lt.range(s.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return!o.eq(t.state.selection)&&(t.dispatch(zd(t.state,o)),!0)}function BT(t,i){return Dc(t,o=>t.moveByChar(o,i))}const eJ=t=>BT(t,!Fa(t)),tJ=t=>BT(t,Fa(t));function jT(t,i){return Dc(t,o=>t.moveByGroup(o,i))}function rJ(t,i){return Dc(t,o=>t.moveVertically(o,i))}const iJ=t=>rJ(t,!1),oJ=t=>rJ(t,!0);function sJ(t,i){return Dc(t,o=>t.moveVertically(o,i,KZ(t).height))}const aJ=t=>sJ(t,!1),lJ=t=>sJ(t,!0),cJ=({state:t,dispatch:i})=>(i(zd(t,{anchor:0})),!0),uJ=({state:t,dispatch:i})=>(i(zd(t,{anchor:t.doc.length})),!0),dJ=({state:t,dispatch:i})=>(i(zd(t,{anchor:t.selection.main.anchor,head:0})),!0),pJ=({state:t,dispatch:i})=>(i(zd(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function J3(t,i){if(t.state.readOnly)return!1;let o="delete.selection",{state:s}=t,a=s.changeByRange(l=>{let{from:c,to:u}=l;if(c==u){let p=i(l);p<c?(o="delete.backward",p=$T(t,p,!1)):p>c&&(o="delete.forward",p=$T(t,p,!0)),c=Math.min(c,p),u=Math.max(u,p)}else c=$T(t,c,!1),u=$T(t,u,!0);return c==u?{range:l}:{changes:{from:c,to:u},range:lt.cursor(c,c<l.head?-1:1)}});return!a.changes.empty&&(t.dispatch(s.update(a,{scrollIntoView:!0,userEvent:o,effects:"delete.selection"==o?Dn.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function $T(t,i,o){if(t instanceof Dn)for(let s of t.state.facet(Dn.atomicRanges).map(a=>a(t)))s.between(i,i,(a,l)=>{a<i&&l>i&&(i=o?l:a)});return i}const fJ=(t,i)=>J3(t,o=>{let c,u,s=o.from,{state:a}=t,l=a.doc.lineAt(s);if(!i&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,s-l.from))){if("\t"==c[c.length-1])return s-1;let h=YD(c,a.tabSize)%Bv(a)||Bv(a);for(let v=0;v<h&&" "==c[c.length-1-v];v++)s--;u=s}else u=fl(l.text,s-l.from,i,i)+l.from,u==s&&l.number!=(i?a.doc.lines:1)?u+=i?1:-1:!i&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,s-l.from))&&(u=fl(l.text,u-l.from,!1,!1)+l.from);return u}),HN=t=>fJ(t,!1),hJ=t=>fJ(t,!0),mJ=(t,i)=>J3(t,o=>{let s=o.head,{state:a}=t,l=a.doc.lineAt(s),c=a.charCategorizer(s);for(let u=null;;){if(s==(i?l.to:l.from)){s==o.head&&l.number!=(i?a.doc.lines:1)&&(s+=i?1:-1);break}let p=fl(l.text,s-l.from,i)+l.from,h=l.text.slice(Math.min(s,p)-l.from,Math.max(s,p)-l.from),v=c(h);if(null!=u&&v!=u)break;(" "!=h||s!=o.head)&&(u=v),s=p}return s}),gJ=t=>mJ(t,!1);function VT(t){let i=[],o=-1;for(let s of t.selection.ranges){let a=t.doc.lineAt(s.from),l=t.doc.lineAt(s.to);if(!s.empty&&s.to==l.from&&(l=t.doc.lineAt(s.to-1)),o>=a.number){let c=i[i.length-1];c.to=l.to,c.ranges.push(s)}else i.push({from:a.from,to:l.to,ranges:[s]});o=l.number+1}return i}function vJ(t,i,o){if(t.readOnly)return!1;let s=[],a=[];for(let l of VT(t)){if(o?l.to==t.doc.length:0==l.from)continue;let c=t.doc.lineAt(o?l.to+1:l.from-1),u=c.length+1;if(o){s.push({from:l.to,to:c.to},{from:l.from,insert:c.text+t.lineBreak});for(let p of l.ranges)a.push(lt.range(Math.min(t.doc.length,p.anchor+u),Math.min(t.doc.length,p.head+u)))}else{s.push({from:c.from,to:l.from},{from:l.to,insert:t.lineBreak+c.text});for(let p of l.ranges)a.push(lt.range(p.anchor-u,p.head-u))}}return!!s.length&&(i(t.update({changes:s,scrollIntoView:!0,selection:lt.create(a,t.selection.mainIndex),userEvent:"move.line"})),!0)}function yJ(t,i,o){if(t.readOnly)return!1;let s=[];for(let a of VT(t))s.push(o?{from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}:{from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});return i(t.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Gwe=bJ(!1);function bJ(t){return({state:i,dispatch:o})=>{if(i.readOnly)return!1;let s=i.changeByRange(a=>{let{from:l,to:c}=a,u=i.doc.lineAt(l),p=!t&&l==c&&function Uwe(t,i){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(i-1,i+1)))return{from:i,to:i};let l,o=Ki(t).resolveInner(i),s=o.childBefore(i),a=o.childAfter(i);return s&&a&&s.to<=i&&a.from>=i&&(l=s.type.prop($n.closedBy))&&l.indexOf(a.name)>-1&&t.doc.lineAt(s.to).from==t.doc.lineAt(a.from).from&&!/\S/.test(t.sliceDoc(s.to,a.from))?{from:s.to,to:a.from}:null}(i,l);t&&(l=c=(c<=u.to?u:i.doc.lineAt(c)).to);let h=new vw(i,{simulateBreak:l,simulateDoubleBreak:!!p}),v=CT(h,l);for(null==v&&(v=YD(/^\s*/.exec(i.doc.lineAt(l).text)[0],i.tabSize));c<u.to&&/\s/.test(u.text[c-u.from]);)c++;p?({from:l,to:c}=p):l>u.from&&l<u.from+100&&!/\S/.test(u.text.slice(0,l))&&(l=u.from);let y=["",W3(i,v)];return p&&y.push(W3(i,h.lineIndent(u.from,-1))),{changes:{from:l,to:c,insert:Zr.of(y)},range:lt.cursor(l+1+y[1].length)}});return o(i.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function UN(t,i){let o=-1;return t.changeByRange(s=>{let a=[];for(let c=s.from;c<=s.to;){let u=t.doc.lineAt(c);u.number>o&&(s.empty||s.to>u.from)&&(i(u,a,s),o=u.number),c=u.to+1}let l=t.changes(a);return{changes:a,range:lt.range(l.mapPos(s.anchor,1),l.mapPos(s.head,1))}})}const EJ=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>cu(t,i=>FT(t.state,i,!Fa(t))),shift:t=>Dc(t,i=>FT(t.state,i,!Fa(t)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>cu(t,i=>FT(t.state,i,Fa(t))),shift:t=>Dc(t,i=>FT(t.state,i,Fa(t)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:i})=>vJ(t,i,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:i})=>yJ(t,i,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:i})=>vJ(t,i,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:i})=>yJ(t,i,!0)},{key:"Escape",run:({state:t,dispatch:i})=>{let o=t.selection,s=null;return o.ranges.length>1?s=lt.create([o.main]):o.main.empty||(s=lt.create([lt.cursor(o.main.head)])),!!s&&(i(zd(t,s)),!0)}},{key:"Mod-Enter",run:bJ(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:i})=>{let o=VT(t).map(({from:s,to:a})=>lt.range(s,Math.min(a+1,t.doc.length)));return i(t.update({selection:lt.create(o),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:i})=>{let o=Z3(t.selection,s=>{var a;for(let c=Ki(t).resolveStack(s.from,1);c;c=c.next){let{node:u}=c;if((u.from<s.from&&u.to>=s.to||u.to>s.to&&u.from<=s.from)&&null!==(a=u.parent)&&void 0!==a&&a.parent)return lt.range(u.to,u.from)}return s});return i(zd(t,o)),!0},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:i})=>!t.readOnly&&(i(t.update(UN(t,(o,s)=>{let a=/^\s*/.exec(o.text)[0];if(!a)return;let l=YD(a,t.tabSize),c=0,u=W3(t,Math.max(0,l-Bv(t)));for(;c<a.length&&c<u.length&&a.charCodeAt(c)==u.charCodeAt(c);)c++;s.push({from:o.from+c,to:o.from+a.length,insert:u.slice(c)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:i})=>!t.readOnly&&(i(t.update(UN(t,(o,s)=>{s.push({from:o.from,insert:t.facet(ST)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:i})=>{if(t.readOnly)return!1;let o=Object.create(null),s=new vw(t,{overrideIndentation:l=>o[l]??-1}),a=UN(t,(l,c,u)=>{let p=CT(s,l.from);if(null==p)return;/\S/.test(l.text)||(p=0);let h=/^\s*/.exec(l.text)[0],v=W3(t,p);(h!=v||u.from<l.from+h.length)&&(o[l.from]=p,c.push({from:l.from,to:l.from+h.length,insert:v}))});return a.changes.empty||i(t.update(a,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:i}=t,o=i.changes(VT(i).map(({from:a,to:l})=>(a>0?a--:l<i.doc.length&&l++,{from:a,to:l}))),s=Z3(i.selection,a=>t.moveVertically(a,!0)).map(o);return t.dispatch({changes:o,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:i})=>function JZ(t,i,o){let s=!1,a=Z3(t.selection,l=>{let c=Vd(t,l.head,-1)||Vd(t,l.head,1)||l.head>0&&Vd(t,l.head-1,1)||l.head<t.doc.length&&Vd(t,l.head+1,-1);if(!c||!c.end)return l;s=!0;let u=c.start.from==l.head?c.end.to:c.end.from;return o?lt.range(l.anchor,u):lt.cursor(u)});return!!s&&(i(zd(t,a)),!0)}(t,i,!1)},{key:"Mod-/",run:t=>{let{state:i}=t,o=i.doc.lineAt(i.selection.main.from),s=LN(t.state,o.from);return s.line?Gxe(t):!!s.block&&Wxe(t)}},{key:"Alt-A",run:qxe}].concat([{key:"ArrowLeft",run:zZ,shift:eJ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>LT(t,!Fa(t)),shift:t=>jT(t,!Fa(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>cu(t,i=>Am(t,i,!Fa(t))),shift:t=>Dc(t,i=>Am(t,i,!Fa(t))),preventDefault:!0},{key:"ArrowRight",run:HZ,shift:tJ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>LT(t,Fa(t)),shift:t=>jT(t,Fa(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>cu(t,i=>Am(t,i,Fa(t))),shift:t=>Dc(t,i=>Am(t,i,Fa(t))),preventDefault:!0},{key:"ArrowUp",run:XZ,shift:iJ,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cJ,shift:dJ},{mac:"Ctrl-ArrowUp",run:ZZ,shift:aJ},{key:"ArrowDown",run:YZ,shift:oJ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:uJ,shift:pJ},{mac:"Ctrl-ArrowDown",run:zN,shift:lJ},{key:"PageUp",run:ZZ,shift:aJ},{key:"PageDown",run:zN,shift:lJ},{key:"Home",run:t=>cu(t,i=>Am(t,i,!1)),shift:t=>Dc(t,i=>Am(t,i,!1)),preventDefault:!0},{key:"Mod-Home",run:cJ,shift:dJ},{key:"End",run:t=>cu(t,i=>Am(t,i,!0)),shift:t=>Dc(t,i=>Am(t,i,!0)),preventDefault:!0},{key:"Mod-End",run:uJ,shift:pJ},{key:"Enter",run:Gwe},{key:"Mod-a",run:({state:t,dispatch:i})=>(i(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:HN,shift:HN},{key:"Delete",run:hJ},{key:"Mod-Backspace",mac:"Alt-Backspace",run:gJ},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>mJ(t,!0)},{mac:"Mod-Backspace",run:t=>J3(t,i=>{let o=t.moveToLineBoundary(i,!1).head;return i.head>o?o:Math.max(0,i.head-1)})},{mac:"Mod-Delete",run:t=>J3(t,i=>{let o=t.moveToLineBoundary(i,!0).head;return i.head<o?o:Math.min(t.state.doc.length,i.head+1)})}].concat([{key:"Ctrl-b",run:zZ,shift:eJ,preventDefault:!0},{key:"Ctrl-f",run:HZ,shift:tJ},{key:"Ctrl-p",run:XZ,shift:iJ},{key:"Ctrl-n",run:YZ,shift:oJ},{key:"Ctrl-a",run:t=>cu(t,i=>lt.cursor(t.lineBlockAt(i.head).from,1)),shift:t=>Dc(t,i=>lt.cursor(t.lineBlockAt(i.head).from))},{key:"Ctrl-e",run:t=>cu(t,i=>lt.cursor(t.lineBlockAt(i.head).to,-1)),shift:t=>Dc(t,i=>lt.cursor(t.lineBlockAt(i.head).to))},{key:"Ctrl-d",run:hJ},{key:"Ctrl-h",run:HN},{key:"Ctrl-k",run:t=>J3(t,i=>{let o=t.lineBlockAt(i.head).to;return i.head<o?o:Math.min(t.state.doc.length,i.head+1)})},{key:"Ctrl-Alt-h",run:gJ},{key:"Ctrl-o",run:({state:t,dispatch:i})=>{if(t.readOnly)return!1;let o=t.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:Zr.of(["",""])},range:lt.cursor(s.from)}));return i(t.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:i})=>{if(t.readOnly)return!1;let o=t.changeByRange(s=>{if(!s.empty||0==s.from||s.from==t.doc.length)return{range:s};let a=s.from,l=t.doc.lineAt(a),c=a==l.from?a-1:fl(l.text,a-l.from,!1)+l.from,u=a==l.to?a+1:fl(l.text,a-l.from,!0)+l.from;return{changes:{from:c,to:u,insert:t.doc.slice(a,u).append(t.doc.slice(c,a))},range:lt.cursor(u)}});return!o.changes.empty&&(i(t.update(o,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:zN}].map(t=>({mac:t.key,run:t.run,shift:t.shift}))));function Hd(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var i=1,o=arguments[1];if(o&&"object"==typeof o&&null==o.nodeType&&!Array.isArray(o)){for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){var a=o[s];"string"==typeof a?t.setAttribute(s,a):null!=a&&(t[s]=a)}i++}for(;i<arguments.length;i++)xJ(t,arguments[i]);return t}function xJ(t,i){if("string"==typeof i)t.appendChild(document.createTextNode(i));else if(null!=i)if(null!=i.nodeType)t.appendChild(i);else{if(!Array.isArray(i))throw new RangeError("Unsupported child node: "+i);for(var o=0;o<i.length;o++)xJ(t,i[o])}}class Kwe{constructor(i,o,s){this.from=i,this.to=o,this.diagnostic=s}}class zv{constructor(i,o,s){this.diagnostics=i,this.panel=o,this.selected=s}static init(i,o,s){let a=i,l=s.facet(Hv).markerFilter;l&&(a=l(a,s));let c=Vn.set(a.map(u=>u.from==u.to||u.from==u.to-1&&s.doc.lineAt(u.from).to==u.from?Vn.widget({widget:new n6e(u),diagnostic:u}).range(u.from):Vn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity+(u.markClass?" "+u.markClass:"")},diagnostic:u,inclusive:!0}).range(u.from,u.to)),!0);return new zv(c,o,e5(c))}}function e5(t,i=null,o=0){let s=null;return t.between(o,1e9,(a,l,{spec:c})=>{if(!i||c.diagnostic==i)return s=new Kwe(a,l,c.diagnostic),!1}),s}function SJ(t,i){return t.field(Ba,!1)?i:i.concat(Jr.appendConfig.of(LJ))}const t5=Jr.define(),qN=Jr.define(),CJ=Jr.define(),Ba=Xs.define({create:()=>new zv(Vn.none,null,null),update(t,i){if(i.docChanged){let o=t.diagnostics.map(i.changes),s=null;if(t.selected){let a=i.changes.mapPos(t.selected.from,1);s=e5(o,t.selected.diagnostic,a)||e5(o,null,a)}t=new zv(o,t.panel,s)}for(let o of i.effects)o.is(t5)?t=zv.init(o.value,t.panel,i.state):o.is(qN)?t=new zv(t.diagnostics,o.value?zT.open:null,t.selected):o.is(CJ)&&(t=new zv(t.diagnostics,t.panel,o.value));return t},provide:t=>[nN.from(t,i=>i.panel),Dn.decorations.from(t,i=>i.diagnostics)]}),Zwe=Vn.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function Jwe(t,i,o){let{diagnostics:s}=t.state.field(Ba),a=[],l=2e8,c=0;s.between(i-(o<0?1:0),i+(o>0?1:0),(p,h,{spec:v})=>{i>=p&&i<=h&&(p==h||(i>p||o>0)&&(i<h||o<0))&&(a.push(v.diagnostic),l=Math.min(p,l),c=Math.max(h,c))});let u=t.state.facet(Hv).tooltipFilter;return u&&(a=u(a,t.state)),a.length?{pos:l,end:c,above:t.state.doc.lineAt(l).to<c,create:()=>({dom:DJ(t,a)})}:null}function DJ(t,i){return Hd("ul",{class:"cm-tooltip-lint"},i.map(o=>MJ(t,o,!1)))}const TJ=t=>{let i=t.state.field(Ba,!1);return!(!i||!i.panel||(t.dispatch({effects:qN.of(!1)}),0))},PJ=Wo.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:i}=t.state.facet(Hv);this.lintTime=Date.now()+i,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,i)}run(){let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:i}=this.view,{sources:o}=i.facet(Hv);o.length&&Promise.all(o.map(s=>Promise.resolve(s(this.view)))).then(s=>{let a=s.reduce((l,c)=>l.concat(c));this.view.state.doc==i.doc&&this.view.dispatch(function Qwe(t,i){return{effects:SJ(t,[t5.of(i)])}}(this.view.state,a))},s=>{gl(this.view.state,s)})}}update(t){let i=t.state.facet(Hv);(t.docChanged||i!=t.startState.facet(Hv)||i.needsRefresh&&i.needsRefresh(t))&&(this.lintTime=Date.now()+i.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,i.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Hv=zt.define({combine:t=>Object.assign({sources:t.map(i=>i.source).filter(i=>null!=i)},bf(t.map(i=>i.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(i,o)=>i?o?s=>i(s)||o(s):i:o}))});function OJ(t,i={}){return[Hv.of({source:t,config:i}),PJ,LJ]}function kJ(t){let i=[];if(t)e:for(let{name:o}of t){for(let s=0;s<o.length;s++){let a=o[s];if(/[a-zA-Z]/.test(a)&&!i.some(l=>l.toLowerCase()==a.toLowerCase())){i.push(a);continue e}}i.push("")}return i}function MJ(t,i,o){var s;let a=o?kJ(i.actions):[];return Hd("li",{class:"cm-diagnostic cm-diagnostic-"+i.severity},Hd("span",{class:"cm-diagnosticText"},i.renderMessage?i.renderMessage():i.message),null===(s=i.actions)||void 0===s?void 0:s.map((l,c)=>{let u=!1,p=E=>{if(E.preventDefault(),u)return;u=!0;let S=e5(t.state.field(Ba).diagnostics,i);S&&l.apply(t,S.from,S.to)},{name:h}=l,v=a[c]?h.indexOf(a[c]):-1,y=v<0?h:[h.slice(0,v),Hd("u",h.slice(v,v+1)),h.slice(v+1)];return Hd("button",{type:"button",class:"cm-diagnosticAction",onclick:p,onmousedown:p,"aria-label":` Action: ${h}${v<0?"":` (access key "${a[c]})"`}.`},y)}),i.source&&Hd("div",{class:"cm-diagnosticSource"},i.source))}class n6e extends Fd{constructor(i){super(),this.diagnostic=i}eq(i){return i.diagnostic==this.diagnostic}toDOM(){return Hd("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class RJ{constructor(i,o){this.diagnostic=o,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=MJ(i,o,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class zT{constructor(i){this.view=i,this.items=[],this.list=Hd("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:a=>{if(27==a.keyCode)TJ(this.view),this.view.focus();else if(38==a.keyCode||33==a.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==a.keyCode||34==a.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==a.keyCode)this.moveSelection(0);else if(35==a.keyCode)this.moveSelection(this.items.length-1);else if(13==a.keyCode)this.view.focus();else{if(!(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:l}=this.items[this.selectedIndex],c=kJ(l.actions);for(let u=0;u<c.length;u++)if(c[u].toUpperCase().charCodeAt(0)==a.keyCode){let p=e5(this.view.state.field(Ba).diagnostics,l);p&&l.actions[u].apply(i,p.from,p.to)}}}a.preventDefault()},onclick:a=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(a.target)&&this.moveSelection(l)}}),this.dom=Hd("div",{class:"cm-panel-lint"},this.list,Hd("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>TJ(this.view)},"\xd7")),this.update()}get selectedIndex(){let i=this.view.state.field(Ba).selected;if(!i)return-1;for(let o=0;o<this.items.length;o++)if(this.items[o].diagnostic==i.diagnostic)return o;return-1}update(){let{diagnostics:i,selected:o}=this.view.state.field(Ba),s=0,a=!1,l=null;for(i.between(0,this.view.state.doc.length,(c,u,{spec:p})=>{let v,h=-1;for(let y=s;y<this.items.length;y++)if(this.items[y].diagnostic==p.diagnostic){h=y;break}h<0?(v=new RJ(this.view,p.diagnostic),this.items.splice(s,0,v),a=!0):(v=this.items[h],h>s&&(this.items.splice(s,h-s),a=!0)),o&&v.diagnostic==o.diagnostic?v.dom.hasAttribute("aria-selected")||(v.dom.setAttribute("aria-selected","true"),l=v):v.dom.hasAttribute("aria-selected")&&v.dom.removeAttribute("aria-selected"),s++});s<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();0==this.items.length&&(this.items.push(new RJ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let p=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/p:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/p)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let i=this.list.firstChild;function o(){let s=i;i=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;i!=s.dom;)o();i=s.dom.nextSibling}else this.list.insertBefore(s.dom,i);for(;i;)o()}moveSelection(i){if(this.selectedIndex<0)return;let s=e5(this.view.state.field(Ba).diagnostics,this.items[i].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:CJ.of(s)})}static open(i){return new zT(i)}}function UT(t){return function HT(t,i='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${i}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const r6e=Dn.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:UT("#d11")},".cm-lintRange-warning":{backgroundImage:UT("orange")},".cm-lintRange-info":{backgroundImage:UT("#999")},".cm-lintRange-hint":{backgroundImage:UT("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),LJ=[Ba,Dn.decorations.compute([Ba],t=>{let{selected:i,panel:o}=t.field(Ba);return i&&o&&i.from!=i.to?Vn.set([Zwe.range(i.from,i.to)]):Vn.none}),G4e(Jwe,{hideOn:function wJ(t,i){let o=t.startState.doc.lineAt(i.pos);return!(!t.effects.some(s=>s.is(t5))&&!t.changes.touchesRange(o.from,o.to))}}),r6e];class qT{static create(i,o,s,a,l){return new qT(i,o,s,a+(a<<8)+i+(o<<4)|0,l,[],[])}constructor(i,o,s,a,l,c,u){this.type=i,this.value=o,this.from=s,this.hash=a,this.end=l,this.children=c,this.positions=u,this.hashProp=[[$n.contextHash,a]]}addChild(i,o){i.prop($n.contextHash)!=this.hash&&(i=new Tr(i.type,i.children,i.positions,i.length,this.hashProp)),this.children.push(i),this.positions.push(o)}toTree(i,o=this.end){let s=this.children.length-1;return s>=0&&(o=Math.max(o,this.positions[s]+this.children[s].length+this.from)),new Tr(i.types[this.type],this.children,this.positions,o-this.from).balance({makeTree:(a,l,c)=>new Tr(ss.none,a,l,c,this.hashProp)})}}var xt=function(t){return t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL",t}(xt||{});class u6e{constructor(i,o){this.start=i,this.content=o,this.marks=[],this.parsers=[]}}class d6e{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let i=this.skipSpace(this.basePos);this.indent=this.countIndent(i,this.pos,this.indent),this.pos=i,this.next=i==this.text.length?-1:this.text.charCodeAt(i)}skipSpace(i){return Pw(this.text,i)}reset(i){for(this.text=i,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(i){this.basePos=i,this.baseIndent=this.countIndent(i,this.pos,this.indent)}moveBaseColumn(i){this.baseIndent=i,this.basePos=this.findColumn(i)}addMarker(i){this.markers.push(i)}countIndent(i,o=0,s=0){for(let a=o;a<i;a++)s+=9==this.text.charCodeAt(a)?4-s%4:1;return s}findColumn(i){let o=0;for(let s=0;o<this.text.length&&s<i;o++)s+=9==this.text.charCodeAt(o)?4-s%4:1;return o}scrub(){if(!this.baseIndent)return this.text;let i="";for(let o=0;o<this.basePos;o++)i+=" ";return i+this.text.slice(this.basePos)}}function FJ(t,i,o){if(o.pos==o.text.length||t!=i.block&&o.indent>=i.stack[o.depth+1].value+o.baseIndent)return!0;if(o.indent>=o.baseIndent+4)return!1;let s=(t.type==xt.OrderedList?KN:YN)(o,i,!1);return s>0&&(t.type!=xt.BulletList||XN(o,i,!1)<0)&&o.text.charCodeAt(o.pos+s-1)==t.value}const BJ={[xt.Blockquote]:(t,i,o)=>62==o.next&&(o.markers.push(Vr(xt.QuoteMark,i.lineStart+o.pos,i.lineStart+o.pos+1)),o.moveBase(o.pos+(uu(o.text.charCodeAt(o.pos+1))?2:1)),t.end=i.lineStart+o.text.length,!0),[xt.ListItem]:(t,i,o)=>!(o.indent<o.baseIndent+t.value&&o.next>-1||(o.moveBaseColumn(o.baseIndent+t.value),0)),[xt.OrderedList]:FJ,[xt.BulletList]:FJ,[xt.Document]:()=>!0};function uu(t){return 32==t||9==t||10==t||13==t}function Pw(t,i=0){for(;i<t.length&&uu(t.charCodeAt(i));)i++;return i}function jJ(t,i,o){for(;i>o&&uu(t.charCodeAt(i-1));)i--;return i}function $J(t){if(96!=t.next&&126!=t.next)return-1;let i=t.pos+1;for(;i<t.text.length&&t.text.charCodeAt(i)==t.next;)i++;if(i<t.pos+3)return-1;if(96==t.next)for(let o=i;o<t.text.length;o++)if(96==t.text.charCodeAt(o))return-1;return i}function VJ(t){return 62!=t.next?-1:32==t.text.charCodeAt(t.pos+1)?2:1}function XN(t,i,o){if(42!=t.next&&45!=t.next&&95!=t.next)return-1;let s=1;for(let a=t.pos+1;a<t.text.length;a++){let l=t.text.charCodeAt(a);if(l==t.next)s++;else if(!uu(l))return-1}return o&&45==t.next&&UJ(t)>-1&&t.depth==i.stack.length||s<3?-1:1}function zJ(t,i){for(let o=t.stack.length-1;o>=0;o--)if(t.stack[o].type==i)return!0;return!1}function YN(t,i,o){return 45!=t.next&&43!=t.next&&42!=t.next||t.pos!=t.text.length-1&&!uu(t.text.charCodeAt(t.pos+1))||!(!o||zJ(i,xt.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?-1:1}function KN(t,i,o){let s=t.pos,a=t.next;for(;a>=48&&a<=57;){if(s++,s==t.text.length)return-1;a=t.text.charCodeAt(s)}return s==t.pos||s>t.pos+9||46!=a&&41!=a||s<t.text.length-1&&!uu(t.text.charCodeAt(s+1))||o&&!zJ(i,xt.OrderedList)&&(t.skipSpace(s+1)==t.text.length||s>t.pos+1||49!=t.next)?-1:s+1-t.pos}function HJ(t){if(35!=t.next)return-1;let i=t.pos+1;for(;i<t.text.length&&35==t.text.charCodeAt(i);)i++;if(i<t.text.length&&32!=t.text.charCodeAt(i))return-1;let o=i-t.pos;return o>6?-1:o}function UJ(t){if(45!=t.next&&61!=t.next||t.indent>=t.baseIndent+4)return-1;let i=t.pos+1;for(;i<t.text.length&&t.text.charCodeAt(i)==t.next;)i++;let o=i;for(;i<t.text.length&&uu(t.text.charCodeAt(i));)i++;return i==t.text.length?o:-1}const QN=/^[ \t]*$/,GJ=/-->/,qJ=/\?>/,ZN=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,GJ],[/^\s*<\?/,qJ],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,QN],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,QN]];function WJ(t,i,o){if(60!=t.next)return-1;let s=t.text.slice(t.pos);for(let a=0,l=ZN.length-(o?1:0);a<l;a++)if(ZN[a][0].test(s))return a;return-1}function XJ(t,i){let o=t.countIndent(i,t.pos,t.indent),s=t.countIndent(t.skipSpace(i),i,o);return s>=o+5?o+1:s}function Uv(t,i,o){let s=t.length-1;s>=0&&t[s].to==i&&t[s].type==xt.CodeText?t[s].to=o:t.push(Vr(xt.CodeText,i,o))}const WT={LinkReference:void 0,IndentedCode(t,i){let o=i.baseIndent+4;if(i.indent<o)return!1;let s=i.findColumn(o),a=t.lineStart+s,l=t.lineStart+i.text.length,c=[],u=[];for(Uv(c,a,l);t.nextLine()&&i.depth>=t.stack.length;)if(i.pos==i.text.length){Uv(u,t.lineStart-1,t.lineStart);for(let p of i.markers)u.push(p)}else{if(i.indent<o)break;{if(u.length){for(let h of u)h.type==xt.CodeText?Uv(c,h.from,h.to):c.push(h);u=[]}Uv(c,t.lineStart-1,t.lineStart);for(let h of i.markers)c.push(h);l=t.lineStart+i.text.length;let p=t.lineStart+i.findColumn(i.baseIndent+4);p<l&&Uv(c,p,l)}}return u.length&&(u=u.filter(p=>p.type!=xt.CodeText),u.length&&(i.markers=u.concat(i.markers))),t.addNode(t.buffer.writeElements(c,-a).finish(xt.CodeBlock,l-a),a),!0},FencedCode(t,i){let o=$J(i);if(o<0)return!1;let s=t.lineStart+i.pos,a=i.next,l=o-i.pos,c=i.skipSpace(o),u=jJ(i.text,i.text.length,c),p=[Vr(xt.CodeMark,s,s+l)];c<u&&p.push(Vr(xt.CodeInfo,t.lineStart+c,t.lineStart+u));for(let h=!0;t.nextLine()&&i.depth>=t.stack.length;h=!1){let v=i.pos;if(i.indent-i.baseIndent<4)for(;v<i.text.length&&i.text.charCodeAt(v)==a;)v++;if(v-i.pos>=l&&i.skipSpace(v)==i.text.length){for(let y of i.markers)p.push(y);p.push(Vr(xt.CodeMark,t.lineStart+i.pos,t.lineStart+v)),t.nextLine();break}{h||Uv(p,t.lineStart-1,t.lineStart);for(let S of i.markers)p.push(S);let y=t.lineStart+i.basePos,E=t.lineStart+i.text.length;y<E&&Uv(p,y,E)}}return t.addNode(t.buffer.writeElements(p,-s).finish(xt.FencedCode,t.prevLineEnd()-s),s),!0},Blockquote(t,i){let o=VJ(i);return!(o<0)&&(t.startContext(xt.Blockquote,i.pos),t.addNode(xt.QuoteMark,t.lineStart+i.pos,t.lineStart+i.pos+1),i.moveBase(i.pos+o),null)},HorizontalRule(t,i){if(XN(i,t,!1)<0)return!1;let o=t.lineStart+i.pos;return t.nextLine(),t.addNode(xt.HorizontalRule,o),!0},BulletList(t,i){let o=YN(i,t,!1);if(o<0)return!1;t.block.type!=xt.BulletList&&t.startContext(xt.BulletList,i.basePos,i.next);let s=XJ(i,i.pos+1);return t.startContext(xt.ListItem,i.basePos,s-i.baseIndent),t.addNode(xt.ListMark,t.lineStart+i.pos,t.lineStart+i.pos+o),i.moveBaseColumn(s),null},OrderedList(t,i){let o=KN(i,t,!1);if(o<0)return!1;t.block.type!=xt.OrderedList&&t.startContext(xt.OrderedList,i.basePos,i.text.charCodeAt(i.pos+o-1));let s=XJ(i,i.pos+o);return t.startContext(xt.ListItem,i.basePos,s-i.baseIndent),t.addNode(xt.ListMark,t.lineStart+i.pos,t.lineStart+i.pos+o),i.moveBaseColumn(s),null},ATXHeading(t,i){let o=HJ(i);if(o<0)return!1;let s=i.pos,a=t.lineStart+s,l=jJ(i.text,i.text.length,s),c=l;for(;c>s&&i.text.charCodeAt(c-1)==i.next;)c--;(c==l||c==s||!uu(i.text.charCodeAt(c-1)))&&(c=i.text.length);let u=t.buffer.write(xt.HeaderMark,0,o).writeElements(t.parser.parseInline(i.text.slice(s+o+1,c),a+o+1),-a);c<i.text.length&&u.write(xt.HeaderMark,c-s,l-s);let p=u.finish(xt.ATXHeading1-1+o,i.text.length-s);return t.nextLine(),t.addNode(p,a),!0},HTMLBlock(t,i){let o=WJ(i,0,!1);if(o<0)return!1;let s=t.lineStart+i.pos,a=ZN[o][1],l=[],c=a!=QN;for(;!a.test(i.text)&&t.nextLine();){if(i.depth<t.stack.length){c=!1;break}for(let h of i.markers)l.push(h)}c&&t.nextLine();let u=a==GJ?xt.CommentBlock:a==qJ?xt.ProcessingInstructionBlock:xt.HTMLBlock,p=t.prevLineEnd();return t.addNode(t.buffer.writeElements(l,-s).finish(u,p-s),s),!0},SetextHeading:void 0};class p6e{constructor(i){this.stage=0,this.elts=[],this.pos=0,this.start=i.start,this.advance(i.content)}nextLine(i,o,s){if(-1==this.stage)return!1;let a=s.content+"\n"+o.scrub(),l=this.advance(a);return l>-1&&l<a.length&&this.complete(i,s,l)}finish(i,o){return(2==this.stage||3==this.stage)&&Pw(o.content,this.pos)==o.content.length&&this.complete(i,o,o.content.length)}complete(i,o,s){return i.addLeafElement(o,Vr(xt.LinkReference,this.start,this.start+s,this.elts)),!0}nextStage(i){return i?(this.pos=i.to-this.start,this.elts.push(i),this.stage++,!0):(!1===i&&(this.stage=-1),!1)}advance(i){for(;;){if(-1==this.stage)return-1;if(0==this.stage){if(!this.nextStage(iee(i,this.pos,this.start,!0)))return-1;if(58!=i.charCodeAt(this.pos))return this.stage=-1;this.elts.push(Vr(xt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else{if(1!=this.stage){if(2==this.stage){let o=Pw(i,this.pos),s=0;if(o>this.pos){let a=ree(i,o,this.start);if(a){let l=JN(i,a.to-this.start);l>0&&(this.nextStage(a),s=l)}}return s||(s=JN(i,this.pos)),s>0&&s<i.length?s:-1}return JN(i,this.pos)}if(!this.nextStage(nee(i,Pw(i,this.pos),this.start)))return-1}}}}function JN(t,i){for(;i<t.length;i++){let o=t.charCodeAt(i);if(10==o)break;if(!uu(o))return-1}return i}class f6e{nextLine(i,o,s){let a=o.depth<i.stack.length?-1:UJ(o),l=o.next;if(a<0)return!1;let c=Vr(xt.HeaderMark,i.lineStart+o.pos,i.lineStart+a);return i.nextLine(),i.addLeafElement(s,Vr(61==l?xt.SetextHeading1:xt.SetextHeading2,s.start,i.prevLineEnd(),[...i.parser.parseInline(s.content,s.start),c])),!0}finish(){return!1}}const h6e={LinkReference:(t,i)=>91==i.content.charCodeAt(0)?new p6e(i):null,SetextHeading:()=>new f6e},m6e=[(t,i)=>HJ(i)>=0,(t,i)=>$J(i)>=0,(t,i)=>VJ(i)>=0,(t,i)=>YN(i,t,!0)>=0,(t,i)=>KN(i,t,!0)>=0,(t,i)=>XN(i,t,!0)>=0,(t,i)=>WJ(i,0,!0)>=0],g6e={text:"",end:0};class v6e{constructor(i,o,s,a){this.parser=i,this.input=o,this.ranges=a,this.line=new d6e,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=qT.create(xt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=s.length?new E6e(s,o):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:i}=this;for(;;){for(let s=0;;){let a=i.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;s<i.markers.length&&(!a||i.markers[s].from<a.end);){let l=i.markers[s++];this.addNode(l.type,l.from,l.to)}if(!a)break;this.finishContext()}if(i.pos<i.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(i.basePos))return null;e:for(;;){for(let s of this.parser.blockParsers)if(s){let a=s(this,i);if(0!=a){if(1==a)return null;i.forward();continue e}}break}let o=new u6e(this.lineStart+i.pos,i.text.slice(i.pos));for(let s of this.parser.leafBlockParsers)if(s){let a=s(this,o);a&&o.parsers.push(a)}e:for(;this.nextLine()&&i.pos!=i.text.length;){if(i.indent<i.baseIndent+4)for(let s of this.parser.endLeafBlock)if(s(this,i,o))break e;for(let s of o.parsers)if(s.nextLine(this,i,o))return null;o.content+="\n"+i.scrub();for(let s of i.markers)o.marks.push(s)}return this.finishLeaf(o),null}stopAt(i){if(null!=this.stoppedAt&&this.stoppedAt<i)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=i}reuseFragment(i){if(!this.fragments.moveTo(this.absoluteLineStart+i,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let o=this.fragments.takeNodes(this);return!!o&&(this.absoluteLineStart+=o,this.lineStart=oee(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0)}get depth(){return this.stack.length}parentType(i=this.depth-1){return this.parser.nodeSet.types[this.stack[i].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(i){let o=g6e;if(o.end=i,i>=this.to)o.text="";else if(o.text=this.lineChunkAt(i),o.end+=o.text.length,this.ranges.length>1){let s=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<o.end;){a++;let l=this.ranges[a].from,c=this.lineChunkAt(l);o.end=l+c.length,o.text=o.text.slice(0,this.ranges[a-1].to-s)+c,s=o.end-o.text.length}}return o}readLine(){let{line:i}=this,{text:o,end:s}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=s,i.reset(o);i.depth<this.stack.length;i.depth++){let a=this.stack[i.depth],l=this.parser.skipContextMarkup[a.type];if(!l)throw new Error("Unhandled block context "+xt[a.type]);if(!l(a,this,i))break;i.forward()}}lineChunkAt(i){let s,o=this.input.chunk(i);if(this.input.lineChunks)s="\n"==o?"":o;else{let a=o.indexOf("\n");s=a<0?o:o.slice(0,a)}return i+s.length>this.to?s.slice(0,this.to-i):s}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(i,o,s=0){this.block=qT.create(i,s,this.lineStart+o,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(i,o,s=0){this.startContext(this.parser.getNodeType(i),o,s)}addNode(i,o,s){"number"==typeof i&&(i=new Tr(this.parser.nodeSet.types[i],n5,n5,(s??this.prevLineEnd())-o)),this.block.addChild(i,o-this.block.from)}addElement(i){this.block.addChild(i.toTree(this.parser.nodeSet),i.from-this.block.from)}addLeafElement(i,o){this.addNode(this.buffer.writeElements(iL(o.children,i.marks),-o.from).finish(o.type,o.to-o.from),o.from)}finishContext(){let i=this.stack.pop(),o=this.stack[this.stack.length-1];o.addChild(i.toTree(this.parser.nodeSet),i.from-o.from),this.block=o}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(i){return this.ranges.length>1?YJ(this.ranges,0,i.topNode,this.ranges[0].from,this.reusePlaceholders):i}finishLeaf(i){for(let s of i.parsers)if(s.finish(this,i))return;let o=iL(this.parser.parseInline(i.content,i.start),i.marks);this.addNode(this.buffer.writeElements(o,-i.start).finish(xt.Paragraph,i.content.length),i.start)}elt(i,o,s,a){return"string"==typeof i?Vr(this.parser.getNodeType(i),o,s,a):new ZJ(i,o)}get buffer(){return new QJ(this.parser.nodeSet)}}function YJ(t,i,o,s,a){let l=t[i].to,c=[],u=[],p=o.from+s;function h(v,y){for(;y?v>=l:v>l;){let E=t[i+1].from-l;s+=E,v+=E,i++,l=t[i].to}}for(let v=o.firstChild;v;v=v.nextSibling){h(v.from+s,!0);let E,y=v.from+s,S=a.get(v.tree);S?E=S:v.to+s>l?(E=YJ(t,i,v,s,a),h(v.to+s,!1)):E=v.toTree(),c.push(E),u.push(y-p)}return h(o.to+s,!1),new Tr(o.type,c,u,o.to+s-p,o.tree?o.tree.propValues:void 0)}class eL extends ID{constructor(i,o,s,a,l,c,u,p,h){super(),this.nodeSet=i,this.blockParsers=o,this.leafBlockParsers=s,this.blockNames=a,this.endLeafBlock=l,this.skipContextMarkup=c,this.inlineParsers=u,this.inlineNames=p,this.wrappers=h,this.nodeTypes=Object.create(null);for(let v of i.types)this.nodeTypes[v.name]=v.id}createParse(i,o,s){let a=new v6e(this,i,o,s);for(let l of this.wrappers)a=l(a,i,o,s);return a}configure(i){let o=tL(i);if(!o)return this;let{nodeSet:s,skipContextMarkup:a}=this,l=this.blockParsers.slice(),c=this.leafBlockParsers.slice(),u=this.blockNames.slice(),p=this.inlineParsers.slice(),h=this.inlineNames.slice(),v=this.endLeafBlock.slice(),y=this.wrappers;if(Ow(o.defineNodes)){a=Object.assign({},a);let S,E=s.types.slice();for(let D of o.defineNodes){let{name:k,block:R,composite:L,style:N}="string"==typeof D?{name:D}:D;if(E.some(q=>q.name==k))continue;L&&(a[E.length]=(q,ee,ae)=>L(ee,ae,q.value));let B=E.length,$=L?["Block","BlockContext"]:R?B>=xt.ATXHeading1&&B<=xt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;E.push(ss.define({id:B,name:k,props:$&&[[$n.group,$]]})),N&&(S||(S={}),Array.isArray(N)||N instanceof f0?S[k]=N:Object.assign(S,N))}s=new R3(E),S&&(s=s.extend(Hx(S)))}if(Ow(o.props)&&(s=s.extend(...o.props)),Ow(o.remove))for(let E of o.remove){let S=this.blockNames.indexOf(E),D=this.inlineNames.indexOf(E);S>-1&&(l[S]=c[S]=void 0),D>-1&&(p[D]=void 0)}if(Ow(o.parseBlock))for(let E of o.parseBlock){let S=u.indexOf(E.name);if(S>-1)l[S]=E.parse,c[S]=E.leaf;else{let D=E.before?XT(u,E.before):E.after?XT(u,E.after)+1:u.length-1;l.splice(D,0,E.parse),c.splice(D,0,E.leaf),u.splice(D,0,E.name)}E.endLeaf&&v.push(E.endLeaf)}if(Ow(o.parseInline))for(let E of o.parseInline){let S=h.indexOf(E.name);if(S>-1)p[S]=E.parse;else{let D=E.before?XT(h,E.before):E.after?XT(h,E.after)+1:h.length-1;p.splice(D,0,E.parse),h.splice(D,0,E.name)}}return o.wrap&&(y=y.concat(o.wrap)),new eL(s,l,c,u,v,a,p,h,y)}getNodeType(i){let o=this.nodeTypes[i];if(null==o)throw new RangeError(`Unknown node type '${i}'`);return o}parseInline(i,o){let s=new b6e(this,i,o);e:for(let a=o;a<s.end;){let l=s.char(a);for(let c of this.inlineParsers)if(c){let u=c(s,l,a);if(u>=0){a=u;continue e}}a++}return s.resolveMarkers(0)}}function Ow(t){return null!=t&&t.length>0}function tL(t){if(!Array.isArray(t))return t;if(0==t.length)return null;let i=tL(t[0]);if(1==t.length)return i;let o=tL(t.slice(1));if(!o||!i)return i||o;let s=(c,u)=>(c||n5).concat(u||n5),a=i.wrap,l=o.wrap;return{props:s(i.props,o.props),defineNodes:s(i.defineNodes,o.defineNodes),parseBlock:s(i.parseBlock,o.parseBlock),parseInline:s(i.parseInline,o.parseInline),remove:s(i.remove,o.remove),wrap:a?l?(c,u,p,h)=>a(l(c,u,p,h),u,p,h):a:l}}function XT(t,i){let o=t.indexOf(i);if(o<0)throw new RangeError(`Position specified relative to unknown parser ${i}`);return o}let KJ=[ss.none];for(let i,t=1;i=xt[t];t++)KJ[t]=ss.define({id:t,name:i,props:t>=xt.Escape?[]:[[$n.group,t in BJ?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==i});const n5=[];class QJ{constructor(i){this.nodeSet=i,this.content=[],this.nodes=[]}write(i,o,s,a=0){return this.content.push(i,o,s,4+4*a),this}writeElements(i,o=0){for(let s of i)s.writeTo(this,o);return this}finish(i,o){return Tr.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:i,length:o})}}class kw{constructor(i,o,s,a=n5){this.type=i,this.from=o,this.to=s,this.children=a}writeTo(i,o){let s=i.content.length;i.writeElements(this.children,o),i.content.push(this.type,this.from+o,this.to+o,i.content.length+4-s)}toTree(i){return new QJ(i).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class ZJ{constructor(i,o){this.tree=i,this.from=o}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return n5}writeTo(i,o){i.nodes.push(this.tree),i.content.push(i.nodes.length-1,this.from+o,this.to+o,-1)}toTree(){return this.tree}}function Vr(t,i,o,s){return new kw(t,i,o,s)}const JJ={resolve:"Emphasis",mark:"EmphasisMark"},eee={resolve:"Emphasis",mark:"EmphasisMark"},r5={},nL={};class du{constructor(i,o,s,a){this.type=i,this.from=o,this.to=s,this.side=a}}let Mw=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Mw=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const rL={Escape(t,i,o){if(92!=i||o==t.end-1)return-1;let s=t.char(o+1);for(let a=0;a<32;a++)if("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".charCodeAt(a)==s)return t.append(Vr(xt.Escape,o,o+2));return-1},Entity(t,i,o){if(38!=i)return-1;let s=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(o+1,o+31));return s?t.append(Vr(xt.Entity,o,o+1+s[0].length)):-1},InlineCode(t,i,o){if(96!=i||o&&96==t.char(o-1))return-1;let s=o+1;for(;s<t.end&&96==t.char(s);)s++;let a=s-o,l=0;for(;s<t.end;s++)if(96==t.char(s)){if(l++,l==a&&96!=t.char(s+1))return t.append(Vr(xt.InlineCode,o,s+1,[Vr(xt.CodeMark,o,o+a),Vr(xt.CodeMark,s+1-a,s+1)]))}else l=0;return-1},HTMLTag(t,i,o){if(60!=i||o==t.end-1)return-1;let s=t.slice(o+1,t.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(s);if(a)return t.append(Vr(xt.Autolink,o,o+1+a[0].length,[Vr(xt.LinkMark,o,o+1),Vr(xt.URL,o+1,o+a[0].length),Vr(xt.LinkMark,o+a[0].length,o+1+a[0].length)]));let l=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(s);if(l)return t.append(Vr(xt.Comment,o,o+1+l[0].length));let c=/^\?[^]*?\?>/.exec(s);if(c)return t.append(Vr(xt.ProcessingInstruction,o,o+1+c[0].length));let u=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(s);return u?t.append(Vr(xt.HTMLTag,o,o+1+u[0].length)):-1},Emphasis(t,i,o){if(95!=i&&42!=i)return-1;let s=o+1;for(;t.char(s)==i;)s++;let a=t.slice(o-1,o),l=t.slice(s,s+1),c=Mw.test(a),u=Mw.test(l),p=/\s|^$/.test(a),h=/\s|^$/.test(l),v=!h&&(!u||p||c),y=!p&&(!c||h||u);return t.append(new du(95==i?JJ:eee,o,s,(!v||42!=i&&y&&!c?0:1)|(!y||42!=i&&v&&!u?0:2)))},HardBreak(t,i,o){if(92==i&&10==t.char(o+1))return t.append(Vr(xt.HardBreak,o,o+2));if(32==i){let s=o+1;for(;32==t.char(s);)s++;if(10==t.char(s)&&s>=o+2)return t.append(Vr(xt.HardBreak,o,s+1))}return-1},Link:(t,i,o)=>91==i?t.append(new du(r5,o,o+1,1)):-1,Image:(t,i,o)=>33==i&&91==t.char(o+1)?t.append(new du(nL,o,o+2,1)):-1,LinkEnd(t,i,o){if(93!=i)return-1;for(let s=t.parts.length-1;s>=0;s--){let a=t.parts[s];if(a instanceof du&&(a.type==r5||a.type==nL)){if(!a.side||t.skipSpace(a.to)==o&&!/[(\[]/.test(t.slice(o+1,o+2)))return t.parts[s]=null,-1;let l=t.takeContent(s),c=t.parts[s]=y6e(t,l,a.type==r5?xt.Link:xt.Image,a.from,o+1);if(a.type==r5)for(let u=0;u<s;u++){let p=t.parts[u];p instanceof du&&p.type==r5&&(p.side=0)}return c.to}}return-1}};function y6e(t,i,o,s,a){let{text:l}=t,c=t.char(a),u=a;if(i.unshift(Vr(xt.LinkMark,s,s+(o==xt.Image?2:1))),i.push(Vr(xt.LinkMark,a-1,a)),40==c){let v,p=t.skipSpace(a+1),h=nee(l,p-t.offset,t.offset);h&&(p=t.skipSpace(h.to),p!=h.to&&(v=ree(l,p-t.offset,t.offset),v&&(p=t.skipSpace(v.to)))),41==t.char(p)&&(i.push(Vr(xt.LinkMark,a,a+1)),u=p+1,h&&i.push(h),v&&i.push(v),i.push(Vr(xt.LinkMark,p,u)))}else if(91==c){let p=iee(l,a-t.offset,t.offset,!1);p&&(i.push(p),u=p.to)}return Vr(o,s,u,i)}function nee(t,i,o){if(60==t.charCodeAt(i)){for(let a=i+1;a<t.length;a++){let l=t.charCodeAt(a);if(62==l)return Vr(xt.URL,i+o,a+1+o);if(60==l||10==l)return!1}return null}{let a=0,l=i;for(let c=!1;l<t.length;l++){let u=t.charCodeAt(l);if(uu(u))break;if(c)c=!1;else if(40==u)a++;else if(41==u){if(!a)break;a--}else 92==u&&(c=!0)}return l>i?Vr(xt.URL,i+o,l+o):l==t.length&&null}}function ree(t,i,o){let s=t.charCodeAt(i);if(39!=s&&34!=s&&40!=s)return!1;let a=40==s?41:s;for(let l=i+1,c=!1;l<t.length;l++){let u=t.charCodeAt(l);if(c)c=!1;else{if(u==a)return Vr(xt.LinkTitle,i+o,l+1+o);92==u&&(c=!0)}}return null}function iee(t,i,o,s){for(let a=!1,l=i+1,c=Math.min(t.length,l+999);l<c;l++){let u=t.charCodeAt(l);if(a)a=!1;else{if(93==u)return!s&&Vr(xt.LinkLabel,i+o,l+1+o);if(s&&!uu(u)&&(s=!1),91==u)return!1;92==u&&(a=!0)}}return null}class b6e{constructor(i,o,s){this.parser=i,this.text=o,this.offset=s,this.parts=[]}char(i){return i>=this.end?-1:this.text.charCodeAt(i-this.offset)}get end(){return this.offset+this.text.length}slice(i,o){return this.text.slice(i-this.offset,o-this.offset)}append(i){return this.parts.push(i),i.to}addDelimiter(i,o,s,a,l){return this.append(new du(i,o,s,(a?1:0)|(l?2:0)))}get hasOpenLink(){for(let i=this.parts.length-1;i>=0;i--){let o=this.parts[i];if(o instanceof du&&(o.type==r5||o.type==nL))return!0}return!1}addElement(i){return this.append(i)}resolveMarkers(i){for(let s=i;s<this.parts.length;s++){let a=this.parts[s];if(!(a instanceof du&&a.type.resolve&&2&a.side))continue;let u,l=a.type==JJ||a.type==eee,c=a.to-a.from,p=s-1;for(;p>=i;p--){let k=this.parts[p];if(k instanceof du&&1&k.side&&k.type==a.type&&!(l&&(1&a.side||2&k.side)&&(k.to-k.from+c)%3==0&&((k.to-k.from)%3||c%3))){u=k;break}}if(!u)continue;let h=a.type.resolve,v=[],y=u.from,E=a.to;if(l){let k=Math.min(2,u.to-u.from,c);y=u.to-k,E=a.from+k,h=1==k?"Emphasis":"StrongEmphasis"}u.type.mark&&v.push(this.elt(u.type.mark,y,u.to));for(let k=p+1;k<s;k++)this.parts[k]instanceof kw&&v.push(this.parts[k]),this.parts[k]=null;a.type.mark&&v.push(this.elt(a.type.mark,a.from,E));let S=this.elt(h,y,E,v);this.parts[p]=l&&u.from!=y?new du(u.type,u.from,y,u.side):null,(this.parts[s]=l&&a.to!=E?new du(a.type,E,a.to,a.side):null)?this.parts.splice(s,0,S):this.parts[s]=S}let o=[];for(let s=i;s<this.parts.length;s++){let a=this.parts[s];a instanceof kw&&o.push(a)}return o}findOpeningDelimiter(i){for(let o=this.parts.length-1;o>=0;o--){let s=this.parts[o];if(s instanceof du&&s.type==i)return o}return null}takeContent(i){let o=this.resolveMarkers(i);return this.parts.length=i,o}skipSpace(i){return Pw(this.text,i-this.offset)+this.offset}elt(i,o,s,a){return"string"==typeof i?Vr(this.parser.getNodeType(i),o,s,a):new ZJ(i,o)}}function iL(t,i){if(!i.length)return t;if(!t.length)return i;let o=t.slice(),s=0;for(let a of i){for(;s<o.length&&o[s].to<a.to;)s++;if(s<o.length&&o[s].from<a.from){let l=o[s];l instanceof kw&&(o[s]=new kw(l.type,l.from,l.to,iL(l.children,[a])))}else o.splice(s++,0,a)}return o}const _6e=[xt.CodeBlock,xt.ListItem,xt.OrderedList,xt.BulletList];class E6e{constructor(i,o){this.fragments=i,this.input=o,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,i.length&&(this.fragment=i[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(i,o){for(;this.fragment&&this.fragment.to<=i;)this.nextFragment();if(!this.fragment||this.fragment.from>(i?i-1:0))return!1;if(this.fragmentEnd<0){let l=this.fragment.to;for(;l>0&&"\n"!=this.input.read(l-1,l);)l--;this.fragmentEnd=l?l-1:0}let s=this.cursor;s||(s=this.cursor=this.fragment.tree.cursor(),s.firstChild());let a=i+this.fragment.offset;for(;s.to<=a;)if(!s.parent())return!1;for(;;){if(s.from>=a)return this.fragment.from<=o;if(!s.childAfter(a))return!1}}matches(i){let o=this.cursor.tree;return o&&o.prop($n.contextHash)==i}takeNodes(i){let o=this.cursor,s=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),l=i.absoluteLineStart,c=l,u=i.block.children.length,p=c,h=u;for(;;){if(o.to-s>a){if(o.type.isAnonymous&&o.firstChild())continue;break}let v=oee(o.from-s,i.ranges);if(o.to-s<=i.ranges[i.rangeI].to)i.addNode(o.tree,v);else{let y=new Tr(i.parser.nodeSet.types[xt.Paragraph],[],[],0,i.block.hashProp);i.reusePlaceholders.set(y,o.tree),i.addNode(y,v)}if(o.type.is("Block")&&(_6e.indexOf(o.type.id)<0?(c=o.to-s,u=i.block.children.length):(c=p,u=h,p=o.to-s,h=i.block.children.length)),!o.nextSibling())break}for(;i.block.children.length>u;)i.block.children.pop(),i.block.positions.pop();return c-l}}function oee(t,i){let o=t;for(let s=1;s<i.length;s++){let a=i[s-1].to;a<t&&(o-=i[s].from-a)}return o}const x6e=Hx({"Blockquote/...":ce.quote,HorizontalRule:ce.contentSeparator,"ATXHeading1/... SetextHeading1/...":ce.heading1,"ATXHeading2/... SetextHeading2/...":ce.heading2,"ATXHeading3/...":ce.heading3,"ATXHeading4/...":ce.heading4,"ATXHeading5/...":ce.heading5,"ATXHeading6/...":ce.heading6,"Comment CommentBlock":ce.comment,Escape:ce.escape,Entity:ce.character,"Emphasis/...":ce.emphasis,"StrongEmphasis/...":ce.strong,"Link/... Image/...":ce.link,"OrderedList/... BulletList/...":ce.list,"BlockQuote/...":ce.quote,"InlineCode CodeText":ce.monospace,"URL Autolink":ce.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":ce.processingInstruction,"CodeInfo LinkLabel":ce.labelName,LinkTitle:ce.string,Paragraph:ce.content}),w6e=new eL(new R3(KJ).extend(x6e),Object.keys(WT).map(t=>WT[t]),Object.keys(WT).map(t=>h6e[t]),Object.keys(WT),m6e,BJ,Object.keys(rL).map(t=>rL[t]),Object.keys(rL),[]);function mee(t,i,o){return(s,a,l)=>{if(a!=t||s.char(l+1)==t)return-1;let c=[s.elt(o,l,l+1)];for(let u=l+1;u<s.end;u++){let p=s.char(u);if(p==t)return s.addElement(s.elt(i,l,u+1,c.concat(s.elt(o,u,u+1))));if(92==p&&c.push(s.elt("Escape",u,2+u++)),uu(p))break}return-1}}ce.special(ce.content),mee(94,"Superscript","SuperscriptMark"),ce.special(ce.content),mee(126,"Subscript","SubscriptMark");const sL=typeof process<"u"&&process.env&&/\bfparse(:dbg)?\b/.test(process.env.LOG),aL=typeof process<"u"&&process.env&&/\bfparse:dbg\b/.test(process.env.LOG),xf=typeof process<"u"&&process.env&&/\bcontext\b/.test(process.env.LOG),See=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],f8e=Dee("\n\r"),h8e=Dee("'./-+*^");function Dee(t){return Array.from(t).map(i=>i.charCodeAt(0))}function m8e(t){return 63===t||t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=55296&&t<=56319||t>=56320&&t<=57343}function v8e(t){return t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}function y8e(t){return See.includes(t)}function Tee(t,i){return i.concat(t.split(/\n/g).join("\n"+i))}function b8e(t,i=0){const o=t.peek(i);return 42===o&&42===t.peek(i+1)?{offset:2,token:"**"}:function g8e(t){return h8e.includes(t)}(o)?{offset:1,token:String.fromCharCode(o)}:null}function YT(t,i=0,o=!1){for(let s=!1,a=[],l=0;;l++){const c=t.peek(i+l);if(!(m8e(c)||(s||o)&&v8e(c)))return a.length?{token:String.fromCharCode(...a),offset:l}:null;s||(s=!0),a.push(c)}}function Pee(t,i){for(let o=!1,s=0;;s++){if(!y8e(t.peek(i+s)))return o?{token:" ",offset:s}:null;o||(o=!0)}}const E8e={121:"identifier",122:"nameIdentifier"},x8e=new I3((t,i)=>{aL&&console.log("%s: T <identifier | nameIdentifier>",t.pos);const o=function _8e(t,i){const o=i.contextKeys(),s=i.tokens;for(let a=0,l=[],c=null;;){const u=s.length+l.length>0,p=l.length>0,h=YT(t,a,u)||u&&b8e(t,a)||p&&Pee(t,a);if(!h)return c;const{token:v,offset:y}=h;if(a+=y," "===v)continue;l=[...l,v];const E=[...s,...l].join(" ");if(o.some(S=>S===E)){const S=l[0];c={token:S,offset:S.length,term:122}}if(!o.some(S=>S.startsWith(E))){if(Oee.some(S=>S===E)){const S=l[0];c={token:S,offset:S.length,term:121}}if(!Oee.some(S=>S.startsWith(E)))return c}}}(t,i.context),a=o||YT(t,0,i.context.tokens.length>0);a&&(t.advance(a.offset),t.acceptToken(o?o.term:121),sL&&console.log("%s: MATCH <%s> <%s>",t.pos,o?E8e[o.term]:"identifier",a.token))},{contextual:!0}),w8e=new I3((t,i)=>{aL&&console.log("%s: T <propertyIdentifier>",t.pos);const s=YT(t,0,i.context.tokens.length>0);s&&(t.advance(s.offset),t.acceptToken(120),sL&&console.log("%s: MATCH <propertyIdentifier> <%s>",t.pos,s.token))}),S8e=new I3((t,i)=>{aL&&console.log("%s: T <insertSemi>",t.pos);let o,s=!1;for(o=0;;o++){const a=t.peek(o);if(!See.includes(a)){f8e.includes(a)&&(s=!0);break}}if(s){const a=YT(t,o+1);if(Pee(t,o+1)||a&&/^(then|else|return|satisfies)$/.test(a.token))return;sL&&console.log("%s: MATCH <insertSemi>",t.pos),t.acceptToken(123)}}),C8e={154:"FunctionInvocation",153:"FilterExpression",152:"PathExpression"},D8e={169:"Context",167:"FunctionDefinition",130:"ForExpression",165:"List",139:"IfExpression",140:"QuantifiedExpression"},T8e={96:"Context",89:"FunctionDefinition",4:"ForExpression",88:"List",19:"IfExpression",23:"QuantifiedExpression",67:"PathExpression",71:"FunctionInvocation",69:"FilterExpression",41:"ArithmeticExpression"};class Aw{constructor(i){this.fn=i}get(i){return this.fn(i)}static of(i){return new Aw(i)}}const Oee=Object.keys({"date and time":1,date:1,time:1,duration:1});class P8e{constructor(i={}){this.value=i}getKeys(){return Object.keys(this.value)}get(i){const o=this.value[i],s=this.constructor;return s.isAtomic(o)?o:s.of(o)}set(i,o){return this.constructor.of({...this.value,[i]:o})}static isAtomic(i){return!i||i instanceof this||i instanceof Aw||"object"!=typeof i}static of(...i){const o=a=>a&&"object"==typeof a?a instanceof this?a.value:{...a}:{};return new this(i.reduce((a,l)=>({...a,...o(l)}),{}))}}class Iw{constructor({name:i="Expressions",tokens:o=[],children:s=[],parent:a=null,context:l=null,value:c=null,raw:u=null}={}){this.name=i,this.tokens=o,this.children=s,this.parent=a,this.context=l,this.value=c,this.raw=u}enterScope(i){const o=this.of({name:i,parent:this});return xf&&console.log("[%s] enter",o.path,o.context),o}exitScope(i){return this.parent?(xf&&console.log("[%s] exit %o\n%s",this.path,this.context,Tee(i,"  ")),this.parent.pushChild(this)):(xf&&console.log("[%s] NO exit %o\n%s",this.path,this.context,Tee(i,"  ")),this)}token(i){return xf&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),i),this.assign({tokens:[...this.tokens,i]})}literal(i){return xf&&console.log("[%s] literal %o",this.path,i),this.pushChild(this.of({name:"Literal",value:i}))}computedValue(){for(let i=this;;i=i5(i.children)){if(!i)return null;if(i.value)return i.value}}contextKeys(){return this.context.getKeys().map(KT)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(i){const o=[i,i&&KT(i)],s=this.context.getKeys().find(l=>o.includes(KT(l)));if(typeof s>"u")return;const a=this.context.get(s);return a instanceof Aw?a.get(this):a}resolveName(){const i=this.tokens.join(" "),s=this.assign({tokens:[]}),a=this.of({name:"VariableName",parent:s,value:this.get(i),raw:i});return xf&&console.log("[%s] resolve name <%s=%s>",a.path,i,this.get(i)),s.pushChild(a)}pushChild(i){if(!i)return this;const o=this.assign({children:[...this.children,i]});return i.parent=o,o}pushChildren(i){let o=this;for(const s of i)o=o.pushChild(s);return o}declareName(){if(0===this.tokens.length)throw Error("no tokens to declare name");const i=this.tokens.join(" ");return xf&&console.log("[%s] declareName <%s>",this.path,i),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:i}))}define(i,o){if("string"!=typeof i)return xf&&console.log("[%s] no define <%s=%s>",this.path,i,o),this;xf&&console.log("[%s] define <%s=%s>",this.path,i,o);const s=this.context.set(i,o);return this.assign({context:s})}assign(i={}){return Iw.of({...this,...i})}of(i={}){return Iw.of({context:this.context,parent:this.parent,...i})}static of(i){const{name:o,tokens:s=[],children:a=[],parent:l=null,context:c,value:u,raw:p}=i;if(!c)throw new Error("must provide <context>");return new Iw({name:o,tokens:[...s],children:[...a],context:c,parent:l,value:u,raw:p})}}function KT(t){return t.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function kee(t,i,o){const s=t.children.filter(h=>h.name!==i),a=t.children.filter(h=>h.name===i),l=s[0],c=s[Math.max(1,s.length-1)],u=l?.computedValue(),p=c?.computedValue()||null;return t.assign({children:a}).enterScope(i).pushChildren(s).exitScope(o).define(u,p)}const k8e=function O8e(t={},i=P8e){const o=Iw.of({context:i.of(t)});return new f5e({start:o,reduce(s,a,l,c){if(19===a){const[y,E]=s.children.slice(-2);s=s.assign({value:i.of(y?.computedValue(),E?.computedValue())})}if(88===a&&(s=s.assign({value:i.of(...s.children.map(y=>y?.computedValue()))})),69===a){const[y,E]=s.children.slice(-2);s=s.assign({value:y?.computedValue()})}if(71===a){const[y,...E]=s.children;"get value"===y?.raw&&(s=function M8e(t,i){if(!i.length)return t.assign({value:null});if("Name"===i[0].name&&(i=function R8e(t,i){const o={};for(let s=0;s<t.length;s+=2){const[a,l]=t.slice(s,s+2);o[a.value]=l}return i.map(s=>o[s])}(i,["m","key"])),2!==i.length)return t.assign({value:null});const[o,s]=i,a=s?.computedValue(),l=o?.computedValue();return t.assign(l&&"object"==typeof l&&"string"==typeof a?{value:[KT(a),a].reduce((c,u)=>l.get(u)||c,null)}:{value:null})}(s,E))}const u=D8e[a];if(u)return s.enterScope(u);const p=C8e[a];if(p){const{children:y,context:E}=s,S=y.slice(0,-1),D=i5(y);let k=null;return 152===a&&(k=i.of(D?.computedValue())),153===a&&(k=i.of(E,D?.computedValue()).set("item",D?.computedValue())),s.assign({children:S}).enterScope(p).pushChild(D).assign({context:k||E})}const h=c.read(c.pos,l.pos);if(T8e[a])return s.exitScope(h);if(97===a){const y=s.children.filter(D=>"ContextEntry"!==D.name),E=y[0],S=i5(y);return kee(s,"ContextEntry",h).assign({value:i.of(s.value).set(E?.computedValue(),S?.computedValue())})}if(7===a||27===a)return kee(s,"InExpression",h);if(138===a)return s.define("partial",Aw.of(y=>i5(y.children)?.computedValue()));if(75===a){const y=i5(s.children).computedValue();return s.define(y,1)}if(144===a||145===a||146===a){const y=s.children.slice(0,-1),E=i5(s.children);return s.assign({children:y}).enterScope("ArithmeticExpression").pushChild(E)}if(147===a)return s.enterScope("ArithmeticExpression");if(9===a||10===a||100===a)return s.token(h);if(79===a)return s.literal(h.replace(/^"|"$/g,""));if(80===a)return s.literal("true"===h);if(78===a)return s.literal(parseFloat(h));if(159===a)return s.literal(null);if(47===a)return s.resolveName();if(8===a||99===a)return s.declareName();if((127===a||37===a)&&s.tokens.length>0)throw new Error("uncleared name");if(127===a){let y=s;for(;y.parent;)y=y.exitScope(h);return y}return s}})}({});function i5(t){return t[t.length-1]}const A8e=Hx({StringLiteral:ce.string,NumericLiteral:ce.number,BooleanLiteral:ce.bool,"AtLiteral!":ce.special(ce.string),CompareOp:ce.compareOperator,ArithOp:ce.arithmeticOperator,"for if then else some every satisfies between return":ce.controlKeyword,"in instance of and or":ce.operatorKeyword,function:ce.definitionKeyword,as:ce.keyword,"Type/...":ce.typeName,Wildcard:ce.special(ce.variableName),null:ce.null,LineComment:ce.lineComment,BlockComment:ce.blockComment,'VariableName! "?"':ce.variableName,"DateTimeConstructor! SpecialFunctionName!":ce.function(ce.special(ce.variableName)),"List Interval":ce.list,Context:ce.definition(ce.literal),"Name!":ce.definition(ce.variableName),"Key/Name! ContextEntryType/Name!":ce.definition(ce.propertyName),"PathExpression/VariableName!":ce.function(ce.propertyName),"FormalParameter/ParameterName!":ce.function(ce.definition(ce.variableName)),"( )":ce.paren,"[ ]":ce.squareBracket,"{ }":ce.brace,".":ce.derefOperator,", ;":ce.separator,"..":ce.punctuation}),I8e={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:99,time:101,duration:103,years:105,months:107,date:109,list:115,context:121,function:128,null:154,true:326,false:326,"?":168,external:184,not:209},Mee=zx.deserialize({version:14,states:"CpO`QYOOO`QYOOO$gQYOOOOQU'#Ce'#CeO$qQYO'#C`O%zQYO'#FPOOQQ'#Fe'#FeO&UQYO'#FeO`QYO'#DVOOQU'#Em'#EmO'rQ^O'#D]OOQO'#Fl'#FlO)oQWO'#DuOOQQ'#D|'#D|OOQQ'#D}'#D}OOQQ'#EO'#EOO)tOWO'#ERO)oQWO'#EPOOQQ'#EP'#EPOOQQ'#Fr'#FrOOQQ'#Fp'#FpOOQQ'#Fw'#FwOOQQ'#ET'#ETO`QYO'#EVOOQQ'#FR'#FRO)yQ^O'#FRO+pQYO'#EWO+wQWO'#EXOOQP'#F{'#F{O+|QXO'#E`OOQQ'#Fx'#FxOOQQ'#FQ'#FQQOQWOOOOQQ'#FS'#FSOOQQ'#F]'#F]O`QYO'#CoOOQQ'#F^'#F^O$qQYO'#CsO,XQYO'#DvOOQQ'#Fq'#FqO,^QYO'#EQOOQO'#EQ'#EQO`QYO'#EUO`QYO'#ETOOQO'#Fy'#FyQ,fQWOOO,kQYO'#DRO-bQWO'#FaOOQO'#DT'#DTO-mQYO'#FeO-tQWOOO.kQYO'#CdO.xQYO'#FUOOQQ'#Cc'#CcO.}QYO'#FTOOQQ'#Cb'#CbO/VQYO,58zO`QYO,59iOOQQ'#Fb'#FbOOQQ'#Fc'#FcOOQQ'#Fd'#FdO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fj'#FjO$qQYO,5:]OOQQ'#Fk'#FkO`QYO,5:_O`QYO,59eO`QYO,59gO`QYO,59iO0uQYO,59iO0|QYO,59rOOQQ,5:h,5:hO1RQYO,59qOOQU-E8k-E8kO2uQYO'#FmOOQQ,5:a,5:aOOQQ,5:m,5:mOOQQ,5:k,5:kO2|QYO,5:qOOQQ,5;m,5;mO3WQYO,5:pO3eQWO,5:rO3jQYO,5:sOOQP'#Ed'#EdO4aQXO'#EcOOQO'#Eb'#EbO4hQWO'#EaO4mQWO'#F|O4uQWO,5:zO4zQYO,59ZO.xQYO'#F`OOQQ'#Cw'#CwO5RQYO'#F_OOQQ'#Cv'#CvO5ZQYO,59_O5`QYO,5:bO5eQYO,5:lO3PQYO,5:pO5jQYO,5:oO`QYO'#EvQ,fQWOOO`QYO'#ElO6aQWO,5;{O`QYOOOOQR'#Cf'#CfOOQQ'#Ei'#EiO7ZQYO,59OO`QYO,5;pOOQQ'#FX'#FXO$qQYO'#EjO7kQYO,5;oO`QYO1G.fOOQQ'#F['#F[O8bQYO1G/TO;XQYO1G/]O;cQYO1G/]O;mQYO1G/]OOQQ1G/w1G/wO=aQYO1G/yO=hQYO1G/PO>qQYO1G/RO?zQYO1G/TO`QYO1G/TOOQQ1G/T1G/TO@bQYO1G/^O@|Q^O'#CdOB`QYO'#FoOOQO'#Dy'#DyOBjQWO'#DxOBoQWO'#FnOOQO'#Dw'#DwOOQO'#Dz'#DzOBwQWO,5<XOOQQ1G0]1G0]O`QYO1G0[O`QYO'#ErOB|QWO,5<ZOOQQ1G0^1G0^OCXQWO'#EZOCdQWO'#FzOOQO'#EY'#EYOClQWO1G0_OOQP'#Et'#EtOCqQXO,5:}O`QYO,5:{OCxQXO'#EuODQQWO,5<hOOQQ1G0f1G0fO`QYO1G.uO`QYO,5;zO$qQYO'#EkODYQYO,5;yO`QYO1G.yODbQYO1G/|OOQO1G0W1G0WOOQO,5;b,5;bOOQO-E8t-E8tOOQO,5;W,5;WOOQO-E8j-E8jODgQWOOOOQQ-E8g-E8gODlQYO'#CmOOQQ1G1[1G1[OOQQ,5;U,5;UOOQQ-E8h-E8hODyQYO7+$QOOQQ7+%e7+%eO`QYO7+$oOEpQYO,5:qOE}QWO7+$oOFSQYO'#D[OOQQ'#DZ'#DZOGvQYO'#D^OG{QYO'#D^OHQQYO'#D^OHVQ`O'#DfOH[Q`O'#DiOHaQ`O'#DmOOQQ7+$x7+$xO`QYO,5:dO$qQYO'#EqOHfQWO,5<YOOQQ1G1s1G1sOIlQYO7+%vOIyQYO,5;^OOQO-E8p-E8pO@bQYO,5:uO$qQYO'#EsOJWQWO,5<fOJ`QYO7+%yOOQP-E8r-E8rOJgQYO1G0gOOQO,5;a,5;aOOQO-E8s-E8sOJqQYO7+$aOJxQYO1G1fOOQQ,5;V,5;VOOQQ-E8i-E8iOKSQYO7+$eOOQO7+%h7+%hO`QYO,59XOKyQYO<<HZOOQQ<<HZ<<HZO$qQYO'#EnOMSQYO,59vONvQYO,59xON{QYO,59xO! QQYO,59xO! VQYO,5:QO$qQYO,5:TO! qQbO,5:XO! xQYO1G0OOOQO,5;],5;]OOQO-E8o-E8oO!!SQYO<<IbOOQQ<<Ib<<IbOOQO1G0a1G0aOOQO,5;_,5;_OOQO-E8q-E8qO!%OQYO'#E]OOQQ<<Ie<<IeO`QYO<<IeO`QYO<<G{O!%uQYO1G.sOOQQ,5;Y,5;YOOQQ-E8l-E8lO!&PQYO1G/dOOQQ1G/d1G/dO!&UQbO'#D]O!&gQ`O'#D[O!&rQ`O1G/lO!&wQWO'#DlO!&|Q`O'#FfOOQO'#Dk'#DkO!'UQ`O1G/oOOQO'#Dp'#DpO!'ZQ`O'#FhOOQO'#Do'#DoO!'cQ`O1G/sOOQQAN?PAN?PO!'hQYOAN=gOOQQ7+%O7+%OO!(_Q`O,59vOOQQ7+%W7+%WO! VQYO,5:WO$qQYO'#EoO!(jQ`O,5<QOOQQ7+%Z7+%ZO! VQYO'#EpO!(rQ`O,5<SO!(zQ`O7+%_OOQO1G/r1G/rOOQO,5;Z,5;ZOOQO-E8m-E8mOOQO,5;[,5;[OOQO-E8n-E8nO@bQYO<<HyOOQQAN>eAN>eO$qQYO'#EnO! VQYO<<HyO!)PQ`O7+%_O!)UQ`O1G/sO! qQbO,5:XO!)ZQ`O'#Dm",stateData:"!)h~O#qOS#rOSPOSQOS~OTqOZVO[UOdrOhtOitOs{OvgO!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~OTqO[UOdrOhtOitOs{OvgO!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~OZ!RO#[!SO~P!|O#mRO#nRO~OZ![O[![O]!]O^!]O_!^O`!iOn!fOp!gOr!ZOs!ZOt!hO{!jO!h!dO#y!bOv$`X~O#k#sX$q#sX~P$yO$g!kOT$XXZ$XX[$XXd$XXh$XXi$XXs$XXv$XX!S$XX!T$XX!U$XX!W$XX!b$XX!f$XX!h$XX!o$XX!v$XX#R$XX#m$XX#n$XX$h$XX$i$XX$j$XX~O#mRO#nROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!h!PX#k!PX#o!PX#y!PX$q!PX#}!PXx!PX#|!PX!f!PXe!PXb!PX#Q!PXf!PXl!PX~Ov!nO~O$h^O~O#o!sOZ#uX[#uX]#uX^#uX_#uX`#uXn#uXp#uXr#uXs#uXt#uXv#uX{#uX!h#uX#k#uX#y#uX$q#uX#}#uXx#uX#|#uX!f#uXe#uXb#uX#Q#uXf#uXl#uX~O!f$cP~P`Ov!vO~O#l!wO$h^O#Q$pP~Op#TO~Op#UOv!tX~O$q#XO~O#kuX#}uX$quXxuX#|uX!fuXeuXbuX#QuXfuXluX~P$yO#}#ZO#k$TXx$TX~O#k#ZX~P&UOv#]O~OZ#^O[#^O]#^O^#^O_#^O#mRO#nRO#y#^O#z#^O$ZWX~O`WXxWX#}WX~P-yO`#bO~O#}#cOb#wX~Ob#fO~OTqOZVO[UOdrOhtOitOs{O!SyO!TyO!UvO!WxO!b|O!fzO!heO!owO!vhO#RlO#mRO#nRO$g]O$h^O$i_O$j`O~Ov#pO~P/[O|#rO~O{!jO!h!dO#y!bOZya[ya]ya^ya_ya`yanyapyaryasyatyav$`X#kya$qya#}yaxya#|ya!fyaeyabya#Qyafyalya~Ox$cP~P`Ox#{O#|#|O~P$yO#|#|O#}#}O!f$cX~P$yO!f$PO~O#mRO#nROx$nP~OZ#^O[#^O]#^O^#^O_#^O#l!wO#y#^O#z#^O~O$Z#VX~P3uO$Z$WO~O#}$XO#Q$pX~O#Q$ZO~Oe$[O~P$yO#}$^Ol$RX~Ol$`O~O!V$aO~O!S$bO~O#k!wa$q!wa#}!wax!wa#|!wa!f!wae!wab!wa#Q!waf!wal!wa~P$yO#}#ZO#k$Tax$Ta~OZ#^O[#^O]#^O^#^O_#^O#mRO#nRO#y#^O#z#^O~O`Wa$ZWaxWa#}Wa~P6lO#}#cOb#wa~OZ![O[![O]!]O^!]O_!^O{!jO!h!dO#y!bOv$`X~O`qinqipqirqisqitqi#kqi$qqi#}qixqi#|qi!fqieqibqi#Qqifqilqi~P7sO_!^O{!jO!h!dO#y!bOZyi[yi`yinyipyiryisyityiv$`X#kyi$qyi#}yixyi#|yi!fyieyibyi#Qyifyilyi~O]!]O^!]O~P9kO]yi^yi~P9kO{!jO!h!dO#y!bOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$`X#kyi$qyi#}yixyi#|yi!fyieyibyi#Qyifyilyi~O!f$nO~P$yO`!iOp!gOr!ZOs!ZOt!hOnmi#kmi$qmi#}mixmi#|mi!fmiemibmi#Qmifmilmi~P7sO`!iOr!ZOs!ZOt!hOnoipoi#koi$qoi#}oixoi#|oi!foieoiboi#Qoifoiloi~P7sO`!iOn!fOp$oOr!ZOs!ZOt!hO~P7sO!R$tO!U$uO!W$vO!Z$wO!^$xO!b$yO#mRO#nRO~OZ#aX[#aX]#aX^#aX_#aX`#aXn#aXp#aXr#aXs#aXt#aXv#aXx#aX{#aX!h#aX#m#aX#n#aX#o#aX#y#aX#}#aX~P-yO#}#}Ox$cX~P$yO$Z${O~O#}$|Ox$bX~Ox%OO~O#}#}O!f$cax$ca~O$Z%SOx!}X#}!}X~O#}%TOx$nX~Ox%VO~O$Z#Va~P3uO#l!wO$h^O~O#}$XO#Q$pa~O#}$^Ol$Ra~O!T%aO~OxpO~O#|%bObaX#}aX~P$yO#kSq$qSq#}SqxSq#|Sq!fSqeSqbSq#QSqfSqlSq~P$yOx#{O#|#|O#}uX~P$yOx%dO~O#y%eOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!h!OX#k!OX$q!OX#}!OXx!OX#|!OX!f!OXe!OXb!OX#Q!OXf!OXl!OX~Op%gO~Op%hO~Op%iO~O![%jO~O![%kO~O![%lO~O#}$|Ox$ba~OZ![O[![O]!]O^!]O_!^O`!iOn!fOp!gOr!ZOs!ZOt!hO{!jO#y!bOv$`X~Ox%qO!f%qO!h%pO~PHnO!f#fa#}#fax#fa~P$yO#}%TOx$na~O#O%wO~P`O#Q#Ti#}#Ti~P$yOf%xO~P$yOl$Si#}$Si~P$yO#kgq$qgq#}gqxgq#|gq!fgqegqbgq#Qgqfgqlgq~P$yO`qynqypqyrqysqytqy#kqy$qqy#}qyxqy#|qy!fqyeqybqy#Qqyfqylqy~P7sO#y%eOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!h!Oa#k!Oa$q!Oa#}!Oax!Oa#|!Oa!f!Oae!Oab!Oa#Q!Oaf!Oal!Oa~O!S%|O~O!V%|O~O!S%}O~O!R$tO!U$uO!W$vO!Z$wO!^$xO!b&sO#mRO#nRO~O!X$[P~P! VOx!li#}!li~P$yOT$_XZ$_X[$_X]!xy^!xy_!xy`!xyd$_Xh$_Xi$_Xn!xyp!xyr!xys$_Xt!xyv$_X{!xy!S$_X!T$_X!U$_X!W$_X!b$_X!f$_X!h$_X!o$_X!v$_X#R$_X#k!xy#m$_X#n$_X#y!xy$g$_X$h$_X$i$_X$j$_X$q!xy#}!xyx!xy#|!xye!xyb!xy#Q!xyf!xyl!xy~O#k#PX$q#PX#}#PXx#PX#|#PX!f#PXe#PXb#PX#Q#PXf#PXl#PX~P$yObai#}ai~P$yO!T&]O~O#mRO#nRO!X!PX#y!PX#}!PX~O#y&nO!X!OX#}!OX~O!X&_O~O$Z&`O~O#}&aO!X$YX~O!X&cO~O#}&dO!X$[X~O!X&fO~O#kc!R$qc!R#}c!Rxc!R#|c!R!fc!Rec!Rbc!R#Qc!Rfc!Rlc!R~P$yO#y&nO!X!Oa#}!Oa~O#}&aO!X$Ya~O#}&dO!X$[a~O$]&lO~O$]&oO~O!X&pO~O![&rO~OQP_^$g]#y~",goto:"Du$qPPPP$rP%k%n%t&W'qPPPPPP'zP$rPPP$rPP'}(QP$rP$rP$rPPP(WP(cP$r$rPP(l)R)^)RPPPPPPP)RPP)RP*k*n)RP*t*z$rP$rP$r+R+z+},T+zP,]-U,],].U.}P$r/v$r0o0o1h1kP1qPP0o1w1}.Q2RPP2ZP2^2e2k2q2w4S4^4d4j4p4w4}5T5ZPPPPPPPP5a5j7q8j9c9fPP9jPP9p9s:l;e;h;l;q<`=O=o>hP>kP>o?b@T@|ASAV$rA]A]PPPPBU7qB}CvCyDr!mhOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!YSQ!WSR$k#cS!US#cS#Ou$^W#u!n!v$|%TT&R%k&a#WXOPQWYgjsz{!Z!_!`!a!c!e!f!g!h!i#X#Z#]#a#e#p#r#|#}$W$[$]$`$o${%S%V%b%e%j%l%w%x&O&`&d&l&n&o&rb!TSu!v#c$^$|%T%k&aU#_!T#`#sR#s!nU#_!T#`#sT$U!x$VR$j#aR#SuQ#QuR%^$^U!PQ#]#pQ#q!iR$e#ZQpQQ$g#]R$q#pQ$z#rQ%r%SQ&Q%jU&V%l&d&rQ&g&`T&m&l&oc$s#r%S%j%l&`&d&l&o&r!liOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ#k!cU$r#r%S&lS%z%e&n]&P%j%l&`&d&o&rR&U%kQ&S%kR&h&aQ&Y%lR&q&rS&W%l&rR&j&d!mZOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR#z!nQ#w!nR%n$|S#v!n$|T$Q!v%T!mcOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!lcOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ!p`T!ym$X!maOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mbOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mfOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mnOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR$T!vQ$R!vR%s%TQ%v%VR&Z%wQ!{mR%Y$XT!zm$XS!xm$XT$U!x$VRpQS#`!T#sR$h#`Q#d!WR$l#dQ$_#QR%_$_Q#[!PR$f#[!vYOPQWgjsz{!Z!_!`!a!c!e!f!g!h!i!n#X#Z#]#a#e#p#r#|#}$W$[$]$`$o${%S%V%b%e%w%x&lS!mY&O_&O%j%l&`&d&n&o&rQ%f$rS%{%f&^R&^&PQ&b&SR&i&bQ&e&WR&k&eQ$}#wR%o$}S$O!t#tR%R$OQ%U$RR%t%UQ$V!xR%W$VQ$Y!{R%Z$YQ#Y}R$d#YQpOQ}PR$c#XUTOP#XW!OQ!i#Z#]Q!lWQ!rgQ!tjQ!}sQ#VzQ#W{Q#g!ZQ#h!_Q#i!`Q#j!aQ#l!eQ#m!fQ#n!gQ#o!hQ#t!nQ$i#aQ$m#eQ$p#pQ%P#|Q%Q#}Q%X$WQ%[$[Q%]$]Q%`$`Q%c$oQ%m${S%u%V%wQ%y%bR&[%x!moOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mSOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!XST!VS#cQ#a!UR$]#OR#e!Y!msOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!muOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR#RuT#Pu$^V!QQ#]#p!X!_T!O!r!t!}#V#W#g#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!Z!`T!O!r!t!}#V#W#g#h#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!]!aT!O!r!t!}#V#W#g#h#i#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!mWOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR&T%kT&X%l&r!a!cT!O!l!r!t!}#V#W#g#h#i#j#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!a!eT!O!l!r!t!}#V#W#g#h#i#j#l#m#n#o#t$i$m$p%P%Q%X%[%]%`%c%m%u%y&[!m[OPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xQ!o[R!qaR#x!nQ!ujR#y!n!mdOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mjOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%x!mkOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR$S!v!mmOPQWgjsz{!Z!_!`!a!e!f!g!h!i!n#X#Z#]#a#e#p#|#}$W$[$]$`$o${%V%b%w%xR!|m",nodeNames:"\u26a0 LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:171,context:k8e,nodeProps:[["closedBy",38,")",70,"]",95,"}"],["openedBy",40,"(",68,"[",94,"{"],["group",-5,77,78,79,80,81,"Literal"]],propSources:[A8e],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:"+l~RuXY#fYZ$ZZ[#f]^$Zpq#fqr$`rs$kwx&cxy&hyz&mz{&r{|'P|}'U}!O'Z!O!P'h!P!Q(Q!Q![){![!]*^!]!^*c!^!_*h!_!`$f!`!a*w!b!c+R!}#O+W#P#Q+]#Q#R&z#o#p+b#q#r+g$f$g#f#BY#BZ#f$IS$I_#f$I|$I}$Z$I}$JO$Z$JT$JU#f$KV$KW#f&FU&FV#f?HT?HU#f~#kY#q~XY#fZ[#fpq#f$f$g#f#BY#BZ#f$IS$I_#f$JT$JU#f$KV$KW#f&FU&FV#f?HT?HU#f~$`O#r~~$cP!_!`$f~$kOr~~$pW$h~OY$kZr$krs%Ys#O$k#O#P%_#P;'S$k;'S;=`&]<%lO$k~%_O$h~~%bRO;'S$k;'S;=`%k;=`O$k~%pX$h~OY$kZr$krs%Ys#O$k#O#P%_#P;'S$k;'S;=`&];=`<%l$k<%lO$k~&`P;=`<%l$k~&hO#z~~&mOv~~&rOx~~&wP^~z{&z~'PO_~~'UO[~~'ZO#}~R'`PZP!`!a'cQ'hO$]Q~'mQ#y~!O!P's!Q!['x~'xO#|~~'}P$g~!Q!['x~(VQ]~z{(]!P!Q)d~(`TOz(]z{(o{;'S(];'S;=`)^<%lO(]~(rVOz(]z{(o{!P(]!P!Q)X!Q;'S(];'S;=`)^<%lO(]~)^OQ~~)aP;=`<%l(]~)iSP~OY)dZ;'S)d;'S;=`)u<%lO)d~)xP;=`<%l)d~*QQ$g~!O!P*W!Q![){~*ZP!Q!['x~*cO$Z~~*hO$q~R*oP![QsP!_!`*rP*wOsPR+OP!XQsP!_!`*r~+WO$j~~+]O!h~~+bO!f~~+gO#R~~+lO#Q~",tokenizers:[w8e,x8e,S8e,0,1],topRules:{Expression:[0,3],Expressions:[1,101],UnaryTests:[2,102]},dynamicPrecedences:{31:-1,71:-1,73:-1},specialized:[{term:121,get:t=>I8e[t]||-1}],tokenPrec:2500});function N8e(t){const i=[];return t.iterate({enter:o=>{const s=o.node;if(!s.type.isError)return;const a=s.parent,l=Ree(s),c={from:s.from,to:s.to,severity:"error",type:"Syntax Error"};if(s.from!==s.to)c.message=`Unrecognized token in <${a.name}>`;else if(l)c.message=`Unrecognized token <${l.name}> in <${a.name}>`,c.to=l.to;else{const u=a.enterUnfinishedNodesBefore(s.to);c.message=`Incomplete <${(u||a).name}>`}i.push(c)}}),i}function Ree(t){return t?t.nextSibling||Ree(t.parent):null}const Iee=()=>t=>0===t.state.doc.length?[]:function Aee(t){return[...N8e(t)]}(Ki(t.state)).map(s=>({...s,source:s.type})),L8e=PT(Mm.define([{tag:ce.strong,fontWeight:"bold"},{tag:ce.emphasis,fontStyle:"italic"}]));var Nee=[Dn.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}}),L8e];const Lee=t=>`%23${t.slice(1)}`,tr={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},Rs={lightBackground:tr.white,darkBackground:tr.snowWhite,selection:tr.snowWhite,tooltipBackground:tr.offWhite,error:tr.red,warning:tr.yellow,invalid:"#b40000"};var j8e=[Dn.theme({"&":{color:tr.black,backgroundColor:Rs.lightBackground},".cm-content":{caretColor:tr.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:tr.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Rs.selection},".cm-panels":{backgroundColor:Rs.darkBackground,color:tr.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${tr.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${tr.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${tr.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:tr.offWhite},".cm-activeLine":{backgroundColor:Rs.selection},".cm-selectionMatch":{backgroundColor:tr.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${tr.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:tr.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:Rs.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Rs.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Rs.tooltipBackground,borderBottomColor:Rs.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Rs.darkBackground,color:tr.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${Lee(Rs.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${Lee(Rs.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${Rs.warning}`,borderLeft:`5px solid ${Rs.warning}`,background:Rs.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${Rs.error}`,borderLeft:`5px solid ${Rs.error}`,background:Rs.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),PT(Mm.define([{tag:[ce.macroName,ce.variableName],color:tr.waterBlue},{tag:[ce.special(ce.bracket)],color:tr.waterBlue,fontWeight:"bold"},{tag:[ce.color,ce.name,ce.definition(ce.name),ce.constant(ce.name),ce.standard(ce.name),ce.propertyName],color:tr.deepBlue},{tag:[ce.definition(ce.variableName),ce.function(ce.variableName),ce.function(ce.propertyName)],color:tr.brightBlue},{tag:[ce.labelName],color:tr.orangeBrown},{tag:[ce.annotation],color:Rs.invalid},{tag:[ce.number,ce.changed,ce.annotation,ce.modifier,ce.self,ce.namespace,ce.atom,ce.bool,ce.special(ce.variableName)],color:tr.red},{tag:[ce.typeName,ce.className,ce.attributeName],color:tr.lila},{tag:[ce.operator,ce.operatorKeyword,ce.tagName,ce.keyword],color:tr.purple},{tag:[ce.angleBracket,ce.squareBracket,ce.brace,ce.separator,ce.punctuation],color:tr.midGrey},{tag:[ce.regexp],color:tr.deepBlue},{tag:[ce.quote],color:tr.darkGrey},{tag:[ce.string,ce.character,ce.deleted],color:tr.orangeBrown},{tag:ce.link,color:tr.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[ce.url,ce.escape,ce.special(ce.string)],color:tr.red},{tag:[ce.meta],color:tr.iceBlue},{tag:[ce.comment],color:tr.midGrey,fontStyle:"italic"},{tag:ce.strong,fontWeight:"bold",color:tr.deepBlue},{tag:ce.emphasis,fontStyle:"italic",color:tr.deepBlue},{tag:ce.strikethrough,textDecoration:"line-through"},{tag:ce.heading,fontWeight:"bold",color:tr.midGray},{tag:ce.special(ce.heading1),fontWeight:"bold",color:tr.darkGrey},{tag:[ce.heading1,ce.heading2,ce.heading3,ce.heading4],fontWeight:"bold",color:tr.midGrey},{tag:[ce.heading5,ce.heading6,ce.processingInstruction,ce.inserted],color:tr.grey},{tag:[ce.contentSeparator],color:tr.yellow},{tag:ce.invalid,color:tr.midGrey,borderBottom:`1px dotted ${Rs.invalid}`}]))];const lL="#f07178",o5="#fffce1",cL="#ec9e6f",uL="rgba(0, 0, 0, 0.5)",dL="#353a42";var Y8e=[Dn.theme({"&":{color:"#ffffff",backgroundColor:"#292d3e"},".cm-content":{caretColor:"#ffcc00"},"&.cm-focused .cm-cursor":{borderLeftColor:"#ffcc00"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"rgba(128, 203, 196, 0.2)"},".cm-panels":{backgroundColor:"#21252b",color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:uL},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:uL},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:dL},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:dL,borderBottomColor:dL},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:uL,color:"#abb2bf"}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='%23fff890' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='red' fill='none' stroke-width='1.2'/></svg>\")"},"& .cm-diagnostic-warning":{borderLeft:"5px solid #fff890",background:"#281e16"},"& .cm-diagnostic-error":{borderLeft:"5px solid red",background:"#281616"},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),PT(Mm.define([{tag:ce.heading1,color:o5},{tag:ce.heading2,color:o5},{tag:ce.heading3,color:o5},{tag:ce.heading4,color:o5},{tag:ce.heading5,color:o5},{tag:ce.heading6,color:o5},{tag:ce.special(ce.bracket),color:cL,fontWeight:"bold"},{tag:ce.keyword,color:"#c792ea"},{tag:ce.operator,color:"#89ddff"},{tag:ce.special(ce.variableName),color:"#eeffff"},{tag:ce.typeName,color:"#f07178"},{tag:ce.atom,color:"#f78c6c"},{tag:ce.number,color:"#ff5370"},{tag:ce.bool,color:"#ff5370"},{tag:ce.definition(ce.variableName),color:"#82aaff"},{tag:ce.string,color:"#c3e88d"},{tag:ce.comment,color:"#7d8799"},{tag:ce.tagName,color:"#ff5370"},{tag:ce.bracket,color:"#a2a1a4"},{tag:ce.meta,color:"#ffcb6b"},{tag:ce.special(ce.string),color:lL},{tag:ce.propertyName,color:cL},{tag:ce.variableName,color:cL},{tag:ce.attributeName,color:lL},{tag:ce.className,color:lL},{tag:ce.invalid,color:"#ffffff"}]))];const K8e=[...Nee,...j8e],Q8e=[...Nee,...Y8e],tSe=(t,i=0)=>{const o=125===t.peek(i),s=125===t.peek(i+1);return o&&s||-1===t.peek(i)},nSe=new I3((t,i)=>{let o=0;for(;!tSe(t,o);)o++;o>0&&(t.advance(o),t.acceptToken(2))}),rSe=(t,i=0)=>{const o=123===t.peek(i),s=123===t.peek(i+1);return o&&s||-1===t.peek(i)},iSe=new I3((t,i)=>{let o=0;for(;!rSe(t,o);)o++;o>0&&(t.advance(o),t.acceptToken(3))}),oSe=new I3((t,i)=>{let o=0;for(;-1!==t.peek(o);)o++;o>0&&(t.advance(o),t.acceptToken(1))}),sSe=Hx({ConditionalSpanner:ce.special(ce.bracket),ConditionalSpannerClose:ce.special(ce.bracket),ConditionalSpannerCloseNl:ce.special(ce.bracket),LoopSpanner:ce.special(ce.bracket),LoopSpannerClose:ce.special(ce.bracket),LoopSpannerCloseNl:ce.special(ce.bracket),EmptyInsert:ce.special(ce.bracket),Insert:ce.special(ce.bracket)}),$ee=zx.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:"\u26a0 Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[sSe],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,oSe,nSe,iSe],topRules:{Feelers:[0,4]},tokenPrec:0}),cSe={ConditionalSpanner:yw,LoopSpanner:yw};function pSe(t){const i=[];return t.iterate({enter:o=>{"EmptyInsert"===o.type.name&&i.push({from:o.from,to:o.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),i}var mSe=OJ(function hSe(){const t=Iee();return i=>{const o=t(i);if(0===i.state.doc.length)return[];const a=function fSe(t){return[...pSe(t)]}(Ki(i.state));return[...o,...a.map(l=>({...l,source:"feelers linter"}))]}}());function ZT({container:t,tooltipContainer:i,hostLanguage:o,hostLanguageParser:s,onChange:a=(()=>{}),onKeyDown:l=(()=>{}),onLint:c=(()=>{}),contentAttributes:u={},readOnly:p=!1,value:h="",enableGutters:v=!1,singleLine:y=!1,darkMode:E=!1}){const S=Dn.updateListener.of(q=>{q.docChanged&&a(q.state.doc.toString())}),D=Dn.updateListener.of(q=>{const ee=q.transactions.flatMap(te=>te.effects).filter(te=>te.is(t5));if(!ee.length)return;const ae=ee.flatMap(te=>te.value);c(ae)}),k=Dn.contentAttributes.of(u),R=Dn.domEventHandlers({keydown:l});"string"==typeof i&&(i=document.querySelector(i));const L=i?yQ({tooltipSpace:function(){return i.getBoundingClientRect()}}):[],B=(t=>new LQ(function uSe(t=null){const i=$ee.configure({wrap:Z3e(o=>"Feel"==o.name||"FeelBlock"==o.name?{parser:Mee}:t&&"SimpleTextBlock"==o.name?{parser:t}:null),props:[pN.add(cSe)]});return mw.define({parser:i})}(t),[]))(s||o&&("markdown"===o?w6e:null)),$=[ZQ(),S,k,kZ(),HQ(),R,cw.of([...EJ]),B,mSe,D,L,E?Q8e:K8e,...v?[TQ()]:[],...y?[Ec.transactionFilter.of(q=>q.newDoc.lines>1?[]:q)]:[]];return p&&$.push(Dn.editable.of(!1)),y&&h&&(h=h.toString().split("\n")[0]),this._cmEditor=new Dn({state:Ec.create({doc:h,extensions:$}),parent:t}),this}ZT.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})},ZT.prototype.focus=function(t){const i=this._cmEditor;if(i.contentDOM.focus(),i.focus(),"number"==typeof t){const o=i.state.doc.length;i.dispatch({selection:{anchor:t<=o?t:o}})}},ZT.prototype.getSelection=function(){return this._cmEditor.state.selection};const zee=[$v("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),$v("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),$v("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),$v("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),$v("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),$v("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"})];function Nw(t){const{context:i,after:o,before:s,keyword:a}=t;return function _Se(t,i){const{nodes:o,before:s,after:a,keyword:l}=t;return c=>{const{state:u,pos:p}=c,h=function bSe(t,i){for(Array.isArray(i)||(i=[i]);t;t=t.parent){if(i.includes(t.name))return t;if(t.type.isTop)break}return null}(Ki(u).resolveInner(p,-1),o);return!h||Uee(h,p,[l,s])||function ySe(t,i,o){return Gee(t,i,o,1)}(h,p,[l,a])||a&&!Uee(h,p,[a])?null:i(c)}}({nodes:i,before:s,after:o,keyword:a},SN([{label:a,type:"keyword",boost:10}]))}const Hee=[Nw({context:"InExpression",keyword:"in"}),Nw({context:"IfExpression",keyword:"then",after:"if",before:"else"}),Nw({context:"IfExpression",keyword:"else",after:"then"}),Nw({context:"QuantifiedExpression",keyword:"satisfies"}),Nw({context:"ForExpression",after:"InExpressions",keyword:"return"})];function Uee(t,i,o){return Gee(t,i,o,-1)}function Gee(t,i,o,s){let a=t[s>0?"childAfter":"childBefore"](i);for(;a;){if(o.includes(a.name))return a;if(a.type.isError&&a.firstChild&&o.includes(a.firstChild.name))return a.firstChild;a=a[s>0?"nextSibling":"prevSibling"]}return null}const JT=mw.define({parser:Mee.configure({props:[jQ.add({Context:VQ({closing:"}"}),"List FilterExpression":VQ({closing:"]"}),"ParenthesizedExpression FunctionInvocation":dN({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":dN({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:dN({except:/^\s*(\(|\))/})}),pN.add({Context:yw,List:yw,ParenthesizedExpression:yw,FunctionDefinition(t){const i=t.getChild(")");return i?{from:i.to,to:t.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}});function e9(t){return t.from===t.to}function t9(t){return!!t&&("PathExpression"===t.name||t9(t.parent))}JT.configure({top:"UnaryTests"}),JT.configure({top:"Expression"});const qee=[{name:"not(negand)",description:'<p>Returns the logical negation of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">not(negand: boolean): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">not(true)\n// false\n\nnot(null)\n// null\n</code></pre>\n'},{name:"is defined(value)",description:'<p><em>Camunda Extension</em></p>\n<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.\nOtherwise, the function returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">is defined(value: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">is defined(1)\n// true\n\nis defined(null)\n// false\n\nis defined(x)\n// false - if no variable &quot;x&quot; exists\n\nis defined(x.y)\n// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;\n</code></pre>\n<p>:::caution Breaking change</p>\n<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.\nSince this version, the function returns <code>false</code> if the value is <code>null</code>.</p>\n<p>:::</p>\n'},{name:"get or else(value, default)",description:'<p><em>Camunda Extension</em></p>\n<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get or else(value: Any, default: Any): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)\n// &quot;this&quot;\n\nget or else(null, &quot;default&quot;)\n// &quot;default&quot;\n\nget or else(null, null)\n// null\n</code></pre>\n'},{name:"assert(value, condition)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0)\n// 4 - if x is 4\n// error - if x is less than zero\n</code></pre>\n'},{name:"assert(value, condition, cause)",description:'<p><em>Camunda Extension</em></p>\n<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.\nOtherwise, the evaluation fails with an error containing the given message.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)\n// &quot;value&quot; - if x is &quot;value&quot;\n// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist\n\nassert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)\n// 4 - if x is 4\n// error(&#39;x&#39; should be positive) - if x is less than zero\n</code></pre>\n'},{name:"get value(context, key)",description:'<p>Returns the value of the context entry with the given key.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, key: string): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)\n// 123\n\nget value({a: 1}, &quot;b&quot;)\n// null\n</code></pre>\n'},{name:"get value(context, keys)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the value of the context entry for a context path defined by the given keys.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>\n<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])\n// 0\n\nget value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])\n// {z:0}\n\nget value({a: {b: 3}}, [&quot;b&quot;])\n// null\n</code></pre>\n'},{name:"get entries(context)",description:'<p>Returns the entries of the context as a list of key-value-pairs.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;\n</code></pre>\n<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">get entries({foo: 123})\n// [{key: &quot;foo&quot;, value: 123}]\n</code></pre>\n'},{name:"context put(context, key, value)",description:'<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>\n<p>If an entry for the same key already exists in the context, it overrides the value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, key: string, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"context put(context, keys, value)",description:'<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>\n<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>\n<p>If an entry for the same keys already exists in the context, it overrides the value.</p>\n<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)\n// {x:1, y:2}\n\ncontext put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n\ncontext put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)\n// {x:1, y: {z:2}}\n</code></pre>\n'},{name:"context merge(contexts)",description:'<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>\n<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context merge([{x:1}, {y:2}])\n// {x:1, y:2}\n\ncontext merge([{x:1, y: 0}, {y:2}])\n// {x:1, y:2}\n</code></pre>\n<p>:::info\nThe function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The\nprevious function is deprecated and should not be used anymore.\n:::</p>\n'},{name:"string(from)",description:'<p>Returns the given value as a string representation.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string(from: Any): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string(1.1)\n// &quot;1.1&quot;\n\nstring(date(&quot;2012-12-25&quot;))\n// &quot;2012-12-25&quot;\n</code></pre>\n'},{name:"number(from)",description:'<p>Parses the given string to a number.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">number(from: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">number(&quot;1500.5&quot;)\n// 1500.5\n</code></pre>\n'},{name:"context(entries)",description:'<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>\n<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>\n<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>\n<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">context(entries: list&lt;context&gt;): context\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])\n// {a:1, b:2}\n</code></pre>\n'},{name:"date(from)",description:'<p>Returns a date from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(from: string): date\n</code></pre>\n<p>Parses the given string into a date.</p>\n<pre><code class="language-feel">date(from: date and time): date\n</code></pre>\n<p>Extracts the date component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(&quot;2018-04-29&quot;)\n// date(&quot;2018-04-29&quot;)\n\ndate(date and time(&quot;2012-12-25T11:00:00&quot;))\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"date(year, month, day)",description:'<p>Returns a date from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date(year: number, month: number, day: number): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date(2012, 12, 25)\n// date(&quot;2012-12-25&quot;)\n</code></pre>\n'},{name:"time(from)",description:'<p>Returns a time from the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(from: string): time\n</code></pre>\n<p>Parses the given string into a time.</p>\n<pre><code class="language-feel">time(from: date and time): time\n</code></pre>\n<p>Extracts the time component from the given date and time.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(&quot;12:00:00&quot;)\n// time(&quot;12:00:00&quot;)\n\ntime(date and time(&quot;2012-12-25T11:00:00&quot;))\n// time(&quot;11:00:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second)",description:'<p>Returns a time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(23, 59, 0)\n// time(&quot;23:59:00&quot;)\n</code></pre>\n'},{name:"time(hour, minute, second, offset)",description:'<p>Returns a time from the given components, including a timezone offset.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))\n// time(&quot;14:30:00+01:00&quot;)\n</code></pre>\n'},{name:"date and time(from)",description:'<p>Parses the given string into a date and time.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(from: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(&quot;2018-04-29T009:30:00&quot;)\n// date and time(&quot;2018-04-29T009:30:00&quot;)\n</code></pre>\n'},{name:"date and time(date, time)",description:'<p>Returns a date and time from the given components.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date, time: time): date and time\n</code></pre>\n<pre><code class="language-feel">date and time(date: date and time, time: time): date and time\n</code></pre>\n<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-24T23:59:00&quot;)\n\ndate and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))\n// date and time(&quot;2012-12-25T23:59:00&quot;)\n</code></pre>\n'},{name:"date and time(date, timezone)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns the given date and time value at the given timezone.</p>\n<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)\n// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)\n\ndate and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)\n// date and time(&quot;2020-07-31T12:27:30Z&quot;)\n</code></pre>\n'},{name:"duration(from)",description:'<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duration(from: string): days and time duration\n</code></pre>\n<pre><code class="language-feel">duration(from: string): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duration(&quot;P5D&quot;)\n// duration(&quot;P5D&quot;)\n\nduration(&quot;P32Y&quot;)\n// duration(&quot;P32Y&quot;)\n</code></pre>\n'},{name:"years and months duration(from, to)",description:'<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))\n// duration(&quot;P1Y8M&quot;)\n</code></pre>\n'},{name:"list contains(list, element)",description:'<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">list contains(list: list, element: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">list contains([1,2,3], 2)\n// true\n</code></pre>\n'},{name:"count(list)",description:'<p>Returns the number of elements of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">count(list: list): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">count([1,2,3])\n// 3\n</code></pre>\n'},{name:"min(list)",description:'<p>Returns the minimum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">min(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">min([1,2,3])\n// 1\n\nmin(1,2,3)\n// 1\n</code></pre>\n'},{name:"max(list)",description:'<p>Returns the maximum of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">max(list: list): Any\n</code></pre>\n<p>All elements in <code>list</code> should have the same type and be comparable.</p>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">max([1,2,3])\n// 3\n\nmax(1,2,3)\n// 3\n</code></pre>\n'},{name:"sum(list)",description:'<p>Returns the sum of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sum(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sum([1,2,3])\n// 6\n\nsum(1,2,3)\n// 6\n</code></pre>\n'},{name:"product(list)",description:'<p>Returns the product of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">product(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">product([2, 3, 4])\n// 24\n\nproduct(2, 3, 4)\n// 24\n</code></pre>\n'},{name:"mean(list)",description:'<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mean(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mean([1,2,3])\n// 2\n\nmean(1,2,3)\n// 2\n</code></pre>\n'},{name:"median(list)",description:'<p>Returns the median element of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">median(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">median(8, 2, 5, 3, 4)\n// 4\n\nmedian([6, 1, 2, 3])\n// 2.5\n</code></pre>\n'},{name:"stddev(list)",description:'<p>Returns the standard deviation of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">stddev(2, 4, 7, 5)\n// 2.0816659994661326\n\nstddev([2, 4, 7, 5])\n// 2.0816659994661326\n</code></pre>\n'},{name:"mode(list)",description:'<p>Returns the mode of the given list of numbers.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">mode(list: list&lt;number&gt;): number\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">mode(6, 3, 9, 6, 6)\n// [6]\n\nmode([6, 1, 9, 6, 1])\n// [1, 6]\n</code></pre>\n'},{name:"all(list)",description:'<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>\n<p>If the given list is empty, it returns <code>true</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">all([true,false])\n// false\n\nall(false,null,true)\n// false\n</code></pre>\n<p>:::info\nThe function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"any(list)",description:'<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>\n<p>If the given list is empty, it returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean\n</code></pre>\n<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">any([false,true])\n// true\n\nany(false,null,true)\n// true\n</code></pre>\n<p>:::info\nThe function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and\nshould not be used anymore.\n:::</p>\n'},{name:"sublist(list, start position)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 2)\n// [2,3]\n</code></pre>\n'},{name:"sublist(list, start position, length)",description:'<p>Returns a partial list of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sublist([1,2,3], 1, 2)\n// [1,2]\n</code></pre>\n'},{name:"append(list, items)",description:'<p>Returns the given list with all <code>items</code> appended.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">append(list: list, items: Any): list\n</code></pre>\n<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">append([1], 2, 3)\n// [1,2,3]\n</code></pre>\n'},{name:"concatenate(lists)",description:'<p>Returns a list that includes all elements of the given lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">concatenate(lists: list): list\n</code></pre>\n<p>The parameter <code>lists</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">concatenate([1,2],[3])\n// [1,2,3]\n\nconcatenate([1],[2],[3])\n// [1,2,3]\n</code></pre>\n'},{name:"insert before(list, position, newItem)",description:'<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">insert before([1,3],1,2)\n// [2,1,3]\n</code></pre>\n'},{name:"remove(list, position)",description:'<p>Returns the given list without the element at <code>position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">remove(list: list, position: number): list\n</code></pre>\n<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">remove([1,2,3], 2)\n// [1,3]\n</code></pre>\n'},{name:"reverse(list)",description:'<p>Returns the given list in revered order.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">reverse(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">reverse([1,2,3])\n// [3,2,1]\n</code></pre>\n'},{name:"index of(list, match)",description:'<p>Returns an ascending list of positions containing <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">index of([1,2,3,2],2)\n// [2,4]\n</code></pre>\n'},{name:"union(list)",description:'<p>Returns a list that includes all elements of the given lists without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">union(list: list): list\n</code></pre>\n<p>The parameter <code>list</code> is a sequence of lists.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">union([1,2],[2,3])\n// [1,2,3]\n</code></pre>\n'},{name:"distinct values(list)",description:'<p>Returns the given list without duplicates.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">distinct values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">distinct values([1,2,3,2,1])\n// [1,2,3]\n</code></pre>\n'},{name:"duplicate values(list)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all duplicate values of the given list.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">duplicate values(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">duplicate values([1,2,3,2,1])\n// [1,2]\n</code></pre>\n'},{name:"flatten(list)",description:'<p>Returns a list that includes all elements of the given list without nested lists.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">flatten(list: list): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">flatten([[1,2],[[3]], 4])\n// [1,2,3,4]\n</code></pre>\n'},{name:"sort(list, precedes)",description:'<p>Returns the given list sorted by the <code>precedes</code> function.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)\n// [1,2,3,4,5]\n</code></pre>\n'},{name:"string join(list)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])\n// &quot;abc&quot;\n\nstring join([&quot;a&quot;,null,&quot;c&quot;])\n// &quot;ac&quot;\n\nstring join([])\n// &quot;&quot;\n</code></pre>\n'},{name:"string join(list, delimiter)",description:'<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string contains a <code>delimiter</code> between each element.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)\n// &quot;a&quot;\n\nstring join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)\n// &quot;a, b, c&quot;\n</code></pre>\n'},{name:"string join(list, delimiter, prefix, suffix)",description:'<p><em>Camunda Extension</em></p>\n<p>Joins a list of strings into a single string. This is similar to\nJava&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>\nfunction.</p>\n<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is\nneither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>\n<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends\nwith <code>suffix</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)\n// &quot;[a, b, c]&quot;\n</code></pre>\n'},{name:"decimal(n, scale)",description:'<p>Rounds the given value at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">decimal(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">decimal(1/3, 2)\n// .33\n\ndecimal(1.5, 0)\n// 2\n</code></pre>\n'},{name:"floor(n)",description:'<p>Rounds the given value with rounding mode flooring.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(1.5)\n// 1\n\nfloor(-1.5)\n// -2\n</code></pre>\n'},{name:"floor(n, scale)",description:'<p>Rounds the given value with rounding mode flooring at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">floor(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">floor(-1.56, 1)\n// -1.6\n</code></pre>\n'},{name:"ceiling(n)",description:'<p>Rounds the given value with rounding mode ceiling.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(1.5)\n// 2\n\nceiling(-1.5)\n// -1\n</code></pre>\n'},{name:"ceiling(n, scale)",description:'<p>Rounds the given value with rounding mode ceiling at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ceiling(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ceiling(-1.56, 1)\n// -1.5\n</code></pre>\n'},{name:"round up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round up(5.5)\n// 6\n\nround up(-5.5)\n// -6\n\nround up(1.121, 2)\n// 1.13\n\nround up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round down(5.5, 0)\n// 5\n\nround down (-5.5, 0)\n// -5\n\nround down (1.121, 2)\n// 1.12\n\nround down (-1.126, 2)\n// -1.12\n</code></pre>\n'},{name:"round half up(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half up(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half up(5.5, 0)\n// 6\n\nround half up(-5.5, 0)\n// -6\n\nround half up(1.121, 2)\n// 1.12\n\nround half up(-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"round half down(n, scale)",description:'<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">round half down(n: number, scale: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">round half down (5.5, 0)\n// 5\n\nround half down (-5.5, 0)\n// -5\n\nround half down (1.121, 2)\n// 1.12\n\nround half down (-1.126, 2)\n// -1.13\n</code></pre>\n'},{name:"abs(number)",description:'<p>Returns the absolute value of the given numeric value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(10)\n// 10\n\nabs(-10)\n// 10\n</code></pre>\n'},{name:"modulo(dividend, divisor)",description:'<p>Returns the remainder of the division of dividend by divisor.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">modulo(dividend: number, divisor: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">modulo(12, 5)\n// 2\n</code></pre>\n'},{name:"sqrt(number)",description:'<p>Returns the square root of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">sqrt(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">sqrt(16)\n// 4\n</code></pre>\n'},{name:"log(number)",description:'<p>Returns the natural logarithm (base e) of the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">log(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">log(10)\n// 2.302585092994046\n</code></pre>\n'},{name:"exp(number)",description:'<p>Returns the Euler\u2019s number e raised to the power of the given number .</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">exp(number: number): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">exp(5)\n// 148.4131591025766\n</code></pre>\n'},{name:"odd(number)",description:'<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">odd(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">odd(5)\n// true\n\nodd(2)\n// false\n</code></pre>\n'},{name:"even(number)",description:'<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">even(number: number): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">even(5)\n// false\n\neven(2)\n// true\n</code></pre>\n'},{name:"random number()",description:'<p><em>Camunda Extension</em></p>\n<p>Returns a random number between <code>0</code> and <code>1</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">random number(): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">random number()\n// 0.9701618132579795\n</code></pre>\n'},{name:"before(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, 10)\n// true\n\nbefore(10, 1)\n// false\n</code></pre>\n'},{name:"before(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], 10)\n// true\n</code></pre>\n'},{name:"before(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before(1, [2..5])\n// true\n</code></pre>\n'},{name:"before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">before([1..5], [6..10])\n// true\n\nbefore([1..5),[5..10])\n// true\n</code></pre>\n'},{name:"after(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(10, 1)\n// true\n\nafter(1, 10)\n// false\n</code></pre>\n'},{name:"after(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([1..5], 10)\n// false\n</code></pre>\n'},{name:"after(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after(12, [2..5])\n// true\n</code></pre>\n'},{name:"after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">after([6..10], [1..5])\n// true\n\nafter([5..10], [1..5))\n// true\n</code></pre>\n'},{name:"meets(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">meets(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">meets([1..5], [5..10])\n// true\n\nmeets([1..3], [4..6])\n// false\n\nmeets([1..3], [3..5])\n// true\n\nmeets([1..5], (5..8])\n// false\n</code></pre>\n'},{name:"met by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">met by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">met by([5..10], [1..5])\n// true\n\nmet by([3..4], [1..2])\n// false\n\nmet by([3..5], [1..3])\n// true\n\nmet by((5..8], [1..5))\n// false\n\nmet by([5..10], [1..5))\n// false\n</code></pre>\n'},{name:"overlaps(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps([5..10], [1..6])\n// true\n\noverlaps((3..7], [1..4])\n// true\n\noverlaps([1..3], (3..6])\n// false\n\noverlaps((5..8], [1..5))\n// false\n\noverlaps([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"overlaps before(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps before([1..5], [4..10])\n// true\n\noverlaps before([3..4], [1..2])\n// false\n\noverlaps before([1..3], (3..5])\n// false\n\noverlaps before([1..5), (3..8])\n// true\n\noverlaps before([1..5), [5..10])\n// false\n</code></pre>\n'},{name:"overlaps after(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">overlaps after([4..10], [1..5])\n// true\n\noverlaps after([3..4], [1..2])\n// false\n\noverlaps after([3..5], [1..3))\n// false\n\noverlaps after((5..8], [1..5))\n// false\n\noverlaps after([4..10], [1..5))\n// true\n</code></pre>\n'},{name:"finishes(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes(5, [1..5])\n// true\n\nfinishes(10, [1..7])\n// false\n</code></pre>\n'},{name:"finishes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finishes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finishes([3..5], [1..5])\n// true\n\nfinishes((1..5], [1..5))\n// false\n\nfinishes([5..10], [1..10))\n// false\n</code></pre>\n'},{name:"finished by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([5..10], 10)\n// true\n\nfinished by([3..4], 2)\n// false\n</code></pre>\n'},{name:"finished by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">finished by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">finished by([1..5], [3..5])\n// true\n\nfinished by((5..8], [1..5))\n// false\n\nfinished by([5..10], (1..10))\n// false\n</code></pre>\n'},{name:"includes(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([5..10], 6)\n// true\n\nincludes([3..4], 5)\n// false\n</code></pre>\n'},{name:"includes(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">includes(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">includes([1..10], [4..6])\n// true\n\nincludes((5..8], [1..5))\n// false\n\nincludes([1..10], [1..5))\n// true\n</code></pre>\n'},{name:"during(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during(5, [1..10])\n// true\n\nduring(12, [1..10])\n// false\n\nduring(1, (1..10])\n// false\n</code></pre>\n'},{name:"during(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">during(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">during([4..6], [1..10))\n// true\n\nduring((1..5], (1..10])\n// true\n</code></pre>\n'},{name:"starts(point, range)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(point: Any, range: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts(1, [1..5])\n// true\n\nstarts(1, (1..8])\n// false\n</code></pre>\n'},{name:"starts(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts((1..5], [1..5])\n// false\n\nstarts([1..10], [1..5])\n// false\n\nstarts((1..5), (1..10))\n// true\n</code></pre>\n'},{name:"started by(range, point)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range: range, point: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], 1)\n// true\n\nstarted by((1..10], 1)\n// false\n</code></pre>\n'},{name:"started by(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">started by(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">started by([1..10], [1..5])\n// true\n\nstarted by((1..10], [1..5))\n// false\n\nstarted by([1..10], [1..10))\n// true\n</code></pre>\n'},{name:"coincides(point1, point2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides(5, 5)\n// true\n\ncoincides(3, 4)\n// false\n</code></pre>\n'},{name:"coincides(range1, range2)",description:'<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">coincides(range1: range, range2: range): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">coincides([1..5], [1..5])\n// true\n\ncoincides((1..5], [1..5))\n// false\n\ncoincides([1..5], [2..6])\n// false\n</code></pre>\n'},{name:"substring(string, start position)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)\n// &quot;obar&quot;\n</code></pre>\n'},{name:"substring(string, start position, length)",description:'<p>Returns a substring of the given value starting at <code>start position</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring(string: string, start position: number, length: number): string\n</code></pre>\n<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)\n// &quot;oba&quot;\n</code></pre>\n'},{name:"string length(string)",description:'<p>Returns the number of characters in the given value.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">string length(string: string): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">string length(&quot;foo&quot;)\n// 3\n</code></pre>\n'},{name:"upper case(string)",description:'<p>Returns the given value with all characters are uppercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">upper case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">upper case(&quot;aBc4&quot;)\n// &quot;ABC4&quot;\n</code></pre>\n'},{name:"lower case(string)",description:'<p>Returns the given value with all characters are lowercase.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">lower case(string: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">lower case(&quot;aBc4&quot;)\n// &quot;abc4&quot;\n</code></pre>\n'},{name:"substring before(string, match)",description:'<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring before(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)\n// &quot;foo&quot;\n</code></pre>\n'},{name:"substring after(string, match)",description:'<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">substring after(string: string, match: string): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)\n// &quot;ar&quot;\n</code></pre>\n'},{name:"contains(string, match)",description:'<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">contains(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)\n// false\n</code></pre>\n'},{name:"starts with(string, match)",description:'<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">starts with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)\n// true\n</code></pre>\n'},{name:"ends with(string, match)",description:'<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">ends with(string: string, match: string): boolean\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)\n// true\n</code></pre>\n'},{name:"matches(input, pattern, flags)",description:'<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)\n// true\n</code></pre>\n'},{name:"replace(input, pattern, replacement)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)\n// &quot;[1=ab][2=]cd&quot;\n\nreplace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)\n// &quot;(012) 345-6789&quot;\n</code></pre>\n'},{name:"replace(input, pattern, replacement, flags)",description:'<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,\n<code>$1</code> to access the first group.</p>\n<p>The <code>flags</code> can contain one or more of the following characters:</p>\n<ul>\n<li><code>s</code> (dot-all)</li>\n<li><code>m</code> (multi-line)</li>\n<li><code>i</code> (case insensitive)</li>\n<li><code>x</code> (comments)</li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)\n// &quot;How do you FEEL?&quot;\n</code></pre>\n'},{name:"split(string, delimiter)",description:'<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>delimiter</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )\n// [&quot;John&quot;, &quot;Doe&quot;]\n\nsplit(&quot;a;b;c;;&quot;, &quot;;&quot;)\n// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]\n</code></pre>\n'},{name:"extract(string, pattern)",description:'<p><em>Camunda Extension</em></p>\n<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t\nmatch.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;\n</code></pre>\n<p>The <code>pattern</code> is a string that contains a regular expression.</p>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)\n// [&quot;1234&quot;,&quot;1256&quot;]\n</code></pre>\n'},{name:"now()",description:'<p>Returns the current date and time including the timezone.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">now(): date and time\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">now()\n// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)\n</code></pre>\n'},{name:"today()",description:'<p>Returns the current date.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">today(): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">today()\n// date(&quot;2020-07-31&quot;)\n</code></pre>\n'},{name:"day of week(date)",description:'<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of week(date: date): string\n</code></pre>\n<pre><code class="language-feel">day of week(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))\n// &quot;Tuesday&quot;\n\nday of week(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;Tuesday&quot;\n</code></pre>\n'},{name:"day of year(date)",description:'<p>Returns the Gregorian number of the day within the year.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">day of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">day of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))\n// 260\n\nday of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 260\n</code></pre>\n'},{name:"week of year(date)",description:'<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">week of year(date: date): number\n</code></pre>\n<pre><code class="language-feel">week of year(date: date and time): number\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))\n// 38\n\nweek of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// 38\n</code></pre>\n'},{name:"month of year(date)",description:'<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">month of year(date: date): string\n</code></pre>\n<pre><code class="language-feel">month of year(date: date and time): string\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))\n// &quot;September&quot;\n\nmonth of year(date and time(&quot;2019-09-17T12:00:00&quot;))\n// &quot;September&quot;\n</code></pre>\n'},{name:"abs(n)",description:'<p>Returns the absolute value of a given duration.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">abs(n: days and time duration): days and time duration\n</code></pre>\n<pre><code class="language-feel">abs(n: years and months duration): years and months duration\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;PT5H&quot;))\n// &quot;duration(&quot;PT5H&quot;)&quot;\n\nabs(duration(&quot;-P2M&quot;))\n// duration(&quot;P2M&quot;)\n</code></pre>\n'},{name:"last day of month(date)",description:'<p><em>Camunda Extension</em></p>\n<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>\n<p><strong>Function signature</strong></p>\n<pre><code class="language-feel">last day of month(date: date): date\n</code></pre>\n<pre><code class="language-feel">last day of month(date: date and time): date\n</code></pre>\n<p><strong>Examples</strong></p>\n<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))\n// date(&quot;2022-10-31&quot;))\n\nlast day of month(date and time(&quot;2022-10-16T12:00:00&quot;))\n// date(&quot;2022-10-31&quot;))\n</code></pre>\n'}].map(t=>{const i=t.name.match(/^([\w\s]+)\((.*)\)$/);return $v(`${i[1]}(${i[2].split(", ").map(l=>`\${${l}}`).join(", ")})`,{label:t.name,type:"function",info:()=>ui(`<div class="description">${t.description}<div>`),boost:-1})});var SSe=t=>{let i=Ki(t.state).resolve(t.pos,-1),o=i.nextSibling;return e9(i)||o&&o.from===t.pos&&e9(o)?t.explicit?{from:t.pos,options:qee}:null:i.parent&&"VariableName"!==i.parent.name||t9(i)?null:{from:i.from,options:qee}};const n9=zt.define();var CSe=t=>{const i=t.state.facet(n9)[0],o=Ki(t.state).resolve(t.pos,-1);if(!t9(o))return;const s=function DSe(t){for(;t;){if("PathExpression"===t.name)return t;t=t.parent}}(o),a=o===s?t.pos:o.from,l=fL(s,t);let c=i;for(var u=0;u<l.length-1;u++){var p=c.find(v=>v.name===l[u].name);if(!p)return null;if("optional"!==p.isList&&!!p.isList!==l[u].isList)return;c=p.entries}return c?(c=c.map(v=>({label:v.name,type:"variable",info:v.info,detail:v.detail})),{from:a,options:c}):void 0};function fL(t,i){let o=[];for(let s=t.firstChild;s;s=s.nextSibling)"PathExpression"===s.name?o.push(...fL(s,i)):"FilterExpression"===s.name?o.push(...TSe(s,i)):o.push({name:Wee(s,i),isList:!1});return o}function TSe(t,i){const o=t.firstChild;if("PathExpression"===o.name){const s=fL(o,i);return s[s.length-1].isList=!0,s}return[{name:Wee(o,i),isList:!0}]}function Wee(t,i){return i.state.sliceDoc(t.from,t.to)}var PSe=t=>{const o=t.state.facet(n9)[0].map(u=>({label:u.name,type:"variable",info:u.info,detail:u.detail}));let s=Ki(t.state).resolve(t.pos,-1),a=s.nextSibling;if(e9(s)||a&&a.from===t.pos&&e9(a))return t.explicit?{from:t.pos,options:o}:null;const c={from:s.from,options:o};return s.parent&&"VariableName"!==s.parent.name||t9(s)?null:c},MSe=[OJ(Iee())],NSe=[Dn.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),Dn.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),PT(Mm.define([{tag:ce.variableName,class:"variableName"},{tag:ce.name,class:"variableName"},{tag:ce.number,class:"number"},{tag:ce.string,class:"string"},{tag:ce.bool,class:"bool"},{tag:ce.function(ce.variableName),class:"function"},{tag:ce.function(ce.special(ce.variableName)),class:"function"},{tag:ce.controlKeyword,class:"control"},{tag:ce.operatorKeyword,class:"control"}]))];const Xee=new Xx;function Lw({extensions:t=[],container:i,contentAttributes:o={},tooltipContainer:s,onChange:a=(()=>{}),onKeyDown:l=(()=>{}),onLint:c=(()=>{}),readOnly:u=!1,value:p="",variables:h=[]}){const v=Dn.updateListener.of(k=>{k.docChanged&&a(k.state.doc.toString())}),y=Dn.updateListener.of(k=>{const R=k.transactions.flatMap(N=>N.effects).filter(N=>N.is(t5));if(!R.length)return;const L=R.flatMap(N=>N.value);c(L)}),E=Dn.domEventHandlers({keydown:l});"string"==typeof s&&(s=document.querySelector(s));const S=s?yQ({tooltipSpace:function(){return s.getBoundingClientRect()}}):[],D=[Xee.of(n9.of(h)),[Vxe({override:[PSe,SSe,SN(zee.map(t=>({...t,boost:-1}))),CSe,...Hee]})],ZQ(),v,kZ(),Dn.contentAttributes.of(o),HQ(),E,cw.of([...EJ]),new LQ(JT,[]),MSe,y,S,NSe,...t];return u&&D.push(Dn.editable.of(!1)),this._cmEditor=new Dn({state:Ec.create({doc:p,extensions:D}),parent:i}),this}Lw.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})},Lw.prototype.focus=function(t){const i=this._cmEditor;if(i.contentDOM.focus(),i.focus(),"number"==typeof t){const o=i.state.doc.length;i.dispatch({selection:{anchor:t<=o?t:o}})}},Lw.prototype.getSelection=function(){return this._cmEditor.state.selection},Lw.prototype.setVariables=function(t){this._cmEditor.dispatch({effects:Xee.reconfigure(n9.of(t))})};var Yee=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],r9=Yee.join(","),Kee=typeof Element>"u",Gv=Kee?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i9=!Kee&&Element.prototype.getRootNode?function(t){var i;return null==t||null===(i=t.getRootNode)||void 0===i?void 0:i.call(t)}:function(t){return t?.ownerDocument},o9=function t(i,o){var s;void 0===o&&(o=!0);var a=null==i||null===(s=i.getAttribute)||void 0===s?void 0:s.call(i,"inert");return""===a||"true"===a||o&&i&&t(i.parentNode)},Qee=function(i,o,s){if(o9(i))return[];var a=Array.prototype.slice.apply(i.querySelectorAll(r9));return o&&Gv.call(i,r9)&&a.unshift(i),a.filter(s)},Zee=function t(i,o,s){for(var a=[],l=Array.from(i);l.length;){var c=l.shift();if(!o9(c,!1))if("SLOT"===c.tagName){var u=c.assignedElements(),h=t(u.length?u:c.children,!0,s);s.flatten?a.push.apply(a,h):a.push({scopeParent:c,candidates:h})}else{Gv.call(c,r9)&&s.filter(c)&&(o||!i.includes(c))&&a.push(c);var y=c.shadowRoot||"function"==typeof s.getShadowRoot&&s.getShadowRoot(c),E=!o9(y,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(c));if(y&&E){var S=t(!0===y?c.children:y.children,!0,s);s.flatten?a.push.apply(a,S):a.push({scopeParent:c,candidates:S})}else l.unshift.apply(l,c.children)}}return a},Jee=function(i){return!isNaN(parseInt(i.getAttribute("tabindex"),10))},qv=function(i){if(!i)throw new Error("No node provided");return i.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(i.tagName)||function(i){var o,s=null==i||null===(o=i.getAttribute)||void 0===o?void 0:o.call(i,"contenteditable");return""===s||"true"===s}(i))&&!Jee(i)?0:i.tabIndex},BSe=function(i,o){return i.tabIndex===o.tabIndex?i.documentOrder-o.documentOrder:i.tabIndex-o.tabIndex},ete=function(i){return"INPUT"===i.tagName},tte=function(i){var o=i.getBoundingClientRect();return 0===o.width&&0===o.height},s9=function(i,o){return!(o.disabled||o9(o)||function(i){return ete(i)&&"hidden"===i.type}(o)||function(i,o){var s=o.displayCheck,a=o.getShadowRoot;if("hidden"===getComputedStyle(i).visibility)return!0;var l=Gv.call(i,"details>summary:first-of-type");if(Gv.call(l?i.parentElement:i,"details:not([open]) *"))return!0;if(s&&"full"!==s&&"legacy-full"!==s){if("non-zero-area"===s)return tte(i)}else{if("function"==typeof a){for(var u=i;i;){var p=i.parentElement,h=i9(i);if(p&&!p.shadowRoot&&!0===a(p))return tte(i);i=i.assignedSlot?i.assignedSlot:p||h===i.ownerDocument?p:h.host}i=u}if(function(i){var o,c,u,p,s=i&&i9(i),a=null===(o=s)||void 0===o?void 0:o.host,l=!1;if(s&&s!==i)for(l=!!(null!==(c=a)&&void 0!==c&&null!==(u=c.ownerDocument)&&void 0!==u&&u.contains(a)||null!=i&&null!==(p=i.ownerDocument)&&void 0!==p&&p.contains(i));!l&&a;){var h,v,y;l=!(null===(v=a=null===(h=s=i9(a))||void 0===h?void 0:h.host)||void 0===v||null===(y=v.ownerDocument)||void 0===y||!y.contains(a))}return l}(i))return!i.getClientRects().length;if("legacy-full"!==s)return!0}return!1}(o,i)||function(i){return"DETAILS"===i.tagName&&Array.prototype.slice.apply(i.children).some(function(s){return"SUMMARY"===s.tagName})}(o)||function(i){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(i.tagName))for(var o=i.parentElement;o;){if("FIELDSET"===o.tagName&&o.disabled){for(var s=0;s<o.children.length;s++){var a=o.children.item(s);if("LEGEND"===a.tagName)return!!Gv.call(o,"fieldset[disabled] *")||!a.contains(i)}return!0}o=o.parentElement}return!1}(o))},hL=function(i,o){return!(function(i){return function(i){return ete(i)&&"radio"===i.type}(i)&&!function(i){if(!i.name)return!0;var a,o=i.form||i9(i),s=function(u){return o.querySelectorAll('input[type="radio"][name="'+u+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)a=s(window.CSS.escape(i.name));else try{a=s(i.name)}catch(c){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",c.message),!1}var l=function(i,o){for(var s=0;s<i.length;s++)if(i[s].checked&&i[s].form===o)return i[s]}(a,i.form);return!l||l===i}(i)}(o)||qv(o)<0||!s9(i,o))},XSe=function(i){var o=parseInt(i.getAttribute("tabindex"),10);return!!(isNaN(o)||o>=0)},YSe=function t(i){var o=[],s=[];return i.forEach(function(a,l){var c=!!a.scopeParent,u=c?a.scopeParent:a,p=function(i,o){var s=qv(i);return s<0&&o&&!Jee(i)?0:s}(u,c),h=c?t(a.candidates):u;0===p?c?o.push.apply(o,h):o.push(u):s.push({documentOrder:l,tabIndex:p,item:a,isScope:c,content:h})}),s.sort(BSe).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(o)},s5=function(i,o){if(o=o||{},!i)throw new Error("No node provided");return!1!==Gv.call(i,r9)&&hL(o,i)},ZSe=Yee.concat("iframe").join(","),mL=function(i,o){if(o=o||{},!i)throw new Error("No node provided");return!1!==Gv.call(i,ZSe)&&s9(o,i)};function nte(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,s)}return o}function rte(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?nte(Object(o),!0).forEach(function(s){JSe(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):nte(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function JSe(t,i,o){return i=function t7e(t){var i=function e7e(t,i){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var s=o.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i),i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}var Fw=function(i){return"Tab"===i?.key||9===i?.keyCode},i7e=function(i){return Fw(i)&&!i.shiftKey},o7e=function(i){return Fw(i)&&i.shiftKey},ote=function(i){return setTimeout(i,0)},ste=function(i,o){var s=-1;return i.every(function(a,l){return!o(a)||(s=l,!1)}),s},Bw=function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return"function"==typeof i?i.apply(void 0,s):i},a9=function(i){return i.target.shadowRoot&&"function"==typeof i.composedPath?i.composedPath()[0]:i.target},s7e=[],a7e=function(i,o){var u,s=o?.document||document,a=o?.trapStack||s7e,l=rte({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:i7e,isKeyBackward:o7e},o),c={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},p=function(fe,ye,Fe){return fe&&void 0!==fe[ye]?fe[ye]:l[Fe||ye]},h=function(fe,ye){var Fe="function"==typeof ye?.composedPath?ye.composedPath():void 0;return c.containerGroups.findIndex(function(bt){var Et=bt.container,Ct=bt.tabbableNodes;return Et.contains(fe)||Fe?.includes(Et)||Ct.find(function(Ft){return Ft===fe})})},v=function(fe){var ye=l[fe];if("function"==typeof ye){for(var Fe=arguments.length,bt=new Array(Fe>1?Fe-1:0),Et=1;Et<Fe;Et++)bt[Et-1]=arguments[Et];ye=ye.apply(void 0,bt)}if(!0===ye&&(ye=void 0),!ye){if(void 0===ye||!1===ye)return ye;throw new Error("`".concat(fe,"` was specified but was not a node, or did not return a node"))}var Ct=ye;if("string"==typeof ye&&!(Ct=s.querySelector(ye)))throw new Error("`".concat(fe,"` as selector refers to no known node"));return Ct},y=function(){var fe=v("initialFocus");if(!1===fe)return!1;if(void 0===fe||!mL(fe,l.tabbableOptions))if(h(s.activeElement)>=0)fe=s.activeElement;else{var ye=c.tabbableGroups[0];fe=ye&&ye.firstTabbableNode||v("fallbackFocus")}if(!fe)throw new Error("Your focus-trap needs to have at least one focusable element");return fe},E=function(){if(c.containerGroups=c.containers.map(function(fe){var ye=function(i,o){var s;return s=(o=o||{}).getShadowRoot?Zee([i],o.includeContainer,{filter:hL.bind(null,o),flatten:!1,getShadowRoot:o.getShadowRoot,shadowRootFilter:XSe}):Qee(i,o.includeContainer,hL.bind(null,o)),YSe(s)}(fe,l.tabbableOptions),Fe=function(i,o){return(o=o||{}).getShadowRoot?Zee([i],o.includeContainer,{filter:s9.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):Qee(i,o.includeContainer,s9.bind(null,o))}(fe,l.tabbableOptions),bt=ye.length>0?ye[0]:void 0,Et=ye.length>0?ye[ye.length-1]:void 0,Ct=Fe.find(function(U){return s5(U)}),Ft=Fe.slice().reverse().find(function(U){return s5(U)}),pe=!!ye.find(function(U){return qv(U)>0});return{container:fe,tabbableNodes:ye,focusableNodes:Fe,posTabIndexesFound:pe,firstTabbableNode:bt,lastTabbableNode:Et,firstDomTabbableNode:Ct,lastDomTabbableNode:Ft,nextTabbableNode:function(Se){var Me=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Te=ye.indexOf(Se);return Te<0?Me?Fe.slice(Fe.indexOf(Se)+1).find(function(Be){return s5(Be)}):Fe.slice(0,Fe.indexOf(Se)).reverse().find(function(Be){return s5(Be)}):ye[Te+(Me?1:-1)]}}}),c.tabbableGroups=c.containerGroups.filter(function(fe){return fe.tabbableNodes.length>0}),c.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(c.containerGroups.find(function(fe){return fe.posTabIndexesFound})&&c.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function we(fe){var ye=fe.activeElement;if(ye)return ye.shadowRoot&&null!==ye.shadowRoot.activeElement?we(ye.shadowRoot):ye},D=function we(fe){if(!1!==fe&&fe!==S(document)){if(!fe||!fe.focus)return void we(y());fe.focus({preventScroll:!!l.preventScroll}),c.mostRecentlyFocusedNode=fe,function(i){return i.tagName&&"input"===i.tagName.toLowerCase()&&"function"==typeof i.select}(fe)&&fe.select()}},k=function(fe){var ye=v("setReturnFocus",fe);return ye||!1!==ye&&fe},R=function(fe){var ye=fe.target,Fe=fe.event,bt=fe.isBackward,Et=void 0!==bt&&bt;ye=ye||a9(Fe),E();var Ct=null;if(c.tabbableGroups.length>0){var Ft=h(ye,Fe),pe=Ft>=0?c.containerGroups[Ft]:void 0;if(Ft<0)Ct=Et?c.tabbableGroups[c.tabbableGroups.length-1].lastTabbableNode:c.tabbableGroups[0].firstTabbableNode;else if(Et){var U=ste(c.tabbableGroups,function(Pn){return ye===Pn.firstTabbableNode});if(U<0&&(pe.container===ye||mL(ye,l.tabbableOptions)&&!s5(ye,l.tabbableOptions)&&!pe.nextTabbableNode(ye,!1))&&(U=Ft),U>=0){var Me=c.tabbableGroups[0===U?c.tabbableGroups.length-1:U-1];Ct=qv(ye)>=0?Me.lastTabbableNode:Me.lastDomTabbableNode}else Fw(Fe)||(Ct=pe.nextTabbableNode(ye,!1))}else{var Te=ste(c.tabbableGroups,function(Pn){return ye===Pn.lastTabbableNode});if(Te<0&&(pe.container===ye||mL(ye,l.tabbableOptions)&&!s5(ye,l.tabbableOptions)&&!pe.nextTabbableNode(ye))&&(Te=Ft),Te>=0){var et=c.tabbableGroups[Te===c.tabbableGroups.length-1?0:Te+1];Ct=qv(ye)>=0?et.firstTabbableNode:et.firstDomTabbableNode}else Fw(Fe)||(Ct=pe.nextTabbableNode(ye))}}else Ct=v("fallbackFocus");return Ct},L=function(fe){var ye=a9(fe);if(!(h(ye,fe)>=0)){if(Bw(l.clickOutsideDeactivates,fe))return void u.deactivate({returnFocus:l.returnFocusOnDeactivate});Bw(l.allowOutsideClick,fe)||fe.preventDefault()}},N=function(fe){var ye=a9(fe),Fe=h(ye,fe)>=0;if(Fe||ye instanceof Document)Fe&&(c.mostRecentlyFocusedNode=ye);else{fe.stopImmediatePropagation();var bt,Et=!0;if(c.mostRecentlyFocusedNode)if(qv(c.mostRecentlyFocusedNode)>0){var Ct=h(c.mostRecentlyFocusedNode),Ft=c.containerGroups[Ct].tabbableNodes;if(Ft.length>0){var pe=Ft.findIndex(function(U){return U===c.mostRecentlyFocusedNode});pe>=0&&(l.isKeyForward(c.recentNavEvent)?pe+1<Ft.length&&(bt=Ft[pe+1],Et=!1):pe-1>=0&&(bt=Ft[pe-1],Et=!1))}}else c.containerGroups.some(function(U){return U.tabbableNodes.some(function(Se){return qv(Se)>0})})||(Et=!1);else Et=!1;Et&&(bt=R({target:c.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(c.recentNavEvent)})),D(bt||c.mostRecentlyFocusedNode||y())}c.recentNavEvent=void 0},$=function(fe){if(function(i){return"Escape"===i?.key||"Esc"===i?.key||27===i?.keyCode}(fe)&&!1!==Bw(l.escapeDeactivates,fe))return fe.preventDefault(),void u.deactivate();(l.isKeyForward(fe)||l.isKeyBackward(fe))&&function(fe){var ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.recentNavEvent=fe;var Fe=R({event:fe,isBackward:ye});Fe&&(Fw(fe)&&fe.preventDefault(),D(Fe))}(fe,l.isKeyBackward(fe))},q=function(fe){var ye=a9(fe);h(ye,fe)>=0||Bw(l.clickOutsideDeactivates,fe)||Bw(l.allowOutsideClick,fe)||(fe.preventDefault(),fe.stopImmediatePropagation())},ee=function(){if(c.active)return function(i,o){if(i.length>0){var s=i[i.length-1];s!==o&&s.pause()}var a=i.indexOf(o);-1===a||i.splice(a,1),i.push(o)}(a,u),c.delayInitialFocusTimer=l.delayInitialFocus?ote(function(){D(y())}):D(y()),s.addEventListener("focusin",N,!0),s.addEventListener("mousedown",L,{capture:!0,passive:!1}),s.addEventListener("touchstart",L,{capture:!0,passive:!1}),s.addEventListener("click",q,{capture:!0,passive:!1}),s.addEventListener("keydown",$,{capture:!0,passive:!1}),u},ae=function(){if(c.active)return s.removeEventListener("focusin",N,!0),s.removeEventListener("mousedown",L,!0),s.removeEventListener("touchstart",L,!0),s.removeEventListener("click",q,!0),s.removeEventListener("keydown",$,!0),u},ne=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(function(fe){fe.some(function(Fe){return Array.from(Fe.removedNodes).some(function(Et){return Et===c.mostRecentlyFocusedNode})})&&D(y())}):void 0,he=function(){ne&&(ne.disconnect(),c.active&&!c.paused&&c.containers.map(function(fe){ne.observe(fe,{subtree:!0,childList:!0})}))};return(u={get active(){return c.active},get paused(){return c.paused},activate:function(fe){if(c.active)return this;var ye=p(fe,"onActivate"),Fe=p(fe,"onPostActivate"),bt=p(fe,"checkCanFocusTrap");bt||E(),c.active=!0,c.paused=!1,c.nodeFocusedBeforeActivation=s.activeElement,ye?.();var Et=function(){bt&&E(),ee(),he(),Fe?.()};return bt?(bt(c.containers.concat()).then(Et,Et),this):(Et(),this)},deactivate:function(fe){if(!c.active)return this;var ye=rte({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},fe);clearTimeout(c.delayInitialFocusTimer),c.delayInitialFocusTimer=void 0,ae(),c.active=!1,c.paused=!1,he(),function(i,o){var s=i.indexOf(o);-1!==s&&i.splice(s,1),i.length>0&&i[i.length-1].unpause()}(a,u);var Fe=p(ye,"onDeactivate"),bt=p(ye,"onPostDeactivate"),Et=p(ye,"checkCanReturnFocus"),Ct=p(ye,"returnFocus","returnFocusOnDeactivate");Fe?.();var Ft=function(){ote(function(){Ct&&D(k(c.nodeFocusedBeforeActivation)),bt?.()})};return Ct&&Et?(Et(k(c.nodeFocusedBeforeActivation)).then(Ft,Ft),this):(Ft(),this)},pause:function(fe){if(c.paused||!c.active)return this;var ye=p(fe,"onPause"),Fe=p(fe,"onPostPause");return c.paused=!0,ye?.(),ae(),he(),Fe?.(),this},unpause:function(fe){if(!c.paused||!c.active)return this;var ye=p(fe,"onUnpause"),Fe=p(fe,"onPostUnpause");return c.paused=!1,ye?.(),E(),ee(),he(),Fe?.(),this},updateContainerElements:function(fe){var ye=[].concat(fe).filter(Boolean);return c.containers=ye.map(function(Fe){return"string"==typeof Fe?s.querySelector(Fe):Fe}),c.active&&E(),he(),this}}).updateContainerElements(i),u},jw=function(i){return X("svg",{...i,children:X("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};jw.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var ate=function(i){return X("svg",{...i,children:[X("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),X("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),X("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};ate.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var yL=function(i){return X("svg",{...i,children:X("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};yL.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var lte=function(i){return X("svg",{...i,children:X("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};lte.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var bL=function(i){return X("svg",{...i,children:[X("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"}),X("circle",{cx:"16",cy:"23.5",r:"1.5"}),X("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"}),X("path",{style:{fill:"none"},d:"M0 0h32v32H0z"})]})};bL.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var cte=function(i){return X("svg",{...i,children:[X("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),X("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};function l7e(t){const{element:i,headerProvider:o}=t,{getElementIcon:s,getDocumentationRef:a,getElementLabel:l,getTypeLabel:c}=o,u=l(i),p=c(i),h=a&&a(i),v=s(i);return X("div",{class:"bio-properties-panel-header",children:[X("div",{class:"bio-properties-panel-header-icon",children:v&&X(v,{width:"32",height:"32",viewBox:"0 0 32 32"})}),X("div",{class:"bio-properties-panel-header-labels",children:[X("div",{title:p,class:"bio-properties-panel-header-type",children:p}),u?X("div",{title:u,class:"bio-properties-panel-header-label",children:u}):null]}),X("div",{class:"bio-properties-panel-header-actions",children:h?X("a",{rel:"noopener",class:"bio-properties-panel-header-link",href:h,title:"Open documentation",target:"_blank",children:X(yL,{})}):null})]})}cte.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};const ute=gm({description:{},getDescriptionForId:()=>{}}),_L=gm({errors:{}}),dte=gm({eventBus:null}),y0=gm({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),pte=gm({tooltip:{},getTooltipForId:()=>{}});function Im(t){const{forId:i,element:o}=t,s=function c7e(t,i){const{getTooltipForId:o}=ul(pte);return o(t,i)}(i,o),a=t.value||s;return a?X(u7e,{...t,value:a,forId:f7e(i)}):t.children}function u7e(t){const{forId:i,value:o,parent:s,direction:a="right",position:l}=t,[c,u]=Xn(!1),[p,h]=Xn(!1);let v=null;const y=_i(null),E=_i(null),S=function(){var N=Ye(function*(B){const $=()=>u(!0);!c&&!v&&(B instanceof MouseEvent?v=setTimeout($,200):($(),h(!0)))});return function($){return N.apply(this,arguments)}}(),D=()=>{u(!1),h(!1)};pn(()=>{const{current:N}=y;if(!N)return;const B=q=>{const ee=document.activeElement===y.current||document.activeElement.closest(".bio-properties-panel-tooltip");c&&!(({x:N,y:B})=>{const $=E.current;return $&&(fte(N,B,y.current.getBoundingClientRect())||fte(N,B,$.getBoundingClientRect()))})({x:q.x,y:q.y})&&(!ee||!p)&&D()},$=q=>{const{relatedTarget:ee}=q;c&&!function p7e(t){return t.matches(":hover")}(y.current)&&ee&&!ee.closest(".bio-properties-panel-tooltip")&&D()};return document.addEventListener("wheel",B),document.addEventListener("focusout",$),document.addEventListener("mousemove",B),()=>{document.removeEventListener("wheel",B),document.removeEventListener("mousemove",B),document.removeEventListener("focusout",$)}},[y.current,c,p]);const L=()=>X("div",{class:`bio-properties-panel-tooltip ${a}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":i,style:l||d7e(y.current),ref:E,onClick:N=>N.stopPropagation(),children:[X("div",{class:"bio-properties-panel-tooltip-content",children:o}),X("div",{class:"bio-properties-panel-tooltip-arrow"})]});return X("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:y,onMouseEnter:S,onMouseLeave:()=>{clearTimeout(v),v=null},onFocus:S,onKeyDown:N=>{"Escape"===N.code&&D()},children:[t.children,c?s?qA(L(),s.current):L():null]})}function fte(t,i,o){const{top:s,right:a,bottom:l,left:c}=o;return t>=c&&t<=a&&i>=s&&i<=l}function d7e(t){const i=t.getBoundingClientRect();return`right: calc(100% - ${i.x}px); top: ${i.top-10+"px"};`}function f7e(t){return`bio-properties-panel-${t}`}function Wv(t){const{errors:i}=ul(_L);return i[t]}function $w(t,i,o){const s=ul(dte);o||({eventBus:o}=s);const a=_i(!1);o&&!a.current&&o.on(t,i),pn(()=>(o&&a.current&&o.on(t,i),a.current=!0,()=>{o&&o.off(t,i)}),[i,t,o])}function Xv(t){const i=_i();return pn(()=>{i.current=t}),i.current}function a5(t){const{onShow:i}=ul(y0),o=_i(),s=_i(!1),a=Hl(l=>{l.id===t&&(i(),s.current||(s.current=!0))},[t]);return pn(()=>{s.current&&o.current&&(Br(o.current.focus)&&o.current.focus(),Br(o.current.select)&&o.current.select(),s.current=!1)}),$w("propertiesPanel.showEntry",a),o}function Nm(t){const i=_i(t);return i.current=t,Hl((...o)=>i.current(...o),[])}function fr(t){const{element:i,entries:o=[],id:s,label:a,shouldOpen:l=!1}=t,c=_i(null),[u,p]=function mte(t,i){const{getLayoutForKey:o,setLayoutForKey:s}=ul(y0);return[o(t,i),Hl(c=>{s(t,c)},[s])]}(["groups",s,"open"],l),h=Hl(()=>p(!0),[p]),[y,E]=Xn(!1),[S,D]=Xn(!1);pn(()=>{const N=requestAnimationFrame(()=>{const B=o.find($=>{const{id:q,isEdited:ee}=$,ae=er(`[data-entry-id="${q}"]`);return!(!Br(ee)||!ae)&&ee(er(".bio-properties-panel-input",ae))});E(B)});return()=>cancelAnimationFrame(N)},[o,E]);const k=function hte(){const{errors:t}=ul(_L);return t}(),R=o.some(N=>k[N.id]);!function gte(t,i,o){const[s,a]=Xn(er(i)),l=Hl(()=>{const c=er(i);c!==s&&a(c)},[i,s]);pn(()=>{l()},[l]),$w("propertiesPanel.attach",l),$w("propertiesPanel.detach",l),pn(()=>{const c=IntersectionObserver;if(!c||!t.current||!s)return;const u=new c(p=>{0!==s.scrollHeight&&p.forEach(h=>{h.intersectionRatio<1?o(!0):1===h.intersectionRatio&&o(!1)})},{root:s,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return u.observe(t.current),()=>{u.unobserve(t.current)}},[t.current,s,o])}(c,"div.bio-properties-panel-scroll-container",D);const L={...ul(y0),onShow:h};return X("div",{class:"bio-properties-panel-group","data-group-id":"group-"+s,ref:c,children:[X("div",{class:Ni()("bio-properties-panel-group-header",y?"":"empty",u?"open":"",S&&u?"sticky":""),onClick:()=>p(!u),children:[X("div",{title:t.tooltip?null:a,"data-title":a,class:"bio-properties-panel-group-header-title",children:X(Im,{value:t.tooltip,forId:"group-"+s,element:i,parent:c,children:a})}),X("div",{class:"bio-properties-panel-group-header-buttons",children:[X(v7e,{edited:y,hasErrors:R}),X("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:X(jw,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),X("div",{class:Ni()("bio-properties-panel-group-entries",u?"open":""),children:X(y0.Provider,{value:L,children:o.map(N=>{const{component:B,id:$}=N;return zl(B,{...N,element:i,key:$})})})})]})}function v7e(t){const{edited:i,hasErrors:o}=t;return o?X("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):i?X("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function vte(t){const{text:i,icon:o}=t;return X("div",{class:"bio-properties-panel open",children:X("section",{class:"bio-properties-panel-placeholder",children:[o&&X(o,{class:"bio-properties-panel-placeholder-icon"}),X("p",{class:"bio-properties-panel-placeholder-text",children:i})]})})}function Lm(t){const{element:i,forId:o,value:s}=t,a=function h7e(t,i){const{getDescriptionForId:o}=ul(ute);return o(t,i)}(o,i),l=s||a;if(l)return X("div",{class:"bio-properties-panel-description",children:l})}const yte=()=>{},EL=hf((t,i)=>{const{onInput:o,disabled:s,tooltipContainer:a,enableGutters:l,value:c,onLint:u=yte,onPopupOpen:p=yte,popupOpen:h,contentAttributes:v={},hostLanguage:y=null,singleLine:E=!1}=t,S=_i(),[D,k]=Xn(),[R,L]=Xn(c||"");!function(t,i){const[o,s]=Xn(void 0);i.current=ka(()=>({focus:a=>{t?t.focus(a):(typeof a>"u"&&(a=1/0),s(a))}}),[t]),pn(()=>{typeof o<"u"&&t&&(t.focus(o),s(!1))},[t,o])}(D,i);const N=Nm($=>{o($),L($)});return pn(()=>{let $;return $=new ZT({container:S.current,onChange:N,value:R,onLint:u,contentAttributes:v,tooltipContainer:a,enableGutters:l,hostLanguage:y,singleLine:E}),k($),()=>{u([]),S.current.innerHTML="",k(null)}},[]),pn(()=>{D&&c!==R&&(D.setValue(c),L(c))},[c]),X("div",{class:Ni()("bio-properties-panel-feelers-editor-container",h?"popupOpen":null),children:[X("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),X("div",{name:t.name,class:Ni()("bio-properties-panel-feelers-editor bio-properties-panel-input",R?"edited":null,s?"disabled":null),ref:S,onClick:()=>{i.current.focus()}}),X("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>p("feelers"),children:X(yL,{})})]})}),xL=()=>{},bte=hf((t,i)=>{const{contentAttributes:o,enableGutters:s,value:a,onInput:l,onFeelToggle:c=xL,onLint:u=xL,onPopupOpen:p=xL,popupOpen:h,disabled:v,tooltipContainer:y,variables:E}=t,S=_i(),[D,k]=Xn(),[R,L]=Xn(a||"");!function(t,i){const[o,s]=Xn(void 0);i.current=ka(()=>({focus:a=>{t?t.focus(a):(typeof a>"u"&&(a=1/0),s(a))}}),[t]),pn(()=>{typeof o<"u"&&t&&(t.focus(o),s(!1))},[t,o])}(D,i);const N=Nm($=>{l($),L($)});return pn(()=>{let $;return $=new Lw({container:S.current,onChange:N,onKeyDown:ee=>{if("Backspace"!==ee.key||!$)return;const ae=$.getSelection(),te=ae.ranges[ae.mainIndex];0===te.from&&0===te.to&&c()},onLint:u,tooltipContainer:y,value:R,variables:E,extensions:[...s?[TQ()]:[],Dn.lineWrapping],contentAttributes:o}),k($),()=>{u([]),S.current.innerHTML="",k(null)}},[]),pn(()=>{D&&a!==R&&(D.setValue(a),L(a))},[a]),pn(()=>{D&&D.setVariables(E)},[E]),X("div",{class:Ni()("bio-properties-panel-feel-editor-container",v?"disabled":null,h?"popupOpen":null),children:[X("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),X("div",{name:t.name,class:Ni()("bio-properties-panel-input",R?"edited":null),ref:S,onClick:()=>{i.current.focus()}}),X("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>p(),children:X(cte,{})})]})});function _7e(t){const{active:i}=t;return i?X("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const E7e=()=>{};function x7e(t){const{feel:i=!1,active:o,disabled:s=!1,onClick:a=E7e}=t,c=`Click to ${o?"remove":"set a"} dynamic value with FEEL expression`;return X("button",{type:"button",class:Ni()("bio-properties-panel-feel-icon",o?"active":null,"required"===i?"required":"optional"),onClick:p=>{a(p),p.pointerType||p.stopPropagation()},disabled:"required"===i||s,title:"required"===i?"FEEL expression is mandatory":c,children:X(lte,{})})}const wL=gm({open:()=>{},close:()=>{},source:null});function l9(t){t.preventDefault(),t.stopPropagation()}const _te=()=>{},Yv=hf(function C7e(t,i){const{container:o,className:s,delayInitialFocus:a,position:l,width:c,height:u,onClose:p,onPostActivate:h=_te,onPostDeactivate:v=_te,returnFocus:y=!0,closeOnEscape:E=!0,title:S}=t,D=_i(null),k=_i(null),R=i||k,L=ka(()=>function k7e(t){return"string"==typeof t?er(t):t}(o),[o]),B=()=>{D.current&&D.current.activate()};let $={};return l&&($={...$,top:l.top+"px",left:l.left+"px"}),c&&($.width=c+"px"),u&&($.height=u+"px"),pn(()=>(R.current&&R.current.addEventListener("focusin",B),()=>{R.current.removeEventListener("focusin",B)}),[R]),pn(()=>(R.current&&(D.current=a7e(R.current,{clickOutsideDeactivates:!0,delayInitialFocus:a,fallbackFocus:R.current,onPostActivate:h,onPostDeactivate:v,returnFocusOnDeactivate:y}),D.current.activate()),()=>D.current&&D.current.deactivate()),[R]),$w("propertiesPanel.detach",p),qA(X("div",{"aria-label":S,tabIndex:-1,ref:R,onKeyDown:q=>{q.stopPropagation(),E&&"Escape"===q.key&&p()},role:"dialog",class:Ni()("bio-properties-panel-popup",s),style:$,children:t.children}),L||document.body)});function Ete(t){return t.closest(".bio-properties-panel-popup")}Yv.Title=function D7e(t){const{children:i,className:o,draggable:s,emit:a=(()=>{}),title:l,...c}=t,u=_i({startPosition:null,newPosition:null}),p=_i(),h=_i(),v=(S,D)=>{!function O7e(t){t.preventDefault(),t.stopPropagation()}(S);const{x:k,y:R}=D,L={x:u.current.startPosition.x+k,y:u.current.startPosition.y+R},N=Ete(h.current);N.style.top=L.y+"px",N.style.left=L.x+"px",a("dragover",{newPosition:L,delta:D})};return X("div",{class:Ni()("bio-properties-panel-popup__header",s&&"draggable",o),ref:h,draggable:s,onDragStart:S=>{(function w7e(t,i){let o,s,a;function c(p){return t.call(o,p,{x:p.clientX-s,y:p.clientY-a})}function u(){document.removeEventListener("dragover",c,!0),document.removeEventListener("dragenter",l9,!0),document.removeEventListener("dragend",u),document.removeEventListener("drop",l9)}return function l(p){o=this,s=p.clientX,a=p.clientY,p.dataTransfer&&p.dataTransfer.setDragImage(i||function S7e(){return ui('<canvas width="0" height="0" />')}(),0,0),document.addEventListener("dragover",c,!0),document.addEventListener("dragenter",l9,!0),document.addEventListener("dragend",u),document.addEventListener("drop",l9)}})(v,p.current)(S),S.stopPropagation();const R=Ete(h.current).getBoundingClientRect();u.current.startPosition={x:R.left,y:R.top},a("dragstart")},onDragEnd:()=>{u.current.newPosition=null,a("dragend")},...c,children:[s&&X(Td,{children:[X("div",{ref:p,class:"bio-properties-panel-popup__drag-preview"}),X("div",{class:"bio-properties-panel-popup__drag-handle",children:X(ate,{})})]}),X("div",{class:"bio-properties-panel-popup__title",children:l}),i]})},Yv.Body=function T7e(t){const{children:i,className:o,...s}=t;return X("div",{class:Ni()("bio-properties-panel-popup__body",o),...s,children:i})},Yv.Footer=function P7e(t){const{children:i,className:o,...s}=t;return X("div",{class:Ni()("bio-properties-panel-popup__footer",o),...s,children:t.children})};const xte=700,M7e=250;function R7e(t){const{element:i,eventBus:o={fire(){},on(){},off(){}},popupContainer:s}=t,a=Xv(i),[l,c]=Xn({}),[u,p]=Xn(!1),[h,v]=Xn(null),[y,E]=Xn(null),S=(N,B)=>{o.fire("feelPopup."+N,B)},D=Hl(()=>!!u,[u]);!function N7e(t,i){const o=_i(!1);pn(()=>{if(o.current)return t();o.current=!0},i)}(()=>{u||S("closed")},[u]);const k=(N,B,$)=>{v(N),c(B),p(!0),E($),S("open")},R=(N={})=>{const{id:B}=N;B&&B!==h||(p(!1),v(null))},L={open:k,close:R,source:h};return pn(()=>{i&&a&&i!==a&&R()},[i]),pn(()=>{const B=()=>D();return o.on("feelPopup._close",R),o.on("feelPopup._open",$=>{const{entryId:q,popupConfig:ee,sourceElement:ae}=$;k(q,ee,ae)}),o.on("feelPopup._isOpen",B),()=>{o.off("feelPopup._close",R),o.off("feelPopup._open",k),o.off("feelPopup._isOpen",B)}},[o,D]),X(wL.Provider,{value:L,children:[u&&X(A7e,{onClose:R,container:s,sourceElement:y,emit:S,...l}),t.children]})}function A7e(t){const{container:i,id:o,hostLanguage:s,onInput:a,onClose:l,position:c,singleLine:u,sourceElement:p,title:h,tooltipContainer:v,type:y,value:E,variables:S,emit:D}=t,k=_i(),R=_i(),L=_i(!1);return pn(()=>(D("opened",{domNode:R.current}),()=>D("close",{domNode:R.current})),[]),pn(()=>{k.current&&k.current.focus()},[k]),X(Yv,{container:i,className:"bio-properties-panel-feel-popup",emit:D,position:c,title:h,onClose:l,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:()=>{p&&p.focus()},height:M7e,width:xte,ref:R,children:[X(Yv.Title,{title:h,emit:D,draggable:!0,children:["feel"===y&&X("a",{href:"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn FEEL expressions",X(bL,{})]}),"feelers"===y&&X("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/",target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:["Learn templating",X(bL,{})]})]}),X(Yv.Body,{children:X("div",{onKeyDownCapture:q=>{"Escape"===q.key&&(L.current=function I7e(t){return t.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}(q.target))},onKeyDown:q=>{"Escape"===q.key&&(L.current||(l(),L.current=!1))},class:"bio-properties-panel-feel-popup__body",children:["feel"===y&&X(bte,{enableGutters:!0,id:wte(o),name:o,onInput:a,value:E,variables:S,ref:k,tooltipContainer:v}),"feelers"===y&&X(EL,{id:wte(o),contentAttributes:{"aria-label":h},enableGutters:!0,hostLanguage:s,name:o,onInput:a,value:E,ref:k,singleLine:u,tooltipContainer:v})]})}),X(Yv.Footer,{children:X("button",{type:"button",onClick:()=>l(),title:"Close pop-up editor",class:"bio-properties-panel-feel-popup__close-btn",children:"Close"})})]})}function wte(t){return`bio-properties-panel-${t}`}function Ste(t){const{id:i,label:o,onInput:s,value:a,switcherLabel:l,inline:c,onFocus:u,onBlur:p,inputRef:h,tooltip:v}=t,[y,E]=Xn(a),S=function(){var k=Ye(function*(){s(!a)});return function(){return k.apply(this,arguments)}}();return pn(()=>{a!==y&&E(a)},[a]),X("div",{class:Ni()("bio-properties-panel-toggle-switch",{inline:c}),children:[X("label",{class:"bio-properties-panel-label",for:Tte(i),children:X(Im,{value:v,forId:i,element:t.element,children:o})}),X("div",{class:"bio-properties-panel-field-wrapper",children:[X("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[X("input",{ref:h,id:Tte(i),class:"bio-properties-panel-input",type:"checkbox",onFocus:u,onBlur:p,name:i,onInput:k=>{S(),E(k.target.value)},checked:!!y}),X("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),l&&X("p",{class:"bio-properties-panel-toggle-switch__label",children:l})]})]})}function Tte(t){return`bio-properties-panel-${t}`}function Pte(t){const{debounce:i,disabled:o,displayLabel:s=!0,id:a,inputRef:l,label:c,max:u,min:p,onInput:h,step:v,value:y="",onFocus:E,onBlur:S}=t,[D,k]=Xn(y),R=ka(()=>i(N=>{N.validity.valid&&h(N.value?parseFloat(N.value):void 0)}),[h,i]);return pn(()=>{y!==D&&k(y)},[y]),X("div",{class:"bio-properties-panel-numberfield",children:[s&&X("label",{for:Ote(a),class:"bio-properties-panel-label",children:c}),X("input",{id:Ote(a),ref:l,type:"number",name:a,spellCheck:"false",autoComplete:"off",disabled:o,class:"bio-properties-panel-input",max:u,min:p,onInput:N=>{R(N.target),k(N.target.value)},onFocus:E,onBlur:S,step:v,value:D})]})}function Ote(t){return`bio-properties-panel-${t}`}const j7e=hf((t,i)=>{const{id:o,disabled:s,onInput:a,value:l,onFocus:c,onBlur:u}=t,p=_i();return i.current={focus:h=>{const v=p.current;v&&(v.focus(),"number"==typeof h&&(h>l.length&&(h=l.length),v.setSelectionRange(h,h)))}},X("input",{id:c5(o),type:"text",ref:p,name:o,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:h=>a(h.target.value),onFocus:c,onBlur:u,value:l||""})});function c5(t){return`bio-properties-panel-${t}`}function U7e(t){const{top:i,left:o}=t.getBoundingClientRect();return{left:o-xte-20,top:i}}function G7e(t,i){let o="";return t&&t.type&&(o=`${t.type} / `),`${o}${i}`}hf((t,i)=>{const{id:o,debounce:s,disabled:a,onInput:l,value:c,min:u,max:p,step:h,onFocus:v,onBlur:y}=t,E=_i();return i.current={focus:S=>{const D=E.current;D&&(D.focus(),"number"==typeof S&&S!==1/0&&(S>c.length&&(S=c.length),D.setSelectionRange(S,S)))}},X(Pte,{id:o,debounce:s,disabled:a,displayLabel:!1,inputRef:E,max:p,min:u,onInput:l,step:h,value:c,onFocus:v,onBlur:y})}),hf((t,i)=>{const{id:o,disabled:s,onInput:a,value:l,onFocus:c,onBlur:u}=t,p=_i();return i.current={focus:()=>{const h=p.current;h&&(h.focus(),h.setSelectionRange(0,0))}},X("textarea",{id:c5(o),type:"text",ref:p,name:o,spellCheck:"false",autoComplete:"off",disabled:s,class:"bio-properties-panel-input",onInput:h=>a(h.target.value),onFocus:c,onBlur:u,value:l||"","data-gramm":"false"})}),hf((t,i)=>{const{id:o,onInput:s,value:a,onFocus:l,onBlur:c,switcherLabel:u}=t,p=_i();return i.current={focus:()=>{const h=p.current;h&&h.focus()}},X(Ste,{id:o,value:a,inputRef:p,onInput:s,onFocus:l,onBlur:c,switcherLabel:u})}),hf((t,i)=>{const{id:o,disabled:s,onInput:a,value:l,onFocus:c,onBlur:u}=t,p=_i();return i.current={focus:()=>{const v=p.current;v&&v.focus()}},X("input",{ref:p,id:c5(o),name:o,onFocus:c,onBlur:u,type:"checkbox",class:"bio-properties-panel-input",onChange:({target:v})=>{a(v.checked)},checked:l,disabled:s})});const W7e={},X7e={},Y7e={};function K7e(t){const{element:i,headerProvider:o,placeholderProvider:s,groups:a,layoutConfig:l,layoutChanged:c,descriptionConfig:u,descriptionLoaded:p,tooltipConfig:h,tooltipLoaded:v,feelPopupContainer:y,eventBus:E}=t,[S,D]=Xn(kte(l));(function J7e(t,i){const o=_i(!1);O3(()=>{if(o.current)return t();o.current=!0},i)})(()=>{const Fe=kte(l);D(Fe)},[l]),pn(()=>{"function"==typeof c&&c(S)},[S,c]);const L={layout:S,setLayout:D,getLayoutForKey:(Fe,bt)=>function Hbe(t,i,o){let s=t;return _e(i,function(a){if(xD(s))return s=void 0,!1;s=s[a]}),Ul(s)?o:s}(S,Fe,bt),setLayoutForKey:(Fe,bt)=>{const Et=Ae({},S);tX(Et,Fe,bt),D(Et)}},N=ka(()=>function Q7e(t={}){return{...X7e,...t}}(u),[u]);pn(()=>{"function"==typeof p&&p(N)},[N,p]);const $={description:N,getDescriptionForId:(Fe,bt)=>N[Fe]&&N[Fe](bt)},q=ka(()=>function Z7e(t={}){return{...Y7e,...t}}(h),[h]);pn(()=>{"function"==typeof v&&v(q)},[q,v]);const ae={tooltip:q,getTooltipForId:(Fe,bt)=>q[Fe]&&q[Fe](bt)},[te,ne]=Xn({});$w("propertiesPanel.setErrors",({errors:Fe})=>ne(Fe),E);const we={errors:te},fe={eventBus:E},ye={element:i};return s&&!i?X(vte,{...s.getEmpty()}):s&&Rn(i)?X(vte,{...s.getMultiple()}):X(y0.Provider,{value:ye,children:X(_L.Provider,{value:we,children:X(ute.Provider,{value:$,children:X(pte.Provider,{value:ae,children:X(y0.Provider,{value:L,children:X(dte.Provider,{value:fe,children:X(R7e,{element:i,eventBus:E,popupContainer:y,children:X("div",{class:"bio-properties-panel",children:[X(l7e,{element:i,headerProvider:o}),X("div",{class:"bio-properties-panel-scroll-container",children:a.map(Fe=>{const{component:bt=fr,id:Et}=Fe;return zl(bt,{...Fe,key:Et,element:i})})})]})})})})})})})})}function kte(t={},i=W7e){return{...i,...t}}function iCe(t){const{id:i,label:o,onChange:s,disabled:a,value:l=!1,onFocus:c,onBlur:u,tooltip:p}=t,[h,v]=Xn(l);return pn(()=>{l!==h&&v(l)},[l]),X("div",{class:"bio-properties-panel-checkbox",children:[X("input",{ref:a5(i),id:Rte(i),name:i,onFocus:c,onBlur:u,type:"checkbox",class:"bio-properties-panel-input",onChange:D=>{(({target:D})=>{s(D.checked)})(D),v(D.target.value)},checked:h,disabled:a}),X("label",{for:Rte(i),class:"bio-properties-panel-label",children:X(Im,{value:p,forId:i,element:t.element,children:o})})]})}function yl(t){const{element:i,id:o,description:s,label:a,getValue:l,setValue:c,disabled:u,onFocus:p,onBlur:h,tooltip:v}=t,y=l(i),E=Wv(o);return X("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":o,children:[X(iCe,{disabled:u,id:o,label:a,onChange:c,onFocus:p,onBlur:h,value:y,tooltip:v,element:i},i),E&&X("div",{class:"bio-properties-panel-error",children:E}),X(Lm,{forId:o,element:i,value:s})]})}function b0(t){return t&&!!t.checked}function Rte(t){return`bio-properties-panel-${t}`}function uCe(t){const{id:i,label:o,onChange:s,options:a=[],value:l="",disabled:c,onFocus:u,onBlur:p,tooltip:h}=t,v=a5(i),[y,E]=Xn(l);return pn(()=>{l!==y&&E(l)},[l]),X("div",{class:"bio-properties-panel-select",children:[X("label",{for:Ite(i),class:"bio-properties-panel-label",children:X(Im,{value:h,forId:i,element:t.element,children:o})}),X("select",{ref:v,id:Ite(i),name:i,class:"bio-properties-panel-input",onInput:k=>{(({target:k})=>{s(k.value)})(k),E(k.target.value)},onFocus:u,onBlur:p,value:y,disabled:c,children:a.map((k,R)=>k.children?X("optgroup",{label:k.label,children:k.children.map((L,N)=>X("option",{value:L.value,disabled:L.disabled,children:L.label},N))},R):X("option",{value:k.value,disabled:k.disabled,children:k.label},R))})]})}function ji(t){const{element:i,id:o,description:s,label:a,getValue:l,setValue:c,getOptions:u,disabled:p,onFocus:h,onBlur:v,validate:y,tooltip:E}=t,S=u(i),D=Wv(o),[k,R]=Xn(null);let L=l(i);pn(()=>{if(Br(y)){const $=y(L)||null;R($)}},[L,y]);const B=D||k;return X("div",{class:Ni()("bio-properties-panel-entry",B?"has-error":""),"data-entry-id":o,children:[X(uCe,{id:o,label:a,value:L,onChange:$=>{let q=null;Br(y)&&(q=y($)||null),c($,q),R(q)},onFocus:h,onBlur:v,options:S,disabled:p,tooltip:E,element:i},i),B&&X("div",{class:"bio-properties-panel-error",children:B}),X(Lm,{forId:o,element:i,value:s})]})}function _o(t){return t&&!!t.value}function Ite(t){return`bio-properties-panel-${t}`}function Nte(t){t.style.height="auto",t.style.height=`${t.scrollHeight+2}px`}function fCe(t){const{id:i,label:o,debounce:s,onInput:a,value:l="",disabled:c,monospace:u,onFocus:p,onBlur:h,autoResize:v,rows:y=(v?1:2),tooltip:E}=t,[S,D]=Xn(l),k=a5(i),R=ka(()=>s(N=>a(N.value.length?N.value:void 0)),[a,s]);return O3(()=>{v&&Nte(k.current)},[]),pn(()=>{l!==S&&D(l)},[l]),X("div",{class:"bio-properties-panel-textarea",children:[X("label",{for:Lte(i),class:"bio-properties-panel-label",children:X(Im,{value:E,forId:i,element:t.element,children:o})}),X("textarea",{ref:k,id:Lte(i),name:i,spellCheck:"false",class:Ni()("bio-properties-panel-input",u?"bio-properties-panel-input-monospace":"",v?"auto-resize":""),onInput:N=>{R(N.target),v&&Nte(N.target),D(N.target.value)},onFocus:p,onBlur:h,rows:y,value:S,disabled:c,"data-gramm":"false"})]})}function Kv(t){const{element:i,id:o,description:s,debounce:a,label:l,getValue:c,setValue:u,rows:p,monospace:h,disabled:v,validate:y,onFocus:E,onBlur:S,autoResize:D,tooltip:k}=t,R=Wv(o),[L,N]=Xn(null);let B=c(i);pn(()=>{if(Br(y)){const ee=y(B)||null;N(ee)}},[B,y]);const q=R||L;return X("div",{class:Ni()("bio-properties-panel-entry",q?"has-error":""),"data-entry-id":o,children:[X(fCe,{id:o,label:l,value:B,onInput:ee=>{let ae=null;Br(y)&&(ae=y(ee)||null),u(ee,ae),N(ae)},onFocus:E,onBlur:S,rows:p,debounce:a,monospace:h,disabled:v,autoResize:D,tooltip:k,element:i},i),q&&X("div",{class:"bio-properties-panel-error",children:q}),X(Lm,{forId:o,element:i,value:s})]})}function Qv(t){return t&&!!t.value}function Lte(t){return`bio-properties-panel-${t}`}function hCe(t){const{debounce:i,disabled:o=!1,id:s,label:a,onInput:l,onFocus:c,onBlur:u,value:p="",tooltip:h}=t,[v,y]=Xn(p||""),E=a5(s),S=ka(()=>i(k=>l(k.value.length?k.value:void 0)),[l,i]);return pn(()=>{p!==v&&y(p)},[p]),X("div",{class:"bio-properties-panel-textfield",children:[X("label",{for:Fte(s),class:"bio-properties-panel-label",children:X(Im,{value:h,forId:s,element:t.element,children:a})}),X("input",{ref:E,id:Fte(s),type:"text",name:s,spellCheck:"false",autoComplete:"off",disabled:o,class:"bio-properties-panel-input",onInput:k=>{S(k.target),y(k.target.value)},onFocus:c,onBlur:u,value:v})]})}function ot(t){const{element:i,id:o,description:s,debounce:a,disabled:l,label:c,getValue:u,setValue:p,validate:h,onFocus:v,onBlur:y,tooltip:E}=t,S=Wv(o),[D,k]=Xn(null);let R=u(i);pn(()=>{if(Br(h)){const B=h(R)||null;k(B)}},[R,h]);const N=S||D;return X("div",{class:Ni()("bio-properties-panel-entry",N?"has-error":""),"data-entry-id":o,children:[X(hCe,{debounce:a,disabled:l,id:o,label:c,onInput:B=>{let $=null;Br(h)&&($=h(B)||null),p(B,$),k($)},onFocus:v,onBlur:y,value:R,tooltip:E,element:i},i),N&&X("div",{class:"bio-properties-panel-error",children:N}),X(Lm,{forId:o,element:i,value:s})]})}function Pt(t){return t&&!!t.value}function Fte(t){return`bio-properties-panel-${t}`}function Bte(t){return function(o){return!1!==t?HA(o,mn(t)?t:300):o}}Bte.$inject=["config.debounceInput"];var gCe={debounceInput:["factory",Bte]},vCe={feelPopup:["type",(()=>{class t{constructor(o){this._eventBus=o}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(o,s,a){return this._eventBus.fire("feelPopup._open",{entryId:o,popupConfig:s,sourceElement:a})}close(){return this._eventBus.fire("feelPopup._close")}}return t.$inject=["eventBus"],t})()]};function j(t,i){var o=le(t);return o&&"function"==typeof o.$instanceOf&&o.$instanceOf(i)}function on(t,i){return ff(i,function(o){return j(t,o)})}function le(t){return t&&t.businessObject||t}function Pr(t){return t&&t.di}function Di(t){return Oo(t)&&Gl(t,"waypoints")}function Rr(t){return Oo(t)&&Gl(t,"labelTarget")}var Vw={width:90,height:20},jte=15;function Zv(t){return j(t,"bpmn:Event")||j(t,"bpmn:Gateway")||j(t,"bpmn:DataStoreReference")||j(t,"bpmn:DataObjectReference")||j(t,"bpmn:DataInput")||j(t,"bpmn:DataOutput")||j(t,"bpmn:SequenceFlow")||j(t,"bpmn:MessageFlow")||j(t,"bpmn:Group")}function u9(t){return Rr(t.label)}function CL(t){return t.waypoints?function yCe(t){var i=t.length/2-1,o=t[Math.floor(i)],s=t[Math.ceil(i+.01)],a=function bCe(t){var i=t.length/2-1,o=t[Math.floor(i)],s=t[Math.ceil(i+.01)];return{x:o.x+(s.x-o.x)/2,y:o.y+(s.y-o.y)/2}}(t),l=Math.atan((s.y-o.y)/(s.x-o.x)),c=a.x,u=a.y;return Math.abs(l)<Math.PI/2?u-=jte:c+=jte,{x:c,y:u}}(t.waypoints):j(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+Vw.height/2}:{x:t.x+t.width/2,y:t.y+t.height+Vw.height/2}}function $te(t){return j(t,"bpmn:FlowElement")||j(t,"bpmn:Participant")||j(t,"bpmn:Lane")||j(t,"bpmn:SequenceFlow")||j(t,"bpmn:MessageFlow")||j(t,"bpmn:DataInput")||j(t,"bpmn:DataOutput")?"name":j(t,"bpmn:TextAnnotation")?"text":j(t,"bpmn:Group")?"categoryValueRef":void 0}function Tc(t){var i=t.businessObject,o=$te(i);if(o)return"categoryValueRef"===o?function ECe(t){var i=t.categoryValueRef;return i&&i.value||""}(i):i[o]||""}function hr(t,i){return!j(t,"bpmn:CallActivity")&&(j(t,"bpmn:SubProcess")?!(!(i=i||Pr(t))||!j(i,"bpmndi:BPMNPlane"))||i&&!!i.isExpanded:!j(t,"bpmn:Participant")||!!le(t).processRef)}function Vte(t){return t&&!1!==le(t).isInterrupting}function bl(t){return t&&!!le(t).triggeredByEvent}function d9(t,i){return ff(le(t).eventDefinitions,function(s){return j(s,i)})}var PCe=["y","Y"],zte=["z","Z"];function p9(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function zw(t,i){return-1!==(t=Rn(t)?t:[t]).indexOf(i.key)||-1!==t.indexOf(i.code)}function Hte(t){return t.shiftKey}var RCe=function MCe(t,i){return t(i={exports:{}},i.exports),i.exports}(function(t){var i=t.exports=function(o,s){if(s||(s=16),void 0===o&&(o=128),o<=0)return"0";for(var a=Math.log(Math.pow(2,o))/Math.log(s),l=2;a===1/0;l*=2)a=Math.log(Math.pow(2,o/l))/Math.log(s)*l;var c=a-Math.floor(a),u="";for(l=0;l<Math.floor(a);l++)u=Math.floor(Math.random()*s).toString(s)+u;if(c){var h=Math.pow(s,c);u=Math.floor(Math.random()*h).toString(s)+u}var v=parseInt(u,s);return v!==1/0&&v>=Math.pow(2,o)?i(o,s):u};i.rack=function(o,s,a){var l=function(u){var p=0;do{if(p++>10){if(!a)throw new Error("too many ID collisions, use more bits");o+=a}var h=i(o,s)}while(Object.hasOwnProperty.call(c,h));return c[h]=u,h},c=l.hats={};return l.get=function(u){return l.hats[u]},l.set=function(u,p){return l.hats[u]=p,l},l.bits=o||128,l.base=s||16,l}});function wf(t){if(!(this instanceof wf))return new wf(t);this._seed=(t=t||[128,36,1]).length?RCe.rack(t[0],t[1],t[2]):t}wf.prototype.next=function(t){return this._seed(t||!0)},wf.prototype.nextPrefixed=function(t,i){var o;do{o=t+this.next(!0)}while(this.assigned(o));return this.claim(o,i),o},wf.prototype.claim=function(t,i){this._seed.set(t,i||!0)},wf.prototype.assigned=function(t){return this._seed.get(t)||!1},wf.prototype.unclaim=function(t){delete this._seed.hats[t]},wf.prototype.clear=function(){var i,t=this._seed.hats;for(i in t)this.unclaim(i)};const DL=wf;zn(632);zn(751);const Gte=gm({selectedElement:null,injector:null,getService:()=>null});function F(t,i){const{getService:o}=ul(Gte);return o(t,i)}function TL(){return TL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},TL.apply(this,arguments)}function PL(){return PL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},PL.apply(this,arguments)}function OL(){return OL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},OL.apply(this,arguments)}function kL(){return kL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},kL.apply(this,arguments)}function ML(){return ML=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},ML.apply(this,arguments)}function RL(){return RL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},RL.apply(this,arguments)}function AL(){return AL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},AL.apply(this,arguments)}var qte=({styles:t={},...i})=>Pe_createElement("svg",AL({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},i),Pe_createElement("path",{stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1.1,4.3",d:"M1.5 30.5L27 5"}),Pe_createElement("path",{d:"M31.803.197L26.5 16.107l-1.52-1.52 3.783-11.35-11.35 3.783-1.52-1.52z"}));function IL(){return IL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},IL.apply(this,arguments)}function NL(){return NL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},NL.apply(this,arguments)}function LL(){return LL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},LL.apply(this,arguments)}function FL(){return FL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},FL.apply(this,arguments)}function BL(){return BL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},BL.apply(this,arguments)}function jL(){return jL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},jL.apply(this,arguments)}function $L(){return $L=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},$L.apply(this,arguments)}function VL(){return VL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},VL.apply(this,arguments)}function zL(){return zL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},zL.apply(this,arguments)}function HL(){return HL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},HL.apply(this,arguments)}function UL(){return UL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},UL.apply(this,arguments)}function GL(){return GL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},GL.apply(this,arguments)}function qL(){return qL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},qL.apply(this,arguments)}function WL(){return WL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},WL.apply(this,arguments)}function XL(){return XL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},XL.apply(this,arguments)}function YL(){return YL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},YL.apply(this,arguments)}function KL(){return KL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},KL.apply(this,arguments)}function QL(){return QL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},QL.apply(this,arguments)}function ZL(){return ZL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},ZL.apply(this,arguments)}function JL(){return JL=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},JL.apply(this,arguments)}function eF(){return eF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},eF.apply(this,arguments)}function tF(){return tF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},tF.apply(this,arguments)}function nF(){return nF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},nF.apply(this,arguments)}function rF(){return rF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},rF.apply(this,arguments)}var Wte=({styles:t={},...i})=>Pe_createElement("svg",rF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.111.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.454 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 5.021zm-3.956 3.946l-3.096 3.097 3.985 3.985-3.913 3.913 3.047 3.048 3.913-3.913 3.988 3.987 3.097-3.096L19.076 16l3.914-3.913-3.048-3.048-3.913 3.913-3.986-3.985zm-.002 1.222l3.988 3.987 3.913-3.913 1.826 1.826-3.913 3.913 3.985 3.986-1.873 1.873-3.985-3.985-3.913 3.913-1.827-1.827 3.914-3.913-3.988-3.987 1.873-1.873z"}));function iF(){return iF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},iF.apply(this,arguments)}var Xte=({styles:t={},...i})=>Pe_createElement("svg",iF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.793l-7.157 5.055v-5.055zm-.865 1.665v7.125l-5.048-3.562 5.048-3.563zm7.161 0v7.132l-5.048-3.566 5.048-3.566z"}));function oF(){return oF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},oF.apply(this,arguments)}var Yte=({styles:t={},...i})=>Pe_createElement("svg",oF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-5.352 4.266V22.761h10.716V9.279H10.642zm.863.866h8.987v11.75h-8.987v-11.75zm.927 1.323v.862h7.133v-.862h-7.133zm0 2.602v.866h7.133v-.866h-7.133zm0 3.008v.862h7.133v-.862h-7.133zm0 2.717v.863h7.133v-.863h-7.133z"}));function sF(){return sF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},sF.apply(this,arguments)}var Kte=({styles:t={},...i})=>Pe_createElement("svg",sF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm6.132 4.194c-1.21 2.455-2.422 4.91-3.633 7.364l-4.516-5.875-4.103 12.133 4.6-5.912c1.58 1.81 3.162 3.619 4.744 5.429L22.13 9.215zM14.383 13.1l4.295 5.445 1.073-2.387-1.027 4.131-4.384-5.157-1.778 2.75 1.821-4.782z"}));function aF(){return aF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},aF.apply(this,arguments)}var Qte=({styles:t={},...i})=>Pe_createElement("svg",aF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156zm.032 2.929c.822 2.586 1.598 5.186 2.42 7.771l-2.42-2.612c-.682.597-2.452 2.884-2.338 2.388.87-2.487 1.447-5.067 2.338-7.547z"}));function lF(){return lF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},lF.apply(this,arguments)}var Zte=({styles:t={},...i})=>Pe_createElement("svg",lF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912zm.974 2.584l3.61 4.295-3.61 4.294v-1.933h-7.88v-4.688h7.88v-1.968z"}));function cF(){return cF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},cF.apply(this,arguments)}var Jte=({styles:t={},...i})=>Pe_createElement("svg",cF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-7.245 5.475v11.06h14.502v-11.06H8.754zm3.222 1.728h8.057c-1.427.878-2.854 2.806-4.281 3.016l-3.776-3.016zm9.554 1.017v6.587H10.48V13.24l5.524 4.414 5.526-4.414z"}));function uF(){return uF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},uF.apply(this,arguments)}var ene=({styles:t={},...i})=>Pe_createElement("svg",uF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.531 2.91 8.95h9.42l2.91-8.95-7.62-5.53zm0 1.067l6.604 4.794-2.523 7.757h-8.162l-2.522-7.757 6.603-4.794z"}));function dF(){return dF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},dF.apply(this,arguments)}var tne=({styles:t={},...i})=>Pe_createElement("svg",dF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M10.638 9.563V23.056h10.724V9.563H10.638zm.863.866h8.995v11.76H11.5V10.43zm.928 1.324v.862h7.139v-.862h-7.14zm0 2.605v.866h7.139v-.866h-7.14zm0 3.01v.863h7.139v-.863h-7.14zm0 2.72v.863h7.139v-.864h-7.14zM15.999.308h-.004l-.188.001h-.011l-.188.004h-.011L15.41.32h-.011l-.187.008h-.005L15.2.33l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.37h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003.178-.001h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 1.023l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.62h-.005l-.005-.002-.182-.035h-.006L18.938.58l-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.43 17.783.41l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.37h-.005L17.38.368l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.328h-.011L16.6.32h-.011l-.187-.006h-.011L16.204.31h-.011L16.005.31H16zm9.016 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zm-18.381.344l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003L4.682 5l-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.595h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01L16.32 3.6h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 13.135l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187V16.7l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zm-30.21.572l-.161.001-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158-.074-.155-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178-.001-.177v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057-.159-.028zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14v-.005l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 23.019l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 27.127l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function pF(){return pF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},pF.apply(this,arguments)}var nne=({styles:t={},...i})=>Pe_createElement("svg",pF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.012 9.222c-1.673 4.657-2.735 9.508-4.409 14.164 1.536-1.526 2.874-3.236 4.41-4.762l4.408 4.762c-1.497-4.712-2.911-9.451-4.409-14.164zm.032 2.93c.823 2.588 1.599 5.19 2.421 7.777l-2.42-2.614c-.683.598-2.454 2.886-2.34 2.39.871-2.489 1.448-5.07 2.34-7.552zM16.012.312c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function fF(){return fF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},fF.apply(this,arguments)}var rne=({styles:t={},...i})=>Pe_createElement("svg",fF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M8.742 10.464v11.072h14.516V10.464H8.742zm3.224 1.73h8.066a69569 69569 0 00-4.034 3.22l-4.032-3.22zm9.565 1.018v6.594H10.469v-6.593L16 17.63l5.532-4.419zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function hF(){return hF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},hF.apply(this,arguments)}var ine=({styles:t={},...i})=>Pe_createElement("svg",hF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M23.637 13.902l-7.625-5.535-7.624 5.535 2.912 8.956h9.425l2.912-8.956zm-1.017.33l-2.524 7.762H11.93l-2.524-7.762 6.607-4.796 6.608 4.796zM16.012.311c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function mF(){return mF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},mF.apply(this,arguments)}var one=({styles:t={},...i})=>Pe_createElement("svg",mF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M13.51 9.081v4.428H9.08v4.982h4.428v4.428h4.982V18.49h4.428v-4.982H18.49V9.081h-4.982zm.83.83h3.32v4.428h4.429v3.322H17.66v4.428h-3.32v-4.454H9.91v-3.296h4.428V9.911zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z",opacity:".98"}));function gF(){return gF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},gF.apply(this,arguments)}var sne=({styles:t={},...i})=>Pe_createElement("svg",gF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.012 8.816L9.21 21.026h13.606l-6.803-12.21zm0 1.776l5.332 9.57H10.681l5.331-9.57zm0-10.281c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function vF(){return vF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},vF.apply(this,arguments)}var ane=({styles:t={},...i})=>Pe_createElement("svg",vF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.998 8.406c-3.018-.041-5.92 1.926-7.031 4.727-1.138 2.695-.51 6.012 1.537 8.103 1.99 2.141 5.268 2.93 8.014 1.927 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.88-4.3-7.137a7.552 7.552 0 00-3.288-.75zm0 1.384c2.759-.052 5.373 1.973 6.015 4.655.704 2.578-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.086-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86zm1.962 1.765l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.615c-.252-.14-.505-.278-.757-.417zm-1.965-8.268h-.158l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.048.12.047.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.138-.107-.121-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.005-.002-.006-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.141-.031-.006-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.001-.143-.026-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.01l-.148-.001h-.01zM10.357 4.66l-.156.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.004.003-.005.004-.11.096-.004.004-.004.003-.109.098-.004.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.003.004-.004.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.005-.086.117-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.029.15-.058.138-.085.119-.108.082-.106.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022-.16.008zm13.91 2.116l-.158.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.026.159.054.152.082.139.086.102.09.09.094.098.093.099.092.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.115.068.117.067.115.065.118.064.117.062.118.061.12.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.049.127.046.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.086.137.109.119.129.096.145.07.155.043.16.013.161-.017.155-.046.143-.074.126-.1.106-.122.082-.138.055-.152.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.059-.132-.002-.005-.002-.004-.061-.132-.003-.004-.002-.005-.062-.13-.003-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.073-.125-.003-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.08-.12-.004-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.117-.003-.005-.003-.004-.088-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.093-.113-.004-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.109-.004-.004-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023-.16.008zM4.288 12.828l-.158.032-.15.06-.135.088-.117.11-.095.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.006-.019.144v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.006l-.001.005-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.006.033.14v.006l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.103.102-.126.076-.142.049-.153.02-.16-.01-.161-.032-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.132-.024-.134-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.132.01-.139.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029-.16.002zm23.286 4.202l-.156.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.134-.026.132-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.062.119-.063.116-.067.119-.066.116-.068.115-.07.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.108-.085.109-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.082-.12.003-.005.002-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.004.003-.005.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.003-.005.002-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.002-.006.04-.138.002-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.141.001-.006.001-.005.031-.141.002-.006v-.005l.03-.142.001-.005.001-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022-.16.007zM6.681 22.734l-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.11.04.047.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.106.004.003.004.004.103.105.004.004.004.004.105.103.004.004.003.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.005.004.004.003.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.003.126.072.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.068.005.002.004.002.13.066.004.003.005.002.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.003.133.056.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.161-.015.155-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.158-.061-.15-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.079-.11-.08-.109-.082-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm15.063 2.691l-.156.044-.12.057-.06.034-.12.066-.116.064-.119.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.036-.13.035-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021h.005l.006-.002.143-.022h.006l.005-.002.143-.024h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.036.005-.002.005-.001.14-.038.005-.001.005-.002.14-.04h.005l.005-.002.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.056.005-.003.005-.002.132-.057.005-.002.005-.003.132-.059.005-.002.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.002.005-.003.129-.066.004-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.002.065-.038.132-.093.112-.115.089-.135.062-.149.034-.157.004-.161-.027-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.045-.16-.017-.161.014zM15.994 0l-.187.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.01L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.184.027h-.006l-.005.001-.184.029h-.005l-.005.001-.183.031-.005.001-.006.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.177.027.17.03.173.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.088-.135.06-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.144-.073-.129-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.005-.001-.184-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06 17.385.06h-.005l-.187-.015h-.005l-.005-.001-.187-.013h-.01L16.799.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0h-.01zm8.86 2.939l-.157.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.127.125.123.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.085.152.083.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.161-.016.155-.046.143-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.002-.005-.003-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.002-.005-.102-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.004-.003-.005-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.003-.004-.004-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.003-.004-.133-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027-.16.004zm-18.381.348l-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.005-.003.004-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.005-.003.004-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023-.161.008zm24.514 11.15l-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.024.175-.027.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.161-.061.164-.063.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.078.158-.081.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.12.13.096.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.004.002-.005.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.17.002-.006.001-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.18.001-.006.001-.005.038-.182v-.005l.002-.005.035-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02-.161.009zM.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.005.074.169.002.005.002.004.076.169.002.005.002.004.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.156-.07-.162-.068-.16-.067-.164-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15 .777 15zM6.17 26.842l-.152.052-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.005.003.004.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.003.162.088.005.002.004.002.164.087.005.002.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.169.076.004.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.061.005.002.005.001.175.06.005.001.005.002.176.057.005.001.005.002.177.055.005.001.005.002.177.052.005.002.005.001.178.051.005.001.005.002.178.048.006.002h.005l.179.047.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.169-.044-.17-.045-.166-.048-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm19.214.073l-.156.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.157.073-.158.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.048-.17.045-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.008.133-.017.115-.024h.005l.005-.002.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002h.005l.18-.047.004-.001.005-.002.179-.048.005-.002.005-.001.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.005-.002.004-.002.172-.068.005-.001.005-.002.171-.07.005-.002.005-.002.17-.072.005-.002.005-.002.169-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.002.167-.08.004-.003.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.002.163-.087.005-.002.005-.002.162-.088.005-.003.005-.003.161-.09.005-.002.004-.003.16-.092.005-.002.005-.003.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.002.155-.102.005-.003.004-.003.154-.104.004-.003.005-.003.152-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.111.004-.004.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02-.16.009z"}));function yF(){return yF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},yF.apply(this,arguments)}var lne=({styles:t={},...i})=>Pe_createElement("svg",yF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.003C8.195-.157.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.408 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 4.975zm-2.15 3.281v5.534H8.213v4.38h5.636v5.534h4.31V18.17h5.639v-4.38h-5.64V8.256h-4.31zm.865.865h2.583v5.534h5.635v2.65h-5.635v5.533h-2.583v-5.534h-5.64v-2.649h5.64V9.121z"}));function bF(){return bF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},bF.apply(this,arguments)}var cne=({styles:t={},...i})=>Pe_createElement("svg",bF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.521L9.206 20.745h13.598L16.005 8.542zm0 1.775l5.329 9.564H10.677l5.328-9.564z"}));function _F(){return _F=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},_F.apply(this,arguments)}var une=({styles:t={},...i})=>Pe_createElement("svg",_F({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-.137 3.42c-2.965.02-5.792 1.968-6.884 4.722-1.137 2.693-.509 6.007 1.536 8.096 1.988 2.14 5.263 2.929 8.007 1.926 2.875-.98 4.987-3.824 5.063-6.865.154-2.954-1.622-5.875-4.295-7.13a7.545 7.545 0 00-3.427-.75zm.27 1.381c2.708.013 5.249 2.014 5.88 4.652.704 2.576-.481 5.512-2.788 6.862-2.356 1.478-5.677 1.084-7.611-.918-2.042-1.97-2.405-5.376-.839-7.738 1.11-1.762 3.146-2.877 5.229-2.857h.13zm1.831 1.764l-2.072 3.76c-.64.068-.792 1.039-.202 1.298.39.27.696-.18 1.051-.164h3.168v-.864h-3.18l1.992-3.612-.757-.418z"}));function EF(){return EF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},EF.apply(this,arguments)}var dne=({styles:t={},...i})=>Pe_createElement("svg",EF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.848.001C8.113-.093.931 6.281.125 13.983c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.207C29.105 4.938 23.55.48 17.367.06A16.448 16.448 0 0015.848 0v.001zm.293 1.727c7.113-.099 13.662 5.97 14.077 13.08.56 6.299-3.516 12.735-9.582 14.679-5.798 2.004-12.806-.12-16.283-5.237C.717 19.159.874 11.638 5.016 6.876 7.722 3.638 11.902 1.63 16.14 1.728zm-.415 1.555C9.157 3.258 3.256 9.156 3.278 15.729c-.16 5.965 4.365 11.725 10.293 12.737 5.409 1.065 11.37-1.744 13.775-6.753 2.534-4.986 1.386-11.627-2.953-15.251-2.364-2.077-5.512-3.27-8.667-3.18zm.507 1.692c5.82-.026 11.013 5.318 10.79 11.143-.024 5.3-4.313 10.267-9.636 10.803-5.075.667-10.426-2.588-11.885-7.553-1.535-4.744.494-10.46 4.925-12.885a11.072 11.072 0 015.806-1.508z"}));function xF(){return xF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},xF.apply(this,arguments)}function wF(){return wF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},wF.apply(this,arguments)}function SF(){return SF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},SF.apply(this,arguments)}function CF(){return CF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},CF.apply(this,arguments)}function DF(){return DF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},DF.apply(this,arguments)}function TF(){return TF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},TF.apply(this,arguments)}function PF(){return PF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},PF.apply(this,arguments)}function OF(){return OF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},OF.apply(this,arguments)}function kF(){return kF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},kF.apply(this,arguments)}function MF(){return MF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},MF.apply(this,arguments)}function RF(){return RF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},RF.apply(this,arguments)}function AF(){return AF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},AF.apply(this,arguments)}function IF(){return IF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},IF.apply(this,arguments)}function NF(){return NF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},NF.apply(this,arguments)}function LF(){return LF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},LF.apply(this,arguments)}function FF(){return FF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},FF.apply(this,arguments)}function BF(){return BF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},BF.apply(this,arguments)}function jF(){return jF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},jF.apply(this,arguments)}function $F(){return $F=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},$F.apply(this,arguments)}function VF(){return VF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},VF.apply(this,arguments)}function zF(){return zF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},zF.apply(this,arguments)}function HF(){return HF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},HF.apply(this,arguments)}function UF(){return UF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},UF.apply(this,arguments)}function GF(){return GF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},GF.apply(this,arguments)}function qF(){return qF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},qF.apply(this,arguments)}function WF(){return WF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},WF.apply(this,arguments)}function XF(){return XF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},XF.apply(this,arguments)}function YF(){return YF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},YF.apply(this,arguments)}function KF(){return KF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},KF.apply(this,arguments)}function QF(){return QF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},QF.apply(this,arguments)}function ZF(){return ZF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},ZF.apply(this,arguments)}function JF(){return JF=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},JF.apply(this,arguments)}function eB(){return eB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},eB.apply(this,arguments)}var pne=({styles:t={},...i})=>Pe_createElement("svg",eB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M5.637 3A5.644 5.644 0 000 8.637v15.417a5.644 5.644 0 005.637 5.637h20.726A5.644 5.644 0 0032 24.054V8.637A5.644 5.644 0 0026.363 3H5.637zm0 1.778h20.726a3.83 3.83 0 013.859 3.859v15.417a3.83 3.83 0 01-3.859 3.858h-4.201V16.695H9.838v11.217H5.637a3.83 3.83 0 01-3.859-3.858V8.637a3.83 3.83 0 013.859-3.859zm5.33 13.046h10.066v10.065H10.967V17.824zm4.189 1.431V22.06H12.35v1.689h2.804V26.554h1.69V23.749h2.804V22.06h-2.804V19.255h-1.69z"}));function tB(){return tB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},tB.apply(this,arguments)}var fne=({styles:t={},...i})=>Pe_createElement("svg",tB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M5.636 3A5.642 5.642 0 000 8.636v15.418a5.643 5.643 0 005.636 5.636h20.728A5.643 5.643 0 0032 24.054V8.636A5.642 5.642 0 0026.364 3H5.636zm0 1.778h20.728a3.83 3.83 0 013.858 3.858v15.418a3.83 3.83 0 01-3.858 3.858h-4.203V16.723H9.84v11.189H5.636a3.83 3.83 0 01-3.858-3.858V8.636a3.83 3.83 0 013.858-3.858zm5.331 13.074h10.066v10.06H10.967v-10.06zm1.336 3.996v1.711h7.394v-1.71h-7.394z"}));function nB(){return nB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},nB.apply(this,arguments)}function rB(){return rB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},rB.apply(this,arguments)}function iB(){return iB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},iB.apply(this,arguments)}function oB(){return oB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},oB.apply(this,arguments)}var WDe={Association:({styles:t={},...i})=>Pe_createElement("svg",TL({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},i),Pe_createElement("path",{stroke:"#000",strokeWidth:"2",fill:"none",strokeDasharray:"3.3,6",strokeLinecap:"square",d:"M1.5 30.5l29-29"})),BusinessRuleTask:({styles:t={},...i})=>Pe_createElement("svg",PL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.296 7.398v12.665h16.87V7.398H5.296zm.718 4.386h15.433v3.44H9.985v-3.432h-.719v3.431H6.014v-3.44zm0 4.158h3.252v3.403H6.014v-3.403zm3.97 0h11.463v3.403H9.985v-3.403z"}),Pe_createElement("path",{d:"M6.079 8.209v3.587H21.44V8.209z"})),CallActivity:({styles:t={},...i})=>Pe_createElement("svg",OL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M24.978 3c3.761 0 6.89 2.979 7.018 6.695l.004.238V22.4c0 3.747-3.05 6.804-6.783 6.93l-.24.003H7.023c-3.761 0-6.89-2.978-7.018-6.695L0 22.4V9.933C0 6.187 3.05 3.13 6.783 3.004L7.023 3h17.955zm0 3.667H7.022c-1.842 0-3.255 1.344-3.35 3.079l-.005.187V22.4c0 1.761 1.35 3.167 3.16 3.262l.195.005L10 25.666V15h12v10.666h2.978c1.842 0 3.255-1.344 3.35-3.079l.005-.187V9.933c0-1.761-1.35-3.166-3.16-3.261l-.195-.005zm-3.732 9.087H10.754v9.912h10.491v-9.912zm-4.475 1.817v2.658h2.658v1.542H16.77v2.658H15.23V21.77H12.57V20.23h2.658V17.57h1.542z"})),Collaboration:({styles:t={},...i})=>Pe_createElement("svg",kL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("g",{fillRule:"evenodd"},Pe_createElement("path",{fillRule:"nonzero",d:"M0 0v8.62h32V0H0zm1.655 7.054v-5.37h28.62v5.37H1.656zM0 23.38V32h32v-8.62H0zm1.655 7.054v-5.37h28.62v5.37H1.656z"}),Pe_createElement("path",{d:"M24 8l4 7h-8l4-7zm0 2l-2.28 4h4.56L24 10zM23.5 21h1v3h-1zM23.5 15h1v3h-1zM8 24l-4-7h8l-4 7zm0-2l2.28-4H5.72L8 22zM7.5 8h1v3h-1zM7.5 14h1v3h-1z"}))),ConditionalFlow:({styles:t={},...i})=>Pe_createElement("svg",ML({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M32 .041S20.42 5.95 14.537 8.713c1.26 1.15 2.432 2.392 3.648 3.588-5.703 5.78-3.15 3.303-8.087 8.316l-8.472 1.377L0 32l10.006-1.626.098-.598 1.279-7.873c4.975-5.052 2.403-2.555 8.118-8.346 1.218 1.214 2.43 2.435 3.648 3.648C26.29 11.018 32 .041 32 .041zM9.603 22.397L8.54 28.91 2.03 29.97l1.061-6.515 6.512-1.058z"})),SequenceFlow:({styles:t={},...i})=>Pe_createElement("svg",RL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.12 32 .06 32 .06z"})),DataInput:({styles:t={},...i})=>Pe_createElement("svg",IL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354zm.808 1.868l3.711 3.487-3.71 3.487V9.329H7.888V7.723h4.283V5.039z"})),DataInputAssociation:qte,DataOutput:({styles:t={},...i})=>Pe_createElement("svg",LL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354z"})),DataOutputAssociation:qte,DataObjectReference:({styles:t={},...i})=>Pe_createElement("svg",NL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M21.345 0H4v32h24.512V7.36L21.345 0zM19.24 1.818v7.507h7.454v20.857H5.818V1.818H19.24zm1.818.493l5.06 5.196h-5.06V2.311z"})),DataStoreReference:({styles:t={},...i})=>Pe_createElement("svg",FL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.008 1c-3.712 0-7.417.306-10.319.939-1.45.316-2.7.71-3.68 1.226C1.065 3.662.297 4.304.061 5.23a.823.823 0 00-.035.15L0 5.502l.017.084c-.012 7.41 0 14.46 0 22.08l.017.082c.203.985.995 1.656 1.975 2.172.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.98-.516 1.772-1.187 1.975-2.172l.017-.082V5.541a.825.825 0 000-.106v-.016l-.002-.013a.823.823 0 00-.046-.197c-.244-.916-1.007-1.55-1.943-2.044-.98-.516-2.23-.91-3.68-1.226C23.423 1.306 19.718 1 16.006 1zm0 1.646c3.62 0 7.245.308 9.968.901 1.36.297 2.497.67 3.263 1.074.612.323.932.643 1.063.882-.131.24-.451.56-1.063.882-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.901-1.361-.297-2.497-.67-3.264-1.074-.611-.322-.931-.642-1.062-.882.13-.24.451-.56 1.062-.882.767-.403 1.903-.777 3.264-1.074 2.723-.593 6.348-.9 9.968-.9zM1.664 7.647c.112.067.227.132.345.194.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.119-.062.234-.127.346-.194v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.671-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.187c.112.067.227.132.345.195.98.516 2.23.91 3.68 1.226 2.902.632 6.607.938 10.319.938 3.711 0 7.416-.306 10.318-.938 1.451-.317 2.701-.71 3.68-1.226.119-.063.234-.128.346-.195v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.67-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.188c.112.067.227.131.345.194.98.516 2.23.91 3.68 1.226 2.902.633 6.607.939 10.319.939 3.711 0 7.416-.306 10.318-.94 1.451-.316 2.701-.709 3.68-1.225.119-.063.234-.127.346-.194V27.47c-.08.245-.398.618-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.9-9.968.9-3.62 0-7.245-.306-9.968-.9-1.361-.297-2.497-.67-3.264-1.074-.714-.377-1.032-.75-1.112-.995V16.022z"})),DefaultFlow:({styles:t={},...i})=>Pe_createElement("svg",BL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L6.84 23.804H.046v1.755h5.063L0 30.735 1.325 32l6.357-6.441h7.145v-1.756H9.414l9.99-10.123c1.228 1.223 2.45 2.453 3.677 3.676C26.247 11.12 32 .06 32 .06z"})),CancelEndEvent:({styles:t={},...i})=>Pe_createElement("svg",jL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-3.955 3.918L8.94 12.072l3.985 3.985-3.913 3.913 3.048 3.047 3.913-3.913 3.987 3.987 3.096-3.096-3.987-3.987 3.913-3.913-3.047-3.048-3.913 3.913-3.985-3.985z"})),CompensateEndEvent:({styles:t={},...i})=>Pe_createElement("svg",$L({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-.56 5.744l-7.407 5.23 7.408 5.234v-5.057c2.384 1.687 4.771 3.371 7.157 5.057V10.801l-7.157 5.054v-5.054z"})),ErrorEndEvent:({styles:t={},...i})=>Pe_createElement("svg",VL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm6.132 4.166l-3.633 7.363-4.516-5.874-4.102 12.131 4.599-5.91 4.743 5.427 2.909-13.137z"})),EscalationEndEvent:({styles:t={},...i})=>Pe_createElement("svg",zL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.9c-1.672 4.653-2.733 9.5-4.406 14.153 1.535-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.497-4.71-2.91-9.445-4.406-14.155z"})),LinkEndEvent:({styles:t={},...i})=>Pe_createElement("svg",HL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm1.78 4.065v3.555H9.779v6.713h7.994v3.554l5.828-6.91-5.828-6.912z"})),MessageEndEvent:({styles:t={},...i})=>Pe_createElement("svg",UL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-5.91 5.448l6.041 4.9 6.04-4.9H10.084zm-1.34 1.137v9.92h14.513v-9.718l-7.132 5.786-7.381-5.988z"})),MultipleEndEvent:({styles:t={},...i})=>Pe_createElement("svg",GL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.529 18.529 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.011 3.039l-7.619 5.53 2.91 8.95h9.418l2.91-8.95-7.619-5.53z"})),EndEvent:({styles:t={},...i})=>Pe_createElement("svg",qL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.84.042C8.654-.01 1.913 5.437.4 12.454-1.057 18.62 1.554 25.495 6.784 29.09c5.076 3.636 12.31 3.92 17.59.544 5.309-3.251 8.435-9.744 7.445-15.921C30.91 7.307 25.795 1.738 19.442.422a16.064 16.064 0 00-3.602-.38zm.382 5.01c5.28-.017 10.13 4.353 10.669 9.61.687 5.025-2.552 10.281-7.423 11.792-4.754 1.617-10.486-.447-12.962-4.856-2.74-4.575-1.574-11.094 2.768-14.27a11.05 11.05 0 016.948-2.276z"})),SignalEndEvent:({styles:t={},...i})=>Pe_createElement("svg",WL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.492c-2.261 4.07-4.532 8.136-6.797 12.204h13.595L15.999 8.55z"})),TerminateEndEvent:({styles:t={},...i})=>Pe_createElement("svg",XL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 2.859c-5.264-.2-9.495 5.551-7.755 10.516 1.366 5.085 8.108 7.436 12.339 4.301 4.455-2.807 4.708-9.943.462-13.058A8.128 8.128 0 0016 7.915z"})),EventSubProcess:({styles:t={},...i})=>Pe_createElement("svg",YL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M7.295 4.78h1.779V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.78V4.78zm3.557 0h1.78V3.003h-1.78V4.78zm3.558 0h1.78V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.779V4.78zm3.558 0c.55.014 1.106-.034 1.654.045l.245-1.762c-.629-.096-1.266-.05-1.9-.061V4.78zM5.732 3.004a5.933 5.933 0 00-.915.093c.111.582.226 1.164.315 1.75.358-.101.947.098.746-.483-.096-.382.164-1.208-.146-1.36zm22.372 2.281c.427.234.812.547 1.13.915.42-.4 1.002-.777 1.33-1.18a5.863 5.863 0 00-1.593-1.289l-.867 1.554zm-25.27-1.44c-.587.354-1.11.811-1.539 1.345.47.333.96.86 1.417 1.077.299-.362.66-.673 1.065-.913-.328-.493-.55-1.055-.944-1.509zM30.515 7.26c-.563.046-.557.342-.378.784.154.25-.097.862.25.85.525-.023 1.14.043 1.612-.032a5.891 5.891 0 00-.362-2.027l-1.122.425zM.268 7.114A6.042 6.042 0 000 9.052h1.78c-.013-.5.047-1.003.208-1.478L.296 7.027l-.026.079-.002.008zM30.22 12.45H32v-1.779h-1.779v1.779zm-30.22.16h1.78v-1.779H0v1.78zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.779H0v1.779zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.78H0v1.78zm30.22 3.397H32v-1.779h-1.779v1.78zm-30.22.16h1.78v-1.778H0v1.778zm30.137 1.47a4.059 4.059 0 01-.522 1.32c.506.283 1.046.715 1.53.908a5.836 5.836 0 00.744-1.918c-.576-.094-1.209-.264-1.752-.31zm-29.984.51c.157.676.435 1.325.82 1.904l1.486-.977a4.065 4.065 0 01-.577-1.347l-1.73.42zm28.427 1.943c-.371.277-.79.49-1.234.627l.548 1.693a5.84 5.84 0 001.835-.96l-1.082-1.412-.066.05-.001.002zm-26.164 1.47c.567.413 1.21.722 1.886.907.14-.569.343-1.175.444-1.722a4.062 4.062 0 01-1.283-.624l-1.047 1.438zm3.88 1.119h1.779v-1.78h-1.78v1.78zm3.55 0h1.787v-1.78H9.846v1.78zm3.565 0h1.78v-1.78h-1.78v1.78zm3.558 0h1.78v-1.78h-1.78v1.78zm3.451 0h1.743v-1.78h-1.743v1.78zm3.665 0h1.779v-1.78h-1.78v1.78zm-1.922-.545V16.776H9.846V29.25h12.318zM10.967 17.905h10.068V27.97H10.967V17.905zm1.336 3.998v1.711h7.396v-1.711h-7.396z",opacity:".97"})),ComplexGateway:({styles:t={},...i})=>Pe_createElement("svg",KL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.327 6.79v.007l-.145.027-.118.08-.083.123-.028.145v4.954L11.793 10.8l-.125-.08-.14-.029-.144.027-.122.082-.46.46-.085.125-.026.142.028.14.08.125 3.505 3.505H9.347l-.001-.002-.145.032-.118.08-.083.122-.028.146v.652l.029.147.082.119.12.08.144.032h4.956L10.8 20.207v-.001l-.084.124-.026.142.028.14.08.124.46.461.126.082.14.029.143-.027.124-.084L15.3 17.69v4.964-.001l.028.147.082.12.12.08.144.031h.652l.148-.03.118-.08.083-.12.028-.146v-4.962l3.505 3.505.126.082.14.027.142-.027.124-.084.461-.46.083-.123s.028-.144.027-.146l-.028-.14-.082-.126-3.496-3.496h4.948l.148-.03.119-.08.082-.12.028-.147v-.652l-.028-.145-.083-.122-.119-.08s-.147-.033-.147-.031h-4.964l3.512-3.512.082-.122.029-.144-.028-.14-.084-.124-.46-.461-.123-.082-.14-.027-.145.027-.122.082-3.507 3.507V9.348l-.028-.146-.082-.122-.12-.08-.147-.029h-.652z"})),EventBasedGateway:({styles:t={},...i})=>Pe_createElement("svg",QL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm0 5.876l-.254.185-7.377 5.355 2.915 8.964h9.433l2.915-8.964-7.631-5.54zm0 1.07l6.614 4.8-2.526 7.769h-8.175l-2.526-7.768 6.614-4.802z"})),ExclusiveGateway:({styles:t={},...i})=>Pe_createElement("svg",tF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm-5.162 7.69l-.166.032-.141.096-.532.532s-.097.142-.097.144l-.03.164.032.162.093.144 4.857 4.858-4.855 4.855v-.001L9.9 21l-.03.164.032.162s.093.142.093.144l.531.532.146.095.162.032.164-.03.144-.097 4.855-4.856 4.857 4.857.145.095.162.032.164-.03.144-.097.531-.532.095-.14.033-.168-.033-.162-.095-.146L17.144 16 22 11.144l.095-.14.033-.166-.033-.163-.097-.144-.532-.532-.14-.095-.163-.032-.166.032-.141.095L16 14.855l-4.858-4.858v-.002l-.144-.092-.162-.032z"})),Gateway:({styles:t={},...i})=>Pe_createElement("svg",ZL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.373a1.313 1.313 0 00-1.833 0L.373 15.084zm1.806.918L16 2.182l13.821 13.82L16 29.823 2.179 16.003z"})),InclusiveGateway:({styles:t={},...i})=>Pe_createElement("svg",JL({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm0 6.379a7.447 7.447 0 00-7.44 7.441A7.447 7.447 0 0016 23.443 7.447 7.447 0 0023.443 16a7.447 7.447 0 00-7.441-7.441zm0 .825a6.61 6.61 0 016.617 6.616A6.61 6.61 0 0116 22.618 6.61 6.61 0 019.385 16 6.61 6.61 0 0116 9.385z"})),ParallelGateway:({styles:t={},...i})=>Pe_createElement("svg",eF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.377 5.708l-.168.032-.136.092-.096.14-.032.168v6.868h-6.87l-.002-.002-.166.037-.137.092v-.002l-.095.141-.033.167v.753s.032.169.034.17l.094.138.138.092.167.036h6.87v6.867l-.001-.001.033.17.095.138.138.092s.166.035.167.037h.752l.17-.036.137-.092.095-.137.033-.17v-6.867h6.868l.17-.035.137-.092.095-.137.033-.17v-.753s-.033-.165-.032-.167l-.096-.14-.138-.093s-.17-.037-.17-.035H16.81V8.323l-.033-.168-.094-.14-.138-.092-.17-.034h-.752z"})),Group:({styles:t={},...i})=>Pe_createElement("svg",nF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.34.016c-2.333.025-4.684 1.77-5.29 4.17C.608 5.848.88 7.608.804 9.314v2.922h2.041c.038-2.332-.076-4.673.062-7C3.14 3.355 4.869 1.938 6.643 2.04h8.956V.009c-3.086 0-6.173-.02-9.258 0v.007zm13.094 2.023h1.92V.009h-1.92v2.03zm5.756 0c1.265-.069 2.66.045 3.602 1.055 1.036.983 1.201 2.523 1.122 3.91v6.313h2.078c-.03-2.677.062-5.36-.047-8.032-.17-2.743-2.62-5.111-5.215-5.236-.511-.064-1.027-.02-1.54-.033v2.023zM.803 18.319h2.041v-2.026H.804v2.026zm29.11 1.084h2.08v-2.03h-2.08v2.03zM.804 26.148c.004 2.218 1.393 4.366 3.313 5.28 1.728.853 3.681.448 5.521.544.43-.112 1.29.231 1.435-.183v-1.847c-1.788-.043-3.584.094-5.365-.082-1.67-.354-2.919-2.048-2.863-3.844v-3.644H.804v3.777zm29.11-.068c.04 1.961-1.508 3.787-3.381 3.842-1.954.06-3.914.02-5.87.026v2.03c2.118-.042 4.242.08 6.355-.063 2.524-.264 4.818-2.644 4.94-5.323.08-1.039.014-2.085.035-3.126h-2.078v2.613zm-15.006 5.898h1.92v-2.03h-1.92v2.03z"})),CancelIntermediateCatchEvent:Wte,CompensateIntermediateCatchEvent:Xte,ConditionalIntermediateCatchEvent:Yte,ErrorIntermediateCatchEvent:Kte,EscalationIntermediateCatchEvent:Qte,LinkIntermediateCatchEvent:Zte,MessageIntermediateCatchEvent:Jte,MultipleIntermediateCatchEvent:ene,ConditionalIntermediateCatchEventNonInterrupting:tne,EscalationIntermediateCatchEventNonInterrupting:nne,MessageIntermediateCatchEventNonInterrupting:rne,MultipleIntermediateCatchEventNonInterrupting:ine,ParallelIntermediateCatchEventNonInterrupting:one,SignalIntermediateCatchEventNonInterrupting:sne,TimerIntermediateCatchEventNonInterrupting:ane,ParallelMultipleIntermediateCatchEvent:lne,SignalIntermediateCatchEvent:cne,TimerIntermediateCatchEvent:une,IntermediateThrowEvent:dne,CompensateIntermediateThrowEvent:({styles:t={},...i})=>Pe_createElement("svg",xF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.747l-7.157 5.055v-5.055z"})),EscalationIntermediateThrowEvent:({styles:t={},...i})=>Pe_createElement("svg",wF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156z"})),LinkIntermediateThrowEvent:({styles:t={},...i})=>Pe_createElement("svg",SF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912z"})),MessageIntermediateThrowEvent:({styles:t={},...i})=>Pe_createElement("svg",CF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-5.91 5.475l6.04 4.901 6.042-4.9H10.088zm-1.341 1.138v9.921h14.514V11.79l-7.132 5.787-7.382-5.99z"})),MultipleIntermediateThrowEvent:({styles:t={},...i})=>Pe_createElement("svg",DF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.532 2.91 8.95h9.42l2.91-8.95-7.62-5.532z"})),SignalIntermediateThrowEvent:({styles:t={},...i})=>Pe_createElement("svg",TF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.52c-2.261 4.07-4.533 8.136-6.798 12.205h13.596L16.005 8.495z"})),Lane:({styles:t={},...i})=>Pe_createElement("svg",PF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M0 7v18.62h32V7H0zm1.655 17.056V8.684h28.62v15.372H1.656z"})),ManualTask:({styles:t={},...i})=>Pe_createElement("svg",OF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm4.43 1.328c-.222.005-.43.09-.606.203-.985.638-4.356 2.977-5.096 3.486-.67.46-1.12 1.153-1.38 1.974-.27.858-.235 1.793-.232 2.576.002.59.016 1.104.17 1.727.22.908.634 1.63 1.23 2.118.597.49 1.363.732 2.23.734 3.038.012 6.078.016 9.119 0 .327-.002.645-.127.848-.37.204-.241.287-.56.291-.914a1.732 1.732 0 00-.097-.625h.327c.335 0 .641-.11.852-.316.21-.206.317-.475.374-.754a1.783 1.783 0 00-.126-1.143 1.18 1.18 0 00.877-.521c.196-.306.257-.666.258-1.025.001-.375-.088-.738-.293-1.033a1.179 1.179 0 00-.958-.512h-.478c.108-.237.156-.505.155-.782-.003-.373-.098-.721-.316-.99a1.21 1.21 0 00-.943-.43c-2.273-.004-4.236.018-6.412.012l-.19-.001c.102-.104.202-.205.312-.314.337-.336.662-.652.83-.869.4-.516.46-1.215.123-1.729-.178-.272-.439-.456-.72-.494a.93.93 0 00-.148-.008zm.029.728l.022.001c.055.008.115.027.209.172.132.201.126.606-.09.884-.079.102-.431.465-.767.8-.337.334-.657.643-.815.836-.153.186-.096.338-.056.435.04.096.085.212.298.263.063.014.066.01.086.012l.066.003c2.429.027 4.986-.004 7.223-.003.194 0 .293.056.379.162.086.105.151.286.153.533 0 .257-.065.467-.155.59-.09.124-.183.182-.37.183-1.706-.001-3.411-.005-5.117-.009v.731c2.23.004 4.461.01 6.692.012.17 0 .265.06.361.2.096.138.164.364.163.615 0 .268-.058.501-.143.634-.085.132-.162.193-.385.195-2.32-.001-4.554-.006-6.688-.003v.73c1.905 0 3.809.003 5.713.001.194.005.316.09.416.26.102.173.151.442.093.728-.04.193-.102.313-.17.38-.067.065-.148.108-.343.108h-5.71l.002.734c1.445 0 2.89-.01 4.334-.001.162 0 .232.041.297.123.064.081.123.238.12.488-.003.244-.061.385-.12.455-.06.07-.127.11-.296.11-3.037.016-6.076.012-9.113 0-.735-.002-1.316-.196-1.77-.568-.454-.372-.793-.935-.986-1.728-.134-.546-.146-.978-.148-1.558-.003-.796-.018-1.664.199-2.354.222-.705.582-1.24 1.096-1.593.75-.515 4.14-2.866 5.079-3.474a.504.504 0 01.241-.087z"})),MessageFlow:({styles:t={},...i})=>Pe_createElement("svg",kF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M4.073 26.607l1.295 1.296L1.325 32l-.662-.633L0 30.735l4.073-4.128zm6.953-7.046l1.296 1.296L1.325 32l7.555-7.656-1.295-1.296 1.455-1.474 1.986-2.013zM32 .06s-2.699 5.189-5.417 10.462l-.326.633c-1.14 2.214-2.265 4.407-3.176 6.2-1.228-1.222-2.449-2.452-3.676-3.675l-3.57 3.618-1.297-1.296 3.541-3.588c-.98-.964-1.932-1.958-2.923-2.91l-.753-.706c2.68-1.258 6.533-3.165 9.95-4.876l.617-.309C28.838 1.673 32 .06 32 .06zm-4.126 4.06l-.015.007-.115.057-.048.024-.115.057L17.7 9.172l5.017 4.948 5.157-10z"})),Participant:({styles:t={},...i})=>Pe_createElement("svg",MF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M0 5v22.069h32V5H0zm30.276 1.684v18.82H6.62V6.684h23.655zm-28.62 0h3.31v18.82h-3.31V6.684z"})),Process:({styles:t={},...i})=>Pe_createElement("svg",RF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{fillRule:"evenodd",d:"M16.177 0l.137.002c.452.009.9.037 1.342.082.346.036.62.303.68.646l.437 2.536c.055.319.296.57.608.655.986.269 1.923.653 2.796 1.14.28.155.624.145.885-.039l2.083-1.47a.775.775 0 01.937.022c.86.699 1.645 1.484 2.343 2.343.22.27.223.653.023.937l-1.439 2.038a.833.833 0 00-.031.896c.512.889.92 1.846 1.204 2.855a.833.833 0 00.653.601l2.435.42c.342.059.61.333.645.679a15.928 15.928 0 01.08 2.064l-.003.114c-.012.382-.038.76-.077 1.134a.775.775 0 01-.645.68l-2.396.412a.835.835 0 00-.656.61 12.511 12.511 0 01-1.2 2.917.832.832 0 00.034.892l1.396 1.978c.2.284.196.667-.023.936a16.104 16.104 0 01-2.343 2.343.775.775 0 01-.937.023l-1.99-1.404a.833.833 0 00-.88-.026c-.907.516-1.886.922-2.916 1.2a.833.833 0 00-.61.656l-.414 2.396a.775.775 0 01-.679.646 16.096 16.096 0 01-3.312 0 .775.775 0 01-.679-.646l-.423-2.452a.834.834 0 00-.598-.636 12.474 12.474 0 01-1.468-.514 12.49 12.49 0 01-1.417-.68.833.833 0 00-.878.03l-2.026 1.43a.775.775 0 01-.937-.023 16.069 16.069 0 01-2.342-2.342.774.774 0 01-.024-.936l1.402-1.986a.833.833 0 00.032-.896 12.507 12.507 0 01-1.214-2.911.833.833 0 00-.655-.606l-2.386-.412a.775.775 0 01-.646-.678 16.097 16.097 0 010-3.314.775.775 0 01.646-.678l2.386-.412a.833.833 0 00.655-.606 12.507 12.507 0 011.214-2.911.833.833 0 00-.032-.896L3.552 6.853a.774.774 0 01.023-.936 16.091 16.091 0 012.343-2.343.775.775 0 01.937-.023l2.03 1.433c.26.177.6.182.874.028.915-.512 1.88-.9 2.87-1.167a.833.833 0 00.612-.656l.424-2.46a.775.775 0 01.679-.645C14.845.032 15.348.004 15.85 0h.326zM16 6.4c-5.302 0-9.6 4.297-9.6 9.599 0 5.302 4.298 9.6 9.6 9.6s9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zm-3 4.283c0-1.425 1.637-2.203 2.715-1.29l5.69 4.815c.794.672.794 1.91 0 2.583l-5.69 4.815c-1.078.913-2.715.134-2.715-1.29z"})),ReceiveTask:({styles:t={},...i})=>Pe_createElement("svg",AF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.23 7.764v11.577h17.55V7.764H5.23zm1.816.758h13.917l-6.959 4.577-6.958-4.577zm-1.06.21l8.018 5.274 8.018-5.275v9.853H5.987V8.73z"})),ScriptTask:({styles:t={},...i})=>Pe_createElement("svg",IF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm2.99 3.077l-.077.045-.026.015c-1.09.646-1.84 1.239-2.336 1.818-.496.579-.735 1.162-.742 1.725-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.324.408-.911.897-1.85 1.445l-1.388.808h8.56l.101-.059c.996-.58 1.667-1.116 2.094-1.655.429-.54.603-1.107.547-1.638-.11-1.052-.967-1.818-1.688-2.556-.721-.739-1.306-1.436-1.298-2.092.004-.331.132-.7.535-1.171.402-.47 1.08-1.02 2.119-1.636l1.362-.806h-8.54zm.241.867h5.271a6.83 6.83 0 00-1.113 1.01c-.496.58-.736 1.163-.743 1.726-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.312.393-.872.862-1.753 1.386H8.728c.367-.286.658-.566.88-.847.43-.54.604-1.107.548-1.638-.11-1.052-.968-1.818-1.688-2.556-.721-.739-1.306-1.435-1.298-2.092.004-.331.132-.7.534-1.171.389-.454 1.04-.984 2.021-1.575zm-1.233 1.48v.4h4.12v-.4h-4.12zm-.154 2.158v.4H12.6v-.4H8.34zm1.931 2.158v.4h4.126v-.4H10.27zm.59 2.158v.4h4.276v-.4h-4.276z"})),SendTask:({styles:t={},...i})=>Pe_createElement("svg",NF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm-1.38 3.16l8.332 4.717L21.78 8.16H5.114zm.021 1.745v9.309H21.8V9.905l-8.353 4.655-8.31-4.655z"})),ServiceTask:({styles:t={},...i})=>Pe_createElement("svg",LF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm1.22 1.681V7.84c-.329.093-.63.223-.914.382l-.83-.82-1.554 1.561.83.82c-.16.288-.285.594-.372.911l-1.177.002v2.2l1.189-.004c.109.431.345.819.58 1.165v-1.898l-1.038.004v-.737l1.034-.002.058-.294c.084-.429.252-.838.493-1.203l.165-.25-.727-.718.523-.526.728.719.247-.165c.379-.25.793-.417 1.206-.505l.291-.06-.002-1.01h.75L9.19 8.417H11.16c-.185-.221-.951-.508-1.237-.588L9.93 6.68H7.713zm2.078 2.105l.003 1.158a4.19 4.19 0 00-.915.383l-.83-.821-1.553 1.562.83.82c-.16.288-.286.593-.373.91l-1.176.003v2.2l1.188-.004c.094.326.224.624.383.905l-.85.847 1.57 1.543.847-.843c.29.161.599.286.919.373v1.198c.756.006 1.56.003 2.206.003V17.81a4.19 4.19 0 00.915-.383l.847.835 1.554-1.56-.848-.836c.16-.288.286-.594.373-.912l1.152-.007V12.75l-1.165.007a4.09 4.09 0 00-.382-.905l.805-.807-1.57-1.546-.804.806a4.16 4.16 0 00-.915-.372l.007-1.147H9.792zm.732.73h.751l-.006 1.005.297.058c.43.085.844.252 1.21.492l.25.162.701-.704.528.52-.702.704.169.25c.248.374.412.779.505 1.196l.061.292 1.016-.006v.737l-1.01.006-.058.292c-.085.43-.252.838-.494 1.205l-.165.25.744.733-.523.525-.743-.734-.248.165c-.378.247-.789.418-1.203.503l-.294.058v1.067h-.745v-1.059l-.295-.057a3.395 3.395 0 01-1.21-.492l-.248-.162-.747.743-.528-.52.747-.744-.17-.25a3.546 3.546 0 01-.506-1.196l-.06-.291-1.04.004v-.738l1.034-.002.058-.294c.085-.428.252-.837.493-1.203l.165-.25-.726-.718.522-.526.728.72.248-.166a3.546 3.546 0 011.205-.504l.292-.06-.003-1.01zm.388 2.685a1.65 1.65 0 00-1.645 1.645c0 .904.74 1.645 1.645 1.645a1.65 1.65 0 001.645-1.645 1.65 1.65 0 00-1.645-1.645zm0 .73a.91.91 0 01.915.915.91.91 0 01-.915.914.91.91 0 01-.915-.914.91.91 0 01.915-.915z"})),CompensateStartEvent:({styles:t={},...i})=>Pe_createElement("svg",FF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-.566 9.03l-7.415 5.235 7.415 5.238v-5.062c2.386 1.689 4.775 3.375 7.163 5.062V10.761l-7.163 5.058v-5.058zm-.866 1.666v7.13L9.51 15.993l5.052-3.565zm7.166 0v7.137l-5.052-3.568 5.052-3.569z"})),ConditionalStartEvent:({styles:t={},...i})=>Pe_createElement("svg",BF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-5.362 7.523v13.493h10.724V9.253H10.638zm.863.866h8.995V21.88H11.501V10.12zm.928 1.324v.863h7.139v-.863h-7.139zm0 2.605v.867h7.139v-.867h-7.139zm0 3.01v.864h7.139v-.863h-7.139zm0 2.72v.863h7.139v-.863h-7.139z"})),ErrorStartEvent:({styles:t={},...i})=>Pe_createElement("svg",jF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm6.13 7.45l-3.635 7.37-4.52-5.88c-1.37 4.048-2.738 8.095-4.106 12.143l4.603-5.917 4.748 5.433 2.91-13.149zm-7.754 3.889l4.299 5.449 1.073-2.39-1.028 4.135-4.387-5.16-1.78 2.75 1.823-4.784z"})),EscalationStartEvent:({styles:t={},...i})=>Pe_createElement("svg",$F({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 7.183c-1.674 4.658-2.736 9.509-4.41 14.166 1.535-1.526 2.874-3.236 4.41-4.763l4.41 4.763c-1.499-4.713-2.913-9.453-4.41-14.166zm.032 2.931c.822 2.588 1.598 5.19 2.42 7.778l-2.42-2.615c-.683.598-2.455 2.887-2.34 2.39.871-2.489 1.448-5.07 2.34-7.553z"})),MessageStartEvent:({styles:t={},...i})=>Pe_createElement("svg",VF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-7.257 8.732v11.069h14.513v-11.07H8.738zm3.224 1.73h8.064c-1.428.878-2.857 2.807-4.285 3.018l-3.779-3.019zm9.562 1.017v6.593H10.465V13.21l5.528 4.417 5.53-4.418z"})),MultipleStartEvent:({styles:t={},...i})=>Pe_createElement("svg",zF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 6.328l-7.626 5.536c.97 2.986 1.942 5.971 2.913 8.957h9.426l2.912-8.957-7.625-5.536zm0 1.068l6.609 4.798-2.525 7.763H11.91l-2.524-7.763 6.609-4.798z"})),ConditionalStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",HF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M10.632 9.189V22.68h10.723V9.189H10.632zm.862.865h8.994v11.76H11.494v-11.76zm.928 1.324v.863h7.138v-.863h-7.138zm0 2.605v.866h7.138v-.866h-7.138zm0 3.01v.863h7.138v-.863h-7.138zm0 2.72v.862h7.138v-.863h-7.138zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),EscalationStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",UF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16 9.209c-1.674 4.655-2.735 9.504-4.408 14.16 1.534-1.526 2.873-3.235 4.407-4.761l4.408 4.76c-1.497-4.71-2.91-9.448-4.408-14.16zm.031 2.93c.822 2.586 1.598 5.187 2.42 7.774l-2.42-2.614c-.682.598-2.453 2.886-2.34 2.389.873-2.488 1.45-5.068 2.34-7.55zM16.132.364c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.564c-.734.078-1.196.762-1.735 1.206C3.552 6.02 2.55 7.511 1.681 9.053c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786A15.932 15.932 0 011.728 16a.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MessageStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",GF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M8.746 10.393v11.064h14.506V10.393H8.746zm3.223 1.728h8.06c-1.428.879-2.856 2.807-4.283 3.018l-3.777-3.018zm9.557 1.018v6.59H10.473v-6.59l5.525 4.416 5.528-4.416zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),MultipleStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",qF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M23.621 13.524L16 7.99l-7.622 5.534 2.911 8.952h9.422l2.911-8.952zm-1.016.33l-2.523 7.759h-8.165l-2.524-7.76L16 9.059l6.606 4.796zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"})),ParallelMultipleStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",WF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M13.503 9.016v4.428H9.075v4.98h4.428v4.428h4.98v-4.427h4.428v-4.981h-4.427V9.016h-4.981zm.83.83h3.32v4.428h4.428v3.32h-4.428v4.428h-3.32v-4.454H9.905v-3.294h4.428V9.846zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z",opacity:".98"})),SignalStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",XF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16.007 8.82L9.21 21.022h13.596L16.007 8.82zm0 1.775l5.328 9.563H10.68l5.327-9.563zM16.14.386c-1.571.236-4.195-.284-4.9 1.381.619 1.703 2.745.069 4.085.365 1.421-.13 2.84.2 4.235.259C21.27.784 18.19.344 17 .413a20.456 20.456 0 00-.86-.027zM25 3.162c-2.19.694.401 2.26 1.181 3.094 1.083 1.152 1.954 2.484 2.715 3.864 1.48 1.005 1.845-1.26.81-2.03-1.158-1.897-2.613-3.704-4.513-4.89l-.192-.038zm-18.438.423c-1.793.712-2.909 2.548-4.01 4.061-.773.814-2.211 3.653.005 3.211 1.123-1.469 1.87-3.306 3.267-4.614.664-.7 2.73-2.013.738-2.658zm24.57 11.072c-1.659.435-.468 2.667-.99 3.895a13.427 13.427 0 01-1.497 4.435c-.23 1.659 1.991 1.165 2.018-.199a14.277 14.277 0 001.254-7.552.865.865 0 00-.785-.579zm-30.18.666c-1.677.386-.633 2.667-.608 3.876.371 1.623.792 3.35 1.79 4.696 2.382.321.571-2.338.292-3.492a15.92 15.92 0 01-.684-4.39.877.877 0 00-.79-.69zm24.558 11.81c-1.755.865-3.303 2.266-5.274 2.765-1.162-.016-3.074 1.271-1.331 2.102 2.66-.447 5.163-1.733 7.236-3.445.472-.506.06-1.432-.631-1.421zm-19.151.043c-2.004.786.416 2.405 1.43 2.913 1.608.904 3.379 1.636 5.208 1.877 1.77-.804-.228-2.094-1.357-2.073-1.75-.537-3.403-1.396-4.798-2.586l-.227-.104-.256-.027z"})),TimerStartEventNonInterrupting:({styles:t={},...i})=>Pe_createElement("svg",YF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.991 8.7c-3.018-.042-5.92 1.925-7.03 4.725-1.138 2.695-.509 6.011 1.537 8.102 1.99 2.142 5.267 2.93 8.013 1.927 2.877-.98 4.99-3.826 5.067-6.87.153-2.956-1.624-5.88-4.299-7.135a7.551 7.551 0 00-3.288-.75zm0 1.383c2.758-.052 5.372 1.972 6.014 4.654.704 2.578-.482 5.516-2.79 6.867-2.358 1.48-5.682 1.085-7.617-.919-2.043-1.97-2.407-5.38-.84-7.743 1.11-1.764 3.149-2.88 5.233-2.86zm1.962 1.764l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.614-.757-.418zM16.12.358h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136L19.823.9l-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006L19.135.64l-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006L17.512.42l-.22-.017-.005-.001h-.006l-.22-.015h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012l-.221-.003h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zm-18.458.426l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1V9.5l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114V16.5l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V16.308l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"})),CancelBoundaryEvent:Wte,CompensateBoundaryEvent:Xte,ConditionalBoundaryEvent:Yte,ErrorBoundaryEvent:Kte,EscalationBoundaryEvent:Qte,LinkBoundaryEvent:Zte,MessageBoundaryEvent:Jte,MultipleBoundaryEvent:ene,BoundaryEvent:dne,ConditionalBoundaryEventNonInterrupting:tne,EscalationBoundaryEventNonInterrupting:nne,MessageBoundaryEventNonInterrupting:rne,MultipleBoundaryEventNonInterrupting:ine,ParallelBoundaryEventNonInterrupting:one,SignalBoundaryEventNonInterrupting:sne,TimerBoundaryEventNonInterrupting:ane,ParallelMultipleBoundaryEvent:lne,SignalBoundaryEvent:cne,TimerBoundaryEvent:une,StartEvent:({styles:t={},...i})=>Pe_createElement("svg",KF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.847.004C9.61-.016 3.624 4.014 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846.004zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625-4.814-3.84-6.538-10.94-4.067-16.57 2.14-5.206 7.515-8.775 13.147-8.71.097-.001.194-.002.29-.001z"})),ParallelMultipleStartEvent:({styles:t={},...i})=>Pe_createElement("svg",QF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.847 0C9.61-.02 3.624 4.01 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846 0zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625C2.101 23.17.377 16.07 2.848 10.44c2.134-5.2 7.522-8.78 13.147-8.71.097-.001.194-.002.29-.001zM13.504 9.08v4.427H9.077v4.98h4.427v4.427h4.98v-4.427h4.428v-4.98h-4.427V9.08h-4.98zm.83.83h3.32v4.427h4.428v3.32h-4.427v4.427h-3.32v-4.453H9.906v-3.294h4.427V9.91z"})),SignalStartEvent:({styles:t={},...i})=>Pe_createElement("svg",ZF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm0 6.776L9.19 20.724H22.8L15.995 8.511zm0 1.777l5.332 9.572H10.662l5.333-9.572z"})),TimerStartEvent:({styles:t={},...i})=>Pe_createElement("svg",JF({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-.143 6.676c-2.967.02-5.797 1.97-6.89 4.727-1.138 2.695-.51 6.012 1.537 8.102 1.99 2.142 5.268 2.932 8.014 1.928 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.881-4.3-7.137a7.552 7.552 0 00-3.43-.75zm.27 1.383c2.71.012 5.254 2.015 5.886 4.656.704 2.577-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.085-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86h.13zm1.833 1.765l-2.074 3.763c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.181l1.992-3.615-.757-.418z"})),CollapsedSubProcess:pne,CollapsedAdHocSubProcess:pne,ExpandedSubProcess:fne,ExpandedAdHocSubProcess:fne,Task:({styles:t={},...i})=>Pe_createElement("svg",nB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M6.494 2.667C2.916 2.667 0 5.57 0 9.142v13.383C0 26.097 2.916 29 6.494 29h19.012C29.084 29 32 26.097 32 22.525V9.142c0-3.572-2.916-6.475-6.494-6.475H6.494zm0 2h19.012c2.509 0 4.494 1.98 4.494 4.475v13.383C30 25.02 28.015 27 25.506 27H6.494C3.985 27 2 25.02 2 22.525V9.142c0-2.495 1.985-4.475 4.494-4.475z"})),TextAnnotation:({styles:t={},...i})=>Pe_createElement("svg",rB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913zm-2.924 13.999l-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737zm-5.475 4.335l-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737z"})),Transaction:({styles:t={},...i})=>Pe_createElement("svg",iB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{d:"M5.422 3A5.424 5.424 0 000 8.422v15.822a5.424 5.424 0 005.422 5.423h21.156A5.424 5.424 0 0032 24.244V8.422A5.424 5.424 0 0026.578 3H5.422zm0 1.244h21.156a4.155 4.155 0 014.178 4.178v15.822a4.155 4.155 0 01-4.178 4.178H5.422a4.155 4.155 0 01-4.178-4.178V8.422a4.155 4.155 0 014.178-4.178zm1.056 1.778a3.373 3.373 0 00-3.367 3.366v13.89a3.373 3.373 0 003.367 3.366h19.044a3.373 3.373 0 003.367-3.366V9.388a3.373 3.373 0 00-3.367-3.366H6.478zm0 1.245h19.044c1.187 0 2.122.935 2.122 2.121v13.89a2.104 2.104 0 01-2.122 2.122H6.478a2.104 2.104 0 01-2.122-2.122V9.388c0-1.186.935-2.121 2.122-2.121z"})),UserTask:({styles:t={},...i})=>Pe_createElement("svg",oB({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i),Pe_createElement("path",{fillRule:"evenodd",d:"M10.263 7.468c-1.698 0-2.912 1.305-2.915 2.791v.001c0 .45.121.924.311 1.352.138.309.308.593.516.82-1.235.423-2.683 1.119-3.414 2.49l-.04.075v4.44h11.083v-4.44l-.04-.074c-.72-1.352-2.136-2.047-3.36-2.471.597-.608.774-1.392.774-2.192-.004-1.487-1.218-2.792-2.915-2.792zm-1.16 1.583c.08 0 .165.003.26.008.757.045 1.012.181 1.207.31.196.13.334.252.851.268.404-.016.598-.087.737-.169.056-.033.103-.067.152-.1.128.275.197.578.198.893 0 .894-.154 1.52-.975 2.034l.08.604c.171.052.348.11.527.171.025.105.054.242.073.387.02.153.029.311.016.43a.422.422 0 01-.056.19c-.417.417-1.157.66-1.908.66-.75 0-1.49-.243-1.908-.66a.422.422 0 01-.056-.19 1.949 1.949 0 01.016-.43c.02-.146.049-.284.074-.388.177-.062.352-.118.521-.17l.048-.648a.616.616 0 00-.126-.118c-.183-.138-.405-.44-.562-.793-.157-.353-.254-.757-.254-1.08 0-.387.105-.758.297-1.079l.11-.04c.143-.046.339-.09.679-.09zm-1.448 4.304l-.002.014c-.025.185-.04.387-.018.589.021.202.074.42.248.593.595.594 1.494.857 2.382.857.889 0 1.788-.263 2.382-.857.174-.174.227-.391.249-.593a2.496 2.496 0 00-.018-.59l-.002-.01c.903.396 1.776.963 2.258 1.81v3.599H13.53v-2.538h-.67v2.538H7.651v-2.538h-.67v2.538H5.39v-3.599c.483-.849 1.359-1.416 2.264-1.813zM6.495 3C2.914 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.01C28.016 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5z"}))};function hne(t){const{type:i}=t;let o=mne(i);const s=function KDe(t){const o=le(t).eventDefinitions;return o&&o[0]}(t);return s?(o=`${function QDe(t){return mne(t.$type).replace("EventDefinition","")}(s)}${o}`,(j(t,"bpmn:StartEvent")&&!Vte(t)||j(t,"bpmn:BoundaryEvent")&&!function YDe(t){const i=le(t);return i&&!1!==i.cancelActivity}(t))&&(o=`${o}NonInterrupting`),o):(j(t,"bpmn:SubProcess")&&!j(t,"bpmn:Transaction")&&(o=bl(t)?`Event${o}`:`${hr(t)&&!function eTe(t){return j(t&&(t.di||le(t).di),"bpmndi:BPMNPlane")}(t)?"Expanded":"Collapsed"}${o}`),function ZDe(t){const i=le(t),o=le(t.source);return!(!j(t,"bpmn:SequenceFlow")||!o)&&o.default&&o.default===i&&(j(o,"bpmn:Gateway")||j(o,"bpmn:Activity"))}(t)&&(o="DefaultFlow"),function JDe(t){const i=le(t),o=le(t.source);return!(!j(t,"bpmn:SequenceFlow")||!o)&&i.conditionExpression&&j(o,"bpmn:Activity")}(t)&&(o="ConditionalFlow"),o)}const XDe={getDocumentationRef:t=>{const i=gne();if(i)return function tTe(t,i){const o=vne(t,i);return o&&o.documentationRef}(t,i)},getElementLabel:t=>j(t,"bpmn:Process")?le(t).name:Tc(t),getElementIcon:t=>{const i=hne(t),o=F("config.elementTemplateIconRenderer",!1),{iconProperty:s="zeebe:modelerTemplateIcon"}=o||{},a=le(t).get(s);return a?()=>X("img",{class:"bio-properties-panel-header-template-icon",width:"32",height:"32",src:a}):WDe[i]},getTypeLabel:t=>{const i=gne();if(i){const s=vne(t,i);if(s&&s.name)return s.name}return hne(t).replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)")}};function mne(t){return t.split(":")[1]}function gne(){return F("elementTemplates",!1)}function vne(t,i){return i.get(t)}function sB(){return sB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},sB.apply(this,arguments)}var nTe=({styles:t={},...i})=>Pe_createElement("svg",sB({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"64",height:"64"},i),Pe_createElement("defs",null,Pe_createElement("rect",{id:"a",width:"57",height:"47",x:"3",y:"8",rx:"7"}),Pe_createElement("mask",{id:"b",width:"57",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},Pe_createElement("use",{xlinkHref:"#a"}))),Pe_createElement("g",{fill:"none",fillRule:"evenodd"},Pe_createElement("path",{fill:"#818798",d:"M52 11a5 5 0 015 5v31a5 5 0 01-5 5H11a5 5 0 01-5-5V16a5 5 0 015-5h41zm0 2H11a3 3 0 00-2.995 2.824L8 16v31a3 3 0 002.824 2.995L11 50h41a3 3 0 002.995-2.824L55 47V16a3 3 0 00-2.824-2.995L52 13z"}),Pe_createElement("path",{fill:"#D5D7DD",d:"M16 24h31v6H16zM21 33h21v6H21z"}),Pe_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));function aB(){return aB=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},aB.apply(this,arguments)}var rTe=({styles:t={},...i})=>Pe_createElement("svg",aB({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"128",height:"64"},i),Pe_createElement("defs",null,Pe_createElement("path",{id:"a",d:"M9 9h110v47H9z"}),Pe_createElement("mask",{id:"b",width:"110",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},Pe_createElement("use",{xlinkHref:"#a"}))),Pe_createElement("g",{fill:"none",fillRule:"evenodd"},Pe_createElement("path",{fill:"#818798",d:"M25 20.272L37.728 33 25 45.728 12.272 33 25 20.272zm0 2.829L15.1 33l9.9 9.9 9.9-9.9-9.9-9.9z"}),Pe_createElement("path",{fill:"#D5D7DD",d:"M17 47h16v6H17z"}),Pe_createElement("path",{fill:"#818798",d:"M35 32h27v2H35z"}),Pe_createElement("path",{fill:"#818798",d:"M60 30v6l6-3z"}),Pe_createElement("path",{fill:"#D5D7DD",d:"M80 34h21v6H80z"}),Pe_createElement("g",null,Pe_createElement("path",{fill:"#818798",d:"M111 12a5 5 0 015 5v31a5 5 0 01-5 5H70a5 5 0 01-5-5V17a5 5 0 015-5h41zm0 2H70a3 3 0 00-3 3v31a3 3 0 003 3h41a3 3 0 003-3V17a3 3 0 00-3-3z"}),Pe_createElement("path",{fill:"#D5D7DD",d:"M75 25h31v6H75z"})),Pe_createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));const iTe=t=>(t||(t=i=>i),{getEmpty:()=>({text:t("Select an element to edit its properties."),icon:nTe}),getMultiple:()=>({text:t("Multiple elements are selected. Select a single element to edit its properties."),icon:rTe})});function oTe(t){const{element:i,injector:o,getProviders:s,layoutConfig:a,descriptionConfig:l,tooltipConfig:c,feelPopupContainer:u}=t,p=o.get("canvas"),h=o.get("elementRegistry"),v=o.get("eventBus"),y=o.get("translate"),[E,S]=Xn({selectedElement:i}),D=E.selectedElement,k=te=>{if(!te)return;let ne=te;ne&&"label"===ne.type&&(ne=ne.labelTarget),S({...E,selectedElement:ne}),v.fire("propertiesPanel.updated",{element:ne})};pn(()=>{const te=ne=>{const{newSelection:he=[]}=ne;if(he.length>1)return k(he);const we=he[0],fe=p.getRootElement();(function sTe(t){return t&&(t.isImplicit||"__implicitroot"===t.id)})(fe)||k(we||fe)};return v.on("selection.changed",te),()=>{v.off("selection.changed",te)}},[]),pn(()=>{const te=ne=>{const we=function aTe(t,i){return Kn(t,o=>o===i)}(ne.elements,D);we&&function lTe(t,i){return t&&i.get(t.id)}(we,h)&&k(we)};return v.on("elements.changed",te),()=>{v.off("elements.changed",te)}},[D]),pn(()=>{const te=ne=>{k(ne.element)};return v.on("root.added",te),()=>{v.off("root.added",te)}},[D]),pn(()=>{const te=()=>{k(D)};return v.on("propertiesPanel.providersChanged",te),()=>{v.off("propertiesPanel.providersChanged",te)}},[D]),pn(()=>{const te=()=>{k(D)};return v.on("elementTemplates.changed",te),()=>{v.off("elementTemplates.changed",te)}},[D]);const R={selectedElement:D,injector:o,getService:(te,ne)=>o.get(te,ne)},L=s(D),N=ka(()=>dl(L,function(te,ne){return Rn(D)?[]:ne.getGroups(D)(te)},[]),[L,D]),[B,$]=Xn(a||{}),q=Hl(te=>{v.fire("propertiesPanel.layoutChanged",{layout:te})},[v]);return pn(()=>{const te=ne=>{const{layout:he}=ne;$(he)};return v.on("propertiesPanel.setLayout",te),()=>v.off("propertiesPanel.setLayout",te)},[v,$]),X(Gte.Provider,{value:R,children:X(K7e,{element:D,headerProvider:XDe,placeholderProvider:iTe(y),groups:N,layoutConfig:B,layoutChanged:q,descriptionConfig:l,descriptionLoaded:te=>{v.fire("propertiesPanel.descriptionLoaded",{description:te})},tooltipConfig:c,tooltipLoaded:te=>{v.fire("propertiesPanel.tooltipLoaded",{tooltip:te})},feelPopupContainer:u,eventBus:v})})}let uTe=(()=>{class t{constructor(o,s,a){const{parent:l,layout:c,description:u,tooltip:p,feelPopupContainer:h}=o||{};this._eventBus=a,this._injector=s,this._layoutConfig=c,this._descriptionConfig=u,this._tooltipConfig=p,this._feelPopupContainer=h,this._container=ui('<div style="height: 100%" class="bio-properties-panel-container"></div>');var v=s.get("commandStack",!1);v&&function pTe(t,i,o){function s(l){l.preventDefault(),l.stopPropagation()}function a(l){return function OCe(t){return p9(t)&&!Hte(t)&&zw(zte,t)}(l)?(o.undo(),s(l)):function kCe(t){return p9(t)&&(zw(PCe,t)||zw(zte,t)&&Hte(t))}(l)?(o.redo(),s(l)):void 0}i.on("keyboard.bind",function(){fn.bind(t,"keydown",a)}),i.on("keyboard.unbind",function(){fn.unbind(t,"keydown",a)})}(this._container,a,v),a.on("diagram.init",()=>{l&&this.attachTo(l)}),a.on("diagram.destroy",()=>{this.detach()}),a.on("root.added",y=>{const{element:E}=y;this._render(E)})}attachTo(o){if(!o)throw new Error("container required");o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),"string"==typeof o&&(o=er(o)),this.detach(),o.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const o=this._container.parentNode;o&&(o.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(o,s){s||(s=o,o=1e3),"function"==typeof s.getGroups?(this._eventBus.on("propertiesPanel.getProviders",o,function(a){a.providers.push(s)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}setLayout(o){this._eventBus.fire("propertiesPanel.setLayout",{layout:o})}_getProviders(){const o=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(o),o.providers}_render(o){const s=this._injector.get("canvas");o||(o=s.getRootElement()),!function dTe(t){return t&&(t.isImplicit||"__implicitroot"===t.id)}(o)&&(Cv(X(oTe,{element:o,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig,feelPopupContainer:this._feelPopupContainer}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(Cv(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}return t.$inject=["config.propertiesPanel","injector","eventBus"],t})();const fTe={"properties-panel.multi-command-executor":(()=>{class t{constructor(o){this._commandStack=o}preExecute(o){const s=this._commandStack;_e(o,function(a){s.execute(a.cmd,a.context)})}}return t.$inject=["commandStack"],t})()};function yne(t,i){t.on("diagram.init",function(){_e(fTe,function(o,s){i.registerHandler(s,o)})})}yne.$inject=["eventBus","commandStack"];var mTe={__depends__:[{__init__:[yne]},gCe,vCe],__init__:["propertiesPanel"],propertiesPanel:["type",uTe]};function p5(t){const{autoFocusEntry:i,element:o,getOptions:s}=t,a=s(o),l=Xv(a);return pn(()=>{if(i&&l&&a.length>l.length){const c=er(`[data-entry-id="${i}"]`),u=er(".bio-properties-panel-input",c);u&&u.select()}},[a]),X(ji,{...t})}function f5(t){return Ud(t,"bpmn:ErrorEventDefinition")}function Fm(t){const i=f5(t);return i&&i.get("errorRef")}function Ud(t,i){return Kn(le(t).get("eventDefinitions")||[],function(a){return j(a,i)})}function Jv(t){return j(t,"bpmn:ReceiveTask")?le(t):Ud(t,"bpmn:MessageEventDefinition")}function ey(t){const i=Jv(t);return i&&i.get("messageRef")}function Ene(t){return Ud(t,"bpmn:LinkEventDefinition")}function _0(t){return Ud(t,"bpmn:SignalEventDefinition")}function lB(t){const i=_0(t);return i&&i.get("signalRef")}function f9(t){return Ud(t,"bpmn:EscalationEventDefinition")}function h5(t){const i=f9(t);return i&&i.get("escalationRef")}function Hw(t){return Ud(t,"bpmn:CompensateEventDefinition")}function ETe(t){const{element:i}=t;return function bTe(t){return on(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!Hw(t)}(i)?[{id:"waitForCompletion",component:xTe,isEdited:b0},{id:"activityRef",component:wTe,isEdited:_o}]:[]}function xTe(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=Hw(i);return yl({element:i,id:"waitForCompletion",label:s("Wait for completion"),getValue:()=>a.get("waitForCompletion"),setValue:u=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:a,properties:{waitForCompletion:u}})}})}function wTe(t){const{element:i}=t,o=F("commandStack"),s=F("elementRegistry"),a=F("translate"),l=Hw(i);return p5({element:i,id:"activityRef",label:a("Activity reference"),getValue:()=>{const h=function _Te(t){const i=Hw(t);return i&&i.get("activityRef")}(i);return h&&h.get("id")},setValue:h=>{const v=h?le(s.get(h)):void 0;o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{activityRef:v}})},getOptions:()=>{let h=[{value:"",label:a("<none>")}];const v=function PTe(t){let o=le(t).$parent,s=Sne(o);return j(o,"bpmn:SubProcess")&&o.triggeredByEvent&&(o=o.$parent,o&&(s=[...s,...Sne(o)])),s}(i);return function kTe(t){return os(t,i=>(i.name||"").toLowerCase())}(v).forEach(function(y){h.push({value:y.id,label:OTe(y)})}),h}})}function wne(t,i){const{flowElements:o}=t;return o.filter(function(s){return j(s,i)})}function Sne(t){const i=function STe(t){return wne(t,"bpmn:Activity")}(t),o=function CTe(t){return wne(t,"bpmn:BoundaryEvent")}(t);return i.filter(function(s){return function TTe(t,i){return j(t,"bpmn:CallActivity")||j(t,"bpmn:SubProcess")&&!t.triggeredByEvent&&!t.isForCompensation||function DTe(t,i){const{id:o}=t;return!!Kn(i,function(s){const{attachedToRef:a}=s,l=Hw(s);return a&&l&&a.id===o})}(t,i)}(s,o)})}function OTe(t){const{id:i,name:o}=t;return`${o?o+" ":""}(id=${i})`}const Cne="text/plain";function MTe(t){const{element:i}=t,o=[{id:"documentation",component:RTe,isEdited:Qv}];return function ITe(t){return j(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(i)&&o.push({id:"processDocumentation",component:ATe,isEdited:Qv}),o}function RTe(t){const{element:i}=t,o=F("bpmnFactory"),s=F("commandStack"),a=F("translate"),l=F("debounceInput"),c=Tne(le(i)),u=Pne(i,le(i),o,s);return Kv({element:i,id:"documentation",label:a("Element documentation"),getValue:c,setValue:u,debounce:l})}function ATe(t){const{element:i}=t,o=F("bpmnFactory"),s=F("commandStack"),a=F("translate"),l=F("debounceInput"),c=le(i).processRef,u=Tne(c),p=Pne(i,c,o,s);return Kv({element:i,id:"processDocumentation",label:a("Process documentation"),getValue:u,setValue:p,debounce:l})}function Dne(t){return t.find(function(i){return(i.textFormat||Cne)===Cne})}function Tne(t){return function(){const i=Dne(t&&t.get("documentation"));return i&&i.text}}function Pne(t,i,o,s){return function(a){let l=Dne(i&&i.get("documentation"));return l?s.execute("element.updateModdleProperties",a?{element:t,moddleElement:l,properties:{text:a}}:{element:t,moddleElement:i,properties:{documentation:Ci(i.get("documentation"),l)}}):a?(l=o.create("bpmn:Documentation",{text:a}),s.execute("element.updateModdleProperties",{element:t,moddleElement:i,properties:{documentation:[...i.get("documentation"),l]}})):void 0}}function vt(t,i,o,s){const a=s.create(t,i);return o&&(a.$parent=o),a}function Sf(t){return new DL([32,32,1]).nextPrefixed(t)}function m5(t){let i=t;for(;i.$parent;)i=i.$parent;return i}function g5(t,i){return function NTe(t,i){return(t||[]).filter(s=>j(s,i))}(m5(t).get("rootElements"),i)}function Uw(t,i,o){return g5(t,i).find(a=>a.id===o)}const One="",kne="create-new";function LTe(t){const{element:i}=t;if(!function bne(t){return on(t,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"])&&!!f5(t)}(i))return[];let s=[{id:"errorRef",component:FTe,isEdited:_o}];return Fm(i)&&(s=[...s,{id:"errorName",component:BTe,isEdited:Pt},{id:"errorCode",component:jTe,isEdited:Pt}]),s}function FTe(t){const{element:i}=t,o=F("bpmnFactory"),s=F("commandStack"),a=F("translate"),l=f5(i);return p5({element:i,id:"errorRef",label:a("Global error reference"),autoFocusEntry:"errorName",getValue:()=>{const h=Fm(i);return h?h.get("id"):One},setValue:h=>{const v=m5(l),y=[];let E;return h===kne&&(E=vt("bpmn:Error",{name:Sf("Error_")},v,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:v,properties:{rootElements:[...v.get("rootElements"),E]}}})),E=E||Uw(l,"bpmn:Error",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{errorRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:One,label:a("<none>")},{value:kne,label:a("Create new ...")}];return function $Te(t){return os(t,i=>(i.name||"").toLowerCase())}(g5(le(i),"bpmn:Error")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function BTe(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=Fm(i);return ot({element:i,id:"errorName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function jTe(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=Fm(i);return ot({element:i,id:"errorCode",label:s("Code"),getValue:()=>l.get("errorCode"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{errorCode:p}}),debounce:a})}const Mne="create-new";function VTe(t){const{element:i}=t;if(!function xne(t){return j(t,"bpmn:Event")&&!!f9(t)}(i))return[];let s=[{id:"escalationRef",component:zTe,isEdited:_o}];return h5(i)&&(s=[...s,{id:"escalationName",component:HTe,isEdited:Pt},{id:"escalationCode",component:UTe,isEdited:Pt}]),s}function zTe(t){const{element:i}=t,o=F("bpmnFactory"),s=F("commandStack"),a=F("translate"),l=f9(i);return p5({element:i,id:"escalationRef",label:a("Global escalation reference"),autoFocusEntry:"escalationName",getValue:()=>{const h=h5(i);return h&&h.get("id")},setValue:h=>{const v=m5(l),y=[];let E;if(h===Mne){const S=Sf("Escalation_");E=vt("bpmn:Escalation",{id:S,name:S},v,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:v,properties:{rootElements:[...v.get("rootElements"),E]}}})}return E=E||Uw(l,"bpmn:Escalation",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{escalationRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:"",label:a("<none>")},{value:Mne,label:a("Create new ...")}];return function GTe(t){return os(t,i=>(i.name||"").toLowerCase())}(g5(le(i),"bpmn:Escalation")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function HTe(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=h5(i);return ot({element:i,id:"escalationName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function UTe(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=h5(i);return ot({element:i,id:"escalationCode",label:s("Code"),getValue:()=>l.get("escalationCode"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{escalationCode:p}}),debounce:a})}function qTe(t){const{element:i}=t;return j(i,"bpmn:Process")||function XTe(t){return j(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(i)?[{id:"isExecutable",component:WTe,isEdited:b0}]:[]}function WTe(t){const{element:i}=t,o=F("modeling"),s=F("commandStack"),a=F("translate");let l,c;if(c=u=>{o.updateProperties(i,{isExecutable:u})},l=u=>u.businessObject.isExecutable,j(i,"bpmn:Participant")){const u=i.businessObject.get("processRef");c=p=>{s.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{isExecutable:p}})},l=()=>u.get("isExecutable")}return yl({element:i,id:"isExecutable",label:a("Executable"),getValue:l,setValue:c})}const YTe=/\s/,KTe=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,QTe=/^[a-z_][\w-.]*$/i;function Rne(t,i,o){const s=t.$model.ids.assigned(i);return i?s&&s!==t?o("ID must be unique."):function ZTe(t,i){return function JTe(t){return YTe.test(t)}(t)?i("ID must not contain spaces."):QTe.test(t)?void 0:KTe.test(t)?i("ID must not contain prefix."):i("ID must be a valid QName.")}(i,o):o("ID must not be empty.")}function t9e(t){const{element:i}=t,o=F("modeling"),s=F("debounceInput"),a=F("translate"),c=Hl(p=>le(p).id,[i]),u=Hl(p=>Rne(le(i),p,a),[i,a]);return ot({element:i,id:"id",label:a(j(i,"bpmn:Participant")?"Participant ID":"ID"),getValue:c,setValue:(p,h)=>{h||o.updateProperties(i,{id:p})},debounce:s,validate:u})}function n9e(t){const{element:i}=t;return function vTe(t){return on(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!Ene(t)}(i)?[{id:"linkName",component:r9e,isEdited:Pt}]:[]}function r9e(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=Ene(i);return ot({element:i,id:"linkName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}})},debounce:a})}const Ane="",Ine="create-new";function i9e(t){const{element:i}=t;if(!function gTe(t){return j(t,"bpmn:ReceiveTask")||on(t,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!Jv(t)}(i))return[];let s=[{id:"messageRef",component:o9e,isEdited:_o}];return ey(i)&&(s=[...s,{id:"messageName",component:s9e,isEdited:Pt}]),s}function o9e(t){const{element:i}=t,o=F("bpmnFactory"),s=F("commandStack"),a=F("translate"),l=Jv(i);return p5({element:i,id:"messageRef",label:a("Global message reference"),autoFocusEntry:"messageName",getValue:()=>{const h=ey(i);return h?h.get("id"):Ane},setValue:h=>{const v=m5(l),y=[];let E;if(h===Ine){const S=Sf("Message_");E=vt("bpmn:Message",{id:S,name:S},v,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:v,properties:{rootElements:[...v.get("rootElements"),E]}}})}return E=E||Uw(l,"bpmn:Message",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{messageRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:Ane,label:a("<none>")},{value:Ine,label:a("Create new ...")}];return function a9e(t){return os(t,i=>(i.name||"").toLowerCase())}(g5(le(i),"bpmn:Message")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function s9e(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=ey(i);return ot({element:i,id:"messageName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function l9e(t){const{element:i}=t;return function d9e(t){const i=cB(t);return!!i&&j(i,"bpmn:MultiInstanceLoopCharacteristics")}(i)?[{id:"loopCardinality",component:c9e,isEdited:Pt},{id:"completionCondition",component:u9e,isEdited:Pt}]:[]}function c9e(t){const{element:i}=t,o=F("bpmnFactory"),s=F("debounceInput"),a=F("commandStack"),l=F("translate");return ot({element:i,id:"loopCardinality",label:l("Loop cardinality"),getValue:()=>function h9e(t){const i=function f9e(t){return Lne(t,"loopCardinality")}(t);return Nne(i)}(i),setValue:p=>a.execute("element.updateModdleProperties",Fne(i,"loopCardinality",p,o)),debounce:s})}function u9e(t){const{element:i}=t,o=F("bpmnFactory"),s=F("debounceInput"),a=F("commandStack"),l=F("translate");return ot({element:i,id:"completionCondition",label:l("Completion condition"),getValue:()=>function g9e(t){const i=function m9e(t){return Lne(t,"completionCondition")}(t);return Nne(i)}(i),setValue:p=>a.execute("element.updateModdleProperties",Fne(i,"completionCondition",p,o)),debounce:s})}function Nne(t){return t&&t.get("body")}function Lne(t,i){const o=cB(t);return o&&o.get(i)}function cB(t){return le(t).loopCharacteristics}function Fne(t,i,o,s){const a=cB(t),l={};if(!o)return l[i]=void 0,{element:t,moddleElement:a,properties:l};const c=a.get(i);return c?{element:t,moddleElement:c,properties:{body:o}}:(l[i]=function p9e(t,i,o){return vt("bpmn:FormalExpression",{body:i},t,o)}(a,o,s),{element:t,moddleElement:a,properties:l})}function v9e(t){const{element:i}=t;return on(i,["bpmn:Collaboration","bpmn:DataAssociation","bpmn:Association"])?[]:[{id:"name",component:y9e,isEdited:Qv}]}function y9e(t){const{element:i}=t,o=F("modeling"),s=F("debounceInput"),a=F("canvas"),l=F("bpmnFactory"),c=F("translate");let u={element:i,id:"name",label:c("Name"),debounce:s,setValue:p=>{o.updateProperties(i,{name:p})},getValue:p=>p.businessObject.name,autoResize:!0};return j(i,"bpmn:TextAnnotation")?u={...u,setValue:p=>{o.updateProperties(i,{text:p})},getValue:p=>p.businessObject.text}:j(i,"bpmn:Group")?u={...u,setValue:p=>{const h=le(i);h.categoryValueRef||function b9e(t,i,o){const a=function _9e(t,i){const o=i.create("bpmn:CategoryValue"),s=i.create("bpmn:Category",{categoryValue:[o]});return function ACe(t,i,o){if(t&&i){"number"!=typeof o&&(o=-1);var s=t.indexOf(i);if(-1!==s){if(s===o)return;if(-1===o)return;t.splice(s,1)}-1!==o?t.splice(o,0,i):t.push(i)}}(t.get("rootElements"),s),le(s).$parent=t,le(o).$parent=s,o}(le(i).$parent,o);t.categoryValueRef=a}(h,a.getRootElement(),l),o.updateLabel(i,p)},getValue:p=>{const v=le(p).categoryValueRef;return v&&v.value}}:j(i,"bpmn:Participant")&&(u.label=c("Participant Name")),Kv(u)}function E9e(t){const{element:i}=t;return function S9e(t){return j(t,"bpmn:Participant")&&t.businessObject.get("processRef")}(i)?[{id:"processId",component:w9e,isEdited:Pt},{id:"processName",component:x9e,isEdited:Pt}]:[]}function x9e(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=i.businessObject.get("processRef");return ot({element:i,id:"processName",label:s("Process name"),getValue:()=>l.get("name"),setValue:p=>{o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}})},debounce:a})}function w9e(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=i.businessObject.get("processRef"),p=Hl(h=>Rne(l,h,s),[l,s]);return ot({element:i,id:"processId",label:s("Process ID"),getValue:()=>l.get("id"),setValue:(h,v)=>{v||o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{id:h}})},debounce:a,validate:p})}const Bne="",jne="create-new";function C9e(t){const{element:i}=t;if(!function yTe(t){return j(t,"bpmn:Event")&&!!_0(t)}(i))return[];let s=[{id:"signalRef",component:D9e,isEdited:_o}];return lB(i)&&(s=[...s,{id:"signalName",component:T9e,isEdited:Pt}]),s}function D9e(t){const{element:i}=t,o=F("bpmnFactory"),s=F("commandStack"),a=F("translate"),l=_0(i);return p5({element:i,id:"signalRef",label:a("Global signal reference"),autoFocusEntry:"signalName",getValue:()=>{const h=lB(i);return h?h.get("id"):Bne},setValue:h=>{const v=m5(l),y=[];let E;if(h===jne){const S=Sf("Signal_");E=vt("bpmn:Signal",{id:S,name:S},v,o),h=E.get("id"),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:v,properties:{rootElements:[...v.get("rootElements"),E]}}})}return E=E||Uw(l,"bpmn:Signal",h),y.push({cmd:"element.updateModdleProperties",context:{element:i,moddleElement:l,properties:{signalRef:E}}}),s.execute("properties-panel.multi-command-executor",y)},getOptions:()=>{let h=[{value:Bne,label:a("<none>")},{value:jne,label:a("Create new ...")}];return function P9e(t){return os(t,i=>(i.name||"").toLowerCase())}(g5(le(i),"bpmn:Signal")).forEach(y=>{h.push({value:y.get("id"),label:y.get("name")})}),h}})}function T9e(t){const{element:i}=t,o=F("commandStack"),s=F("translate"),a=F("debounceInput"),l=lB(i);return ot({element:i,id:"signalName",label:s("Name"),getValue:()=>l.get("name"),setValue:p=>o.execute("element.updateModdleProperties",{element:i,moddleElement:l,properties:{name:p}}),debounce:a})}function ty(t){return function $ne(t,i){return Kn(le(t).get("eventDefinitions")||[],function(a){return j(a,i)})}(t,"bpmn:TimerEventDefinition")}function k9e(t){const{element:i,idPrefix:o}=t;let{timerEventDefinition:s}=t;s||(s=ty(le(i)));const a=function h9(t){if(t)return typeof t.get("timeDate")<"u"?"timeDate":typeof t.get("timeCycle")<"u"?"timeCycle":typeof t.get("timeDuration")<"u"?"timeDuration":void 0}(s);if(!function uB(t){return on(t,["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"])&&!!ty(t)}(i))return[];const l=[];return l.push({id:Hne(o,"timerEventDefinitionType"),component:M9e,isEdited:_o,timerEventDefinition:s,timerEventDefinitionType:a}),a&&l.push({id:Hne(o,"timerEventDefinitionValue"),component:R9e,isEdited:Pt,timerEventDefinition:s,timerEventDefinitionType:a}),l}function M9e(t){const{element:i,timerEventDefinition:o,timerEventDefinitionType:s}=t,a=F("commandStack"),l=F("bpmnFactory"),c=F("translate");return ji({element:i,id:"timerEventDefinitionType",label:c("Type"),getValue:()=>s||"",setValue:v=>{if(v===s)return;const y=l.create("bpmn:FormalExpression",{body:void 0});y.$parent=o;const E={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};""!==v&&(E[v]=y),a.execute("element.updateModdleProperties",{element:i,moddleElement:o,properties:E})},getOptions:v=>[{value:"",label:c("<none>")},{value:"timeDate",label:c("Date")},{value:"timeDuration",label:c("Duration")},{value:"timeCycle",label:c("Cycle")}]})}function R9e(t){const{element:i,timerEventDefinition:o,timerEventDefinitionType:s}=t,a=F("commandStack"),l=F("translate"),c=F("debounceInput"),u=o.get(s);return ot({element:i,id:"timerEventDefinitionValue",label:l("Value"),getValue:()=>u&&u.get("body"),setValue:v=>{a.execute("element.updateModdleProperties",{element:i,moddleElement:u,properties:{body:v}})},debounce:c,tooltip:A9e(s,l)})}function A9e(t,i){switch(t){case"timeDate":return X("div",{children:[X("p",{children:i("A specific point in time defined as ISO 8601 combined date and time representation.")}),X("ul",{children:[X("li",{children:[X("code",{children:"2019-10-01T12:00:00Z"})," - ",i("UTC time")]}),X("li",{children:[X("code",{children:"2019-10-02T08:09:40+02:00"})," - ",i("UTC plus 2 hours zone offset")]})]}),X("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener",children:i("Documentation: Timer events")})]});case"timeCycle":return X("div",{children:[X("p",{children:i("A cycle defined as ISO 8601 repeating intervals format.")}),X("ul",{children:[X("li",{children:[X("code",{children:"R5/PT10S"})," - ",i("every 10 seconds, up to 5 times")]}),X("li",{children:[X("code",{children:"R/P1D"})," - ",i("every day, infinitely")]})]}),X("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener",children:i("Documentation: Timer events")})]});case"timeDuration":return X("div",{children:[X("p",{children:i("A time duration defined as ISO 8601 durations format.")}),X("ul",{children:[X("li",{children:[X("code",{children:"PT15S"})," - ",i("15 seconds")]}),X("li",{children:[X("code",{children:"PT1H30M"})," - ",i("1 hour and 30 minutes")]}),X("li",{children:[X("code",{children:"P14D"})," - ",i("14 days")]})]}),X("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener",children:i("Documentation: Timer events")})]})}}function Hne(t,i){return t?t+i:i}function I9e(t,i){const o=i.get("translate"),s=[...v9e({element:t}),{id:"id",component:t9e,isEdited:Pt},...E9e({element:t}),...qTe({element:t})];return{id:"general",label:o("General"),entries:s,component:fr}}function N9e(t,i){const s={label:i.get("translate")("Compensation"),id:"compensation",component:fr,entries:[...ETe({element:t})]};return s.entries.length?s:null}function L9e(t,i){const o=i.get("translate"),s=[...MTe({element:t})];return{id:"documentation",label:o("Documentation"),entries:s,component:fr}}function F9e(t,i){const s={id:"error",label:i.get("translate")("Error"),component:fr,entries:[...LTe({element:t})]};return s.entries.length?s:null}function B9e(t,i){const s={id:"message",label:i.get("translate")("Message"),component:fr,entries:[...i9e({element:t})]};return s.entries.length?s:null}function j9e(t,i){const s={id:"signal",label:i.get("translate")("Signal"),component:fr,entries:[...C9e({element:t})]};return s.entries.length?s:null}function $9e(t,i){const s={label:i.get("translate")("Link"),id:"link",component:fr,entries:[...n9e({element:t})]};return s.entries.length?s:null}function V9e(t,i){const s={id:"escalation",label:i.get("translate")("Escalation"),component:fr,entries:[...VTe({element:t})]};return s.entries.length?s:null}function z9e(t,i){const s={label:i.get("translate")("Timer"),id:"timer",component:fr,entries:[...k9e({element:t})]};return s.entries.length?s:null}function H9e(t,i){const s={label:i.get("translate")("Multi-instance"),id:"multiInstance",component:fr,entries:[...l9e({element:t})]};return s.entries.length?s:null}var G9e={__init__:["bpmnPropertiesProvider"],bpmnPropertiesProvider:["type",(()=>{class t{constructor(o,s){o.registerProvider(this),this._injector=s}getGroups(o){return s=>(s=s.concat(function U9e(t,i){return[I9e(t,i),L9e(t,i),N9e(t,i),F9e(t,i),$9e(t,i),B9e(t,i),H9e(t,i),j9e(t,i),V9e(t,i),z9e(t,i)].filter(s=>null!==s)}(o,this._injector)),s)}}return t.$inject=["propertiesPanel","injector"],t})()]};function jt(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function Pie(t,i){return i.appendChild(function NB(t,i){if(t.ownerDocument!==i.ownerDocument)try{return i.ownerDocument.importNode(t,!0)}catch{}return t}(t,i))}function yn(t,i){return Pie(i,t),t}var LB=2,Oie={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":LB,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":LB,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function kie(t,i,o){var s=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=Oie[s];a?(a===LB&&"number"==typeof o&&(o=String(o)+"px"),t.style[s]=o):t.setAttributeNS(null,i,o)}function Dt(t,i,o){if("string"==typeof i){if(void 0===o)return function xLe(t,i){return Oie[i]?t.style[i]:t.getAttributeNS(null,i)}(t,i);kie(t,i,o)}else!function wLe(t,i){var s,a,o=Object.keys(i);for(s=0;a=o[s];s++)kie(t,a,i[a])}(t,i);return t}const SLe=Object.prototype.toString;function cr(t){return new Vm(t)}function Vm(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function mo(t){var i=t.parentNode;return i&&i.removeChild(t),t}function k9(t){for(var i;i=t.firstChild;)mo(i);return t}function Mie(t){return t.cloneNode(!0)}Vm.prototype.add=function(t){return this.list.add(t),this},Vm.prototype.remove=function(t){return"[object RegExp]"==SLe.call(t)?this.removeMatching(t):(this.list.remove(t),this)},Vm.prototype.removeMatching=function(t){const i=this.array();for(let o=0;o<i.length;o++)t.test(i[o])&&this.remove(i[o]);return this},Vm.prototype.toggle=function(t,i){return typeof i<"u"?i!==this.list.toggle(t,i)&&this.list.toggle(t):this.list.toggle(t),this},Vm.prototype.array=function(){return Array.from(this.list)},Vm.prototype.has=Vm.prototype.contains=function(t){return this.list.contains(t)};var FB={svg:"http://www.w3.org/2000/svg"},Rie='<svg xmlns="'+FB.svg+'"';function Aie(t){var i=!1;"<svg"===t.substring(0,4)?-1===t.indexOf(FB.svg)&&(t=Rie+t.substring(4)):(t=Rie+">"+t+"</svg>",i=!0);var o=function CLe(t){var i;return(i=new DOMParser).async=!1,i.parseFromString(t,"text/xml")}(t);if(!i)return o;for(var s=document.createDocumentFragment(),a=o.firstChild;a.firstChild;)s.appendChild(a.firstChild);return s}function sn(t,i){var o;return"<"===t.charAt(0)?(o=Aie(t).firstChild,o=document.importNode(o,!0)):o=document.createElementNS(FB.svg,t),i&&Dt(o,i),o}var BB=null;function M9(){return null===BB&&(BB=sn("svg")),BB}function jB(t,i){var o,s,a=Object.keys(i);for(o=0;s=a[o];o++)t[s]=i[s];return t}function Zw(t){return t?M9().createSVGTransformFromMatrix(t):M9().createSVGTransform()}var Iie=/([&<>]{1})/g,TLe=/([\n\r"]{1})/g,PLe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function $B(t,i){return t.replace(i,function o(s,a){return PLe[a]||a})}function Nie(t,i){var o,s,a,l,c;switch(t.nodeType){case 3:i.push($B(t.textContent,Iie));break;case 1:if(i.push("<",t.tagName),t.hasAttributes())for(o=0,s=(a=t.attributes).length;o<s;++o)l=a.item(o),i.push(" ",l.name,'="',$B(l.value,TLe),'"');if(t.hasChildNodes()){for(i.push(">"),o=0,s=(c=t.childNodes).length;o<s;++o)Nie(c.item(o),i);i.push("</",t.tagName,">")}else i.push("/>");break;case 8:i.push("\x3c!--",$B(t.nodeValue,Iie),"--\x3e");break;case 4:i.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return i}function Lie(t,i){if(void 0!==i){try{!function OLe(t,i){var o=Aie(i);if(k9(t),i){(function MLe(t){return"#document-fragment"===t.nodeName})(o)||(o=o.documentElement);for(var s=function RLe(t){return Array.prototype.slice.call(t)}(o.childNodes),a=0;a<s.length;a++)Pie(s[a],t)}}(t,i)}catch(o){throw new Error("error parsing SVG: "+o.message)}return t}return function kLe(t){for(var i=t.firstChild,o=[];i;)Nie(i,o),i=i.nextSibling;return o.join("")}(t)}function ILe(t,i){return i instanceof SVGMatrix?t.createSVGTransformFromMatrix(i):i}function Jw(t,i){var o=t.transform.baseVal;return i&&(Array.isArray(i)||(i=[i]),function NLe(t,i){var o,s;for(t.clear(),o=0;s=i[o];o++)t.appendItem(ILe(t,s))}(o,i)),o.consolidate()}const LLe=/^class[ {]/;function VB(t){return Array.isArray(t)}function zB(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function R9(...t){1===t.length&&VB(t[0])&&(t=t[0]);const i=(t=[...t]).pop();return i.$inject=t,i}const BLe=/constructor\s*[^(]*\(\s*([^)]*)\)/m,jLe=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,$Le=/\/\*([^*]*)\*\//m;function VLe(t){if("function"!=typeof t)throw new Error(`Cannot annotate "${t}". Expected a function!`);const i=t.toString().match(function FLe(t){return LLe.test(t.toString())}(t)?BLe:jLe);if(!i)return[];const o=i[1]||i[2];return o&&o.split(",").map(s=>{const a=s.match($Le);return(a&&a[1]||s).trim()})||[]}function Fie(t,i){i=i||{get:function(N,B){if(o.push(N),!1===B)return null;throw c(`No provider for "${N}"!`)}};const o=[],s=this._providers=Object.create(i._providers||null),a=this._instances=Object.create(null),l=a.injector=this,c=function(N){const B=o.join(" -> ");return o.length=0,new Error(B?`${N} (Resolving: ${B})`:N)};function u(N,B){if(!s[N]&&-1!==N.indexOf(".")){const $=N.split(".");let q=u($.shift());for(;$.length;)q=q[$.shift()];return q}if(zB(a,N))return a[N];if(zB(s,N)){if(-1!==o.indexOf(N))throw o.push(N),c("Cannot resolve circular dependency!");return o.push(N),a[N]=s[N][0](s[N][1]),o.pop(),a[N]}return i.get(N,B)}function p(N,B){if(typeof B>"u"&&(B={}),"function"!=typeof N){if(!VB(N))throw c(`Cannot invoke "${N}". Expected a function!`);N=R9(N.slice())}return{fn:N,dependencies:(N.$inject||VLe(N)).map(ee=>zB(B,ee)?B[ee]:u(ee))}}function h(N){const{fn:B,dependencies:$}=p(N);return new(Function.prototype.bind.apply(B,[null].concat($)))}function v(N,B,$){const{fn:q,dependencies:ee}=p(N,$);return q.apply(B,ee)}function y(N){return R9(B=>N.get(B))}function E(N,B){if(B&&B.length){const $=Object.create(null),q=Object.create(null),ee=[],ae=[],te=[];let ne,he,we,fe;for(let ye in s)ne=s[ye],-1!==B.indexOf(ye)&&("private"===ne[2]?(he=ee.indexOf(ne[3]),-1===he?(we=ne[3].createChild([],B),fe=y(we),ee.push(ne[3]),ae.push(we),te.push(fe),$[ye]=[fe,ye,"private",we]):$[ye]=[te[he],ye,"private",ae[he]]):$[ye]=[ne[2],ne[1]],q[ye]=!0),("factory"===ne[2]||"type"===ne[2])&&ne[1].$scope&&B.forEach(Fe=>{-1!==ne[1].$scope.indexOf(Fe)&&($[ye]=[ne[2],ne[1]],q[Fe]=!0)});B.forEach(ye=>{if(!q[ye])throw new Error('No provider for "'+ye+'". Cannot use provider from the parent!')}),N.unshift($)}return new Fie(N,l)}const S={factory:v,type:h,value:function(N){return N}};function D(N,B){const $=N.__init__||[];return function(){$.forEach(q=>{"string"==typeof q?B.get(q):B.invoke(q)})}}function k(N){const B=N.__exports__;if(B){const $=N.__modules__,q=Object.keys(N).reduce((he,we)=>("__exports__"!==we&&"__modules__"!==we&&"__init__"!==we&&"__depends__"!==we&&(he[we]=N[we]),he),Object.create(null)),ae=E(($||[]).concat(q)),te=R9(function(he){return ae.get(he)});B.forEach(function(he){s[he]=[te,he,"private",ae]});const ne=(N.__init__||[]).slice();return ne.unshift(function(){ae.init()}),D(N=Object.assign({},N,{__init__:ne}),ae)}return Object.keys(N).forEach(function($){if("__init__"===$||"__depends__"===$)return;if("private"===N[$][2])return void(s[$]=N[$]);const q=N[$][0];s[$]=[S[q],zLe(q,N[$][1]),q]}),D(N,l)}function R(N,B){return-1!==N.indexOf(B)||-1!==(N=(B.__depends__||[]).reduce(R,N)).indexOf(B)?N:N.concat(B)}this.get=u,this.invoke=v,this.instantiate=h,this.createChild=E,this.init=function L(N){const B=N.reduce(R,[]).map(k);let $=!1;return function(){$||($=!0,B.forEach(q=>q()))}}(t)}function zLe(t,i){return"value"!==t&&VB(i)&&(i=R9(i.slice())),i}var HLe=1e3;function Tf(t,i){var o=this;t.on(["render.shape","render.connection"],i=i||HLe,function(s,a){var l=s.type,c=a.element,u=a.gfx,p=a.attrs;if(o.canRender(c))return"render.shape"===l?o.drawShape(u,c,p):o.drawConnection(u,c,p)}),t.on(["render.getShapePath","render.getConnectionPath"],i,function(s,a){if(o.canRender(a))return"render.getShapePath"===s.type?o.getShapePath(a):o.getConnectionPath(a)})}function iy(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function ULe(t){return["M",t.x,t.y]}function HB(t){return["L",t.x,t.y]}function GLe(t,i,o){return["C",t.x,t.y,i.x,i.y,o.x,o.y]}function qLe(t,i){const o=t.length,s=[ULe(t[0])];for(let a=1;a<o;a++){const l=t[a-1],c=t[a],u=t[a+1];if(!u||!i){s.push(HB(c));continue}const p=Math.min(i,UB(c.x-l.x,c.y-l.y),UB(u.x-c.x,u.y-c.y));if(!p){s.push(HB(c));continue}const h=A9(c,l,p),v=A9(c,l,.5*p),y=A9(c,u,p),E=A9(c,u,.5*p);s.push(HB(h)),s.push(GLe(v,E,y))}return s}function A9(t,i,o){const s=i.x-t.x,a=i.y-t.y,c=o/UB(s,a);return{x:t.x+s*c,y:t.y+a*c}}function UB(t,i){return Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}function I9(t,i,o){mn(i)&&(o=i,i=null),i||(i={});const s=sn("path",i);return mn(o)&&(s.dataset.cornerRadius=String(o)),Bie(s,t)}function Bie(t,i){return Dt(t,{d:iy(qLe(i,parseInt(t.dataset.cornerRadius,10)||0))}),t}function N9(t){return On(t,function(i){return!Kn(t,function(o){return o!==i&&jie(i,o)})})}function jie(t,i){if(i){if(t===i)return i;if(t.parent)return jie(t.parent,i)}}function $ie(t,i,o){var s=!o||-1===t.indexOf(i);return s&&t.push(i),s}function oy(t,i,o){o=o||0,Rn(t)||(t=[t]),_e(t,function(s,a){var l=i(s,a,o);Rn(l)&&l.length&&oy(l,i,o+1)})}function e6(t,i){return function Vie(t,i,o){var s=[],a=[];return oy(t,function(l,c,u){$ie(s,l,i);var p=l.children;if((-1===o||u<o)&&p&&$ie(a,p,i))return p}),s}(t,!i,-1)}function Ao(t,i){var o,s,a,l;return i=!!i,Rn(t)||(t=[t]),_e(t,function(c){var u=c;c.waypoints&&!i&&(u=Ao(c.waypoints,!0));var p=u.x,h=u.y,v=u.height||0,y=u.width||0;(p<o||void 0===o)&&(o=p),(h<s||void 0===s)&&(s=h),(p+y>a||void 0===a)&&(a=p+y),(h+v>l||void 0===l)&&(l=h+v)}),{x:o,y:s,height:l-s,width:a-o}}function zie(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function Hie(t){return!(!t||!t.isFrame)}function t6(t,i){return Ae({},t||{},i||{})}function zm(t,i){Tf.call(this,t,1),this.CONNECTION_STYLE=i.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=i.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=i.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Tf.prototype.canRender=function(t){},Tf.prototype.drawShape=function(t,i){},Tf.prototype.drawConnection=function(t,i){},Tf.prototype.getShapePath=function(t){},Tf.prototype.getConnectionPath=function(t){},jt(zm,Tf),zm.prototype.canRender=function(){return!0},zm.prototype.drawShape=function(i,o,s){var a=sn("rect");return Dt(a,{x:0,y:0,width:o.width||0,height:o.height||0}),Hie(o)?Dt(a,Ae({},this.FRAME_STYLE,s||{})):Dt(a,Ae({},this.SHAPE_STYLE,s||{})),yn(i,a),a},zm.prototype.drawConnection=function(i,o,s){var a=I9(o.waypoints,Ae({},this.CONNECTION_STYLE,s||{}));return yn(i,a),a},zm.prototype.getShapePath=function(i){var a=i.width;return iy([["M",i.x,i.y],["l",a,0],["l",0,i.height],["l",-a,0],["z"]])},zm.prototype.getConnectionPath=function(i){var s,a,o=i.waypoints,l=[];for(s=0;a=o[s];s++)l.push([0===s?"M":"L",(a=a.original||a).x,a.y]);return iy(l)},zm.$inject=["eventBus","styles"];const QLe={__init__:["defaultRenderer"],defaultRenderer:["type",zm],styles:["type",function KLe(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},i=this;this.cls=function(o,s,a){return Ae(this.style(s,a),{class:o})},this.style=function(o,s){!Rn(o)&&!s&&(s=o,o=[]);var a=dl(o,function(l,c){return Ae(l,t[c]||{})},{});return s?Ae(a,s):a},this.computeStyle=function(o,s,a){return Rn(s)||(a=s,s=[]),i.style(s||[],Ae({},a,o||{}))}}]};function Io(t,i){if(!t||!i)return-1;var o=t.indexOf(i);return-1!==o&&t.splice(o,1),o}function Yo(t,i,o){if(t&&i){"number"!=typeof o&&(o=-1);var s=t.indexOf(i);if(-1!==s){if(s===o)return;if(-1===o)return;t.splice(s,1)}-1!==o?t.splice(o,0,i):t.push(i)}}function GB(t,i){return t&&i?t.indexOf(i):-1}function n6(t,i){return t&&i?Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)):-1}function qB(t,i,o,s){if(typeof s>"u"&&(s=5),!t||!i||!o)return!1;var a=(i.x-t.x)*(o.y-t.y)-(i.y-t.y)*(o.x-t.x),l=n6(t,i);return Math.abs(a/l)<=s}var ZLe=2;function Pf(t,i){var o=Array.from(arguments).flat();const s={x:"v",y:"h"};for(const[a,l]of Object.entries(s))if(JLe(a,o))return l;return!1}function JLe(t,i){const o=i[0];return k3(i,function(s){return Math.abs(o[t]-s[t])<=ZLe})}function Uie(t,i,o){return t.x>i.x-(o=o||0)&&t.y>i.y-o&&t.x<i.x+i.width+o&&t.y<i.y+i.height+o}function WB(t,i){return{x:Math.round(t.x+(i.x-t.x)/2),y:Math.round(t.y+(i.y-t.y)/2)}}var eFe=zn(563),Gie=zn.n(eFe);function qie(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function Of(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function an(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function L9(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function wn(t){return Di(t)?function nFe(t){for(var i=t.waypoints,o=i.reduce(function(h,v,y){var E=i[y-1];if(E){var S=h[h.length-1],D=S&&S.endLength||0,k=function oFe(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}(E,v);h.push({start:E,end:v,startLength:D,endLength:D+k,length:k})}return h},[]),a=o.reduce(function(h,v){return h+v.length},0)/2,l=0,c=o[l];c.endLength<a;)c=o[++l];var u=(a-c.startLength)/c.length;return{x:c.start.x+(c.end.x-c.start.x)*u,y:c.start.y+(c.end.y-c.start.y)*u}}(t):function tFe(t){return Of({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}(t)}function fa(t,i,o){Oo(o=o||0)||(o={x:o,y:o});var s=an(t),a=an(i),h=s.bottom+o.y<=a.top?"top":s.top-o.y>=a.bottom?"bottom":null,v=s.right+o.x<=a.left?"left":s.left-o.x>=a.right?"right":null;return v&&h?h+"-"+v:v||h||"intersect"}function XB(t,i,o){var s=function rFe(t,i){return Gie()(t,i)}(t,i);return 1===s.length||2===s.length&&n6(s[0],s[1])<1?Of(s[0]):s.length>1?Of((s=os(s,function(a){var l=Math.floor(100*a.t2)||1;return a.segment2+"#"+((l=100-l)<10?"0":"")+l}))[o?0:s.length-1]):null}function F9(t,i){return Math.round(t*i)/i}function Wie(t){return mn(t)?t+"px":t}function Xie(t,i,o){const s=sn("g");return cr(s).add(i),t.insertBefore(s,t.childNodes[void 0!==o?o:t.childNodes.length-1]||null),s}const uFe={shape:["x","y","width","height"],connection:["waypoints"]};function Nn(t,i,o,s){this._eventBus=i,this._elementRegistry=s,this._graphicsFactory=o,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(t||{})}function Kie(t,i){t.setAttribute("transform","matrix("+i.a+","+i.b+","+i.c+","+i.d+","+i.e+","+i.f+")")}Nn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Nn.prototype._init=function(t){const i=this._eventBus,o=this._container=function aFe(t){const i=(t=Ae({},{width:"100%",height:"100%"},t)).container||document.body,o=document.createElement("div");return o.setAttribute("class","djs-container djs-parent"),Ws(o,{position:"relative",overflow:"hidden",width:Wie(t.width),height:Wie(t.height)}),i.appendChild(o),o}(t),s=this._svg=sn("svg");Dt(s,{width:"100%",height:"100%"}),yn(o,s);const a=this._viewport=Xie(s,"viewport");t.deferUpdate&&(this._viewboxChanged=HA(pl(this._viewboxChanged,this),300)),i.on("diagram.init",()=>{i.fire("canvas.init",{svg:s,viewport:a})}),i.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),i.on("diagram.destroy",500,this._destroy,this),i.on("diagram.clear",500,this._clear,this)},Nn.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Nn.prototype._clear=function(){this._elementRegistry.getAll().forEach(i=>{const o=zie(i);"root"===o?this.removeRootElement(i):this._removeElement(i,o)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Nn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Nn.prototype.getLayer=function(t,i){if(!t)throw new Error("must specify a name");let o=this._layers[t];if(o||(o=this._layers[t]=this._createLayer(t,i)),typeof i<"u"&&o.index!==i)throw new Error("layer <"+t+"> already created at index <"+i+">");return o.group},Nn.prototype._getChildIndex=function(t){return dl(this._layers,function(i,o){return o.visible&&t>=o.index&&i++,i},0)},Nn.prototype._createLayer=function(t,i){typeof i>"u"&&(i=1);const o=this._getChildIndex(i);return{group:Xie(this._viewport,"layer-"+t,o),index:i,visible:!0}},Nn.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");const i=this._layers[t];if(!i)throw new Error("layer <"+t+"> does not exist");const o=this._viewport,s=i.group;if(i.visible)return s;const l=this._getChildIndex(i.index);return o.insertBefore(s,o.childNodes[l]||null),i.visible=!0,s},Nn.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");const i=this._layers[t];if(!i)throw new Error("layer <"+t+"> does not exist");const o=i.group;return i.visible&&(mo(o),i.visible=!1),o},Nn.prototype._removeLayer=function(t){const i=this._layers[t];i&&(delete this._layers[t],mo(i.group))},Nn.prototype.getActiveLayer=function(){const t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null},Nn.prototype.findRoot=function(t){return"string"==typeof t&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(function sFe(t){for(;t.parent;)t=t.parent;return t}(t))||{}).rootElement:void 0},Nn.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})},Nn.prototype._findPlaneForRoot=function(t){return Kn(this._planes,function(i){return i.rootElement===t})},Nn.prototype.getContainer=function(){return this._container},Nn.prototype._updateMarker=function(t,i,o){let s;t.id||(t=this._elementRegistry.get(t)),s=this._elementRegistry._elements[t.id],s&&(_e([s.gfx,s.secondaryGfx],function(a){a&&(o?cr(a).add(i):cr(a).remove(i))}),this._eventBus.fire("element.marker.update",{element:t,gfx:s.gfx,marker:i,add:!!o}))},Nn.prototype.addMarker=function(t,i){this._updateMarker(t,i,!0)},Nn.prototype.removeMarker=function(t,i){this._updateMarker(t,i,!1)},Nn.prototype.hasMarker=function(t,i){return t.id||(t=this._elementRegistry.get(t)),cr(this.getGraphics(t)).has(i)},Nn.prototype.toggleMarker=function(t,i){this.hasMarker(t,i)?this.removeMarker(t,i):this.addMarker(t,i)},Nn.prototype.getRootElement=function(){const t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))},Nn.prototype.addRootElement=function(t){const i=this._rootsIdx++;t||(t={id:"__implicitroot_"+i,children:[],isImplicit:!0});const o=t.layer="root-"+i;this._ensureValid("root",t);const s=this.getLayer(o,0);return this.hideLayer(o),this._addRoot(t,s),this._planes.push({rootElement:t,layer:s}),t},Nn.prototype.removeRootElement=function(t){if("string"==typeof t&&(t=this._elementRegistry.get(t)),this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(o){return o.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t},Nn.prototype.setRootElement=function(t){if(t===this._rootElement)return;let i;if(!t)throw new Error("rootElement required");return i=this._findPlaneForRoot(t),i||(t=this.addRootElement(t)),this._setRoot(t),t},Nn.prototype._removeRoot=function(t){const i=this._elementRegistry,o=this._eventBus;o.fire("root.remove",{element:t}),o.fire("root.removed",{element:t}),i.remove(t)},Nn.prototype._addRoot=function(t,i){const o=this._elementRegistry,s=this._eventBus;s.fire("root.add",{element:t}),o.add(t,i),s.fire("root.added",{element:t,gfx:i})},Nn.prototype._setRoot=function(t,i){const o=this._rootElement;o&&(this._elementRegistry.updateGraphics(o,null,!0),this.hideLayer(o.layer)),t&&(i||(i=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})},Nn.prototype._ensureValid=function(t,i){if(!i.id)throw new Error("element must have an id");if(this._elementRegistry.get(i.id))throw new Error("element <"+i.id+"> already exists");const o=uFe[t];if(!k3(o,function(a){return typeof i[a]<"u"}))throw new Error("must supply { "+o.join(", ")+" } with "+t)},Nn.prototype._setParent=function(t,i,o){Yo(i.children,t,o),t.parent=i},Nn.prototype._addElement=function(t,i,o,s){o=o||this.getRootElement();const a=this._eventBus,l=this._graphicsFactory;this._ensureValid(t,i),a.fire(t+".add",{element:i,parent:o}),this._setParent(i,o,s);const c=l.create(t,i,s);return this._elementRegistry.add(i,c),l.update(t,i,c),a.fire(t+".added",{element:i,gfx:c}),i},Nn.prototype.addShape=function(t,i,o){return this._addElement("shape",t,i,o)},Nn.prototype.addConnection=function(t,i,o){return this._addElement("connection",t,i,o)},Nn.prototype._removeElement=function(t,i){const o=this._elementRegistry,s=this._graphicsFactory,a=this._eventBus;if(t=o.get(t.id||t))return a.fire(i+".remove",{element:t}),s.remove(t),Io(t.parent&&t.parent.children,t),t.parent=null,a.fire(i+".removed",{element:t}),o.remove(t),t},Nn.prototype.removeShape=function(t){return this._removeElement(t,"shape")},Nn.prototype.removeConnection=function(t){return this._removeElement(t,"connection")},Nn.prototype.getGraphics=function(t,i){return this._elementRegistry.getGraphics(t,i)},Nn.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Nn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Nn.prototype.viewbox=function(t){if(void 0===t&&this._cachedViewbox)return this._cachedViewbox;const i=this._viewport,o=this.getSize();let s,a,l,c,u,p,h;return t?(this._changeViewbox(function(){u=Math.min(o.width/t.width,o.height/t.height);const v=this._svg.createSVGMatrix().scale(u).translate(-t.x,-t.y);Jw(i,v)}),t):(l=this._rootElement?this.getActiveLayer():null,s=l&&l.getBBox()||{},c=Jw(i),a=c?c.matrix:function DLe(t,i,o,s,a,l){var c=M9().createSVGMatrix();switch(arguments.length){case 0:return c;case 1:return jB(c,t);case 6:return jB(c,{a:t,b:i,c:o,d:s,e:a,f:l})}}(),u=F9(a.a,1e3),p=F9(-a.e||0,1e3),h=F9(-a.f||0,1e3),t=this._cachedViewbox={x:p?p/u:0,y:h?h/u:0,width:o.width/u,height:o.height/u,scale:u,inner:{width:s.width||0,height:s.height||0,x:s.x||0,y:s.y||0},outer:o})},Nn.prototype.scroll=function(t){const i=this._viewport;let o=i.getCTM();return t&&this._changeViewbox(function(){t=Ae({dx:0,dy:0},t||{}),o=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(o),Kie(i,o)}),{x:o.e,y:o.f}},Nn.prototype.scrollToElement=function(t,i){let o=100;"string"==typeof t&&(t=this._elementRegistry.get(t));const s=this.findRoot(t);if(s!==this.getRootElement()&&this.setRootElement(s),s===t)return;i||(i={}),"number"==typeof i&&(o=i),i={top:i.top||o,right:i.right||o,bottom:i.bottom||o,left:i.left||o};const a=Ao(t),l=an(a),c=this.viewbox(),u=this.zoom();let p,h;c.y+=i.top/u,c.x+=i.left/u,c.width-=(i.right+i.left)/u,c.height-=(i.bottom+i.top)/u;const v=an(c);if(a.width<c.width&&a.height<c.height){const E=Math.max(0,l.right-v.right),S=Math.min(0,l.left-v.left),D=Math.max(0,l.bottom-v.bottom),k=Math.min(0,l.top-v.top);p=E||S,h=D||k}else p=a.x-c.x,h=a.y-c.y;this.scroll({dx:-p*u,dy:-h*u})},Nn.prototype.zoom=function(t,i){if(!t)return this.viewbox(t).scale;if("fit-viewport"===t)return this._fitViewport(i);let o,s;return this._changeViewbox(function(){"object"!=typeof i&&(o=this.viewbox().outer,i={x:o.width/2,y:o.height/2}),s=this._setZoom(t,i)}),F9(s.a,1e3)},Nn.prototype._fitViewport=function(t){const i=this.viewbox(),o=i.outer,s=i.inner;let a,l;return s.x>=0&&s.y>=0&&s.x+s.width<=o.width&&s.y+s.height<=o.height&&!t?l={x:0,y:0,width:Math.max(s.width+s.x,o.width),height:Math.max(s.height+s.y,o.height)}:(a=Math.min(1,o.width/s.width,o.height/s.height),l={x:s.x+(t?s.width/2-o.width/a/2:0),y:s.y+(t?s.height/2-o.height/a/2:0),width:o.width/a,height:o.height/a}),this.viewbox(l),this.viewbox(!1).scale},Nn.prototype._setZoom=function(t,i){const o=this._svg,s=this._viewport,a=o.createSVGMatrix(),l=o.createSVGPoint();let c,u,p,h,v;p=s.getCTM();const y=p.a;return i?(c=Ae(l,i),u=c.matrixTransform(p.inverse()),h=a.translate(u.x,u.y).scale(1/y*t).translate(-u.x,-u.y),v=p.multiply(h)):v=a.scale(t),Kie(this._viewport,v),v},Nn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Nn.prototype.getAbsoluteBBox=function(t){const i=this.viewbox();let o;return o=t.waypoints?this.getGraphics(t).getBBox():t,{x:o.x*i.scale-i.x*i.scale,y:o.y*i.scale-i.y*i.scale,width:o.width*i.scale,height:o.height*i.scale}},Nn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var _5="data-element-id";function Pc(t){this._elements={},this._eventBus=t}Pc.$inject=["eventBus"],Pc.prototype.add=function(t,i,o){var s=t.id;this._validateId(s),Dt(i,_5,s),o&&Dt(o,_5,s),this._elements[s]={element:t,gfx:i,secondaryGfx:o}},Pc.prototype.remove=function(t){var i=this._elements,o=t.id||t,s=o&&i[o];s&&(Dt(s.gfx,_5,""),s.secondaryGfx&&Dt(s.secondaryGfx,_5,""),delete i[o])},Pc.prototype.updateId=function(t,i){this._validateId(i),"string"==typeof t&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:i});var o=this.getGraphics(t),s=this.getGraphics(t,!0);this.remove(t),t.id=i,this.add(t,o,s)},Pc.prototype.updateGraphics=function(t,i,o){var s=t.id||t,a=this._elements[s];return o?a.secondaryGfx=i:a.gfx=i,i&&Dt(i,_5,s),i},Pc.prototype.get=function(t){var i;i="string"==typeof t?t:t&&Dt(t,_5);var o=this._elements[i];return o&&o.element},Pc.prototype.filter=function(t){var i=[];return this.forEach(function(o,s){t(o,s)&&i.push(o)}),i},Pc.prototype.find=function(t){for(var i=this._elements,o=Object.keys(i),s=0;s<o.length;s++){var l=i[o[s]],c=l.element;if(t(c,l.gfx))return c}},Pc.prototype.getAll=function(){return this.filter(function(t){return t})},Pc.prototype.forEach=function(t){var i=this._elements;Object.keys(i).forEach(function(o){var s=i[o];return t(s.element,s.gfx)})},Pc.prototype.getGraphics=function(t,i){var s=this._elements[t.id||t];return s&&(i?s.secondaryGfx:s.gfx)},Pc.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};var dFe=zn(932),r6=zn.n(dFe),YB=new(r6())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Qie=new(r6())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Zie=new(r6())({name:"attachers",collection:!0},{name:"host"}),Jie=new(r6())({name:"outgoing",collection:!0},{name:"source"}),eoe=new(r6())({name:"incoming",collection:!0},{name:"target"});function E5(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var i=this.label,o=this.labels;!t&&i?o.remove(i):o.add(t,0)}}),YB.bind(this,"parent"),Qie.bind(this,"labels"),Jie.bind(this,"outgoing"),eoe.bind(this,"incoming")}function i6(){E5.call(this),YB.bind(this,"children"),Zie.bind(this,"host"),Zie.bind(this,"attachers")}function toe(){E5.call(this),YB.bind(this,"children")}function noe(){i6.call(this),Qie.bind(this,"labelTarget")}function roe(){E5.call(this),Jie.bind(this,"source"),eoe.bind(this,"target")}jt(i6,E5),jt(toe,i6),jt(noe,i6),jt(roe,E5);var pFe={connection:roe,shape:i6,label:noe,root:toe};function kf(){this._uid=12}kf.prototype.createRoot=function(t){return this.create("root",t)},kf.prototype.createLabel=function(t){return this.create("label",t)},kf.prototype.createShape=function(t){return this.create("shape",t)},kf.prototype.createConnection=function(t){return this.create("connection",t)},kf.prototype.create=function(t,i){return(i=Ae({},i||{})).id||(i.id=t+"_"+this._uid++),function fFe(t,i){var o=pFe[t];if(!o)throw new Error("unknown type: <"+t+">");return Ae(new o,i)}(t,i)};var B9="__fn",mFe=Array.prototype.slice;function Wl(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function o6(){}function j9(t){return t.childNodes[0]}function KB(t,i,o,s,a){var l=Zw();l.setTranslate(i,o);var c=Zw();c.setRotate(s||0,0,0);var u=Zw();u.setScale(a||1,a||1),Jw(t,[l,c,u])}function Xl(t,i,o){var s=Zw();s.setTranslate(i,o),Jw(t,s)}function ooe(t,i){var o=Zw();o.setRotate(i,0,0),Jw(t,o)}function Oc(t,i){this._eventBus=t,this._elementRegistry=i}function soe(t,i,o){var s=o||i.firstChild;t!==s&&i.insertBefore(t,s)}Wl.prototype.on=function(t,i,o,s){if(t=Rn(t)?t:[t],Br(i)&&(s=o,o=i,i=1e3),!mn(i))throw new Error("priority must be a number");var a=o;s&&((a=pl(o,s))[B9]=o[B9]||o);var l=this;t.forEach(function(c){l._addListener(c,{priority:i,callback:a,next:null})})},Wl.prototype.once=function(t,i,o,s){var a=this;if(Br(i)&&(s=o,o=i,i=1e3),!mn(i))throw new Error("priority must be a number");function l(){l.__isTomb=!0;var c=o.apply(s,arguments);return a.off(t,l),c}l[B9]=o,this.on(t,i,l)},Wl.prototype.off=function(t,i){t=Rn(t)?t:[t];var o=this;t.forEach(function(s){o._removeListener(s,i)})},Wl.prototype.createEvent=function(t){var i=new o6;return i.init(t),i},Wl.prototype.fire=function(t,i){var o,s,a,l;if(l=mFe.call(arguments),"object"==typeof t&&(t=(i=t).type),!t)throw new Error("no event type specified");if(s=this._listeners[t]){o=i instanceof o6?i:this.createEvent(i),l[0]=o;var c=o.type;t!==c&&(o.type=t);try{a=this._invokeListeners(o,l,s)}finally{t!==c&&(o.type=c)}return void 0===a&&o.defaultPrevented&&(a=!1),a}},Wl.prototype.handleError=function(t){return!1===this.fire("error",{error:t})},Wl.prototype._destroy=function(){this._listeners={}},Wl.prototype._invokeListeners=function(t,i,o){for(var s;o&&!t.cancelBubble;)s=this._invokeListener(t,i,o),o=o.next;return s},Wl.prototype._invokeListener=function(t,i,o){var s;if(o.callback.__isTomb)return s;try{s=function gFe(t,i){return t.apply(null,i)}(o.callback,i),void 0!==s&&(t.returnValue=s,t.stopPropagation()),!1===s&&t.preventDefault()}catch(a){if(!this.handleError(a))throw console.error("unhandled error in event listener",a),a}return s},Wl.prototype._addListener=function(t,i){var s,o=this._getListeners(t);if(o){for(;o;){if(o.priority<i.priority)return i.next=o,void(s?s.next=i:this._setListeners(t,i));s=o,o=o.next}s.next=i}else this._setListeners(t,i)},Wl.prototype._getListeners=function(t){return this._listeners[t]},Wl.prototype._setListeners=function(t,i){this._listeners[t]=i},Wl.prototype._removeListener=function(t,i){var s,a,l,o=this._getListeners(t);if(i)for(;o;)s=o.next,((l=o.callback)===i||l[B9]===i)&&(a?a.next=s:this._setListeners(t,s)),a=o,o=s;else this._setListeners(t,null)},o6.prototype.stopPropagation=function(){this.cancelBubble=!0},o6.prototype.preventDefault=function(){this.defaultPrevented=!0},o6.prototype.init=function(t){Ae(this,t||{})},Oc.$inject=["eventBus","elementRegistry"],Oc.prototype._getChildrenContainer=function(t){var o,i=this._elementRegistry.getGraphics(t);return t.parent?(o=function vFe(t){return t.parentNode.childNodes[1]}(i),o||(cr(o=sn("g")).add("djs-children"),yn(i.parentNode,o))):o=i,o},Oc.prototype._clear=function(t){var i=j9(t);return DD(i),i},Oc.prototype._createContainer=function(t,i,o,s){var a=sn("g");cr(a).add("djs-group"),typeof o<"u"?soe(a,i,i.childNodes[o]):yn(i,a);var l=sn("g");cr(l).add("djs-element"),cr(l).add("djs-"+t),s&&cr(l).add("djs-frame"),yn(a,l);var c=sn("g");return cr(c).add("djs-visual"),yn(l,c),l},Oc.prototype.create=function(t,i,o){var s=this._getChildrenContainer(i.parent);return this._createContainer(t,s,o,Hie(i))},Oc.prototype.updateContainments=function(t){var i=this,o=this._elementRegistry;_e(dl(t,function(a,l){return l.parent&&(a[l.parent.id]=l.parent),a},{}),function(a){var l=a.children;if(l){var c=i._getChildrenContainer(a);_e(l.slice().reverse(),function(u){soe(o.getGraphics(u).parentNode,c)})}})},Oc.prototype.drawShape=function(t,i,o={}){return this._eventBus.fire("render.shape",{gfx:t,element:i,attrs:o})},Oc.prototype.getShapePath=function(t){return this._eventBus.fire("render.getShapePath",t)},Oc.prototype.drawConnection=function(t,i,o={}){return this._eventBus.fire("render.connection",{gfx:t,element:i,attrs:o})},Oc.prototype.getConnectionPath=function(t){return this._eventBus.fire("render.getConnectionPath",t)},Oc.prototype.update=function(t,i,o){if(i.parent){var s=this._clear(o);if("shape"===t)this.drawShape(s,i),Xl(o,i.x,i.y);else{if("connection"!==t)throw new Error("unknown type: "+t);this.drawConnection(s,i)}Dt(o,"display",i.hidden?"none":"block")}},Oc.prototype.remove=function(t){mo(this._elementRegistry.getGraphics(t).parentNode)};const yFe={__depends__:[QLe],__init__:["canvas"],canvas:["type",Nn],elementRegistry:["type",Pc],elementFactory:["type",kf],eventBus:["type",Wl],graphicsFactory:["type",Oc]};function x5(t,i){this._injector=i=i||function _Fe(t){return function bFe(t){var i=new Fie(t);return i.init(),i}([{config:["value",t=t||{}]},yFe].concat(t.modules||[]))}(t),this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("diagram.init")}function QB(){}function aoe(t,i){this.model=t,this.properties=i}x5.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},x5.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},QB.prototype.get=function(t){return this.$model.properties.get(this,t)},QB.prototype.set=function(t,i){this.$model.properties.set(this,t,i)},aoe.prototype.createType=function(t){var i=this.model,o=this.properties,s=Object.create(QB.prototype);_e(t.properties,function(c){!c.isMany&&void 0!==c.default&&(s[c.name]=c.default)}),o.defineModel(s,i),o.defineDescriptor(s,t);var a=t.ns.name;function l(c){o.define(this,"$type",{value:a,enumerable:!0}),o.define(this,"$attrs",{value:{}}),o.define(this,"$parent",{writable:!0}),_e(c,pl(function(u,p){this.set(p,u)},this))}return l.prototype=s,l.hasType=s.$instanceOf=this.model.hasType,o.defineModel(l,i),o.defineDescriptor(l,t),l};var EFe={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},loe={String:function(t){return t},Boolean:function(t){return"true"===t},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function ZB(t,i){var o=loe[t];return o?o(i):i}function JB(t){return!!EFe[t]}function coe(t){return!!loe[t]}function ja(t,i){var s,a,o=t.split(/:/);if(1===o.length)s=t,a=i;else{if(2!==o.length)throw new Error("expected <prefix:localName> or <localName>, got "+t);s=o[1],a=o[0]}return{name:t=(a?a+":":"")+s,prefix:a,localName:s}}function kc(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Hm(t,i){this.packageMap={},this.typeMap={},this.packages=[],this.properties=i,_e(t,pl(this.registerPackage,this))}function uoe(t,i,o){var s=i[o];if(s in t)throw new Error("package with "+o+" <"+s+"> already defined")}function sy(t){this.model=t}function doe(t,i,o){Object.defineProperty(t,i.name,{enumerable:!i.isReference,writable:!0,value:o,configurable:!0})}function ej(t){return t.replace(/^:/,"")}function fu(t,i={}){this.properties=new sy(this),this.factory=new aoe(this,this.properties),this.registry=new Hm(t,this.properties),this.typeCache={},this.config=i}kc.prototype.build=function(){return p0(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},kc.prototype.addProperty=function(t,i,o){"boolean"==typeof i&&(o=i,i=void 0),this.addNamedProperty(t,!1!==o);var s=this.properties;void 0!==i?s.splice(i,0,t):s.push(t)},kc.prototype.replaceProperty=function(t,i,o){var s=t.ns,a=this.properties,l=this.propertiesByName,c=t.name!==i.name;if(t.isId){if(!i.isId)throw new Error("property <"+i.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(i,!1)}if(t.isBody){if(!i.isBody)throw new Error("property <"+i.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(i,!1)}var u=a.indexOf(t);if(-1===u)throw new Error("property <"+s.name+"> not found in property list");a.splice(u,1),this.addProperty(i,o?void 0:u,c),l[s.name]=l[s.localName]=i},kc.prototype.redefineProperty=function(t,i,o){var s=t.ns.prefix,a=i.split("#"),l=ja(a[0],s),c=ja(a[1],l.prefix).name,u=this.propertiesByName[c];if(!u)throw new Error("refined property <"+c+"> not found");this.replaceProperty(u,t,o),delete t.redefines},kc.prototype.addNamedProperty=function(t,i){var o=t.ns,s=this.propertiesByName;i&&(this.assertNotDefined(t,o.name),this.assertNotDefined(t,o.localName)),s[o.name]=s[o.localName]=t},kc.prototype.removeNamedProperty=function(t){var i=t.ns,o=this.propertiesByName;delete o[i.name],delete o[i.localName]},kc.prototype.setBodyProperty=function(t,i){if(i&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t},kc.prototype.setIdProperty=function(t,i){if(i&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t},kc.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)},kc.prototype.assertNotDefined=function(t,i){var o=t.name,s=this.propertiesByName[o];if(s)throw new Error("property <"+o+"> already defined; override of <"+s.definedBy.ns.name+"#"+s.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")},kc.prototype.hasProperty=function(t){return this.propertiesByName[t]},kc.prototype.addTrait=function(t,i){i&&this.assertNotTrait(t);var o=this.allTypesByName,s=this.allTypes,a=t.name;a in o||(_e(t.properties,pl(function(l){l=Ae({},l,{name:l.ns.localName,inherited:i}),Object.defineProperty(l,"definedBy",{value:t});var c=l.replaces,u=l.redefines;c||u?this.redefineProperty(l,c||u,c):(l.isBody&&this.setBodyProperty(l),l.isId&&this.setIdProperty(l),this.addProperty(l))},this)),s.push(t),o[a]=t)},Hm.prototype.getPackage=function(t){return this.packageMap[t]},Hm.prototype.getPackages=function(){return this.packages},Hm.prototype.registerPackage=function(t){t=Ae({},t);var i=this.packageMap;uoe(i,t,"prefix"),uoe(i,t,"uri"),_e(t.types,pl(function(o){this.registerType(o,t)},this)),i[t.uri]=i[t.prefix]=t,this.packages.push(t)},Hm.prototype.registerType=function(t,i){var o=ja((t=Ae({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:Ae(t.meta||{})})).name,i.prefix),s=o.name,a={};_e(t.properties,pl(function(l){var c=ja(l.name,o.prefix),u=c.name;JB(l.type)||(l.type=ja(l.type,c.prefix).name),Ae(l,{ns:c,name:u}),a[u]=l},this)),Ae(t,{ns:o,name:s,propertiesByName:a}),_e(t.extends,pl(function(l){var c=ja(l,o.prefix),u=this.typeMap[c.name];u.traits=u.traits||[],u.traits.push(s)},this)),this.definePackage(t,i),this.typeMap[s]=t},Hm.prototype.mapTypes=function(t,i,o){var s=JB(t.name)?{name:t.name}:this.typeMap[t.name],a=this;function l(p,h){var v=ja(p,JB(p)?"":t.prefix);a.mapTypes(v,i,h)}function c(p){return l(p,!0)}if(!s)throw new Error("unknown type <"+t.name+">");_e(s.superClass,o?c:function u(p){return l(p,!1)}),i(s,!o),_e(s.traits,c)},Hm.prototype.getEffectiveDescriptor=function(t){var i=ja(t),o=new kc(i);this.mapTypes(i,function(a,l){o.addTrait(a,l)});var s=o.build();return this.definePackage(s,s.allTypes[s.allTypes.length-1].$pkg),s},Hm.prototype.definePackage=function(t,i){this.properties.define(t,"$pkg",{value:i})},sy.prototype.set=function(t,i,o){if(!oa(i)||!i.length)throw new TypeError("property name must be a non-empty string");var s=this.getProperty(t,i),a=s&&s.name;!function xFe(t){return typeof t>"u"}(o)?s?a in t?t[a]=o:doe(t,s,o):t.$attrs[ej(i)]=o:s?delete t[a]:delete t.$attrs[ej(i)]},sy.prototype.get=function(t,i){var o=this.getProperty(t,i);if(!o)return t.$attrs[ej(i)];var s=o.name;return!t[s]&&o.isMany&&doe(t,o,[]),t[s]},sy.prototype.define=function(t,i,o){if(!o.writable){var s=o.value;delete(o=Ae({},o,{get:function(){return s}})).value}Object.defineProperty(t,i,o)},sy.prototype.defineDescriptor=function(t,i){this.define(t,"$descriptor",{value:i})},sy.prototype.defineModel=function(t,i){this.define(t,"$model",{value:i})},sy.prototype.getProperty=function(t,i){var o=this.model,s=o.getPropertyDescriptor(t,i);if(s)return s;if(i.includes(":"))return null;const a=o.config.strict;if(typeof a<"u"){const l=new TypeError(`unknown property <${i}> on <${t.$type}>`);if(a)throw l;typeof console<"u"&&console.warn(l)}return null},fu.prototype.create=function(t,i){var o=this.getType(t);if(!o)throw new Error("unknown type <"+t+">");return new o(i)},fu.prototype.getType=function(t){var i=this.typeCache,o=oa(t)?t:t.ns.name,s=i[o];return s||(t=this.registry.getEffectiveDescriptor(o),s=i[o]=this.factory.createType(t)),s},fu.prototype.createAny=function(t,i,o){var s=ja(t),a={$type:t,$instanceOf:function(c){return c===this.$type},get:function(c){return this[c]},set:function(c,u){tX(this,[c],u)}};return this.properties.defineDescriptor(a,{name:t,isGeneric:!0,ns:{prefix:s.prefix,localName:s.localName,uri:i}}),this.properties.defineModel(a,this),this.properties.define(a,"get",{enumerable:!1,writable:!0}),this.properties.define(a,"set",{enumerable:!1,writable:!0}),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),_e(o,function(c,u){Oo(c)&&void 0!==c.value?a[c.name]=c.value:a[u]=c}),a},fu.prototype.getPackage=function(t){return this.registry.getPackage(t)},fu.prototype.getPackages=function(){return this.registry.getPackages()},fu.prototype.getElementDescriptor=function(t){return t.$descriptor},fu.prototype.hasType=function(t,i){return void 0===i&&(i=t,t=this),i in t.$model.getElementDescriptor(t).allTypesByName},fu.prototype.getPropertyDescriptor=function(t,i){return this.getElementDescriptor(t).propertiesByName[i]},fu.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var poe=String.fromCharCode,wFe=Object.prototype.hasOwnProperty,SFe=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,s6={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function CFe(t,i,o,s){return s?wFe.call(s6,s)?s6[s]:"&"+s+";":poe(i||parseInt(o,16))}function ay(t){return t.length>3&&-1!==t.indexOf("&")?t.replace(SFe,CFe):t}Object.keys(s6).forEach(function(t){s6[t.toUpperCase()]=s6[t]});var hoe="non-whitespace outside of root node";function w5(t){return new Error(t)}function moe(t){return"missing namespace for prefix <"+t+">"}function $9(t){return{get:t,enumerable:!0}}function PFe(t){var o,i={};for(o in t)i[o]=t[o];return i}function tj(t){return t+"$uri"}function goe(){return{line:0,column:0}}function kFe(t){throw t}function voe(t){if(!this)return new voe(t);var o,s,a,l,u,p,h,v,R,i=t&&t.proxy,c=kFe,y=goe,E=!1,S=!1,D=null,k=!1;function L($){$ instanceof Error||($=w5($)),D=$,c($,y)}function N($){u&&($ instanceof Error||($=w5($)),u($,y))}this.on=function($,q){if("function"!=typeof q)throw w5("required args <name, cb>");switch($){case"openTag":s=q;break;case"text":o=q;break;case"closeTag":a=q;break;case"error":c=q;break;case"warn":u=q;break;case"cdata":l=q;break;case"attention":v=q;break;case"question":h=q;break;case"comment":p=q;break;default:throw w5("unsupported event: "+$)}return this},this.ns=function($){if(typeof $>"u"&&($={}),"object"!=typeof $)throw w5("required args <nsMap={}>");var ee,q={};for(ee in $)q[ee]=$[ee];return q["http://www.w3.org/2001/XMLSchema-instance"]="xsi",S=!0,R=q,this},this.parse=function($){if("string"!=typeof $)throw w5("required args <xml=string>");return D=null,function B($){var ae,Fe,bt,Et,Ct,Ft,pe,U,Se,Me,et,q=S?[]:null,ee=S?function OFe(t){var o,s,i={};for(o in t)i[s=t[o]]=s,i[tj(s)]=o;return i}(R):null,te=[],ne=0,he=!1,we=!1,fe=0,ye=0,Te="",Be=0;function Pn(){if(null!==et)return et;var ei,wl,Fo,y0e,d1,Qo,tp,gi,C0,bn,pi,wu=S&&ee.xmlns,S0=S&&E?[]:null,Qi=Be,Ns=Te,Uf=Ns.length,W5={},b0e={};e:for(;Qi<Uf;Qi++)if(C0=!1,bn=Ns.charCodeAt(Qi),!(32===bn||bn<14&&bn>8)){for((bn<65||bn>122||bn>90&&bn<97)&&95!==bn&&58!==bn&&(N("illegal first char attribute name"),C0=!0),pi=Qi+1;pi<Uf;pi++)if(!((bn=Ns.charCodeAt(pi))>96&&bn<123||bn>64&&bn<91||bn>47&&bn<59||46===bn||45===bn||95===bn)){if(32===bn||bn<14&&bn>8){N("missing attribute value"),Qi=pi;continue e}if(61===bn)break;N("illegal attribute name char"),C0=!0}if("xmlns:xmlns"===(gi=Ns.substring(Qi,pi))&&(N("illegal declaration of xmlns"),C0=!0),34===(bn=Ns.charCodeAt(pi+1)))-1===(pi=Ns.indexOf('"',Qi=pi+2))&&-1!==(pi=Ns.indexOf("'",Qi))&&(N("attribute value quote missmatch"),C0=!0);else if(39===bn)-1===(pi=Ns.indexOf("'",Qi=pi+2))&&-1!==(pi=Ns.indexOf('"',Qi))&&(N("attribute value quote missmatch"),C0=!0);else for(N("missing attribute value quotes"),C0=!0,pi+=1;pi<Uf&&!(32===(bn=Ns.charCodeAt(pi+1))||bn<14&&bn>8);pi++);for(-1===pi&&(N("missing closing quotes"),pi=Uf,C0=!0),C0||(Qo=Ns.substring(Qi,pi)),Qi=pi;pi+1<Uf&&!(32===(bn=Ns.charCodeAt(pi+1))||bn<14&&bn>8);pi++)Qi===pi&&(N("illegal character after attribute end"),C0=!0);if(Qi=pi+1,C0)continue e;if(gi in b0e){N("attribute <"+gi+"> already defined");continue}if(b0e[gi]=!0,!S){W5[gi]=Qo;continue}if(E){if(null!==(d1="xmlns"===gi?"xmlns":120===gi.charCodeAt(0)&&"xmlns:"===gi.substr(0,6)?gi.substr(6):null)){if(ei=ay(Qo),wl=tj(d1),!(tp=R[ei])){if("xmlns"===d1||wl in ee&&ee[wl]!==ei)do{tp="ns"+ne++}while(typeof ee[tp]<"u");else tp=d1;R[ei]=tp}ee[d1]!==tp&&(y0e||(ee=PFe(ee),y0e=!0),ee[d1]=tp,"xmlns"===d1&&(ee[tj(tp)]=ei,wu=tp),ee[wl]=ei),W5[gi]=Qo;continue}S0.push(gi,Qo);continue}if(-1===(bn=gi.indexOf(":"))){W5[gi]=Qo;continue}if(!(Fo=ee[gi.substring(0,bn)])){N(moe(gi.substring(0,bn)));continue}"xsi:type"===(gi=wu===Fo?gi.substr(bn+1):Fo+gi.substr(bn))&&(-1!==(bn=Qo.indexOf(":"))?(Fo=Qo.substring(0,bn),Qo=(Fo=ee[Fo]||Fo)+Qo.substring(bn)):Qo=wu+":"+Qo),W5[gi]=Qo}if(E)for(Qi=0,Uf=S0.length;Qi<Uf;Qi++){if(gi=S0[Qi++],Qo=S0[Qi],-1!==(bn=gi.indexOf(":"))){if(!(Fo=ee[gi.substring(0,bn)])){N(moe(gi.substring(0,bn)));continue}"xsi:type"===(gi=wu===Fo?gi.substr(bn+1):Fo+gi.substr(bn))&&(-1!==(bn=Qo.indexOf(":"))?(Fo=Qo.substring(0,bn),Qo=(Fo=ee[Fo]||Fo)+Qo.substring(bn)):Qo=wu+":"+Qo)}W5[gi]=Qo}return et=W5}for(y=function Ti(){for(var Qi,Ns,ei=/(\r\n|\r|\n)/g,wl=0,Fo=0,wu=0,S0=ye;fe>=wu&&(Qi=ei.exec($))&&!((S0=Qi[0].length+Qi.index)>fe);)wl+=1,wu=S0;return-1==fe?(Fo=S0,Ns=$.substring(ye)):0===ye?Ns=$.substring(ye,fe):(Fo=fe-wu,Ns=-1==ye?$.substring(fe):$.substring(fe,ye+1)),{data:Ns,line:wl,column:Fo}},i&&(Me=Object.create({},{name:$9(function(){return U}),originalName:$9(function(){return Se}),attrs:$9(Pn),ns:$9(function(){return ee})}));-1!==ye;){if(-1===(fe=60===$.charCodeAt(ye)?ye:$.indexOf("<",ye)))return te.length?L("unexpected end of file"):0===ye?L("missing start tag"):void(ye<$.length&&$.substring(ye).trim()&&N(hoe));if(ye!==fe)if(te.length){if(o&&(o($.substring(ye,fe),ay,y),k))return}else if($.substring(ye,fe).trim()&&(N(hoe),k))return;if(33===(Ct=$.charCodeAt(fe+1))){if(91===(Et=$.charCodeAt(fe+2))&&"CDATA["===$.substr(fe+3,6)){if(-1===(ye=$.indexOf("]]>",fe)))return L("unclosed cdata");if(l&&(l($.substring(fe+9,ye),y),k))return;ye+=3;continue}if(45===Et&&45===$.charCodeAt(fe+3)){if(-1===(ye=$.indexOf("--\x3e",fe)))return L("unclosed comment");if(p&&(p($.substring(fe+4,ye),ay,y),k))return;ye+=3;continue}}if(63!==Ct){for(Fe=fe+1;;Fe++){if(Ft=$.charCodeAt(Fe),isNaN(Ft))return ye=-1,L("unclosed tag");if(34===Ft)Fe=-1!==(Et=$.indexOf('"',Fe+1))?Et:Fe;else if(39===Ft)Fe=-1!==(Et=$.indexOf("'",Fe+1))?Et:Fe;else if(62===Ft){ye=Fe;break}}if(33!==Ct){if(et={},47===Ct){if(he=!1,we=!0,!te.length)return L("missing open tag");if(Fe=U=te.pop(),$.substring(fe+2,Et=fe+2+Fe.length)!==Fe)return L("closing tag mismatch");for(;Et<ye;Et++)if(!(32===(Ct=$.charCodeAt(Et))||Ct>8&&Ct<14))return L("close tag")}else{if(47===$.charCodeAt(ye-1)?(Fe=U=$.substring(fe+1,ye-1),he=!0,we=!0):(Fe=U=$.substring(fe+1,ye),he=!0,we=!1),!(Ct>96&&Ct<123||Ct>64&&Ct<91||95===Ct||58===Ct))return L("illegal first char nodeName");for(Et=1,bt=Fe.length;Et<bt;Et++)if(!((Ct=Fe.charCodeAt(Et))>96&&Ct<123||Ct>64&&Ct<91||Ct>47&&Ct<59||45===Ct||95===Ct||46==Ct)){if(32===Ct||Ct<14&&Ct>8){U=Fe.substring(0,Et),et=null;break}return L("invalid nodeName")}we||te.push(U)}if(S){if(ae=ee,he&&(we||q.push(ae),null===et&&(E=-1!==Fe.indexOf("xmlns",Et))&&(Be=Et,Te=Fe,Pn(),E=!1)),Se=U,-1!==(Ct=U.indexOf(":"))){if(!(pe=ee[U.substring(0,Ct)]))return L("missing namespace on <"+Se+">");U=U.substr(Ct+1)}else pe=ee.xmlns;pe&&(U=pe+":"+U)}if(he&&(Be=Et,Te=Fe,s&&(i?s(Me,ay,we,y):s(U,Pn,ay,we,y),k)))return;if(we){if(a&&(a(i?Me:U,ay,he,y),k))return;S&&(ee=he?ae:q.pop())}ye+=1}else{if(v&&(v($.substring(fe,ye+1),ay,y),k))return;ye+=1}}else{if(-1===(ye=$.indexOf("?>",fe)))return L("unclosed question");if(h&&(h($.substring(fe,ye+2),y),k))return;ye+=2}}}($),y=goe,k=!1,D},this.stop=function(){k=!0}}function yoe(t){return t.xml&&"lowerCase"===t.xml.tagAlias}var MFe={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},V9="xsi:type";function boe(t){return t.xml&&t.xml.serialize}function _oe(t){return boe(t)===V9}function Eoe(t,i){return yoe(i)?t.prefix+":"+function AFe(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t.localName):t.name}function Um(t){return new Error(t)}function Mf(t){return t.$descriptor}function LFe(t){Ae(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(i){this.references.push(i)},this.addElement=function(i){if(!i)throw Um("expected element");var l,o=this.elementsById,a=Mf(i).idProperty;if(a&&(l=i.get(a.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(l))throw new Error("illegal ID <"+l+">");if(o[l])throw Um("duplicate ID <"+l+">");o[l]=i}},this.addWarning=function(i){this.warnings.push(i)}}function a6(){}function nj(){}function S5(){}function l6(t,i){this.property=t,this.context=i}function rj(t,i){this.element=i,this.propertyDesc=t}function z9(){}function $a(t,i,o){this.model=t,this.type=t.getType(i),this.context=o}function ij(t,i,o){$a.call(this,t,i,o)}function C5(t,i,o){this.model=t,this.context=o}function oj(t){t instanceof fu&&(t={model:t}),Ae(this,{lax:!1},t)}a6.prototype.handleEnd=function(){},a6.prototype.handleText=function(){},a6.prototype.handleNode=function(){},(nj.prototype=Object.create(a6.prototype)).handleNode=function(){return this},(S5.prototype=Object.create(a6.prototype)).handleText=function(t){this.body=(this.body||"")+t},(l6.prototype=Object.create(S5.prototype)).handleNode=function(t){if(this.element)throw Um("expected no sub nodes");return this.element=this.createReference(t),this},l6.prototype.handleEnd=function(){this.element.id=this.body},l6.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}},(rj.prototype=Object.create(S5.prototype)).handleEnd=function(){var t=this.body||"",i=this.element,o=this.propertyDesc;t=ZB(o.type,t),o.isMany?i.get(o.name).push(t):i.set(o.name,t)},(z9.prototype=Object.create(S5.prototype)).handleNode=function(t){var i=this,o=this.element;return o?i=this.handleChild(t):(o=this.element=this.createElement(t),this.context.addElement(o)),i},($a.prototype=Object.create(z9.prototype)).addReference=function(t){this.context.addReference(t)},$a.prototype.handleText=function(t){if(!Mf(this.element).bodyProperty)throw Um("unexpected body text <"+t+">");S5.prototype.handleText.call(this,t)},$a.prototype.handleEnd=function(){var t=this.body,i=this.element,s=Mf(i).bodyProperty;s&&void 0!==t&&(t=ZB(s.type,t),i.set(s.name,t))},$a.prototype.createElement=function(t){var u,i=t.attributes,o=this.type,s=Mf(o),a=this.context,l=new o({}),c=this.model;return _e(i,function(p,h){var v=s.propertiesByName[h];v&&v.isReference?v.isMany?_e(p.split(" "),function(E){a.addReference({element:l,property:v.ns.name,id:E})}):a.addReference({element:l,property:v.ns.name,id:p}):(v?p=ZB(v.type,p):"xmlns"!==h&&(u=ja(h,s.ns.prefix),c.getPackage(u.prefix)&&a.addWarning({message:"unknown attribute <"+h+">",element:l,property:h,value:p})),l.set(h,p))}),l},$a.prototype.getPropertyForNode=function(t){var p,h,o=ja(t.name),a=this.model,l=Mf(this.type),u=l.propertiesByName[o.name];if(u&&!u.isAttr)return _oe(u)&&(p=t.attributes[V9])?(p=function NFe(t,i){var o=ja(t);return function IFe(t,i){var o=t.name,s=t.localName,a=i.xml&&i.xml.typePrefix;return a&&0===s.indexOf(a)?t.prefix+":"+s.slice(a.length):o}(o,i.getPackage(o.prefix))}(p,a),Ae({},u,{effectiveType:Mf(h=a.getType(p)).name})):u;var v=a.getPackage(o.prefix);if(v){if(p=Eoe(o,v),h=a.getType(p),u=Kn(l.properties,function(y){return!y.isVirtual&&!y.isReference&&!y.isAttribute&&h.hasType(y.type)}))return Ae({},u,{effectiveType:Mf(h).name})}else if(u=Kn(l.properties,function(y){return!y.isReference&&!y.isAttribute&&"Element"===y.type}))return u;throw Um("unrecognized element <"+o.name+">")},$a.prototype.toString=function(){return"ElementDescriptor["+Mf(this.type).name+"]"},$a.prototype.valueHandler=function(t,i){return new rj(t,i)},$a.prototype.referenceHandler=function(t){return new l6(t,this.context)},$a.prototype.handler=function(t){return"Element"===t?new C5(this.model,t,this.context):new $a(this.model,t,this.context)},$a.prototype.handleChild=function(t){var i,o,s,a;if(i=this.getPropertyForNode(t),s=this.element,coe(o=i.effectiveType||i.type))return this.valueHandler(i,s);var l=(a=i.isReference?this.referenceHandler(i).handleNode(t):this.handler(o).handleNode(t)).element;return void 0!==l&&(i.isMany?s.get(i.name).push(l):s.set(i.name,l),i.isReference?(Ae(l,{element:s}),this.context.addReference(l)):l.$parent=s),a},(ij.prototype=Object.create($a.prototype)).createElement=function(t){var i=t.name,o=ja(i),a=this.type,l=this.model.getPackage(o.prefix),c=l&&Eoe(o,l)||i;if(!a.hasType(c))throw Um("unexpected element <"+t.originalName+">");return $a.prototype.createElement.call(this,t)},(C5.prototype=Object.create(z9.prototype)).createElement=function(t){var i=t.name,o=ja(i);return this.model.createAny(i,t.ns[o.prefix+"$uri"],t.attributes)},C5.prototype.handleChild=function(t){var i=new C5(this.model,"Element",this.context).handleNode(t),o=this.element,s=i.element;return void 0!==s&&((o.$children=o.$children||[]).push(s),s.$parent=o),i},C5.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},oj.prototype.fromXML=function(t,i,o){var s=i.rootHandler;i instanceof $a?(s=i,i={}):"string"==typeof i?(s=this.handler(i),i={}):"string"==typeof s&&(s=this.handler(s));var a=this.model,l=this.lax,c=new LFe(Ae({},i,{rootHandler:s})),u=new voe({proxy:!0}),p=function FFe(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}();function h(q,ee,ae){var te=ee(),ne=te.line,he=te.column,we=te.data;"<"===we.charAt(0)&&-1!==we.indexOf(" ")&&(we=we.slice(0,we.indexOf(" "))+">");var fe="unparsable content "+(we?we+" ":"")+"detected\n\tline: "+ne+"\n\tcolumn: "+he+"\n\tnested error: "+q.message;if(ae)return c.addWarning({message:fe,error:q}),!0;throw Um(fe)}function v(q,ee){return h(q,ee,!0)}s.context=c,p.push(s);var S=/^<\?xml /i,D=/ encoding="([^"]+)"/i,k=/^utf-8$/i;function N(q,ee){try{p.peek().handleText(q)}catch(ae){v(ae,ee)}}var $=a.getPackages().reduce(function(q,ee){return q[ee.uri]=ee.prefix,q},{"http://www.w3.org/XML/1998/namespace":"xml"});return u.ns($).on("openTag",function(q,ee,ae,te){var ne=q.attrs||{},he=Object.keys(ne).reduce(function(fe,ye){var Fe=ee(ne[ye]);return fe[ye]=Fe,fe},{});!function L(q,ee){var ae=p.peek();try{p.push(ae.handleNode(q))}catch(te){h(te,ee,l)&&p.push(new nj)}}({name:q.name,originalName:q.originalName,attributes:he,ns:q.ns},te)}).on("question",function R(q){if(S.test(q)){var ee=D.exec(q),ae=ee&&ee[1];!ae||k.test(ae)||c.addWarning({message:"unsupported document encoding <"+ae+">, falling back to UTF-8"})}}).on("closeTag",function E(){p.pop().handleEnd()}).on("cdata",N).on("text",function(q,ee,ae){!function B(q,ee){q.trim()&&N(q,ee)}(ee(q),ae)}).on("error",h).on("warn",v),new Promise(function(q,ee){var ae;try{u.parse(t),function y(){var ae,te,q=c.elementsById,ee=c.references;for(ae=0;te=ee[ae];ae++){var ne=te.element,he=q[te.id],we=Mf(ne).propertiesByName[te.property];if(he||c.addWarning({message:"unresolved reference <"+te.id+">",element:te.element,property:te.property,value:te.id}),we.isMany){var fe=ne.get(we.name),ye=fe.indexOf(te);-1===ye&&(ye=fe.length),he?fe[ye]=he:fe.splice(ye,1)}else ne.set(we.name,he)}}()}catch(fe){ae=fe}var te=s.element;!ae&&!te&&(ae=Um("failed to parse document as <"+s.type.$descriptor.name+">"));var ne=c.warnings,he=c.references,we=c.elementsById;return ae?(ae.warnings=ne,ee(ae)):q({rootElement:te,elementsById:we,references:he,warnings:ne})})},oj.prototype.handler=function(t){return new ij(this.model,t)};var jFe=/<|>|'|"|&|\n\r|\n/g,xoe=/<|>|&/g;function $Fe(t){var i={},o={},s={},a=[],l=[];this.byUri=function(c){return o[c]||t&&t.byUri(c)},this.add=function(c,u){o[c.uri]=c,u?a.push(c):l.push(c),this.mapPrefix(c.prefix,c.uri)},this.uriByPrefix=function(c){return i[c||"xmlns"]},this.mapPrefix=function(c,u){i[c||"xmlns"]=u},this.getNSKey=function(c){return void 0!==c.prefix?c.uri+"|"+c.prefix:c.uri},this.logUsed=function(c){var u=c.uri,p=this.getNSKey(c);s[p]=this.byUri(u),t&&t.logUsed(c)},this.getUsed=function(c){var p=this;return[].concat(a,l).filter(function u(v){var y=p.getNSKey(v);return s[y]})}}function zFe(t,i){return yoe(i)?function VFe(t){return t.charAt(0).toLowerCase()+t.slice(1)}(t):t}function woe(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function Soe(t){return oa(t)?t:(t.prefix?t.prefix+":":"")+t.localName}var WFe={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},XFe={"<":"lt",">":"gt","&":"amp"};function Coe(t,i,o){return(t=oa(t)?t:""+t).replace(i,function(s){return"&"+o[s]+";"})}function sj(t){this.tagName=t}function ly(){}function aj(t){this.tagName=t}function no(t,i){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=i}function H9(t,i){no.call(this,t,i)}function JFe(){this.value="",this.write=function(t){this.value+=t}}function eBe(t,i){var o=[""];this.append=function(s){return t.write(s),this},this.appendNewLine=function(){return i&&t.write("\n"),this},this.appendIndent=function(){return i&&t.write(o.join("  ")),this},this.indent=function(){return o.push(""),this},this.unindent=function(){return o.pop(),this}}function tBe(t){return t=Ae({format:!1,preamble:!0},t||{}),{toXML:function i(o,s){var a=s||new JFe,l=new eBe(a,t.format);if(t.preamble&&l.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new no).build(o).serializeTo(l),!s)return a.value}}}function U9(t,i){fu.call(this,t,i)}sj.prototype.build=function(t){return this.element=t,this},sj.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},ly.prototype.serializeValue=ly.prototype.serializeTo=function(t){t.append(this.escape?function KFe(t){return Coe(t,xoe,XFe)}(this.value):this.value)},ly.prototype.build=function(t,i){return this.value=i,"String"===t.type&&-1!==i.search(xoe)&&(this.escape=!0),this},woe(aj,ly),aj.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()},no.prototype.build=function(t){this.element=t;var s,a,i=t.$descriptor,o=this.propertyDescriptor,l=i.isGeneric;return s=l?this.parseGeneric(t):this.parseNsAttributes(t),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(i),this.tagName=this.addTagName(this.ns),l||(a=function qFe(t){return On(t.$descriptor.properties,function(o){var s=o.name;if(o.isVirtual||!Gl(t,s))return!1;var a=t[s];return a!==o.default&&null!==a&&(!o.isMany||a.length)})}(t),this.parseAttributes(function QFe(t){return On(t,function(i){return i.isAttr})}(a)),this.parseContainments(function ZFe(t){return On(t,function(i){return!i.isAttr})}(a))),this.parseGenericAttributes(t,s),this},no.prototype.nsTagName=function(t){return function UFe(t,i){return Ae(i.isGeneric?{localName:i.ns.localName}:{localName:zFe(i.ns.localName,i.$pkg)},t)}(this.logNamespaceUsed(t.ns),t)},no.prototype.nsPropertyTagName=function(t){return function GFe(t,i){return Ae({localName:i.ns.localName},t)}(this.logNamespaceUsed(t.ns),t)},no.prototype.isLocalNs=function(t){return t.uri===this.ns.uri},no.prototype.nsAttributeName=function(t){var i;if(i=oa(t)?ja(t):t.ns,t.inherited)return{localName:i.localName};var o=this.logNamespaceUsed(i);return this.getNamespaces().logUsed(o),this.isLocalNs(o)?{localName:i.localName}:Ae({localName:i.localName},o)},no.prototype.parseGeneric=function(t){var i=this,o=this.body,s=[];return _e(t,function(a,l){"$body"===l?o.push((new ly).build({type:"String"},a)):"$children"===l?_e(a,function(u){o.push(new no(i).build(u))}):0!==l.indexOf("$")&&i.parseNsAttribute(t,l,a)&&s.push({name:l,value:a})}),s},no.prototype.parseNsAttribute=function(t,i,o){var l,s=t.$model,a=ja(i);if("xmlns"===a.prefix&&(l={prefix:a.localName,uri:o}),!a.prefix&&"xmlns"===a.localName&&(l={uri:o}),!l)return{name:i,value:o};if(s&&s.getPackage(o))this.logNamespace(l,!0,!0);else{var c=this.logNamespaceUsed(l,!0);this.getNamespaces().logUsed(c)}},no.prototype.parseNsAttributes=function(t,i){var o=this,a=[];return _e(t.$attrs,function(l,c){var u=o.parseNsAttribute(t,c,l);u&&a.push(u)}),a},no.prototype.parseGenericAttributes=function(t,i){var o=this;_e(i,function(s){if(s.name!==V9)try{o.addAttribute(o.nsAttributeName(s.name),s.value)}catch(a){console.warn("missing namespace information for ",s.name,"=",s.value,"on",t,a)}})},no.prototype.parseContainments=function(t){var i=this,o=this.body,s=this.element;_e(t,function(a){var l=s.get(a.name),c=a.isReference;if(a.isMany||(l=[l]),a.isBody)o.push((new ly).build(a,l[0]));else if(coe(a.type))_e(l,function(v){o.push(new aj(i.addTagName(i.nsPropertyTagName(a))).build(a,v))});else if(c)_e(l,function(v){o.push(new sj(i.addTagName(i.nsPropertyTagName(a))).build(v))});else{var p=_oe(a),h=function RFe(t){return"property"===boe(t)}(a);_e(l,function(v){var y;y=p?new H9(i,a):h?new no(i,a):new no(i),o.push(y.build(v))})}})},no.prototype.getNamespaces=function(t){var s,i=this.namespaces,o=this.parent;return i||(s=o&&o.getNamespaces(),t||!s?this.namespaces=i=new $Fe(s):i=s),i},no.prototype.logNamespace=function(t,i,o){var s=this.getNamespaces(o),a=t.uri,l=t.prefix;return(!s.byUri(a)||o)&&s.add(t,i),s.mapPrefix(l,a),t},no.prototype.logNamespaceUsed=function(t,i){var u,p,h,s=this.element.$model,a=this.getNamespaces(i),l=t.prefix,c=t.uri;if(!l&&!c)return{localName:t.localName};if(h=MFe[l]||s&&(s.getPackage(l)||{}).uri,!(c=c||h||a.uriByPrefix(l)))throw new Error("no namespace uri given for prefix <"+l+">");if(!(t=a.byUri(c))){for(u=l,p=1;a.uriByPrefix(u);)u=l+"_"+p++;t=this.logNamespace({prefix:u,uri:c},h===c)}return l&&a.mapPrefix(l,c),t},no.prototype.parseAttributes=function(t){var i=this,o=this.element;_e(t,function(s){var a=o.get(s.name);if(s.isReference)if(s.isMany){var l=[];_e(a,function(c){l.push(c.id)}),a=l.join(" ")}else a=a.id;i.addAttribute(i.nsAttributeName(s),a)})},no.prototype.addTagName=function(t){var i=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(i),Soe(t)},no.prototype.addAttribute=function(t,i){var o=this.attrs;oa(i)&&(i=function YFe(t){return Coe(t,jFe,WFe)}(i));var s=Lx(o,function(l){return l.name.localName===t.localName&&l.name.uri===t.uri&&l.name.prefix===t.prefix}),a={name:t,value:i};-1!==s?o.splice(s,1,a):o.push(a)},no.prototype.serializeAttributes=function(t){var i=this.attrs,o=this.namespaces;o&&(i=function HFe(t){return t.getUsed().filter(function(i){return"xml"!==i.prefix}).map(function(i){return{name:"xmlns"+(i.prefix?":"+i.prefix:""),value:i.uri}})}(o).concat(i)),_e(i,function(s){t.append(" ").append(Soe(s.name)).append('="').append(s.value).append('"')})},no.prototype.serializeTo=function(t){var i=this.body[0],o=i&&i.constructor!==ly;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(i?">":" />"),i&&(o&&t.appendNewLine().indent(),_e(this.body,function(s){s.serializeTo(t)}),o&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},woe(H9,no),H9.prototype.parseNsAttributes=function(t){var i=no.prototype.parseNsAttributes.call(this,t),o=t.$descriptor;if(o.name===this.propertyDescriptor.type)return i;var s=this.typeNs=this.nsTagName(o);this.getNamespaces().logUsed(this.typeNs);var a=t.$model.getPackage(s.uri),l=a.xml&&a.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(V9),(s.prefix?s.prefix+":":"")+l+o.ns.localName),i},H9.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri},(U9.prototype=Object.create(fu.prototype)).fromXML=function(t,i,o){oa(i)||(o=i,i="bpmn:Definitions");var s=new oj(Ae({model:this,lax:!0},o)),a=s.handler(i);return s.fromXML(t,a)},U9.prototype.toXML=function(t,i){var o=new tBe(i);return new Promise(function(s,a){try{return s({xml:o.toXML(t)})}catch(c){return a(c)}})};var UBe={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function GBe(t,i){return new U9(Ae({},UBe,t),i)}function ha(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}var qBe="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function Doe(t){Gl(t,"di")||Object.defineProperty(t,"di",{enumerable:!1,get:function(){throw new Error(qBe)}})}function _l(t,i){return t.$instanceOf(i)}function XBe(t,i){var o={},s=[],a={};function l(Te,Be){return function(et){Te(et,Be)}}function c(Te){o[Te.id]=Te}function v(Te,Be){try{var et=a[Te.id]&&function p(Te,Be){if(Te.gfx)throw new Error(i("already rendered {element}",{element:ha(Te)}));return t.element(Te,a[Te.id],Be)}(Te,Be);return c(Te),et}catch(Pn){y(Pn.message,{element:Te,error:Pn}),console.error(i("failed to import {element}",{element:ha(Te)})),console.error(Pn)}}function y(Te,Be){t.error(Te,Be)}var E=this.registerDi=function(Be){var et=Be.bpmnElement;et?a[et.id]?y(i("multiple DI elements defined for {element}",{element:ha(et)}),{element:et}):(a[et.id]=Be,Doe(et)):y(i("no bpmnElement referenced in {element}",{element:ha(Be)}),{element:Be})};function k(Te){E(Te)}this.handleDefinitions=function(Be,et){var Pn=Be.diagrams;if(et&&-1===Pn.indexOf(et))throw new Error(i("diagram not part of bpmn:Definitions"));if(!et&&Pn&&Pn.length&&(et=Pn[0]),!et)throw new Error(i("no diagram to display"));a={},function S(Te){!function D(Te){E(Te),_e(Te.planeElement,k)}(Te.plane)}(et);var Ti=et.plane;if(!Ti)throw new Error(i("no plane for {element}",{element:ha(et)}));var ei=Ti.bpmnElement;if(!ei){if(ei=function WBe(t){return Kn(t.rootElements,function(i){return _l(i,"bpmn:Process")||_l(i,"bpmn:Collaboration")})}(Be),!ei)throw new Error(i("no process or collaboration to display"));y(i("correcting missing bpmnElement on {plane} to {rootElement}",{plane:ha(Ti),rootElement:ha(ei)})),Ti.bpmnElement=ei,E(Ti)}var wl=function h(Te,Be){return t.root(Te,a[Te.id],Be)}(ei,Ti);if(_l(ei,"bpmn:Process")||_l(ei,"bpmn:SubProcess"))L(ei,wl);else{if(!_l(ei,"bpmn:Collaboration"))throw new Error(i("unsupported bpmnElement for {plane}: {rootElement}",{plane:ha(Ti),rootElement:ha(ei)}));(function Se(Te,Be){_e(Te.participants,l(U,Be)),ne(Te.artifacts,Be),s.push(function(){!function $(Te,Be){_e(Te,l(B,Be))}(Te.messageFlows,Be)})})(ei,wl),function N(Te,Be){var et=On(Te,function(Pn){return!function u(Te){return o[Te.id]}(Pn)&&_l(Pn,"bpmn:Process")&&Pn.laneSets});et.forEach(l(L,Be))}(Be.rootElements,wl)}R(s)};var R=this.handleDeferred=function(){for(;s.length;)s.shift()()};function L(Te,Be){Ft(Te,Be),he(Te.ioSpecification,Be),ne(Te.artifacts,Be),c(Te)}function B(Te,Be){v(Te,Be)}function q(Te,Be){v(Te,Be)}function ee(Te,Be){v(Te,Be)}function ae(Te,Be){v(Te,Be)}function te(Te,Be){v(Te,Be)}function ne(Te,Be){_e(Te,function(et){_l(et,"bpmn:Association")?s.push(function(){te(et,Be)}):te(et,Be)})}function he(Te,Be){Te&&(_e(Te.dataInputs,l(ee,Be)),_e(Te.dataOutputs,l(ae,Be)))}var we=this.handleSubProcess=function(Be,et){Ft(Be,et),ne(Be.artifacts,et)};function fe(Te,Be){var et=v(Te,Be);_l(Te,"bpmn:SubProcess")&&we(Te,et||Be),_l(Te,"bpmn:Activity")&&he(Te.ioSpecification,Be),s.push(function(){_e(Te.dataInputAssociations,l(q,Be)),_e(Te.dataOutputAssociations,l(q,Be))})}function bt(Te,Be){s.push(function(){var et=v(Te,Be);Te.childLaneSet&&Et(Te.childLaneSet,et||Be),function Me(Te){_e(Te.flowNodeRef,function(Be){var et=Be.get("lanes");et&&et.push(Te)})}(Te)})}function Et(Te,Be){_e(Te.lanes,l(bt,Be))}function Ft(Te,Be){(function pe(Te,Be){_e(Te,function(et){_l(et,"bpmn:SequenceFlow")?s.push(function(){!function ye(Te,Be){v(Te,Be)}(et,Be)}):_l(et,"bpmn:BoundaryEvent")?s.unshift(function(){fe(et,Be)}):_l(et,"bpmn:FlowNode")?fe(et,Be):_l(et,"bpmn:DataObject")||(_l(et,"bpmn:DataStoreReference")||_l(et,"bpmn:DataObjectReference")?function Fe(Te,Be){v(Te,Be)}(et,Be):y(i("unrecognized flowElement {element} in context {context}",{element:ha(et),context:Be?ha(Be.businessObject):"null"}),{element:et,context:Be}))})})(Te.flowElements,Be),Te.laneSets&&function Ct(Te,Be){_e(Te,l(Et,Be))}(Te.laneSets,Be)}function U(Te,Be){var et=v(Te,Be),Pn=Te.processRef;Pn&&L(Pn,et||Be)}}function YBe(t,i,o){var s,a,l,c,p=[];function h(v,y){var S=new XBe({root:function(R,L){return s.add(R,L)},element:function(R,L,N){return s.add(R,L,N)},error:function(R,L){p.push({message:R,context:L})}},l),D=function KBe(t,i){if(i){var a,o=i.plane.bpmnElement,s=o;!j(o,"bpmn:Process")&&!j(o,"bpmn:Collaboration")&&(s=function QBe(t){for(var i=t;i;){if(j(i,"bpmn:Process"))return i;i=i.$parent}}(o)),a=j(s,"bpmn:Collaboration")?s:Kn(t.rootElements,function(h){if(j(h,"bpmn:Collaboration"))return Kn(h.participants,function(v){return v.processRef===s})});var l=[s];a&&(l=ko(a.participants,function(h){return h.processRef}),l.push(a));var c=Toe(l),u=[i],p=[o];return _e(t.diagrams,function(h){var v=h.plane.bpmnElement;-1!==c.indexOf(v)&&-1===p.indexOf(v)&&(u.push(h),p.push(v))}),u}}(v,y=y||v.diagrams&&v.diagrams[0]);if(!D)throw new Error(l("no diagram to display"));_e(D,function(R){S.handleDefinitions(v,R)});var k=y.plane.bpmnElement.id;c.setRootElement(c.findRoot(k+"_plane")||c.findRoot(k))}return new Promise(function(v,y){try{return s=t.get("bpmnImporter"),a=t.get("eventBus"),l=t.get("translate"),c=t.get("canvas"),a.fire("import.render.start",{definitions:i}),h(i,o),a.fire("import.render.complete",{error:void 0,warnings:p}),v({warnings:p})}catch(E){return E.warnings=p,y(E)}})}function Toe(t){var i=[];return _e(t,function(o){o&&(i.push(o),i=i.concat(Toe(o.flowElements)))}),i}var Wd,Poe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Ooe={verticalAlign:"middle"},koe={color:"#404040"},JBe={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},eje={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},tje={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},nje='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+Poe+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function ro(t){t=Ae({},sje,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),function lje(t){const s=ui('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Poe+"</a>");Ws(er("svg",s),Ooe),Ws(s,koe,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),t.appendChild(s),fn.bind(s,"click",function(a){(function ije(){Wd||(function rje(){Ws(Wd=ui(nje),JBe),Ws(er("svg",Wd),Ooe),Ws(er(".backdrop",Wd),eje),Ws(er(".notice",Wd),tje),Ws(er(".link",Wd),koe,{margin:"15px 20px 15px 10px",alignSelf:"center"})}(),Ra.bind(Wd,".backdrop","click",function(t){document.body.removeChild(Wd)})),document.body.appendChild(Wd)})(),a.preventDefault()})}(this._container),this._init(this._container,this._moddle,t)}function G9(t,i){return t.warnings=i,t}jt(ro,x5),ro.prototype.importXML=function(){var t=Ye(function*(o,s){const a=this;let c=[];try{let u;o=this._emit("import.parse.start",{xml:o})||o;try{u=yield this._moddle.fromXML(o,"bpmn:Definitions")}catch(S){throw this._emit("import.parse.complete",{error:S}),S}let p=u.rootElement;const h=u.references,y=u.elementsById;c=c.concat(u.warnings),p=this._emit("import.parse.complete",function l(u){return a.get("eventBus").createEvent(u)}({error:null,definitions:p,elementsById:y,references:h,warnings:c}))||p;const E=yield this.importDefinitions(p,s);return c=c.concat(E.warnings),this._emit("import.done",{error:null,warnings:c}),{warnings:c}}catch(u){let p=u;throw c=c.concat(p.warnings||[]),G9(p,c),p=function oje(t){const o=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return o&&(t.message="unparsable content <"+o[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+o[2]),t}(p),this._emit("import.done",{error:p,warnings:p.warnings}),p}});return function i(o,s){return t.apply(this,arguments)}}(),ro.prototype.importDefinitions=function(){var t=Ye(function*(o,s){return this._setDefinitions(o),{warnings:(yield this.open(s)).warnings}});return function i(o,s){return t.apply(this,arguments)}}(),ro.prototype.open=function(){var t=Ye(function*(o){const s=this._definitions;let a=o;if(!s){const c=new Error("no XML imported");throw G9(c,[]),c}if("string"==typeof o&&(a=function aje(t,i){return i&&Kn(t.diagrams,function(o){return o.id===i})||null}(s,o),!a)){const c=new Error("BPMNDiagram <"+o+"> not found");throw G9(c,[]),c}try{this.clear()}catch(c){throw G9(c,[]),c}const{warnings:l}=yield YBe(this,s,a);return{warnings:l}});return function i(o){return t.apply(this,arguments)}}(),ro.prototype.saveXML=function(){var t=Ye(function*(o){o=o||{};let a,l,s=this._definitions;try{if(!s)throw new Error("no definitions loaded");s=this._emit("saveXML.start",{definitions:s})||s,l=(yield this._moddle.toXML(s,o)).xml,l=this._emit("saveXML.serialized",{xml:l})||l}catch(u){a=u}const c=a?{error:a}:{xml:l};if(this._emit("saveXML.done",c),a)throw a;return c});return function i(o){return t.apply(this,arguments)}}(),ro.prototype.saveSVG=function(){var t=Ye(function*(){let o,s;this._emit("saveSVG.start");try{const a=this.get("canvas"),l=a.getActiveLayer(),c=er("defs",a._svg),u=Lie(l),p=c?"<defs>"+Lie(c)+"</defs>":"",h=l.getBBox();o='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+p+u+"</svg>"}catch(a){s=a}if(this._emit("saveSVG.done",{error:s,svg:o}),s)throw s;return{svg:o}});return function i(){return t.apply(this,arguments)}}(),ro.prototype._setDefinitions=function(t){this._definitions=t},ro.prototype.getModules=function(){return this._modules},ro.prototype.clear=function(){this.getDefinitions()&&x5.prototype.clear.call(this)},ro.prototype.destroy=function(){x5.prototype.destroy.call(this),kd(this._container)},ro.prototype.on=function(t,i,o,s){return this.get("eventBus").on(t,i,o,s)},ro.prototype.off=function(t,i){this.get("eventBus").off(t,i)},ro.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),"string"==typeof t&&(t=er(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},ro.prototype.getDefinitions=function(){return this._definitions},ro.prototype.detach=function(){const t=this._container,i=t.parentNode;i&&(this._emit("detach",{}),i.removeChild(t))},ro.prototype._init=function(t,i,o){const s=o.modules||this.getModules(o),c=[].concat([{bpmnjs:["value",this],moddle:["value",i]}],s,o.additionalModules||[]),u=Ae(Od(o,["additionalModules"]),{canvas:Ae({},o.canvas,{container:t}),modules:c});x5.call(this,u),o&&o.container&&this.attachTo(o.container)},ro.prototype._emit=function(t,i){return this.get("eventBus").fire(t,i)},ro.prototype._createContainer=function(t){const i=ui('<div class="bjs-container"></div>');return Ws(i,{width:Moe(t.width),height:Moe(t.height),position:t.position}),i},ro.prototype._createModdle=function(t){return new GBe(Ae({},this._moddleExtensions,t.moddleExtensions))},ro.prototype._modules=[];const sje={width:"100%",height:"100%",position:"relative"};function Moe(t){return t+(mn(t)?"px":"")}function c6(t){ro.call(this,t),this.on("import.parse.complete",function(i){i.error||this._collectIds(i.definitions,i.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}jt(c6,ro),c6.prototype._createModdle=function(t){var i=ro.prototype._createModdle.call(this,t);return i.ids=new DL([32,36,1]),i},c6.prototype._collectIds=function(t,i){var a,s=t.$model.ids;for(a in s.clear(),i)s.claim(a,i[a])};var u6="hsl(225, 10%, 15%)";function Xd(t,i){return ff(t.eventDefinitions,function(o){return o.$type===i})}function mr(t,i){var o=Pr(t);return o.get("color:background-color")||o.get("bioc:fill")||i||"white"}function St(t,i){var o=Pr(t);return o.get("color:border-color")||o.get("bioc:stroke")||i||u6}function d6(t,i,o){var a=Pr(t).get("label");return a&&a.get("color:color")||i||St(t,o)}var mje=new DL,D5=.95;function cy(t,i,o,s,a,l,c){Tf.call(this,i,c);var u=t&&t.defaultFillColor,p=t&&t.defaultStrokeColor,h=t&&t.defaultLabelColor,v=mje.next(),y={};function E(pe){return o.computeStyle(pe,{strokeLinecap:"round",strokeLinejoin:"round",stroke:u6,strokeWidth:2,fill:"white"})}function S(pe){return o.computeStyle(pe,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:u6,strokeWidth:2})}function D(pe,U){var{ref:Se={x:0,y:0},scale:Me=1,element:Te}=U,Be=sn("marker",{id:pe,viewBox:"0 0 20 20",refX:Se.x,refY:Se.y,markerWidth:20*Me,markerHeight:20*Me,orient:"auto"});yn(Be,Te);var et=er("defs",a._svg);et||(et=sn("defs"),yn(a._svg,et)),yn(et,Be),y[pe]=Be}function k(pe){return pe.replace(/[^0-9a-zA-Z]+/g,"_")}function R(pe,U,Se){var Me=pe+"-"+k(U)+"-"+k(Se)+"-"+v;return y[Me]||function L(pe,U,Se,Me){"sequenceflow-end"===U&&D(pe,{element:sn("path",{d:"M 1 5 L 11 10 L 1 15 Z",...E({fill:Me,stroke:Me,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),"messageflow-start"===U&&D(pe,{element:sn("circle",{cx:6,cy:6,r:3.5,...E({fill:Se,stroke:Me,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),"messageflow-end"===U&&D(pe,{element:sn("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...E({fill:Se,stroke:Me,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),"association-start"===U&&D(pe,{element:sn("path",{d:"M 11 5 L 1 10 L 11 15",...S({fill:"none",stroke:Me,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),"association-end"===U&&D(pe,{element:sn("path",{d:"M 1 5 L 11 10 L 1 15",...S({fill:"none",stroke:Me,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),"conditional-flow-marker"===U&&D(pe,{element:sn("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...E({fill:Se,stroke:Me})}),ref:{x:-1,y:10},scale:.5}),"conditional-default-flow-marker"===U&&D(pe,{element:sn("path",{d:"M 6 4 L 10 16",...E({stroke:Me})}),ref:{x:0,y:10},scale:.5})}(Me,pe,U,Se),"url(#"+Me+")"}function N(pe,U,Se,Me,Te){Oo(Me)&&(Te=Me,Me=0),Me=Me||0,"none"===(Te=E(Te)).fill&&delete Te.fillOpacity;var Pn=sn("circle",{cx:U/2,cy:Se/2,r:Math.round((U+Se)/4-Me),...Te});return yn(pe,Pn),Pn}function B(pe,U,Se,Me,Te,Be){Oo(Te)&&(Be=Te,Te=0),Te=Te||0,Be=E(Be);var et=sn("rect",{x:Te,y:Te,width:U-2*Te,height:Se-2*Te,rx:Me,ry:Me,...Be});return yn(pe,et),et}function q(pe,U,Se,Me){var Te=I9(U,Se=S(Se),Me);return yn(pe,Te),Te}function ee(pe,U,Se){return q(pe,U,Se,5)}function ae(pe,U,Se){Se=S(Se);var Me=sn("path",{...Se,d:U});return yn(pe,Me),Me}function te(pe,U,Se,Me){return ae(U,Se,Ae({"data-marker":pe},Me))}function ne(pe){return Et[pe]}function he(pe){return function(U,Se,Me){return ne(pe)(U,Se,Me)}}function we(pe,U){var Se=le(pe),Me=function cje(t){return"bpmn:IntermediateThrowEvent"===t.$type||"bpmn:EndEvent"===t.$type}(Se);return Se.eventDefinitions&&Se.eventDefinitions.length>1?Se.parallelMultiple?ne("bpmn:ParallelMultipleEventDefinition")(U,pe,Me):ne("bpmn:MultipleEventDefinition")(U,pe,Me):Xd(Se,"bpmn:MessageEventDefinition")?ne("bpmn:MessageEventDefinition")(U,pe,Me):Xd(Se,"bpmn:TimerEventDefinition")?ne("bpmn:TimerEventDefinition")(U,pe,Me):Xd(Se,"bpmn:ConditionalEventDefinition")?ne("bpmn:ConditionalEventDefinition")(U,pe):Xd(Se,"bpmn:SignalEventDefinition")?ne("bpmn:SignalEventDefinition")(U,pe,Me):Xd(Se,"bpmn:EscalationEventDefinition")?ne("bpmn:EscalationEventDefinition")(U,pe,Me):Xd(Se,"bpmn:LinkEventDefinition")?ne("bpmn:LinkEventDefinition")(U,pe,Me):Xd(Se,"bpmn:ErrorEventDefinition")?ne("bpmn:ErrorEventDefinition")(U,pe,Me):Xd(Se,"bpmn:CancelEventDefinition")?ne("bpmn:CancelEventDefinition")(U,pe,Me):Xd(Se,"bpmn:CompensateEventDefinition")?ne("bpmn:CompensateEventDefinition")(U,pe,Me):Xd(Se,"bpmn:TerminateEventDefinition")?ne("bpmn:TerminateEventDefinition")(U,pe,Me):null}function fe(pe,U,Se){Se=Ae({size:{width:100}},Se);var Me=l.createText(U||"",Se);return cr(Me).add("djs-label"),yn(pe,Me),Me}function ye(pe,U,Se){return fe(pe,le(U).name,{box:U,align:Se,padding:7,style:{fill:d6(U,h,p)}})}function bt(pe,U,Se){KB(fe(pe,U,{box:{height:30,width:Se.height},align:"center-middle",style:{fill:d6(Se,h,p)}}),0,1*Se.height,270)}var Et=this.handlers={"bpmn:Event":function(pe,U,Se){return"fillOpacity"in Se||(Se.fillOpacity=D5),N(pe,U.width,U.height,Se)},"bpmn:StartEvent":function(pe,U,Se){var Me={fill:mr(U,u),stroke:St(U,p)};le(U).isInterrupting||(Me={strokeDasharray:"6",fill:mr(U,u),stroke:St(U,p)});var Be=ne("bpmn:Event")(pe,U,Me);return(!Se||!1!==Se.renderIcon)&&we(U,pe),Be},"bpmn:MessageEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:U.width,containerHeight:U.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:Se?St(U,p):mr(U,u),stroke:Se?mr(U,u):St(U,p)})},"bpmn:TimerEventDefinition":function(pe,U){var Se=N(pe,U.width,U.height,.2*U.height,{strokeWidth:2,fill:mr(U,u),stroke:St(U,p)});ae(pe,s.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.5}}),{strokeWidth:2,stroke:St(U,p)});for(var Te=0;Te<12;Te++)ae(pe,s.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.5}}),{strokeWidth:1,transform:"rotate("+30*Te+","+U.height/2+","+U.width/2+")",stroke:St(U,p)});return Se},"bpmn:EscalationEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Se?St(U,p):"none",stroke:St(U,p)})},"bpmn:ConditionalEventDefinition":function(pe,U){return ae(pe,s.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:St(U,p)})},"bpmn:LinkEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:Se?St(U,p):"none",stroke:St(U,p)})},"bpmn:ErrorEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:U.width,containerHeight:U.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:Se?St(U,p):"none",stroke:St(U,p)})},"bpmn:CancelEventDefinition":function(pe,U,Se){var Be=ae(pe,s.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:Se?St(U,p):"none",stroke:St(U,p)});return ooe(Be,45),Be},"bpmn:CompensateEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:Se?St(U,p):"none",stroke:St(U,p)})},"bpmn:SignalEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:U.width,containerHeight:U.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Se?St(U,p):"none",stroke:St(U,p)})},"bpmn:MultipleEventDefinition":function(pe,U,Se){return ae(pe,s.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:U.width,containerHeight:U.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:Se?St(U,p):"none"})},"bpmn:ParallelMultipleEventDefinition":function(pe,U){return ae(pe,s.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:U.width,containerHeight:U.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:St(U,p),stroke:St(U,p)})},"bpmn:EndEvent":function(pe,U,Se){var Me=ne("bpmn:Event")(pe,U,{strokeWidth:4,fill:mr(U,u),stroke:St(U,p)});return(!Se||!1!==Se.renderIcon)&&we(U,pe),Me},"bpmn:TerminateEventDefinition":function(pe,U){return N(pe,U.width,U.height,8,{strokeWidth:4,fill:St(U,p),stroke:St(U,p)})},"bpmn:IntermediateEvent":function(pe,U,Se){var Me=ne("bpmn:Event")(pe,U,{strokeWidth:1.5,fill:mr(U,u),stroke:St(U,p)});return N(pe,U.width,U.height,3,{strokeWidth:1.5,fill:mr(U,"none"),stroke:St(U,p)}),(!Se||!1!==Se.renderIcon)&&we(U,pe),Me},"bpmn:IntermediateCatchEvent":he("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":he("bpmn:IntermediateEvent"),"bpmn:Activity":function(pe,U,Se){return"fillOpacity"in(Se=Se||{})||(Se.fillOpacity=D5),B(pe,U.width,U.height,10,Se)},"bpmn:Task":function(pe,U){var Se={fill:mr(U,u),stroke:St(U,p)},Me=ne("bpmn:Activity")(pe,U,Se);return ye(pe,U,"center-middle"),Ct(pe,U),Me},"bpmn:ServiceTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:mr(U,u),stroke:St(U,p)}),ae(pe,s.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:mr(U,u)}),ae(pe,s.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:mr(U,u),stroke:St(U,p)}),Se},"bpmn:UserTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:mr(U,u),stroke:St(U,p)}),ae(pe,s.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:mr(U,u),stroke:St(U,p)}),ae(pe,s.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:St(U,p),stroke:St(U,p)}),Se},"bpmn:ManualTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:mr(U,u),stroke:St(U,p)}),Se},"bpmn:SendTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:St(U,p),stroke:mr(U,u)}),Se},"bpmn:ReceiveTask":function(pe,U){var Te,Se=le(U),Me=ne("bpmn:Task")(pe,U);return Se.instantiate?(N(pe,28,28,4.4,{strokeWidth:1}),Te=s.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Te=s.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),ae(pe,Te,{strokeWidth:1,fill:mr(U,u),stroke:St(U,p)}),Me},"bpmn:ScriptTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return ae(pe,s.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:St(U,p)}),Se},"bpmn:BusinessRuleTask":function(pe,U){var Se=ne("bpmn:Task")(pe,U);return Dt(ae(pe,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:mr(U,"#aaaaaa"),stroke:St(U,p)}),Dt(ae(pe,s.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:St(U,p)}),Se},"bpmn:SubProcess":function(pe,U,Se){Se={fill:mr(U,u),stroke:St(U,p),...Se};var Me=ne("bpmn:Activity")(pe,U,Se),Te=hr(U);return bl(U)&&Dt(Me,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),ye(pe,U,Te?"center-top":"center-middle"),Te?Ct(pe,U):Ct(pe,U,["SubProcessMarker"]),Me},"bpmn:AdHocSubProcess":function(pe,U){return ne("bpmn:SubProcess")(pe,U)},"bpmn:Transaction":function(pe,U){var Se=ne("bpmn:SubProcess")(pe,U,{strokeWidth:1.5}),Me=o.style(["no-fill","no-events"],{stroke:St(U,p),strokeWidth:1.5});return B(pe,U.width,U.height,7,3,Me),Se},"bpmn:CallActivity":function(pe,U){return ne("bpmn:SubProcess")(pe,U,{strokeWidth:5})},"bpmn:Participant":function(pe,U){var Me={fillOpacity:D5,fill:mr(U,u),stroke:St(U,p),strokeWidth:1.5},Te=ne("bpmn:Lane")(pe,U,Me);return hr(U)?(q(pe,[{x:30,y:0},{x:30,y:U.height}],{stroke:St(U,p),strokeWidth:1.5}),bt(pe,le(U).name,U)):fe(pe,le(U).name,{box:U,align:"center-middle",style:{fill:d6(U,h,p)}}),!!le(U).participantMultiplicity&&ne("ParticipantMultiplicityMarker")(pe,U),Te},"bpmn:Lane":function(pe,U,Se){var Me=B(pe,U.width,U.height,0,{fill:mr(U,u),fillOpacity:.35,stroke:St(U,p),strokeWidth:1.5,...Se}),Te=le(U);return"bpmn:Lane"===Te.$type&&bt(pe,Te.name,U),Me},"bpmn:InclusiveGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U);return N(pe,U.width,U.height,.24*U.height,{strokeWidth:2.5,fill:mr(U,u),stroke:St(U,p)}),Se},"bpmn:ExclusiveGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U),Me=s.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:U.width,containerHeight:U.height,position:{mx:.32,my:.3}});return Pr(U).isMarkerVisible&&ae(pe,Me,{strokeWidth:1,fill:St(U,p),stroke:St(U,p)}),Se},"bpmn:ComplexGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U);return ae(pe,s.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:U.width,containerHeight:U.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:St(U,p),stroke:St(U,p)}),Se},"bpmn:ParallelGateway":function(pe,U){var Se=ne("bpmn:Gateway")(pe,U);return ae(pe,s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:U.width,containerHeight:U.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:St(U,p),stroke:St(U,p)}),Se},"bpmn:EventBasedGateway":function(pe,U){var Se=le(U),Me=ne("bpmn:Gateway")(pe,U);N(pe,U.width,U.height,.2*U.height,{strokeWidth:1,fill:"none",stroke:St(U,p)});var Te=Se.eventGatewayType,Be=!!Se.instantiate;if("Parallel"===Te){var Pn=s.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:U.width,containerHeight:U.height,position:{mx:.474,my:.296}});ae(pe,Pn,{strokeWidth:1,fill:"none"})}else"Exclusive"===Te&&(Be||N(pe,U.width,U.height,.26*U.height,{strokeWidth:1,fill:"none",stroke:St(U,p)}),function et(){var Ti=s.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:U.width,containerHeight:U.height,position:{mx:.36,my:.44}});ae(pe,Ti,{strokeWidth:2,fill:mr(U,"none"),stroke:St(U,p)})}());return Me},"bpmn:Gateway":function(pe,U){return function $(pe,U,Se,Me){var Te=U/2,Be=Se/2,Pn=[{x:Te,y:0},{x:U,y:Be},{x:Te,y:Se},{x:0,y:Be}].map(function(ei){return ei.x+","+ei.y}).join(" ");Me=E(Me);var Ti=sn("polygon",{...Me,points:Pn});return yn(pe,Ti),Ti}(pe,U.width,U.height,{fill:mr(U,u),fillOpacity:D5,stroke:St(U,p)})},"bpmn:SequenceFlow":function(pe,U){var et,Se=mr(U,u),Me=St(U,p),Te=ee(pe,U.waypoints,{markerEnd:R("sequenceflow-end",Se,Me),stroke:St(U,p)}),Be=le(U);return U.source&&(et=U.source.businessObject,Be.conditionExpression&&et.$instanceOf("bpmn:Activity")&&Dt(Te,{markerStart:R("conditional-flow-marker",Se,Me)}),et.default&&(et.$instanceOf("bpmn:Gateway")||et.$instanceOf("bpmn:Activity"))&&et.default===Be&&Dt(Te,{markerStart:R("conditional-default-flow-marker",Se,Me)})),Te},"bpmn:Association":function(pe,U,Se){var Me=le(U),Te=mr(U,u),Be=St(U,p);return Se={strokeDasharray:"0, 5",stroke:St(U,p),...Se},("One"===Me.associationDirection||"Both"===Me.associationDirection)&&(Se.markerEnd=R("association-end",Te,Be)),"Both"===Me.associationDirection&&(Se.markerStart=R("association-start",Te,Be)),ee(pe,U.waypoints,Se)},"bpmn:DataInputAssociation":function(pe,U){var Se=mr(U,u),Me=St(U,p);return ne("bpmn:Association")(pe,U,{markerEnd:R("association-end",Se,Me)})},"bpmn:DataOutputAssociation":function(pe,U){var Se=mr(U,u),Me=St(U,p);return ne("bpmn:Association")(pe,U,{markerEnd:R("association-end",Se,Me)})},"bpmn:MessageFlow":function(pe,U){var Se=le(U),Me=Pr(U),Te=mr(U,u),Be=St(U,p),et=ee(pe,U.waypoints,{markerEnd:R("messageflow-end",Te,Be),markerStart:R("messageflow-start",Te,Be),strokeDasharray:"10, 11",strokeWidth:1.5,stroke:St(U,p)});if(Se.messageRef){var Pn=et.getPointAtLength(et.getTotalLength()/2),Ti=s.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Pn.x,y:Pn.y}}),ei={strokeWidth:1};"initiating"===Me.messageVisibleKind?(ei.fill="white",ei.stroke=u6):(ei.fill="#888",ei.stroke="white");var wl=ae(pe,Ti,ei),wu=fe(pe,Se.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:St(U,h)}}),S0=wl.getBBox(),Qi=wu.getBBox();KB(wu,Pn.x-Qi.width/2,Pn.y+S0.height/2+10,0)}return et},"bpmn:DataObject":function(pe,U){var Me=ae(pe,s.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.474,my:.296}}),{fill:mr(U,u),fillOpacity:D5,stroke:St(U,p)});return function uje(t){var i=t.dataObjectRef;return t.isCollection||i&&i.isCollection}(le(U))&&function Ft(pe,U){ae(pe,s.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:.33,my:(U.height-18)/U.height}}),{strokeWidth:2})}(pe,U),Me},"bpmn:DataObjectReference":he("bpmn:DataObject"),"bpmn:DataInput":function(pe,U){var Se=s.getRawPath("DATA_ARROW"),Me=ne("bpmn:DataObject")(pe,U);return ae(pe,Se,{strokeWidth:1}),Me},"bpmn:DataOutput":function(pe,U){var Se=s.getRawPath("DATA_ARROW"),Me=ne("bpmn:DataObject")(pe,U);return ae(pe,Se,{strokeWidth:1,fill:u6}),Me},"bpmn:DataStoreReference":function(pe,U){return ae(pe,s.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:mr(U,u),fillOpacity:D5,stroke:St(U,p)})},"bpmn:BoundaryEvent":function(pe,U,Se){var Te=le(U).cancelActivity,Be={strokeWidth:1.5,fill:mr(U,u),stroke:St(U,p)};Te||(Be.strokeDasharray="6");var et={...Be,fillOpacity:1},Pn={...Be,fill:"none"},Ti=ne("bpmn:Event")(pe,U,et);return N(pe,U.width,U.height,3,Pn),(!Se||!1!==Se.renderIcon)&&we(U,pe),Ti},"bpmn:Group":function(pe,U){return B(pe,U.width,U.height,10,{stroke:St(U,p),strokeWidth:1.5,strokeDasharray:"10,6,0,6",fill:"none",pointerEvents:"none"})},label:function(pe,U){return function Fe(pe,U){var Se={width:90,height:30,x:U.width/2+U.x,y:U.height/2+U.y};return fe(pe,Tc(U),{box:Se,fitBox:!0,style:Ae({},l.getExternalStyle(),{fill:d6(U,h,p)})})}(pe,U)},"bpmn:TextAnnotation":function(pe,U){var Se=B(pe,U.width,U.height,0,0,{fill:"none",stroke:"none"});return ae(pe,s.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:0,my:0}}),{stroke:St(U,p)}),fe(pe,le(U).text||"",{box:U,align:"left-top",padding:7,style:{fill:d6(U,h,p)}}),Se},ParticipantMultiplicityMarker:function(pe,U){te("participant-multiplicity",pe,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:U.width/2/U.width,my:(U.height-15)/U.height}}),{strokeWidth:2,fill:mr(U,u),stroke:St(U,p)})},SubProcessMarker:function(pe,U){Xl(B(pe,14,14,0,{strokeWidth:1,fill:mr(U,u),stroke:St(U,p)}),U.width/2-7.5,U.height-20),te("sub-process",pe,s.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2-7.5)/U.width,my:(U.height-20)/U.height}}),{fill:mr(U,u),stroke:St(U,p)})},ParallelMarker:function(pe,U,Se){te("parallel",pe,s.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.parallel)/U.width,my:(U.height-20)/U.height}}),{fill:mr(U,u),stroke:St(U,p)})},SequentialMarker:function(pe,U,Se){te("sequential",pe,s.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.seq)/U.width,my:(U.height-19)/U.height}}),{fill:mr(U,u),stroke:St(U,p)})},CompensationMarker:function(pe,U,Se){te("compensation",pe,s.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.compensation)/U.width,my:(U.height-13)/U.height}}),{strokeWidth:1,fill:mr(U,u),stroke:St(U,p)})},LoopMarker:function(pe,U,Se){te("loop",pe,s.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.loop)/U.width,my:(U.height-7)/U.height}}),{strokeWidth:1.5,fill:mr(U,u),stroke:St(U,p),strokeMiterlimit:.5})},AdhocMarker:function(pe,U,Se){te("adhoc",pe,s.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:U.width,containerHeight:U.height,position:{mx:(U.width/2+Se.adhoc)/U.width,my:(U.height-15)/U.height}}),{strokeWidth:1,fill:St(U,p),stroke:St(U,p)})}};function Ct(pe,U,Se){var Be,Me=le(U),Te=Se&&-1!==Se.indexOf("SubProcessMarker");Be=Te?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},_e(Se,function(Ti){ne(Ti)(pe,U,Be)}),Me.isForCompensation&&ne("CompensationMarker")(pe,U,Be),"bpmn:AdHocSubProcess"===Me.$type&&ne("AdhocMarker")(pe,U,Be);var et=Me.loopCharacteristics,Pn=et&&et.isSequential;et&&(void 0===Pn&&ne("LoopMarker")(pe,U,Be),!1===Pn&&ne("ParallelMarker")(pe,U,Be),!0===Pn&&ne("SequentialMarker")(pe,U,Be))}this._drawPath=ae,this._renderer=ne}jt(cy,Tf),cy.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],cy.prototype.canRender=function(t){return j(t,"bpmn:BaseElement")},cy.prototype.drawShape=function(t,i){return this._renderer(i.type)(t,i)},cy.prototype.drawConnection=function(t,i){return this._renderer(i.type)(t,i)},cy.prototype.getShapePath=function(t){return j(t,"bpmn:Event")?function dje(t){var s=t.width/2;return iy([["M",t.x+t.width/2,t.y+t.height/2],["m",0,-s],["a",s,s,0,1,1,0,2*s],["a",s,s,0,1,1,0,-2*s],["z"]])}(t):j(t,"bpmn:Activity")?function pje(t,i){var a=t.width,l=t.height;return iy([["M",t.x+i,t.y],["l",a-2*i,0],["a",i,i,0,0,1,i,i],["l",0,l-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-a,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-l],["a",i,i,0,0,1,i,-i],["z"]])}(t,10):j(t,"bpmn:Gateway")?function fje(t){var l=t.width/2,c=t.height/2;return iy([["M",t.x+l,t.y],["l",l,c],["l",-l,c],["l",-l,-c],["z"]])}(t):function hje(t){var s=t.width;return iy([["M",t.x,t.y],["l",s,0],["l",0,t.height],["l",-s,0],["z"]])}(t)};var yje=0,bje={width:150,height:50};function xje(t,i){var o;i.textContent=t;try{var s,a=""===t;return i.textContent=a?"dummy":t,s={width:(o=i.getBBox()).width+2*o.x,height:o.height},a&&(s.width=0),s}catch{return{width:0,height:0}}}function wje(t,i,o){for(var l,s=t.shift(),a=s;;){if((l=xje(a,o)).width=a?l.width:0," "===a||""===a||l.width<Math.round(i)||a.length<2)return Sje(t,a,s,l);a=Dje(a,l.width,i)}}function Sje(t,i,o,s){if(i.length<o.length){var a=o.slice(i.length).trim();t.unshift(a)}return{width:s.width,height:s.height,text:i}}var Roe="\xad";function Dje(t,i,o){var s=Math.max(t.length*(o/i),1),a=function Cje(t,i){var s,o=t.split(/(\s|-|\u00AD)/g),a=[],l=0;if(o.length>1)for(;s=o.shift();){if(!(s.length+l<i)){("-"===s||s===Roe)&&a.pop();break}a.push(s),l+=s.length}var c=a[a.length-1];return c&&c===Roe&&(a[a.length-1]="-"),a.join("")}(t,s);return a||(a=t.slice(0,Math.max(Math.round(s-1),1))),a}function W9(t){this._config=Ae({},{size:bje,padding:yje,style:{},align:"center-top"},t||{})}function Aoe(t){var i=Ae({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},t&&t.defaultStyle||{}),o=parseInt(i.fontSize,10)-1,s=Ae({},i,{fontSize:o},t&&t.externalStyle||{}),a=new W9({style:i});this.getExternalLabelBounds=function(l,c){var u=a.getDimensions(c,{box:{width:90,height:30},style:s});return{x:Math.round(l.x+l.width/2-u.width/2),y:Math.round(l.y),width:Math.ceil(u.width),height:Math.ceil(u.height)}},this.getTextAnnotationBounds=function(l,c){var u=a.getDimensions(c,{box:l,style:i,align:"left-top",padding:5});return{x:l.x,y:l.y,width:l.width,height:Math.max(30,Math.round(u.height))}},this.createText=function(l,c){return a.createText(l,c||{})},this.getDefaultStyle=function(){return i},this.getExternalStyle=function(){return s}}W9.prototype.createText=function(t,i){return this.layoutText(t,i).element},W9.prototype.getDimensions=function(t,i){return this.layoutText(t,i).dimensions},W9.prototype.layoutText=function(t,i){var o=Ae({},this._config.size,i.box),s=Ae({},this._config.style,i.style),a=function _je(t){var i=t.split("-");return{horizontal:i[0]||"center",vertical:i[1]||"top"}}(i.align||this._config.align),l=function Eje(t){return Oo(t)?Ae({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}(void 0!==i.padding?i.padding:this._config.padding),c=i.fitBox||!1,u=function Pje(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}(s),p=t.split(/\u00AD?\r?\n/),h=[],v=o.width-l.left-l.right,y=sn("text");Dt(y,{x:0,y:0}),Dt(y,s);var E=function Tje(){var t=document.getElementById("helper-svg");return t||(Dt(t=sn("svg"),{id:"helper-svg"}),Ws(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}();for(yn(E,y);p.length;)h.push(wje(p,v,y));"middle"===a.vertical&&(l.top=l.bottom=0);var S=dl(h,function(N,B,$){return N+(u||B.height)},0)+l.top+l.bottom,D=dl(h,function(N,B,$){return B.width>N?B.width:N},0),k=l.top;"middle"===a.vertical&&(k+=(o.height-S)/2),k-=(u||h[0].height)/4;var R=sn("text");return Dt(R,s),_e(h,function(N){var B;switch(k+=u||N.height,a.horizontal){case"left":B=l.left;break;case"right":B=(c?D:v)-l.right-N.width;break;default:B=Math.max(((c?D:v)-N.width)/2+l.left,0)}var $=sn("tspan");Dt($,{x:B,y:k}),$.textContent=N.text,yn(R,$)}),mo(y),{dimensions:{width:D,height:S},element:R}},Aoe.$inject=["config.textRenderer"];var Aje=/\{([^{}]+)\}/g,Ije=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const Fje={__init__:["bpmnRenderer"],bpmnRenderer:["type",cy],textRenderer:["type",Aoe],pathMap:["type",function Rje(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(i){return this.pathMap[i].d},this.getScaledPath=function(i,o){var a,l,s=this.pathMap[i];o.abspos?(a=o.abspos.x,l=o.abspos.y):(a=o.containerWidth*o.position.mx,l=o.containerHeight*o.position.my);var c={};if(o.position){for(var u=o.containerHeight/s.height*o.yScaleFactor,p=o.containerWidth/s.width*o.xScaleFactor,h=0;h<s.heightElements.length;h++)c["y"+h]=s.heightElements[h]*u;for(var v=0;v<s.widthElements.length;v++)c["x"+v]=s.widthElements[v]*p}var y=function Lje(t,i){return String(t).replace(Aje,function(o,s){return function Nje(t,i,o){var s=o;return i.replace(Ije,function(a,l,c,u,p){l=l||u,s&&(l in s&&(s=s[l]),"function"==typeof s&&p&&(s=s()))}),s=(null==s||s==o?t:s)+""}(o,s,i)})}(s.d,{mx:a,my:l,e:c});return y}}]},X9={translate:["value",function Bje(t,i){return i=i||{},t.replace(/{([^}]+)}/g,function(o,s){return i[s]||"{"+s+"}"})}]};function Y9(t,i,o){return Ae({id:t.id,type:t.$type,businessObject:t,di:i},o)}function jje(t,i,o){var s=t.waypoint;return!s||s.length<2?[wn(i),wn(o)]:s.map(function(a){return{x:a.x,y:a.y}})}function Ioe(t,i,o,s){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:ha(o),referenced:ha(i),property:s}))}function Rf(t,i,o,s,a,l){this._eventBus=t,this._canvas=i,this._elementFactory=o,this._elementRegistry=s,this._translate=a,this._textRenderer=l}Rf.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Rf.prototype.add=function(t,i,o){var s,c,a=this._translate;if(j(i,"bpmndi:BPMNPlane")){var u=j(t,"bpmn:SubProcess")?{id:t.id+"_plane"}:{};s=this._elementFactory.createRoot(Y9(t,i,u)),this._canvas.addRootElement(s)}else if(j(i,"bpmndi:BPMNShape")){var p=!hr(t,i),h=function Vje(t){return j(t,"bpmn:Group")}(t),v=i.bounds;s=this._elementFactory.createShape(Y9(t,i,{collapsed:p,hidden:o&&(o.hidden||o.collapsed),x:Math.round(v.x),y:Math.round(v.y),width:Math.round(v.width),height:Math.round(v.height),isFrame:h})),j(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,s),j(t,"bpmn:Lane")&&(c=0),j(t,"bpmn:DataStoreReference")&&(function $je(t,i){var o=i.x,s=i.y;return o>=t.x&&o<=t.x+t.width&&s>=t.y&&s<=t.y+t.height}(o,wn(v))||(o=this._canvas.findRoot(o))),this._canvas.addShape(s,o,c)}else{if(!j(i,"bpmndi:BPMNEdge"))throw new Error(a("unknown di {di} for element {semantic}",{di:ha(i),semantic:ha(t)}));var y=this._getSource(t),E=this._getTarget(t);s=this._elementFactory.createConnection(Y9(t,i,{hidden:o&&(o.hidden||o.collapsed),source:y,target:E,waypoints:jje(i,y,E)})),j(t,"bpmn:DataAssociation")&&(o=this._canvas.findRoot(o)),this._canvas.addConnection(s,o,c)}return Zv(t)&&Tc(s)&&this.addLabel(t,i,s),this._eventBus.fire("bpmnElement.added",{element:s}),s},Rf.prototype._attachBoundary=function(t,i){var o=this._translate,s=t.attachedToRef;if(!s)throw new Error(o("missing {semantic}#attachedToRef",{semantic:ha(t)}));var a=this._elementRegistry.get(s.id),l=a&&a.attachers;if(!a)throw Ioe(o,t,s,"attachedToRef");i.host=a,l||(a.attachers=l=[]),-1===l.indexOf(i)&&l.push(i)},Rf.prototype.addLabel=function(t,i,o){var s,a,l;return s=function _Ce(t,i){var o,s,a,l=t.label;return l&&l.bounds?(a=l.bounds,s={width:Math.max(Vw.width,a.width),height:a.height},o={x:a.x+a.width/2,y:a.y+a.height/2}):(o=CL(i),s=Vw),Ae({x:o.x-s.width/2,y:o.y-s.height/2},s)}(i,o),(a=Tc(o))&&(s=this._textRenderer.getExternalLabelBounds(s,a)),l=this._elementFactory.createLabel(Y9(t,i,{id:t.id+"_label",labelTarget:o,type:"label",hidden:o.hidden||!Tc(o),x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)})),this._canvas.addShape(l,o.parent)},Rf.prototype._getConnectedElement=function(t,i){var o,s,a=t.$type,l=this._translate;if(s=t[i+"Ref"],"source"===i&&"bpmn:DataInputAssociation"===a&&(s=s&&s[0]),("source"===i&&"bpmn:DataOutputAssociation"===a||"target"===i&&"bpmn:DataInputAssociation"===a)&&(s=t.$parent),o=s&&this._getElement(s))return o;throw s?Ioe(l,t,s,i+"Ref"):new Error(l("{semantic}#{side} Ref not specified",{semantic:ha(t),side:i}))},Rf.prototype._getSource=function(t){return this._getConnectedElement(t,"source")},Rf.prototype._getTarget=function(t){return this._getConnectedElement(t,"target")},Rf.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};const zje={__depends__:[Fje,{__depends__:[X9],bpmnImporter:["type",Rf]}]};function Noe(t){!t||"function"!=typeof t.stopPropagation||t.stopPropagation()}function T5(t){return t.originalEvent||t.srcEvent}function cj(t){Noe(t),Noe(T5(t))}function Gm(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function Loe(){return/mac/i.test(navigator.platform)}function uj(t,i){return(T5(t)||t).button===i}function qm(t){return uj(t,0)}function P5(t){var i=T5(t)||t;return!!qm(t)&&(Loe()?i.metaKey:i.ctrlKey)}function dj(t){var i=T5(t)||t;return qm(t)&&i.shiftKey}function Uje(t){return!0}function K9(t){return qm(t)||function Hje(t){return uj(t,1)}(t)}function Boe(t,i,o){var s=this;function a(te,ne,he){var we,fe;(function u(te,ne){return!(h[te]||qm)(ne)})(te,ne)||(he?fe=i.getGraphics(he):(we=ne.delegateTarget||ne.target)&&(he=i.get(fe=we)),fe&&he&&!1===t.fire(te,{element:he,gfx:fe,originalEvent:ne})&&(ne.stopPropagation(),ne.preventDefault()))}var l={};function c(te){return l[te]}var p={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":Uje,"element.mousedown":K9,"element.mouseup":K9,"element.click":K9,"element.dblclick":K9};function E(te,ne,he,we){var fe=l[he]=function(ye){a(he,ye)};we&&(h[he]=we),fe.$delegate=Ra.bind(te,"svg, .djs-element",ne,fe)}function S(te,ne,he){var we=c(he);we&&Ra.unbind(te,ne,we.$delegate)}t.on("canvas.destroy",function(te){!function k(te){_e(p,function(ne,he){S(te,he,ne)})}(te.svg)}),t.on("canvas.init",function(te){!function D(te){_e(p,function(ne,he){E(te,he,ne)})}(te.svg)}),t.on(["shape.added","connection.added"],function(te){t.fire("interactionEvents.createHit",{element:te.element,gfx:te.gfx})}),t.on(["shape.changed","connection.changed"],500,function(te){t.fire("interactionEvents.updateHit",{element:te.element,gfx:te.gfx})}),t.on("interactionEvents.createHit",500,function(te){s.createDefaultHit(te.element,te.gfx)}),t.on("interactionEvents.updateHit",function(te){s.updateDefaultHit(te.element,te.gfx)});var R=q("djs-hit djs-hit-stroke"),L=q("djs-hit djs-hit-click-stroke"),$={all:q("djs-hit djs-hit-all"),"click-stroke":L,stroke:R,"no-move":q("djs-hit djs-hit-no-move")};function q(te,ne){return ne=Ae({stroke:"white",strokeWidth:15},ne||{}),o.cls(te,["no-fill","no-border"],ne)}function ee(te,ne){var he=$[ne];if(!he)throw new Error("invalid hit type <"+ne+">");return Dt(te,he),te}function ae(te,ne){yn(te,ne)}this.removeHits=function(te){_e(kD(".djs-hit",te),mo)},this.createDefaultHit=function(te,ne){var he=te.waypoints,we=te.isFrame;return he?this.createWaypointsHit(ne,he):this.createBoxHit(ne,we?"stroke":"all",{width:te.width,height:te.height})},this.createWaypointsHit=function(te,ne){var he=I9(ne);return ee(he,"stroke"),ae(te,he),he},this.createBoxHit=function(te,ne,he){he=Ae({x:0,y:0},he);var we=sn("rect");return ee(we,ne),Dt(we,he),ae(te,we),we},this.updateDefaultHit=function(te,ne){var he=er(".djs-hit",ne);if(he)return te.waypoints?Bie(he,te.waypoints):Dt(he,{width:te.width,height:te.height}),he},this.fire=a,this.triggerMouseEvent=function v(te,ne,he){var we=p[te];if(!we)throw new Error("unmapped DOM event name <"+te+">");return a(we,ne,he)},this.mouseHandler=c,this.registerEvent=E,this.unregisterEvent=S}Boe.$inject=["eventBus","elementRegistry","styles"];const Q9={__init__:["interactionEvents"],interactionEvents:["type",Boe]};function uy(t,i){this._eventBus=t,this.offset=5;var o=i.cls("djs-outline",["no-fill"]),s=this;function a(l){var c=sn("rect");return Dt(c,Ae({x:0,y:0,rx:4,width:100,height:100},o)),c}t.on(["shape.added","shape.changed"],500,function(l){var c=l.element,u=l.gfx,p=er(".djs-outline",u);p||yn(u,p=s.getOutline(c)||a()),s.updateShapeOutline(p,c)}),t.on(["connection.added","connection.changed"],function(l){var c=l.element,u=l.gfx,p=er(".djs-outline",u);p||yn(u,p=a()),s.updateConnectionOutline(p,c)})}uy.prototype.updateShapeOutline=function(t,i){var o=!1,s=this._getProviders();s.length&&_e(s,function(a){o=o||a.updateOutline(i,t)}),o||Dt(t,{x:-this.offset,y:-this.offset,width:i.width+2*this.offset,height:i.height+2*this.offset})},uy.prototype.updateConnectionOutline=function(t,i){var o=Ao(i);Dt(t,{x:o.x-this.offset,y:o.y-this.offset,width:o.width+2*this.offset,height:o.height+2*this.offset})},uy.prototype.registerProvider=function(t,i){i||(i=t,t=1e3),this._eventBus.on("outline.getProviders",t,function(o){o.providers.push(i)})},uy.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},uy.prototype.getOutline=function(t){var i;return _e(this._getProviders(),function(s){Br(s.getOutline)&&(i=i||s.getOutline(t))}),i},uy.$inject=["eventBus","styles","elementRegistry"];const joe={__init__:["outline"],outline:["type",uy]};function O5(t,i){this._eventBus=t,this._canvas=i,this._selectedElements=[];var o=this;t.on(["shape.remove","connection.remove"],function(s){o.deselect(s.element)}),t.on(["diagram.clear","root.set"],function(s){o.select(null)})}function pj(t,i,o){this._canvas=t;var s=this;function a(c,u){t.addMarker(c,u)}function l(c,u){t.removeMarker(c,u)}this._multiSelectionBox=null,i.on("element.hover",function(c){a(c.element,"hover")}),i.on("element.out",function(c){l(c.element,"hover")}),i.on("selection.changed",function(c){var h=c.oldSelection,v=c.newSelection;_e(h,function(y){-1===v.indexOf(y)&&function u(y){l(y,"selected")}(y)}),_e(v,function(y){-1===h.indexOf(y)&&function p(y){a(y,"selected")}(y)}),s._updateSelectionOutline(v)}),i.on("element.changed",function(c){o.isSelected(c.element)&&s._updateSelectionOutline(o.get())})}function zoe(t,i,o,s){t.on("create.end",500,function(a){var l=a.context,u=l.elements,h=(l.hints||{}).autoSelect;if(l.canExecute){if(!1===h)return;Rn(h)?i.select(h):i.select(u.filter(Xje))}}),t.on("connect.end",500,function(a){var c=a.context.connection;c&&i.select(c)}),t.on("shape.move.end",500,function(a){var l=a.previousSelection||[],c=s.get(a.context.shape.id);Kn(l,function(p){return c.id===p.id})||i.select(c)}),t.on("element.click",function(a){if(qm(a)){var l=a.element;l===o.getRootElement()&&(l=null);var c=i.isSelected(l),u=i.get().length>1,p=P5(a)||dj(a);if(c&&u)return p?i.deselect(l):i.select(l);c?i.deselect(l):i.select(l,p)}})}function Xje(t){return!t.hidden}O5.$inject=["eventBus","canvas"],O5.prototype.deselect=function(t){var i=this._selectedElements,o=i.indexOf(t);if(-1!==o){var s=i.slice();i.splice(o,1),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:i})}},O5.prototype.get=function(){return this._selectedElements},O5.prototype.isSelected=function(t){return-1!==this._selectedElements.indexOf(t)},O5.prototype.select=function(t,i){var o=this._selectedElements,s=o.slice();Rn(t)||(t=t?[t]:[]);var a=this._canvas,l=a.getRootElement();t=t.filter(function(c){var u=a.findRoot(c);return l===u}),i?_e(t,function(c){-1===o.indexOf(c)&&o.push(c)}):this._selectedElements=o=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:o})},pj.$inject=["canvas","eventBus","selection"],pj.prototype._updateSelectionOutline=function(t){var i=this._canvas.getLayer("selectionOutline");k9(i);var o=t.length>1;if(cr(this._canvas.getContainer())[o?"add":"remove"]("djs-multi-select"),o){var a=function Wje(t){return{x:t.x-6,y:t.y-6,width:t.width+12,height:t.height+12}}(Ao(t)),l=sn("rect");Dt(l,Ae({rx:3},a)),cr(l).add("djs-selection-outline"),yn(i,l)}},zoe.$inject=["eventBus","selection","canvas","elementRegistry"];const Yd={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Q9,joe],selection:["type",O5],selectionVisuals:["type",pj],selectionBehavior:["type",zoe]};function fj(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(1e9*Math.random())+"-"}fj.prototype.next=function(){return this._prefix+ ++this._counter};var Yje=new fj("ov");function As(t,i,o,s){this._eventBus=i,this._canvas=o,this._elementRegistry=s,this._ids=Yje,this._overlayDefaults=Ae({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function Qje(t){var i=ui('<div class="djs-overlay-container" />');return Ws(i,{position:"absolute",width:0,height:0}),t.insertBefore(i,t.firstChild),i}(o.getContainer()),this._init()}function Hoe(t,i,o){Ws(t,{left:i+"px",top:o+"px"})}function J9(t,i){t.style.display=!1===i?"none":""}function Uoe(t,i){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(o){t.style[o+"transform"]=i})}As.$inject=["config.overlays","eventBus","canvas","elementRegistry"],As.prototype.get=function(t){if(oa(t)&&(t={id:t}),oa(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var i=this._getOverlayContainer(t.element,!0);return i?t.type?On(i.overlays,d0({type:t.type})):i.overlays.slice():[]}return t.type?On(this._overlays,d0({type:t.type})):t.id?this._overlays[t.id]:null},As.prototype.add=function(t,i,o){if(Oo(i)&&(o=i,i=null),t.id||(t=this._elementRegistry.get(t)),!o.position)throw new Error("must specifiy overlay position");if(!o.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var s=this._ids.next();return o=Ae({},this._overlayDefaults,o,{id:s,type:i,element:t,html:o.html}),this._addOverlay(o),s},As.prototype.remove=function(t){var i=this.get(t)||[];Rn(i)||(i=[i]);var o=this;_e(i,function(s){var a=o._getOverlayContainer(s.element,!0);if(s&&(kd(s.html),kd(s.htmlContainer),delete s.htmlContainer,delete s.element,delete o._overlays[s.id]),a){var l=a.overlays.indexOf(s);-1!==l&&a.overlays.splice(l,1)}})},As.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},As.prototype.show=function(){J9(this._overlayRoot)},As.prototype.hide=function(){J9(this._overlayRoot,!1)},As.prototype.clear=function(){this._overlays={},this._overlayContainers=[],DD(this._overlayRoot)},As.prototype._updateOverlayContainer=function(t){var i=t.element,o=t.html,s=i.x,a=i.y;if(i.waypoints){var l=Ao(i);s=l.x,a=l.y}Hoe(o,s,a),Ma(t.html,"data-container-id",i.id)},As.prototype._updateOverlay=function(t){var c,u,i=t.position,o=t.htmlContainer,s=t.element,a=i.left,l=i.top;void 0!==i.right&&(c=s.waypoints?Ao(s).width:s.width,a=-1*i.right+c),void 0!==i.bottom&&(u=s.waypoints?Ao(s).height:s.height,l=-1*i.bottom+u),Hoe(o,a||0,l||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())},As.prototype._createOverlayContainer=function(t){var i=ui('<div class="djs-overlays" />');Ws(i,{position:"absolute"}),this._overlayRoot.appendChild(i);var o={html:i,element:t,overlays:[]};return this._updateOverlayContainer(o),this._overlayContainers.push(o),o},As.prototype._updateRoot=function(t){var i=t.scale||1,o="matrix("+[i,0,0,i,-1*t.x*i,-1*t.y*i].join(",")+")";Uoe(this._overlayRoot,o)},As.prototype._getOverlayContainer=function(t,i){var o=Kn(this._overlayContainers,function(s){return s.element===t});return o||i?o:this._createOverlayContainer(t)},As.prototype._addOverlay=function(t){var a,l,i=t.id,o=t.element,s=t.html;s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),oa(s)&&(s=ui(s)),l=this._getOverlayContainer(o),Ws(a=ui('<div class="djs-overlay" data-overlay-id="'+i+'">'),{position:"absolute"}),a.appendChild(s),t.type&&Os(a).add("djs-overlay-"+t.type),J9(a,this._canvas.findRoot(o)===this._canvas.getRootElement()),t.htmlContainer=a,l.overlays.push(t),l.html.appendChild(a),this._overlays[i]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())},As.prototype._updateOverlayVisibilty=function(t,i){var o=t.show,s=this._canvas.findRoot(t.element),a=o&&o.minZoom,l=o&&o.maxZoom,c=t.htmlContainer,p=!0;(s!==this._canvas.getRootElement()||o&&(Ii(a)&&a>i.scale||Ii(l)&&l<i.scale))&&(p=!1),J9(c,p),this._updateOverlayScale(t,i)},As.prototype._updateOverlayScale=function(t,i){var s,a,c,o=t.scale,l=t.htmlContainer,u="";!0!==o&&(!1===o?(s=1,a=1):(s=o.min,a=o.max),Ii(s)&&i.scale<s&&(c=(1/i.scale||1)*s),Ii(a)&&i.scale>a&&(c=(1/i.scale||1)*a)),Ii(c)&&(u="scale("+c+","+c+")"),Uoe(l,u)},As.prototype._updateOverlaysVisibilty=function(t){var i=this;_e(this._overlays,function(o){i._updateOverlayVisibilty(o,t)})},As.prototype._init=function(){var t=this._eventBus,i=this;t.on("canvas.viewbox.changing",function(s){i.hide()}),t.on("canvas.viewbox.changed",function(s){!function o(s){i._updateRoot(s),i._updateOverlaysVisibilty(s),i.show()}(s.viewbox)}),t.on(["shape.remove","connection.remove"],function(s){var a=s.element;_e(i.get({element:a}),function(p){i.remove(p.id)});var c=i._getOverlayContainer(a);if(c){kd(c.html);var u=i._overlayContainers.indexOf(c);-1!==u&&i._overlayContainers.splice(u,1)}}),t.on("element.changed",500,function(s){var l=i._getOverlayContainer(s.element,!0);l&&(_e(l.overlays,function(c){i._updateOverlay(c)}),i._updateOverlayContainer(l))}),t.on("element.marker.update",function(s){var a=i._getOverlayContainer(s.element,!0);a&&Os(a.html)[s.add?"add":"remove"](s.marker)}),t.on("root.set",function(){i._updateOverlaysVisibilty(i._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};const eP={__init__:["overlays"],overlays:["type",As]};function Goe(t,i,o,s){t.on("element.changed",function(a){var l=a.element;(l.parent||l===i.getRootElement())&&(a.gfx=o.getGraphics(l)),a.gfx&&t.fire(zie(l)+".changed",a)}),t.on("elements.changed",function(a){var l=a.elements;l.forEach(function(c){t.fire("element.changed",{element:c})}),s.updateContainments(l)}),t.on("shape.changed",function(a){s.update("shape",a.element,a.gfx)}),t.on("connection.changed",function(a){s.update("connection",a.element,a.gfx)})}Goe.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const hj={__init__:["changeSupport"],changeSupport:["type",Goe]};function pt(t){this._eventBus=t}function Af(t){return function(o,s,a,l,c){(Br(o)||mn(o))&&(c=l,l=a,a=s,s=o,o=null),this.on(o,t,s,a,l,c)}}function mj(t,i){i.invoke(pt,this),this.executed(function(o){var s=o.context;s.rootElement?t.setRootElement(s.rootElement):s.rootElement=t.getRootElement()}),this.revert(function(o){var s=o.context;s.rootElement&&t.setRootElement(s.rootElement)})}pt.$inject=["eventBus"],pt.prototype.on=function(t,i,o,s,a,l){if((Br(i)||mn(i))&&(l=a,a=s,s=o,o=i,i=null),Br(o)&&(l=a,a=s,s=o,o=1e3),Oo(a)&&(l=a,a=!1),!Br(s))throw new Error("handlerFn must be a function");Rn(t)||(t=[t]);var c=this._eventBus;_e(t,function(u){var p=["commandStack",u,i].filter(function(h){return h}).join(".");c.on(p,o,a?function Jje(t,i){return function(o){return t.call(i||null,o.context,o.command,o)}}(s,l):s,l)})},pt.prototype.canExecute=Af("canExecute"),pt.prototype.preExecute=Af("preExecute"),pt.prototype.preExecuted=Af("preExecuted"),pt.prototype.execute=Af("execute"),pt.prototype.executed=Af("executed"),pt.prototype.postExecute=Af("postExecute"),pt.prototype.postExecuted=Af("postExecuted"),pt.prototype.revert=Af("revert"),pt.prototype.reverted=Af("reverted"),jt(mj,pt),mj.$inject=["canvas","injector"];const e$e={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",mj]};function p6(t){return CSS.escape(t)}var t$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gj(t){return(t=""+t)&&t.replace(/[&<>"']/g,function(i){return t$e[i]})}var qoe="_plane";function Woe(t){return function n$e(t){return t.replace(new RegExp(qoe+"$"),"")}(t.id)}function If(t){var i=t.id;return j(t,"bpmn:SubProcess")?Xoe(i):i}function dy(t){return Xoe(t)}function vj(t){return j(Pr(t),"bpmndi:BPMNPlane")}function Xoe(t){return t+qoe}function Yoe(t,i,o){var s=ui('<ul class="bjs-breadcrumbs"></ul>'),a=o.getContainer(),l=Os(a);a.appendChild(s);var c=[];function u(p){p&&(c=function i$e(t){for(var o=[],s=le(t);s;s=s.$parent)(j(s,"bpmn:SubProcess")||j(s,"bpmn:Process"))&&o.push(s);return o.reverse()}(p));var h=c.map(function(y){var E=gj(y.name||y.id),S=ui('<li><span class="bjs-crumb"><a title="'+E+'">'+E+"</a></span></li>"),D=o.findRoot(If(y))||o.findRoot(y.id);if(!D&&j(y,"bpmn:Process")){var k=i.find(function(R){var L=le(R);return L&&L.get("processRef")&&L.get("processRef")===y});D=o.findRoot(k.id)}return S.addEventListener("click",function(){o.setRootElement(D)}),S});s.innerHTML="",l.toggle("bjs-breadcrumbs-shown",h.length>1),h.forEach(function(y){s.appendChild(y)})}t.on("element.changed",function(p){var v=le(p.element);Kn(c,function(E){return E===v})&&u()}),t.on("root.set",function(p){u(p.element)})}function Koe(t,i){var o=null,s=new o$e;t.on("root.set",function(a){var l=a.element,c=i.viewbox(),u=s.get(l);if(s.set(o,{x:c.x,y:c.y,zoom:c.scale}),o=l,!j(l,"bpmn:Collaboration")||u){var p=(c.x-(u=u||{x:0,y:0,zoom:1}).x)*c.scale,h=(c.y-u.y)*c.scale;(0!==p||0!==h)&&i.scroll({dx:p,dy:h}),u.zoom!==c.scale&&i.zoom(u.zoom,{x:0,y:0})}}),t.on("diagram.clear",function(){s.clear(),o=null})}function o$e(){this._entries=[],this.set=function(t,i){var o=!1;for(var s in this._entries)if(this._entries[s][0]===t){this._entries[s][1]=i,o=!0;break}o||this._entries.push([t,i])},this.get=function(t){for(var i in this._entries)if(this._entries[i][0]===t)return this._entries[i][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(t){var i=-1;for(var o in this._entries)if(this._entries[o][0]===t){i=o;break}-1!==i&&this._entries.splice(i,1)}}Yoe.$inject=["eventBus","elementRegistry","canvas"],Koe.$inject=["eventBus","canvas"];function py(t,i){this._eventBus=t,this._moddle=i;var o=this;t.on("import.render.start",1500,function(s,a){o._handleImport(a.definitions)})}function Zoe(t){return j(t,"bpmndi:BPMNDiagram")?t:Zoe(t.$parent)}function Wm(t,i,o,s){pt.call(this,i),this._canvas=t,this._eventBus=i,this._elementRegistry=o,this._overlays=s;var a=this;this.executed("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.reverted("shape.toggleCollapse",250,function(l){var c=l.shape;a._canDrillDown(c)?a._addOverlay(c):a._removeOverlay(c)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,p=l.shape;a._canDrillDown(p)&&a._addOverlay(p),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(p)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(l){var c=l.oldParent,u=l.newParent||l.parent,p=l.shape;a._canDrillDown(p)&&a._addOverlay(p),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(p)},!0),i.on("import.render.complete",function(){o.filter(function(l){return a._canDrillDown(l)}).map(function(l){a._addOverlay(l)})})}py.prototype._handleImport=function(t){if(t.diagrams){var i=this;this._definitions=t,this._processToDiagramMap={},t.diagrams.forEach(function(s){!s.plane||!s.plane.bpmnElement||(i._processToDiagramMap[s.plane.bpmnElement.id]=s)});var o=[];t.diagrams.forEach(function(s){var a=i._createNewDiagrams(s.plane);Array.prototype.push.apply(o,a)}),o.forEach(function(s){i._movePlaneElementsToOrigin(s.plane)})}},py.prototype._createNewDiagrams=function(t){var i=this,o=[],s=[];t.get("planeElement").forEach(function(l){var c=l.bpmnElement;if(c){var u=c.$parent;j(c,"bpmn:SubProcess")&&!l.isExpanded&&o.push(c),function a$e(t,i){var o=t.$parent;return!(!j(o,"bpmn:SubProcess")||o===i.bpmnElement||on(t,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(c,t)&&s.push({diElement:l,parent:u})}});var a=[];return o.forEach(function(l){if(!i._processToDiagramMap[l.id]){var c=i._createDiagram(l);i._processToDiagramMap[l.id]=c,a.push(c)}}),s.forEach(function(l){for(var c=l.diElement,u=l.parent;u&&-1===o.indexOf(u);)u=u.$parent;u&&i._moveToDiPlane(c,i._processToDiagramMap[u.id].plane)}),a},py.prototype._movePlaneElementsToOrigin=function(t){var i=t.get("planeElement"),o=function s$e(t){var i={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return t.planeElement.forEach(function(o){if(o.bounds){var s=an(o.bounds);i.top=Math.min(s.top,i.top),i.left=Math.min(s.left,i.left)}}),L9(i)}(t),s_x=o.x-180,s_y=o.y-160;i.forEach(function(a){a.waypoint?a.waypoint.forEach(function(l){l.x=l.x-s_x,l.y=l.y-s_y}):a.bounds&&(a.bounds.x=a.bounds.x-s_x,a.bounds.y=a.bounds.y-s_y)})},py.prototype._moveToDiPlane=function(t,i){var s=Zoe(t).plane.get("planeElement");s.splice(s.indexOf(t),1),i.get("planeElement").push(t)},py.prototype._createDiagram=function(t){var i=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:t}),o=this._moddle.create("bpmndi:BPMNDiagram",{plane:i});return i.$parent=o,i.bpmnElement=t,o.$parent=this._definitions,this._definitions.diagrams.push(o),o},py.$inject=["eventBus","moddle"],jt(Wm,pt),Wm.prototype._updateDrilldownOverlay=function(t){if(t){var o=this._canvas.findRoot(t);o&&this._updateOverlayVisibility(o)}},Wm.prototype._canDrillDown=function(t){var i=this._canvas;return j(t,"bpmn:SubProcess")&&i.findRoot(If(t))},Wm.prototype._updateOverlayVisibility=function(t){var i=this._overlays,o=le(t),s=i.get({element:o.id,type:"drilldown"})[0];if(s){var a=o&&o.get("flowElements")&&o.get("flowElements").length;Os(s.html).toggle("bjs-drilldown-empty",!a)}},Wm.prototype._addOverlay=function(t){var i=this._canvas,o=this._overlays;o.get({element:t,type:"drilldown"}).length&&this._removeOverlay(t);var a=ui('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');a.addEventListener("click",function(){i.setRootElement(i.findRoot(If(t)))}),o.add(t,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(t)},Wm.prototype._removeOverlay=function(t){this._overlays.remove({element:t,type:"drilldown"})},Wm.$inject=["canvas","eventBus","elementRegistry","overlays"];const u$e={__depends__:[eP,hj,e$e],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",Yoe],drilldownCentering:["type",Koe],drilldownOverlayBehavior:["type",Wm],subprocessCompatibility:["type",py]};function Xm(t){ro.call(this,t)}jt(Xm,ro),Xm.prototype._modules=[zje,X9,Yd,eP,u$e],Xm.prototype._moddleExtensions={};var d$e=["c","C"],p$e=["v","V"],f$e=["y","Y"],Joe=["z","Z"];function Mc(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function Is(t,i){return-1!==(t=Rn(t)?t:[t]).indexOf(i.key)||-1!==t.indexOf(i.code)}function yj(t){return t.shiftKey}var nP="keyboard.keydown",ese="input-handle-modified-keys";function Ks(t,i){var o=this;this._config=t||{},this._eventBus=i,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),i.on("diagram.destroy",function(){o._fire("destroy"),o.unbind()}),i.on("diagram.init",function(){o._fire("init")}),i.on("attach",function(){t&&t.bindTo&&o.bind(t.bindTo)}),i.on("detach",function(){o.unbind()})}Ks.$inject=["config.keyboard","eventBus"],Ks.prototype._keydownHandler=function(t){this._keyHandler(t,nP)},Ks.prototype._keyupHandler=function(t){this._keyHandler(t,"keyboard.keyup")},Ks.prototype._keyHandler=function(t,i){this._isEventIgnored(t)||this._eventBus.fire(i||nP,{keyEvent:t})&&t.preventDefault()},Ks.prototype._isEventIgnored=function(t){return!!t.defaultPrevented||function E$e(t){return t&&(Bx(t,"input, textarea")||"true"===t.contentEditable)}(t.target)&&this._isModifiedKeyIgnored(t)},Ks.prototype._isModifiedKeyIgnored=function(t){return!Mc(t)||-1===this._getAllowedModifiers(t.target).indexOf(t.key)},Ks.prototype._getAllowedModifiers=function(t){var i=mf(t,"["+ese+"]",!0);return!i||this._node&&!this._node.contains(i)?[]:i.getAttribute(ese).split(",")},Ks.prototype.bind=function(t){this.unbind(),this._node=t,fn.bind(t,"keydown",this._keydownHandler),fn.bind(t,"keyup",this._keyupHandler),this._fire("bind")},Ks.prototype.getBinding=function(){return this._node},Ks.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),fn.unbind(t,"keydown",this._keydownHandler),fn.unbind(t,"keyup",this._keyupHandler)),this._node=null},Ks.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})},Ks.prototype.addListener=function(t,i,o){Br(t)&&(o=i,i=t,t=1e3),this._eventBus.on(o||nP,t,i)},Ks.prototype.removeListener=function(t,i){this._eventBus.off(i||nP,t)},Ks.prototype.hasModifier=function h$e(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey},Ks.prototype.isCmd=Mc,Ks.prototype.isShift=yj,Ks.prototype.isKey=Is;var x$e=500;function k5(t,i){var o=this;t.on("editorActions.init",x$e,function(s){o.registerBindings(i,s.editorActions)})}k5.$inject=["eventBus","keyboard"],k5.prototype.registerBindings=function(t,i){function o(s,a){i.isRegistered(s)&&t.addListener(a)}o("undo",function(s){if(function v$e(t){return Mc(t)&&!yj(t)&&Is(Joe,t)}(s.keyEvent))return i.trigger("undo"),!0}),o("redo",function(s){if(function y$e(t){return Mc(t)&&(Is(f$e,t)||Is(Joe,t)&&yj(t))}(s.keyEvent))return i.trigger("redo"),!0}),o("copy",function(s){if(function m$e(t){return Mc(t)&&Is(d$e,t)}(s.keyEvent))return i.trigger("copy"),!0}),o("paste",function(s){if(function g$e(t){return Mc(t)&&Is(p$e,t)}(s.keyEvent))return i.trigger("paste"),!0}),o("stepZoom",function(s){var a=s.keyEvent;if(Is(["+","Add","="],a)&&Mc(a))return i.trigger("stepZoom",{value:1}),!0}),o("stepZoom",function(s){var a=s.keyEvent;if(Is(["-","Subtract"],a)&&Mc(a))return i.trigger("stepZoom",{value:-1}),!0}),o("zoom",function(s){var a=s.keyEvent;if(Is("0",a)&&Mc(a))return i.trigger("zoom",{value:1}),!0}),o("removeSelection",function(s){if(Is(["Backspace","Delete","Del"],s.keyEvent))return i.trigger("removeSelection"),!0})};const bj={__init__:["keyboard","keyboardBindings"],keyboard:["type",Ks],keyboardBindings:["type",k5]};var w$e={moveSpeed:50,moveSpeedAccelerated:200};function tse(t,i,o){var s=this;this._config=Ae({},w$e,t||{}),i.addListener(function a(l){var c=l.keyEvent,u=s._config;if(i.isCmd(c)&&i.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],c)){var h,p=i.isShift(c)?u.moveSpeedAccelerated:u.moveSpeed;switch(c.key){case"ArrowLeft":case"Left":h="left";break;case"ArrowUp":case"Up":h="up";break;case"ArrowRight":case"Right":h="right";break;case"ArrowDown":case"Down":h="down"}return s.moveCanvas({speed:p,direction:h}),!0}}),this.moveCanvas=function(l){var c=0,u=0,h=l.speed/Math.min(Math.sqrt(o.viewbox().scale),1);switch(l.direction){case"left":c=h;break;case"up":u=h;break;case"right":c=-h;break;case"down":u=-h}o.scroll({dx:c,dy:u})}}tse.$inject=["config.keyboardMove","keyboard","canvas"];const nse={__depends__:[bj],__init__:["keyboardMove"],keyboardMove:["type",tse]};var S$e=/^djs-cursor-.*$/;function rP(t){var i=Os(document.body);i.removeMatching(S$e),t&&i.add("djs-cursor-"+t)}function rse(){rP(null)}var C$e=5e3;function ise(t,i){function o(){return!1}return t.once(i=i||"element.click",C$e,o),function(){t.off(i,o)}}function f6(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function E0(t,i){return{x:t.x-i.x,y:t.y-i.y}}function ose(t,i){var o;function s(c){var u=o.start,p=o.button,h=Gm(c),v=E0(h,u);!o.dragging&&function T$e(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(v)>15&&(o.dragging=!0,0===p&&ise(t),rP("grab")),o.dragging&&(v=E0(h,o.last||o.start),i.scroll({dx:v.x,dy:v.y}),o.last=h),c.preventDefault()}function a(c){fn.unbind(document,"mousemove",s),fn.unbind(document,"mouseup",a),o=null,rse()}t.on("element.mousedown",500,function(c){return function l(c){if(!mf(c.target,".djs-draggable")){var u=c.button;if(!(u>=2||c.ctrlKey||c.shiftKey||c.altKey))return o={button:u,start:Gm(c)},fn.bind(document,"mousemove",s),fn.bind(document,"mouseup",a),!0}}(c.originalEvent)}),this.isActive=function(){return!!o}}ose.$inject=["eventBus","canvas"];const sse={__init__:["moveCanvas"],moveCanvas:["type",ose]};function _j(t){return Math.log(t)/Math.log(10)}function ase(t,i){var o=_j(t.min),s=_j(t.max);return(Math.abs(o)+Math.abs(s))/i}var O$e=Math.sign||function(t){return t>=0?1:-1},Ej={min:.2,max:4};function Kd(t,i,o){t=t||{},this._enabled=!1,this._canvas=o,this._container=o._container,this._handleWheel=pl(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||.75;var s=this;i.on("canvas.init",function(a){s._init(!1!==t.enabled)})}Kd.$inject=["config.zoomScroll","eventBus","canvas"],Kd.prototype.scroll=function(i){this._canvas.scroll(i)},Kd.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Kd.prototype.zoom=function(i,o){var s=ase(Ej,20);this._totalDelta+=i,Math.abs(this._totalDelta)>.1&&(this._zoom(i,o,s),this._totalDelta=0)},Kd.prototype._handleWheel=function(i){if(!mf(i.target,".djs-scrollable",!0)){var o=this._container;i.preventDefault();var c,s=i.ctrlKey||Loe()&&i.metaKey,a=i.shiftKey,l=-1*this._scale;if(l*=s?0===i.deltaMode?.02:.32:0===i.deltaMode?1:16,s){var u=o.getBoundingClientRect(),p={x:i.clientX-u.left,y:i.clientY-u.top};c=Math.sqrt(Math.pow(i.deltaY,2)+Math.pow(i.deltaX,2))*O$e(i.deltaY)*l,this.zoom(c,p)}else this.scroll(c=a?{dx:l*i.deltaY,dy:0}:{dx:l*i.deltaX,dy:l*i.deltaY})}},Kd.prototype.stepZoom=function(i,o){var s=ase(Ej,10);this._zoom(i,o,s)},Kd.prototype._zoom=function(t,i,o){var s=this._canvas,a=t>0?1:-1,l=_j(s.zoom()),c=Math.round(l/o)*o,u=Math.pow(10,c+=o*a);s.zoom(function P$e(t,i){return Math.max(t.min,Math.min(t.max,i))}(Ej,u),i)},Kd.prototype.toggle=function(i){var a=this._enabled;return typeof i>"u"&&(i=!a),a!==i&&fn[i?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=i,i},Kd.prototype._init=function(t){this.toggle(t)};const cse={__init__:["zoomScroll"],zoomScroll:["type",Kd]};function h6(t){Xm.call(this,t)}jt(h6,Xm),h6.prototype._modules=[].concat(Xm.prototype._modules,h6.prototype._navigationModules=[nse,sse,cse]);var R$e=zn(511),fy=zn.n(R$e),use=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function iP(t,i){return i.get(t,!1)}function xj(t){t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.srcEvent&&"function"==typeof t.srcEvent.stopPropagation&&t.srcEvent.stopPropagation(),"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()}function wj(t){function o(h){setTimeout(function(){_e(use,function(v){fn.unbind(t,v,xj,!0)})},500)}fn.bind(t,"touchstart",function i(h){_e(use,function(v){fn.bind(t,v,xj,!0)})},!0),fn.bind(t,"touchend",o,!0),fn.bind(t,"touchcancel",o,!0);var s=new(fy().Manager)(t,{inputClass:fy().TouchInput,recognizers:[],domEvents:!0}),a=new(fy().Tap),l=new(fy().Pan)({threshold:10}),c=new(fy().Press),u=new(fy().Pinch),p=new(fy().Tap)({event:"doubletap",taps:2});return u.requireFailure(l),u.requireFailure(c),s.add([l,c,u,p,a]),s.reset=function(h){var v=this.recognizers,y=this.session;y.stopped||(s.stop(h),setTimeout(function(){var E,S;for(E=0;S=v[E];E++)S.reset(),S.state=8;y.curRecognizer=null},0))},s.on("hammer.input",function(h){h.srcEvent.defaultPrevented&&s.reset(!0)}),s}function dse(t,i,o,s,a){var h,l=iP("dragging",t),c=iP("move",t),u=iP("contextPad",t),p=iP("palette",t);function v(S,D){return function(k){var R=y(k.target),L=R&&s.get(R);return D&&(k.srcEvent.button=D),a.fire(S,k,L)}}function y(S){return mf(S,"svg, .djs-element",!0)}l&&o.on("drag.move",function(S){var D=S.originalEvent;if(D&&!(D instanceof MouseEvent)){var k=Gm(D),L=y(document.elementFromPoint(k.x,k.y)),N=L&&s.get(L);N!==S.hover&&(S.hover&&l.out(S),N&&(l.hover({element:N,gfx:L}),S.hover=N,S.hoverGfx=L))}}),u&&o.on("contextPad.create",function(S){var k=wj(S.pad.html);k.on("panstart",function(R){u.trigger("dragstart",R,!0)}),k.on("press",function(R){u.trigger("dragstart",R,!0)}),k.on("tap",function(R){u.trigger("click",R)})}),p&&o.on("palette.create",function(S){var k=wj(S.container);k.on("panstart",function(R){p.trigger("dragstart",R,!0)}),k.on("press",function(R){p.trigger("dragstart",R,!0)}),k.on("tap",function(R){p.trigger("click",R)})}),o.on("canvas.init",function(S){!function E(S){function k(L){var N=y(L.target),B=N&&s.get(N);if(c&&i.getRootElement()!==B)return c.start(L,B,!0);!function D(L){var N=0,B=0;function $(ee){i.scroll({dx:ee.deltaX-N,dy:ee.deltaY-B}),N=ee.deltaX,B=ee.deltaY}function q(ee){h.off("panmove",$),h.off("panend",q),h.off("pancancel",q)}h.on("panmove",$),h.on("panend",q),h.on("pancancel",q)}()}(h=wj(S)).on("tap",v("element.click")),h.on("doubletap",v("element.dblclick",1)),h.on("panstart",k),h.on("press",k),h.on("pinchstart",function R(L){var N=i.zoom(),B=L.center;function $(ee){var te=Math.max(.2,Math.min(4,(1-(1-ee.scale)/1.5)*N));i.zoom(te,B),xj(ee)}function q(ee){h.off("pinchmove",$),h.off("pinchend",q),h.off("pinchcancel",q),h.reset(!0)}h.on("pinchmove",$),h.on("pinchend",q),h.on("pinchcancel",q)})}(S.svg)})}function Sj(t){var i=this;t.on("canvas.init",function(o){i.addBBoxMarker(o.svg)})}dse.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],Sj.$inject=["eventBus"],Sj.prototype.addBBoxMarker=function(t){var i={fill:"none",class:"outer-bound-marker"},o=sn("rect");Dt(o,{x:-1e4,y:1e4,width:10,height:10}),Dt(o,i),yn(t,o);var s=sn("rect");Dt(s,{x:1e4,y:1e4,width:10,height:10}),Dt(s,i),yn(t,s)};const N$e={__depends__:[{__depends__:[Q9],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",dse],touchFix:["type",Sj]}]};function Cj(t){return t&&t[t.length-1]}function pse(t){return t.y}function fse(t){return t.x}var L$e={left:fse,center:fse,right:function(t){return t.x+t.width},top:pse,middle:pse,bottom:function(t){return t.y+t.height}};function M5(t,i){this._modeling=t,this._rules=i}M5.$inject=["modeling","rules"],M5.prototype._getOrientationDetails=function(t){var o="x",s="width";return-1!==["top","bottom","middle"].indexOf(t)&&(o="y",s="height"),{axis:o,dimension:s}},M5.prototype._isType=function(t,i){return-1!==i.indexOf(t)},M5.prototype._alignmentPosition=function(t,i){var p,h,v,o=this._getOrientationDetails(t),s=o.axis,a=o.dimension,l={},c={},u=!1;if(this._isType(t,["left","top"]))l[t]=i[0][s];else if(this._isType(t,["right","bottom"]))v=Cj(i),l[t]=v[s]+v[a];else if(this._isType(t,["center","middle"])){if(_e(i,function(E){var S=E[s]+Math.round(E[a]/2);c[S]?c[S].elements.push(E):c[S]={elements:[E],center:S}}),p=os(c,function(E){return E.elements.length>1&&(u=!0),E.elements.length}),u)return l[t]=Cj(p).center,l;h=i[0],v=Cj(i=os(i,function(E){return E[s]+E[a]})),l[t]=function y(E,S){return Math.round((E[s]+S[s]+S[a])/2)}(h,v)}return l},M5.prototype.trigger=function(t,i){var s,o=this._modeling,a=On(t,function(p){return!(p.waypoints||p.host||p.labelTarget)});if(Rn(s=this._rules.allowed("elements.align",{elements:a}))&&(a=s),!(a.length<2)&&s){var c=os(a,L$e[i]),u=this._alignmentPosition(i,c);o.alignElements(c,u)}};const F$e={__init__:["alignElements"],alignElements:["type",M5]};var oP=".entry";function El(t,i,o,s){this._canvas=t,this._eventBus=o,this._overlays=s;var a=Ii(i&&i.scale)?i.scale:{min:1,max:1.5};this._overlaysConfig={scale:a},this._current=null,this._init()}function mse(t,i){return-1!==t.indexOf(i)}El.$inject=["canvas","config.contextPad","eventBus","overlays"],El.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(i){var o=i.newSelection,s=o.length?1===o.length?o[0]:o:null;s?t.open(s,!0):t.close()}),this._eventBus.on("elements.changed",function(i){var o=i.elements,s=t._current;if(s){var a=s.target;ff(Rn(a)?a:[a],function(c){return mse(o,c)})&&t.open(a,!0)}})},El.prototype.registerProvider=function(t,i){i||(i=t,t=1e3),this._eventBus.on("contextPad.getProviders",t,function(o){o.providers.push(i)})},El.prototype.getEntries=function(t){var i=this._getProviders(),o=Rn(t)?"getMultiElementContextPadEntries":"getContextPadEntries",s={};return _e(i,function(a){if(Br(a[o])){var l=a[o](t);Br(l)?s=l(s):_e(l,function(c,u){s[u]=c})}}),s},El.prototype.trigger=function(t,i,o){var s,a,l=i.delegateTarget||i.target;return l?(s=Ma(l,"data-action"),a=i.originalEvent||i,"mouseover"===t?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(s,"hover",a,o)},300):"mouseout"===t&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(s,t,a,o)):i.preventDefault()},El.prototype.triggerEntry=function(t,i,o,s){if(this.isShown()){var a=this._current.target,c=this._current.entries[t];if(c){var u=c.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:c,event:o})){if(Br(u)){if("click"===i)return u(o,a,s)}else if(u[i])return u[i](o,a,s);o.preventDefault()}}}},El.prototype.open=function(t,i){!i&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))},El.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},El.prototype._updateAndOpen=function(t){var a,i=this.getEntries(t),o=this.getPad(t),s=o.html;_e(i,function(l,c){var h,u=l.group||"default",p=ui(l.html||'<div class="entry" draggable="true"></div>');Ma(p,"data-action",c),(h=er("[data-group="+p6(u)+"]",s))||(Ma(h=ui('<div class="group"></div>'),"data-group",u),s.appendChild(h)),h.appendChild(p),l.className&&function $$e(t,i){var o=Os(t);(i=Rn(i)?i:i.split(/\s+/g)).forEach(function(s){o.add(s)})}(p,l.className),l.title&&Ma(p,"title",l.title),l.imageUrl&&(Ma(a=ui("<img>"),"src",l.imageUrl),a.style.width="100%",a.style.height="100%",p.appendChild(a))}),Os(s).add("open"),this._current={target:t,entries:i,pad:o},this._eventBus.fire("contextPad.open",{current:this._current})},El.prototype.getPad=function(t){if(this.isOpen())return this._current.pad;var i=this,o=this._overlays,s=ui('<div class="djs-context-pad"></div>'),a=this._getPosition(t),l=Ae({html:s},this._overlaysConfig,a);Ra.bind(s,oP,"click",function(p){i.trigger("click",p)}),Ra.bind(s,oP,"dragstart",function(p){i.trigger("dragstart",p)}),Ra.bind(s,oP,"mouseover",function(p){i.trigger("mouseover",p)}),Ra.bind(s,oP,"mouseout",function(p){i.trigger("mouseout",p)}),fn.bind(s,"mousedown",function(p){p.stopPropagation()});var c=this._canvas.getRootElement();this._overlayId=o.add(c,"context-pad",l);var u=o.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:t,pad:u}),u},El.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},El.prototype.isOpen=function(t){var i=this._current;if(!i)return!1;if(!t)return!0;var o=i.target;return Rn(t)===Rn(o)&&(Rn(t)?t.length===o.length&&k3(t,function(s){return mse(o,s)}):o===t)},El.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},El.prototype._getPosition=function(t){var o=Ao(Rn(t=Di(t)?function V$e(t){return t.waypoints[t.waypoints.length-1]}(t):t)?t:[t]);return{position:{left:o.x+o.width+12,top:o.y-6}}};const gse={__depends__:[Q9,eP],contextPad:["type",El]};var m6,or,vse,hy,yse,bse,Dj,Tj,Pj,Oj,g6={},Ese=[],H$e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,sP=Array.isArray;function Nf(t,i){for(var o in i)t[o]=i[o];return t}function xse(t){var i=t.parentNode;i&&i.removeChild(t)}function wse(t,i,o){var s,a,l,c={};for(l in i)"key"==l?s=i[l]:"ref"==l?a=i[l]:c[l]=i[l];if(arguments.length>2&&(c.children=arguments.length>3?m6.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===c[l]&&(c[l]=t.defaultProps[l]);return v6(t,c,s,a,null)}function v6(t,i,o,s,a){var l={type:t,props:i,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++vse,__i:-1,__u:0};return null==a&&null!=or.vnode&&or.vnode(l),l}function aP(t){return t.children}function lP(t,i){this.props=t,this.context=i}function my(t,i){if(null==i)return t.__?my(t.__,t.__i+1):null;for(var o;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e)return o.__e;return"function"==typeof t.type?my(t):null}function Sse(t){var i,o;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(o=t.__k[i])&&null!=o.__e){t.__e=t.__c.base=o.__e;break}return Sse(t)}}function kj(t){(!t.__d&&(t.__d=!0)&&hy.push(t)&&!cP.__r++||yse!==or.debounceRendering)&&((yse=or.debounceRendering)||bse)(cP)}function cP(){var t,i,o,s,a,l,c,u;for(hy.sort(Dj);t=hy.shift();)t.__d&&(i=hy.length,s=void 0,l=(a=(o=t).__v).__e,c=[],u=[],o.__P&&((s=Nf({},a)).__v=a.__v+1,or.vnode&&or.vnode(s),Mj(o.__P,s,a,o.__n,void 0!==o.__P.ownerSVGElement,32&a.__u?[l]:null,c,l??my(a),!!(32&a.__u),u),s.__v=a.__v,s.__.__k[s.__i]=s,Ose(c,s,u),s.__e!=l&&Sse(s)),hy.length>i&&hy.sort(Dj));cP.__r=0}function Cse(t,i,o,s,a,l,c,u,p,h,v){var y,E,S,D,k,R=s&&s.__k||Ese,L=i.length;for(o.__d=p,function U$e(t,i,o){var s,a,l,c,u,p=i.length,h=o.length,v=h,y=0;for(t.__k=[],s=0;s<p;s++)c=s+y,null!=(a=t.__k[s]=null==(a=i[s])||"boolean"==typeof a||"function"==typeof a?null:"string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?v6(null,a,null,null,null):sP(a)?v6(aP,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?v6(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)?(a.__=t,a.__b=t.__b+1,u=q$e(a,o,c,v),a.__i=u,l=null,-1!==u&&(v--,(l=o[u])&&(l.__u|=131072)),null==l||null===l.__v?(-1==u&&y--,"function"!=typeof a.type&&(a.__u|=65536)):u!==c&&(u===c+1?y++:u>c?v>p-c?y+=u-c:y--:u<c?u==c-1&&(y=u-c):y=0,u!==s+y&&(a.__u|=65536))):(l=o[c])&&null==l.key&&l.__e&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=my(l)),Aj(l,l,!1),o[c]=null,v--);if(v)for(s=0;s<h;s++)null!=(l=o[s])&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=my(l)),Aj(l,l))}(o,i,R),p=o.__d,y=0;y<L;y++)null!=(S=o.__k[y])&&"boolean"!=typeof S&&"function"!=typeof S&&(E=-1===S.__i?g6:R[S.__i]||g6,S.__i=y,Mj(t,S,E,a,l,c,u,p,h,v),D=S.__e,S.ref&&E.ref!=S.ref&&(E.ref&&Rj(E.ref,null,S),v.push(S.ref,S.__c||D,S)),null==k&&null!=D&&(k=D),65536&S.__u||E.__k===S.__k?(p&&!p.isConnected&&(p=my(E)),p=Dse(S,p,t)):"function"==typeof S.type&&void 0!==S.__d?p=S.__d:D&&(p=D.nextSibling),S.__d=void 0,S.__u&=-196609);o.__d=p,o.__e=k}function Dse(t,i,o){var s,a;if("function"==typeof t.type){for(s=t.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=t,i=Dse(s[a],i,o));return i}t.__e!=i&&(o.insertBefore(t.__e,i||null),i=t.__e);do{i=i&&i.nextSibling}while(null!=i&&8===i.nodeType);return i}function q$e(t,i,o,s){var a=t.key,l=t.type,c=o-1,u=o+1,p=i[o];if(null===p||p&&a==p.key&&l===p.type&&!(131072&p.__u))return o;if(s>(null==p||131072&p.__u?0:1))for(;c>=0||u<i.length;){if(c>=0){if((p=i[c])&&!(131072&p.__u)&&a==p.key&&l===p.type)return c;c--}if(u<i.length){if((p=i[u])&&!(131072&p.__u)&&a==p.key&&l===p.type)return u;u++}}return-1}function Tse(t,i,o){"-"===i[0]?t.setProperty(i,o??""):t[i]=null==o?"":"number"!=typeof o||H$e.test(i)?o:o+"px"}function uP(t,i,o,s,a){var l;e:if("style"===i)if("string"==typeof o)t.style.cssText=o;else{if("string"==typeof s&&(t.style.cssText=s=""),s)for(i in s)o&&i in o||Tse(t.style,i,"");if(o)for(i in o)s&&o[i]===s[i]||Tse(t.style,i,o[i])}else if("o"===i[0]&&"n"===i[1])l=i!==(i=i.replace(/(PointerCapture)$|Capture$/i,"$1")),i=i.toLowerCase()in t||"onFocusOut"===i||"onFocusIn"===i?i.toLowerCase().slice(2):i.slice(2),t.l||(t.l={}),t.l[i+l]=o,o?s?o.u=s.u:(o.u=Tj,t.addEventListener(i,l?Oj:Pj,l)):t.removeEventListener(i,l?Oj:Pj,l);else{if(a)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=i&&"height"!=i&&"href"!=i&&"list"!=i&&"form"!=i&&"tabIndex"!=i&&"download"!=i&&"rowSpan"!=i&&"colSpan"!=i&&"role"!=i&&i in t)try{t[i]=o??"";break e}catch{}"function"==typeof o||(null==o||!1===o&&"-"!==i[4]?t.removeAttribute(i):t.setAttribute(i,o))}}function Pse(t){return function(i){if(this.l){var o=this.l[i.type+t];if(null==i.t)i.t=Tj++;else if(i.t<o.u)return;return o(or.event?or.event(i):i)}}}function Mj(t,i,o,s,a,l,c,u,p,h){var v,y,E,S,D,k,R,L,N,B,$,q,ee,ae,te,ne=i.type;if(void 0!==i.constructor)return null;128&o.__u&&(p=!!(32&o.__u),l=[u=i.__e=o.__e]),(v=or.__b)&&v(i);e:if("function"==typeof ne)try{if(L=i.props,N=(v=ne.contextType)&&s[v.__c],B=v?N?N.props.value:v.__:s,o.__c?R=(y=i.__c=o.__c).__=y.__E:("prototype"in ne&&ne.prototype.render?i.__c=y=new ne(L,B):(i.__c=y=new lP(L,B),y.constructor=ne,y.render=X$e),N&&N.sub(y),y.props=L,y.state||(y.state={}),y.context=B,y.__n=s,E=y.__d=!0,y.__h=[],y._sb=[]),null==y.__s&&(y.__s=y.state),null!=ne.getDerivedStateFromProps&&(y.__s==y.state&&(y.__s=Nf({},y.__s)),Nf(y.__s,ne.getDerivedStateFromProps(L,y.__s))),S=y.props,D=y.state,y.__v=i,E)null==ne.getDerivedStateFromProps&&null!=y.componentWillMount&&y.componentWillMount(),null!=y.componentDidMount&&y.__h.push(y.componentDidMount);else{if(null==ne.getDerivedStateFromProps&&L!==S&&null!=y.componentWillReceiveProps&&y.componentWillReceiveProps(L,B),!y.__e&&(null!=y.shouldComponentUpdate&&!1===y.shouldComponentUpdate(L,y.__s,B)||i.__v===o.__v)){for(i.__v!==o.__v&&(y.props=L,y.state=y.__s,y.__d=!1),i.__e=o.__e,i.__k=o.__k,i.__k.forEach(function(he){he&&(he.__=i)}),$=0;$<y._sb.length;$++)y.__h.push(y._sb[$]);y._sb=[],y.__h.length&&c.push(y);break e}null!=y.componentWillUpdate&&y.componentWillUpdate(L,y.__s,B),null!=y.componentDidUpdate&&y.__h.push(function(){y.componentDidUpdate(S,D,k)})}if(y.context=B,y.props=L,y.__P=t,y.__e=!1,q=or.__r,ee=0,"prototype"in ne&&ne.prototype.render){for(y.state=y.__s,y.__d=!1,q&&q(i),v=y.render(y.props,y.state,y.context),ae=0;ae<y._sb.length;ae++)y.__h.push(y._sb[ae]);y._sb=[]}else do{y.__d=!1,q&&q(i),v=y.render(y.props,y.state,y.context),y.state=y.__s}while(y.__d&&++ee<25);y.state=y.__s,null!=y.getChildContext&&(s=Nf(Nf({},s),y.getChildContext())),E||null==y.getSnapshotBeforeUpdate||(k=y.getSnapshotBeforeUpdate(S,D)),Cse(t,sP(te=null!=v&&v.type===aP&&null==v.key?v.props.children:v)?te:[te],i,o,s,a,l,c,u,p,h),y.base=i.__e,i.__u&=-161,y.__h.length&&c.push(y),R&&(y.__E=y.__=null)}catch(he){i.__v=null,p||null!=l?(i.__e=u,i.__u|=p?160:32,l[l.indexOf(u)]=null):(i.__e=o.__e,i.__k=o.__k),or.__e(he,i,o)}else null==l&&i.__v===o.__v?(i.__k=o.__k,i.__e=o.__e):i.__e=function W$e(t,i,o,s,a,l,c,u,p){var h,v,y,E,S,D,k,R=o.props,L=i.props,N=i.type;if("svg"===N&&(a=!0),null!=l)for(h=0;h<l.length;h++)if((S=l[h])&&"setAttribute"in S==!!N&&(N?S.localName===N:3===S.nodeType)){t=S,l[h]=null;break}if(null==t){if(null===N)return document.createTextNode(L);t=a?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,L.is&&L),l=null,u=!1}if(null===N)R===L||u&&t.data===L||(t.data=L);else{if(l=l&&m6.call(t.childNodes),R=o.props||g6,!u&&null!=l)for(R={},h=0;h<t.attributes.length;h++)R[(S=t.attributes[h]).name]=S.value;for(h in R)S=R[h],"children"==h||("dangerouslySetInnerHTML"==h?y=S:"key"===h||h in L||uP(t,h,null,S,a));for(h in L)S=L[h],"children"==h?E=S:"dangerouslySetInnerHTML"==h?v=S:"value"==h?D=S:"checked"==h?k=S:"key"===h||u&&"function"!=typeof S||R[h]===S||uP(t,h,S,R[h],a);if(v)u||y&&(v.__html===y.__html||v.__html===t.innerHTML)||(t.innerHTML=v.__html),i.__k=[];else if(y&&(t.innerHTML=""),Cse(t,sP(E)?E:[E],i,o,s,a&&"foreignObject"!==N,l,c,l?l[0]:o.__k&&my(o,0),u,p),null!=l)for(h=l.length;h--;)null!=l[h]&&xse(l[h]);u||(h="value",void 0!==D&&(D!==t[h]||"progress"===N&&!D||"option"===N&&D!==R[h])&&uP(t,h,D,R[h],!1),h="checked",void 0!==k&&k!==t[h]&&uP(t,h,k,R[h],!1))}return t}(o.__e,i,o,s,a,l,c,p,h);(v=or.diffed)&&v(i)}function Ose(t,i,o){i.__d=void 0;for(var s=0;s<o.length;s++)Rj(o[s],o[++s],o[++s]);or.__c&&or.__c(i,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(l){l.call(a)})}catch(l){or.__e(l,a.__v)}})}function Rj(t,i,o){try{"function"==typeof t?t(i):t.current=i}catch(s){or.__e(s,o)}}function Aj(t,i,o){var s,a;if(or.unmount&&or.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||Rj(s,null,i)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){or.__e(l,i)}s.base=s.__P=null}if(s=t.__k)for(a=0;a<s.length;a++)s[a]&&Aj(s[a],i,o||"function"!=typeof t.type);o||null==t.__e||xse(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function X$e(t,i,o){return this.constructor(t,o)}function Ij(t,i,o){var s,a,l,c;or.__&&or.__(t,i),a=(s="function"==typeof o)?null:o&&o.__k||i.__k,l=[],c=[],Mj(i,t=(!s&&o||i).__k=wse(aP,null,[t]),a||g6,g6,void 0!==i.ownerSVGElement,!s&&o?[o]:a?null:i.firstChild?m6.call(i.childNodes):null,l,!s&&o?o:a?a.__e:i.firstChild,s,c),Ose(l,t,c)}m6=Ese.slice,or={__e:function(t,i,o,s){for(var a,l,c;i=i.__;)if((a=i.__c)&&!a.__)try{if((l=a.constructor)&&null!=l.getDerivedStateFromError&&(a.setState(l.getDerivedStateFromError(t)),c=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(t,s||{}),c=a.__d),c)return a.__E=a}catch(u){t=u}throw t}},vse=0,lP.prototype.setState=function(t,i){var o;o=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Nf({},this.state),"function"==typeof t&&(t=t(Nf({},o),this.props)),t&&Nf(o,t),null!=t&&this.__v&&(i&&this._sb.push(i),kj(this))},lP.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),kj(this))},lP.prototype.render=aP,hy=[],bse="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dj=function(t,i){return t.__v.__b-i.__v.__b},cP.__r=0,Tj=0,Pj=Pse(!1),Oj=Pse(!0);var Lf,$i,Nj,Rse,kse=function(t,i,o,s){var a;i[0]=0;for(var l=1;l<i.length;l++){var c=i[l++],u=i[l]?(i[0]|=c?1:2,o[i[l++]]):i[++l];3===c?s[0]=u:4===c?s[1]=Object.assign(s[1]||{},u):5===c?(s[1]=s[1]||{})[i[++l]]=u:6===c?s[1][i[++l]]+=u+"":c?(a=t.apply(u,kse(t,u,o,["",null])),s.push(a),u[0]?i[0]|=2:(i[l-2]=0,i[l]=a)):s.push(u)}return s},Mse=new Map,Ko=function K$e(t){var i=Mse.get(this);return i||Mse.set(this,i=new Map),(i=kse(this,i.get(t)||(i.set(t,i=function(o){for(var s,a,l=1,c="",u="",p=[0],h=function(E){1===l&&(E||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?p.push(0,E,c):3===l&&(E||c)?(p.push(3,E,c),l=2):2===l&&"..."===c&&E?p.push(4,E,0):2===l&&c&&!E?p.push(5,0,!0,c):l>=5&&((c||!E&&5===l)&&(p.push(l,0,c,a),l=6),E&&(p.push(l,E,0,a),l=6)),c=""},v=0;v<o.length;v++){v&&(1===l&&h(),h(v));for(var y=0;y<o[v].length;y++)s=o[v][y],1===l?"<"===s?(h(),p=[p],l=3):c+=s:4===l?"--"===c&&">"===s?(l=1,c=""):c=s+c[0]:u?s===u?u="":c+=s:'"'===s||"'"===s?u=s:">"===s?(h(),l=1):l&&("="===s?(l=5,a=c,c=""):"/"===s&&(l<5||">"===o[v][y+1])?(h(),3===l&&(p=p[0]),l=p,(p=p[0]).push(2,0,l),l=0):" "===s||"\t"===s||"\n"===s||"\r"===s?(h(),l=2):c+=s),3===l&&"!--"===c&&(l=4,p=p[0])}return h(),p}(t)),i),arguments,[])).length>1?i:i[0]}.bind(wse),R5=0,Ase=[],dP=[],Ise=or.__b,Nse=or.__r,Lse=or.diffed,Fse=or.__c,Bse=or.unmount;function gy(t,i){or.__h&&or.__h($i,t,R5||i),R5=0;var o=$i.__H||($i.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:dP}),o.__[t]}function pP(t){return R5=1,function Q$e(t,i,o){var s=gy(Lf++,2);if(s.t=t,!s.__c&&(s.__=[o?o(i):$se(void 0,i),function(u){var p=s.__N?s.__N[0]:s.__[0],h=s.t(p,u);p!==h&&(s.__N=[h,s.__[1]],s.__c.setState({}))}],s.__c=$i,!$i.u)){var a=function(u,p,h){if(!s.__c.__H)return!0;var v=s.__c.__H.__.filter(function(E){return E.__c});if(v.every(function(E){return!E.__N}))return!l||l.call(this,u,p,h);var y=!1;return v.forEach(function(E){if(E.__N){var S=E.__[0];E.__=E.__N,E.__N=void 0,S!==E.__[0]&&(y=!0)}}),!(!y&&s.__c.props===u)&&(!l||l.call(this,u,p,h))};$i.u=!0;var l=$i.shouldComponentUpdate,c=$i.componentWillUpdate;$i.componentWillUpdate=function(u,p,h){if(this.__e){var v=l;l=void 0,a(u,p,h),l=v}c&&c.call(this,u,p,h)},$i.shouldComponentUpdate=a}return s.__N||s.__}($se,t)}function Lj(t,i){var o=gy(Lf++,3);!or.__s&&jj(o.__H,i)&&(o.__=t,o.i=i,$i.__H.__h.push(o))}function y6(t,i){var o=gy(Lf++,4);!or.__s&&jj(o.__H,i)&&(o.__=t,o.i=i,$i.__h.push(o))}function Fj(t){return R5=5,b6(function(){return{current:t}},[])}function b6(t,i){var o=gy(Lf++,7);return jj(o.__H,i)?(o.__V=t(),o.i=i,o.__h=t,o.__V):o.__}function A5(t,i){return R5=8,b6(function(){return t},i)}function Z$e(){for(var t;t=Ase.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(fP),t.__H.__h.forEach(Bj),t.__H.__h=[]}catch(i){t.__H.__h=[],or.__e(i,t.__v)}}or.__b=function(t){$i=null,Ise&&Ise(t)},or.__r=function(t){Nse&&Nse(t),Lf=0;var i=($i=t.__c).__H;i&&(Nj===$i?(i.__h=[],$i.__h=[],i.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=dP,o.__N=o.i=void 0})):(i.__h.forEach(fP),i.__h.forEach(Bj),i.__h=[],Lf=0)),Nj=$i},or.diffed=function(t){Lse&&Lse(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==Ase.push(i)&&Rse===or.requestAnimationFrame||((Rse=or.requestAnimationFrame)||J$e)(Z$e)),i.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==dP&&(o.__=o.__V),o.i=void 0,o.__V=dP})),Nj=$i=null},or.__c=function(t,i){i.some(function(o){try{o.__h.forEach(fP),o.__h=o.__h.filter(function(s){return!s.__||Bj(s)})}catch(s){i.some(function(a){a.__h&&(a.__h=[])}),i=[],or.__e(s,o.__v)}}),Fse&&Fse(t,i)},or.unmount=function(t){Bse&&Bse(t);var i,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(s){try{fP(s)}catch(a){i=a}}),o.__H=void 0,i&&or.__e(i,o.__v))};var jse="function"==typeof requestAnimationFrame;function J$e(t){var i,o=function(){clearTimeout(s),jse&&cancelAnimationFrame(i),setTimeout(t)},s=setTimeout(o,100);jse&&(i=requestAnimationFrame(o))}function fP(t){var i=$i,o=t.__c;"function"==typeof o&&(t.__c=void 0,o()),$i=i}function Bj(t){var i=$i;t.__c=t.__(),$i=i}function jj(t,i){return!t||t.length!==i.length||i.some(function(o,s){return o!==t[s]})}function $se(t,i){return"function"==typeof i?i(t):i}function Vse(t){var i,o,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(o=Vse(t[i]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}const hP=function eVe(){for(var t,i,o=0,s="",a=arguments.length;o<a;o++)(t=arguments[o])&&(i=Vse(t))&&(s&&(s+=" "),s+=i);return s};function tVe(t){const{entry:i,selected:o,onMouseEnter:s,onMouseLeave:a,onAction:l}=t;return Ko`
    <li
      class=${hP("entry",{selected:o})}
      data-id=${i.id}
      title=${i.title||i.label}
      onClick=${l}
      onMouseEnter=${s}
      onMouseLeave=${a}
      onDragStart=${c=>l(c,i,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${hP("djs-popup-entry-name",i.className)}
        >
          ${i.imageUrl&&Ko`<img class="djs-popup-entry-icon" src=${i.imageUrl} alt="" />`||i.imageHtml&&Ko`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:i.imageHtml}} />`}

          ${i.label?Ko`
            <span class="djs-popup-label">
              ${i.label}
            </span>
          `:null}
        </span>
        ${i.description&&Ko`
          <span
            class="djs-popup-entry-description"
            title=${i.description}
          >
            ${i.description}
          </span>
        `}
      </div>
      ${i.documentationRef&&Ko`
        <div class="djs-popup-entry-docs">
          <a
            href="${i.documentationRef}"
            onClick=${c=>c.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function nVe(t){const{selectedEntry:i,setSelectedEntry:o,entries:s,...a}=t,l=Fj(),c=b6(()=>function rVe(t){const i=[],o=l=>i.find(c=>l.id===c.id);return t.forEach(l=>{const c=l.group?(l=>"string"==typeof l?{id:l}:l)(l.group):{id:"default"};(l=>!!o(l))(c)?o(c).entries.push(l):i.push({...c,entries:[l]})}),i}(s),[s]);return y6(()=>{const u=l.current;if(!u)return;const p=u.querySelector(".selected");p&&function iVe(t){"function"==typeof t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}(p)},[i]),Ko`
    <div class="djs-popup-results" ref=${l}>
      ${c.map(u=>Ko`
        ${u.name&&Ko`
          <div key=${u.id} class="entry-header" title=${u.name}>
            ${u.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${u.id}>
          ${u.entries.map(p=>Ko`
            <${tVe}
              key=${p.id}
              entry=${p}
              selected=${p===i}
              onMouseEnter=${()=>o(p)}
              onMouseLeave=${()=>o(null)}
              ...${a}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function oVe(t){const{onClose:i,onSelect:o,className:s,headerEntries:a,position:l,title:c,width:u,scale:p,search:h,entries:v,onOpened:y,onClosed:E}=t,S=b6(()=>!!Ii(h)&&v.length>5,[h,v]),D=Fj(),[k,R]=pP(""),L=A5((we,fe)=>S?we.filter(Fe=>{if(!fe)return(Fe.rank||0)>=0;const bt=[Fe.description||"",Fe.label||"",Fe.search||""].join("---").toLowerCase();return fe.toLowerCase().split(/\s/g).every(Et=>bt.includes(Et))}):we,[S]),[N,B]=pP(L(v,k)),[$,q]=pP(N[0]),ee=A5(we=>{(!$||!we.includes($))&&q(we[0]),B(we)},[$,B,q]);Lj(()=>{ee(L(v,k))},[k,v]),Lj(()=>{const we=fe=>{if("Escape"===fe.key)return fe.preventDefault(),i()};return document.documentElement.addEventListener("keydown",we),()=>{document.documentElement.removeEventListener("keydown",we)}},[]),y6(()=>{D.current&&D.current.focus()},[]);const ae=A5(we=>{let ye=N.indexOf($)+we;ye<0&&(ye=N.length-1),ye>=N.length&&(ye=0),q(N[ye])},[N,$,q]),te=A5(we=>"Enter"===we.key&&$?o(we,$):"ArrowUp"===we.key||"Tab"===we.key&&we.shiftKey?(ae(-1),we.preventDefault()):"ArrowDown"===we.key||"Tab"===we.key?(ae(1),we.preventDefault()):void 0,[o,i,$,ae]),ne=A5(we=>{Bx(we.target,"input")&&R(()=>we.target.value)},[R]);Lj(()=>(y(),()=>{E()}),[]);const he=b6(()=>c||a.length>0,[c,a]);return Ko`
    <${zse}
      onClose=${i}
      onKeyup=${ne}
      onKeydown=${te}
      className=${s}
      position=${l}
      width=${u}
      scale=${p}
    >
      ${he&&Ko`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${c}>${c}</h3>
          ${a.map(we=>Ko`
            <span
              class=${function aVe(t,i){return hP("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",i?"selected":"")}(we,we===$)}
              onClick=${fe=>o(fe,we)}
              title=${we.title||we.label}
              data-id=${we.id}
              onMouseEnter=${()=>q(we)}
              onMouseLeave=${()=>q(null)}
            >
            ${we.imageUrl&&Ko`<img class="djs-popup-entry-icon" src=${we.imageUrl} alt="" />`||we.imageHtml&&Ko`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:we.imageHtml}} />`}

              ${we.label?Ko`
                <span class="djs-popup-label">${we.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${v.length>0&&Ko`
        <div class="djs-popup-body">

          ${S&&Ko`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${D}
                type="text"
              />
          </div>
          `}

          <${nVe}
            entries=${N}
            selectedEntry=${$}
            setSelectedEntry=${q}
            onAction=${o}
          />
        </div>
        ${0===N.length&&Ko`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${zse}>
  `}function zse(t){const{onClose:i,onKeydown:o,onKeyup:s,className:a,children:l,position:c}=t,u=Fj(),p=A5(h=>{mf(h.target,".djs-popup",!0)||i()},[i]);return y6(()=>{if("function"!=typeof c)return;const h=u.current,v=c(h);h.style.left=`${v.x}px`,h.style.top=`${v.y}px`},[u.current,c]),y6(()=>{u.current&&u.current.focus()},[]),Ko`
    <div
      class="djs-popup-backdrop"
      onClick=${p}
    >
      <div
        class=${hP("djs-popup",a)}
        style=${function sVe(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`}}(t)}
        onKeydown=${o}
        onKeyup=${s}
        ref=${u}
        tabIndex="-1"
      >
        ${l}
      </div>
    </div>
  `}var Hse=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Eo(t,i,o){this._eventBus=i,this._canvas=o,this._current=null;var s=Ii(t&&t.scale)?t.scale:{min:1,max:1.5};this._config={scale:s},i.on("diagram.destroy",()=>{this.close()}),i.on("element.changed",a=>{const l=this.isOpen()&&this._current.target;a.element===l&&this._render()})}Eo.$inject=["config.popupMenu","eventBus","canvas"],Eo.prototype._render=function(){const{position:t,className:i,entries:o,headerEntries:s,options:a}=this._current,l=Object.entries(o).map(([y,E])=>({id:y,...E})),c=Object.entries(s).map(([y,E])=>({id:y,...E})),u=t&&(y=>this._ensureVisible(y,t)),p=this._updateScale(this._current.container);Ij(Ko`
      <${oVe}
        onClose=${y=>this.close(y)}
        onSelect=${(y,E,S)=>this.trigger(y,E,S)}
        position=${u}
        className=${i}
        entries=${l}
        headerEntries=${c}
        scale=${p}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...a}}
      />
    `,this._current.container)},Eo.prototype.open=function(t,i,o,s){if(!t)throw new Error("target is missing");if(!i)throw new Error("providers for <"+i+"> not found");if(!o)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:a,headerEntries:l}=this._getContext(t,i);this._current={position:o,className:i,target:t,entries:a,headerEntries:l,container:this._createContainer({provider:i}),options:s},this._emit("open"),this._bindAutoClose(),this._render()},Eo.prototype._getContext=function(t,i){const o=this._getProviders(i);if(!o||!o.length)throw new Error("provider for <"+i+"> not found");const s=this._getEntries(t,o),a=this._getHeaderEntries(t,o);return{entries:s,headerEntries:a,empty:!(Object.keys(s).length||Object.keys(a).length)}},Eo.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Eo.prototype.reset=function(){const t=this._current.container;Ij(null,t),kd(t)},Eo.prototype._emit=function(t,i){this._eventBus.fire(`popupMenu.${t}`,i)},Eo.prototype._onOpened=function(){this._emit("opened")},Eo.prototype._onClosed=function(){this._emit("closed")},Eo.prototype._createContainer=function(t){var o=this._canvas.getContainer();const s=ui(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return o.appendChild(s),s},Eo.prototype._bindAutoClose=function(){this._eventBus.once(Hse,this.close,this)},Eo.prototype._unbindAutoClose=function(){this._eventBus.off(Hse,this.close,this)},Eo.prototype._updateScale=function(){var o,s,t=this._canvas.zoom(),i=this._config.scale,a=t;return!0!==i&&(!1===i?(o=1,s=1):(o=i.min,s=i.max),Ii(o)&&t<o&&(a=o),Ii(s)&&t>s&&(a=s)),a},Eo.prototype._ensureVisible=function(t,i){var o=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect(),a={},l=i.x,c=i.y;return i.x+s.width>o.width&&(a.x=!0),i.y+s.height>o.height&&(a.y=!0),a.x&&a.y?(l=i.x-s.width,c=i.y-s.height):a.x?(l=i.x-s.width,c=i.y):a.y&&i.y<s.height?(l=i.x,c=10):a.y&&(l=i.x,c=i.y-s.height),i.y<o.top&&(c=i.y+s.height),{x:l,y:c}},Eo.prototype.isEmpty=function(t,i){if(!t)throw new Error("target is missing");if(!i)throw new Error("provider ID is missing");const o=this._getProviders(i);return!o||!o.length||this._getContext(t,i).empty},Eo.prototype.registerProvider=function(t,i,o){o||(o=i,i=1e3),this._eventBus.on("popupMenu.getProviders."+t,i,function(s){s.providers.push(o)})},Eo.prototype._getProviders=function(t){var i=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(i),i.providers},Eo.prototype._getEntries=function(t,i){var o={};return _e(i,function(s){if(s.getPopupMenuEntries){var a=s.getPopupMenuEntries(t);Br(a)?o=a(o):_e(a,function(l,c){o[c]=l})}else _e(s.getEntries(t),function(l){var c=l.id;if(!c)throw new Error("entry ID is missing");o[c]=Od(l,["id"])})}),o},Eo.prototype._getHeaderEntries=function(t,i){var o={};return _e(i,function(s){if(s.getPopupMenuHeaderEntries){var a=s.getPopupMenuHeaderEntries(t);Br(a)?o=a(o):_e(a,function(l,c){o[c]=l})}else{if(!s.getHeaderEntries)return;_e(s.getHeaderEntries(t),function(l){var c=l.id;if(!c)throw new Error("entry ID is missing");o[c]=Od(l,["id"])})}}),o},Eo.prototype.isOpen=function(){return!!this._current},Eo.prototype.trigger=function(t,i,o="click"){if(t.preventDefault(),!i){let l=Ma(mf(t.delegateTarget||t.target,".entry",!0),"data-id");i={id:l,...this._getEntry(l)}}const s=i.action;if(!1!==this._emit("trigger",{entry:i,event:t}))if(Br(s)){if("click"===o)return s(t,i)}else if(s[o])return s[o](t,i)},Eo.prototype._getEntry=function(t){var i=this._current.entries[t]||this._current.headerEntries[t];if(!i)throw new Error("entry not found");return i};const $j={__init__:["popupMenu"],popupMenu:["type",Eo]},Use={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function I5(t,i,o,s){t.registerProvider(900,this),this._contextPad=t,this._popupMenu=i,this._translate=o,this._canvas=s}I5.$inject=["contextPad","popupMenu","translate","canvas"],I5.prototype.getMultiElementContextPadEntries=function(t){var i={};return this._isAllowed(t)&&Ae(i,this._getEntries(t)),i},I5.prototype._isAllowed=function(t){return!this._popupMenu.isEmpty(t,"align-elements")},I5.prototype._getEntries=function(){var t=this;return{"align-elements":{group:"align-elements",title:t._translate("Align elements"),html:`<div class="entry">${Use.align}</div>`,action:{click:function(i,o){var s=t._getMenuPosition(o);Ae(s,{cursor:{x:i.x,y:i.y}}),t._popupMenu.open(o,"align-elements",s)}}}}},I5.prototype._getMenuPosition=function(t){var s=this._contextPad.getPad(t).html.getBoundingClientRect();return{x:s.left,y:s.bottom+5}};var pVe=["left","center","right","top","middle","bottom"];function _6(t,i,o,s){this._alignElements=i,this._translate=o,this._popupMenu=t,this._rules=s,t.registerProvider("align-elements",this)}function hu(t){pt.call(this,t),this.init()}function mP(t){hu.call(this,t)}_6.$inject=["popupMenu","alignElements","translate","rules"],_6.prototype.getPopupMenuEntries=function(t){var i={};return this._isAllowed(t)&&Ae(i,this._getEntries(t)),i},_6.prototype._isAllowed=function(t){return this._rules.allowed("elements.align",{elements:t})},_6.prototype._getEntries=function(t){var i=this._alignElements,o=this._translate,s=this._popupMenu,a={};return _e(pVe,function(l){a["align-elements-"+l]={group:"align",title:o("Align elements "+l),className:"bjs-align-elements-menu-entry",imageHtml:Use[l],action:function(){i.trigger(t,l),s.close()}}}),a},hu.$inject=["eventBus"],jt(hu,pt),hu.prototype.addRule=function(t,i,o){var s=this;"string"==typeof t&&(t=[t]),t.forEach(function(a){s.canExecute(a,i,function(l,c,u){return o(l)},!0)})},hu.prototype.init=function(){},mP.$inject=["eventBus"],jt(mP,hu),mP.prototype.init=function(){this.addRule("elements.align",function(t){var o=On(t.elements,function(s){return!(s.waypoints||s.host||s.labelTarget)});return!((o=N9(o)).length<2)&&o})};const fVe={__depends__:[F$e,gse,$j],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",I5],alignElementsMenuProvider:["type",_6],bpmnAlignElements:["type",mP]};var hVe=10,Gse=50,mVe=250;function Vj(t,i,o,s){for(var a;a=gVe(t,o,i);)o=s(i,o,a);return o}function zj(t){return function(i,o,s){var a={x:o.x,y:o.y};return["x","y"].forEach(function(l){var c=t[l];if(c){var u="x"===l?"width":"height",p=c.margin,h=c.minDistance;a[l]=p<0?Math.min(s[l]+p-i[u]/2,o[l]-h+p):Math.max(s[l]+s[u]+p+i[u]/2,o[l]+h+p)}}),a}}function gVe(t,i,o){var s={x:i.x-o.width/2,y:i.y-o.height/2,width:o.width,height:o.height},a=function yVe(t){var i=Hj(t);return t.host&&(i=i.concat(Hj(t.host))),t.attachers&&(i=i.concat(t.attachers.reduce(function(o,s){return o.concat(Hj(s))},[]))),i}(t);return Kn(a,function(l){return l!==o&&"intersect"===fa(l,s,hVe)})}function Hj(t){return function _Ve(t){return t.outgoing.map(function(i){return i.target})}(t).concat(function bVe(t){return t.incoming.map(function(i){return i.source})}(t))}function EVe(){return!0}function qse(t,i,o){t.on("autoPlace",100,function(s){return function wVe(t,i,o){o||(o={});var s=o.defaultDistance||Gse,a=wn(t);return{x:an(t).right+s+i.width/2,y:a.y}}(s.source,s.shape)}),t.on("autoPlace.end",function(s){o.scrollToElement(s.shape)}),this.append=function(s,a,l){t.fire("autoPlace.start",{source:s,shape:a});var c=t.fire("autoPlace",{source:s,shape:a}),u=i.appendShape(s,a,c,s.parent,l);return t.fire("autoPlace.end",{source:s,shape:u}),u}}function Wse(t,i){t.on("autoPlace.end",500,function(o){i.select(o.shape)})}qse.$inject=["eventBus","modeling","canvas"],Wse.$inject=["eventBus","selection"];const SVe={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",qse],autoPlaceSelectionBehavior:["type",Wse]};function Xse(t,i){return j(i,"bpmn:TextAnnotation")?function TVe(t,i){var o=an(t),s={x:o.right+i.width/2,y:o.top-50-i.height/2};return Di(t)&&((s=wn(t)).x+=100,s.y-=50),Vj(t,i,s,zj({y:{margin:-30,minDistance:20}}))}(t,i):on(i,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function PVe(t,i){var o=an(t);return Vj(t,i,{x:o.right-10+i.width/2,y:o.bottom+40+i.width/2},zj({x:{margin:30,minDistance:30}}))}(t,i):j(i,"bpmn:FlowNode")?function CVe(t,i){var o=an(t),s=wn(t),a=function vVe(t,i){i||(i={});var s=i.defaultDistance||Gse,a=i.direction||"e",l=i.filter,c=i.getWeight||function o(D){return D.source===t?1:-1},u=i.maxDistance||mVe,p=i.reference||"start";function h(D,k){return"n"===a?"start"===p?an(D).top-an(k).bottom:"center"===p?an(D).top-wn(k).y:an(D).top-an(k).top:"w"===a?"start"===p?an(D).left-an(k).right:"center"===p?an(D).left-wn(k).x:an(D).left-an(k).left:"s"===a?"start"===p?an(k).top-an(D).bottom:"center"===p?wn(k).y-an(D).bottom:an(k).bottom-an(D).bottom:"start"===p?an(k).left-an(D).right:"center"===p?wn(k).x-an(D).right:an(k).right-an(D).right}l||(l=EVe);var v=t.incoming.filter(l).map(function(D){var k=c(D),R=k<0?h(D.source,t):h(t,D.source);return{id:D.source.id,distance:R,weight:k}}),y=t.outgoing.filter(l).map(function(D){var k=c(D),R=k>0?h(t,D.target):h(D.target,t);return{id:D.target.id,distance:R,weight:k}});return dl(v.concat(y).reduce(function(D,k){return D[k.id+"__weight_"+k.weight]=k,D},{}),function(D,k){var R=k.distance,L=k.weight;return R<0||R>u||(D[String(R)]||(D[String(R)]=0),D[String(R)]+=1*L,(!D.distance||D[D.distance]<D[String(R)])&&(D.distance=R)),D},{}).distance||s}(t,{filter:function(v){return j(v,"bpmn:SequenceFlow")}}),l=30,u="left";return j(t,"bpmn:BoundaryEvent")&&(-1!==(u=fa(t,t.host,-25)).indexOf("top")&&(l*=-1)),Vj(t,i,{x:o.right+a+i.width/2,y:s.y+DVe(u,80)},zj({y:{margin:l,minDistance:80}}))}(t,i):void 0}function DVe(t,i){return t.includes("top")?-1*i:t.includes("bottom")?i:0}function Yse(t){t.on("autoPlace",function(i){return Xse(i.source,i.shape)})}Yse.$inject=["eventBus"];const Kse={__depends__:[SVe],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",Yse]};function Ff(t,i,o,s){pt.call(this,t),this._elementRegistry=i,this._modeling=o,this._rules=s;var a=this;this.postExecuted(["shape.create"],function(l){var c=l.context;!1!==(c.hints||{}).autoResize&&a._expand([c.shape],c.parent||c.newParent)}),this.postExecuted(["elements.move"],function(l){var c=l.context,u=Ix(VA(c.closure.topLevel)),p=c.hints,h=!p||p.autoResize;!1!==h&&_e(Tv(u,function(y){return y.parent.id}),function(y,E){Rn(h)&&(y=y.filter(function(S){return Kn(h,d0({id:S.id}))})),a._expand(y,E)})}),this.postExecuted(["shape.toggleCollapse"],function(l){var c=l.context,u=c.hints,p=c.shape;u&&!1===u.autoResize||p.collapsed||a._expand(p.children||[],p)}),this.postExecuted(["shape.resize"],function(l){var c=l.context,u=c.hints,p=c.shape,h=p.parent;u&&!1===u.autoResize||h&&a._expand([p],h)})}function gP(t){t.invoke(Ff,this)}function E6(t){hu.call(this,t);var i=this;this.addRule("element.autoResize",function(o){return i.canResize(o.elements,o.target)})}function vP(t,i){E6.call(this,t),this._modeling=i}Ff.$inject=["eventBus","elementRegistry","modeling","rules"],jt(Ff,pt),Ff.prototype._getOptimalBounds=function(t,i){var o=this.getOffset(i),s=this.getPadding(i),a=an(Ao(t)),l=an(i),c={};return a.top-l.top<s.top&&(c.top=a.top-o.top),a.left-l.left<s.left&&(c.left=a.left-o.left),l.right-a.right<s.right&&(c.right=a.right+o.right),l.bottom-a.bottom<s.bottom&&(c.bottom=a.bottom+o.bottom),L9(Ae({},l,c))},Ff.prototype._expand=function(t,i){if("string"==typeof i&&(i=this._elementRegistry.get(i)),this._rules.allowed("element.autoResize",{elements:t,target:i})){var s=this._getOptimalBounds(t,i);if(function OVe(t,i){return t.x!==i.x||t.y!==i.y||t.width!==i.width||t.height!==i.height}(s,i)){var a=function kVe(t,i){var o="";return t=an(t),i=an(i),t.top>i.top&&(o=o.concat("n")),t.right<i.right&&(o=o.concat("w")),t.bottom<i.bottom&&(o=o.concat("s")),t.left>i.left&&(o=o.concat("e")),o}(p0(i,["x","y","width","height"]),s);this.resize(i,s,{autoResize:a});var l=i.parent;l&&this._expand([i],l)}}},Ff.prototype.getOffset=function(t){return{top:60,bottom:60,left:100,right:100}},Ff.prototype.getPadding=function(t){return{top:2,bottom:2,left:15,right:15}},Ff.prototype.resize=function(t,i,o){this._modeling.resizeShape(t,i,null,o)},gP.$inject=["injector"],jt(gP,Ff),gP.prototype.resize=function(t,i,o){j(t,"bpmn:Participant")?this._modeling.resizeLane(t,i,null,o):this._modeling.resizeShape(t,i,null,o)},E6.$inject=["eventBus"],jt(E6,hu),E6.prototype.canResize=function(t,i){return!1},jt(vP,E6),vP.$inject=["eventBus","modeling"],vP.prototype.canResize=function(t,i){if(j(i.di,"bpmndi:BPMNPlane")||!j(i,"bpmn:Participant")&&!j(i,"bpmn:Lane")&&!j(i,"bpmn:SubProcess"))return!1;var o=!0;return _e(t,function(s){(j(s,"bpmn:Lane")||Rr(s))&&(o=!1)}),o};const MVe={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",gP],bpmnAutoResizeProvider:["type",vP]};function Zse(t,i,o){var c,u,s=this,a=o.get("dragging",!1);a&&i.on("drag.start",function(c){i.once("drag.move",1500,function(u){!function l(c){if(!c.hover){var u=c.originalEvent,p=s._findTargetGfx(u),h=p&&t.get(p);p&&h&&(c.stopPropagation(),a.hover({element:h,gfx:p}),a.move(u))}}(u)})}),i.on("element.hover",function(p){c=p.gfx,u=p.element}),i.on("element.hover",1500,function(p){u&&i.fire("element.out",{element:u,gfx:c})}),i.on("element.out",function(){c=null,u=null}),this._findTargetGfx=function(c){var u;if(c instanceof MouseEvent)return u=Gm(c),function RVe(t){return mf(t,"svg, .djs-element",!0)}(document.elementFromPoint(u.x,u.y))}}Zse.$inject=["elementRegistry","eventBus","injector"];const AVe={__init__:["hoverFix"],hoverFix:["type",Zse]};var N5=Math.round,Jse="djs-drag-active";function vy(t){t.preventDefault()}function eae(t,i,o,s){var l,a={threshold:5,trapClick:!0};function c(B){var $=i.viewbox(),q=i._container.getBoundingClientRect();return{x:$.x+(B.x-q.left)/$.scale,y:$.y+(B.y-q.top)/$.scale}}function u(B,$){var q=t.createEvent(Ae({},($=$||l).payload,$.data,{isTouch:$.isTouch}));return!1!==t.fire("drag."+B,q)&&t.fire($.prefix+"."+B,q)}function h(B,$){var q=l.payload,ee=l.displacement,ae=l.globalStart,te=Gm(B),ne=E0(te,ae),he=l.localStart,we=c(te),fe=E0(we,he);if(!l.active&&($||function NVe(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(ne)>l.threshold)){if(Ae(q,{x:N5(he.x+ee.x),y:N5(he.y+ee.y),dx:0,dy:0},{originalEvent:B}),!1===u("start"))return R();l.active=!0,l.keepSelection||(q.previousSelection=o.get(),o.select(null)),l.cursor&&rP(l.cursor),i.addMarker(i.getRootElement(),Jse)}cj(B),l.active&&(Ae(q,{x:N5(we.x+ee.x),y:N5(we.y+ee.y),dx:N5(fe.x),dy:N5(fe.y)},{originalEvent:B}),u("move"))}function v(B){var q=!0;l.active&&(B&&(l.payload.originalEvent=B,cj(B)),q=u("end")),!1===q&&u("rejected"),u("ended",L(!0!==q))}function y(B){Is("Escape",B)&&(vy(B),R())}function E(B){var $;l.active&&($=ise(t),setTimeout($,400),vy(B)),v(B)}function S(B){h(B)}function D(B){var $=l.payload;$.hoverGfx=B.gfx,$.hover=B.element,u("hover")}function k(B){u("out");var $=l.payload;$.hoverGfx=null,$.hover=null}function R(B){var $;if(l){var q=l.active;q&&u("cancel"),$=L(B),q&&u("canceled",$)}}function L(B){var $,q;u("cleanup"),rse(),q=l.trapClick?E:v,fn.unbind(document,"mousemove",h),fn.unbind(document,"dragstart",vy),fn.unbind(document,"selectstart",vy),fn.unbind(document,"mousedown",q,!0),fn.unbind(document,"mouseup",q,!0),fn.unbind(document,"keyup",y),fn.unbind(document,"touchstart",S,!0),fn.unbind(document,"touchcancel",R,!0),fn.unbind(document,"touchmove",h,!0),fn.unbind(document,"touchend",v,!0),t.off("element.hover",D),t.off("element.out",k),i.removeMarker(i.getRootElement(),Jse);var ee=l.payload.previousSelection;return!1!==B&&ee&&!o.get().length&&function p(B){var $=B.filter(function(q){return s.get(q.id)});$.length&&o.select($)}(ee),$=l,l=null,$}t.on("diagram.destroy",R),this.init=function N(B,$,q,ee){l&&R(!1),"string"==typeof $&&(ee=q,q=$,$=null);var te,ne,he,we,fe,ae=(ee=Ae({},a,ee||{})).data||{};we=ee.trapClick?E:v,B?(te=T5(B)||B,ne=Gm(B),cj(B),"dragstart"===te.type&&vy(te)):(te=null,ne={x:0,y:0}),he=c(ne),$||($=he),fe=function IVe(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}(te),l=Ae({prefix:q,data:ae,payload:{},globalStart:ne,displacement:E0($,he),localStart:he,isTouch:fe},ee),ee.manual||(fe?(fn.bind(document,"touchstart",S,!0),fn.bind(document,"touchcancel",R,!0),fn.bind(document,"touchmove",h,!0),fn.bind(document,"touchend",v,!0)):(fn.bind(document,"mousemove",h),fn.bind(document,"dragstart",vy),fn.bind(document,"selectstart",vy),fn.bind(document,"mousedown",we,!0),fn.bind(document,"mouseup",we,!0)),fn.bind(document,"keyup",y),t.on("element.hover",D),t.on("element.out",k)),u("init"),ee.autoActivate&&h(B,!0)},this.move=h,this.hover=D,this.out=k,this.end=v,this.cancel=R,this.context=function(){return l},this.setOptions=function(B){Ae(a,B)}}eae.$inject=["eventBus","canvas","selection","elementRegistry"];const Bf={__depends__:[AVe,Yd],dragging:["type",eae]};function L5(t,i,o){this._canvas=o,this._opts=Ae({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var s=this;i.on("drag.move",function(a){var l=s._toBorderPoint(a);s.startScroll(l)}),i.on(["drag.cleanup"],function(){s.stopScroll()})}function LVe(t,i,o){return i<t&&t<o}L5.$inject=["config.autoScroll","eventBus","canvas"],L5.prototype.startScroll=function(t){var i=this._canvas,o=this._opts,s=this,a=i.getContainer().getBoundingClientRect(),l=[t.x,t.y,a.width-t.x,a.height-t.y];this.stopScroll();for(var c=0,u=0,p=0;p<4;p++)LVe(l[p],o.scrollThresholdOut[p],o.scrollThresholdIn[p])&&(0===p?c=o.scrollStep:1==p?u=o.scrollStep:2==p?c=-o.scrollStep:3==p&&(u=-o.scrollStep));(0!==c||0!==u)&&(i.scroll({dx:c,dy:u}),this._scrolling=setTimeout(function(){s.startScroll(t)},o.scrollRepeatTimeout))},L5.prototype.stopScroll=function(){clearTimeout(this._scrolling)},L5.prototype.setOptions=function(t){this._opts=Ae({},this._opts,t)},L5.prototype._toBorderPoint=function(t){var i=this._canvas._container.getBoundingClientRect(),o=Gm(t.originalEvent);return{x:o.x-i.left,y:o.y-i.top}};const FVe={__depends__:[Bf],__init__:["autoScroll"],autoScroll:["type",L5]};function Uj(t){this._commandStack=t.get("commandStack",!1)}Uj.$inject=["injector"],Uj.prototype.allowed=function(t,i){var o=!0,s=this._commandStack;return s&&(o=s.canExecute(t,i)),void 0===o||o};const Qd={__init__:["rules"],rules:["type",Uj]};var yP=Math.round,BVe=Math.max,tae=10;function Gj(t,i){return function VVe(t,i){var o,s;for(o=0;s=t[o];o++)if(n6(s,i)<=tae)return{point:t[o],bendpoint:!0,index:o};return null}(t,i)||function zVe(t,i){var l,o=Gie()(function jVe(t,i){return[["M",t.x,t.y],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]]}(i,tae),function $Ve(t){var i=[];return t.forEach(function(o,s){i.push([0===s?"M":"L",o.x,o.y])}),i}(t)),s=o[0],a=o[o.length-1];return s?s!==a?s.segment2!==a.segment2?{point:t[l=BVe(s.segment2,a.segment2)-1],bendpoint:!0,index:l}:{point:{x:yP(s.x+a.x)/2,y:yP(s.y+a.y)/2},index:s.segment2}:{point:{x:yP(s.x),y:yP(s.y)},index:s.segment2}:null}(t,i)}function nae(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function rae(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function qj(t,i){var o=i[0],s=i[1],a={x:s.x-o.x,y:s.y-o.y},l=function UVe(t,i,o){var s=[{n:t[0]-o[0],lambda:i[0]},{n:t[1]-o[1],lambda:i[1]}];return-(s[0].n*i[0]+s[1].n*i[1])/(s[0].lambda*i[0]+s[1].lambda*i[1])}([o.x,o.y],[a.x,a.y],[t.x,t.y]);return{x:o.x+l*a.x,y:o.y+l*a.y}}function iae(t,i){var o=qj(t,i);return nae({x:o.x-t.x,y:o.y-t.y})}function bP(t,i){return nae({x:t.x-i.x,y:t.y-i.y})}var oae="djs-bendpoint",sae="djs-segment-dragger";function Wj(t,i,o){var s=function GVe(t,i){var a,o=Gm(i),s=t._container.getBoundingClientRect();a={x:s.left,y:s.top};var l=t.viewbox();return{x:l.x+(o.x-a.x)/l.scale,y:l.y+(o.y-a.y)/l.scale}}(t,o);return Gj(i,s)}function Xj(t,i){var o=sn("g");cr(o).add(oae),yn(t,o);var s=sn("circle");Dt(s,{cx:0,cy:0,r:4}),cr(s).add("djs-visual"),yn(o,s);var a=sn("circle");return Dt(a,{cx:0,cy:0,r:10}),cr(a).add("djs-hit"),yn(o,a),i&&cr(o).add(i),o}function aae(t,i,o){var s=sn("g"),a=WB(i,o),l=Pf(i,o);return yn(t,s),function qVe(t,i,o,s){var a=sn("g");yn(t,a);var p=function XVe(t,i,o){return Yj("h"===o?i.x-t.x:i.y-t.y)}(i,o,s),v=sn("rect");Dt(v,{x:-9,y:-3,width:18,height:6}),cr(v).add("djs-visual"),yn(a,v);var y=sn("rect");return Dt(y,{x:-p/2,y:-8.5,width:p,height:17}),cr(y).add("djs-hit"),yn(a,y),ooe(a,"v"===s?90:0),a}(s,i,o,l),cr(s).add(sae),cr(s).add("h"===l?"horizontal":"vertical"),Xl(s,a.x,a.y),s}function Yj(t){return Math.abs(Math.round(2*t/3))}function lae(t,i,o,s,a){function p(B,$,q){fn.bind(B,$,function(ee){o.triggerMouseEvent($,ee,q),ee.stopPropagation()})}function h(B,$){var q=i.getLayer("overlays"),ee=er('.djs-bendpoints[data-element-id="'+p6(B.id)+'"]',q);return!ee&&$&&(Dt(ee=sn("g"),{"data-element-id":B.id}),cr(ee).add("djs-bendpoints"),yn(q,ee),p(ee,"mousedown",B),p(ee,"click",B),p(ee,"dblclick",B)),ee}function v(B,$){return er('.djs-segment-dragger[data-segment-idx="'+B+'"]',$)}function y(B,$){$.waypoints.forEach(function(q,ee){var ae=Xj(B);yn(B,ae),Xl(ae,q.x,q.y)}),Xj(B,"floating")}function E(B,$){for(var ee,ae,te,q=$.waypoints,ne=1;ne<q.length;ne++)Pf(ee=q[ne-1],ae=q[ne])&&(Dt(te=aae(B,ee,ae),{"data-segment-idx":ne}),p(te,"mousemove",$))}function k(B){var $=h(B);return $||(y($=h(B,!0),B),E($,B)),$}function R(B){var $=h(B);$&&(function D(B){_e(kD("."+sae,B),function($){mo($)})}($),function S(B){_e(kD("."+oae,B),function($){mo($)})}($),E($,B),y($,B))}t.on("connection.changed",function(B){R(B.element)}),t.on("connection.remove",function(B){var $=h(B.element);$&&mo($)}),t.on("element.marker.update",function(B){var q,$=B.element;$.waypoints&&(q=k($),B.add?cr(q).add(B.marker):cr(q).remove(B.marker))}),t.on("element.mousemove",function(B){var ee,ae,$=B.element,q=$.waypoints;if(q){if(ee=h($,!0),!(ae=Wj(i,q,B.originalEvent)))return;(function L(B,$){var q=er(".floating",B),ee=$.point;q&&Xl(q,ee.x,ee.y)})(ee,ae),ae.bendpoint||function N(B,$,q){var fe,ye,ee=v($.index,B),ae=q[$.index-1],te=q[$.index],ne=$.point,he=WB(ae,te),we=Pf(ae,te);ee&&(fe=function KVe(t){return er(".djs-visual",t)}(ee),ye={x:ne.x-he.x,y:ne.y-he.y},"v"===we&&(ye={x:ye.y,y:ye.x}),Xl(fe,ye.x,ye.y))}(ee,ae,q)}}),t.on("element.mousedown",function(B){if(qm(B)){var q=B.element;if(q.waypoints)return function u(B,$){var ae,q=$.waypoints,ee=Wj(i,q,B);if(ee)return ae=function c(B,$){var ee,ae,q=B.waypoints;return $.index<=0||$.bendpoint||!(ae=Pf((ee={start:q[$.index-1],end:q[$.index]}).start,ee.end))?null:Yj("h"===ae?ee.end.x-ee.start.x:ee.end.y-ee.start.y)/2}($,ee),function l(B,$,q){var te,ne,he,we,fe,ye,ee=B.index,ae=B.point;return!(ee<=0||B.bendpoint)&&(he=WB(te=$[ee-1],ne=$[ee]),we=Pf(te,ne),fe=Math.abs(ae.x-he.x),ye=Math.abs(ae.y-he.y),we&&fe<=q&&ye<=q)}(ee,q,ae)?a.start(B,$,ee.index):s.start(B,$,ee.index,!ee.bendpoint),!0}(B.originalEvent,q)}}),t.on("selection.changed",function(B){var q=B.newSelection[0];q&&q.waypoints&&k(q)}),t.on("element.hover",function(B){var $=B.element;$.waypoints&&(k($),o.registerEvent(B.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(B){o.unregisterEvent(B.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(B){var $=B.element,q=B.newId;if($.waypoints){var ee=h($);ee&&Dt(ee,{"data-element-id":q})}}),this.addHandles=k,this.updateHandles=R,this.getBendpointsContainer=h,this.getSegmentDragger=v}lae.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var cae=Math.round,yy="reconnectStart",by="reconnectEnd",x6="updateWaypoints";function Kj(t,i,o,s,a,l){this._injector=t,this.start=function(c,u,p,h){var D,v=o.getGraphics(u),y=u.source,E=u.target,k=(D=h||0!==p?h||p!==u.waypoints.length-1?x6:by:yy)===x6?"connection.updateWaypoints":"connection.reconnect",R=a.allowed(k,{connection:u,source:y,target:E});!1===R&&(R=a.allowed(k,{connection:u,source:E,target:y})),!1!==R&&s.init(c,"bendpoint.move",{data:{connection:u,connectionGfx:v,context:{allowed:R,bendpointIndex:p,connection:u,source:y,target:E,insert:h,type:D}}})},i.on("bendpoint.move.hover",function(c){var S,u=c.context,p=u.connection,h=p.source,v=p.target,y=c.hover,E=u.type;if(u.hover=y,y){var D=E===x6?"connection.updateWaypoints":"connection.reconnect";if(S=u.allowed=a.allowed(D,{connection:p,source:E===yy?y:h,target:E===by?y:v}))return u.source=E===yy?y:h,void(u.target=E===by?y:v);!1===S&&(S=u.allowed=a.allowed(D,{connection:p,source:E===by?y:v,target:E===yy?y:h})),S&&(u.source=E===by?y:v,u.target=E===yy?y:h)}}),i.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(c){var u=c.context,p=u.type;u.hover=null,u.source=null,u.target=null,p!==x6&&(u.allowed=!1)}),i.on("bendpoint.move.end",function(c){var u=c.context,p=u.allowed,h=u.bendpointIndex,v=u.connection,y=u.insert,E=v.waypoints.slice(),S=u.source,D=u.target,k=u.type,R=u.hints||{},L={x:cae(c.x),y:cae(c.y)};if(!p)return!1;k===x6?(y?E.splice(h,0,L):E[h]=L,R.bendpointMove={insert:y,bendpointIndex:h},E=this.cropWaypoints(v,E),l.updateWaypoints(v,function iFe(t){t=t.slice();for(var o,s,a,i=0;t[i];)s=t[i-1],0===n6(o=t[i],a=t[i+1])||qB(s,a,o)?t.splice(i,1):i++;return t}(E),R)):(k===yy?(R.docking="source",_P(u)&&(R.docking="target",R.newWaypoints=E.reverse())):k===by&&(R.docking="target",_P(u)&&(R.docking="source",R.newWaypoints=E.reverse())),l.reconnect(v,S,D,L,R))},this)}function _P(t){var i=t.hover,o=t.source,s=t.target,a=t.type;return a===yy?i&&s&&i===s&&o!==s:a===by?i&&o&&i===o&&o!==s:void 0}Kj.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Kj.prototype.cropWaypoints=function(t,i){var o=this._injector.get("connectionDocking",!1);if(!o)return i;var s=t.waypoints;return t.waypoints=i,t.waypoints=o.getCroppedWaypoints(t),i=t.waypoints,t.waypoints=s,i};var uae="updateWaypoints",w6="connect-ok",EP="connect-not-ok",dae="connect-hover",pae="djs-updating",fae="djs-dragging";function mae(t,i,o,s){this._injector=i;var a=i.get("connectionPreview",!1);o.on("bendpoint.move.start",function(l){var c=l.context,u=c.bendpointIndex,p=c.connection,h=c.insert,v=p.waypoints,y=v.slice();c.waypoints=v,h&&y.splice(u,0,{x:l.x,y:l.y}),p.waypoints=y,cr(c.draggerGfx=Xj(s.getLayer("overlays"))).add("djs-dragging"),s.addMarker(p,fae),s.addMarker(p,pae)}),o.on("bendpoint.move.hover",function(l){var c=l.context,u=c.allowed,p=c.hover,h=c.type;if(p){if(s.addMarker(p,dae),h===uae)return;u?(s.removeMarker(p,EP),s.addMarker(p,w6)):!1===u&&(s.removeMarker(p,w6),s.addMarker(p,EP))}}),o.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(l){var c=l.context,u=c.hover,p=c.target;u&&(s.removeMarker(u,dae),s.removeMarker(u,p?w6:EP))}),o.on("bendpoint.move.move",function(l){var c=l.context,u=c.allowed,p=c.bendpointIndex,h=c.draggerGfx,v=c.hover,y=c.type,E=c.connection,S=E.source,D=E.target,k=E.waypoints.slice(),R={x:l.x,y:l.y},L=c.hints||{},N={};a&&(L.connectionStart&&(N.connectionStart=L.connectionStart),L.connectionEnd&&(N.connectionEnd=L.connectionEnd),"reconnectStart"===y?_P(c)?(N.connectionEnd=N.connectionEnd||R,N.source=D,N.target=v||S,k=k.reverse()):(N.connectionStart=N.connectionStart||R,N.source=v||S,N.target=D):"reconnectEnd"===y?_P(c)?(N.connectionStart=N.connectionStart||R,N.source=v||D,N.target=S,k=k.reverse()):(N.connectionEnd=N.connectionEnd||R,N.source=S,N.target=v||D):(N.noCropping=!0,N.noLayout=!0,k[p]=R),y===uae&&(k=t.cropWaypoints(E,k)),N.waypoints=k,a.drawPreview(c,u,N)),Xl(h,l.x,l.y)},this),o.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(l){var c=l.context,u=c.connection,p=c.draggerGfx,h=c.hover,v=c.target;u.waypoints=c.waypoints,mo(p),s.removeMarker(u,pae),s.removeMarker(u,fae),h&&(s.removeMarker(h,w6),s.removeMarker(h,v?w6:EP)),a&&a.cleanUp(c)})}mae.$inject=["bendpointMove","injector","eventBus","canvas"];var gae="connect-hover",vae="djs-updating";function yae(t,i,o){return Qj(t,i,t[i]+o)}function Qj(t,i,o){return{x:"x"===i?o:t.x,y:"y"===i?o:t.y}}function bae(t){return"x"===t?"y":"x"}function _ae(t,i,o){var s,a;return t.original?t.original:(s=wn(i),Qj(t,a=bae(o),s[a]))}function Eae(t,i,o,s,a,l){var c=t.get("connectionDocking",!1);function u(y,E){if(!c)return E;var D,S=y.waypoints;return y.waypoints=E,D=c.getCroppedWaypoints(y),y.waypoints=S,D}function p(y){a.update("connection",y.connection,y.connectionGfx)}this.start=function(y,E,S){var ee,ae,te,k=o.getGraphics(E),R=S-1,L=S,N=E.waypoints,B=N[R],$=N[L],q=Wj(o,N,y);(ee=Pf(B,$))&&(ae="v"===ee?"x":"y",0===R&&(B=_ae(B,E.source,ae)),L===N.length-1&&($=_ae($,E.target,ae)),s.init(y,te=q?q.point:{x:(B.x+$.x)/2,y:(B.y+$.y)/2},"connectionSegment.move",{cursor:"x"===ae?"resize-ew":"resize-ns",data:{connection:E,connectionGfx:k,context:{connection:E,segmentStartIndex:R,segmentEndIndex:L,segmentStart:B,segmentEnd:$,axis:ae,dragPosition:te}}}))},i.on("connectionSegment.move.start",function(y){var E=y.context,S=y.connection,D=o.getLayer("overlays");E.originalWaypoints=S.waypoints.slice(),E.draggerGfx=aae(D,E.segmentStart,E.segmentEnd),cr(E.draggerGfx).add("djs-dragging"),o.addMarker(S,vae)}),i.on("connectionSegment.move.move",function(y){var te,ne,E=y.context,S=E.connection,D=E.segmentStartIndex,k=E.segmentEndIndex,R=E.segmentStart,L=E.segmentEnd,N=E.axis,B=E.originalWaypoints.slice(),$=yae(R,N,y["d"+N]),q=yae(L,N,y["d"+N]),ee=B.length,ae=0;B[D]=$,B[k]=q,D<2&&(te=fa(S.source,$),1===D?"intersect"===te&&(B.shift(),B[0]=$,ae--):"intersect"!==te&&(B.unshift(R),ae++)),k>ee-3&&(ne=fa(S.target,q),k===ee-2?"intersect"===ne&&(B.pop(),B[B.length-1]=q):"intersect"!==ne&&B.push(L)),E.newWaypoints=S.waypoints=u(S,B),function h(y,E,S){var D=y.newWaypoints,$=function JVe(t,i,o,s){var a=Math.max(i[s],o[s]),l=Math.min(i[s],o[s]);return Qj(i,s,Math.min(Math.max(l+20,t[s]),a-20))}(S,D[y.segmentStartIndex+E],D[y.segmentEndIndex+E],bae(y.axis));Xl(y.draggerGfx,$.x,$.y)}(E,ae,y),E.newSegmentStartIndex=D+ae,p(y)}),i.on("connectionSegment.move.hover",function(y){y.context.hover=y.hover,o.addMarker(y.hover,gae)}),i.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(y){var E=y.context.hover;E&&o.removeMarker(E,gae)}),i.on("connectionSegment.move.cleanup",function(y){var E=y.context,S=E.connection;E.draggerGfx&&mo(E.draggerGfx),o.removeMarker(S,vae)}),i.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(y){var E=y.context;E.connection.waypoints=E.originalWaypoints,p(y)}),i.on("connectionSegment.move.end",function(y){var E=y.context,S=E.connection,D=E.newWaypoints,k=E.newSegmentStartIndex,R=function v(y,E){var S=0;return{waypoints:y.filter(function(k,R){return!qB(y[R-1],y[R+1],k)||(S=R<=E?S-1:S,!1)}),segmentOffset:S}}(D=D.map(function(q){return{original:q.original,x:Math.round(q.x),y:Math.round(q.y)}}),k),N=u(S,R.waypoints);l.updateWaypoints(S,N,{segmentMove:{segmentStartIndex:E.segmentStartIndex,newSegmentStartIndex:k+R.segmentOffset}})})}Eae.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var eze=Math.abs,xae=Math.round;function wae(t){return{x:t.x,y:t.y}}function Sae(t){return{x:t.x+t.width,y:t.y+t.height}}function mu(t,i){return!t||isNaN(t.x)||isNaN(t.y)?i:{x:xae(t.x+t.width/2),y:xae(t.y+t.height/2)}}function F5(t,i){var o=t.snapped;return!!o&&("string"==typeof i?o[i]:o.x&&o.y)}function No(t,i,o){if("string"!=typeof i)throw new Error("axis must be in [x, y]");if("number"!=typeof o&&!1!==o)throw new Error("value must be Number or false");var s,a=t[i],l=t.snapped=t.snapped||{};return!1===o?l[i]=!1:(l[i]=!0,t[i]+=s=o-a,t["d"+i]+=s),a}function Cae(t){return t.children||[]}var nze=Math.abs,Dae=Math.round;function Tae(t){function i(l,c){if(Rn(l)){for(var u=l.length;u--;)if(nze(l[u]-c)<=10)return l[u]}else{var p=c%(l=+l);if(p<10)return c-p;if(p>l-10)return c-p+l}return c}function o(l,c){return l.waypoints?function WVe(t,i){var o=function YVe(t,i){for(var a,o=i.waypoints,s=1/0,l=0;l<o.length-1;l++){var p=iae(t,[o[l],o[l+1]]);p<s&&(s=p,a=l)}return[o[a],o[a+1]]}(t,i);return qj(t,o)}(c,l):l.width?{x:Dae(l.width/2+l.x),y:Dae(l.height/2+l.y)}:void 0}t.on("connectionSegment.move.move",1500,function(l){var h,v,c=function s(l){var c=l.context,u=c.snapPoints,p=c.connection,h=p.waypoints,y=c.segmentStartIndex,S=c.segmentEndIndex,D=c.axis;if(u)return u;var k=[h[y-1],c.segmentStart,c.segmentEnd,h[S+1]];return y<2&&k.unshift(o(p.source,l)),S>h.length-3&&k.unshift(o(p.target,l)),c.snapPoints=u={horizontal:[],vertical:[]},_e(k,function(R){R&&(R=R.original||R,"y"===D&&u.horizontal.push(R.y),"x"===D&&u.vertical.push(R.x))}),u}(l),u=l.x,p=l.y;if(c){var y=u-(h=i(c.vertical,u)),E=p-(v=i(c.horizontal,p));Ae(l,{dx:l.dx-y,dy:l.dy-E,x:h,y:v}),(y||-1!==c.vertical.indexOf(u))&&No(l,"x",h),(E||-1!==c.horizontal.indexOf(p))&&No(l,"y",v)}}),t.on(["connect.hover","connect.move","connect.end"],1500,function(l){var u=l.context.hover,p=u&&o(u,l);!Di(u)||!p||!p.x||!p.y||(No(l,"x",p.x),No(l,"y",p.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(l){var E,S,c=l.context,u=function a(l){var c=l.snapPoints,u=l.connection.waypoints,p=l.bendpointIndex;if(c)return c;var h=[u[p-1],u[p+1]];return l.snapPoints=c={horizontal:[],vertical:[]},_e(h,function(v){v&&(c.horizontal.push((v=v.original||v).y),c.vertical.push(v.x))}),c}(c),p=c.hover,h=p&&o(p,l),v=l.x,y=l.y;if(u){var D=v-(E=i(h?u.vertical.concat([h.x]):u.vertical,v)),k=y-(S=i(h?u.horizontal.concat([h.y]):u.horizontal,y));Ae(l,{dx:l.dx-D,dy:l.dy-k,x:l.x-D,y:l.y-k}),(D||-1!==u.vertical.indexOf(v))&&No(l,"x",E),(k||-1!==u.horizontal.indexOf(y))&&No(l,"y",S)}})}Tae.$inject=["eventBus"];const rze={__depends__:[Bf,Qd],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",lae],bendpointMove:["type",Kj],bendpointMovePreview:["type",mae],connectionSegmentMove:["type",Eae],bendpointSnapping:["type",Tae]};function Pae(t,i,o,s){function a(c,u){return s.allowed("connection.create",{source:c,target:u})}t.on("connect.hover",function(c){var v,u=c.context,p=u.start,h=c.hover;if(u.hover=h,!xD(v=u.canExecute=a(p,h))){if(!1!==v)return u.source=p,void(u.target=h);v=u.canExecute=function l(c,u){return a(u,c)}(p,h),!xD(v)&&!1!==v&&(u.source=h,u.target=p)}}),t.on(["connect.out","connect.cleanup"],function(c){var u=c.context;u.hover=null,u.source=null,u.target=null,u.canExecute=!1}),t.on("connect.end",function(c){var u=c.context,p=u.canExecute,h=u.connectionStart,v={x:c.x,y:c.y},y=u.source,E=u.target;if(!p)return!1;var S=null,D={connectionStart:Jj(u)?v:h,connectionEnd:Jj(u)?h:v};Oo(p)&&(S=p),u.connection=o.connect(y,E,S,D)}),this.start=function(c,u,p,h){Oo(p)||(h=p,p=wn(u)),i.init(c,"connect",{autoActivate:h,data:{shape:u,context:{start:u,connectionStart:p}}})}}function Jj(t){var i=t.hover,o=t.source;return i&&o&&i===o&&o!==t.target}Pae.$inject=["eventBus","dragging","modeling","rules"];var Oae="connect-ok",kae="connect-not-ok";function Mae(t,i,o){var s=t.get("connectionPreview",!1);s&&i.on("connect.move",function(a){var l=a.context,c=l.canExecute,u=l.hover,p=l.source,h=l.start,y=l.target,E=l.connectionStart||l.startPosition,S=l.connectionEnd||{x:a.x,y:a.y},D=E,k=S;Jj(l)&&(D=S,k=E),s.drawPreview(l,c,{source:p||h,target:y||u,connectionStart:D,connectionEnd:k})}),i.on("connect.hover",900,function(a){var u=a.context.canExecute;null!==u&&o.addMarker(a.hover,u?Oae:kae)}),i.on(["connect.out","connect.cleanup"],1100,function(a){var l=a.hover;l&&(o.removeMarker(l,Oae),o.removeMarker(l,kae))}),s&&i.on("connect.cleanup",function(a){s.cleanUp(a.context)})}Mae.$inject=["injector","eventBus","canvas"];const e$={__depends__:[Yd,Qd,Bf],__init__:["connectPreview"],connect:["type",Pae],connectPreview:["type",Mae]};function jf(t,i,o,s){this._canvas=i,this._graphicsFactory=o,this._elementFactory=s,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}jf.$inject=["injector","canvas","graphicsFactory","elementFactory"],jf.prototype.drawPreview=function(t,i,o){var S,s=t.connectionPreviewGfx,a=t.getConnection,l=(o=o||{}).source,c=o.target,u=o.waypoints,p=o.connectionStart,h=o.connectionEnd,v=o.noLayout,y=o.noCropping,E=o.noNoop,D=this;s||(s=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),k9(s),a||(a=t.getConnection=function aze(t){var i={};return function(o){var s=JSON.stringify(o),a=i[s];return a||(a=i[s]=t.apply(null,arguments)),a}}(function(k,R,L){return D.getConnection(k,R,L)})),i&&(S=a(i,l,c)),S?(S.waypoints=u||[],this._layouter&&!v&&(S.waypoints=this._layouter.layoutConnection(S,{source:l,target:c,connectionStart:p,connectionEnd:h,waypoints:o.waypoints||S.waypoints})),(!S.waypoints||!S.waypoints.length)&&(S.waypoints=[l?wn(l):p,c?wn(c):h]),this._connectionDocking&&(l||c)&&!y&&(S.waypoints=this._connectionDocking.getCroppedWaypoints(S,l,c)),this._graphicsFactory.drawConnection(s,S,{stroke:"var(--element-dragger-color)"})):!E&&this.drawNoopPreview(s,o)},jf.prototype.drawNoopPreview=function(t,i){var o=i.source,s=i.target,a=i.connectionStart||wn(o),l=i.connectionEnd||wn(s),c=this.cropWaypoints(a,l,o,s);yn(t,this.createNoopConnection(c[0],c[1]))},jf.prototype.cropWaypoints=function(t,i,o,s){var a=this._graphicsFactory,l=o&&a.getShapePath(o),c=s&&a.getShapePath(s),u=a.getConnectionPath({waypoints:[t,i]});return[t=o&&XB(l,u,!0)||t,i=s&&XB(c,u,!1)||i]},jf.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&mo(t.connectionPreviewGfx)},jf.prototype.getConnection=function(t){var i=function lze(t){return Oo(t)?t:{}}(t);return this._elementFactory.createConnection(i)},jf.prototype.createConnectionPreviewGfx=function(){var t=sn("g");return Dt(t,{pointerEvents:"none"}),cr(t).add("djs-dragger"),yn(this._canvas.getActiveLayer(),t),t},jf.prototype.createNoopConnection=function(t,i){return I9([t,i],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};const cze={__init__:["connectionPreview"],connectionPreview:["type",jf]};function t$(t,i){return(function Aae(t){return t.originalEvent||t.srcEvent}(t)||t).button===i}function xP(t){return t$(t,0)}function dze(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function pze(t){return["M",t.x,t.y]}function n$(t){return["L",t.x,t.y]}function fze(t,i,o){return["C",t.x,t.y,i.x,i.y,o.x,o.y]}function hze(t,i){const o=t.length,s=[pze(t[0])];for(let a=1;a<o;a++){const l=t[a-1],c=t[a],u=t[a+1];if(!u||!i){s.push(n$(c));continue}const p=Math.min(i,r$(c.x-l.x,c.y-l.y),r$(u.x-c.x,u.y-c.y));if(!p){s.push(n$(c));continue}const h=wP(c,l,p),v=wP(c,l,.5*p),y=wP(c,u,p),E=wP(c,u,.5*p);s.push(n$(h)),s.push(fze(v,E,y))}return s}function wP(t,i,o){const s=i.x-t.x,a=i.y-t.y,c=o/r$(s,a);return{x:t.x+s*c,y:t.y+a*c}}function r$(t,i){return Math.sqrt(Math.pow(t,2)+Math.pow(i,2))}function Iae(t,i){return Dt(t,{d:dze(hze(i,parseInt(t.dataset.cornerRadius,10)||0))}),t}function gze(t){return!0}function SP(t){return xP(t)||function uze(t){return t$(t,1)}(t)}function Lae(t,i,o){var s=this;function a(te,ne,he){var we,fe;(function u(te,ne){return!(h[te]||xP)(ne)})(te,ne)||(he?fe=i.getGraphics(he):(we=ne.delegateTarget||ne.target)&&(he=i.get(fe=we)),fe&&he&&!1===t.fire(te,{element:he,gfx:fe,originalEvent:ne})&&(ne.stopPropagation(),ne.preventDefault()))}var l={};function c(te){return l[te]}var p={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":gze,"element.mousedown":SP,"element.mouseup":SP,"element.click":SP,"element.dblclick":SP};function E(te,ne,he,we){var fe=l[he]=function(ye){a(he,ye)};we&&(h[he]=we),fe.$delegate=Ra.bind(te,"svg, .djs-element",ne,fe)}function S(te,ne,he){var we=c(he);we&&Ra.unbind(te,ne,we.$delegate)}t.on("canvas.destroy",function(te){!function k(te){_e(p,function(ne,he){S(te,he,ne)})}(te.svg)}),t.on("canvas.init",function(te){!function D(te){_e(p,function(ne,he){E(te,he,ne)})}(te.svg)}),t.on(["shape.added","connection.added"],function(te){t.fire("interactionEvents.createHit",{element:te.element,gfx:te.gfx})}),t.on(["shape.changed","connection.changed"],500,function(te){t.fire("interactionEvents.updateHit",{element:te.element,gfx:te.gfx})}),t.on("interactionEvents.createHit",500,function(te){s.createDefaultHit(te.element,te.gfx)}),t.on("interactionEvents.updateHit",function(te){s.updateDefaultHit(te.element,te.gfx)});var R=q("djs-hit djs-hit-stroke"),L=q("djs-hit djs-hit-click-stroke"),$={all:q("djs-hit djs-hit-all"),"click-stroke":L,stroke:R,"no-move":q("djs-hit djs-hit-no-move")};function q(te,ne){return ne=Ae({stroke:"white",strokeWidth:15},ne||{}),o.cls(te,["no-fill","no-border"],ne)}function ee(te,ne){var he=$[ne];if(!he)throw new Error("invalid hit type <"+ne+">");return Dt(te,he),te}function ae(te,ne){yn(te,ne)}this.removeHits=function(te){_e(kD(".djs-hit",te),mo)},this.createDefaultHit=function(te,ne){var he=te.waypoints,we=te.isFrame;return he?this.createWaypointsHit(ne,he):this.createBoxHit(ne,we?"stroke":"all",{width:te.width,height:te.height})},this.createWaypointsHit=function(te,ne){var he=function mze(t,i,o){mn(i)&&(o=i,i=null),i||(i={});const s=sn("path",i);return mn(o)&&(s.dataset.cornerRadius=String(o)),Iae(s,t)}(ne);return ee(he,"stroke"),ae(te,he),he},this.createBoxHit=function(te,ne,he){he=Ae({x:0,y:0},he);var we=sn("rect");return ee(we,ne),Dt(we,he),ae(te,we),we},this.updateDefaultHit=function(te,ne){var he=er(".djs-hit",ne);if(he)return te.waypoints?Iae(he,te.waypoints):Dt(he,{width:te.width,height:te.height}),he},this.fire=a,this.triggerMouseEvent=function v(te,ne,he){var we=p[te];if(!we)throw new Error("unmapped DOM event name <"+te+">");return a(we,ne,he)},this.mouseHandler=c,this.registerEvent=E,this.unregisterEvent=S}Lae.$inject=["eventBus","elementRegistry","styles"];const vze={__init__:["interactionEvents"],interactionEvents:["type",Lae]};var Fae=Math.min,Bae=Math.max;function i$(t){t.preventDefault()}function S6(t){t.stopPropagation()}function x0(t){this.container=t.container,this.parent=ui('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=er("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=pl(this.autoResize,this),this.handlePaste=pl(this.handlePaste,this)}function gu(t,i){this._eventBus=t,this._providers=[],this._textbox=new x0({container:i.getContainer(),keyHandler:pl(this._handleKey,this),resizeHandler:pl(this._handleResize,this)})}x0.prototype.create=function(t,i,o,s){var l=this.parent,c=this.content,u=this.container;s=this.options=s||{};var p=p0(i=this.style=i||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Ae(l.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},p);var h=p0(i,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Ae(c.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},h),s.centerVertically&&Ae(c.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},h),c.innerText=o,fn.bind(c,"keydown",this.keyHandler),fn.bind(c,"mousedown",S6),fn.bind(c,"paste",this.handlePaste),s.autoResize&&fn.bind(c,"input",this.autoResize),s.resizable&&this.resizable(i),u.appendChild(l),this.setSelection(c.lastChild,c.lastChild&&c.lastChild.length),l},x0.prototype.handlePaste=function(t){var s,i=this.options,o=this.style;if(t.preventDefault(),s=t.clipboardData?t.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(s),i.autoResize){var a=this.autoResize(o);a&&this.resizeHandler(a)}},x0.prototype.insertText=function(t){t=function _ze(t){return t.replace(/\r\n|\r|\n/g,"\n")}(t),document.execCommand("insertText",!1,t)||this._insertTextIE(t)},x0.prototype._insertTextIE=function(t){var p,h,i=this.getSelection(),o=i.startContainer,s=i.endContainer,a=i.startOffset,l=i.endOffset,c=i.commonAncestorContainer,u=function bze(t){return[].slice.call(t)}(c.childNodes);if(function yze(t){return t.nodeType===Node.TEXT_NODE}(c)){var v=o.textContent;o.textContent=v.substring(0,a)+t+v.substring(l),p=o,h=a+t.length}else if(o===this.content&&s===this.content){var y=document.createTextNode(t);this.content.insertBefore(y,u[a]),p=y,h=y.textContent.length}else{var E=u.indexOf(o),S=u.indexOf(s);u.forEach(function(D,k){k===E?D.textContent=o.textContent.substring(0,a)+t+s.textContent.substring(l):k>E&&k<=S&&kd(D)}),p=o,h=a+t.length}p&&void 0!==h&&setTimeout(function(){self.setSelection(p,h)})},x0.prototype.autoResize=function(){var t=this.parent,i=this.content,o=parseInt(this.style.fontSize)||12;if(i.scrollHeight>t.offsetHeight||i.scrollHeight<t.offsetHeight-o){var s=t.getBoundingClientRect(),a=i.scrollHeight;t.style.height=a+"px",this.resizeHandler({width:s.width,height:s.height,dx:0,dy:a-s.height})}},x0.prototype.resizable=function(){var t=this,i=this.parent,o=this.resizeHandle,s=parseInt(this.style.minWidth)||0,a=parseInt(this.style.minHeight)||0,l=parseInt(this.style.maxWidth)||1/0,c=parseInt(this.style.maxHeight)||1/0;if(!o){o=this.resizeHandle=ui('<div class="djs-direct-editing-resize-handle"></div>');var u,p,h,v,E=function(D){i$(D),S6(D);var k=Fae(Bae(h+D.clientX-u,s),l),R=Fae(Bae(v+D.clientY-p,a),c);i.style.width=k+"px",i.style.height=R+"px",t.resizeHandler({width:h,height:v,dx:D.clientX-u,dy:D.clientY-p})},S=function(D){i$(D),S6(D),fn.unbind(document,"mousemove",E,!1),fn.unbind(document,"mouseup",S,!1)};fn.bind(o,"mousedown",function(D){i$(D),S6(D),u=D.clientX,p=D.clientY;var k=i.getBoundingClientRect();h=k.width,v=k.height,fn.bind(document,"mousemove",E),fn.bind(document,"mouseup",S)})}Ae(o.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),i.appendChild(o)},x0.prototype.destroy=function(){var t=this.parent,i=this.content,o=this.resizeHandle;i.innerText="",t.removeAttribute("style"),i.removeAttribute("style"),fn.unbind(i,"keydown",this.keyHandler),fn.unbind(i,"mousedown",S6),fn.unbind(i,"input",this.autoResize),fn.unbind(i,"paste",this.handlePaste),o&&(o.removeAttribute("style"),kd(o)),kd(t)},x0.prototype.getValue=function(){return this.content.innerText.trim()},x0.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},x0.prototype.setSelection=function(t,i){var o=document.createRange();null===t?o.selectNodeContents(this.content):(o.setStart(t,i),o.setEnd(t,i));var s=window.getSelection();s.removeAllRanges(),s.addRange(o)},gu.$inject=["eventBus","canvas"],gu.prototype.registerProvider=function(t){this._providers.push(t)},gu.prototype.isActive=function(t){return!(!this._active||t&&this._active.element!==t)},gu.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},gu.prototype._fire=function(t,i){this._eventBus.fire("directEditing."+t,i||{active:this._active})},gu.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},gu.prototype.complete=function(){var t=this._active;if(t){var i,o=t.context.bounds,s=this.$textbox.getBoundingClientRect(),a=this.getValue();(a!==t.context.text||s.height!==o.height||s.width!==o.width)&&(i=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,a,t.context.text,{x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height})),this._fire("complete"),this.close()}},gu.prototype.getValue=function(){return this._textbox.getValue()},gu.prototype._handleKey=function(t){t.stopPropagation();var i=t.keyCode||t.charCode;return 27===i?(t.preventDefault(),this.cancel()):13!==i||t.shiftKey?void 0:(t.preventDefault(),this.complete())},gu.prototype._handleResize=function(t){this._fire("resize",t)},gu.prototype.activate=function(t){this.isActive()&&this.cancel();var i,o=Kn(this._providers,function(s){return(i=s.activate(t))?s:null});return i&&(this.$textbox=this._textbox.create(i.bounds,i.style,i.text,i.options),this._active={element:t,context:i,provider:o},i.options&&i.options.resizable&&(this.resizable=!0),this._fire("activate")),!!i};const jae={__depends__:[vze],__init__:["directEditing"],directEditing:["type",gu]};var Eze=["marker-start","marker-mid","marker-end"],xze=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Ym(t,i,o,s){this._elementRegistry=t,this._canvas=o,this._styles=s,this._clonedMarkers={};var a=this;i.on("drag.cleanup",function(){a.cleanUp()})}Ym.$inject=["elementRegistry","eventBus","canvas","styles"],Ym.prototype.cleanUp=function(){_e(this._clonedMarkers,function(i){mo(i)}),this._clonedMarkers={}},Ym.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},Ym.prototype.addDragger=function(t,i,o,s="djs-dragger"){var a=Mie(o=o||this.getGfx(t)),l=o.getBoundingClientRect();return this._cloneMarkers(j9(a),s),Dt(a,this._styles.cls(s,[],{x:l.top,y:l.left})),yn(i,a),Dt(a,"data-preview-support-element-id",t.id),a},Ym.prototype.addFrame=function(t,i){var o=sn("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return yn(i,o),Dt(o,"data-preview-support-element-id",t.id),o},Ym.prototype._cloneMarkers=function(t,i="djs-dragger"){var o=this;if(t.childNodes)for(var s=0;s<t.childNodes.length;s++)o._cloneMarkers(t.childNodes[s],i);(function Dze(t){return-1!==xze.indexOf(t.nodeName)})(t)&&Eze.forEach(function(a){if(Dt(t,a)){var l=function wze(t,i,o){var s=function Sze(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}(Dt(t,i));return er("marker#"+s,o||document)}(t,a,o._canvas.getContainer());o._cloneMarker(t,l,a,i)}})},Ym.prototype._cloneMarker=function(t,i,o,s="djs-dragger"){var a=i.id+"-"+s,l=this._clonedMarkers[a];if(!l){(l=Mie(i)).id=a+"-clone",cr(l).add(s),this._clonedMarkers[a]=l;var u=er("defs",this._canvas._svg);u||(u=sn("defs"),yn(this._canvas._svg,u)),yn(u,l)}var p=function Cze(t){return"url(#"+t+")"}(this._clonedMarkers[a].id);Dt(t,o,p)};const C6={__init__:["previewSupport"],previewSupport:["type",Ym]};var Tze="drop-ok",$ae="drop-not-ok",Vae="attach-ok",zae="new-parent";function Uae(t,i,o,s,a){function c(p,h){[Vae,Tze,$ae,zae].forEach(function(v){v===h?t.addMarker(p,v):t.removeMarker(p,v)})}function u(){var p=i.context();p&&"create"===p.prefix&&i.cancel()}o.on(["create.move","create.hover"],function(p){var h=p.context,v=h.elements,y=p.hover,E=h.source,S=h.hints||{};if(!y)return h.canExecute=!1,void(h.target=null);Gae(p);var k=h.canExecute=y&&function l(p,h,v,y,E){if(!h)return!1;var S=Kn(p=On(p,function(N){var B=N.labelTarget;return!(N.parent||Rr(N)&&-1!==p.indexOf(B))}),function(N){return!Di(N)}),D=!1,k=!1,R=!1;qae(p)&&(D=a.allowed("shape.attach",{position:v,shape:S,target:h})),D||(R=qae(p)?a.allowed("shape.create",{position:v,shape:S,source:y,target:h}):a.allowed("elements.create",{elements:p,position:v,target:h}));var L=E.connectionTarget;return R||D?(S&&y&&(k=a.allowed("connection.create",{source:L===y?S:y,target:L===y?y:S,hints:{targetParent:h,targetAttach:D}})),{attach:D,connect:k}):(null===R||null===D)&&null}(v,y,{x:p.x,y:p.y},E,S);y&&null!==k&&(h.target=y,c(y,k&&k.attach?Vae:k?zae:$ae))}),o.on(["create.end","create.out","create.cleanup"],function(p){var h=p.hover;h&&c(h,null)}),o.on("create.end",function(p){var h=p.context,v=h.source,y=h.shape,E=h.elements,S=h.target,D=h.canExecute,k=D&&D.attach,R=D&&D.connect,L=h.hints||{};if(!1===D||!S)return!1;Gae(p);var N={x:p.x,y:p.y};y=R?s.appendShape(v,y,N,S,{attach:k,connection:!0===R?{}:R,connectionTarget:L.connectionTarget}):Kn(E=s.createElements(E,N,S,Ae({},L,{attach:k})),function(B){return!Di(B)}),Ae(h,{elements:E,shape:y}),Ae(p,{elements:E,shape:y})}),o.on("create.init",function(){o.on("elements.changed",u),o.once(["create.cancel","create.end"],2e3,function(){o.off("elements.changed",u)})}),this.start=function(p,h,v){Rn(h)||(h=[h]);var y=Kn(h,function(D){return!Di(D)});if(y){v=Ae({elements:h,hints:{},shape:y},v||{}),_e(h,function(D){mn(D.x)||(D.x=0),mn(D.y)||(D.y=0)});var S=Ao(On(h,function(D){return!D.hidden}));_e(h,function(D){Di(D)&&(D.waypoints=ko(D.waypoints,function(k){return{x:k.x-S.x-S.width/2,y:k.y-S.y-S.height/2}})),Ae(D,{x:D.x-S.x-S.width/2,y:D.y-S.y-S.height/2})}),i.init(p,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:y,elements:h,context:v}})}}}function Gae(t){var o=t.context.createConstraints;o&&(o.left&&(t.x=Math.max(t.x,o.left)),o.right&&(t.x=Math.min(t.x,o.right)),o.top&&(t.y=Math.max(t.y,o.top)),o.bottom&&(t.y=Math.min(t.y,o.bottom)))}function qae(t){return t&&1===t.length&&!Di(t[0])}function Wae(t,i,o,s,a){i.on("create.move",750,function(c){var u=c.hover,p=c.context,v=p.dragGroup;v||(v=p.dragGroup=function l(c){var u=sn("g");Dt(u,a.cls("djs-drag-group",["no-events"]));var p=sn("g");return c.forEach(function(h){var v;h.hidden||(h.waypoints?(v=o._createContainer("connection",p),o.drawConnection(j9(v),h)):(v=o._createContainer("shape",p),o.drawShape(j9(v),h),Xl(v,h.x,h.y)),s.addDragger(h,u,v))}),u}(p.elements)),u?(v.parentNode||yn(t.getActiveLayer(),v),Xl(v,c.x,c.y)):mo(v)}),i.on("create.cleanup",function(c){var p=c.context.dragGroup;p&&mo(p)})}Uae.$inject=["canvas","dragging","eventBus","modeling","rules"],Wae.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const CP={__depends__:[Bf,C6,Qd,Yd],__init__:["create","createPreview"],create:["type",Uae],createPreview:["type",Wae]};function D6(){}D6.prototype.get=function(){return this._data},D6.prototype.set=function(t){this._data=t},D6.prototype.clear=function(){var t=this._data;return delete this._data,t},D6.prototype.isEmpty=function(){return!this._data};const kze={clipboard:["type",D6]};function o$(t){var i=this;function o(s){i._lastMoveEvent=s}this._lastMoveEvent=null,t.on("canvas.init",function(s){(i._svg=s.svg).addEventListener("mousemove",o)}),t.on("canvas.destroy",function(){i._lastMouseEvent=null,i._svg.removeEventListener("mousemove",o)})}o$.$inject=["eventBus"],o$.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function Mze(t,i){var o=document.createEvent("MouseEvent");return o.initMouseEvent&&o.initMouseEvent("mousemove",!0,!0,window,0,t,i,t,i,!1,!1,!1,!1,0,null),o}(0,0)};const T6={__init__:["mouse"],mouse:["type",o$]};function w0(t,i,o,s,a,l,c,u){this._canvas=t,this._create=i,this._clipboard=o,this._elementFactory=s,this._eventBus=a,this._modeling=l,this._mouse=c,this._rules=u,a.on("copyPaste.copyElement",function(p){var h=p.descriptor,v=p.element,y=p.elements;h.priority=1,h.id=v.id,Kn(y,function(S){return S===v.parent})&&(h.parent=v.parent.id),function Rze(t){return!!t.host}(v)&&(h.priority=2,h.host=v.host.id),Di(v)&&(h.priority=3,h.source=v.source.id,h.target=v.target.id,h.waypoints=function Aze(t){return ko(t.waypoints,function(i){return(i=Xae(i)).original&&(i.original=Xae(i.original)),i})}(v)),Rr(v)&&(h.priority=4,h.labelTarget=v.labelTarget.id),_e(["x","y","width","height"],function(S){mn(v[S])&&(h[S]=v[S])}),h.hidden=v.hidden,h.collapsed=v.collapsed}),a.on("copyPaste.pasteElements",function(p){Ae(p.hints,{createElementsBehavior:!1})})}function Xae(t){return Ae({},t)}function Yae(t,i){var o=i.indexOf(t);return-1===o?i:i.splice(o,1)}w0.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],w0.prototype.copy=function(t){var i,o;return Rn(t)||(t=t?[t]:[]),o=!1===(i=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}))?{}:this.createTree(Rn(i)?i:t),this._clipboard.set(o),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:o}),o},w0.prototype.paste=function(t){var i=this._clipboard.get();if(!this._clipboard.isEmpty()){var o=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:o});var s=this._createElements(i);if(t&&t.element&&t.point)return this._paste(s,t.element,t.point,o);this._create.start(this._mouse.getLastMoveEvent(),s,{hints:o||{}})}},w0.prototype._paste=function(t,i,o,s){_e(t,function(l){mn(l.x)||(l.x=0),mn(l.y)||(l.y=0)});var a=Ao(t);return _e(t,function(l){Di(l)&&(l.waypoints=ko(l.waypoints,function(c){return{x:c.x-a.x-a.width/2,y:c.y-a.y-a.height/2}})),Ae(l,{x:l.x-a.x-a.width/2,y:l.y-a.y-a.height/2})}),this._modeling.createElements(t,o,i,Ae({},s))},w0.prototype._createElements=function(t){var i=this,o=this._eventBus,s={},a=[];return _e(t,function(l,c){c=parseInt(c,10),_e(l=os(l,"priority"),function(u){var h,p=Ae({},Od(u,["priority"]));return s[u.parent]?p.parent=s[u.parent]:delete p.parent,o.fire("copyPaste.pasteElement",{cache:s,descriptor:p}),Di(p)?(p.source=s[u.source],p.target=s[u.target],h=s[u.id]=i.createConnection(p),void a.push(h)):Rr(p)?(p.labelTarget=s[p.labelTarget],h=s[u.id]=i.createLabel(p),void a.push(h)):(p.host&&(p.host=s[p.host]),h=s[u.id]=i.createShape(p),void a.push(h))})}),a},w0.prototype.createConnection=function(t){return this._elementFactory.createConnection(Od(t,["id"]))},w0.prototype.createLabel=function(t){return this._elementFactory.createLabel(Od(t,["id"]))},w0.prototype.createShape=function(t){return this._elementFactory.createShape(Od(t,["id"]))},w0.prototype.hasRelations=function(t,i){var o,s,a;return!(Di(t)&&(s=Kn(i,d0({id:t.source.id})),a=Kn(i,d0({id:t.target.id})),!s||!a)||Rr(t)&&(o=Kn(i,d0({id:t.labelTarget.id})),!o))},w0.prototype.createTree=function(t){var i=this._rules,o=this,s={},a=[];function u(h,v){var y=Kn(a,function(E){return h===E.element});y?y.depth<v&&(a=function p(h,v){var y=v.indexOf(h);return-1!==y&&v.splice(y,1),v}(y,a),a.push({element:y.element,depth:v})):a.push({element:h,depth:v})}return oy(N9(t),function(h,v,y){if(!Rr(h)){_e(h.labels,function(D){u(D,y)}),_e([h.attachers,h.incoming,h.outgoing],function E(D){D&&D.length&&_e(D,function(k){_e(k.labels,function(R){u(R,y)}),u(k,y)})}),u(h,y);var S=[];return h.children&&(S=h.children.slice()),o._eventBus.fire("copyPaste.createTree",{element:h,children:S}),S}}),t=ko(a,function(h){return h.element}),a=os(a=ko(a,function(h){return h.descriptor={},o._eventBus.fire("copyPaste.copyElement",{descriptor:h.descriptor,element:h.element,elements:t}),h}),function(h){return h.descriptor.priority}),t=ko(a,function(h){return h.element}),_e(a,function(h){var v=h.depth;o.hasRelations(h.element,t)&&function c(h,v){return i.allowed("element.copy",{element:h,elements:v})}(h.element,t)?(s[v]||(s[v]=[]),s[v].push(h.descriptor)):Yae(h.element,t)}),s};const Ize={__depends__:[kze,CP,T6,Qd],__init__:["copyPaste"],copyPaste:["type",w0]};function s$(t,i,o){Rn(o)||(o=[o]),_e(o,function(s){Ul(t[s])||(i[s]=t[s])})}function Kae(t,i,o){function s(p,h){var v=t.create(p.$type);return o.copyElement(p,v,null,h)}i.on("copyPaste.copyElement",750,function(p){var h=p.descriptor,v=p.element,y=le(v);if(Rr(v))return h;var E=h.businessObject=s(y,!0),S=h.di=s(Pr(v),!0);S.bpmnElement=E,s$(E,h,"name"),s$(S,h,"isExpanded"),y.default&&(h.default=y.default.id)});var a="-bpmn-js-refs";i.on("copyPaste.pasteElement",function(p){var h=p.cache,v=p.descriptor,y=v.businessObject,E=v.di;if(Rr(v))return v.businessObject=le(h[v.labelTarget]),void(v.di=Pr(h[v.labelTarget]));y=v.businessObject=s(y),(E=v.di=s(E)).bpmnElement=y,s$(v,y,["isExpanded","name"]),v.type=y.$type}),i.on("copyPaste.copyElement",750,function(p){var h=p.descriptor,v=p.element;if(j(v,"bpmn:Participant")){var y=le(v);y.processRef&&(h.processRef=s(y.processRef,!0))}}),i.on("copyPaste.pasteElement",function(p){var h=p.descriptor,v=h.processRef;v&&(h.processRef=s(v))}),i.on("copyPaste.pasteElement",750,function(p){var h=p.cache;!function c(p,h){p[a]=h}(h,function u(p,h,v){var y=le(p);return p.default&&(v[p.default]={element:y,property:"default"}),p.host&&(le(p).attachedToRef=le(h[p.host])),Od(v,dl(v,function(E,S,D){return D===p.id&&(S.element.set(S.property,y),E.push(p.id)),E},[]))}(p.descriptor,h,function l(p){return p[a]=p[a]||{}}(h)))})}Kae.$inject=["bpmnFactory","eventBus","moddleCopy"];var Nze=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function P6(t,i,o){this._bpmnFactory=i,this._eventBus=t,this._moddle=o,t.on("moddleCopy.canCopyProperties",function(s){var a=s.propertyNames;if(a&&a.length)return os(a,function(l){return"extensionElements"===l})}),t.on("moddleCopy.canCopyProperty",function(s){var a=s.parent,l=Oo(a)&&a.$descriptor,c=s.propertyName;if(c&&-1!==Nze.indexOf(c)||c&&l&&!Kn(l.properties,d0({name:c})))return!1}),t.on("moddleCopy.canSetCopiedProperty",function(s){var a=s.property;if(function Lze(t,i){return t&&Br(t.$instanceOf)&&t.$instanceOf(i)}(a,"bpmn:ExtensionElements")&&(!a.values||!a.values.length))return!1})}function l$(t,i){return dl(t.properties,function(o,s){return i&&s.default?o:o.concat(s.name)},[])}P6.$inject=["eventBus","bpmnFactory","moddle"],P6.prototype.copyElement=function(t,i,o,s=!1){var a=this;o&&!Rn(o)&&(o=[o]),o=o||l$(t.$descriptor);var l=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:o,sourceElement:t,targetElement:i,clone:s});return!1===l||(Rn(l)&&(o=l),_e(o,function(c){var u;Gl(t,c)&&(u=t.get(c));var p=a.copyProperty(u,i,c,s);Ii(p)&&!1!==a._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:i,property:p,propertyName:c})&&i.set(c,p)})),i},P6.prototype.copyProperty=function(t,i,o,s=!1){var a=this,l=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:i,property:t,propertyName:o,clone:s});if(!1!==l){if(l)return Oo(l)&&l.$type&&!l.$parent&&(l.$parent=i),l;var c=this._moddle.getPropertyDescriptor(i,o);if(!c.isReference)return c.isId?t&&this._copyId(t,i,s):Rn(t)?dl(t,function(u,p){return(l=a.copyProperty(p,i,o,s))?u.concat(l):u},[]):Oo(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:((l=a._bpmnFactory.create(t.$type)).$parent=i,l=a.copyElement(t,l,null,s)):t}},P6.prototype._copyId=function(t,i,o=!1){return o?t:this._moddle.ids.assigned(t)?void 0:(this._moddle.ids.claim(t,i),t)};const Qae={__depends__:[Ize],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",Kae],moddleCopy:["type",P6]};var Zae=Math.round;function c$(t,i){this._modeling=t,this._eventBus=i}function Jae(t,i){i.on("replace.end",500,function(o){const{newElement:s,hints:a={}}=o;!1!==a.select&&t.select(s)})}c$.$inject=["modeling","eventBus"],c$.prototype.replaceElement=function(t,i,o){if(t.waypoints)return null;var s=this._modeling,a=this._eventBus;a.fire("replace.start",{element:t,attrs:i,hints:o});var l=i.width||t.width,c=i.height||t.height,p=i.y||t.y,h=Zae((i.x||t.x)+l/2),v=Zae(p+c/2),y=s.replaceShape(t,Ae({},i,{x:h,y:v,width:l,height:c}),o);return a.fire("replace.end",{element:t,newElement:y,hints:o}),y},Jae.$inject=["selection","eventBus"];const Fze={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",Jae],replace:["type",c$]};var jze=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function ele(t,i,o,s,a,l){this.replaceElement=function c(u,p,h){h=h||{};var v=p.type,y=u.businessObject;if(DP(y)&&"bpmn:SubProcess"===v&&function $ze(t,i){var o=t&&Gl(t,"collapsed")?t.collapsed:!hr(t);return o!==(i&&(Gl(i,"collapsed")||Gl(i,"isExpanded"))?Gl(i,"collapsed")?i.collapsed:!i.isExpanded:o)}(u,p))return s.toggleCollapse(u),u;var E=t.create(v),S={type:v,businessObject:E,di:{}};!function Bze(t,i,o){Rn(o)||(o=[o]),_e(o,function(s){Ul(t[s])||(i[s]=t[s])})}(u.di,S.di,["fill","stroke","background-color","border-color","color"]);var R=function Vze(t,i){return t.filter(function(o){return i.includes(o)})}(l$(y.$descriptor),l$(E.$descriptor,!0));Ae(E,p0(p,jze));var L=On(R,function(B){return"eventDefinitions"===B?tle(u,p.eventDefinitionType):"loopCharacteristics"===B?!bl(E):!(Gl(E,B)||"processRef"===B&&!1===p.isExpanded||"triggeredByEvent"===B)});if(E=o.copyElement(y,E,L),p.eventDefinitionType&&(tle(E,p.eventDefinitionType)||(S.eventDefinitionType=p.eventDefinitionType,S.eventDefinitionAttrs=p.eventDefinitionAttrs)),j(y,"bpmn:Activity")){if(DP(y))S.isExpanded=hr(u);else if(p&&Gl(p,"isExpanded")){S.isExpanded=p.isExpanded;var N=i.getDefaultSize(E,{isExpanded:S.isExpanded});S.width=N.width,S.height=N.height,S.x=u.x-(S.width-u.width)/2,S.y=u.y-(S.height-u.height)/2}hr(u)&&!j(y,"bpmn:Task")&&S.isExpanded&&(S.width=u.width,S.height=u.height)}return DP(y)&&!DP(E)&&(h.moveChildren=!1),j(y,"bpmn:Participant")&&(!0===p.isExpanded?E.processRef=t.create("bpmn:Process"):h.moveChildren=!1,S.width=u.width,S.height=i.getDefaultSize(S).height),l.allowed("shape.resize",{shape:E})||(S.height=i.getDefaultSize(S).height,S.width=i.getDefaultSize(S).width),E.name=y.name,on(y,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&on(E,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(E.default=y.default),p.host&&!j(y,"bpmn:BoundaryEvent")&&j(E,"bpmn:BoundaryEvent")&&(S.host=p.host),("bpmn:DataStoreReference"===S.type||"bpmn:DataObjectReference"===S.type)&&(S.x=u.x+(u.width-S.width)/2),a.replaceElement(u,S,h)}}function DP(t){return j(t,"bpmn:SubProcess")}function tle(t,i){var o=le(t);return i&&o.get("eventDefinitions").some(function(s){return j(s,i)})}ele.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];const nle={__depends__:[Qae,Fze,Yd],bpmnReplace:["type",ele]};function rle(t){return function(i){var o=i.target,s=le(t),a=s.eventDefinitions&&s.eventDefinitions[0],l=s.$type===o.type,c=(a&&a.$type)===o.eventDefinitionType,u=!!o.triggeredByEvent==!!s.triggeredByEvent,p=void 0===o.isExpanded||o.isExpanded===hr(t);return!(l&&c&&u&&p)}}var zze=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Hze=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],Uze=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Gze=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],qze=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],Wze=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],ile=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Xze=ile,ole=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],Yze=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],Kze=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Qze=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],Zze=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Jze=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],eHe=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(t){var i="Empty Pool";return t.children&&t.children.length&&(i+=" (removes content)"),i},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function vu(t,i,o,s,a,l,c,u){this._bpmnFactory=t,this._popupMenu=i,this._modeling=o,this._moddle=s,this._bpmnReplace=a,this._rules=l,this._translate=c,this._moddleCopy=u,this._register()}vu.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],vu.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},vu.prototype.getPopupMenuEntries=function(t){var i=t.businessObject,o=this._rules,s=[];if(Rn(t)||!o.allowed("shape.replace",{element:t}))return{};var a=rle(t);return j(i,"bpmn:DataObjectReference")?this._createEntries(t,Yze):j(i,"bpmn:DataStoreReference")&&!j(t.parent,"bpmn:Collaboration")?this._createEntries(t,Kze):j(i,"bpmn:StartEvent")&&!j(i.$parent,"bpmn:SubProcess")?(s=On(zze,a),this._createEntries(t,s)):j(i,"bpmn:Participant")?(s=On(eHe,function(l){return hr(t)!==l.target.isExpanded}),this._createEntries(t,s)):j(i,"bpmn:StartEvent")&&bl(i.$parent)?(s=On(Zze,function(l){var p=i.isInterrupting===(!1!==l.target.isInterrupting);return a(l)||!a(l)&&!p}),this._createEntries(t,s)):j(i,"bpmn:StartEvent")&&!bl(i.$parent)&&j(i.$parent,"bpmn:SubProcess")?(s=On(Hze,a),this._createEntries(t,s)):j(i,"bpmn:EndEvent")?(s=On(Gze,function(l){return!("bpmn:CancelEventDefinition"==l.target.eventDefinitionType&&!j(i.$parent,"bpmn:Transaction"))&&a(l)}),this._createEntries(t,s)):j(i,"bpmn:BoundaryEvent")?(s=On(Qze,function(l){var c=l.target;if("bpmn:CancelEventDefinition"==c.eventDefinitionType&&!j(i.attachedToRef,"bpmn:Transaction"))return!1;var p=i.cancelActivity==(!1!==c.cancelActivity);return a(l)||!a(l)&&!p}),this._createEntries(t,s)):j(i,"bpmn:IntermediateCatchEvent")||j(i,"bpmn:IntermediateThrowEvent")?(s=On(Uze,a),this._createEntries(t,s)):j(i,"bpmn:Gateway")?(s=On(qze,a),this._createEntries(t,s)):j(i,"bpmn:Transaction")?(s=On(ile,a),this._createEntries(t,s)):bl(i)&&hr(t)?(s=On(Xze,a),this._createEntries(t,s)):j(i,"bpmn:SubProcess")&&hr(t)?(s=On(Wze,a),this._createEntries(t,s)):j(i,"bpmn:AdHocSubProcess")&&!hr(t)?(s=On(ole,function(l){var c=l.target,u="bpmn:SubProcess"===c.type,p=!0===c.isExpanded;return rle(c)&&(!u||p)}),this._createEntries(t,s)):j(i,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(t,Jze):j(i,"bpmn:FlowNode")?(s=On(ole,a),j(i,"bpmn:SubProcess")&&!hr(t)&&(s=On(s,function(l){return"Sub Process (collapsed)"!==l.label})),this._createEntries(t,s)):{}},vu.prototype.getPopupMenuHeaderEntries=function(t){var i={};return j(t,"bpmn:Activity")&&!bl(t)&&(i={...i,...this._getLoopCharacteristicsHeaderEntries(t)}),j(t,"bpmn:DataObjectReference")&&(i={...i,...this._getCollectionHeaderEntries(t)}),j(t,"bpmn:Participant")&&(i={...i,...this._getParticipantMultiplicityHeaderEntries(t)}),j(t,"bpmn:SubProcess")&&!j(t,"bpmn:Transaction")&&!bl(t)&&(i={...i,...this._getAdHocHeaderEntries(t)}),i},vu.prototype._createEntries=function(t,i){var o={},s=this;return _e(i,function(a){o[a.actionName]=s._createEntry(a,t)}),o},vu.prototype._createSequenceFlowEntries=function(t,i){var o=le(t),s={},a=this._modeling,l=this._moddle,c=this;return _e(i,function(u){switch(u.actionName){case"replace-with-default-flow":o.sourceRef.default!==o&&(j(o.sourceRef,"bpmn:ExclusiveGateway")||j(o.sourceRef,"bpmn:InclusiveGateway")||j(o.sourceRef,"bpmn:ComplexGateway")||j(o.sourceRef,"bpmn:Activity"))&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){a.updateProperties(t.source,{default:o})})});break;case"replace-with-conditional-flow":!o.conditionExpression&&j(o.sourceRef,"bpmn:Activity")&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){var p=l.create("bpmn:FormalExpression",{body:""});a.updateProperties(t,{conditionExpression:p})})});break;default:j(o.sourceRef,"bpmn:Activity")&&o.conditionExpression&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){a.updateProperties(t,{conditionExpression:void 0})})}),(j(o.sourceRef,"bpmn:ExclusiveGateway")||j(o.sourceRef,"bpmn:InclusiveGateway")||j(o.sourceRef,"bpmn:ComplexGateway")||j(o.sourceRef,"bpmn:Activity"))&&o.sourceRef.default===o&&(s={...s,[u.actionName]:c._createEntry(u,t,function(){a.updateProperties(t.source,{default:void 0})})})}}),s},vu.prototype._createEntry=function(t,i,o){var s=this._translate,a=this._bpmnReplace.replaceElement,c=t.label;return c&&"function"==typeof c&&(c=c(i)),o=o||function(){return a(i,t.target)},{label:s(c),className:t.className,action:o}},vu.prototype._getLoopCharacteristicsHeaderEntries=function(t){var i=this,o=this._translate;function s(h,v){if(v.active)return void i._modeling.updateProperties(t,{loopCharacteristics:void 0});const y=t.businessObject.get("loopCharacteristics"),E=i._moddle.create(v.options.loopCharacteristics);y&&i._moddleCopy.copyElement(y,E),E.set("isSequential",v.options.isSequential),i._modeling.updateProperties(t,{loopCharacteristics:E})}var c,u,p,l=le(t).loopCharacteristics;return l&&(c=l.isSequential,u=void 0===l.isSequential,p=void 0!==l.isSequential&&!l.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:o("Parallel Multi Instance"),active:p,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:o("Sequential Multi Instance"),active:c,action:s,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:o("Loop"),active:u,action:s,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},vu.prototype._getCollectionHeaderEntries=function(t){var i=this,s=t.businessObject.dataObjectRef;if(!s)return{};var l=s.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:l,action:function a(c,u){i._modeling.updateModdleProperties(t,s,{isCollection:!u.active})}}}},vu.prototype._getParticipantMultiplicityHeaderEntries=function(t){var i=this,o=this._bpmnFactory,l=t.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant Multiplicity"),active:!!l,action:function a(c,u){var h;u.active||(h=o.create("bpmn:ParticipantMultiplicity")),i._modeling.updateProperties(t,{participantMultiplicity:h})}}}},vu.prototype._getAdHocHeaderEntries=function(t){var i=this._translate,s=j(le(t),"bpmn:AdHocSubProcess"),a=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:i("Ad-hoc"),active:s,action:function(l,c){return a(t,s?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}};const tHe={__depends__:[$j,nle,Kse],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",vu]};function TP(t,i){for(oa(i)&&(i=[i]);t=t.parent;)if(on(t,i))return t;return null}var PP=Math.max,OP=Math.min,nHe=20;function sle(t,i){return{top:t.top-i.top,right:t.right-i.right,bottom:t.bottom-i.bottom,left:t.left-i.left}}function iHe(t,i){return{x:t.x+(i.left||0),y:t.y+(i.top||0),width:t.width-(i.left||0)+(i.right||0),height:t.height-(i.top||0)+(i.bottom||0)}}function kP(t,i,o){var s=i[t],a=o.min&&o.min[t],l=o.max&&o.max[t];return mn(a)&&(s=(/top|left/.test(t)?OP:PP)(s,a)),mn(l)&&(s=(/top|left/.test(t)?PP:OP)(s,l)),s}function O6(t,i){return typeof t<"u"?t:nHe}function lHe(t){return!(t.waypoints||"label"===t.type)}function ale(t,i){var o;if((o=void 0===t.length?On(t.children,lHe):t).length)return function aHe(t,i){var o,s,a,l;return"object"==typeof i?(o=O6(i.left),s=O6(i.right),a=O6(i.top),l=O6(i.bottom)):o=s=a=l=O6(i),{x:t.x-o,y:t.y-a,width:t.width+o+s,height:t.height+a+l}}(Ao(o),i)}var MP=Math.abs,uHe=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function RP(t,i){return i=i||[],t.children.filter(function(o){j(o,"bpmn:Lane")&&(RP(o,i),i.push(o))}),i}function _y(t){return t.children.filter(function(i){return j(i,"bpmn:Lane")})}function yu(t){return TP(t,uHe)||t}function k6(t,i,o,s,a,l,c,u,p,h,v,y){t=t||{},s.registerProvider(this),this._contextPad=s,this._modeling=a,this._elementFactory=l,this._connect=c,this._create=u,this._popupMenu=p,this._canvas=h,this._rules=v,this._translate=y,!1!==t.autoPlace&&(this._autoPlace=i.get("autoPlace",!1)),o.on("create.end",250,function(E){var D=E.context.shape;if(P5(E)&&s.isOpen(D)){var k=s.getEntries(D);k.replace&&k.replace.action.click(E,D)}})}function lle(t,i,o){var s=t.$instanceOf(i),a=!1;return _e(t.eventDefinitions||[],function(c){c.$type===o&&(a=!0)}),s&&a}k6.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],k6.prototype.getMultiElementContextPadEntries=function(t){var i=this._modeling,o={};return this._isDeleteAllowed(t)&&Ae(o,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(s,a){i.removeElements(a.slice())}}}}),o},k6.prototype._isDeleteAllowed=function(t){var i=this._rules.allowed("elements.delete",{elements:t});return Rn(i)?k3(i,function(o){return function pHe(t,i){return-1!==t.indexOf(i)}(i,o)}):i},k6.prototype.getContextPadEntries=function(t){var i=this._contextPad,o=this._modeling,s=this._elementFactory,a=this._connect,l=this._create,c=this._popupMenu,u=this._rules,p=this._autoPlace,h=this._translate,v={};if("label"===t.type)return v;var y=t.businessObject;function E(B,$){a.start(B,$)}function k(B,$,q,ee){function ae(ne,he){var we=s.createShape(Ae({type:B},ee));l.start(ne,we,{source:he})}return"string"!=typeof q&&(ee=q,q=h("Append {type}",{type:B.replace(/^bpmn:/,"")})),{group:"model",className:$,title:q,action:{dragstart:ae,click:p?function(ne,he){var we=s.createShape(Ae({type:B},ee));p.append(he,we)}:ae}}}function R(B){return function($,q){o.splitLane(q,B),i.open(q,!0)}}if(on(y,["bpmn:Lane","bpmn:Participant"])&&hr(t)){var L=_y(t);Ae(v,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:h("Add Lane above"),action:{click:function(B,$){o.addLane($,"top")}}}}),L.length<2&&(t.height>=120&&Ae(v,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:h("Divide into two Lanes"),action:{click:R(2)}}}),t.height>=180&&Ae(v,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:h("Divide into three Lanes"),action:{click:R(3)}}})),Ae(v,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:h("Add Lane below"),action:{click:function(B,$){o.addLane($,"bottom")}}}})}j(y,"bpmn:FlowNode")&&(j(y,"bpmn:EventBasedGateway")?Ae(v,{"append.receive-task":k("bpmn:ReceiveTask","bpmn-icon-receive-task",h("Append ReceiveTask")),"append.message-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",h("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",h("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",h("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":k("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",h("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):lle(y,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Ae(v,{"append.compensation-activity":k("bpmn:Task","bpmn-icon-task",h("Append compensation activity"),{isForCompensation:!0})}):!j(y,"bpmn:EndEvent")&&!y.isForCompensation&&!lle(y,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!bl(y)&&Ae(v,{"append.end-event":k("bpmn:EndEvent","bpmn-icon-end-event-none",h("Append EndEvent")),"append.gateway":k("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",h("Append Gateway")),"append.append-task":k("bpmn:Task","bpmn-icon-task",h("Append Task")),"append.intermediate-event":k("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",h("Append Intermediate/Boundary Event"))})),c.isEmpty(t,"bpmn-replace")||Ae(v,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:h("Change type"),action:{click:function(B,$){var q=Ae(function D(B){var ee=i.getPad(B).html.getBoundingClientRect();return{x:ee.left,y:ee.bottom+5}}($),{cursor:{x:B.x,y:B.y}});c.open($,"bpmn-replace",q,{title:h("Change element"),width:300,search:!0})}}}}),j(y,"bpmn:SequenceFlow")&&Ae(v,{"append.text-annotation":k("bpmn:TextAnnotation","bpmn-icon-text-annotation",h("Append TextAnnotation"))}),on(y,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ae(v,{"append.text-annotation":k("bpmn:TextAnnotation","bpmn-icon-text-annotation",h("Append TextAnnotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using "+(y.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:E,dragstart:E}}}),j(y,"bpmn:TextAnnotation")&&Ae(v,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using Association"),action:{click:E,dragstart:E}}}),on(y,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ae(v,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using DataInputAssociation"),action:{click:E,dragstart:E}}}),j(y,"bpmn:Group")&&Ae(v,{"append.text-annotation":k("bpmn:TextAnnotation","bpmn-icon-text-annotation",h("Append TextAnnotation"))});var N=u.allowed("elements.delete",{elements:[t]});return Rn(N)&&(N=N[0]===t),N&&Ae(v,{delete:{group:"edit",className:"bpmn-icon-trash",title:h("Remove"),action:{click:function S(B,$){o.removeElements([$])}}}}),v};const fHe={__depends__:[jae,gse,Yd,e$,CP,tHe],__init__:["contextPadProvider"],contextPadProvider:["type",k6]};var hHe={horizontal:["x","width"],vertical:["y","height"]};function $f(t,i){this._modeling=t,this._filters=[],this.registerFilter(function(o){var s=i.allowed("elements.distribute",{elements:o});return Rn(s)?s:s?o:[]})}$f.$inject=["modeling","rules"],$f.prototype.registerFilter=function(t){if("function"!=typeof t)throw new Error("the filter has to be a function");this._filters.push(t)},$f.prototype.trigger=function(t,i){var s,a,o=this._modeling;if(!(t.length<3||(this._setOrientation(i),a=this._filterElements(t),s=this._createGroups(a),s.length<=2)))return o.distributeElements(s,this._axis,this._dimension),s},$f.prototype._filterElements=function(t){var i=this._filters,o=this._axis,s=this._dimension,a=[].concat(t);return i.length?(_e(i,function(l){a=l(a,o,s)}),a):t},$f.prototype._createGroups=function(t){var i=[],o=this,s=this._axis,a=this._dimension;if(!s)throw new Error('must have a defined "axis" and "dimension"');return _e(os(t,s),function(c,u){var p=o._findRange(c,s,a),v=i[i.length-1];v&&o._hasIntersection(v.range,p)?i[i.length-1].elements.push(c):i.push({range:p,elements:[c]})}),i},$f.prototype._setOrientation=function(t){var i=hHe[t];this._axis=i[0],this._dimension=i[1]},$f.prototype._hasIntersection=function(t,i){return Math.max(t.min,t.max)>=Math.min(i.min,i.max)&&Math.min(t.min,t.max)<=Math.max(i.min,i.max)},$f.prototype._findRange=function(t){var i=t[this._axis];return{min:i+5,max:i+t[this._dimension]-5}};const mHe={__init__:["distributeElements"],distributeElements:["type",$f]};function AP(t){hu.call(this,t)}AP.$inject=["eventBus"],jt(AP,hu),AP.prototype.init=function(){this.addRule("elements.distribute",function(t){var i=t.elements;return!((i=N9(i=On(i,function(o){var s=on(o,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(o.labelTarget||s)}))).length<3)&&i})};const ule_horizontal='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',ule_vertical='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>';function M6(t,i,o,s){this._distributeElements=i,this._translate=o,this._popupMenu=t,this._rules=s,t.registerProvider("align-elements",900,this)}M6.$inject=["popupMenu","distributeElements","translate","rules"],M6.prototype.getPopupMenuEntries=function(t){var i={};return this._isAllowed(t)&&Ae(i,this._getEntries(t)),i},M6.prototype._isAllowed=function(t){return this._rules.allowed("elements.distribute",{elements:t})},M6.prototype._getEntries=function(t){var i=this._distributeElements,o=this._translate,s=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:o("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:ule_horizontal,action:function(l,c){i.trigger(t,"horizontal"),s.close()}},"distribute-elements-vertical":{group:"distribute",title:o("Distribute elements vertically"),imageHtml:ule_vertical,action:function(l,c){i.trigger(t,"vertical"),s.close()}}}};const yHe={__depends__:[$j,mHe],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",AP],distributeElementsMenuProvider:["type",M6]};var dle="is not a registered action";function bu(t,i){this._actions={};var o=this;t.on("diagram.init",function(){o._registerDefaultActions(i),t.fire("editorActions.init",{editorActions:o})})}function u$(t,i){return new Error(t+" "+i)}bu.$inject=["eventBus","injector"],bu.prototype._registerDefaultActions=function(t){var i=t.get("commandStack",!1),o=t.get("modeling",!1),s=t.get("selection",!1),a=t.get("zoomScroll",!1),l=t.get("copyPaste",!1),c=t.get("canvas",!1),u=t.get("rules",!1),p=t.get("keyboardMove",!1),h=t.get("keyboardMoveSelection",!1);i&&(this.register("undo",function(){i.undo()}),this.register("redo",function(){i.redo()})),l&&s&&this.register("copy",function(){var v=s.get();if(v.length)return l.copy(v)}),l&&this.register("paste",function(){l.paste()}),a&&this.register("stepZoom",function(v){a.stepZoom(v.value)}),c&&this.register("zoom",function(v){c.zoom(v.value)}),o&&s&&u&&this.register("removeSelection",function(){var v=s.get();if(v.length){var E,y=u.allowed("elements.delete",{elements:v});!1!==y&&(E=Rn(y)?y:v).length&&o.removeElements(E.slice())}}),p&&this.register("moveCanvas",function(v){p.moveCanvas(v)}),h&&this.register("moveSelection",function(v){h.moveSelection(v.direction,v.accelerated)})},bu.prototype.trigger=function(t,i){if(!this._actions[t])throw u$(t,dle);return this._actions[t](i)},bu.prototype.register=function(t,i){var o=this;if("string"==typeof t)return this._registerAction(t,i);_e(t,function(s,a){o._registerAction(a,s)})},bu.prototype._registerAction=function(t,i){if(this.isRegistered(t))throw u$(t,"is already registered");this._actions[t]=i},bu.prototype.unregister=function(t){if(!this.isRegistered(t))throw u$(t,dle);this._actions[t]=void 0},bu.prototype.getActions=function(){return Object.keys(this._actions)},bu.prototype.isRegistered=function(t){return!!this._actions[t]};const _He={__init__:["editorActions"],editorActions:["type",bu]};function IP(t){t.invoke(bu,this)}jt(IP,bu),IP.$inject=["injector"],IP.prototype._registerDefaultActions=function(t){bu.prototype._registerDefaultActions.call(this,t);var i=t.get("canvas",!1),o=t.get("elementRegistry",!1),s=t.get("selection",!1),a=t.get("spaceTool",!1),l=t.get("lassoTool",!1),c=t.get("handTool",!1),u=t.get("globalConnect",!1),p=t.get("distributeElements",!1),h=t.get("alignElements",!1),v=t.get("directEditing",!1),y=t.get("searchPad",!1),E=t.get("modeling",!1),S=t.get("contextPad",!1);i&&o&&s&&this._registerAction("selectElements",function(){var D=i.getRootElement(),k=o.filter(function(R){return R!==D});return s.select(k),k}),a&&this._registerAction("spaceTool",function(){a.toggle()}),l&&this._registerAction("lassoTool",function(){l.toggle()}),c&&this._registerAction("handTool",function(){c.toggle()}),u&&this._registerAction("globalConnectTool",function(){u.toggle()}),s&&p&&this._registerAction("distributeElements",function(D){var k=s.get();k.length&&p.trigger(k,D.type)}),s&&h&&this._registerAction("alignElements",function(D){var k=s.get(),R=[],L=D.type;k.length&&(R=On(k,function(N){return!j(N,"bpmn:Lane")}),h.trigger(R,L))}),s&&E&&this._registerAction("setColor",function(D){var k=s.get();k.length&&E.setColor(k,D)}),s&&v&&this._registerAction("directEditing",function(){var D=s.get();D.length&&v.activate(D[0])}),y&&this._registerAction("find",function(){y.toggle()}),i&&E&&this._registerAction("moveToOrigin",function(){var k,R,D=i.getRootElement();k=Ao(R=j(D,"bpmn:Collaboration")?o.filter(function(L){return j(L.parent,"bpmn:Collaboration")}):o.filter(function(L){return L!==D&&!j(L.parent,"bpmn:SubProcess")})),E.moveElements(R,{x:-k.x,y:-k.y},D)}),s&&S&&this._registerAction("replaceElement",function(D){S.triggerEntry("replace","click",D)})};const EHe={__depends__:[_He],editorActions:["type",IP]};function ple(t){t.on(["create.init","shape.move.init"],function(i){var o=i.context;on(i.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(o.gridSnappingContext||(o.gridSnappingContext={}),o.gridSnappingContext.snapLocation="top-left")})}function d$(t,i,o){return o||(o="round"),Math[o](t/i)*i}function Km(t,i,o){var s=!o||!1!==o.active;this._eventBus=i;var a=this;i.on("diagram.init",800,function(){a.setActive(s)}),i.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(l){var c=l.originalEvent;if(!(!a.active||c&&Mc(c))){var u=l.context,p=u.gridSnappingContext;p||(p=u.gridSnappingContext={}),["x","y"].forEach(function(h){var v={},y=function CHe(t,i,o){var a=t.shape,l=t.context.gridSnappingContext,c=l.snapLocation,u=l.snapOffset;return u&&mn(u[i])||(u||(u=l.snapOffset={}),mn(u[i])||(u[i]=0),!a)||(o.get(a.id)||(LP(i)?u[i]+=a[i]+a.width/2:u[i]+=a[i]+a.height/2),!c)||("x"===i?/left/.test(c)?u[i]-=a.width/2:/right/.test(c)&&(u[i]+=a.width/2):/top/.test(c)?u[i]-=a.height/2:/bottom/.test(c)&&(u[i]+=a.height/2)),u[i]}(l,h,t);y&&(v.offset=y);var E=function SHe(t,i){var o=t.context,s=o.createConstraints,a=o.resizeConstraints||{},l=o.gridSnappingContext,c=l.snapConstraints;if(c&&c[i])return c[i];c||(c=l.snapConstraints={}),c[i]||(c[i]={});var u=o.direction;s&&(LP(i)?(c.x.min=s.left,c.x.max=s.right):(c.y.min=s.top,c.y.max=s.bottom));var p=a.min,h=a.max;return p&&(LP(i)?hle(u)?c.x.max=p.left:c.x.min=p.right:fle(u)?c.y.max=p.top:c.y.min=p.bottom),h&&(LP(i)?hle(u)?c.x.min=h.left:c.x.max=h.right:fle(u)?c.y.min=h.top:c.y.max=h.bottom),c[i]}(l,h);E&&Ae(v,E),F5(l,h)||a.snapEvent(l,h,v)})}})}function LP(t){return"x"===t}function fle(t){return-1!==t.indexOf("n")}function hle(t){return-1!==t.indexOf("w")}function Ey(t,i){pt.call(this,t),this._gridSnapping=i;var o=this;this.preExecute("shape.resize",function(s){var a=s.context,c=(a.hints||{}).autoResize;if(c){var u=a.shape,p=a.newBounds;a.newBounds=oa(c)?o.snapComplex(p,c):o.snapSimple(u,p)}})}function mle(t,i){t.on(["spaceTool.move","spaceTool.end"],2e3,function(o){var l,s=o.context;s.initialized&&("x"===s.axis?(l=i.snapValue(o.dx),o.x=o.x+l-o.dx,o.dx=l):(l=i.snapValue(o.dy),o.y=o.y+l-o.dy,o.dy=l))})}ple.$inject=["eventBus"],Km.prototype.snapEvent=function(t,i,o){No(t,i,this.snapValue(t[i],o))},Km.prototype.getGridSpacing=function(){return 10},Km.prototype.snapValue=function(t,i){var s,a,o=0;return i&&i.offset&&(o=i.offset),t=d$(t+=o,10),i&&i.min&&mn(s=i.min)&&(s=d$(s+o,10,"ceil"),t=Math.max(t,s)),i&&i.max&&mn(a=i.max)&&(a=d$(a+o,10,"floor"),t=Math.min(t,a)),t-o},Km.prototype.isActive=function(){return this.active},Km.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})},Km.prototype.toggleActive=function(){this.setActive(!this.active)},Km.$inject=["elementRegistry","eventBus","config.gridSnapping"],Ey.$inject=["eventBus","gridSnapping","modeling"],jt(Ey,pt),Ey.prototype.snapSimple=function(t,i){var o=this._gridSnapping;return i.width=o.snapValue(i.width,{min:i.width}),i.height=o.snapValue(i.height,{min:i.height}),i.x=t.x+t.width/2-i.width/2,i.y=t.y+t.height/2-i.height/2,i},Ey.prototype.snapComplex=function(t,i){return/w|e/.test(i)&&(t=this.snapHorizontally(t,i)),/n|s/.test(i)&&(t=this.snapVertically(t,i)),t},Ey.prototype.snapHorizontally=function(t,i){var o=this._gridSnapping,s=/w/.test(i),a=/e/.test(i),l={};return l.width=o.snapValue(t.width,{min:t.width}),a&&(s?(l.x=o.snapValue(t.x,{max:t.x}),l.width+=o.snapValue(t.x-l.x,{min:t.x-l.x})):t.x=t.x+t.width-l.width),Ae(t,l),t},Ey.prototype.snapVertically=function(t,i){var o=this._gridSnapping,s=/n/.test(i),a=/s/.test(i),l={};return l.height=o.snapValue(t.height,{min:t.height}),s&&(a?(l.y=o.snapValue(t.y,{max:t.y}),l.height+=o.snapValue(t.y-l.y,{min:t.y-l.y})):t.y=t.y+t.height-l.height),Ae(t,l),t},mle.$inject=["eventBus","gridSnapping"];const THe={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Ey],gridSnappingSpaceToolBehavior:["type",mle]}],__init__:["gridSnapping"],gridSnapping:["type",Km]};function gle(t,i){t.on("autoPlace",2e3,function(o){var s=o.source,a=wn(s),l=o.shape,c=Xse(s,l);return["x","y"].forEach(function(u){var p={};c[u]!==a[u]&&(c[u]>a[u]?p.min=c[u]:p.max=c[u],j(l,"bpmn:TextAnnotation")&&(p.offset=function OHe(t){return"x"===t}(u)?-l.width/2:-l.height/2),c[u]=i.snapValue(c[u],p))}),c})}function vle(t,i,o){i.on(["create.start","shape.move.start"],1750,function(s){var a=s.context,l=a.shape,c=t.getRootElement();j(l,"bpmn:Participant")&&j(c,"bpmn:Process")&&c.children.length&&a.createConstraints&&(l.width=o.snapValue(l.width,{min:l.width}),l.height=o.snapValue(l.height,{min:l.height}))})}function FP(t,i,o){pt.call(this,t),this._gridSnapping=i;var s=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(a){var l=a.context,c=l.connection,u=l.hints||{},p=c.waypoints;u.connectionStart||u.connectionEnd||!1===u.createElementsBehavior||function RHe(t){return t.length>3}(p)&&o.updateWaypoints(c,s.snapMiddleSegments(p))})}function NHe(t,i,o){var s=Pf(i,o),a={};return function AHe(t){return"h"===t}(s)&&(a.y=t.snapValue(i.y)),function IHe(t){return"v"===t}(s)&&(a.x=t.snapValue(i.x)),("x"in a||"y"in a)&&(i=Ae({},i,a),o=Ae({},o,a)),[i,o]}gle.$inject=["eventBus","gridSnapping"],vle.$inject=["canvas","eventBus","gridSnapping"],FP.$inject=["eventBus","gridSnapping","modeling"],jt(FP,pt),FP.prototype.snapMiddleSegments=function(t){var o,i=this._gridSnapping;t=t.slice();for(var s=1;s<t.length-2;s++)o=NHe(i,t[s],t[s+1]),t[s]=o[0],t[s+1]=o[1];return t};const LHe={__depends__:[THe,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",gle],gridSnappingParticipantBehavior:["type",vle],gridSnappingLayoutConnectionBehavior:["type",FP]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",ple]};function R6(t,i){this._interactionEvents=i;var o=this;t.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(s){var a=s.element,l=s.gfx;return j(a,"bpmn:Lane")?o._createParticipantHit(a,l):j(a,"bpmn:Participant")?hr(a)?o._createParticipantHit(a,l):o._createDefaultHit(a,l):j(a,"bpmn:SubProcess")?hr(a)?o._createSubProcessHit(a,l):o._createDefaultHit(a,l):void 0})}R6.$inject=["eventBus","interactionEvents"],R6.prototype._createDefaultHit=function(t,i){return this._interactionEvents.removeHits(i),this._interactionEvents.createDefaultHit(t,i),!0},R6.prototype._createParticipantHit=function(t,i){return this._interactionEvents.removeHits(i),this._interactionEvents.createBoxHit(i,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"all",{width:30,height:t.height}),!0},R6.prototype._createSubProcessHit=function(t,i){return this._interactionEvents.removeHits(i),this._interactionEvents.createBoxHit(i,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(i,"all",{width:t.width,height:30}),!0};const jHe={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",R6]};function BP(t){t.invoke(k5,this)}jt(BP,k5),BP.$inject=["injector"],BP.prototype.registerBindings=function(t,i){function o(s,a){i.isRegistered(s)&&t.addListener(a)}k5.prototype.registerBindings.call(this,t,i),o("selectElements",function(s){var a=s.keyEvent;if(t.isKey(["a","A"],a)&&t.isCmd(a))return i.trigger("selectElements"),!0}),o("find",function(s){var a=s.keyEvent;if(t.isKey(["f","F"],a)&&t.isCmd(a))return i.trigger("find"),!0}),o("spaceTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["s","S"],a))return i.trigger("spaceTool"),!0}),o("lassoTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["l","L"],a))return i.trigger("lassoTool"),!0}),o("handTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["h","H"],a))return i.trigger("handTool"),!0}),o("globalConnectTool",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["c","C"],a))return i.trigger("globalConnectTool"),!0}),o("directEditing",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["e","E"],a))return i.trigger("directEditing"),!0}),o("replaceElement",function(s){var a=s.keyEvent;if(!t.hasModifier(a)&&t.isKey(["r","R"],a))return i.trigger("replaceElement",a),!0})};const $He={__depends__:[bj],__init__:["keyboardBindings"],keyboardBindings:["type",BP]};var VHe={moveSpeed:1,moveSpeedAccelerated:10},HHe={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},UHe={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function xle(t,i,o,s,a){var l=this;this._config=Ae({},VHe,t||{}),i.addListener(1500,function(c){var u=c.keyEvent,p=HHe[u.key];if(p&&!i.isCmd(u)){var h=i.isShift(u);return l.moveSelection(p,h),!0}}),this.moveSelection=function(c,u){var p=a.get();if(p.length){var v=UHe[c](this._config[u?"moveSpeedAccelerated":"moveSpeed"]);s.allowed("elements.move",{shapes:p})&&o.moveElements(p,v)}}}xle.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const GHe={__depends__:[bj,Yd],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",xle]};function A6(t,i,o,s){this._dragging=s,this._rules=i;var a=this;t.on("resize.start",function(p){!function c(p){var v=p.minBounds;void 0===p.resizeConstraints&&(void 0===v&&(v=a.computeMinResizeBox(p)),p.resizeConstraints={min:an(v)})}(p.context)}),t.on("resize.move",function(p){!function l(p,h){var S,v=p.shape,y=p.direction,E=p.resizeConstraints;p.delta=h,S=function rHe(t,i,o){var s=o.x,a=o.y,l={x:t.x,y:t.y,width:t.width,height:t.height};return-1!==i.indexOf("n")?(l.y=t.y+a,l.height=t.height-a):-1!==i.indexOf("s")&&(l.height=t.height+a),-1!==i.indexOf("e")?l.width=t.width+s:-1!==i.indexOf("w")&&(l.x=t.x+s,l.width=t.width-s),l}(v,y,h),p.newBounds=function oHe(t,i){if(!i)return t;var o=an(t);return L9({top:kP("top",o,i),right:kP("right",o,i),bottom:kP("bottom",o,i),left:kP("left",o,i)})}(S,E),p.canExecute=a.canResize(p)}(p.context,{x:p.dx,y:p.dy})}),t.on("resize.end",function(p){!function u(p){var h=p.shape,y=p.newBounds;if(p.canExecute){if(!function qHe(t,i){return t.x!==i.x||t.y!==i.y||t.width!==i.width||t.height!==i.height}(h,y=qie(y)))return;o.resizeShape(h,y)}}(p.context)})}function Sle(t,i){var o=wn(t),s=an(t),a={x:o.x,y:o.y};return-1!==i.indexOf("n")?a.y=s.top:-1!==i.indexOf("s")&&(a.y=s.bottom),-1!==i.indexOf("e")?a.x=s.right:-1!==i.indexOf("w")&&(a.x=s.left),a}function WHe(t){var i="resize-";return"n"===t||"s"===t?i+"ns":"e"===t||"w"===t?i+"ew":"nw"===t||"se"===t?i+"nwse":i+"nesw"}A6.prototype.canResize=function(t){var i=this._rules,o=p0(t,["newBounds","shape","delta","direction"]);return i.allowed("shape.resize",o)},A6.prototype.activate=function(t,i,o){var a,l,s=this._dragging;if("string"==typeof o&&(o={direction:o}),!(l=(a=Ae({shape:i},o)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");s.init(t,Sle(i,l),"resize",{autoActivate:!0,cursor:WHe(l),data:{shape:i,context:a}})},A6.prototype.computeMinResizeBox=function(t){var i=t.shape;return function sHe(t,i,o,s){var a=an(i),l={top:/n/.test(t)?a.bottom-o.height:a.top,left:/w/.test(t)?a.right-o.width:a.left,bottom:/s/.test(t)?a.top+o.height:a.bottom,right:/e/.test(t)?a.left+o.width:a.right},c=s?an(s):l;return L9({top:OP(l.top,c.top),left:OP(l.left,c.left),bottom:PP(l.bottom,c.bottom),right:PP(l.right,c.right)})}(t.direction,i,t.minDimensions||{width:10,height:10},ale(i,t.childrenBoxPadding))},A6.$inject=["eventBus","rules","modeling","dragging"];var Cle="djs-resizing",Dle="resize-not-ok";function Tle(t,i,o){t.on("resize.move",500,function(l){!function s(l){var c=l.shape,u=l.newBounds,p=l.frame;p||(p=l.frame=o.addFrame(c,i.getActiveLayer()),i.addMarker(c,Cle)),u.width>5&&Dt(p,{x:u.x,width:u.width}),u.height>5&&Dt(p,{y:u.y,height:u.height}),l.canExecute?cr(p).remove(Dle):cr(p).add(Dle)}(l.context)}),t.on("resize.cleanup",function(l){!function a(l){var c=l.shape;l.frame&&mo(l.frame),i.removeMarker(c,Cle)}(l.context)})}Tle.$inject=["eventBus","canvas","previewSupport"];var I6="djs-resizer",YHe=["n","w","s","e","nw","ne","se","sw"];function Qm(t,i,o,s){this._resize=s,this._canvas=i;var a=this;t.on("selection.changed",function(l){var c=l.newSelection;a.removeResizers(),1===c.length&&_e(c,pl(a.addResizer,a))}),t.on("shape.changed",function(l){var c=l.element;o.isSelected(c)&&(a.removeResizers(),a.addResizer(c))})}Qm.prototype.makeDraggable=function(t,i,o){var s=this._resize;function a(l){qm(l)&&s.activate(l,t,o)}fn.bind(i,"mousedown",a),fn.bind(i,"touchstart",a)},Qm.prototype._createResizer=function(t,i,o,s){var a=this._getResizersParent(),l=function KHe(t){var i={x:0,y:0};return-1!==t.indexOf("e")?i.x=6:-1!==t.indexOf("w")&&(i.x=-6),-1!==t.indexOf("s")?i.y=6:-1!==t.indexOf("n")&&(i.y=-6),i}(s),c=sn("g");cr(c).add(I6),cr(c).add(I6+"-"+t.id),cr(c).add(I6+"-"+s),yn(a,c);var u=sn("rect");Dt(u,{x:-4+l.x,y:-4+l.y,width:8,height:8}),cr(u).add(I6+"-visual"),yn(c,u);var p=sn("rect");return Dt(p,{x:-10+l.x,y:-10+l.y,width:20,height:20}),cr(p).add(I6+"-hit"),yn(c,p),KB(c,i,o),c},Qm.prototype.createResizer=function(t,i){var o=Sle(t,i),s=this._createResizer(t,o.x,o.y,i);this.makeDraggable(t,s,i)},Qm.prototype.addResizer=function(t){var i=this;Di(t)||!this._resize.canResize({shape:t})||_e(YHe,function(o){i.createResizer(t,o)})},Qm.prototype.removeResizers=function(){k9(this._getResizersParent())},Qm.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Qm.$inject=["eventBus","canvas","selection","resize"];const Ple={__depends__:[Qd,Bf,C6],__init__:["resize","resizePreview","resizeHandles"],resize:["type",A6],resizePreview:["type",Tle],resizeHandles:["type",Qm]};function N6(t,i,o,s,a,l,c){function u(p,h){(h||on(p,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||p$(p))&&s.activate(p)}this._bpmnFactory=i,this._canvas=o,this._modeling=a,this._textRenderer=c,s.registerProvider(this),t.on("element.dblclick",function(p){u(p.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){s.isActive()&&s.complete()}),t.on(["shape.remove","connection.remove"],2e3,function(p){s.isActive(p.element)&&s.cancel()}),t.on(["commandStack.changed"],function(p){s.isActive()&&s.cancel()}),t.on("directEditing.activate",function(p){l.removeResizers()}),t.on("create.end",500,function(p){var h=p.context;p.isTouch||p.context.canExecute&&(h.hints&&!1===h.hints.createElementsBehavior||u(h.shape))}),t.on("autoPlace.end",500,function(p){u(p.shape)})}function p$(t){return j(t,"bpmn:SubProcess")&&!hr(t)}N6.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],N6.prototype.activate=function(t){var i=Tc(t);if(void 0!==i){var o={text:i};Ae(o,this.getEditingBBox(t));var a={};return(on(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||p$(t))&&Ae(a,{centerVertically:!0}),Zv(t)&&Ae(a,{autoResize:!0}),j(t,"bpmn:TextAnnotation")&&Ae(a,{resizable:!0,autoResize:!0}),Ae(o,{options:a}),o}},N6.prototype.getEditingBBox=function(t){var i=this._canvas,o=t.label||t,s=i.getAbsoluteBBox(o),a_x=s.x+s.width/2,a_y=s.y+s.height/2,l={x:s.x,y:s.y},c=i.zoom(),u=this._textRenderer.getDefaultStyle(),p=this._textRenderer.getExternalStyle(),h=p.fontSize*c,v=p.lineHeight,y=u.fontSize*c,E=u.lineHeight,S={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(j(t,"bpmn:Lane")||function eUe(t){return j(t,"bpmn:Participant")&&hr(t)}(t))&&(Ae(l,{width:s.height,height:30*c,x:s.x-s.height/2+15*c,y:a_y-30*c/2}),Ae(S,{fontSize:y+"px",lineHeight:E,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px",transform:"rotate(-90deg)"})),(on(t,["bpmn:Task","bpmn:CallActivity"])||function JHe(t){return j(t,"bpmn:Participant")&&!hr(t)}(t)||p$(t))&&(Ae(l,{width:s.width,height:s.height}),Ae(S,{fontSize:y+"px",lineHeight:E,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"})),function ZHe(t){return j(t,"bpmn:SubProcess")&&hr(t)}(t)&&(Ae(l,{width:s.width,x:s.x}),Ae(S,{fontSize:y+"px",lineHeight:E,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"}));var D=90*c,k=7*c,R=4*c;if(o.labelTarget&&(Ae(l,{width:D,height:s.height+k+R,x:a_x-D/2,y:s.y-k}),Ae(S,{fontSize:h+"px",lineHeight:v,paddingTop:k+"px",paddingBottom:R+"px"})),Zv(o)&&!u9(o)&&!Rr(o)){var L=CL(t),N=i.getAbsoluteBBox({x:L.x,y:L.y,width:0,height:0}),B=h+k+R;Ae(l,{width:D,height:B,x:N.x-D/2,y:N.y-B/2}),Ae(S,{fontSize:h+"px",lineHeight:v,paddingTop:k+"px",paddingBottom:R+"px"})}return j(t,"bpmn:TextAnnotation")&&(Ae(l,{width:s.width,height:s.height,minWidth:30*c,minHeight:10*c}),Ae(S,{textAlign:"left",paddingTop:5*c+"px",paddingBottom:7*c+"px",paddingLeft:7*c+"px",paddingRight:5*c+"px",fontSize:y+"px",lineHeight:E})),{bounds:l,style:S}},N6.prototype.update=function(t,i,o,s){var a,l;j(t,"bpmn:TextAnnotation")&&(l=this._canvas.getAbsoluteBBox(t),a={x:t.x,y:t.y,width:t.width/l.width*s.width,height:t.height/l.height*s.height}),function tUe(t){return!t||!t.trim()}(i)&&(i=null),this._modeling.updateLabel(t,i,a)};var Ole="djs-element-hidden",kle="djs-label-hidden";function Mle(t,i,o){var l,c,u,s=this,a=i.getDefaultLayer();t.on("directEditing.activate",function(p){var h=p.active;if(j(l=h.element.label||h.element,"bpmn:TextAnnotation")){c=i.getAbsoluteBBox(l),u=sn("g");var v=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:l.width,containerHeight:l.height,position:{mx:0,my:0}}),y=s.path=sn("path");Dt(y,{d:v,strokeWidth:2,stroke:nUe(l)}),yn(u,y),yn(a,u),Xl(u,l.x,l.y)}j(l,"bpmn:TextAnnotation")||l.labelTarget?i.addMarker(l,Ole):(j(l,"bpmn:Task")||j(l,"bpmn:CallActivity")||j(l,"bpmn:SubProcess")||j(l,"bpmn:Participant"))&&i.addMarker(l,kle)}),t.on("directEditing.resize",function(p){if(j(l,"bpmn:TextAnnotation")){var y=Math.max(l.height/c.height*(p.height+p.dy),0),E=o.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:l.width,containerHeight:y,position:{mx:0,my:0}});Dt(s.path,{d:E})}}),t.on(["directEditing.complete","directEditing.cancel"],function(p){var h=p.active;h&&(i.removeMarker(h.element.label||h.element,Ole),i.removeMarker(l,kle)),l=void 0,c=void 0,u&&(mo(u),u=void 0)})}function nUe(t,i){return Pr(t).get("stroke")||i||"black"}Mle.$inject=["eventBus","canvas","pathMap"];const rUe={__depends__:[hj,Ple,jae],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",N6],labelEditingPreview:["type",Mle]};var f$=["top","bottom","left","right"];function h$(t,i){function o(a){if(u9(a)){var l=function sUe(t){var i=wn(t.label),s=Rle(wn(t),i);if(function aUe(t){return-1!==f$.indexOf(t)}(s)){var a=function oUe(t){var i=wn(t),o=[].concat(t.incoming.map(function(s){return s.waypoints[s.waypoints.length-2]}),t.outgoing.map(function(s){return s.waypoints[1]})).map(function(s){return Rle(i,s)});return o}(t);if(t.host){var l=function iUe(t){var a,i=t.host,s=fa(wn(t),i);a=s.indexOf("-")>=0?s.split("-"):[s];var l=f$.filter(function(c){return-1===a.indexOf(c)});return l}(t);a=a.concat(l)}var c=f$.filter(function(u){return-1===a.indexOf(u)});if(-1===c.indexOf(s))return c[0]}}(a);l&&function s(a,l){var c=wn(a),u=a.label,p=wn(u);if(u.parent){var v,h=an(a);switch(l){case"top":v={x:c.x,y:h.top-10-u.height/2};break;case"left":v={x:h.left-10-u.width/2,y:c.y};break;case"bottom":v={x:c.x,y:h.bottom+10+u.height/2};break;case"right":v={x:h.right+10+u.width/2,y:c.y}}var y=E0(v,p);i.moveShape(u,y)}}(a,l)}}pt.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(a){var l=a.context,c=l.connection,p=c.target;!1!==(l.hints||{}).createElementsBehavior&&(o(c.source),o(p))}),this.postExecuted(["label.create"],function(a){var l=a.context;!1!==(l.hints||{}).createElementsBehavior&&o(l.shape.labelTarget)}),this.postExecuted(["elements.create"],function(a){var l=a.context;!1!==(l.hints||{}).createElementsBehavior&&l.elements.forEach(function(p){o(p)})})}function Rle(t,i){return fa(i,t,5)}function m$(t){pt.call(this,t),this.preExecute("shape.append",function(i){var o=i.source,s=i.shape;i.position||(i.position=j(s,"bpmn:TextAnnotation")?{x:o.x+o.width/2+75,y:o.y-50-s.height/2}:{x:o.x+o.width+80+s.width/2,y:o.y+o.height/2})},!0)}function g$(t,i){t.invoke(pt,this),this.postExecute("shape.move",function(o){var s=o.newParent,a=o.shape;_e(On(a.incoming.concat(a.outgoing),function(c){return j(c,"bpmn:Association")}),function(c){i.moveConnection(c,{x:0,y:0},s)})},!0)}function HP(t,i){i.invoke(pt,this),this._bpmnReplace=t;var o=this;this.postExecuted("elements.create",500,function(s){var a=s.elements;1===(a=a.filter(function(l){return Ile(l,l.host)})).length&&a.map(function(l){return a.indexOf(l)}).forEach(function(l){s.elements[l]=o._replaceShape(a[l],a[l])})},!0),this.preExecute("elements.move",500,function(s){var a=s.shapes,l=s.newHost;if(1===a.length){var c=a[0];Ile(c,l)&&(s.shapes=[o._replaceShape(c,l)])}},!0)}function Ile(t,i){return!Rr(t)&&on(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!i}function v$(t,i){function o(s){return On(s.attachers,function(a){return j(a,"bpmn:BoundaryEvent")})}pt.call(this,t),this.postExecute("connection.create",function(s){var a=s.context.source,l=s.context.target,c=o(l);j(a,"bpmn:EventBasedGateway")&&j(l,"bpmn:ReceiveTask")&&c.length>0&&i.removeElements(c)}),this.postExecute("connection.reconnect",function(s){var l=s.context.newSource;j(s.context.oldSource,"bpmn:Gateway")&&j(l,"bpmn:EventBasedGateway")&&_e(l.outgoing,function(c){var u=c.target,p=o(u);j(u,"bpmn:ReceiveTask")&&p.length>0&&i.removeElements(p)})})}function y$(t){t.invoke(pt,this),this.preExecute("shape.create",1500,function(i){var o=i.context,s=o.parent,a=o.shape;j(s,"bpmn:Lane")&&!j(a,"bpmn:Lane")&&(o.parent=TP(s,"bpmn:Participant"))})}function b$(t,i){pt.call(this,t),this.preExecute("shape.create",function(o){var a=o.context.shape;if(j(a,"bpmn:DataObjectReference")&&"label"!==a.type){var l=i.create("bpmn:DataObject");a.businessObject.dataObjectRef=l}})}jt(h$,pt),h$.$inject=["eventBus","modeling"],jt(m$,pt),m$.$inject=["eventBus"],jt(g$,pt),g$.$inject=["injector","modeling"],HP.$inject=["bpmnReplace","injector"],jt(HP,pt),HP.prototype._replaceShape=function(t,i){var o=function lUe(t){var o=le(t).eventDefinitions;return o&&o[0]}(t),s={type:"bpmn:BoundaryEvent",host:i};return o&&(s.eventDefinitionType=o.$type),this._bpmnReplace.replaceElement(t,s,{layoutConnection:!1})},v$.$inject=["eventBus","modeling"],jt(v$,pt),y$.$inject=["injector"],jt(y$,pt),b$.$inject=["eventBus","bpmnFactory"],jt(b$,pt);function x$(t,i,o){function s(){var a=t.getRootElement();return j(a,"bpmn:Collaboration")?a:o.makeCollaboration()}pt.call(this,i),i.on(["create.start","shape.move.start"],2e3,function(a){var l=a.context,c=l.shape,u=t.getRootElement();if(j(c,"bpmn:Participant")&&j(u,"bpmn:Process")&&u.children.length){var p=u.children.filter(function(y){return!j(y,"bpmn:Group")&&!Rr(y)&&!Di(y)});if(p.length){var h=Ao(p),v=function cUe(t,i){i={width:i.width+40+30,height:i.height+40};var o=Math.max(t.width,i.width),s=Math.max(t.height,i.height);return{x:-o/2,y:-s/2,width:o,height:s}}(c,h);Ae(c,v),l.createConstraints=function uUe(t,i){return{bottom:(i=an(i)).top+t.height/2-20,left:i.right-t.width/2+20,top:i.bottom-t.height/2+20,right:i.left+t.width/2-20-30}}(c,h)}}}),i.on("create.start",2e3,function(a){var c=a.context.shape,u=t.getRootElement(),p=t.getGraphics(u);function h(v){v.element=u,v.gfx=p}j(c,"bpmn:Participant")&&j(u,"bpmn:Process")&&(i.on("element.hover",2e3,h),i.once("create.cleanup",function(){i.off("element.hover",h)}))}),this.preExecute("elements.create",2e3,function(a){var p,c=a.parent,u=function dUe(t){return Kn(t,function(i){return j(i,"bpmn:Participant")})}(a.elements);u&&j(c,"bpmn:Process")&&(a.parent=s(),(p=a.hints=a.hints||{}).participant=u,p.process=c,p.processRef=le(u).get("processRef"))},!0),this.preExecute("shape.create",function(a){var l=a.parent,c=a.shape;j(c,"bpmn:Participant")&&j(l,"bpmn:Process")&&(a.parent=s(),a.process=l,a.processRef=le(c).get("processRef"))},!0),this.execute("shape.create",function(a){var l=a.hints||{},c=a.process||l.process,u=a.shape,p=l.participant;c&&(!p||u===p)&&le(u).set("processRef",le(c))},!0),this.revert("shape.create",function(a){var l=a.hints||{},u=a.processRef||l.processRef,p=a.shape,h=l.participant;(a.process||l.process)&&(!h||p===h)&&le(p).set("processRef",u)},!0),this.postExecute("shape.create",function(a){var c=a.process||a.hints.process,u=a.shape,p=(a.hints||{}).participant;if(c){var h=c.children.slice();p?u===p&&o.moveElements(h,{x:0,y:0},p):o.moveElements(h,{x:0,y:0},u)}},!0)}x$.$inject=["canvas","eventBus","modeling"],jt(x$,pt);var Lle="__targetRef_placeholder";function w$(t,i){function s(c,u){var p=c.get("properties"),h=Kn(p,function(v){return v.name===Lle});return!h&&u&&Yo(p,h=i.create("bpmn:Property",{name:Lle})),h}function a(c,u){var p=s(c);p&&(function o(c,u,p){return Kn(c.get("dataInputAssociations"),function(v){return v!==p&&v.targetRef===u})}(c,p,u)||Io(c.get("properties"),p))}function l(c){var L,u=c.context,p=u.connection,h=p.businessObject,v=p.target,y=v&&v.businessObject,E=u.newTarget,S=E&&E.businessObject,D=u.oldTarget||u.target,k=D&&D.businessObject,R=p.businessObject;k&&k!==y&&a(k,h),S&&S!==y&&a(S,h),y?(L=s(y,!0),R.targetRef=L):R.targetRef=null}pt.call(this,t),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],Fle(l)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],Fle(l))}function Fle(t){return function(i){if(j(i.context.connection,"bpmn:DataInputAssociation"))return t(i)}}function GP(t){this._bpmnUpdater=t}function S$(t,i,o,s){function l(u){return u.children.filter(function(p){return j(p,"bpmn:DataStoreReference")&&!p.labelTarget})}function c(u,p){var h=u.businessObject||u;if(p=p||function a(){return o.filter(function(u){return j(u,"bpmn:Participant")&&le(u).processRef})[0]}(),p){var v=p.businessObject||p;i.execute("dataStore.updateContainment",{dataStoreBo:h,dataStoreDi:Pr(u),newSemanticParent:v.processRef||v,newDiParent:Pr(p)})}}pt.call(this,s),i.registerHandler("dataStore.updateContainment",GP),this.preExecute("shape.create",function(u){var p=u.context,h=p.shape;j(h,"bpmn:DataStoreReference")&&"label"!==h.type&&(p.hints||(p.hints={}),p.hints.autoResize=!1)}),this.preExecute("elements.move",function(u){var p=u.context,h=p.shapes;h.filter(function(y){return j(y,"bpmn:DataStoreReference")}).length&&(p.hints||(p.hints={}),p.hints.autoResize=h.filter(function(y){return!j(y,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(u){var h=u.context.shape,v=h.parent;j(h,"bpmn:DataStoreReference")&&"label"!==h.type&&j(v,"bpmn:Collaboration")&&c(h)}),this.postExecute("shape.move",function(u){var p=u.context,h=p.shape,v=p.oldParent,y=h.parent;if(!j(v,"bpmn:Collaboration")&&j(h,"bpmn:DataStoreReference")&&"label"!==h.type&&j(y,"bpmn:Collaboration")){var E=j(v,"bpmn:Participant")?v:function fUe(t,i){for(;t.parent;){if(j(t.parent,i))return t.parent;t=t.parent}}(v,"bpmn:Participant");c(h,E)}}),this.postExecute("shape.delete",function(u){var h=u.context.shape,v=t.getRootElement();on(h,["bpmn:Participant","bpmn:SubProcess"])&&j(v,"bpmn:Collaboration")&&l(v).filter(function(y){return function pUe(t,i){for(var o=t.businessObject||t,s=i.businessObject||i;o.$parent;){if(o.$parent===s.processRef||s)return!0;o=o.$parent}return!1}(y,h)}).forEach(function(y){c(y)})}),this.postExecute("canvas.updateRoot",function(u){var p=u.context,v=p.newRoot;l(p.oldRoot).forEach(function(E){j(v,"bpmn:Process")&&c(E,v)})})}function C$(t,i){pt.call(this,t),this.postExecuted("shape.delete",500,function(s){var a=s.context,l=a.hints,c=a.shape,u=a.oldParent;j(c,"bpmn:Lane")&&(l&&l.nested||function o(s,a){var p,h,v,l=_y(a),c=[],u=[];oy(l,function(y){return y.y>s.y?u.push(y):c.push(y),y.children}),l.length&&(p=u.length&&c.length?s.height/2:s.height,c.length&&(h=i.calculateAdjustments(c,"y",p,s.y-10),i.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:p},"s")),u.length&&(v=i.calculateAdjustments(u,"y",-p,s.y+s.height+10),i.makeSpace(v.movingShapes,v.resizingShapes,{x:0,y:-p},"n")))}(c,u))})}function qP(t,i){i.invoke(pt,this),this._bpmnReplace=t;var o=this;this.postExecuted("elements.create",500,function(s){var a=s.elements;a.filter(function(l){return jle(l,l.host)}).map(function(l){return a.indexOf(l)}).forEach(function(l){s.elements[l]=o._replaceShape(a[l])})},!0),this.preExecute("elements.move",500,function(s){var a=s.shapes,l=s.newHost;a.forEach(function(c,u){var p=c.host;jle(c,function gUe(t,i){return-1!==t.indexOf(i)}(a,p)?p:l)&&(a[u]=o._replaceShape(c))})},!0)}function jle(t,i){return!Rr(t)&&j(t,"bpmn:BoundaryEvent")&&!i}function D$(t,i,o){function s(a,l,c){var p,h,v,E,S,D,L,u=l.waypoints,k=a.outgoing.slice(),R=a.incoming.slice(),N=Gj(u,L=mn(c.width)?wn(c):c);if(N){if(p=u.slice(0,N.index),h=u.slice(N.index+(N.bendpoint?1:0)),!p.length||!h.length)return;v=N.bendpoint?u[N.index]:L,(1===p.length||!$le(a,p[p.length-1]))&&p.push(Vle(v)),(1===h.length||!$le(a,h[0]))&&h.unshift(Vle(v))}E=l.target,i.canConnect(l.source,a,l)&&(o.reconnectEnd(l,a,p||L),S=l),i.canConnect(a,E,l)&&(S?D=o.connect(a,E,{type:l.type,waypoints:h}):(o.reconnectStart(l,a,h||L),D=l));var B=[].concat(S&&On(R,function($){return $.source===S.source})||[],D&&On(k,function($){return $.target===D.target})||[]);B.length&&o.removeElements(B)}pt.call(this,t),this.preExecute("elements.move",function(a){var l=a.newParent,c=a.shapes,u=a.delta,p=c[0];if(p&&l){l&&l.waypoints&&(a.newParent=l=l.parent);var h=wn(p),v={x:h.x+u.x,y:h.y+u.y},y=Kn(l.children,function(E){return i.canInsert(c,E)&&Gj(E.waypoints,v)});y&&(a.targetFlow=y,a.position=v)}},!0),this.postExecuted("elements.move",function(a){var c=a.targetFlow;c&&s(a.shapes[0],c,a.position)},!0),this.preExecute("shape.create",function(a){var l=a.parent;i.canInsert(a.shape,l)&&(a.targetFlow=l,a.parent=l.parent)},!0),this.postExecuted("shape.create",function(a){var c=a.targetFlow;c&&s(a.shape,c,a.position)},!0)}function $le(t,i){var o=i.x,s=i.y;return o>=t.x&&o<=t.x+t.width&&s>=t.y&&s<=t.y+t.height}function Vle(t){return Ae({},t)}function T$(t,i){pt.call(this,t),this.preExecuted("connection.create",function(o){var s=o.context,a=s.connection,l=s.source,c=s.target,u=s.hints;u&&!1===u.createElementsBehavior||!j5(a)||(j(l,"bpmn:EventBasedGateway")?c.incoming.filter(h=>h!==a&&j5(h)):c.incoming.filter(h=>h!==a&&j5(h)&&j(h.source,"bpmn:EventBasedGateway"))).forEach(function(h){i.removeConnection(h)})}),this.preExecuted("shape.replace",function(o){var a=o.context.newShape;j(a,"bpmn:EventBasedGateway")&&a.outgoing.filter(j5).reduce(function(c,u){return c.includes(u.target)?c:c.concat(u.target)},[]).forEach(function(c){c.incoming.filter(j5).forEach(function(u){const p=c.incoming.filter(j5).filter(function(h){return h.source===a});(u.source!==a||p.length>1)&&i.removeConnection(u)})})})}function j5(t){return j(t,"bpmn:SequenceFlow")}function Hle(t,i,o){i.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(s){var l=s.context.shape||s.shape,c=s.hover;j(c,"bpmn:Lane")&&!on(l,["bpmn:Lane","bpmn:Participant"])&&(s.hover=yu(c),s.hoverGfx=t.getGraphics(s.hover));var u=o.getRootElement();c!==u&&(l.labelTarget||j(l,"bpmn:Group"))&&(s.hover=u,s.hoverGfx=t.getGraphics(s.hover))}),i.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(s){var a=s.hover;j(a,"bpmn:Lane")&&(s.hover=yu(a)||a,s.hoverGfx=t.getGraphics(s.hover))}),i.on(["bendpoint.move.hover"],1500,function(s){var l=s.hover,c=s.context.type;j(l,"bpmn:Lane")&&/reconnect/.test(c)&&(s.hover=yu(l)||l,s.hoverGfx=t.getGraphics(s.hover))}),i.on(["connect.start"],1500,function(s){var a=s.context,l=a.start;j(l,"bpmn:Lane")&&(a.start=yu(l)||l)}),i.on("shape.move.start",2e3,function(s){var a=s.shape;j(a,"bpmn:Lane")&&(s.shape=yu(a)||a)}),i.on("spaceTool.move",2e3,function(s){var a=s.hover;a&&j(a,"bpmn:Lane")&&(s.hover=yu(a))})}function P$(t,i,o,s,a,l){function h(D,k,R){var L=function c(){return o.filter(function(D){return j(D,"bpmn:Group")})}().filter(function(N){return N.businessObject!==R});k&&!function u(D,k){return D.some(function(R){var L=le(R);return(L.categoryValueRef&&L.categoryValueRef.$parent)===k})}(L,k)&&function EUe(t){var i=t.$parent;i&&(Io(i.get("rootElements"),t),t.$parent=null)}(k),D&&!function p(D,k){return D.some(function(R){return le(R).categoryValueRef===k})}(L,D)&&function _Ue(t){var i=t.$parent;i&&(Io(i.get("categoryValue"),t),t.$parent=null)}(D)}function v(D,k){return function bUe(t,i,o){return Yo(i.get("categoryValue"),t),t.$parent=i,Yo(o.get("rootElements"),i),i.$parent=o,t}(D,k,i.getDefinitions())}function y(D,k){var R=le(D),L=R.categoryValueRef;L||(L=R.categoryValueRef=k.categoryValue=k.categoryValue||function yUe(t){return t.create("bpmn:CategoryValue")}(t));var N=L.$parent;N||(N=L.$parent=k.category=k.category||function vUe(t){return t.create("bpmn:Category")}(t)),v(L,N,i.getDefinitions())}function E(D,k){var R=k.category,L=k.categoryValue,N=le(D);L?(N.categoryValueRef=null,h(L,R,N)):h(null,N.categoryValueRef.$parent,N)}function S(D,k){var R=t.create(D.$type);return l.copyElement(D,R,null,k)}a.invoke(pt,this),this.execute("label.create",function(D){var k=D.context,R=k.labelTarget;j(R,"bpmn:Group")&&y(R,k)}),this.revert("label.create",function(D){var k=D.context,R=k.labelTarget;j(R,"bpmn:Group")&&E(R,k)}),this.execute("shape.delete",function(D){var k=D.context,R=k.shape,L=le(R);if(j(R,"bpmn:Group")&&!R.labelTarget){var N=k.categoryValue=L.categoryValueRef;N&&(h(N,k.category=N.$parent,L),L.categoryValueRef=null)}}),this.reverted("shape.delete",function(D){var k=D.context,R=k.shape;if(j(R,"bpmn:Group")&&!R.labelTarget){var L=k.category,N=k.categoryValue,B=le(R);N&&(B.categoryValueRef=N,v(N,L))}}),this.execute("shape.create",function(D){var k=D.context,R=k.shape;!j(R,"bpmn:Group")||R.labelTarget||le(R).categoryValueRef&&y(R,k)}),this.reverted("shape.create",function(D){var k=D.context,R=k.shape;!j(R,"bpmn:Group")||R.labelTarget||le(R).categoryValueRef&&E(R,k)}),s.on("copyPaste.copyElement",770,function(D){var k=D.descriptor,R=D.element;if(j(R,"bpmn:Group")&&!R.labelTarget){var L=le(R);if(L.categoryValueRef){var N=L.categoryValueRef;k.categoryValue=S(N,!0),N.$parent&&(k.category=S(N.$parent,!0))}}}),s.on("copyPaste.pasteElement",770,function(D){var k=D.descriptor,L=k.categoryValue,N=k.category;L&&(L=k.businessObject.categoryValueRef=S(L)),N&&(L.$parent=S(N)),delete k.category,delete k.categoryValue})}function O$(t,i,o,s){var a,u;return 0==(a=(s.y-o.y)*(i.x-t.x)-(s.x-o.x)*(i.y-t.y))?null:(u=((s.x-o.x)*(t.y-o.y)-(s.y-o.y)*(t.x-o.x))/a,{x:Math.round(t.x+u*(i.x-t.x)),y:Math.round(t.y+u*(i.y-t.y))})}function Gle(t){function i(s,a,l){var v,u={x:l.x-50,y:l.y},p=O$(s,a,l,{x:l.x,y:l.y-50}),h=O$(s,a,l,u);v=p&&h?qle(p,l)>qle(h,l)?h:p:p||h,s.original=v}t.on("bpmnElement.added",function(s){var a=s.element;a.waypoints&&function o(s){var a=s.waypoints;i(a[0],a[1],wn(s.source)),i(a[a.length-1],a[a.length-2],wn(s.target))}(a)})}function qle(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function k$(t){pt.call(this,t);var i=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(o){var s=o.context.shape,a=le(s),l=Pr(s);on(a,i)&&!l.get("isHorizontal")&&l.set("isHorizontal",!0)})}w$.$inject=["eventBus","bpmnFactory"],jt(w$,pt),GP.$inject=["bpmnUpdater"],GP.prototype.execute=function(t){var i=t.dataStoreBo,o=t.dataStoreDi,s=t.newSemanticParent,a=t.newDiParent;return t.oldSemanticParent=i.$parent,t.oldDiParent=o.$parent,this._bpmnUpdater.updateSemanticParent(i,s),this._bpmnUpdater.updateDiParent(o,a),[]},GP.prototype.revert=function(t){var o=t.dataStoreDi,a=t.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t.dataStoreBo,t.oldSemanticParent),this._bpmnUpdater.updateDiParent(o,a),[]},S$.$inject=["canvas","commandStack","elementRegistry","eventBus"],jt(S$,pt),C$.$inject=["eventBus","spaceTool"],jt(C$,pt),qP.$inject=["bpmnReplace","injector"],jt(qP,pt),qP.prototype._replaceShape=function(t){var i=function mUe(t){var o=le(t).eventDefinitions;return o&&o[0]}(t);return this._bpmnReplace.replaceElement(t,i?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:i.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},jt(D$,pt),D$.$inject=["eventBus","bpmnRules","modeling"],T$.$inject=["eventBus","modeling"],jt(T$,pt),Hle.$inject=["elementRegistry","eventBus","canvas"],P$.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],jt(P$,pt),Gle.$inject=["eventBus"],k$.$inject=["eventBus"],jt(k$,pt);var Wle=Math.sqrt,Xle=Math.min,xUe=Math.max,Yle=Math.abs;function Kle(t){return Math.pow(t,2)}function L6(t,i){return Wle(Kle(t.x-i.x)+Kle(t.y-i.y))}function SUe(t,i,o,s){var a=i.x-t.x,l=i.y-t.y,c=o.x-t.x,u=o.y-t.y,p=a*a+l*l,y=(a*c+l*u)/p,S=y*y-(c*c+u*u-s*s)/p;if(S<0&&S>-1e-6&&(S=0),S<0)return[];var D=Wle(S),k=-y+D,R=-y-D,L={x:t.x-a*k,y:t.y-l*k};return 0===S?[L]:[L,{x:t.x-a*R,y:t.y-l*R}].filter(function(B){return function CUe(t,i,o){return Qle(t.x,i.x,o.x)&&Qle(t.y,i.y,o.y)}(B,t,i)})}function Qle(t,i,o){return t>=Xle(i,o)-XP&&t<=xUe(i,o)+XP}function DUe(t,i){return{x:(t.x+i.x)/2,y:(t.y+i.y)/2}}var XP=.1;function Zle(t,i){return Yle(t.x-i.x)<=XP&&Yle(t.y-i.y)<=XP}function Jle(t,i,o,s){var a=0,l=0,c={point:t,delta:{x:0,y:0}},u=function wUe(t,i){var s,a,l,c,u,h,v,y,E,S,o=0;for(o=0;o<i.length-1;o++){if(Zle(s=i[o],a=i[o+1])?h=[s]:(l=L6(t,s),c=L6(t,a),h=SUe(s,a,t,Xle(l,c))),h.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===h.length&&(v={type:"bendpoint",position:h[0],segmentIndex:o,bendpointIndex:Zle(s,h[0])?o:o+1}),2===h.length&&(v={type:"segment",position:u=DUe(h[0],h[1]),segmentIndex:o,relativeLocation:L6(s,u)/L6(s,a)}),y=L6(v.position,t),(!S||E>y)&&(S=v,E=y)}return S}(t,o),p=u.segmentIndex,h=function TUe(t,i,o,s){var a=o.segmentIndex,l=i.length-t.length;if(s.segmentMove){var u=s.segmentMove.newSegmentStartIndex;return a===s.segmentMove.segmentStartIndex?u:a>=u?a+l<u?u:a+l:a}if(s.bendpointMove){var v,p=s.bendpointMove.insert,h=s.bendpointMove.bendpointIndex;return 0===l?a:(a>=h&&(v=p?a+1:a-1),a<h&&(v=a,p&&"bendpoint"!==o.type&&h-1===a)&&ece(i,h)<o.relativeLocation&&v++,v)}return 0===l?a:s.connectionStart&&0===a?0:s.connectionEnd&&a===t.length-2?i.length-2:Math.floor((i.length-2)/2)}(o,i,u,s);if(h<0||h>i.length-2||null===h)return c;var v=tce(o,p),y=tce(i,h),E=u.position,S=function OUe(t,i){var o=bP(t[0],t[1]),s=bP(t[0],i);return 0===o?0:s/o}(v,E),D=function PUe(t,i){var o=rae(t);return rae(i)-o}(v,y);if("bendpoint"===u.type){var k=i.length-o.length,R=u.bendpointIndex;if(-1!==i.indexOf(o[R]))return c;if(0===k){var N=i[R];return{delta:{x:a=N.x-u.position.x,y:l=N.y-u.position.y},point:{x:t.x+a,y:t.y+l}}}k<0&&0!==R&&R<o.length-1&&(S=ece(o,R))}var B={x:(y[1].x-y[0].x)*S+y[0].x,y:(y[1].y-y[0].y)*S+y[0].y},$=function HVe(t,i){return i?{x:Math.cos(i)*t.x-Math.sin(i)*t.y,y:Math.sin(i)*t.x+Math.cos(i)*t.y}:t}({x:t.x-E.x,y:t.y-E.y},D);return a=B.x+$.x-t.x,l=B.y+$.y-t.y,{point:Of(B),delta:Of({x:a,y:l})}}function ece(t,i){var o=bP(t[i-1],t[i]);return o/(o+bP(t[i],t[i+1]))}function tce(t,i){return[t[i],t[i+1]]}function F6(t,i,o){var s=f6(i),a=f6(o),l=E0(t,s);return Of({x:a.x+l.x*(o.width/i.width),y:a.y+l.y*(o.height/i.height)})}function nce(t,i,o){var s=f6(t),a=f6(i),l=f6(o),c=E0(t,s),u=E0(s,a),p=function MUe(t,i,o){var s=an(i),a=an(o);if(function RUe(t,i){return function AUe(t,i){return t.right!==i.right&&t.left!==i.left}(t,i)||function IUe(t,i){return t.top!==i.top&&t.bottom!==i.bottom}(t,i)}(s,a))return null;var c,l=fa(i,t);if("top"===l)c={x:0,y:a.bottom-s.bottom};else if("bottom"===l)c={x:0,y:a.top-s.top};else if("right"===l)c={x:a.left-s.left,y:0};else{if("left"!==l)return null;c={x:a.right-s.right,y:0}}return fa(o,{x:t.x+c.x,y:t.y+c.y})!==l?null:c}(s,i,o);return p||Of({x:l.x+u.x*(o.width/i.width)+c.x-t.x,y:l.y+u.y*(o.height/i.height)+c.y-t.y})}function M$(t,i,o,s){function a(c){var u=c.context,p=u.element,h=u.properties;if("name"in h&&i.updateLabel(p,h.name),"text"in h&&j(p,"bpmn:TextAnnotation")){var v=s.getTextAnnotationBounds({x:p.x,y:p.y,width:p.width,height:p.height},h.text||"");i.updateLabel(p,h.text,v)}}pt.call(this,t),this.postExecute("element.updateProperties",a),this.postExecute("element.updateModdleProperties",c=>{le(c.context.element)===c.context.moddleElement&&a(c)}),this.postExecute(["shape.create","connection.create"],function(c){var u=c.context;if(!1!==(u.hints||{}).createElementsBehavior){var h=u.shape||u.connection;Rr(h)||!Zv(h)||Tc(h)&&i.updateLabel(h,Tc(h))}}),this.postExecute("shape.delete",function(c){var u=c.context,p=u.labelTarget;p&&!1!==(u.hints||{}).unsetLabel&&i.updateLabel(p,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(c){var u=c.context;if(!1!==(u.hints||{}).labelBehavior){var y,v=u.connection.label;!v||!v.parent||(y=function l(c){var u=c.context,p=u.connection,h=p.label,v=Ae({},u.hints),y=u.newWaypoints||p.waypoints,E=u.oldWaypoints;return typeof v.startChanged>"u"&&(v.startChanged=!!v.connectionStart),typeof v.endChanged>"u"&&(v.endChanged=!!v.connectionEnd),function kUe(t,i,o,s){return Jle(wn(t),i,o,s).delta}(h,y,E,v)}(c),i.moveShape(v,y))}}),this.postExecute(["shape.replace"],function(c){var u=c.context,p=u.newShape,h=u.oldShape,v=le(p);v&&Zv(v)&&h.label&&p.label&&(p.label.x=h.label.x,p.label.y=h.label.y)}),this.postExecute("shape.resize",function(c){var u=c.context,p=u.shape,h=u.newBounds,v=u.oldBounds;if(u9(p)){var y=p.label,E=wn(y),S=function FUe(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}(v),D=function LUe(t,i){if(i.length){var o=function BUe(t,i){var o=i.map(function(a){return{line:a,distance:iae(t,a)}});return os(o,"distance")[0].line}(t,i);return qj(t,o)}}(E,S),k=function NUe(t,i,o){return Of(E0(F6(t,i,o),t))}(D,v,h);i.moveShape(y,k)}})}function R$(t,i){function o(s,a){var l=s.context,c=l.connection,u=Ae({},l.hints),p=l.newWaypoints||c.waypoints,h=l.oldWaypoints;return typeof u.startChanged>"u"&&(u.startChanged=!!u.connectionStart),typeof u.endChanged>"u"&&(u.endChanged=!!u.connectionEnd),function jUe(t,i,o,s){return Jle(t,i,o,s).point}(a,p,h,u)}pt.call(this,t),this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var l=s.context.connection,c=l.outgoing;l.incoming.forEach(function(p){var v=o(s,p.waypoints[p.waypoints.length-1]),y=[].concat(p.waypoints.slice(0,-1),[v]);i.updateWaypoints(p,y)}),c.forEach(function(p){var v=o(s,p.waypoints[0]),y=[].concat([v],p.waypoints.slice(1));i.updateWaypoints(p,y)})}),this.postExecute(["connection.move"],function(s){var a=s.context,l=a.connection,c=l.outgoing,p=a.delta;l.incoming.forEach(function(h){var v=h.waypoints[h.waypoints.length-1],y={x:v.x+p.x,y:v.y+p.y},E=[].concat(h.waypoints.slice(0,-1),[y]);i.updateWaypoints(h,E)}),c.forEach(function(h){var v=h.waypoints[0],E=[].concat([{x:v.x+p.x,y:v.y+p.y}],h.waypoints.slice(1));i.updateWaypoints(h,E)})})}function YP(t,i,o){var s=QP(t),a=sce(s,i),l=s[0];return a.length?a[a.length-1]:F6(l.original||l,o,i)}function KP(t,i,o){var s=QP(t),a=sce(s,i),l=s[s.length-1];return a.length?a[0]:F6(l.original||l,o,i)}function A$(t,i,o){var s=QP(t),a=oce(i,o),l=s[0];return F6(l.original||l,a,i)}function I$(t,i,o){var s=QP(t),a=oce(i,o),l=s[s.length-1];return F6(l.original||l,a,i)}function oce(t,i){return{x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}function QP(t){var i=t.waypoints;if(!i.length)throw new Error("connection#"+t.id+": no waypoints");return i}function sce(t,i){return On(ko(t,VUe),function(s){return function $Ue(t,i){return"intersect"===fa(i,t,1)}(s,i)})}function VUe(t){return t.original||t}function N$(t,i){pt.call(this,t),this.postExecute("shape.replace",function(o){var s=o.oldShape,a=o.newShape;if(function zUe(t,i){return j(t,"bpmn:Participant")&&hr(t)&&j(i,"bpmn:Participant")&&!hr(i)}(s,a)){var l=function HUe(t){var i=e6([t],!1),o=[],s=[];return i.forEach(function(a){a!==t&&(a.incoming.forEach(function(l){j(l,"bpmn:MessageFlow")&&o.push(l)}),a.outgoing.forEach(function(l){j(l,"bpmn:MessageFlow")&&s.push(l)}))},[]),{incoming:o,outgoing:s}}(s);l.incoming.forEach(function(c){var u=KP(c,a,s);i.reconnectEnd(c,a,u)}),l.outgoing.forEach(function(c){var u=YP(c,a,s);i.reconnectStart(c,a,u)})}},!0)}function L$(t,i){pt.call(this,t),this.preExecute("shape.resize",function(o){var s=o.shape,a=Pr(s),l=a&&a.get("label");l&&l.get("bounds")&&i.updateModdleProperties(s,l,{bounds:void 0})},!0)}function F$(t,i,o){pt.call(this,t),this.preExecute("shape.delete",function(s){var a=s.context.shape;if(1===a.incoming.length&&1===a.outgoing.length){var l=a.incoming[0],c=a.outgoing[0];if(j(l,"bpmn:SequenceFlow")&&j(c,"bpmn:SequenceFlow")&&i.canConnect(l.source,c.target,l)){var u=function UUe(t,i){var o=O$($5(t[t.length-2]),$5(t[t.length-1]),$5(i[1]),$5(i[0]));return o?[].concat(t.slice(0,t.length-1),[o],i.slice(1)):[$5(t[0]),$5(i[i.length-1])]}(l.waypoints,c.waypoints);o.reconnectEnd(l,c.target,u)}}})}function $5(t){return t.original||t}function B$(t,i){pt.call(this,t),this.preExecute("shape.delete",function(o){var s=o.shape,a=s.parent;j(s,"bpmn:Participant")&&(o.collaborationRoot=a)},!0),this.postExecute("shape.delete",function(o){var s=o.collaborationRoot;s&&!s.businessObject.participants.length&&i.makeProcess()},!0)}function j$(t,i,o,s){pt.call(this,t);var a=s.get("dragging",!1);function l(p){var E,S,h=p.source,v=p.target;p.parent&&(j(p,"bpmn:SequenceFlow")&&(o.canConnectSequenceFlow(h,v)||(S=!0),o.canConnectMessageFlow(h,v)&&(E="bpmn:MessageFlow")),j(p,"bpmn:MessageFlow")&&(o.canConnectMessageFlow(h,v)||(S=!0),o.canConnectSequenceFlow(h,v)&&(E="bpmn:SequenceFlow")),j(p,"bpmn:Association")&&!o.canConnectAssociation(h,v)&&(S=!0),S&&i.removeConnection(p),E&&i.connect(h,v,{type:E,waypoints:p.waypoints.slice()}))}this.postExecuted("elements.move",function(p){_e(p.closure.allConnections,l)},!0),this.preExecute("connection.reconnect",function c(p){var S,D,h=p.context,v=h.connection,y=h.newSource||v.source,E=h.newTarget||v.target;(S=o.canConnect(y,E))&&S.type!==v.type&&(D=i.connect(y,E,{type:S.type,waypoints:v.waypoints.slice()}),i.removeConnection(v),h.connection=D,a&&function u(p,h){var E,v=a.context(),y=v&&v.payload.previousSelection;!y||!y.length||-1!==(E=y.indexOf(p))&&y.splice(E,1,h)}(v,D))}),this.postExecuted("element.updateProperties",function(p){var S,h=p.context,v=h.properties,y=h.element,E=y.businessObject;v.default&&(S=Kn(y.outgoing,d0({id:y.businessObject.default.id})))&&i.updateProperties(S,{conditionExpression:void 0}),v.conditionExpression&&E.sourceRef.default===E&&i.updateProperties(y.source,{default:void 0})})}function ZP(t,i,o,s,a,l){s.invoke(pt,this),this._bpmnReplace=t,this._elementRegistry=o,this._selection=l,this.postExecuted(["elements.create"],500,function(c){var u=c.context,p=u.parent,h=u.elements,v=dl(h,function(y,E){var S=i.canReplace([E],E.host||E.parent||p);return S?y.concat(S.replacements):y},[]);v.length&&this._replaceElements(h,v)},this),this.postExecuted(["elements.move"],500,function(c){var u=c.context,p=u.newParent,h=u.newHost,v=[];_e(u.closure.topLevel,function(E){v=bl(E)?v.concat(E.children):v.concat(E)}),1===v.length&&h&&(p=h);var y=i.canReplace(v,p);y&&this._replaceElements(v,y.replacements,h)},this),this.postExecute(["shape.replace"],1500,function(c){var y,u=c.context,v=u.oldShape.attachers;v&&v.length&&(y=i.canReplace(v,u.newShape),this._replaceElements(v,y.replacements))},this),this.postExecuted(["shape.replace"],1500,function(c){var u=c.context,p=u.oldShape,h=u.newShape;a.unclaimId(p.businessObject.id,p.businessObject),a.updateProperties(h,{id:p.id})})}jt(M$,pt),M$.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],jt(R$,pt),R$.$inject=["eventBus","modeling"],N$.$inject=["eventBus","modeling"],jt(N$,pt),jt(L$,pt),L$.$inject=["eventBus","modeling"],jt(F$,pt),F$.$inject=["eventBus","bpmnRules","modeling"],B$.$inject=["eventBus","modeling"],jt(B$,pt),jt(j$,pt),j$.$inject=["eventBus","modeling","bpmnRules","injector"],jt(ZP,pt),ZP.prototype._replaceElements=function(t,i){var o=this._elementRegistry,s=this._bpmnReplace,a=this._selection;_e(i,function(l){var c={type:l.newElementType},u=o.get(l.oldElementId),p=t.indexOf(u);t[p]=s.replaceElement(u,c,{select:!1})}),i&&a.select(t)},ZP.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var qUe={width:140,height:120},xy={width:300,height:60},B6={width:300,height:150},ace={width:140,height:120},lce={width:50,height:30};function cce(t){t.on("resize.start",1500,function(i){var o=i.context,s=o.shape,a=o.direction,l=o.balanced;(j(s,"bpmn:Lane")||j(s,"bpmn:Participant"))&&(o.resizeConstraints=function JUe(t,i,o){var s=yu(t),a=!0,l=!0,c=RP(s,[s]),u=an(t),p={},h={};return/e/.test(i)?h.right=u.left+xy.width:/w/.test(i)&&(h.left=u.right-xy.width),c.forEach(function(y){var E=an(y);/n/.test(i)&&(E.top<u.top-10&&(a=!1),o&&JP(u.top-E.bottom)<10&&tO(p,"top",E.top+xy.height),JP(u.top-E.top)<5&&eO(h,"top",E.bottom-xy.height)),/s/.test(i)&&(E.bottom>u.bottom+10&&(l=!1),o&&JP(u.bottom-E.top)<10&&eO(p,"bottom",E.bottom-xy.height),JP(u.bottom-E.bottom)<5&&tO(h,"bottom",E.top+xy.height))}),s.children.filter(function(y){return!y.hidden&&!y.waypoints&&(j(y,"bpmn:FlowElement")||j(y,"bpmn:Artifact"))}).forEach(function(y){var E=an(y);a&&/n/.test(i)&&eO(h,"top",E.top-QUe),/e/.test(i)&&tO(h,"right",E.right+YUe),l&&/s/.test(i)&&tO(h,"bottom",E.bottom+ZUe),/w/.test(i)&&eO(h,"left",E.left-KUe)}),{min:h,max:p}}(s,a,l)),j(s,"bpmn:Participant")&&(o.minDimensions=B6),j(s,"bpmn:SubProcess")&&hr(s)&&(o.minDimensions=ace),j(s,"bpmn:TextAnnotation")&&(o.minDimensions=lce)})}cce.$inject=["eventBus"];var JP=Math.abs,WUe=Math.min,XUe=Math.max;function uce(t,i,o,s){var a=t[i];t[i]=void 0===a?o:s(o,a)}function eO(t,i,o){return uce(t,i,o,WUe)}function tO(t,i,o){return uce(t,i,o,XUe)}var YUe=20,KUe=50,QUe=20,ZUe=20;function pce(t,i){t.on("resize.start",1501,function(o){var s=o.context,a=s.shape;(j(a,"bpmn:Lane")||j(a,"bpmn:Participant"))&&(s.balanced=!P5(o))}),t.on("resize.end",1001,function(o){var s=o.context,a=s.shape,l=s.canExecute,c=s.newBounds;if(j(a,"bpmn:Lane")||j(a,"bpmn:Participant"))return l&&(c=qie(c),i.resizeLane(a,c,s.balanced)),!1})}function $$(t,i,o,s,a){function l(v){return on(v,["bpmn:ReceiveTask","bpmn:SendTask"])||function tGe(t,i){return Rn(i)||(i=[i]),ff(i,function(o){return d9(t,o)})}(v,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function c(v){return!!Kn(t.getDefinitions().get("rootElements"),d0({id:v.id}))}function u(v){return j(v,"bpmn:ErrorEventDefinition")?"errorRef":j(v,"bpmn:EscalationEventDefinition")?"escalationRef":j(v,"bpmn:MessageEventDefinition")?"messageRef":j(v,"bpmn:SignalEventDefinition")?"signalRef":void 0}function p(v){if(on(v,["bpmn:ReceiveTask","bpmn:SendTask"]))return v.get("messageRef");var E=v.get("eventDefinitions")[0];return E.get(u(E))}o.invoke(pt,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(v){var y=v.shape||v.element;if(l(y)){var S=p(le(y));S&&!c(S)&&(Yo(t.getDefinitions().get("rootElements"),S),v.addedRootElement=S)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(v){var y=v.addedRootElement;y&&Io(t.getDefinitions().get("rootElements"),y)},!0),i.on("copyPaste.copyElement",function(v){var y=v.descriptor,E=v.element;if(!E.labelTarget&&l(E)){var D=p(le(E));D&&(y.referencedRootElement=D)}}),i.on("copyPaste.pasteElement",500,function(v){var y=v.descriptor,E=y.businessObject,S=y.referencedRootElement;S&&(c(S)||(S=s.copyElement(S,a.create(S.$type))),function h(v,y){if(on(v,["bpmn:ReceiveTask","bpmn:SendTask"]))return v.set("messageRef",y);var S=v.get("eventDefinitions")[0];S.set(u(S),y)}(E,S),delete y.referencedRootElement)})}pce.$inject=["eventBus","modeling"],$$.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],jt($$,pt);var nGe=Math.max;function fce(t){t.on("spaceTool.getMinDimensions",function(i){var s=i.axis,a=i.start,l={};return _e(i.shapes,function(c){var u=c.id;j(c,"bpmn:Participant")&&(l[u]=function rGe(t){return"x"===t}(s)?B6:{width:B6.width,height:iGe(c,a)}),j(c,"bpmn:SubProcess")&&hr(c)&&(l[u]=ace),j(c,"bpmn:TextAnnotation")&&(l[u]=lce),j(c,"bpmn:Group")&&(l[u]=qUe)}),l})}function iGe(t,i){var o;return function oGe(t){return!!_y(t).length}(t)?(o=function sGe(t,i){var s;return s=hce(_y(t),i),t.height-s.height+xy.height}(t,i),nGe(B6.height,o)):B6.height}function hce(t,i){var o,s,a;for(o=0;o<t.length;o++)if(i>=(s=t[o]).y&&i<=s.y+s.height)return(a=_y(s)).length?hce(a,i):s}fce.$inject=["eventBus"];function Zm(t,i,o,s,a,l,c){pt.call(this,i),this._canvas=t,this._eventBus=i,this._modeling=o,this._elementFactory=s,this._bpmnFactory=a,this._bpmnjs=l,this._elementRegistry=c;var u=this;function p(y){return j(y,"bpmn:SubProcess")&&!hr(y)}function h(y){var S=y.newRootElement,D=le(y.shape);S=u._addDiagram(S||D),y.newRootElement=t.addRootElement(S)}function v(y){var S=le(y.shape);u._removeDiagram(S);var D=y.newRootElement=c.get(If(S));t.removeRootElement(D)}this.executed("shape.create",function(y){p(y.shape)&&h(y)},!0),this.postExecuted("shape.create",function(y){var E=y.shape,S=y.newRootElement;!S||!E.children||(u._showRecursively(E.children),u._moveChildrenToShape(E,S))},!0),this.reverted("shape.create",function(y){p(y.shape)&&v(y)},!0),this.preExecuted("shape.delete",function(y){var E=y.shape;if(p(E)){var S=c.get(If(E));S&&o.removeElements(S.children.slice())}},!0),this.executed("shape.delete",function(y){p(y.shape)&&v(y)},!0),this.reverted("shape.delete",function(y){p(y.shape)&&h(y)},!0),this.preExecuted("shape.replace",function(y){var E=y.oldShape,S=y.newShape;!p(E)||!p(S)||(y.oldRoot=t.removeRootElement(If(E)))},!0),this.postExecuted("shape.replace",function(y){var S=y.oldRoot,D=t.findRoot(If(y.newShape));S&&D&&o.moveElements(S.children,{x:0,y:0},D)},!0),this.executed("element.updateProperties",function(y){var E=y.element;if(j(E,"bpmn:SubProcess")){var k=y.oldProperties.id,R=y.properties.id;if(k!==R){if(vj(E))return c.updateId(E,dy(R)),void c.updateId(k,R);c.get(dy(k))&&c.updateId(dy(k),dy(R))}}},!0),this.reverted("element.updateProperties",function(y){var E=y.element;if(j(E,"bpmn:SubProcess")){var k=y.oldProperties.id,R=y.properties.id;if(k!==R){if(vj(E))return c.updateId(E,dy(k)),void c.updateId(R,k);var L=c.get(dy(R));L&&c.updateId(L,dy(k))}}},!0),i.on("element.changed",function(y){var E=y.element;if(vj(E)){var S=E,D=c.get(Woe(S));!D||D===S||i.fire("element.changed",{element:D})}}),this.executed("shape.toggleCollapse",400,function(y){var E=y.shape;j(E,"bpmn:SubProcess")&&(hr(E)?v(y):(h(y),u._showRecursively(E.children)))},!0),this.reverted("shape.toggleCollapse",400,function(y){var E=y.shape;j(E,"bpmn:SubProcess")&&(hr(E)?v(y):(h(y),u._showRecursively(E.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(y){var E=y.shape;if(j(E,"bpmn:SubProcess")){var S=y.newRootElement;S&&(hr(E)?u._moveChildrenToShape(S,E):u._moveChildrenToShape(E,S))}},!0),i.on("copyPaste.createTree",function(y){var E=y.element,S=y.children;if(p(E)){var D=If(E),k=c.get(D);k&&S.push.apply(S,k.children)}}),i.on("copyPaste.copyElement",function(y){var E=y.descriptor,D=y.elements,k=y.element.parent;if(j(Pr(k),"bpmndi:BPMNPlane")){var L=Woe(k),N=Kn(D,function(B){return B.id===L});N&&(E.parent=N.id)}}),i.on("copyPaste.pasteElement",function(y){var E=y.descriptor;E.parent&&(p(E.parent)||E.parent.hidden)&&(E.hidden=!0)})}function V$(t,i){t.invoke(pt,this),this.postExecuted("shape.replace",function(o){var s=o.context.oldShape,a=o.context.newShape;if(j(a,"bpmn:SubProcess")&&(j(s,"bpmn:Task")||j(s,"bpmn:CallActivity"))&&hr(a)){var l=function lGe(t){return{x:t.x+t.width/6,y:t.y+t.height/2}}(a);i.createShape({type:"bpmn:StartEvent"},l,a)}})}function z$(t,i){pt.call(this,t),this.postExecuted("shape.toggleCollapse",1500,function(o){var s=o.shape;if(!hr(s)){var a=e6(s);a.forEach(function(c){var u=c.incoming.slice(),p=c.outgoing.slice();_e(u,function(h){l(h,!0)}),_e(p,function(h){l(h,!1)})})}function l(c,u){-1!==a.indexOf(c.source)&&-1!==a.indexOf(c.target)||(u?i.reconnectEnd(c,s,wn(s)):i.reconnectStart(c,s,wn(s)))}},!0)}function U$(t,i,o){pt.call(this,t),this.executed(["shape.toggleCollapse"],500,function(c){var p=c.context.shape;j(p,"bpmn:SubProcess")&&(p.collapsed?Pr(p).isExpanded=!1:(function s(c){c.length&&c.forEach(function(u){"label"===u.type&&!u.businessObject.name&&(u.hidden=!0)})}(p.children),Pr(p).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(c){var p=c.context.shape;Pr(p).isExpanded=!p.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(c){var h,u=c.context.shape,p=i.getDefaultSize(u);h=u.collapsed?function l(c,u){return{x:c.x+(c.width-u.width)/2,y:c.y+(c.height-u.height)/2,width:u.width,height:u.height}}(u,p):function a(c,u){var v,y,h=u;return v=function cGe(t){return t.filter(function(i){return!i.hidden})}(c.children).concat([c]),(y=ale(v))?(h.width=Math.max(y.width,h.width),h.height=Math.max(y.height,h.height),h.x=y.x+(y.width-h.width)/2,h.y=y.y+(y.height-h.height)/2):(h.x=c.x+(c.width-h.width)/2,h.y=c.y+(c.height-h.height)/2),h}(u,p),o.resizeShape(u,h,null,{autoResize:!u.collapsed&&"nwse"})})}function G$(t,i,o,s){i.invoke(pt,this),this.preExecute("shape.delete",function(a){var c=a.context.shape,u=c.businessObject;Rr(c)||(j(c,"bpmn:Participant")&&hr(c)&&o.ids.unclaim(u.processRef.id),s.unclaimId(u.id,u))}),this.preExecute("connection.delete",function(a){var u=a.context.connection.businessObject;s.unclaimId(u.id,u)}),this.preExecute("canvas.updateRoot",function(){var a=t.getRootElement(),l=a.businessObject;j(a,"bpmn:Collaboration")&&o.ids.unclaim(l.id)})}function q$(t,i){pt.call(this,t),this.preExecute("connection.delete",function(o){var a=o.context.connection,l=a.source;(function uGe(t,i){if(!j(t,"bpmn:SequenceFlow"))return!1;var o=le(i),s=le(t);return o.get("default")===s})(a,l)&&i.updateProperties(l,{default:null})})}function W$(t,i,o){var s;pt.call(this,t);var u=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(u,5e3,function(p){!function a(){(s=s||new fGe).enter()}()}),this.postExecuted(u,500,function(p){!function c(){if(!s)throw new Error(o("out of bounds release"));var p=s.leave();p&&(i.updateLaneRefs(s.flowNodes,s.lanes),s=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(p){var v=p.context.shape,y=function l(){if(!s)throw new Error(o("out of bounds release"));return s}();v.labelTarget||(j(v,"bpmn:Lane")&&y.addLane(v),j(v,"bpmn:FlowNode")&&y.addFlowNode(v))})}function fGe(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(t){this.lanes.push(t)},this.addFlowNode=function(t){this.flowNodes.push(t)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}jt(Zm,pt),Zm.prototype._moveChildrenToShape=function(t,i){var a,o=this._modeling,s=t.children;if(s){var l=(s=s.concat(s.reduce(function(h,v){return v.label&&v.label.parent!==t?h.concat(v.label):h},[]))).filter(function(h){return!h.hidden});if(!l.length)return void o.moveElements(s,{x:0,y:0},i,{autoResize:!1});var c=Ao(l);if(i.x){var u=wn(i),p=wn(c);a={x:u.x-p.x,y:u.y-p.y}}else a={x:180-c.x,y:160-c.y};o.moveElements(s,a,i,{autoResize:!1})}},Zm.prototype._showRecursively=function(t,i){var o=this,s=[];return t.forEach(function(a){a.hidden=!!i,s=s.concat(a),a.children&&(s=s.concat(o._showRecursively(a.children,a.collapsed||i)))}),s},Zm.prototype._addDiagram=function(t){var o=this._bpmnjs.getDefinitions().diagrams;return t.businessObject||(t=this._createNewDiagram(t)),o.push(t.di.$parent),t},Zm.prototype._createNewDiagram=function(t){var i=this._bpmnFactory,o=this._elementFactory,s=i.create("bpmndi:BPMNPlane",{bpmnElement:t}),a=i.create("bpmndi:BPMNDiagram",{plane:s});return s.$parent=a,o.createRoot({id:If(t),type:t.$type,di:s,businessObject:t,collapsed:!0})},Zm.prototype._removeDiagram=function(t){var o=this._bpmnjs.getDefinitions().diagrams,s=Kn(o,function(a){return a.plane.bpmnElement.id===t.id});return o.splice(o.indexOf(s),1),s},Zm.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],V$.$inject=["injector","modeling"],jt(V$,pt),jt(z$,pt),z$.$inject=["eventBus","modeling"],jt(U$,pt),U$.$inject=["eventBus","elementFactory","modeling"],jt(G$,pt),G$.$inject=["canvas","injector","moddle","modeling"],jt(q$,pt),q$.$inject=["eventBus","modeling"],W$.$inject=["eventBus","modeling","translate"],jt(W$,pt);const hGe={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",h$],appendBehavior:["type",m$],associationBehavior:["type",g$],attachEventBehavior:["type",HP],boundaryEventBehavior:["type",v$],createBehavior:["type",y$],createDataObjectBehavior:["type",b$],createParticipantBehavior:["type",x$],dataInputAssociationBehavior:["type",w$],dataStoreBehavior:["type",S$],deleteLaneBehavior:["type",C$],detachEventBehavior:["type",qP],dropOnFlowBehavior:["type",D$],eventBasedGatewayBehavior:["type",T$],fixHoverBehavior:["type",Hle],groupBehavior:["type",P$],importDockingFix:["type",Gle],isHorizontalFix:["type",k$],labelBehavior:["type",M$],layoutConnectionBehavior:["type",R$],messageFlowBehavior:["type",N$],removeElementBehavior:["type",F$],removeEmbeddedLabelBoundsBehavior:["type",L$],removeParticipantBehavior:["type",B$],replaceConnectionBehavior:["type",j$],replaceElementBehaviour:["type",ZP],resizeBehavior:["type",cce],resizeLaneBehavior:["type",pce],rootElementReferenceBehavior:["type",$$],spaceToolBehavior:["type",fce],subProcessPlaneBehavior:["type",Zm],subProcessStartEventBehavior:["type",V$],toggleCollapseConnectionBehaviour:["type",z$],toggleElementCollapseBehaviour:["type",U$],unclaimIdBehavior:["type",G$],unsetDefaultFlowBehavior:["type",q$],updateFlowNodeRefsBehavior:["type",W$]};function vce(t,i){var o=fa(t,i,-15);return"intersect"!==o?o:null}function ma(t){hu.call(this,t)}function X$(t){return!t||Rr(t)}function yce(t){do{if(j(t,"bpmn:Process"))return le(t);if(j(t,"bpmn:Participant"))return le(t).processRef||le(t)}while(t=t.parent)}function Y$(t){return j(t,"bpmn:TextAnnotation")}function K$(t){return j(t,"bpmn:Group")&&!t.labelTarget}function Q$(t){return j(t,"bpmn:BoundaryEvent")&&Zd(t,"bpmn:CompensateEventDefinition")}function V5(t){return le(t).isForCompensation}function bce(t){for(var i=t;i=i.parent;){if(j(i,"bpmn:FlowElementsContainer"))return le(i);if(j(i,"bpmn:Participant"))return le(i).processRef}return null}function Zd(t,i){return!!Kn(le(t).eventDefinitions||[],function(s){return j(s,i)})}function _ce(t,i){return(le(t).eventDefinitions||[]).every(function(s){return j(s,i)})}function Z$(t,i){var o=function SGe(t){for(var i=[];t;)(t=t.parent)&&i.push(t);return i}(i);return-1!==o.indexOf(t)}function nO(t,i,o){if(X$(t)||X$(i))return null;if(!j(o,"bpmn:DataAssociation")){if(Pce(t,i))return{type:"bpmn:MessageFlow"};if(Oce(t,i))return{type:"bpmn:SequenceFlow"}}return eV(t,i)||(Q$(t)&&V5(i)?{type:"bpmn:Association",associationDirection:"One"}:!!Tce(t,i)&&{type:"bpmn:Association"})}function z5(t,i){return!(!Rr(t)&&!K$(t))||!(j(i,"bpmn:Participant")&&!hr(i))&&(j(t,"bpmn:Participant")?j(i,"bpmn:Process")||j(i,"bpmn:Collaboration"):on(t,["bpmn:DataInput","bpmn:DataOutput"])&&t.parent?i===t.parent:j(t,"bpmn:Lane")?j(i,"bpmn:Participant")||j(i,"bpmn:Lane"):!(j(t,"bpmn:BoundaryEvent")&&!function CGe(t){return le(t).cancelActivity&&(Ece(t)||xce(t))}(t))&&(j(t,"bpmn:FlowElement")&&!j(t,"bpmn:DataStoreReference")?j(i,"bpmn:FlowElementsContainer")?hr(i):on(i,["bpmn:Participant","bpmn:Lane"]):j(t,"bpmn:DataStoreReference")&&j(i,"bpmn:Collaboration")?ff(le(i).get("participants"),function(o){return!!o.get("processRef")}):on(t,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?on(i,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!j(t,"bpmn:MessageFlow")&&(j(i,"bpmn:Collaboration")||t.source.parent==i||t.target.parent==i)))}function TGe(t){return j(t,"bpmn:Lane")}function Ece(t){var i=le(t);return i&&!(i.eventDefinitions&&i.eventDefinitions.length)}function xce(t){return wce(t,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function wce(t,i){return i.some(function(o){return Zd(t,o)})}function j6(t,i,o,s){if(Array.isArray(t)||(t=[t]),1!==t.length)return!1;var a=t[0];return!(Rr(a)||!function PGe(t){return!!(function DGe(t){return!Rr(t)&&j(t,"bpmn:BoundaryEvent")}(t)||j(t,"bpmn:IntermediateThrowEvent")&&Ece(t))||j(t,"bpmn:IntermediateCatchEvent")&&xce(t)}(a)||bl(i)||!j(i,"bpmn:Activity")||V5(i)||s&&!vce(s,i)||function OGe(t){return j(t,"bpmn:ReceiveTask")&&Kn(t.incoming,function(i){return j(i.source,"bpmn:EventBasedGateway")})}(i))&&"attach"}function Sce(t,i,o){if(!i)return!1;var s={replacements:[]};return _e(t,function(a){bl(i)||j(a,"bpmn:StartEvent")&&"label"!==a.type&&z5(a,i)&&(Vte(a)||s.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"}),(function wCe(t){return d9(t,"bpmn:ErrorEventDefinition")}(a)||function SCe(t){return d9(t,"bpmn:EscalationEventDefinition")}(a)||function CCe(t){return d9(t,"bpmn:CompensateEventDefinition")}(a))&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"}),wce(a,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&j(i,"bpmn:SubProcess")&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:StartEvent"})),j(i,"bpmn:Transaction")||Zd(a,"bpmn:CancelEventDefinition")&&"label"!==a.type&&(j(a,"bpmn:EndEvent")&&z5(a,i)&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:EndEvent"}),j(a,"bpmn:BoundaryEvent")&&j6(a,i,0,o)&&s.replacements.push({oldElementId:a.id,newElementType:"bpmn:BoundaryEvent"}))}),!!s.replacements.length&&s}function Cce(t,i){return!ff(t,TGe)&&(!i||t.every(function(o){return z5(o,i)}))}function J$(t,i,o,s){return!!i&&(!(!Rr(t)&&!K$(t))||!(function gGe(t,i){return t===i}(o,i)||o&&Z$(o,i))&&(z5(t,i)||rO(t,i)))}function Dce(t,i){return j(t,"bpmn:SubProcess")?hr(t)&&(!i||i.width>=100&&i.height>=80):j(t,"bpmn:Lane")?!i||i.width>=130&&i.height>=60:j(t,"bpmn:Participant")?!i||i.width>=250&&i.height>=50:!(!Y$(t)&&!K$(t))}function Tce(t,i){return!((!Q$(t)||!V5(i))&&(Z$(i,t)||Z$(t,i)||!function kGe(t,i){var o=Y$(t),s=Y$(i);return(o||s)&&o!==s}(t,i)&&!eV(t,i)))}function Pce(t,i){return!(Mce(t)&&!Mce(i))&&function yGe(t){return j(t,"bpmn:InteractionNode")&&!j(t,"bpmn:BoundaryEvent")&&(!j(t,"bpmn:Event")||j(t,"bpmn:ThrowEvent")&&_ce(t,"bpmn:MessageEventDefinition"))}(t)&&function bGe(t){return j(t,"bpmn:InteractionNode")&&!V5(t)&&(!j(t,"bpmn:Event")||j(t,"bpmn:CatchEvent")&&_ce(t,"bpmn:MessageEventDefinition"))&&!(j(t,"bpmn:BoundaryEvent")&&!Zd(t,"bpmn:MessageEventDefinition"))}(i)&&!function vGe(t,i){return yce(t)===yce(i)}(t,i)}function Oce(t,i){return function EGe(t){return j(t,"bpmn:FlowNode")&&!j(t,"bpmn:EndEvent")&&!bl(t)&&!(j(t,"bpmn:IntermediateThrowEvent")&&Zd(t,"bpmn:LinkEventDefinition"))&&!Q$(t)&&!V5(t)}(t)&&function xGe(t){return j(t,"bpmn:FlowNode")&&!j(t,"bpmn:StartEvent")&&!j(t,"bpmn:BoundaryEvent")&&!bl(t)&&!(j(t,"bpmn:IntermediateCatchEvent")&&Zd(t,"bpmn:LinkEventDefinition"))&&!V5(t)}(i)&&function _Ge(t,i){return bce(t)===bce(i)}(t,i)&&!(j(t,"bpmn:EventBasedGateway")&&!function wGe(t){return j(t,"bpmn:ReceiveTask")||j(t,"bpmn:IntermediateCatchEvent")&&(Zd(t,"bpmn:MessageEventDefinition")||Zd(t,"bpmn:TimerEventDefinition")||Zd(t,"bpmn:ConditionalEventDefinition")||Zd(t,"bpmn:SignalEventDefinition"))}(i))}function eV(t,i){return on(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&on(i,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!on(i,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!on(t,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function rO(t,i,o){if(!i)return!1;if(Array.isArray(t)){if(1!==t.length)return!1;t=t[0]}return i.source!==t&&i.target!==t&&on(i,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Rr(i)&&j(t,"bpmn:FlowNode")&&!j(t,"bpmn:BoundaryEvent")&&z5(t,i.parent)}function kce(t,i){return!!Rr(i)||!(j(i,"bpmn:Lane")&&!function MGe(t,i){return t&&i&&-1!==t.indexOf(i)}(t,i.parent))}function Mce(t){return TP(t,"bpmn:Process")||TP(t,"bpmn:Collaboration")}jt(ma,hu),ma.$inject=["eventBus"],ma.prototype.init=function(){this.addRule("connection.start",function(t){return function mGe(t){return X$(t)?null:on(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(t.source)}),this.addRule("connection.create",function(t){var i=t.source,o=t.target,s=t.hints||{},a=s.targetParent;if(s.targetAttach)return!1;a&&(o.parent=a);try{return nO(i,o)}finally{a&&(o.parent=null)}}),this.addRule("connection.reconnect",function(t){return nO(t.source,t.target,t.connection)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){return Dce(t.shape,t.newBounds)}),this.addRule("elements.create",function(t){var i=t.elements,o=t.position,s=t.target;return!(Di(s)&&!rO(i,s))&&k3(i,function(a){return Di(a)?nO(a.source,a.target,a):a.host?j6(a,a.host,0,o):J$(a,s,null)})}),this.addRule("elements.move",function(t){var i=t.target,o=t.shapes,s=t.position;return j6(o,i,0,s)||Sce(o,i,s)||Cce(o,i)||rO(o,i)}),this.addRule("shape.create",function(t){return J$(t.shape,t.target,t.source)}),this.addRule("shape.attach",function(t){return j6(t.shape,t.target,0,t.position)}),this.addRule("element.copy",function(t){return kce(t.elements,t.element)})},ma.prototype.canConnectMessageFlow=Pce,ma.prototype.canConnectSequenceFlow=Oce,ma.prototype.canConnectDataAssociation=eV,ma.prototype.canConnectAssociation=Tce,ma.prototype.canMove=Cce,ma.prototype.canAttach=j6,ma.prototype.canReplace=Sce,ma.prototype.canDrop=z5,ma.prototype.canInsert=rO,ma.prototype.canCreate=J$,ma.prototype.canConnect=nO,ma.prototype.canResize=Dce,ma.prototype.canCopy=kce;const RGe={__depends__:[Qd],__init__:["bpmnRules"],bpmnRules:["type",ma]};function Rce(t,i){t.on("saveXML.start",2e3,function o(){_e(i.getRootElements(),function(a){var u,l=Pr(a);u=ko(On(e6([a],!1),function(p){return p!==a&&!p.labelTarget}),Pr),l.set("planeElement",u)})})}Rce.$inject=["eventBus","canvas"];const IGe={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",Rce]};function iO(t){pt.call(this,t);var i=this;this.preExecute(["shape.create","connection.create"],function(o){var s=o.context,c=i.getOrdering(s.shape||s.connection,s.parent);c&&(void 0!==c.parent&&(s.parent=c.parent),s.parentIndex=c.index)}),this.preExecute(["shape.move","connection.move"],function(o){var s=o.context,a=s.shape||s.connection,c=i.getOrdering(a,s.newParent||a.parent);c&&(void 0!==c.parent&&(s.newParent=c.parent),s.newParentIndex=c.index)})}function tV(t,i,o){iO.call(this,t);var s=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function l(u){var p=u.order;if(p||(u.order=p=function a(u){if(u.labelTarget)return{level:10};var p=Kn(s,function(h){return on(u,[h.type])});return p&&p.order||{level:1}}(u)),!p)throw new Error("no order for <"+u.id+">");return p}this.getOrdering=function(u,p){if(u.labelTarget)return{parent:i.findRoot(p)||i.getRootElement(),index:-1};var h=l(u);h.containers&&(p=function c(u,p,h){for(var v=p;v&&!on(v,h);)v=v.parent;if(!v)throw new Error("no parent for <"+u.id+"> in <"+(p&&p.id)+">");return v}(u,p,h.containers));var v=p.children.indexOf(u),y=Lx(p.children,function(E){return!(!u.labelTarget&&E.labelTarget)&&h.level<l(E).level});return-1!==y&&-1!==v&&v<y&&(y-=1),{index:y,parent:p}}}iO.prototype.getOrdering=function(t,i){return null},jt(iO,pt),tV.$inject=["eventBus","canvas","translate"],jt(tV,iO);const NGe={__depends__:[X9],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",tV]};function wy(t,i){this._eventBus=t,this._dragging=i,this._tools=[],this._active=null}wy.$inject=["eventBus","dragging"],wy.prototype.registerTool=function(t,i){var o=this._tools;if(!i)throw new Error('A tool has to be registered with it\'s "events"');o.push(t),this.bindEvents(t,i)},wy.prototype.isActive=function(t){return t&&this._active===t},wy.prototype.length=function(t){return this._tools.length},wy.prototype.setActive=function(t){var i=this._eventBus;this._active!==t&&(this._active=t,i.fire("tool-manager.update",{tool:t}))},wy.prototype.bindEvents=function(t,i){var o=this._eventBus,s=this._dragging,a=[];o.on(i.tool+".init",function(l){if(!l.context.reactivate&&this.isActive(t))return this.setActive(null),void s.cancel();this.setActive(t)},this),_e(i,function(l){a.push(l+".ended"),a.push(l+".canceled")}),o.on(a,250,function(l){this._active&&(function FGe(t){var i=t.originalEvent&&t.originalEvent.target;return i&&mf(i,'.group[data-group="tools"]')}(l)||this.setActive(null))},this)};const oO={__depends__:[Bf],__init__:["toolManager"],toolManager:["type",wy]};function $6(t,i){return-1!==t.indexOf(i)}var nV=Math.abs,VGe=Math.round,Vf={x:"width",y:"height"},Jm={n:"top",w:"left",s:"bottom",e:"right"},zGe=1500,sO={n:"s",w:"e",s:"n",e:"w"};function _u(t,i,o,s,a,l,c){this._canvas=t,this._dragging=i,this._eventBus=o,this._modeling=s,this._rules=a,this._toolManager=l,this._mouse=c;var u=this;l.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),o.on("spaceTool.selection.end",function(p){o.once("spaceTool.selection.ended",function(){u.activateMakeSpace(p.originalEvent)})}),o.on("spaceTool.move",zGe,function(p){var h=p.context,v=h.initialized;v||(v=h.initialized=u.init(p,h)),v&&Nce(p)}),o.on("spaceTool.end",function(p){var h=p.context,v=h.axis,y=h.direction,E=h.movingShapes,S=h.resizingShapes,D=h.start;if(h.initialized){Nce(p);var k={x:0,y:0};k[v]=VGe(p["d"+v]),u.makeSpace(E,S,k,y,D),o.once("spaceTool.ended",function(R){u.activateSelection(R.originalEvent,!0,!0)})}})}function Ice(t){return{top:t.top-20,right:t.right+20,bottom:t.bottom+20,left:t.left-20}}function Nce(t){var s,a,o=t.context.spaceToolConstraints;o&&(mn(o.left)&&(s=Math.max(t.x,o.left),t.dx=t.dx+s-t.x,t.x=s),mn(o.right)&&(s=Math.min(t.x,o.right),t.dx=t.dx+s-t.x,t.x=s),mn(o.top)&&(a=Math.max(t.y,o.top),t.dy=t.dy+a-t.y,t.y=a),mn(o.bottom)&&(a=Math.min(t.y,o.bottom),t.dy=t.dy+a-t.y,t.y=a))}function Sy(t,i){return-1!==t.indexOf(i)}_u.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],_u.prototype.activateSelection=function(t,i,o){this._dragging.init(t,"spaceTool.selection",{autoActivate:i,cursor:"crosshair",data:{context:{reactivate:o}},trapClick:!1})},_u.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},_u.prototype.makeSpace=function(t,i,o,s,a){return this._modeling.createSpace(t,i,o,s,a)},_u.prototype.init=function(t,i){var o=nV(t.dx)>nV(t.dy)?"x":"y",s=t["d"+o],a=t[o]-s;if(nV(s)<5)return!1;s<0&&(s*=-1),P5(t)&&(s*=-1);var l=function BGe(t,i){if("x"===t){if(i>0)return"e";if(i<0)return"w"}if("y"===t){if(i>0)return"s";if(i<0)return"n"}return null}(o,s),c=this._canvas.getRootElement();!dj(t)&&t.hover&&(c=t.hover);var u=[...e6(c,!0),...c.attachers||[]],p=this.calculateAdjustments(u,o,s,a),v=function HGe(t,i,o,s,a){var l=t.movingShapes,c=t.resizingShapes;if(c.length){var p,h,u={};return _e(c,function(v){var R,L,N,q,ee,te,y=v.attachers,E=v.children,S=an(v),D=On(E,function(he){return!(Di(he)||Rr(he)||Sy(l,he)||Sy(c,he))}),k=On(E,function(he){return!Di(he)&&!Rr(he)&&Sy(l,he)}),B=[],$=[];D.length&&(L=Ice(an(Ao(D))),R=s-S[Jm[o]]+L[Jm[o]],"n"===o?u.bottom=h=mn(h)?Math.min(h,R):R:"w"===o?u.right=h=mn(h)?Math.min(h,R):R:"s"===o?u.top=p=mn(p)?Math.max(p,R):R:"e"===o&&(u.left=p=mn(p)?Math.max(p,R):R)),k.length&&(N=Ice(an(Ao(k))),R=s-N[Jm[sO[o]]]+S[Jm[sO[o]]],"n"===o?u.bottom=h=mn(h)?Math.min(h,R):R:"w"===o?u.right=h=mn(h)?Math.min(h,R):R:"s"===o?u.top=p=mn(p)?Math.max(p,R):R:"e"===o&&(u.left=p=mn(p)?Math.max(p,R):R)),y&&y.length&&(y.forEach(function(he){Sy(l,he)?B.push(he):$.push(he)}),B.length&&(q=an(Ao(B.map(wn))),ee=S[Jm[sO[o]]]-(q[Jm[sO[o]]]-s)),$.length&&(te=an(Ao($.map(wn)))[Jm[o]]-(S[Jm[o]]-s)),"n"===o?(R=Math.min(ee||1/0,te||1/0),u.bottom=h=mn(h)?Math.min(h,R):R):"w"===o?(R=Math.min(ee||1/0,te||1/0),u.right=h=mn(h)?Math.min(h,R):R):"s"===o?(R=Math.max(ee||-1/0,te||-1/0),u.top=p=mn(p)?Math.max(p,R):R):"e"===o&&(R=Math.max(ee||-1/0,te||-1/0),u.left=p=mn(p)?Math.max(p,R):R));var ne=a&&a[v.id];ne&&("n"===o?(R=s+v[Vf[i]]-ne[Vf[i]],u.bottom=h=mn(h)?Math.min(h,R):R):"w"===o?(R=s+v[Vf[i]]-ne[Vf[i]],u.right=h=mn(h)?Math.min(h,R):R):"s"===o?(R=s-v[Vf[i]]+ne[Vf[i]],u.top=p=mn(p)?Math.max(p,R):R):"e"===o&&(R=s-v[Vf[i]]+ne[Vf[i]],u.left=p=mn(p)?Math.max(p,R):R))}),u}}(p,o,l,a,this._eventBus.fire("spaceTool.getMinDimensions",{axis:o,direction:l,shapes:p.resizingShapes,start:a}));return Ae(i,p,{axis:o,direction:l,spaceToolConstraints:v,start:a}),rP("resize-"+("x"===o?"ew":"ns")),!0},_u.prototype.calculateAdjustments=function(t,i,o,s){var a=this._rules,l=[],c=[],u=[],p=[];function h(E){l.includes(E)||l.push(E);var S=E.label;S&&!l.includes(S)&&l.push(S)}_e(t,function(E){if(E.parent&&!Rr(E)){if(Di(E))return void p.push(E);var S=E[i],D=S+E[Vf[i]];if(function UGe(t){return!!t.host}(E)&&(o>0&&wn(E)[i]>s||o<0&&wn(E)[i]<s))return void u.push(E);if(o>0&&S>s||o<0&&D<s)return void h(E);if(S<s&&D>s&&a.allowed("shape.resize",{shape:E}))return void function v(E){c.includes(E)||c.push(E)}(E)}}),_e(l,function(E){var S=E.attachers;S&&_e(S,function(D){h(D)})});var y=l.concat(c);return _e(u,function(E){Sy(y,E.host)&&h(E)}),y=l.concat(c),_e(p,function(E){var D=E.target,k=E.label;Sy(y,E.source)&&Sy(y,D)&&k&&h(k)}),{movingShapes:l,resizingShapes:c}},_u.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)},_u.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^spaceTool/.test(t.prefix)};var rV="djs-dragging",Lce="djs-resizing",lO=Math.max;function Fce(t,i,o,s,a){function l(c,u){_e(c,function(p){a.addDragger(p,u),o.addMarker(p,rV)})}t.on("spaceTool.selection.start",function(c){var u=o.getLayer("space"),p=c.context,v=sn("g");Dt(v,s.cls("djs-crosshair-group",["no-events"])),yn(u,v);var y=sn("path");Dt(y,"d","M 0,-10000 L 0,10000"),cr(y).add("djs-crosshair"),yn(v,y);var E=sn("path");Dt(E,"d","M -10000,0 L 10000,0"),cr(E).add("djs-crosshair"),yn(v,E),p.crosshairGroup=v}),t.on("spaceTool.selection.move",function(c){Xl(c.context.crosshairGroup,c.x,c.y)}),t.on("spaceTool.selection.cleanup",function(c){var p=c.context.crosshairGroup;p&&mo(p)}),t.on("spaceTool.move",250,function(c){var u=c.context,p=u.line,h=u.axis,v=u.movingShapes,y=u.resizingShapes;if(u.initialized){if(!u.dragGroup){var E=o.getLayer("space");Dt(p=sn("path"),"d","M0,0 L0,0"),cr(p).add("djs-crosshair"),yn(E,p),u.line=p;var S=sn("g");Dt(S,s.cls("djs-drag-group",["no-events"])),yn(o.getActiveLayer(),S),l(v,S),l(u.movingConnections=i.filter(function($){var q=!1;_e(v,function(ne){_e(ne.outgoing,function(he){$===he&&(q=!0)})});var ee=!1;_e(v,function(ne){_e(ne.incoming,function(he){$===he&&(ee=!0)})});var ae=!1;_e(y,function(ne){_e(ne.outgoing,function(he){$===he&&(ae=!0)})});var te=!1;return _e(y,function(ne){_e(ne.incoming,function(he){$===he&&(te=!0)})}),Di($)&&(q||ae)&&(ee||te)}),S),u.dragGroup=S}if(!u.frameGroup){var k=sn("g");Dt(k,s.cls("djs-frame-group",["no-events"])),yn(o.getActiveLayer(),k);var R=[];_e(y,function($){var q=a.addFrame($,k),ee=q.getBBox();R.push({element:q,initialBounds:ee}),o.addMarker($,Lce)}),u.frameGroup=k,u.frames=R}Dt(p,{d:{x:"M"+c.x+", -10000 L"+c.x+", 10000",y:"M -10000, "+c.y+" L 10000, "+c.y}[h]});var B={x:c.dx,y:c.dy};B[{x:"y",y:"x"}[u.axis]]=0,Xl(u.dragGroup,B.x,B.y),_e(u.frames,function($){var ae,te,q=$.element,ee=$.initialBounds;Dt(q,"e"===u.direction?{width:lO(ee.width+B.x,5)}:{width:ae=lO(ee.width-B.x,5),x:ee.x+ee.width-ae}),Dt(q,"s"===u.direction?{height:lO(ee.height+B.y,5)}:{height:te=lO(ee.height-B.y,5),y:ee.y+ee.height-te})})}}),t.on("spaceTool.cleanup",function(c){var u=c.context,h=u.movingConnections,v=u.resizingShapes,y=u.line,E=u.dragGroup,S=u.frameGroup;_e(u.movingShapes,function(D){o.removeMarker(D,rV)}),_e(h,function(D){o.removeMarker(D,rV)}),E&&(mo(y),mo(E)),_e(v,function(D){o.removeMarker(D,Lce)}),S&&mo(S)})}Fce.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const qGe={__init__:["spaceToolPreview"],__depends__:[Bf,Qd,oO,C6,T6],spaceTool:["type",_u],spaceToolPreview:["type",Fce]};function cO(t){t.invoke(_u,this)}cO.$inject=["injector"],jt(cO,_u),cO.prototype.calculateAdjustments=function(t,i,o,s){var a=_u.prototype.calculateAdjustments.call(this,t,i,o,s);return a.resizingShapes=a.resizingShapes.filter(function(l){return!(j(l,"bpmn:TextAnnotation")||"y"===i&&function WGe(t){return j(t,"bpmn:Participant")&&!le(t).processRef}(l))}),a};const Bce={__depends__:[qGe],spaceTool:["type",cO]};function io(t,i){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=i,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}io.$inject=["eventBus","injector"],io.prototype.execute=function(t,i){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const o={command:t,context:i};this._pushAction(o),this._internalExecute(o),this._popAction()},io.prototype.canExecute=function(t,i){const o={command:t,context:i},s=this._getHandler(t);let a=this._fire(t,"canExecute",o);if(void 0===a){if(!s)return!1;s.canExecute&&(a=s.canExecute(i))}return a},io.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,!1!==t&&this._fire("changed",{trigger:"clear"})},io.prototype.undo=function(){let i,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),i=this._getUndoAction(),i&&i.id===t.id);)t=i;this._popAction()}},io.prototype.redo=function(){let i,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),i=this._getRedoAction(),i&&i.id===t.id);)t=i;this._popAction()}},io.prototype.register=function(t,i){this._setHandler(t,i)},io.prototype.registerHandler=function(t,i){if(!t||!i)throw new Error("command and handlerCls must be defined");const o=this._injector.instantiate(i);this.register(t,o)},io.prototype.canUndo=function(){return!!this._getUndoAction()},io.prototype.canRedo=function(){return!!this._getRedoAction()},io.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},io.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},io.prototype._internalUndo=function(t){const i=t.command,o=t.context,s=this._getHandler(i);this._atomicDo(()=>{this._fire(i,"revert",t),s.revert&&this._markDirty(s.revert(o)),this._revertedAction(t),this._fire(i,"reverted",t)})},io.prototype._fire=function(t,i,o){arguments.length<3&&(o=i,i=null);const s=i?[t+"."+i,i]:[t];let a;o=this._eventBus.createEvent(o);for(const l of s)if(a=this._eventBus.fire("commandStack."+l,o),o.cancelBubble)break;return a},io.prototype._createId=function(){return this._uid++},io.prototype._atomicDo=function(t){const i=this._currentExecution;i.atomic=!0;try{t()}finally{i.atomic=!1}},io.prototype._internalExecute=function(t,i){const o=t.command,s=t.context,a=this._getHandler(o);if(!a)throw new Error("no command handler registered for <"+o+">");this._pushAction(t),i||(this._fire(o,"preExecute",t),a.preExecute&&a.preExecute(s),this._fire(o,"preExecuted",t)),this._atomicDo(()=>{this._fire(o,"execute",t),a.execute&&this._markDirty(a.execute(s)),this._executedAction(t,i),this._fire(o,"executed",t)}),i||(this._fire(o,"postExecute",t),a.postExecute&&a.postExecute(s),this._fire(o,"postExecuted",t)),this._popAction()},io.prototype._pushAction=function(t){const i=this._currentExecution,o=i.actions,s=o[0];if(i.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=s&&s.id||this._createId()),o.push(t)},io.prototype._popAction=function(){const t=this._currentExecution,i=t.trigger,o=t.actions,s=t.dirty;o.pop(),o.length||(this._eventBus.fire("elements.changed",{elements:eX("id",s.reverse())}),s.length=0,this._fire("changed",{trigger:i}),t.trigger=null)},io.prototype._markDirty=function(t){const i=this._currentExecution;t&&(t=Rn(t)?t:[t],i.dirty=i.dirty.concat(t))},io.prototype._executedAction=function(t,i){const o=++this._stackIdx;i||this._stack.splice(o,this._stack.length,t)},io.prototype._revertedAction=function(t){this._stackIdx--},io.prototype._getHandler=function(t){return this._handlerMap[t]},io.prototype._setHandler=function(t,i){if(!t||!i)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=i};const XGe={commandStack:["type",io]};function e1(t,i){if("function"!=typeof i)throw new Error("removeFn iterator must be a function");if(t){for(var o;o=t[0];)i(o);return t}}function iV(t,i,o){pt.call(this,i);var s=t.get("movePreview",!1);i.on("shape.move.start",1400,function(a){var l=a.context,u=l.validatedShapes;l.shapes=$ce(l.shapes),l.validatedShapes=$ce(u)}),s&&i.on("shape.move.start",250,function(a){var l=a.context,u=[];_e(l.shapes,function(p){_e(p.labels,function(h){!h.hidden&&-1===l.shapes.indexOf(h)&&u.push(h),p.labelTarget&&u.push(p)})}),_e(u,function(p){s.makeDraggable(l,p,!0)})}),this.preExecuted("elements.move",1400,function(a){var c=a.context.closure,u=c.enclosedElements,p=[];_e(u,function(h){_e(h.labels,function(v){u[v.id]||p.push(v)})}),c.addAll(p)}),this.preExecute(["connection.delete","shape.delete"],function(a){var l=a.context;e1((l.connection||l.shape).labels,function(u){o.removeShape(u,{nested:!0})})}),this.execute("shape.delete",function(a){var l=a.context,c=l.shape,u=c.labelTarget;u&&(l.labelTargetIndex=GB(u.labels,c),l.labelTarget=u,c.labelTarget=null)}),this.revert("shape.delete",function(a){var l=a.context,c=l.shape,u=l.labelTarget;u&&(Yo(u.labels,c,l.labelTargetIndex),c.labelTarget=u)})}function $ce(t){return On(t,function(i){return-1===t.indexOf(i.labelTarget)})}jt(iV,pt),iV.$inject=["injector","eventBus","modeling"];const KGe={__init__:["labelSupport"],labelSupport:["type",iV]};function oV(t,i,o,s,a){pt.call(this,i);var l=t.get("movePreview",!1);i.on("shape.move.start",1401,function(c){var u=c.context,h=u.validatedShapes;u.shapes=function ZGe(t){var i=sV(t);return $be("id",t,i)}(u.shapes),u.validatedShapes=function JGe(t){var i=Tv(t,"id");return On(t,function(o){for(;o;){if(o.host&&i[o.host.id])return!1;o=o.parent}return!0})}(h)}),l&&i.on("shape.move.start",251,function(c){var u=c.context;_e(sV(u.shapes),function(v){l.makeDraggable(u,v,!0),_e(v.labels,function(y){l.makeDraggable(u,y,!0)})})}),l&&i.on("shape.move.start",function(c){var p=c.context.shapes;if(1===p.length){var v=p[0].host;v&&(o.addMarker(v,"attach-ok"),i.once(["shape.move.out","shape.move.cleanup"],function(){o.removeMarker(v,"attach-ok")}))}}),this.preExecuted("elements.move",1401,function(c){var u=c.context,p=u.closure;_e(sV(u.shapes),function(y){p.add(y,p.topLevel[y.host.id])})}),this.postExecuted("elements.move",function(c){var v,u=c.context,p=u.shapes,h=u.newHost;h&&1!==p.length||(v=h?p:On(p,function(y){var E=y.host;return function eqe(t){return!!t.host}(y)&&!function tqe(t,i){return-1!==t.indexOf(i)}(p,E)}),_e(v,function(y){a.updateAttachment(y,h)}))}),this.postExecuted("elements.move",function(c){_e(c.context.shapes,function(p){_e(p.attachers,function(h){_e(h.outgoing.slice(),function(v){s.allowed("connection.reconnect",{connection:v,source:v.source,target:v.target})||a.removeConnection(v)}),_e(h.incoming.slice(),function(v){s.allowed("connection.reconnect",{connection:v,source:v.source,target:v.target})||a.removeConnection(v)})})})}),this.postExecute("shape.create",function(c){var u=c.context,h=u.host;h&&a.updateAttachment(u.shape,h)}),this.postExecute("shape.replace",function(c){var u=c.context,p=u.oldShape,h=u.newShape;e1(p.attachers,function(v){"attach"===s.allowed("elements.move",{target:h,shapes:[v]})?a.updateAttachment(v,h):a.removeShape(v)}),h.attachers.length&&_e(h.attachers,function(v){var y=nce(v,p,h);a.moveShape(v,y,v.parent)})}),this.postExecute("shape.resize",function(c){var u=c.context,h=u.oldBounds,v=u.newBounds;!1!==(u.hints||{}).attachSupport&&_e(u.shape.attachers,function(S){var D=nce(S,h,v);a.moveShape(S,D,S.parent),_e(S.labels,function(k){a.moveShape(k,D,k.parent)})})}),this.preExecute("shape.delete",function(c){var u=c.context.shape;e1(u.attachers,function(p){a.removeShape(p)}),u.host&&a.updateAttachment(u,null)})}function sV(t){return Ix(ko(t,function(i){return i.attachers||[]}))}jt(oV,pt),oV.$inject=["injector","eventBus","canvas","rules","modeling"];const nqe={__depends__:[Qd],__init__:["attachSupport"],attachSupport:["type",oV]};function Eu(t){this._model=t}function Yl(t,i,o,s){pt.call(this,t),this._bpmnFactory=i,this._translate=s;var a=this;function p(D){_e(D.context.oldRoot.children,function(N){j(N,"bpmn:BaseElement")&&a.updateParent(N)})}function h(D){var k=D.context.shape;j(k,"bpmn:BaseElement")&&a.updateBounds(k)}function v(D){a.updateConnection(D.context)}function y(D){a.updateConnectionWaypoints(D.context.connection)}function E(D){a.updateAttachment(D.context)}function S(D){const{element:k}=D.context,R=Tc(k),L=Pr(k),N=L&&L.get("label");Zv(k)||(R&&!N?L.set("label",i.create("bpmndi:BPMNLabel")):!R&&N&&L.set("label",void 0))}this.executed(["connection.layout","connection.create"],function l(D){var L,k=D.context;!k.cropped&&!1!==(k.hints||{}).createElementsBehavior&&((L=k.connection).waypoints=o.getCroppedWaypoints(L),k.cropped=!0)}),this.reverted(["connection.layout"],function(D){delete D.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Kl(function c(D){var k=D.context;a.updateParent(k.shape||k.connection,k.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Kl(function u(D){var k=D.context;a.updateParent(k.shape||k.connection,k.parent||k.newParent)})),this.executed(["canvas.updateRoot"],p),this.reverted(["canvas.updateRoot"],p),this.executed(["shape.move","shape.create","shape.resize"],Kl(function(D){"label"!==D.context.shape.type&&h(D)})),this.reverted(["shape.move","shape.create","shape.resize"],Kl(function(D){"label"!==D.context.shape.type&&h(D)})),t.on("shape.changed",function(D){"label"===D.element.type&&h({context:{shape:D.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Kl(v)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Kl(v)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Kl(y)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Kl(y)),this.executed("connection.reconnect",Kl(function(D){var k=D.context,L=k.oldSource,N=k.newSource,B=le(k.connection),$=le(L),q=le(N);B.conditionExpression&&!on(q,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(k.oldConditionExpression=B.conditionExpression,delete B.conditionExpression),L!==N&&$.default===B&&(k.oldDefault=$.default,delete $.default)})),this.reverted("connection.reconnect",Kl(function(D){var k=D.context,L=k.oldSource,N=k.newSource,B=le(k.connection),$=le(L),q=le(N);k.oldConditionExpression&&(B.conditionExpression=k.oldConditionExpression),k.oldDefault&&($.default=k.oldDefault,delete q.default)})),this.executed(["element.updateAttachment"],Kl(E)),this.reverted(["element.updateAttachment"],Kl(E)),this.executed("element.updateLabel",Kl(S)),this.reverted("element.updateLabel",Kl(S))}function Kl(t){return function(i){var o=i.context;j(o.shape||o.connection||o.element,"bpmn:BaseElement")&&t(i)}}function t1(t,i,o){kf.call(this),this._bpmnFactory=t,this._moddle=i,this._translate=o}function Hce(t,i,o){return void 0===i[o]?i:(t[o]=i[o],Od(i,[o]))}function uO(t,i){this._modeling=t,this._canvas=i}function dO(t){this._modeling=t}function pO(t,i){this._canvas=t,this._layouter=i}Eu.$inject=["moddle"],Eu.prototype._needsId=function(t){return on(t,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Eu.prototype._ensureId=function(t){var i;t.id?this._model.ids.claim(t.id,t):(i=j(t,"bpmn:Activity")?"Activity":j(t,"bpmn:Event")?"Event":j(t,"bpmn:Gateway")?"Gateway":on(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(t.$type||"").replace(/^[^:]*:/g,""),i+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(i,t)))},Eu.prototype.create=function(t,i){var o=this._model.create(t,i||{});return this._ensureId(o),o},Eu.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Eu.prototype.createDiShape=function(t,i){return this.create("bpmndi:BPMNShape",Ae({bpmnElement:t,bounds:this.createDiBounds()},i))},Eu.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)},Eu.prototype.createDiWaypoints=function(t){var i=this;return ko(t,function(o){return i.createDiWaypoint(o)})},Eu.prototype.createDiWaypoint=function(t){return this.create("dc:Point",p0(t,["x","y"]))},Eu.prototype.createDiEdge=function(t,i){return this.create("bpmndi:BPMNEdge",Ae({bpmnElement:t,waypoint:this.createDiWaypoints([])},i))},Eu.prototype.createDiPlane=function(t,i){return this.create("bpmndi:BPMNPlane",Ae({bpmnElement:t},i))},jt(Yl,pt),Yl.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],Yl.prototype.updateAttachment=function(t){var i=t.shape,s=i.host;i.businessObject.attachedToRef=s&&s.businessObject},Yl.prototype.updateParent=function(t,i){if(!(Rr(t)||j(t,"bpmn:DataStoreReference")&&t.parent&&j(t.parent,"bpmn:Collaboration"))){var o=t.parent,s=t.businessObject,a=Pr(t),l=o&&o.businessObject,c=Pr(o);j(t,"bpmn:FlowNode")&&this.updateFlowNodeRefs(s,l,i&&i.businessObject),j(t,"bpmn:DataOutputAssociation")&&(l=t.source?t.source.businessObject:null),j(t,"bpmn:DataInputAssociation")&&(l=t.target?t.target.businessObject:null),this.updateSemanticParent(s,l),j(t,"bpmn:DataObjectReference")&&s.dataObjectRef&&this.updateSemanticParent(s.dataObjectRef,l),this.updateDiParent(a,c)}},Yl.prototype.updateBounds=function(t){var i=Pr(t),o=function iqe(t){if(j(t,"bpmn:Activity")){var i=Pr(t);if(i){var o=i.get("label");if(o)return o.get("bounds")}}}(t);if(o){var s=E0(o,i.get("bounds"));Ae(o,{x:t.x+s.x,y:t.y+s.y})}var a=Rr(t)?this._getLabel(i):i,l=a.bounds;l||(l=this._bpmnFactory.createDiBounds(),a.set("bounds",l)),Ae(l,{x:t.x,y:t.y,width:t.width,height:t.height})},Yl.prototype.updateFlowNodeRefs=function(t,i,o){o!==i&&(j(o,"bpmn:Lane")&&Io(o.get("flowNodeRef"),t),j(i,"bpmn:Lane")&&Yo(i.get("flowNodeRef"),t))},Yl.prototype.updateDiConnection=function(t,i,o){var s=Pr(t),a=Pr(i),l=Pr(o);s.sourceElement&&s.sourceElement.bpmnElement!==le(i)&&(s.sourceElement=i&&a),s.targetElement&&s.targetElement.bpmnElement!==le(o)&&(s.targetElement=o&&l)},Yl.prototype.updateDiParent=function(t,i){if(i&&!j(i,"bpmndi:BPMNPlane")&&(i=i.$parent),t.$parent!==i){var o=(i||t.$parent).get("planeElement");i?(o.push(t),t.$parent=i):(Io(o,t),t.$parent=null)}},Yl.prototype.getLaneSet=function(t){var i,o;return j(t,"bpmn:Lane")?((i=t.childLaneSet)||(i=this._bpmnFactory.create("bpmn:LaneSet"),t.childLaneSet=i,i.$parent=t),i):(j(t,"bpmn:Participant")&&(t=t.processRef),(i=(o=t.get("laneSets"))[0])||((i=this._bpmnFactory.create("bpmn:LaneSet")).$parent=t,o.push(i)),i)},Yl.prototype.updateSemanticParent=function(t,i,o){var s,a=this._translate;if(t.$parent!==i&&(!j(t,"bpmn:DataInput")&&!j(t,"bpmn:DataOutput")||(j(i,"bpmn:Participant")&&"processRef"in i&&(i=i.processRef),!("ioSpecification"in i)||i.ioSpecification!==t.$parent))){if(j(t,"bpmn:Lane"))i&&(i=this.getLaneSet(i)),s="lanes";else if(j(t,"bpmn:FlowElement")){if(i)if(j(i,"bpmn:Participant"))i=i.processRef;else if(j(i,"bpmn:Lane"))do{i=i.$parent.$parent}while(j(i,"bpmn:Lane"));s="flowElements"}else if(j(t,"bpmn:Artifact")){for(;i&&!j(i,"bpmn:Process")&&!j(i,"bpmn:SubProcess")&&!j(i,"bpmn:Collaboration");){if(j(i,"bpmn:Participant")){i=i.processRef;break}i=i.$parent}s="artifacts"}else if(j(t,"bpmn:MessageFlow"))s="messageFlows";else if(j(t,"bpmn:Participant")){s="participants";var c,l=t.processRef;l&&(c=function rqe(t){for(;t&&!j(t,"bpmn:Definitions");)t=t.$parent;return t}(t.$parent||i),t.$parent&&(Io(c.get("rootElements"),l),l.$parent=null),i&&(Yo(c.get("rootElements"),l),l.$parent=c))}else j(t,"bpmn:DataOutputAssociation")?s="dataOutputAssociations":j(t,"bpmn:DataInputAssociation")&&(s="dataInputAssociations");if(!s)throw new Error(a("no parent for {element} in {parent}",{element:t.id,parent:i.id}));var u;if(t.$parent&&Io(u=t.$parent.get(s),t),i?((u=i.get(s)).push(t),t.$parent=i):t.$parent=null,o){var p=o.get(s);Io(u,t),i&&(p||i.set(s,p=[]),p.push(t))}}},Yl.prototype.updateConnectionWaypoints=function(t){Pr(t).set("waypoint",this._bpmnFactory.createDiWaypoints(t.waypoints))},Yl.prototype.updateConnection=function(t){var i=t.connection,o=le(i),s=i.source,a=le(s),l=i.target,c=le(i.target);if(j(o,"bpmn:DataAssociation"))j(o,"bpmn:DataInputAssociation")?(o.get("sourceRef")[0]=a,this.updateSemanticParent(o,c,t.parent||t.newParent||c)):j(o,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(o,a,t.parent||t.newParent||a),o.targetRef=c);else{var p=j(o,"bpmn:SequenceFlow");o.sourceRef!==a&&(p&&(Io(o.sourceRef&&o.sourceRef.get("outgoing"),o),a&&a.get("outgoing")&&a.get("outgoing").push(o)),o.sourceRef=a),o.targetRef!==c&&(p&&(Io(o.targetRef&&o.targetRef.get("incoming"),o),c&&c.get("incoming")&&c.get("incoming").push(o)),o.targetRef=c)}this.updateConnectionWaypoints(i),this.updateDiConnection(i,s,l)},Yl.prototype._getLabel=function(t){return t.label||(t.label=this._bpmnFactory.createDiLabel()),t.label},jt(t1,kf),t1.$inject=["bpmnFactory","moddle","translate"],t1.prototype._baseCreate=kf.prototype.create,t1.prototype.create=function(t,i){if("label"===t){var o=i.di||this._bpmnFactory.createDiLabel();return this._baseCreate(t,Ae({type:"label",di:o},Vw,i))}return this.createElement(t,i)},t1.prototype.createElement=function(t,i){var o,u,p,s=this._translate,a=(i=Ae({},i||{})).businessObject,l=i.di;if(!a){if(!i.type)throw new Error(s("no shape type specified"));Doe(a=this._bpmnFactory.create(i.type))}if(!function sqe(t){return on(t,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}(l)){var c=Ae({},l||{},{id:a.id+"_di"});l="root"===t?this._bpmnFactory.createDiPlane(a,c):"connection"===t?this._bpmnFactory.createDiEdge(a,c):this._bpmnFactory.createDiShape(a,c)}return j(a,"bpmn:Group")&&(i=Ae({isFrame:!0},i)),i=function oqe(t,i,o){return _e(o,function(s){i=Hce(t,i,s)}),i}(a,i,["processRef","isInterrupting","associationDirection","isForCompensation"]),i.isExpanded&&(i=Hce(l,i,"isExpanded")),j(a,"bpmn:SubProcess")&&(i.collapsed=!hr(a,l)),j(a,"bpmn:ExclusiveGateway")&&(l.isMarkerVisible=!0),Ii(i.triggeredByEvent)&&(a.triggeredByEvent=i.triggeredByEvent,delete i.triggeredByEvent),Ii(i.cancelActivity)&&(a.cancelActivity=i.cancelActivity,delete i.cancelActivity),i.eventDefinitionType&&(u=a.get("eventDefinitions")||[],p=this._bpmnFactory.create(i.eventDefinitionType,i.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===i.eventDefinitionType&&(p.condition=this._bpmnFactory.create("bpmn:FormalExpression")),u.push(p),p.$parent=a,a.eventDefinitions=u,delete i.eventDefinitionType),o=this.getDefaultSize(a,l),i=Ae({id:a.id},o,i,{businessObject:a,di:l}),this._baseCreate(t,i)},t1.prototype.getDefaultSize=function(t,i){var o=le(t);return i=i||Pr(t),j(o,"bpmn:SubProcess")?hr(o,i)?{width:350,height:200}:{width:100,height:80}:j(o,"bpmn:Task")?{width:100,height:80}:j(o,"bpmn:Gateway")?{width:50,height:50}:j(o,"bpmn:Event")?{width:36,height:36}:j(o,"bpmn:Participant")?hr(o,i)?{width:600,height:250}:{width:400,height:60}:j(o,"bpmn:Lane")?{width:400,height:100}:j(o,"bpmn:DataObjectReference")?{width:36,height:50}:j(o,"bpmn:DataStoreReference")?{width:50,height:50}:j(o,"bpmn:TextAnnotation")?{width:100,height:30}:j(o,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},t1.prototype.createParticipantShape=function(t){return Oo(t)||(t={isExpanded:t}),!1!==(t=Ae({type:"bpmn:Participant"},t||{})).isExpanded&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)},uO.$inject=["modeling","canvas"],uO.prototype.preExecute=function(t){var i=this._modeling,s=t.alignment;_e(t.elements,function(a){var l={x:0,y:0};Ii(s.left)?l.x=s.left-a.x:Ii(s.right)?l.x=s.right-a.width-a.x:Ii(s.center)?l.x=s.center-Math.round(a.width/2)-a.x:Ii(s.top)?l.y=s.top-a.y:Ii(s.bottom)?l.y=s.bottom-a.height-a.y:Ii(s.middle)&&(l.y=s.middle-Math.round(a.height/2)-a.y),i.moveElements([a],l,a.parent)})},uO.prototype.postExecute=function(t){},dO.$inject=["modeling"],dO.prototype.preExecute=function(t){var i=t.source;if(!i)throw new Error("source required");var s=t.shape;s=t.shape=this._modeling.createShape(s,t.position,t.target||i.parent,{attach:(t.hints||{}).attach}),t.shape=s},dO.prototype.postExecute=function(t){var i=t.hints||{};(function aqe(t,i){return ff(t.outgoing,function(o){return o.target===i})})(t.source,t.shape)||(i.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))},pO.$inject=["canvas","layouter"],pO.prototype.execute=function(t){var i=t.connection,o=t.source,s=t.target,a=t.parent,l=t.parentIndex,c=t.hints;if(!o||!s)throw new Error("source and target required");if(!a)throw new Error("parent required");return i.source=o,i.target=s,i.waypoints||(i.waypoints=this._layouter.layoutConnection(i,c)),this._canvas.addConnection(i,a,l),i},pO.prototype.revert=function(t){var i=t.connection;return this._canvas.removeConnection(i),i.source=null,i.target=null,i};var fO=Math.round;function aV(t){this._modeling=t}aV.$inject=["modeling"],aV.prototype.preExecute=function(t){var i=t.elements,o=t.parent,s=t.parentIndex,a=t.position,l=t.hints,c=this._modeling;_e(i,function(y){mn(y.x)||(y.x=0),mn(y.y)||(y.y=0)});var p=Ao(On(i,function(y){return!y.hidden}));_e(i,function(y){Di(y)&&(y.waypoints=ko(y.waypoints,function(E){return{x:fO(E.x-p.x-p.width/2+a.x),y:fO(E.y-p.y-p.height/2+a.y)}})),Ae(y,{x:fO(y.x-p.x-p.width/2+a.x),y:fO(y.y-p.y-p.height/2+a.y)})});var h=N9(i),v={};_e(i,function(y){if(Di(y))v[y.id]=mn(s)?c.createConnection(v[y.source.id],v[y.target.id],s,y,y.parent||o,l):c.createConnection(v[y.source.id],v[y.target.id],y,y.parent||o,l);else{var E=Ae({},l);-1===h.indexOf(y)&&(E.autoResize=!1),Rr(y)&&(E=Od(E,["attach"])),v[y.id]=mn(s)?c.createShape(y,p0(y,["x","y","width","height"]),y.parent||o,s,E):c.createShape(y,p0(y,["x","y","width","height"]),y.parent||o,E)}}),t.elements=VA(v)};var Uce=Math.round;function n1(t){this._canvas=t}function V6(t){n1.call(this,t)}n1.$inject=["canvas"],n1.prototype.execute=function(t){var i=t.shape,o=t.position,s=t.parent,a=t.parentIndex;if(!s)throw new Error("parent required");if(!o)throw new Error("position required");return Ae(i,void 0!==o.width?o:{x:o.x-Uce(i.width/2),y:o.y-Uce(i.height/2)}),this._canvas.addShape(i,s,a),i},n1.prototype.revert=function(t){var i=t.shape;return this._canvas.removeShape(i),i},jt(V6,n1),V6.$inject=["canvas"];var lqe=n1.prototype.execute;V6.prototype.execute=function(t){var i=t.shape;return function uqe(t){["width","height"].forEach(function(i){typeof t[i]>"u"&&(t[i]=0)})}(i),i.labelTarget=t.labelTarget,lqe.call(this,t)};var cqe=n1.prototype.revert;function z6(t,i){this._canvas=t,this._modeling=i}function lV(t,i){this._modeling=t,this._elementRegistry=i}function H6(t,i){this._canvas=t,this._modeling=i}function hO(t){this._modeling=t}V6.prototype.revert=function(t){return t.shape.labelTarget=null,cqe.call(this,t)},z6.$inject=["canvas","modeling"],z6.prototype.preExecute=function(t){var i=this._modeling,o=t.connection;e1(o.incoming,function(s){i.removeConnection(s,{nested:!0})}),e1(o.outgoing,function(s){i.removeConnection(s,{nested:!0})})},z6.prototype.execute=function(t){var i=t.connection,o=i.parent;return t.parent=o,t.parentIndex=GB(o.children,i),t.source=i.source,t.target=i.target,this._canvas.removeConnection(i),i.source=null,i.target=null,i},z6.prototype.revert=function(t){var i=t.connection,o=t.parent,s=t.parentIndex;return i.source=t.source,i.target=t.target,Yo(o.children,i,s),this._canvas.addConnection(i,o),i},lV.$inject=["modeling","elementRegistry"],lV.prototype.postExecute=function(t){var i=this._modeling,o=this._elementRegistry;_e(t.elements,function(a){o.get(a.id)&&(a.waypoints?i.removeConnection(a):i.removeShape(a))})},H6.$inject=["canvas","modeling"],H6.prototype.preExecute=function(t){var i=this._modeling,o=t.shape;e1(o.incoming,function(s){i.removeConnection(s,{nested:!0})}),e1(o.outgoing,function(s){i.removeConnection(s,{nested:!0})}),e1(o.children,function(s){Di(s)?i.removeConnection(s,{nested:!0}):i.removeShape(s,{nested:!0})})},H6.prototype.execute=function(t){var i=this._canvas,o=t.shape,s=o.parent;return t.oldParent=s,t.oldParentIndex=GB(s.children,o),i.removeShape(o),o},H6.prototype.revert=function(t){var i=this._canvas,o=t.shape,s=t.oldParent;return Yo(s.children,o,t.oldParentIndex),i.addShape(o,s),o},hO.$inject=["modeling"];var Gce={x:"y",y:"x"};function mO(t,i){this._layouter=t,this._canvas=i}function cV(){}function uV(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function U6(t){this._modeling=t}function gO(t){this._helper=new U6(t)}function Cy(t){this._modeling=t,this._helper=new U6(t)}function G6(t){this._modeling=t}function qce(t){return t.original||t}function zf(t,i){this._modeling=t,this._rules=i}function q6(t){this._modeling=t}function r1(t){this._modeling=t}function Wce(t){return Ae({},t)}function Xce(t){switch(t){case"n":case"s":return"y";case"w":case"e":return"x"}}function Yce(t,i,o){var s=Xce(o);return/e|s/.test(o)?t[s]>i:/n|w/.test(o)?t[s]<i:void 0}function i1(t,i){return-1!==t.indexOf(i)}function vO(t){this._modeling=t}function Kce(t){var i={};return _e(t,function(o){i[o.id]=o.hidden,o.children&&(i=Ae({},i,Kce(o.children)))}),i}function Qce(t,i){var o=[];return _e(t,function(s){s.hidden=i,o=o.concat(s),s.children&&(o=o.concat(Qce(s.children,s.collapsed||i)))}),o}function Zce(t,i){var o=[];return _e(t,function(s){s.hidden=i[s.id],o=o.concat(s),s.children&&(o=o.concat(Zce(s.children,i)))}),o}function yO(t){this._modeling=t}function Jce(t,i){return Io(t&&t.attachers,i)}function eue(t,i,o){if(t){var s=t.attachers;s||(t.attachers=s=[]),Yo(s,i,o)}}function dV(){}function di(t,i,o){this._eventBus=t,this._elementFactory=i,this._commandStack=o;var s=this;t.on("diagram.init",function(){s.registerHandlers(o)})}function W6(t){this._elementRegistry=t}function tue(t,i){_e(i,function(o,s){t.set(s,o)})}hO.prototype.preExecute=function(t){var i=this._modeling,o=t.groups,s=t.axis,a=t.dimension;function l(R,L){R.range.min=Math.min(L[s],R.range.min),R.range.max=Math.max(L[s]+L[a],R.range.max)}function c(R){return R[s]+R[a]/2}function u(R){return R.length-1}function p(R){return R.max-R.min}var S,D,v=o[0],y=u(o),E=o[y],k=0;_e(o,function(R,L){var N,B,$;R.elements.length<2?L&&L!==o.length-1&&(l(R,R.elements[0]),k+=p(R.range)):(B=(N=os(R.elements,s))[0],L===y&&(B=N[u(N)]),$=c(B),R.range=null,_e(N,function(q){(function h(R,L){var N={y:0};N[s]=R-c(L),N[s]&&(N[Gce[s]]=0,i.moveElements([L],N,L.parent))})($,q),null!==R.range?l(R,q):R.range={min:q[s],max:q[s]+q[a]}}),L&&L!==o.length-1&&(k+=p(R.range)))}),D=Math.abs(E.range.min-v.range.max),!((S=Math.round((D-k)/(o.length-1)))<o.length-1)&&_e(o,function(R,L){var B,N={};R===v||R===E||(B=o[L-1],R.range.max=0,_e(R.elements,function($,q){N[Gce[s]]=0,N[s]=B.range.max-$[s]+S,R.range.min!==$[s]&&(N[s]+=$[s]-R.range.min),N[s]&&i.moveElements([$],N,$.parent),R.range.max=Math.max($[s]+$[a],q?R.range.max:0)}))})},hO.prototype.postExecute=function(t){},mO.$inject=["layouter","canvas"],mO.prototype.execute=function(t){var i=t.connection;return Ae(t,{oldWaypoints:i.waypoints}),i.waypoints=this._layouter.layoutConnection(i,t.hints),i},mO.prototype.revert=function(t){var i=t.connection;return i.waypoints=t.oldWaypoints,i},cV.prototype.execute=function(t){var i=t.connection,o=t.delta,s=t.newParent||i.parent,a=t.newParentIndex,l=i.parent;return t.oldParent=l,t.oldParentIndex=Io(l.children,i),Yo(s.children,i,a),i.parent=s,_e(i.waypoints,function(c){c.x+=o.x,c.y+=o.y,c.original&&(c.original.x+=o.x,c.original.y+=o.y)}),i},cV.prototype.revert=function(t){var i=t.connection,s=t.oldParent,a=t.oldParentIndex,l=t.delta;return Io(i.parent.children,i),Yo(s.children,i,a),i.parent=s,_e(i.waypoints,function(c){c.x-=l.x,c.y-=l.y,c.original&&(c.original.x-=l.x,c.original.y-=l.y)}),i},uV.prototype.add=function(t,i){return this.addAll([t],i)},uV.prototype.addAll=function(t,i){var o=function WLe(t,i,o){Ul(i)&&(i=!0),Oo(i)&&(o=i,i=!0);var s=t6((o=o||{}).allShapes),a=t6(o.allConnections),l=t6(o.enclosedElements),c=t6(o.enclosedConnections),u=t6(o.topLevel,i&&Tv(t,function(v){return v.id}));function p(v){u[v.source.id]&&u[v.target.id]&&(u[v.id]=[v]),s[v.source.id]&&s[v.target.id]&&(c[v.id]=l[v.id]=v),a[v.id]=v}return oy(t,function h(v){if(l[v.id]=v,!v.waypoints)return s[v.id]=v,_e(v.incoming,p),_e(v.outgoing,p),v.children;c[v.id]=a[v.id]=v}),{allShapes:s,allConnections:a,topLevel:u,enclosedConnections:c,enclosedElements:l}}(t,!!i,this);return Ae(this,o),this},U6.prototype.moveRecursive=function(t,i,o){return t?this.moveClosure(this.getClosure(t),i,o):[]},U6.prototype.moveClosure=function(t,i,o,s,a){var l=this._modeling,c=t.allShapes,u=t.allConnections,p=t.enclosedConnections,h=t.topLevel,v=!1;a&&a.parent===o&&(v=!0),_e(c,function(y){l.moveShape(y,i,h[y.id]&&!v&&o,{recurse:!1,layout:!1})}),_e(u,function(y){var E=!!c[y.source.id],S=!!c[y.target.id];p[y.id]&&E&&S?l.moveConnection(y,i,h[y.id]&&!v&&o):l.layoutConnection(y,{connectionStart:E&&A$(y,y.source,i),connectionEnd:S&&I$(y,y.target,i)})})},U6.prototype.getClosure=function(t){return(new uV).addAll(t,!0)},gO.$inject=["modeling"],gO.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)},gO.prototype.postExecute=function(t){var o,i=t.hints;i&&i.primaryShape&&(i.oldParent=(o=i.primaryShape).parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,o)},Cy.$inject=["modeling"],Cy.prototype.execute=function(t){var i=t.shape,o=t.delta,s=t.newParent||i.parent,a=t.newParentIndex,l=i.parent;return t.oldBounds=p0(i,["x","y","width","height"]),t.oldParent=l,t.oldParentIndex=Io(l.children,i),Yo(s.children,i,a),Ae(i,{parent:s,x:i.x+o.x,y:i.y+o.y}),i},Cy.prototype.postExecute=function(t){var i=t.shape,o=t.delta,s=t.hints,a=this._modeling;!1!==s.layout&&(_e(i.incoming,function(l){a.layoutConnection(l,{connectionEnd:I$(l,i,o)})}),_e(i.outgoing,function(l){a.layoutConnection(l,{connectionStart:A$(l,i,o)})})),!1!==s.recurse&&this.moveChildren(t)},Cy.prototype.revert=function(t){var i=t.shape,o=t.oldParent,a=t.delta;return Yo(o.children,i,t.oldParentIndex),Ae(i,{parent:o,x:i.x-a.x,y:i.y-a.y}),i},Cy.prototype.moveChildren=function(t){this._helper.moveRecursive(t.shape.children,t.delta,null)},Cy.prototype.getNewParent=function(t){return t.newParent||t.shape.parent},G6.$inject=["modeling"],G6.prototype.execute=function(t){var i=t.newSource,o=t.newTarget,s=t.connection,a=t.dockingOrPoints;if(!i&&!o)throw new Error("newSource or newTarget required");return Rn(a)&&(t.oldWaypoints=s.waypoints,s.waypoints=a),i&&(t.oldSource=s.source,s.source=i),o&&(t.oldTarget=s.target,s.target=o),s},G6.prototype.postExecute=function(t){var i=t.connection,o=t.newSource,s=t.newTarget,a=t.dockingOrPoints,l=t.hints||{},c={};l.connectionStart&&(c.connectionStart=l.connectionStart),l.connectionEnd&&(c.connectionEnd=l.connectionEnd),!1!==l.layoutConnection&&(o&&(!s||"source"===l.docking)&&(c.connectionStart=c.connectionStart||qce(Rn(a)?a[0]:a)),s&&(!o||"target"===l.docking)&&(c.connectionEnd=c.connectionEnd||qce(Rn(a)?a[a.length-1]:a)),l.newWaypoints&&(c.waypoints=l.newWaypoints),this._modeling.layoutConnection(i,c))},G6.prototype.revert=function(t){var i=t.oldSource,o=t.oldTarget,s=t.oldWaypoints,a=t.connection;return i&&(a.source=i),o&&(a.target=o),s&&(a.waypoints=s),a},zf.$inject=["modeling","rules"],zf.prototype.preExecute=function(t){var u,i=this,o=this._modeling,s=this._rules,a=t.oldShape,l=t.newData,c=t.hints||{};function p(D,k,R){return s.allowed("connection.reconnect",{connection:R,source:D,target:k})}var y,v={x:a.x,y:a.y,width:a.width,height:a.height};u=t.newShape=t.newShape||i.createShape(l,{x:l.x,y:l.y},a.parent,c),a.host&&o.updateAttachment(u,a.host),!1!==c.moveChildren&&(y=a.children.slice(),o.moveElements(y,{x:0,y:0},u,c));var E=a.incoming.slice(),S=a.outgoing.slice();_e(E,function(D){p(D.source,u,D)&&i.reconnectEnd(D,u,KP(D,u,v),c)}),_e(S,function(D){p(u,D.target,D)&&i.reconnectStart(D,u,YP(D,u,v),c)})},zf.prototype.postExecute=function(t){this._modeling.removeShape(t.oldShape)},zf.prototype.execute=function(t){},zf.prototype.revert=function(t){},zf.prototype.createShape=function(t,i,o,s){return this._modeling.createShape(t,i,o,s)},zf.prototype.reconnectStart=function(t,i,o,s){this._modeling.reconnectStart(t,i,o,s)},zf.prototype.reconnectEnd=function(t,i,o,s){this._modeling.reconnectEnd(t,i,o,s)},q6.$inject=["modeling"],q6.prototype.execute=function(t){var i=t.shape,o=t.newBounds,s=t.minBounds;if(void 0===o.x||void 0===o.y||void 0===o.width||void 0===o.height)throw new Error("newBounds must have {x, y, width, height} properties");if(s&&(o.width<s.width||o.height<s.height))throw new Error("width and height cannot be less than minimum height and width");if(!s&&o.width<10||o.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:i.width,height:i.height,x:i.x,y:i.y},Ae(i,{width:o.width,height:o.height,x:o.x,y:o.y}),i},q6.prototype.postExecute=function(t){var i=this._modeling,o=t.shape,s=t.oldBounds;!1!==(t.hints||{}).layout&&(_e(o.incoming,function(l){i.layoutConnection(l,{connectionEnd:KP(l,o,s)})}),_e(o.outgoing,function(l){i.layoutConnection(l,{connectionStart:YP(l,o,s)})}))},q6.prototype.revert=function(t){var i=t.shape,o=t.oldBounds;return Ae(i,{width:o.width,height:o.height,x:o.x,y:o.y}),i},r1.$inject=["modeling"],r1.prototype.preExecute=function(t){var i=t.delta,o=t.direction,s=t.movingShapes,a=t.resizingShapes,l=t.start,c={};this.moveShapes(s,i),_e(a,function(u){c[u.id]=function pqe(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}(u)}),this.resizeShapes(a,i,o),this.updateConnectionWaypoints(function jGe(t,i){var o=[];return _e(t.concat(i),function(s){_e(s.incoming.concat(s.outgoing),function(c){var u=c.source,p=c.target;($6(t,u)||$6(t,p)||$6(i,u)||$6(i,p))&&($6(o,c)||o.push(c))})}),o}(s,a),i,o,l,s,a,c)},r1.prototype.execute=function(){},r1.prototype.revert=function(){},r1.prototype.moveShapes=function(t,i){var o=this;_e(t,function(s){o._modeling.moveShape(s,i,null,{autoResize:!1,layout:!1,recurse:!1})})},r1.prototype.resizeShapes=function(t,i,o){var s=this;_e(t,function(a){var l=function $Ge(t,i,o){var s=t.x,a=t.y,l=t.width,c=t.height,u=o.x,p=o.y;switch(i){case"n":return{x:s,y:a+p,width:l,height:c-p};case"s":return{x:s,y:a,width:l,height:c+p};case"w":return{x:s+u,y:a,width:l-u,height:c};case"e":return{x:s,y:a,width:l+u,height:c};default:throw new Error("unknown direction: "+i)}}(a,o,i);s._modeling.resizeShape(a,l,null,{attachSupport:!1,autoResize:!1,layout:!1})})},r1.prototype.updateConnectionWaypoints=function(t,i,o,s,a,l,c){var u=this,p=a.concat(l);_e(t,function(h){var v=h.source,y=h.target,E=function dqe(t){return ko(t.waypoints,function(i){return(i=Wce(i)).original&&(i.original=Wce(i.original)),i})}(h),S=Xce(o),D={};i1(p,v)&&i1(p,y)?(E=ko(E,function(k){return Yce(k,s,o)&&(k[S]=k[S]+i[S]),k.original&&Yce(k.original,s,o)&&(k.original[S]=k.original[S]+i[S]),k}),u._modeling.updateWaypoints(h,E,{labelBehavior:!1})):(i1(p,v)||i1(p,y))&&(i1(a,v)?D.connectionStart=A$(h,v,i):i1(a,y)?D.connectionEnd=I$(h,y,i):i1(l,v)?D.connectionStart=YP(h,v,c[v.id]):i1(l,y)&&(D.connectionEnd=KP(h,y,c[y.id])),u._modeling.layoutConnection(h,D))})},vO.$inject=["modeling"],vO.prototype.execute=function(t){var i=t.shape,o=i.children;t.oldChildrenVisibility=Kce(o),i.collapsed=!i.collapsed;var s=Qce(o,i.collapsed);return[i].concat(s)},vO.prototype.revert=function(t){var i=t.shape,a=Zce(i.children,t.oldChildrenVisibility);return i.collapsed=!i.collapsed,[i].concat(a)},yO.$inject=["modeling"],yO.prototype.execute=function(t){var i=t.shape,o=t.newHost,s=i.host;return t.oldHost=s,t.attacherIdx=Jce(s,i),eue(o,i),i.host=o,i},yO.prototype.revert=function(t){var i=t.shape,o=t.newHost,s=t.oldHost,a=t.attacherIdx;return i.host=s,Jce(o,i),eue(s,i,a),i},dV.prototype.execute=function(t){var i=t.connection,o=t.newWaypoints;return t.oldWaypoints=i.waypoints,i.waypoints=o,i},dV.prototype.revert=function(t){var i=t.connection;return i.waypoints=t.oldWaypoints,i},di.$inject=["eventBus","elementFactory","commandStack"],di.prototype.getHandlers=function(){return{"shape.append":dO,"shape.create":n1,"shape.delete":H6,"shape.move":Cy,"shape.resize":q6,"shape.replace":zf,"shape.toggleCollapse":vO,spaceTool:r1,"label.create":V6,"connection.create":pO,"connection.delete":z6,"connection.move":cV,"connection.layout":mO,"connection.updateWaypoints":dV,"connection.reconnect":G6,"elements.create":aV,"elements.move":gO,"elements.delete":lV,"elements.distribute":hO,"elements.align":uO,"element.updateAttachment":yO}},di.prototype.registerHandlers=function(t){_e(this.getHandlers(),function(i,o){t.registerHandler(o,i)})},di.prototype.moveShape=function(t,i,o,s,a){"object"==typeof s&&(a=s,s=null),this._commandStack.execute("shape.move",{shape:t,delta:i,newParent:o,newParentIndex:s,hints:a||{}})},di.prototype.updateAttachment=function(t,i){this._commandStack.execute("element.updateAttachment",{shape:t,newHost:i})},di.prototype.moveElements=function(t,i,o,s){var c,a=(s=s||{}).attach,l=o;!0===a?(c=o,l=o.parent):!1===a&&(c=null),this._commandStack.execute("elements.move",{shapes:t,delta:i,newParent:l,newHost:c,hints:s})},di.prototype.moveConnection=function(t,i,o,s,a){"object"==typeof s&&(a=s,s=void 0),this._commandStack.execute("connection.move",{connection:t,delta:i,newParent:o,newParentIndex:s,hints:a||{}})},di.prototype.layoutConnection=function(t,i){this._commandStack.execute("connection.layout",{connection:t,hints:i||{}})},di.prototype.createConnection=function(t,i,o,s,a,l){"object"==typeof o&&(l=a,a=s,s=o,o=void 0);var c={source:t,target:i,parent:a,parentIndex:o,connection:s=this._create("connection",s),hints:l};return this._commandStack.execute("connection.create",c),c.connection},di.prototype.createShape=function(t,i,o,s,a){"number"!=typeof s&&(a=s,s=void 0);var c,u,l=(a=a||{}).attach;t=this._create("shape",t),l?(c=o.parent,u=o):c=o;var p={position:i,shape:t,parent:c,parentIndex:s,host:u,hints:a};return this._commandStack.execute("shape.create",p),p.shape},di.prototype.createElements=function(t,i,o,s,a){Rn(t)||(t=[t]),"number"!=typeof s&&(a=s,s=void 0);var l={position:i,elements:t,parent:o,parentIndex:s,hints:a=a||{}};return this._commandStack.execute("elements.create",l),l.elements},di.prototype.createLabel=function(t,i,o,s){o=this._create("label",o);var a={labelTarget:t,position:i,parent:s||t.parent,shape:o};return this._commandStack.execute("label.create",a),a.shape},di.prototype.appendShape=function(t,i,o,s,a){a=a||{};var l={source:t,position:o,target:s,shape:i=this._create("shape",i),connection:a.connection,connectionParent:a.connectionParent,hints:a};return this._commandStack.execute("shape.append",l),l.shape},di.prototype.removeElements=function(t){this._commandStack.execute("elements.delete",{elements:t})},di.prototype.distributeElements=function(t,i,o){this._commandStack.execute("elements.distribute",{groups:t,axis:i,dimension:o})},di.prototype.removeShape=function(t,i){this._commandStack.execute("shape.delete",{shape:t,hints:i||{}})},di.prototype.removeConnection=function(t,i){this._commandStack.execute("connection.delete",{connection:t,hints:i||{}})},di.prototype.replaceShape=function(t,i,o){var s={oldShape:t,newData:i,hints:o||{}};return this._commandStack.execute("shape.replace",s),s.newShape},di.prototype.alignElements=function(t,i){this._commandStack.execute("elements.align",{elements:t,alignment:i})},di.prototype.resizeShape=function(t,i,o,s){this._commandStack.execute("shape.resize",{shape:t,newBounds:i,minBounds:o,hints:s})},di.prototype.createSpace=function(t,i,o,s,a){this._commandStack.execute("spaceTool",{delta:o,direction:s,movingShapes:t,resizingShapes:i,start:a})},di.prototype.updateWaypoints=function(t,i,o){this._commandStack.execute("connection.updateWaypoints",{connection:t,newWaypoints:i,hints:o||{}})},di.prototype.reconnect=function(t,i,o,s,a){this._commandStack.execute("connection.reconnect",{connection:t,newSource:i,newTarget:o,dockingOrPoints:s,hints:a||{}})},di.prototype.reconnectStart=function(t,i,o,s){s||(s={}),this.reconnect(t,i,t.target,o,Ae(s,{docking:"source"}))},di.prototype.reconnectEnd=function(t,i,o,s){s||(s={}),this.reconnect(t,t.source,i,o,Ae(s,{docking:"target"}))},di.prototype.connect=function(t,i,o,s){return this.createConnection(t,i,o||{},t.parent,s)},di.prototype._create=function(t,i){return function hFe(t){return t instanceof E5}(i)?i:this._elementFactory.create(t,i)},di.prototype.toggleCollapse=function(t,i){this._commandStack.execute("shape.toggleCollapse",{shape:t,hints:i||{}})},W6.$inject=["elementRegistry"],W6.prototype.execute=function(t){var i=t.element,o=t.moddleElement,s=t.properties;if(!o)throw new Error("<moddleElement> required");var a=t.changed||this._getVisualReferences(o).concat(i),l=t.oldProperties||function fqe(t,i){return dl(i,function(o,s){return o[s]=t.get(s),o},{})}(o,M3(s));return tue(o,s),t.oldProperties=l,t.changed=a,a},W6.prototype.revert=function(t){var s=t.changed;return tue(t.moddleElement,t.oldProperties),s},W6.prototype._getVisualReferences=function(t){var i=this._elementRegistry;return j(t,"bpmn:DataObject")?function hqe(t,i){return i.filter(function(o){return j(o,"bpmn:DataObjectReference")&&le(o).dataObjectRef===t})}(t,i):[]};var X6="default",Hf="id",mqe={width:0,height:0};function Y6(t,i,o,s,a){this._elementRegistry=t,this._moddle=i,this._translate=o,this._modeling=s,this._textRenderer=a}function rue(t,i){return Hf in t&&t[Hf]!==i[Hf]}function iue(t,i){var o=t.businessObject,s=Pr(t);_e(i,function(a,l){"di"!==l?o.set(l,a):s&&function yqe(t,i){_e(i,function(o,s){t.set(s,o)})}(s,a)})}Y6.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Y6.prototype.execute=function(t){var i=t.element,o=[i];if(!i)throw new Error((0,this._translate)("element required"));var a=this._elementRegistry,l=this._moddle.ids,c=i.businessObject,u=function _qe(t){var i=Ae({},t);return bqe.forEach(function(o){o in t&&(i[o]=le(i[o]))}),i}(t.properties),p=t.oldProperties||function gqe(t,i){var o=M3(i),s=t.businessObject,a=Pr(t);return dl(o,function(l,c){return l[c]="di"!==c?s.get(c):function vqe(t,i){return dl(i,function(o,s){return o[s]=t&&t.get(s),o},{})}(a,M3(i.di)),l},{})}(i,u);return rue(u,c)&&(l.unclaim(c[Hf]),a.updateId(i,u[Hf]),l.claim(u[Hf],c)),X6 in u&&(u[X6]&&o.push(a.get(u[X6].id)),c[X6]&&o.push(a.get(c[X6].id))),iue(i,u),t.oldProperties=p,t.changed=o,o},Y6.prototype.postExecute=function(t){var o=t.element.label,s=o&&le(o).name;if(s){var a=this._textRenderer.getExternalLabelBounds(o,s);this._modeling.resizeShape(o,a,mqe)}},Y6.prototype.revert=function(t){var i=t.element,o=t.properties,s=t.oldProperties,a=i.businessObject,l=this._elementRegistry,c=this._moddle.ids;return iue(i,s),rue(o,a)&&(c.unclaim(o[Hf]),l.updateId(i,s[Hf]),c.claim(s[Hf],a)),t.changed};var bqe=["default"];function bO(t,i){this._canvas=t,this._modeling=i}function pV(t,i){this._modeling=t,this._spaceTool=i}function fV(t,i){this._modeling=t,this._translate=i}function K6(t,i){this._modeling=t,this._spaceTool=i}bO.$inject=["canvas","modeling"],bO.prototype.execute=function(t){var i=this._canvas,o=t.newRoot,s=o.businessObject,a=i.getRootElement(),l=a.businessObject,c=l.$parent,u=Pr(a);return i.setRootElement(o),i.removeRootElement(a),Yo(c.rootElements,s),s.$parent=c,Io(c.rootElements,l),l.$parent=null,a.di=null,u.bpmnElement=s,o.di=u,t.oldRoot=a,[]},bO.prototype.revert=function(t){var i=this._canvas,o=t.newRoot,s=o.businessObject,a=t.oldRoot,l=a.businessObject,c=s.$parent,u=Pr(o);return i.setRootElement(a),i.removeRootElement(o),Io(c.rootElements,s),s.$parent=null,Yo(c.rootElements,l),l.$parent=c,o.di=null,u.bpmnElement=l,a.di=u,[]},pV.$inject=["modeling","spaceTool"],pV.prototype.preExecute=function(t){var i=this._spaceTool,o=this._modeling,s=t.shape,a=t.location,l=yu(s),c=l===s,u=c?s:s.parent;_y(u).length||o.createShape({type:"bpmn:Lane"},{x:s.x+30,y:s.y,width:s.width-30,height:s.height},u);var h=[];oy(l,function(k){return h.push(k),k.label&&h.push(k.label),k===s?[]:On(k.children,function(R){return R!==s})});var v="top"===a?-120:120,y="top"===a?s.y:s.y+s.height,E=y+("top"===a?10:-10),S="top"===a?"n":"s",D=i.calculateAdjustments(h,"y",v,E);i.makeSpace(D.movingShapes,D.resizingShapes,{x:0,y:v},S,E),t.newLane=o.createShape({type:"bpmn:Lane"},{x:s.x+(c?30:0),y:y-("top"===a?120:0),width:s.width-(c?30:0),height:120},u)},fV.$inject=["modeling","translate"],fV.prototype.preExecute=function(t){var i=this._modeling,o=this._translate,s=t.shape,a=t.count,l=_y(s),c=l.length;if(c>a)throw new Error(o("more than {count} child lanes",{count:a}));var v,E,u=Math.round(s.height/a);for(E=0;E<a;E++)v={x:s.x+30,y:s.y+E*u,width:s.width-30,height:E===a-1?s.height-u*E:u},E<c?i.resizeShape(l[E],v):i.createShape({type:"bpmn:Lane"},v,s)},K6.$inject=["modeling","spaceTool"],K6.prototype.preExecute=function(t){var i=t.shape,o=t.newBounds;!1!==t.balanced?this.resizeBalanced(i,o):this.resizeSpace(i,o)},K6.prototype.resizeBalanced=function(t,i){var o=this._modeling,s=function dHe(t,i){var o=yu(t),a=RP(o,j(o,"bpmn:Process")?[]:[o]),l=an(t),c=an(i),u=function cHe(t,i){return sle(an(i),an(t))}(t,i),p=[];return a.forEach(function(h){if(h!==t){var v=0,y=u.right,E=0,S=u.left,D=an(h);u.top&&(MP(D.bottom-l.top)<10&&(E=c.top-D.bottom),MP(D.top-l.top)<5&&(v=c.top-D.top)),u.bottom&&(MP(D.top-l.bottom)<10&&(v=c.bottom-D.top),MP(D.bottom-l.bottom)<5&&(E=c.bottom-D.bottom)),(v||y||E||S)&&p.push({shape:h,newBounds:iHe(h,{top:v,right:y,bottom:E,left:S})})}}),p}(t,i);o.resizeShape(t,i),s.forEach(function(a){o.resizeShape(a.shape,a.newBounds)})},K6.prototype.resizeSpace=function(t,i){var h,y,S,o=this._spaceTool,s=an(t),l=sle(an(i),s),c=yu(t),u=[],p=[];oy(c,function(D){return u.push(D),(j(D,"bpmn:Lane")||j(D,"bpmn:Participant"))&&p.push(D),D.children}),(l.bottom||l.top)&&(h=l.bottom||l.top,y=l.bottom?"s":"n",S=o.calculateAdjustments(u,"y",l.top>0||l.bottom<0?-h:h,t.y+(l.bottom?t.height:0)+(l.bottom?-10:10)),o.makeSpace(S.movingShapes,S.resizingShapes,{x:0,y:h},y)),(l.left||l.right)&&(h=l.right||l.left,y=l.right?"e":"w",S=o.calculateAdjustments(p,"x",l.left>0||l.right<0?-h:h,t.x+(l.right?t.width:0)+(l.right?-10:100)),o.makeSpace(S.movingShapes,S.resizingShapes,{x:h,y:0},y))};var Q6="flowNodeRef",hV="lanes";function Z6(t){this._elementRegistry=t}function _O(t){this._moddle=t}Z6.$inject=["elementRegistry"],Z6.prototype._computeUpdates=function(t,i){var o=[],s=[],a={},l=[];function u(v){-1===o.indexOf(v)&&(l.push(v),o.push(v))}return i.forEach(function(v){var y=yu(v);y&&-1===o.indexOf(y)&&(y.children.filter(function(S){return j(S,"bpmn:FlowNode")}).forEach(u),o.push(y))}),t.forEach(u),l.forEach(function(v){var y=v.businessObject,S=y.get(hV).slice(),D=function h(v){if(!v.parent)return[];var y=function p(v){var y=yu(v);return a[y.id]||(a[y.id]=RP(y)),a[y.id]}(v);return y.filter(function(E){return function c(v,y){var E=an(y),S_x=v.x+v.width/2,S_y=v.y+v.height/2;return S_x>E.left&&S_x<E.right&&S_y>E.top&&S_y<E.bottom}(v,E)}).map(function(E){return E.businessObject})}(v);s.push({flowNode:y,remove:S,add:D})}),i.forEach(function(v){var y=v.businessObject;v.parent||y.get(Q6).forEach(function(E){s.push({flowNode:E,remove:[y],add:[]})})}),s},Z6.prototype.execute=function(t){var i=t.updates;return i||(i=t.updates=this._computeUpdates(t.flowNodeShapes,t.laneShapes)),i.forEach(function(o){var s=o.flowNode,a=s.get(hV);o.remove.forEach(function(l){Io(a,l),Io(l.get(Q6),s)}),o.add.forEach(function(l){Yo(a,l),Yo(l.get(Q6),s)})}),[]},Z6.prototype.revert=function(t){return t.updates.forEach(function(o){var s=o.flowNode,a=s.get(hV);o.add.forEach(function(l){Io(a,l),Io(l.get(Q6),s)}),o.remove.forEach(function(l){Yo(a,l),Yo(l.get(Q6),s)})}),[]},_O.$inject=["moddle"],_O.prototype.execute=function(t){var i=this._moddle.ids,o=t.id;return t.claiming?i.claim(o,t.element):i.unclaim(o),[]},_O.prototype.revert=function(t){var i=this._moddle.ids,o=t.id,s=t.element;return t.claiming?i.unclaim(o):i.claim(o,s),[]};var Eqe={fill:void 0,stroke:void 0};function mV(t){this._commandStack=t,this._normalizeColor=function(i){if(i){if(oa(i)){var o=function xqe(t){var i=document.createElement("canvas").getContext("2d");return i.fillStyle="transparent",i.fillStyle=t,/^#[0-9a-fA-F]{6}$/.test(i.fillStyle)?i.fillStyle:null}(i);if(o)return o}throw new Error("invalid color value: "+i)}}}mV.$inject=["commandStack"],mV.prototype.postExecute=function(t){var i=t.elements,o=t.colors||Eqe,s=this,a={};"fill"in o&&Ae(a,{"background-color":this._normalizeColor(o.fill)}),"stroke"in o&&Ae(a,{"border-color":this._normalizeColor(o.stroke)}),_e(i,function(l){var c=Di(l)?p0(a,["border-color"]):a,u=Pr(l);if(function wqe(t){"border-color"in t&&(t.stroke=t["border-color"]),"background-color"in t&&(t.fill=t["background-color"])}(c),Rr(l))s._commandStack.execute("element.updateModdleProperties",{element:l,moddleElement:u.label,properties:{color:a["border-color"]}});else{if(!on(u,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;s._commandStack.execute("element.updateProperties",{element:l,properties:{di:c}})}})};var Sqe={width:0,height:0};function oue(t,i,o){function s(p,h){var v=p.label||p,y=p.labelTarget||p;return function xCe(t,i){var o=t.businessObject,s=$te(o);s&&("categoryValueRef"===s?o.categoryValueRef.value=i:o[s]=i)}(v,h),[v,y]}this.preExecute=function a(p){var h=p.element,v=h.businessObject,y=p.newLabel;if(!Rr(h)&&Zv(h)&&!u9(h)&&!sue(y)){var S=CL(h);t.createLabel(h,S={x:S.x,y:S.y+7},{id:v.id+"_label",businessObject:v,di:h.di})}},this.execute=function l(p){return p.oldLabel=Tc(p.element),s(p.element,p.newLabel)},this.revert=function c(p){return s(p.element,p.oldLabel)},this.postExecute=function u(p){var h=p.element,v=h.label||h,y=p.newLabel,E=p.newBounds,S=p.hints||{};if(Rr(v)||j(v,"bpmn:TextAnnotation")){if(Rr(v)&&sue(y))return void(!1!==S.removeShape&&t.removeShape(v,{unsetLabel:!1}));var D=Tc(h);typeof E>"u"&&(E=i.getExternalLabelBounds(v,D)),E&&t.resizeShape(v,E,Sqe)}}}function sue(t){return!t||!t.trim()}function ga(t,i,o,s){di.call(this,t,i,o),this._bpmnRules=s}function aue(){}oue.$inject=["modeling","textRenderer","bpmnFactory"],jt(ga,di),ga.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],ga.prototype.getHandlers=function(){var t=di.prototype.getHandlers.call(this);return t["element.updateModdleProperties"]=W6,t["element.updateProperties"]=Y6,t["canvas.updateRoot"]=bO,t["lane.add"]=pV,t["lane.resize"]=K6,t["lane.split"]=fV,t["lane.updateRefs"]=Z6,t["id.updateClaim"]=_O,t["element.setColor"]=mV,t["element.updateLabel"]=oue,t},ga.prototype.updateLabel=function(t,i,o,s){this._commandStack.execute("element.updateLabel",{element:t,newLabel:i,newBounds:o,hints:s||{}})},ga.prototype.connect=function(t,i,o,s){if(o||(o=this._bpmnRules.canConnect(t,i)),o)return this.createConnection(t,i,o,t.parent,s)},ga.prototype.updateModdleProperties=function(t,i,o){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:i,properties:o})},ga.prototype.updateProperties=function(t,i){this._commandStack.execute("element.updateProperties",{element:t,properties:i})},ga.prototype.resizeLane=function(t,i,o){this._commandStack.execute("lane.resize",{shape:t,newBounds:i,balanced:o})},ga.prototype.addLane=function(t,i){var o={shape:t,location:i};return this._commandStack.execute("lane.add",o),o.newLane},ga.prototype.splitLane=function(t,i){this._commandStack.execute("lane.split",{shape:t,count:i})},ga.prototype.makeCollaboration=function(){var t=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:t}),t},ga.prototype.makeProcess=function(){var t=this._create("root",{type:"bpmn:Process"});this._commandStack.execute("canvas.updateRoot",{newRoot:t})},ga.prototype.updateLaneRefs=function(t,i){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:t,laneShapes:i})},ga.prototype.claimId=function(t,i){this._commandStack.execute("id.updateClaim",{id:t,element:i,claiming:!0})},ga.prototype.unclaimId=function(t,i){this._commandStack.execute("id.updateClaim",{id:t,element:i})},ga.prototype.setColor=function(t,i){t.length||(t=[t]),this._commandStack.execute("element.setColor",{elements:t,colors:i})},aue.prototype.layoutConnection=function(t,i){return[(i=i||{}).connectionStart||wn(i.source||t.source),i.connectionEnd||wn(i.target||t.target)]};var EO=20,Cqe=5,xO=Math.round,lue=20,Dqe={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function cue(t,i,o){var u,p,s=fa(i,t,Cqe),a=o.split(":")[0],l=xO((i.x-t.x)/2+t.x),c=xO((i.y-t.y)/2+t.y),h=function Pqe(t,i){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(i)}(a,s),v=/h|r|l/.test(a),y=!1,E=!1;return h?(u=v?{x:l,y:t.y}:{x:t.x,y:c},p=v?"h:h":"v:v"):(y=function Tqe(t,i){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[i].test(t)}(s,a),p=v?"h:v":"v:h",y?v?(E=c===t.y,u={x:t.x+EO*(/l/.test(a)?-1:1),y:E?c+EO:c}):u={x:(E=l===t.x)?l+EO:l,y:t.y+EO*(/t/.test(a)?-1:1)}:u={x:l,y:c}),{waypoints:gV(t,u,p).concat(u),directions:p,turnNextDirections:E}}function uue(t){return t.split(":").reverse().join(":")}function gV(t,i,o){if(!function Vqe(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}(o=o||"h:h"))throw new Error("unknown directions: <"+o+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(pue(o)){var s=function Oqe(t,i,o){return cue(t,i,o)}(t,i,o),a=function kqe(t,i,o){var s=cue(i,t,uue(o));return{waypoints:s.waypoints.slice().reverse(),directions:uue(s.directions),turnNextDirections:s.turnNextDirections}}(t,i,o),l=function Mqe(t,i){var o=t.directions.split(":")[1],s=i.directions.split(":")[0];t.turnNextDirections&&(o="h"==o?"v":"h"),i.turnNextDirections&&(s="h"==s?"v":"h");var a=o+":"+s;return{waypoints:gV(t.waypoints[t.waypoints.length-1],i.waypoints[0],a),directions:a}}(s,a);return[].concat(s.waypoints,l.waypoints,a.waypoints)}return function Rqe(t,i,o){var s=xO((i.x-t.x)/2+t.x),a=xO((i.y-t.y)/2+t.y);if("h:v"===o)return[{x:i.x,y:t.y}];if("v:h"===o)return[{x:t.x,y:i.y}];if("h:h"===o)return[{x:s,y:t.y},{x:s,y:i.y}];if("v:v"===o)return[{x:t.x,y:a},{x:i.x,y:a}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(t,i,o)}function Nqe(t,i,o,s,a,l){var p;return Rn(o)&&(a=o,l=s,o=wn(t),s=wn(i)),a=a||[],p=-1!==(l=Ae({preferredLayouts:[]},l)).preferredLayouts.indexOf("straight")&&function Fqe(t,i,o,s,a){var c,u,l={};return u=fa(t,i),/^(top|bottom|left|right)$/.test(u)?(/top|bottom/.test(u)&&(c="x"),/left|right/.test(u)&&(c="y"),"target"===a.preserveDocking?due(c,s,t)?(l[c]=s[c],[{x:void 0!==l.x?l.x:o.x,y:void 0!==l.y?l.y:o.y,original:{x:void 0!==l.x?l.x:o.x,y:void 0!==l.y?l.y:o.y}},{x:s.x,y:s.y}]):null:due(c,o,i)?(l[c]=o[c],[{x:o.x,y:o.y},{x:void 0!==l.x?l.x:s.x,y:void 0!==l.y?l.y:s.y,original:{x:void 0!==l.x?l.x:s.x,y:void 0!==l.y?l.y:s.y}}]):null):null}(t,i,o,s,l),p||(p=l.connectionEnd&&function jqe(t,i,o,s){var a=s.slice().reverse();return(a=vV(t,i,o,a))?a.reverse():null}(i,t,s,a),p)||(p=l.connectionStart&&function Bqe(t,i,o,s){return vV(t,i,o,s)}(t,i,o,a),p)?p:!l.connectionStart&&!l.connectionEnd&&a&&a.length?a:function Iqe(t,i,o,s,a){var c=Ci(a&&a.preferredLayouts||[],"straight")[0]||"h:h",p=fa(t,i,Dqe[c]||0),h=function $qe(t,i){if(pue(i))return i;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return i}}(p,c);o=o||wn(t),s=s||wn(i);var v=h.split(":"),y=fue(o,t,v[0],function zqe(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}(p));return function Aqe(t,i,o){var s=gV(t,i,o);return s.unshift(t),s.push(i),hue(s)}(y,fue(s,i,v[1],p),h)}(t,i,o,s,l)}function due(t,i,o){return function Lqe(t,i,o){return t>=i&&t<=o}(i[t],o[t],o[t]+o[{x:"width",y:"height"}[t]])}function vV(t,i,o,s){if(function a(v){return v.length<3||!(v.length>4)&&!!Kn(v,function(y,E){var S=v[E-1];return S&&n6(y,S)<3})}(s))return null;var h,u=s[0],p=s.slice();return p[0]=o,p[1]=function l(v,y,E){switch(Pf(y,v)){case"v":return{x:E.x,y:v.y};case"h":return{x:v.x,y:E.y}}return{x:v.x,y:v.y}}(p[1],u,o),(h=function c(v,y,E){var S;for(S=v.length-2;0!==S;S--)if(Uie(v[S],y,lue)||Uie(v[S],E,lue))return v.slice(S);return v}(p,t,i))!==p&&(p=vV(t,i,o,h)),p&&Pf(p)?null:p}function pue(t){return t&&/t|r|b|l/.test(t)}function fue(t,i,o,s){if("h"===o&&(o=/left/.test(s)?"l":"r"),"v"===o&&(o=/top/.test(s)?"t":"b"),"t"===o)return{original:t,x:t.x,y:i.y};if("r"===o)return{original:t,x:i.x+i.width,y:t.y};if("b"===o)return{original:t,x:t.x,y:i.y+i.height};if("l"===o)return{original:t,x:i.x,y:t.y};throw new Error("unexpected dockingDirection: <"+o+">")}function hue(t){return t.reduce(function(i,o,s){return qB(i[i.length-1],t[s+1],o,0)||i.push(o),i},[])}var Uqe=40,yV={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},wO={top:"t",right:"r",bottom:"b",left:"l"};function bV(){}function Wqe(t,i){return j(i,"bpmn:Participant")?"source":j(t,"bpmn:Participant")?"target":J6(i)?"source":J6(t)||j(i,"bpmn:Event")?"target":j(t,"bpmn:Event")?"source":null}function Yqe(t){return J6(t)?"target":"source"}function mue(t,i){return t?t.original||t:wn(i)}function gue(t,i){return j(i,"bpmn:Activity")&&j(t,"bpmn:BoundaryEvent")&&i.businessObject.isForCompensation}function J6(t){return j(t,"bpmn:SubProcess")&&hr(t)}function e8(t,i){return t===i}function t8(t){var i=/right|left/.exec(t);return i&&i[0]}function Dy(t){var i=/top|bottom/.exec(t);return i&&i[0]}function _V(t){return"right"===t||"left"===t}function eWe(t,i){var o=i.waypoints,s=o&&o.length&&fa(o[0],t);return"top"===s?["t:r"]:"right"===s?["r:b"]:"left"===s?["l:t"]:["b:l"]}function tWe(t,i,o){var c,u,s=wn(t),a=wn(i),l=function Gqe(t){var i=t.host;return fa(wn(t),i,-10)}(t),p=e8(t.host,i),h=function Kqe(t,i){return-1!==i.indexOf(t)}(l,["top","right","bottom","left"]),v=fa(a,s,{x:t.width/2+i.width/2,y:t.height/2+i.height/2});return p?function nWe(t,i,o,s,a){var l=i?t:Dy(t);return[wO[l]+":"+(i?_V(t)?vue("y",o,s,a)?"h":"b":vue("x",o,s,a)?"v":"l":"v")]}(l,h,t,i,o):(c=function rWe(t,i,o){return o?wO[t]:e8(Dy(t),Dy(i))||function Qqe(t,i){return yV[t]===i}(t8(t),t8(i))?wO[Dy(t)]:wO[t8(t)]}(l,v,h),u=function iWe(t,i,o){return o?_V(t)?function Zqe(t,i){var o=t8(t);return-1!==i.indexOf(yV[o])}(t,i)||e8(t,i)?"h":"v":function Jqe(t,i){var o=Dy(t);return-1!==i.indexOf(yV[o])}(t,i)||e8(t,i)?"v":"h":_V(i)||e8(Dy(t),Dy(i))&&t8(i)?"h":"v"}(l,v,h),[c+":"+u])}function vue(t,i,o,s){var a=Uqe;return!(EV(t,s,o,a)||EV(t,s,{x:o.x+o.width,y:o.y+o.height},a)||EV(t,s,wn(i),a))}function EV(t,i,o,s){return Math.abs(i[t]-o[t])<s}function yue(t){return Ae({original:t.point.original||t.point},t.actual)}function o1(t,i){this._elementRegistry=t,this._graphicsFactory=i}jt(bV,aue),bV.prototype.layoutConnection=function(t,i){i||(i={});var u,p,o=i.source||t.source,s=i.target||t.target,a=i.waypoints||t.waypoints,l=i.connectionStart,c=i.connectionEnd;return l||(l=mue(a&&a[0],o)),c||(c=mue(a&&a[a.length-1],s)),(j(t,"bpmn:Association")||j(t,"bpmn:DataAssociation"))&&a&&!gue(o,s)?[].concat([l],a.slice(1,-1),[c]):(j(t,"bpmn:MessageFlow")?u=function qqe(t,i){return{preferredLayouts:["straight","v:v"],preserveDocking:Wqe(t,i)}}(o,s):(j(t,"bpmn:SequenceFlow")||gue(o,s))&&(u=o===s?{preferredLayouts:eWe(o,t)}:j(o,"bpmn:BoundaryEvent")?{preferredLayouts:tWe(o,s,c)}:J6(o)||J6(s)?function Xqe(t){return{preferredLayouts:["straight","h:h"],preserveDocking:Yqe(t)}}(o):j(o,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:j(s,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),u&&(p=hue(Nqe(o,s,l,c,a,u=Ae(u,i)))),p||[l,c])},o1.$inject=["elementRegistry","graphicsFactory"],o1.prototype.getCroppedWaypoints=function(t,i,o){o=o||t.target;var s=this.getDockingPoint(t,i=i||t.source,!0),a=this.getDockingPoint(t,o),l=t.waypoints.slice(s.idx+1,a.idx);return l.unshift(yue(s)),l.push(yue(a)),l},o1.prototype.getDockingPoint=function(t,i,o){var a,l,s=t.waypoints;return{point:l=s[a=o?0:s.length-1],actual:this._getIntersection(i,t,o)||l,idx:a}},o1.prototype._getIntersection=function(t,i,o){return XB(this._getShapePath(t),this._getConnectionPath(i),o)},o1.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)},o1.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)},o1.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const oWe={__init__:["modeling","bpmnUpdater"],__depends__:[hGe,RGe,IGe,NGe,nle,XGe,KGe,nqe,Yd,hj,Bce],bpmnFactory:["type",Eu],bpmnUpdater:["type",Yl],elementFactory:["type",t1],modeling:["type",ga],layouter:["type",bV],connectionDocking:["type",o1]};var sWe=new fj("tt");function xV(t,i){t.style.display=!1===i?"none":""}var bue="djs-tooltip",wV="."+bue;function xl(t,i){this._eventBus=t,this._canvas=i,this._ids=sWe,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function aWe(t){var i=ui('<div class="djs-tooltip-container" />');return Ws(i,{position:"absolute",width:"0",height:"0"}),t.insertBefore(i,t.firstChild),i}(i.getContainer());var o=this;Ra.bind(this._tooltipRoot,wV,"mousedown",function(s){s.stopPropagation()}),Ra.bind(this._tooltipRoot,wV,"mouseover",function(s){o.trigger("mouseover",s)}),Ra.bind(this._tooltipRoot,wV,"mouseout",function(s){o.trigger("mouseout",s)}),this._init()}xl.$inject=["eventBus","canvas"],xl.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var i=this._ids.next();return t=Ae({},this._tooltipDefaults,t,{id:i}),this._addTooltip(t),t.timeout&&this.setTimeout(t),i},xl.prototype.trigger=function(t,i){var s=this.get(Ma(i.delegateTarget||i.target,"data-tooltip-id"));s&&("mouseover"===t&&s.timeout&&this.clearTimeout(s),"mouseout"===t&&s.timeout&&(s.timeout=1e3,this.setTimeout(s)))},xl.prototype.get=function(t){return"string"!=typeof t&&(t=t.id),this._tooltips[t]},xl.prototype.clearTimeout=function(t){if(t=this.get(t)){var i=t.removeTimer;i&&(clearTimeout(i),t.removeTimer=null)}},xl.prototype.setTimeout=function(t){if(t=this.get(t)){this.clearTimeout(t);var i=this;t.removeTimer=setTimeout(function(){i.remove(t)},t.timeout)}},xl.prototype.remove=function(t){var i=this.get(t);i&&(kd(i.html),kd(i.htmlContainer),delete i.htmlContainer,delete this._tooltips[i.id])},xl.prototype.show=function(){xV(this._tooltipRoot)},xl.prototype.hide=function(){xV(this._tooltipRoot,!1)},xl.prototype._updateRoot=function(t){var i=t.scale||1,o=t.scale||1,s="matrix("+i+",0,0,"+o+","+-1*t.x*i+","+-1*t.y*o+")";this._tooltipRoot.style.transform=s,this._tooltipRoot.style["-ms-transform"]=s},xl.prototype._addTooltip=function(t){var s,i=t.id,o=t.html,a=this._tooltipRoot;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),oa(o)&&(o=ui(o)),Ws(s=ui('<div data-tooltip-id="'+i+'" class="'+bue+'">'),{position:"absolute"}),s.appendChild(o),t.type&&Os(s).add("djs-tooltip-"+t.type),t.className&&Os(s).add(t.className),t.htmlContainer=s,a.appendChild(s),this._tooltips[i]=t,this._updateTooltip(t)},xl.prototype._updateTooltip=function(t){var i=t.position;!function lWe(t,i,o){Ws(t,{left:i+"px",top:o+"px"})}(t.htmlContainer,i.x,i.y)},xl.prototype._updateTooltipVisibilty=function(t){_e(this._tooltips,function(i){var o=i.show,a=!0;o&&((o.minZoom>t.scale||o.maxZoom<t.scale)&&(a=!1),xV(i.htmlContainer,a))})},xl.prototype._init=function(){var t=this;this._eventBus.on("canvas.viewbox.changing",function(o){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(o){!function i(o){t._updateRoot(o),t._updateTooltipVisibilty(o),t.show()}(o.viewbox)})};const cWe={__init__:["tooltips"],tooltips:["type",xl]};function _ue(t,i,o){t.on(["shape.move.rejected","create.rejected"],function(a){var l=a.context,c=l.shape;j(l.target,"bpmn:Collaboration")&&j(c,"bpmn:FlowNode")&&function s(a,l,c){i.add({position:{x:a.x+5,y:a.y+5},type:"error",timeout:c||2e3,html:"<div>"+l+"</div>"})}(a,o("flow elements must be children of pools/participants"))})}_ue.$inject=["eventBus","tooltips","translate"];const dWe={__depends__:[cWe],__init__:["modelingFeedback"],modelingFeedback:["type",_ue]};var SO=Math.round;function Eue(t,i,o,s,a){function l(u,p,h,v){return a.allowed("elements.move",{shapes:u,delta:p,position:h,target:v})}function c(u,p,h,v){if(Oo(h)&&(v=h,h=!1),!p.waypoints&&p.parent&&!cr(u.target).has("djs-hit-no-move")){var y=function mWe(t){return{x:t.x+SO(t.width/2),y:t.y+SO(t.height/2)}}(p);return i.init(u,y,"shape.move",{cursor:"grabbing",autoActivate:h,data:{shape:p,context:v||{}}}),!0}}t.on("shape.move.start",1500,function(u){var p=u.context,h=u.shape,v=s.get().slice();-1===v.indexOf(h)&&(v=[h]),v=function gWe(t){var i=Tv(t,"id");return On(t,function(o){for(;o=o.parent;)if(i[o.id])return!1;return!0})}(v),Ae(p,{shapes:v,validatedShapes:v,shape:h})}),t.on("shape.move.start",1250,function(u){var p=u.context;if(!(p.canExecute=l(p.validatedShapes)))return!1}),t.on("shape.move.move",500,function(u){var S,p=u.context,v=u.hover,y={x:u.dx,y:u.dy};S=l(p.validatedShapes,y,{x:u.x,y:u.y},v),p.delta=y,p.canExecute=S,p.target=null!==S?v:null}),t.on("shape.move.end",function(u){var p=u.context,h=p.delta,v=p.canExecute,y="attach"===v,E=p.shapes;if(!1===v)return!1;h.x=SO(h.x),h.y=SO(h.y),(0!==h.x||0!==h.y)&&o.moveElements(E,h,p.target,{primaryShape:p.shape,attach:y})}),t.on("element.mousedown",function(u){if(qm(u)){var p=T5(u);if(!p)throw new Error("must supply DOM mousedown event");return c(p,u.element)}}),this.start=c}Eue.$inject=["eventBus","dragging","modeling","selection","rules"];var SV="djs-dragging",wue="drop-ok",Sue="drop-not-ok",Cue="new-parent",Due="attach-ok";function Tue(t,i,o,s){function l(p){var h=e6(p,!0),v=ko(h,function(y){return(y.incoming||[]).concat(y.outgoing||[])});return Ix(h.concat(v))}function c(p,h){[Due,wue,Sue,Cue].forEach(function(v){v===h?i.addMarker(p,v):i.removeMarker(p,v)})}t.on("shape.move.start",499,function(p){var h=p.context,v=h.shapes,y=h.allDraggedElements,E=function a(p){var v=function vWe(t){var i=On(t,function(o){return!Di(o)||Kn(t,d0({id:o.source.id}))&&Kn(t,d0({id:o.target.id}))});return i}(l(p));return v}(v);if(!h.dragGroup){var S=sn("g");Dt(S,o.cls("djs-drag-group",["no-events"])),yn(i.getActiveLayer(),S),h.dragGroup=S}E.forEach(function(k){s.addDragger(k,h.dragGroup)}),_e(y=y?Ix([y,l(v)]):l(v),function(k){i.addMarker(k,SV)}),h.allDraggedElements=y,h.differentParents=function yWe(t){return 1!==function jbe(t){return M3(t).length}(Tv(t,function(i){return i.parent&&i.parent.id}))}(v)}),t.on("shape.move.move",499,function(p){var h=p.context,v=h.dragGroup,y=h.target;y&&c(y,"attach"===h.canExecute?Due:h.canExecute&&y&&y.id!==h.shape.parent.id?Cue:h.canExecute?wue:Sue),Xl(v,p.dx,p.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(p){var v=p.context.target;v&&c(v,null)}),t.on("shape.move.cleanup",function(p){var h=p.context,y=h.dragGroup;_e(h.allDraggedElements,function(E){i.removeMarker(E,SV)}),y&&mo(y)}),this.makeDraggable=function u(p,h,v){s.addDragger(h,p.dragGroup),v&&i.addMarker(h,SV),p.allDraggedElements?p.allDraggedElements.push(h):p.allDraggedElements=[h]}}Tue.$inject=["eventBus","canvas","styles","previewSupport"];const bWe={__depends__:[Q9,Yd,joe,Qd,Bf,C6],__init__:["move","movePreview"],move:["type",Eue],movePreview:["type",Tue]};var Pue=".djs-palette-toggle",_We=Pue+", .entry",CV="djs-palette-",DV="open",kue="two-column";function Lo(t,i){this._eventBus=t,this._canvas=i;var o=this;t.on("tool-manager.update",function(s){o.updateToolHighlight(s.tool)}),t.on("i18n.changed",function(){o._update()}),t.on("diagram.init",function(){o._diagramInitialized=!0,o._rebuild()})}function SWe(t,i){var o=i.getPaletteEntries();return Br(o)?o(t):(_e(o,function(s,a){t[a]=s}),t)}Lo.$inject=["eventBus","canvas"],Lo.prototype.registerProvider=function(t,i){i||(i=t,t=1e3),this._eventBus.on("palette.getProviders",t,function(o){o.providers.push(i)}),this._rebuild()},Lo.prototype.getEntries=function(){return this._getProviders().reduce(SWe,{})},Lo.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},Lo.prototype._init=function(){var t=this,i=this._eventBus,o=this._getParentContainer(),s=this._container=ui(Lo.HTML_MARKUP);o.appendChild(s),Os(o).add(CV+"shown"),Ra.bind(s,_We,"click",function(a){if(Bx(a.delegateTarget,Pue))return t.toggle();t.trigger("click",a)}),fn.bind(s,"mousedown",function(a){a.stopPropagation()}),Ra.bind(s,".entry","dragstart",function(a){t.trigger("dragstart",a)}),i.on("canvas.resized",this._layoutChanged,this),i.fire("palette.create",{container:s})},Lo.prototype._getProviders=function(t){var i=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(i),i.providers},Lo.prototype._toggleState=function(t){t=t||{};var a,i=this._getParentContainer(),s=this._eventBus,l=Os(this._container),c=Os(i);a="twoColumn"in t?t.twoColumn:this._needsCollapse(i.clientHeight,this._entries||{}),l.toggle(kue,a),c.toggle(CV+kue,a),"open"in t&&(l.toggle(DV,t.open),c.toggle(CV+DV,t.open)),s.fire("palette.changed",{twoColumn:a,open:this.isOpen()})},Lo.prototype._update=function(){var t=er(".djs-palette-entries",this._container),i=this._entries=this.getEntries();DD(t),_e(i,function(o,s){var a=o.group||"default",l=er("[data-group="+p6(a)+"]",t);l||(Ma(l=ui('<div class="group"></div>'),"data-group",a),t.appendChild(l));var u=ui(o.html||(o.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(l.appendChild(u),!o.separator&&(Ma(u,"data-action",s),o.title&&Ma(u,"title",o.title),o.className&&function wWe(t,i){var o=Os(t);(Rn(i)?i:i.split(/\s+/g)).forEach(function(a){o.add(a)})}(u,o.className),o.imageUrl)){var p=ui("<img>");Ma(p,"src",o.imageUrl),u.appendChild(p)}}),this.open()},Lo.prototype.trigger=function(t,i,o){var s,l=i.delegateTarget||i.target;return l?(s=Ma(l,"data-action"),this.triggerEntry(s,t,i.originalEvent||i,o)):i.preventDefault()},Lo.prototype.triggerEntry=function(t,i,o,s){var l,c;if((l=this._entries[t])&&(c=l.action,!1!==this._eventBus.fire("palette.trigger",{entry:l,event:o}))){if(Br(c)){if("click"===i)return c(o,s)}else if(c[i])return c[i](o,s);o.preventDefault()}},Lo.prototype._layoutChanged=function(){this._toggleState({})},Lo.prototype._needsCollapse=function(t,i){return t<46*Object.keys(i).length+50},Lo.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Lo.prototype.open=function(){this._toggleState({open:!0})},Lo.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Lo.prototype.isActiveTool=function(t){return t&&this._activeTool===t},Lo.prototype.updateToolHighlight=function(t){var i;this._toolsContainer||(i=er(".djs-palette-entries",this._container),this._toolsContainer=er("[data-group=tools]",i)),_e(this._toolsContainer.children,function(s){var a=s.getAttribute("data-action");if(a){var l=Os(s);a=a.replace("-tool",""),l.contains("entry")&&a===t?l.add("highlighted-entry"):l.remove("highlighted-entry")}})},Lo.prototype.isOpen=function(){return Os(this._container).has(DV)},Lo.prototype._getParentContainer=function(){return this._canvas.getContainer()},Lo.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const CWe={__init__:["palette"],palette:["type",Lo]};function Ty(t,i,o,s,a,l,c){this._selection=a,this._dragging=o,this._mouse=c;var u=this;l.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(h){!h.hover&&!(h.originalEvent.target instanceof SVGElement)||t.once("lasso.selection.ended",function(){u.activateLasso(h.originalEvent,!0)})}),t.on("lasso.end",function(h){var v=TV(h),y=s.filter(function(E){return E});u.select(y,v)}),t.on("lasso.start",function(h){var v=h.context;v.bbox=TV(h),function(h){var y,v=i.getActiveLayer();Dt(y=h.frame=sn("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),yn(v,y)}(v)}),t.on("lasso.move",function(h){var v=h.context;v.bbox=TV(h),function(h){var y=h.bbox;Dt(h.frame,{x:y.x,y:y.y,width:y.width,height:y.height})}(v)}),t.on("lasso.cleanup",function(h){!function(h){h.frame&&mo(h.frame)}(h.context)}),t.on("element.mousedown",1500,function(h){if(dj(h))return u.activateLasso(h.originalEvent),!0})}function TV(t){var i={x:t.x-t.dx,y:t.y-t.dy},o={x:t.x,y:t.y};return i.x<=o.x&&i.y<o.y||i.x<o.x&&i.y<=o.y?{x:i.x,y:i.y,width:o.x-i.x,height:o.y-i.y}:i.x>=o.x&&i.y<o.y||i.x>o.x&&i.y<=o.y?{x:o.x,y:i.y,width:i.x-o.x,height:o.y-i.y}:i.x<=o.x&&i.y>o.y||i.x<o.x&&i.y>=o.y?{x:i.x,y:o.y,width:o.x-i.x,height:i.y-o.y}:i.x>=o.x&&i.y>o.y||i.x>o.x&&i.y>=o.y?{x:o.x,y:o.y,width:i.x-o.x,height:i.y-o.y}:{x:o.x,y:o.y,width:0,height:0}}Ty.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Ty.prototype.activateLasso=function(t,i){this._dragging.init(t,"lasso",{autoActivate:i,cursor:"crosshair",data:{context:{}}})},Ty.prototype.activateSelection=function(t,i){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:i,cursor:"crosshair",data:{context:{}}})},Ty.prototype.select=function(t,i){var o=function XLe(t,i){var o={};return _e(t,function(s){var a=s;a.waypoints&&(a=Ao(a)),!mn(i.y)&&a.x>i.x&&(o[s.id]=s),!mn(i.x)&&a.y>i.y&&(o[s.id]=s),a.x>i.x&&a.y>i.y&&(mn(i.width)&&mn(i.height)&&a.width+a.x<i.width+i.x&&a.height+a.y<i.height+i.y||!mn(i.width)||!mn(i.height))&&(o[s.id]=s)}),o}(t,i);this._selection.select(VA(o))},Ty.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)},Ty.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};const DWe={__depends__:[oO,T6],__init__:["lassoTool"],lassoTool:["type",Ty]};function H5(t,i,o,s,a,l){this._dragging=o,this._mouse=l;var c=this,u=s.get("keyboard",!1);a.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",1500,function(p){if(P5(p))return c.activateMove(p.originalEvent,!0),!1}),u&&u.addListener(1500,function(p){if(Aue(p.keyEvent)&&!c.isActive()){var h=c._mouse.getLastMoveEvent();c.activateMove(h,!!h)}},"keyboard.keydown"),u&&u.addListener(1500,function(p){!Aue(p.keyEvent)||!c.isActive()||c.toggle()},"keyboard.keyup"),t.on("hand.end",function(p){if(!(p.hover||p.originalEvent.target instanceof SVGElement))return!1;t.once("hand.ended",function(){c.activateMove(p.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(p){var h=i.viewbox().scale;i.scroll({dx:p.dx*h,dy:p.dy*h})}),t.on("hand.move.end",function(p){var v=p.context.reactivate;return!P5(p)&&v&&t.once("hand.move.ended",function(y){c.activateHand(y.originalEvent,!0,!0)}),!1})}function Aue(t){return Is("Space",t)}H5.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],H5.prototype.activateMove=function(t,i,o){"object"==typeof i&&(o=i,i=!1),this._dragging.init(t,"hand.move",{autoActivate:i,cursor:"grab",data:{context:o||{}}})},H5.prototype.activateHand=function(t,i,o){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:i,cursor:"grab",data:{context:{reactivate:o}}})},H5.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)},H5.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^(hand|hand\.move)$/.test(t.prefix)};const TWe={__depends__:[oO,T6],__init__:["handTool"],handTool:["type",H5]};var Iue="connect-ok",Nue="connect-not-ok";function U5(t,i,o,s,a,l,c){var u=this;this._dragging=i,this._rules=l,this._mouse=c,a.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(p){var h=p.context,v=p.hover,y=h.canStartConnect=u.canStartConnect(v);null!==y&&(h.startTarget=v,s.addMarker(v,y?Iue:Nue))}),t.on(["global-connect.out","global-connect.cleanup"],function(p){var h=p.context.startTarget;h&&s.removeMarker(h,p.context.canStartConnect?Iue:Nue)}),t.on(["global-connect.ended"],function(p){var v=p.context.startTarget,y={x:p.x,y:p.y};if(u.canStartConnect(v))return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),o.start(null,v,y)}),!1})}U5.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],U5.prototype.start=function(t,i){this._dragging.init(t,"global-connect",{autoActivate:i,trapClick:!1,data:{context:{}}})},U5.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)},U5.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)},U5.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const PWe={__depends__:[e$,Qd,Bf,oO,T6],globalConnect:["type",U5]};function OV(t,i,o,s,a,l,c,u){this._palette=t,this._create=i,this._elementFactory=o,this._spaceTool=s,this._lassoTool=a,this._handTool=l,this._globalConnect=c,this._translate=u,t.registerProvider(this)}OV.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],OV.prototype.getPaletteEntries=function(){var t={},i=this._create,o=this._elementFactory,s=this._spaceTool,a=this._lassoTool,l=this._handTool,c=this._globalConnect,u=this._translate;function p(y,E,S,D,k){function R(N){var B=o.createShape(Ae({type:y},k));k&&(Pr(B).isExpanded=k.isExpanded),i.start(N,B)}var L=y.replace(/^bpmn:/,"");return{group:E,className:S,title:D||u("Create {type}",{type:L}),action:{dragstart:R,click:R}}}function h(y){var E=o.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),S=o.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:E});i.start(y,[E,S],{hints:{autoSelect:[E]}})}function v(y){i.start(y,o.createParticipantShape())}return Ae(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:u("Activate the hand tool"),action:{click:function(y){l.activateHand(y)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:u("Activate the lasso tool"),action:{click:function(y){a.activateSelection(y)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:u("Activate the create/remove space tool"),action:{click:function(y){s.activateSelection(y)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:u("Activate the global connect tool"),action:{click:function(y){c.start(y)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":p("bpmn:StartEvent","event","bpmn-icon-start-event-none",u("Create StartEvent")),"create.intermediate-event":p("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",u("Create Intermediate/Boundary Event")),"create.end-event":p("bpmn:EndEvent","event","bpmn-icon-end-event-none",u("Create EndEvent")),"create.exclusive-gateway":p("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",u("Create Gateway")),"create.task":p("bpmn:Task","activity","bpmn-icon-task",u("Create Task")),"create.data-object":p("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",u("Create DataObjectReference")),"create.data-store":p("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",u("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:u("Create expanded SubProcess"),action:{dragstart:h,click:h}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:u("Create Pool/Participant"),action:{dragstart:v,click:v}},"create.group":p("bpmn:Group","artifact","bpmn-icon-group",u("Create Group"))}),t};const OWe={__depends__:[CWe,CP,Bce,DWe,TWe,PWe,X9],__init__:["paletteProvider"],paletteProvider:["type",OV]};function kV(t,i,o,s,a){pt.call(this,t),t.on("shape.move.move",250,function(u){var p=u.context,h=p.canExecute;p.visualReplacements||(p.visualReplacements={}),h&&h.replacements?function l(u){_e(u.canExecute.replacements,function(h){var v=h.oldElementId,y={type:h.newElementType};if(!u.visualReplacements[v]){var E=i.get(v);Ae(y,{x:E.x,y:E.y});var S=o.createShape(y);s.addShape(S,E.parent);var D=er('[data-element-id="'+p6(E.id)+'"]',u.dragGroup);D&&Dt(D,{display:"none"});var k=a.addDragger(S,u.dragGroup);u.visualReplacements[v]=k,s.removeShape(S)}})}(p):function c(u){var p=u.visualReplacements;_e(p,function(h,v){var y=er('[data-element-id="'+p6(v)+'"]',u.dragGroup);y&&Dt(y,{display:"inline"}),h.remove(),p[v]&&delete p[v]})}(p)})}kV.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],jt(kV,pt);const MWe={__depends__:[C6],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",kV]};var Fue=["x","y"],NWe=Math.abs;function Bue(t){t.on(["connect.hover","connect.move","connect.end"],1250,function(i){var o=i.context,s=o.canExecute,a=o.start,l=o.hover,c=o.source,u=o.target;i.originalEvent&&Mc(i.originalEvent)||(o.initialConnectionStart||(o.initialConnectionStart=o.connectionStart),s&&l&&function LWe(t,i,o){Fue.forEach(function(s){var a=Vue(s,i);t[s]<i[s]+o?No(t,s,i[s]+o):t[s]>i[s]+a-o&&No(t,s,i[s]+a-o)})}(i,l,function $We(t){return j(t,"bpmn:Task")?10:20}(l)),l&&function jWe(t,i){return ff(i,function(o){return $ue(t,o)})}(s,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(o.connectionStart=mu(a),on(l,["bpmn:Event","bpmn:Gateway"])&&jue(i,mu(l)),on(l,["bpmn:Task","bpmn:SubProcess"])&&function FWe(t,i){var o=mu(i);Fue.forEach(function(s){(function VWe(t,i,o){return t[o]>i[o]+20&&t[o]<i[o]+Vue(o,i)-20})(t,i,s)&&No(t,s,o[s])})}(i,l),j(c,"bpmn:BoundaryEvent")&&u===c.host&&function BWe(t){var i=t.context,o=i.source,s=i.target;if(!function zWe(t){var i=t.hover,o=t.source;return i&&o&&i===o}(i)){var a=mu(o),l=fa(a,s,-10),c=[];/top|bottom/.test(l)&&c.push("x"),/left|right/.test(l)&&c.push("y"),c.forEach(function(u){var p=t[u];NWe(p-a[u])<40&&No(t,u,p>a[u]?a[u]+40:a[u]-40)})}}(i)):$ue(s,"bpmn:MessageFlow")?(j(a,"bpmn:Event")&&(o.connectionStart=mu(a)),j(l,"bpmn:Event")&&jue(i,mu(l))):o.connectionStart=o.initialConnectionStart)})}function jue(t,i){No(t,"x",i.x),No(t,"y",i.y)}function $ue(t,i){return t&&t.type===i}function Vue(t,i){return"x"===t?i.width:i.height}function s1(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function CO(){this._snapValues={}}Bue.$inject=["eventBus"],s1.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]},s1.prototype.setSnapOrigin=function(t,i){this._snapOrigins[t]=i,-1===this._snapLocations.indexOf(t)&&this._snapLocations.push(t)},s1.prototype.addDefaultSnap=function(t,i){var o=this._defaultSnaps[t];o||(o=this._defaultSnaps[t]=[]),o.push(i)},s1.prototype.getSnapLocations=function(){return this._snapLocations},s1.prototype.setSnapLocations=function(t){this._snapLocations=t},s1.prototype.pointsForTarget=function(t){var i=t.id||t,o=this._targets[i];return o||(o=this._targets[i]=new CO).initDefaults(this._defaultSnaps),o},CO.prototype.add=function(t,i){var o=this._snapValues[t];o||(o=this._snapValues[t]={x:[],y:[]}),-1===o.x.indexOf(i.x)&&o.x.push(i.x),-1===o.y.indexOf(i.y)&&o.y.push(i.y)},CO.prototype.snap=function(t,i,o,s){var a=this._snapValues[i];return a&&function tze(t,i,o){var s,a;for(o=void 0===o?10:o,s=0;s<i.length;s++)if(eze((a=i[s])-t)<=o)return a}(t[o],a[o],s)},CO.prototype.initDefaults=function(t){var i=this;_e(t||{},function(o,s){_e(o,function(a){i.add(s,a)})})};var HWe=1250;function Jd(t,i,o){var s=this;this._elementRegistry=t,i.on(["create.start","shape.move.start"],function(a){s.initSnap(a)}),i.on(["create.move","create.end","shape.move.move","shape.move.end"],HWe,function(a){var l=a.context,c=l.shape,u=l.snapContext,p=l.target;if((!a.originalEvent||!Mc(a.originalEvent))&&!F5(a)&&p){var h=u.pointsForTarget(p);h.initialized||((h=s.addSnapTargetPoints(h,c,p)).initialized=!0),o.snap(a,h)}}),i.on(["create.cleanup","shape.move.cleanup"],function(){o.hide()})}function G5(t,i){i.invoke(Jd,this),t.on(["create.move","create.end"],1500,XWe),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(o){var s=o.context,a=s.canExecute,l=s.target;a&&("attach"===a||a.attach)&&!F5(o)&&function GWe(t,i){var c,o=an(i),s=vce(t,i),l=t.context.shape;c=l.parent?{x:0,y:0}:wn(l),/top/.test(s)?No(t,"y",o.top-c.y):/bottom/.test(s)&&No(t,"y",o.bottom-c.y),/left/.test(s)?No(t,"x",o.left-c.x):/right/.test(s)&&No(t,"x",o.right-c.x)}(o,l)})}function XWe(t){var o=t.context.createConstraints;if(o){var s=o.top,a=o.right,l=o.bottom,c=o.left;(c&&c>=t.x||a&&a<=t.x)&&No(t,"x",t.x),(s&&s>=t.y||l&&l<=t.y)&&No(t,"y",t.y)}}function Hue(t,i){return-1!==t.indexOf(i)}function Uue(t,i,o){return i?{x:t.x-o.x,y:t.y-o.y}:{x:t.x,y:t.y}}function n8(t,i){var o=this;t.on(["resize.start"],function(s){o.initSnap(s)}),t.on(["resize.move","resize.end"],1250,function(s){var a=s.context,l=a.shape,c=l.parent,u=a.direction,p=a.snapContext;if(!(s.originalEvent&&Mc(s.originalEvent)||F5(s))){var h=p.pointsForTarget(c);h.initialized||((h=o.addSnapTargetPoints(h,l,c,u)).initialized=!0),function ZWe(t){return"n"===t||"s"===t}(u)&&No(s,"x",s.x),function JWe(t){return"e"===t||"w"===t}(u)&&No(s,"y",s.y),i.snap(s,h)}}),t.on(["resize.cleanup"],function(){i.hide()})}function Gue(t,i){var o=wn(t),s=an(t),a={x:o.x,y:o.y};return-1!==i.indexOf("n")?a.y=s.top:-1!==i.indexOf("s")&&(a.y=s.bottom),-1!==i.indexOf("e")?a.x=s.right:-1!==i.indexOf("w")&&(a.x=s.left),a}function a1(t){this._canvas=t,this._asyncHide=HA(pl(this.hide,this),1e3)}Jd.$inject=["elementRegistry","eventBus","snapping"],Jd.prototype.initSnap=function(t){var l,i=this._elementRegistry,o=t.context,s=o.shape,a=o.snapContext;a||(a=o.snapContext=new s1);var c_x=(l=i.get(s.id)?mu(s,t):{x:t.x+mu(s).x,y:t.y+mu(s).y}).x-s.width/2,c_y=l.y-s.height/2,u_x=l.x+s.width/2,u_y=l.y+s.height/2;return a.setSnapOrigin("mid",{x:l.x-t.x,y:l.y-t.y}),Rr(s)||(a.setSnapOrigin("top-left",{x:c_x-t.x,y:c_y-t.y}),a.setSnapOrigin("bottom-right",{x:u_x-t.x,y:u_y-t.y})),a},Jd.prototype.addSnapTargetPoints=function(t,i,o){return _e(this.getSnapTargets(i,o),function(a){if(Rr(a))Rr(i)&&t.add("mid",mu(a));else if(Di(a)){if(a.waypoints.length<3)return;_e(a.waypoints.slice(1,-1),function(c){t.add("mid",c)})}else t.add("mid",mu(a))}),!mn(i.x)||!mn(i.y)||this._elementRegistry.get(i.id)&&t.add("mid",mu(i)),t},Jd.prototype.getSnapTargets=function(t,i){return Cae(i).filter(function(o){return!function UWe(t){return!!t.hidden}(o)})},jt(G5,Jd),G5.$inject=["eventBus","injector"],G5.prototype.initSnap=function(t){var i=Jd.prototype.initSnap.call(this,t),o=t.shape,s=!!this._elementRegistry.get(o.id);return _e(o.outgoing,function(a){var l=a.waypoints[0];i.setSnapOrigin(a.id+"-docking",Uue(l=l.original||l,s,t))}),_e(o.incoming,function(a){var l=a.waypoints[a.waypoints.length-1];i.setSnapOrigin(a.id+"-docking",Uue(l=l.original||l,s,t))}),j(o,"bpmn:Participant")&&i.setSnapLocations(["top-left","bottom-right","mid"]),i},G5.prototype.addSnapTargetPoints=function(t,i,o){Jd.prototype.addSnapTargetPoints.call(this,t,i,o);var s=this.getSnapTargets(i,o);_e(s,function(l){(function WWe(t){return!(!j(t,"bpmn:SubProcess")||!hr(t))||j(t,"bpmn:Participant")}(l)||function qWe(t,i){return t.every(function(o){return j(o,i)})}([i,l],"bpmn:TextAnnotation"))&&(t.add("top-left",wae(l)),t.add("bottom-right",Sae(l)))});var a=this._elementRegistry;return _e(i.incoming,function(l){if(a.get(i.id)){Hue(s,l.source)||t.add("mid",wn(l.source));var c=l.waypoints[0];t.add(l.id+"-docking",c.original||c)}}),_e(i.outgoing,function(l){if(a.get(i.id)){Hue(s,l.target)||t.add("mid",wn(l.target));var c=l.waypoints[l.waypoints.length-1];t.add(l.id+"-docking",c.original||c)}}),j(o,"bpmn:SequenceFlow")&&(t=this.addSnapTargetPoints(t,i,o.parent)),t},G5.prototype.getSnapTargets=function(t,i){return Jd.prototype.getSnapTargets.call(this,t,i).filter(function(o){return!j(o,"bpmn:Lane")})},n8.prototype.initSnap=function(t){var i=t.context,o=i.shape,s=i.direction,a=i.snapContext;a||(a=i.snapContext=new s1);var l=Gue(o,s);return a.setSnapOrigin("corner",{x:l.x-t.x,y:l.y-t.y}),a},n8.prototype.addSnapTargetPoints=function(t,i,o,s){return _e(this.getSnapTargets(i,o),function(l){t.add("corner",Sae(l)),t.add("corner",wae(l))}),t.add("corner",Gue(i,s)),t},n8.$inject=["eventBus","snapping"],n8.prototype.getSnapTargets=function(t,i){return Cae(i).filter(function(o){return!(function KWe(t,i){return t.host===i}(o,t)||Di(o)||function QWe(t){return!!t.hidden}(o)||Rr(o))})},a1.$inject=["canvas"],a1.prototype.snap=function(t,i){var s=t.context.snapContext,a=s.getSnapLocations(),l={x:F5(t,"x"),y:F5(t,"y")};_e(a,function(c){var u=s.getSnapOrigin(c),p={x:t.x+u.x,y:t.y+u.y};if(_e(["x","y"],function(h){var v;l[h]||void 0!==(v=i.snap(p,c,h,7))&&(l[h]={value:v,originValue:v-u[h]})}),l.x&&l.y)return!1}),this.showSnapLine("vertical",l.x&&l.x.value),this.showSnapLine("horizontal",l.y&&l.y.value),_e(["x","y"],function(c){var u=l[c];Oo(u)&&No(t,c,u.originValue)})},a1.prototype._createLine=function(t){var i=this._canvas.getLayer("snap"),o=sn("path");return Dt(o,{d:"M0,0 L0,0"}),cr(o).add("djs-snap-line"),yn(i,o),{update:function(s){mn(s)?Dt(o,"horizontal"===t?{d:"M-100000,"+s+" L+100000,"+s,display:""}:{d:"M "+s+",-100000 L "+s+", +100000",display:""}):Dt(o,{display:"none"})}}},a1.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},a1.prototype.showSnapLine=function(t,i){var o=this.getSnapLine(t);o&&o.update(i),this._asyncHide()},a1.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]},a1.prototype.hide=function(){_e(this._snapLines,function(t){t.update()})};const nXe={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Jd],resizeSnapping:["type",n8],snapping:["type",a1]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",Bue],createMoveSnapping:["type",G5]};function Tn(t,i,o,s){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=t,this._eventBus=i,this._overlays=o,this._selection=s,this._container=ui(Tn.BOX_HTML),this._searchInput=er(Tn.INPUT_SELECTOR,this._container),this._resultsContainer=er(Tn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),i.on(["canvas.destroy","diagram.destroy"],this.close,this)}function que(t,i,o){var s=function iXe(t){var i="";return t.forEach(function(o){i+=o.matched?'<strong class="'+Tn.RESULT_HIGHLIGHT_CLASS+'">'+gj(o.matched)+"</strong>":gj(o.normal)}),""!==i?i:null}(i),a=ui(o);a.innerHTML=s,t.appendChild(a)}Tn.$inject=["canvas","eventBus","overlays","selection"],Tn.prototype._bindEvents=function(){var t=this;function i(o,s,a,l){t._eventMaps.push({el:o,type:a,listener:Ra.bind(o,s,a,l)})}i(document,"html","click",function(o){t.close()}),i(this._container,Tn.INPUT_SELECTOR,"click",function(o){o.stopPropagation(),o.delegateTarget.focus()}),i(this._container,Tn.RESULT_SELECTOR,"mouseover",function(o){o.stopPropagation(),t._scrollToNode(o.delegateTarget),t._preselect(o.delegateTarget)}),i(this._container,Tn.RESULT_SELECTOR,"click",function(o){o.stopPropagation(),t._select(o.delegateTarget)}),i(this._container,Tn.INPUT_SELECTOR,"keydown",function(o){Is("ArrowUp",o)&&o.preventDefault(),Is("ArrowDown",o)&&o.preventDefault()}),i(this._container,Tn.INPUT_SELECTOR,"keyup",function(o){if(Is("Escape",o))return t.close();if(Is("Enter",o)){var s=t._getCurrentResult();return s?t._select(s):t.close()}return Is("ArrowUp",o)?t._scrollToDirection(!0):Is("ArrowDown",o)?t._scrollToDirection():void(Is(["ArrowLeft","ArrowRight"],o)||t._search(o.delegateTarget.value))})},Tn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(t){Ra.unbind(t.el,t.type,t.listener)})},Tn.prototype._search=function(t){var i=this;if(this._clearResults(),t&&""!==t){var o=this._searchProvider.find(t);if(o.length){o.forEach(function(a){var l=a.element.id,c=i._createResultNode(a,l);i._results[l]={element:a.element,node:c}});var s=er(Tn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(s),this._preselect(s)}}},Tn.prototype._scrollToDirection=function(t){var i=this._getCurrentResult();if(i){var o=t?i.previousElementSibling:i.nextElementSibling;o&&(this._scrollToNode(o),this._preselect(o))}},Tn.prototype._scrollToNode=function(t){if(t&&t!==this._getCurrentResult()){var i=t.offsetTop,o=this._resultsContainer.scrollTop,s=i-this._resultsContainer.clientHeight+t.clientHeight;i<o?this._resultsContainer.scrollTop=i:o<s&&(this._resultsContainer.scrollTop=s)}},Tn.prototype._clearResults=function(){DD(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Tn.prototype._getCurrentResult=function(){return er(Tn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Tn.prototype._createResultNode=function(t,i){var o=ui(Tn.RESULT_HTML);return t.primaryTokens.length>0&&que(o,t.primaryTokens,Tn.RESULT_PRIMARY_HTML),que(o,t.secondaryTokens,Tn.RESULT_SECONDARY_HTML),Ma(o,Tn.RESULT_ID_ATTRIBUTE,i),this._resultsContainer.appendChild(o),o},Tn.prototype.registerProvider=function(t){this._searchProvider=t},Tn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Os(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Tn.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Os(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Tn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Tn.prototype.isOpen=function(){return this._open},Tn.prototype._preselect=function(t){var i=this._getCurrentResult();if(t!==i){i&&Os(i).remove(Tn.RESULT_SELECTED_CLASS);var o=Ma(t,Tn.RESULT_ID_ATTRIBUTE),s=this._results[o].element;Os(t).add(Tn.RESULT_SELECTED_CLASS),this._resetOverlay(s),this._canvas.scrollToElement(s,{top:400}),this._selection.select(s),this._eventBus.fire("searchPad.preselected",s)}},Tn.prototype._select=function(t){var i=Ma(t,Tn.RESULT_ID_ATTRIBUTE),o=this._results[i].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(o,{top:400}),this._selection.select(o),this._eventBus.fire("searchPad.selected",o)},Tn.prototype._resetOverlay=function(t){if(this._overlayId&&this._overlays.remove(this._overlayId),t){var o=function rXe(t){var o=t.width+12,s=t.height+12,a={width:o+"px",height:s+"px"},l=ui('<div class="'+Tn.OVERLAY_CLASS+'"></div>');return Ws(l,a),{position:{bottom:s-6,right:o-6},show:!0,html:l}}(Ao(t));this._overlayId=this._overlays.add(t,o)}},Tn.CONTAINER_SELECTOR=".djs-search-container",Tn.INPUT_SELECTOR=".djs-search-input input",Tn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Tn.RESULT_SELECTOR=".djs-search-result",Tn.RESULT_SELECTED_SELECTOR="."+(Tn.RESULT_SELECTED_CLASS="djs-search-result-selected"),Tn.RESULT_ID_ATTRIBUTE="data-result-id",Tn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Tn.OVERLAY_CLASS="djs-search-overlay",Tn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Tn.RESULT_HTML='<div class="djs-search-result"></div>',Tn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Tn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const oXe={__depends__:[eP,Yd],searchPad:["type",Tn]};function RV(t,i,o){this._elementRegistry=t,this._canvas=o,i.registerProvider(this)}function Wue(t){return On(t,function(o){return!!o.matched}).length>0}function Xue(t,i){var o=[],s=t;if(!t)return o;t=t.toLowerCase(),i=i.toLowerCase();var a=t.indexOf(i);return a>-1?(0!==a&&o.push({normal:s.substr(0,a)}),o.push({matched:s.substr(a,i.length)}),i.length+a<t.length&&o.push({normal:s.substr(i.length+a,t.length)})):o.push({normal:s}),o}RV.$inject=["elementRegistry","searchPad","canvas"],RV.prototype.find=function(t){var i=this._canvas.getRootElement(),o=this._elementRegistry.filter(function(s){return!s.labelTarget});return o=On(o,function(s){return s!==i}),os(o=On(o=ko(o,function(s){return{primaryTokens:Xue(Tc(s),t),secondaryTokens:Xue(s.id,t),element:s}}),function(s){return Wue(s.primaryTokens)||Wue(s.secondaryTokens)}),function(s){return Tc(s.element)+s.element.id})};const sXe={__depends__:[oXe],__init__:["bpmnSearch"],bpmnSearch:["type",RV]};function ep(t){c6.call(this,t)}function lXe(t){return[{id:"custom",element:t,component:cXe,isEdited:Pt}]}function cXe(t){const{element:i,id:o}=t,s=F("modeling"),a=F("translate"),l=F("debounceInput"),p=a("Custom property"),h=a("Custom property description");return new ot({id:o,element:i,getValue:()=>i.businessObject.custom||"",setValue:v=>s.updateProperties(i,{custom:v}),debounce:l,title:p,description:h})}function Yue(t,i){this.getGroups=function(o){return function(s){return j(o,"bpmn:StartEvent")&&s.push(function dXe(t,i){return{id:"custom",label:i("Custom properties"),entries:lXe(t)}}(o,i)),s}},t.registerProvider(500,this)}jt(ep,c6),ep.Viewer=Xm,ep.NavigatedViewer=h6,ep.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},ep.prototype._modules=[].concat(Xm.prototype._modules,ep.prototype._interactionModules=[nse,sse,N$e,cse],ep.prototype._modelingModules=[fVe,Kse,FVe,MVe,rze,e$,cze,fHe,Qae,CP,yHe,EHe,LHe,jHe,$He,GHe,rUe,oWe,dWe,bWe,OWe,MWe,Ple,nXe,sXe]),Yue.$inject=["propertiesPanel","translate"];const pXe={__init__:["customPropertiesProvider"],customPropertiesProvider:["type",Yue]};var fXe=zn(578);const hXe=["diagramRef"],mXe=["propertiesRef"],gXe=zn(343);zn(973);let vXe=(()=>{class t{constructor(){this.xml='<?xml version="1.0" encoding="UTF-8"?>\n  <bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn">\n    <bpmn2:process id="Process_1" isExecutable="false">\n      <bpmn2:startEvent id="StartEvent_1"/>\n    </bpmn2:process>\n    <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n      <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n        <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n          <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>\n        </bpmndi:BPMNShape>\n      </bpmndi:BPMNPlane>\n    </bpmndi:BPMNDiagram>\n  </bpmn2:definitions>',this.fileLoadedFile=new ts,this.bpmnJS=new ep({container:this.diagramRef?.nativeElement,propertiesPanel:{parent:this.propertiesRef},additionalModules:[mTe,G9e,pXe],moddleExtensions:{custom:gXe}})}ngAfterContentInit(){this.bpmnJS.attachTo(this.diagramRef.nativeElement),this.bpmnJS.get("propertiesPanel").attachTo(this.propertiesRef.nativeElement),this.importDiagram(this.xml)}ngOnDestroy(){this.bpmnJS.destroy()}importDiagram(o){return Ps(this.bpmnJS.importXML(o))}save(){this.bpmnJS?.saveXML().then(o=>{const s=o.xml;if(void 0!==s){const a=new Blob([s],{type:"text/xml"});(0,fXe.saveAs)(a,"model.bpmn")}}).catch(function(o){console.log(o)})}new(){}convert(){}onFileSelected(o){console.log(o);const s=o.target.files[0];if(s&&s instanceof File){this.fileName=s.name;const a=new FileReader;a.readAsBinaryString(s),this.fileLoadedFile.subscribe(c=>{this.importDiagram(c)});const l=this;a.onload=c=>{a.result instanceof ArrayBuffer?l.fileLoaded.emit(String.fromCharCode.apply(null,a.result)):null!==a.result&&l.fileLoadedFile.emit(a.result)},a.onerror=function(c){console.log("Error: ",c)}}}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=S1({type:t,selectors:[["app-diagram"]],viewQuery:function(s,a){if(1&s&&(JM(hXe,7),JM(mXe,7)),2&s){let l;_C(l=EC())&&(a.diagramRef=l.first),_C(l=EC())&&(a.propertiesRef=l.first)}},decls:13,vars:0,consts:[["diagramRef",""],["propertiesRef",""],["layout","row","layout-align","space-between left"],["color","primary","mat-button","",3,"click"],["type","file",1,"file-upload",3,"change"],[1,"container"],[1,"diagram-container"],[1,"properties-container"]],template:function(s,a){if(1&s){const l=function Bz(){return We()}();yv(0,"div",2)(1,"button",3),o3("click",function(){return fh(l),Qa(a.new())}),rx(2,"New"),dm(),rx(3,"\xa0 "),yv(4,"input",4),o3("change",function(u){return fh(l),Qa(a.onFileSelected(u))}),dm(),yv(5,"button",3),o3("click",function(){return fh(l),Qa(a.save())}),rx(6,"Save"),dm(),rx(7,"\xa0 "),dm(),yv(8,"div",5),KE(9,"div",6,0)(11,"div",7,1),dm()}},styles:[".diagram-container[_ngcontent-%COMP%]{width:80%;height:800px;flex-grow:4}.properties-container[_ngcontent-%COMP%]{width:20%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%;height:100%}"]})}return t})(),yXe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=S1({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(s,a){1&s&&KE(0,"app-diagram")},dependencies:[vXe]})}return t})();class DO{}class TO{}class xu{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(o=>{const s=o.indexOf(":");if(s>0){const a=o.slice(0,s),l=a.toLowerCase(),c=o.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((o,s)=>{this.setHeaderEntries(s,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([o,s])=>{this.setHeaderEntries(o,s)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const o=this.headers.get(i.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,o){return this.clone({name:i,value:o,op:"a"})}set(i,o){return this.clone({name:i,value:o,op:"s"})}delete(i,o){return this.clone({name:i,value:o,op:"d"})}maybeSetNormalizedName(i,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,i)}init(){this.lazyInit&&(this.lazyInit instanceof xu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(o=>{this.headers.set(o,i.headers.get(o)),this.normalizedNames.set(o,i.normalizedNames.get(o))})}clone(i){const o=new xu;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof xu?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([i]),o}applyUpdate(i){const o=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,o);const a=("a"===i.op?this.headers.get(o):void 0)||[];a.push(...s),this.headers.set(o,a);break;case"d":const l=i.value;if(l){let c=this.headers.get(o);if(!c)return;c=c.filter(u=>-1===l.indexOf(u)),0===c.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,c)}else this.headers.delete(o),this.normalizedNames.delete(o)}}setHeaderEntries(i,o){const s=(Array.isArray(o)?o:[o]).map(l=>l.toString()),a=i.toLowerCase();this.headers.set(a,s),this.maybeSetNormalizedName(i,a)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>i(this.normalizedNames.get(o),this.headers.get(o)))}}class bXe{encodeKey(i){return Kue(i)}encodeValue(i){return Kue(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const EXe=/%(\d[a-f0-9])/gi,xXe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kue(t){return encodeURIComponent(t).replace(EXe,(i,o)=>xXe[o]??i)}function PO(t){return`${t}`}class l1{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new bXe,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _Xe(t,i){const o=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[c,u]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],p=o.get(c)||[];p.push(u),o.set(c,p)}),o}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(o=>{const s=i.fromObject[o],a=Array.isArray(s)?s.map(PO):[PO(s)];this.map.set(o,a)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const o=this.map.get(i);return o?o[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,o){return this.clone({param:i,value:o,op:"a"})}appendAll(i){const o=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{o.push({param:s,value:l,op:"a"})}):o.push({param:s,value:a,op:"a"})}),this.clone(o)}set(i,o){return this.clone({param:i,value:o,op:"s"})}delete(i,o){return this.clone({param:i,value:o,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const o=this.encoder.encodeKey(i);return this.map.get(i).map(s=>o+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const o=new l1({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(i),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const o=("a"===i.op?this.map.get(i.param):void 0)||[];o.push(PO(i.value)),this.map.set(i.param,o);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(PO(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class wXe{constructor(){this.map=new Map}set(i,o){return this.map.set(i,o),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function Que(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Zue(t){return typeof Blob<"u"&&t instanceof Blob}function Jue(t){return typeof FormData<"u"&&t instanceof FormData}class r8{constructor(i,o,s,a){let l;if(this.url=o,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function SXe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new xu,this.context??=new wXe,this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=o;else{const u=o.indexOf("?");this.urlWithParams=o+(-1===u?"?":u<o.length-1?"&":"")+c}}else this.params=new l1,this.urlWithParams=o}serializeBody(){return null===this.body?null:"string"==typeof this.body||Que(this.body)||Zue(this.body)||Jue(this.body)||function CXe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof l1?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jue(this.body)?null:Zue(this.body)?this.body.type||null:Que(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof l1?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const o=i.method||this.method,s=i.url||this.url,a=i.responseType||this.responseType,l=i.transferCache??this.transferCache,c=void 0!==i.body?i.body:this.body,u=i.withCredentials??this.withCredentials,p=i.reportProgress??this.reportProgress;let h=i.headers||this.headers,v=i.params||this.params;const y=i.context??this.context;return void 0!==i.setHeaders&&(h=Object.keys(i.setHeaders).reduce((E,S)=>E.set(S,i.setHeaders[S]),h)),i.setParams&&(v=Object.keys(i.setParams).reduce((E,S)=>E.set(S,i.setParams[S]),v)),new r8(o,s,c,{params:v,headers:h,context:y,reportProgress:p,responseType:a,withCredentials:u,transferCache:l})}}var c1=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(c1||{});class AV{constructor(i,o=i8.Ok,s="OK"){this.headers=i.headers||new xu,this.status=void 0!==i.status?i.status:o,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class OO extends AV{constructor(i={}){super(i),this.type=c1.ResponseHeader}clone(i={}){return new OO({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Py extends AV{constructor(i={}){super(i),this.type=c1.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new Py({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class q5 extends AV{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}var i8=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(i8||{});function IV(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let DXe=(()=>{class t{constructor(o){this.handler=o}request(o,s,a={}){let l;if(o instanceof r8)l=o;else{let p,h;p=a.headers instanceof xu?a.headers:new xu(a.headers),a.params&&(h=a.params instanceof l1?a.params:new l1({fromObject:a.params})),l=new r8(o,s,void 0!==a.body?a.body:null,{headers:p,context:a.context,params:h,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}const c=Bn(l).pipe(p3(p=>this.handler.handle(p)));if(o instanceof r8||"events"===a.observe)return c;const u=c.pipe(lf(p=>p instanceof Py));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(Sr(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe(Sr(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe(Sr(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return u.pipe(Sr(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(o,s={}){return this.request("DELETE",o,s)}get(o,s={}){return this.request("GET",o,s)}head(o,s={}){return this.request("HEAD",o,s)}jsonp(o,s){return this.request("JSONP",o,{params:(new l1).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,s={}){return this.request("OPTIONS",o,s)}patch(o,s,a={}){return this.request("PATCH",o,IV(a,s))}post(o,s,a={}){return this.request("POST",o,IV(a,s))}put(o,s,a={}){return this.request("PUT",o,IV(a,s))}static#e=this.\u0275fac=function(s){return new(s||t)(un(DO))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();function t0e(t,i){return i(t)}function MXe(t,i){return(o,s)=>i.intercept(o,{handle:a=>t(a,s)})}const AXe=new At(""),o8=new At(""),n0e=new At(""),r0e=new At("");function IXe(){let t=null;return(i,o)=>{null===t&&(t=(tt(AXe,{optional:!0})??[]).reduceRight(MXe,t0e));const s=tt(_r),a=s.add();return t(i,o).pipe(vx(()=>s.remove(a)))}}let i0e=(()=>{class t extends DO{constructor(o,s){super(),this.backend=o,this.injector=s,this.chain=null,this.pendingTasks=tt(_r);const a=tt(r0e,{optional:!0});this.backend=a??o}handle(o){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(o8),...this.injector.get(n0e,[])]));this.chain=a.reduceRight((l,c)=>function RXe(t,i,o){return(s,a)=>es(o,()=>i(s,l=>t(l,a)))}(l,c,this.injector),t0e)}const s=this.pendingTasks.add();return this.chain(o,a=>this.backend.handle(a)).pipe(vx(()=>this.pendingTasks.remove(s)))}static#e=this.\u0275fac=function(s){return new(s||t)(un(TO),un(qr))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();const jXe=/^\)\]\}',?\n/;let s0e=(()=>{class t{constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new it(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?Ps(s.\u0275loadImpl()):Bn(null)).pipe(l0(()=>new Nr(l=>{const c=s.build();if(c.open(o.method,o.urlWithParams),o.withCredentials&&(c.withCredentials=!0),o.headers.forEach((k,R)=>c.setRequestHeader(k,R.join(","))),o.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){const k=o.detectContentTypeHeader();null!==k&&c.setRequestHeader("Content-Type",k)}if(o.responseType){const k=o.responseType.toLowerCase();c.responseType="json"!==k?k:"text"}const u=o.serializeBody();let p=null;const h=()=>{if(null!==p)return p;const k=c.statusText||"OK",R=new xu(c.getAllResponseHeaders()),L=function $Xe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(c)||o.url;return p=new OO({headers:R,status:c.status,statusText:k,url:L}),p},v=()=>{let{headers:k,status:R,statusText:L,url:N}=h(),B=null;R!==i8.NoContent&&(B=typeof c.response>"u"?c.responseText:c.response),0===R&&(R=B?i8.Ok:0);let $=R>=200&&R<300;if("json"===o.responseType&&"string"==typeof B){const q=B;B=B.replace(jXe,"");try{B=""!==B?JSON.parse(B):null}catch(ee){B=q,$&&($=!1,B={error:ee,text:B})}}$?(l.next(new Py({body:B,headers:k,status:R,statusText:L,url:N||void 0})),l.complete()):l.error(new q5({error:B,headers:k,status:R,statusText:L,url:N||void 0}))},y=k=>{const{url:R}=h(),L=new q5({error:k,status:c.status||0,statusText:c.statusText||"Unknown Error",url:R||void 0});l.error(L)};let E=!1;const S=k=>{E||(l.next(h()),E=!0);let R={type:c1.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),"text"===o.responseType&&c.responseText&&(R.partialText=c.responseText),l.next(R)},D=k=>{let R={type:c1.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),l.next(R)};return c.addEventListener("load",v),c.addEventListener("error",y),c.addEventListener("timeout",y),c.addEventListener("abort",y),o.reportProgress&&(c.addEventListener("progress",S),null!==u&&c.upload&&c.upload.addEventListener("progress",D)),c.send(u),l.next({type:c1.Sent}),()=>{c.removeEventListener("error",y),c.removeEventListener("abort",y),c.removeEventListener("load",v),c.removeEventListener("timeout",y),o.reportProgress&&(c.removeEventListener("progress",S),null!==u&&c.upload&&c.upload.removeEventListener("progress",D)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(s){return new(s||t)(un(FG))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();const FV=new At(""),a0e=new At("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),l0e=new At("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class c0e{}let HXe=(()=>{class t{constructor(o,s,a){this.doc=o,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=PG(o,this.cookieName),this.lastCookieString=o),this.lastToken}static#e=this.\u0275fac=function(s){return new(s||t)(un(vc),un(Uo),un(a0e))};static#t=this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}return t})();function UXe(t,i){const o=t.url.toLowerCase();if(!tt(FV)||"GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return i(t);const s=tt(c0e).getToken(),a=tt(l0e);return null!=s&&!t.headers.has(a)&&(t=t.clone({headers:t.headers.set(a,s)})),i(t)}var u1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(u1||{});function GXe(...t){const i=[DXe,s0e,i0e,{provide:DO,useExisting:i0e},{provide:TO,useExisting:s0e},{provide:o8,useValue:UXe,multi:!0},{provide:FV,useValue:!0},{provide:c0e,useClass:HXe}];for(const o of t)i.push(...o.\u0275providers);return function C1(t){return{\u0275providers:t}}(i)}const u0e=new At("");function qXe(){return function Oy(t,i){return{\u0275kind:t,\u0275providers:i}}(u1.LegacyInterceptors,[{provide:u0e,useFactory:IXe},{provide:o8,useExisting:u0e,multi:!0}])}let WXe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=Bs({type:t});static#n=this.\u0275inj=Yr({providers:[GXe(qXe())]})}return t})(),JXe=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=Bs({type:t,bootstrap:[yXe]});static#n=this.\u0275inj=Yr({imports:[Xge,wbe,WXe]})}return t})();qge().bootstrapModule(JXe).catch(t=>console.error(t))},973:function(Ar,Kt,zn){var Lt=zn(293).default;Ar.exports=function(){"use strict";function Ye(d,f){f&&(d.super_=f,d.prototype=Object.create(f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}))}var d,f,ct=(d=function(d){var f=d.exports=function(m,g){if(g||(g=16),void 0===m&&(m=128),m<=0)return"0";for(var b=Math.log(Math.pow(2,m))/Math.log(g),_=2;b===1/0;_*=2)b=Math.log(Math.pow(2,m/_))/Math.log(g)*_;var x=b-Math.floor(b),w="";for(_=0;_<Math.floor(b);_++)w=Math.floor(Math.random()*g).toString(g)+w;if(x){var C=Math.pow(g,x);w=Math.floor(Math.random()*C).toString(g)+w}var T=parseInt(w,g);return T!==1/0&&T>=Math.pow(2,m)?f(m,g):w};f.rack=function(m,g,b){var _=function(w){var C=0;do{if(C++>10){if(!b)throw new Error("too many ID collisions, use more bits");m+=b}var T=f(m,g)}while(Object.hasOwnProperty.call(x,T));return x[T]=w,T},x=_.hats={};return _.get=function(w){return _.hats[w]},_.set=function(w,C){return _.hats[w]=C,_},_.bits=m||128,_.base=g||16,_}},d(f={exports:{}}),f.exports);function Bt(d){if(!(this instanceof Bt))return new Bt(d);this._seed=(d=d||[128,36,1]).length?ct.rack(d[0],d[1],d[2]):d}function en(d){return Array.prototype.concat.apply([],d)}Bt.prototype.next=function(d){return this._seed(d||!0)},Bt.prototype.nextPrefixed=function(d,f){var m;do{m=d+this.next(!0)}while(this.assigned(m));return this.claim(m,f),m},Bt.prototype.claim=function(d,f){this._seed.set(d,f||!0)},Bt.prototype.assigned=function(d){return this._seed.get(d)||!1},Bt.prototype.unclaim=function(d){delete this._seed.hats[d]},Bt.prototype.clear=function(){var d,f=this._seed.hats;for(d in f)this.unclaim(d)};const nt=Object.prototype.toString,rt=Object.prototype.hasOwnProperty;function ht(d){return void 0===d}function tn(d){return void 0!==d}function Ht(d){return null==d}function ut(d){return"[object Array]"===nt.call(d)}function Sn(d){return"[object Object]"===nt.call(d)}function at(d){return"[object Number]"===nt.call(d)}function xn(d){const f=nt.call(d);return"[object Function]"===f||"[object AsyncFunction]"===f||"[object GeneratorFunction]"===f||"[object AsyncGeneratorFunction]"===f||"[object Proxy]"===f}function Or(d){return"[object String]"===nt.call(d)}function gn(d,f){return rt.call(d,f)}function ln(d,f){const m=ls(f);let g;return ge(d,function(b,_){if(m(b,_))return g=b,!1}),g}function oo(d,f){const m=ls(f);let g=ut(d)?-1:void 0;return ge(d,function(b,_){if(m(b,_))return g=_,!1}),g}function Ot(d,f){const m=ls(f);let g=[];return ge(d,function(b,_){m(b,_)&&g.push(b)}),g}function ge(d,f){let m,g;if(ht(d))return;const b=ut(d)?je:ba;for(let _ in d)if(gn(d,_)&&(m=d[_],g=f(m,b(_)),!1===g))return m}function zr(d,f,m){return ge(d,function(g,b){m=f(m,g,b)}),m}function Pi(d,f){return!!zr(d,function(m,g,b){return m&&f(g,b)},!0)}function Ei(d,f){return!!ln(d,f)}function Er(d,f){let m=[];return ge(d,function(g,b){m.push(f(g,b))}),m}function ni(d){return d&&Object.keys(d)||[]}function as(d){return Er(d,f=>f)}function xo(d,f,m={}){return f=Va(f),ge(d,function(g){let b=f(g)||"_",_=m[b];_||(_=m[b]=[]),_.push(g)}),m}function va(d,...f){d=Va(d);let m={};return ge(f,g=>xo(g,d,m)),Er(m,function(g,b){return g[0]})}const ya=va;function Hr(d,f){f=Va(f);let m=[];return ge(d,function(g,b){let _=f(g,b),x={d:_,v:g};for(var w=0;w<m.length;w++){let{d:C}=m[w];if(_<C)return void m.splice(w,0,x)}m.push(x)}),Er(m,g=>g.v)}function so(d){return function(f){return Pi(d,function(m,g){return f[g]===m})}}function Va(d){return xn(d)?d:f=>f[d]}function ls(d){return xn(d)?d:f=>f===d}function ba(d){return d}function je(d){return Number(d)}function qe(d,f){let m,g,b,_;function x(P){let O=Date.now(),M=P?0:_+f-O;if(M>0)return w(M);d.apply(b,g),C()}function w(P){m=setTimeout(x,P)}function C(){m&&clearTimeout(m),m=_=g=b=void 0}function T(...P){_=Date.now(),g=P,b=this,m||w(f)}return T.flush=function(){m&&x(!0),C()},T.cancel=C,T}function Ze(d,f){return d.bind(f)}function de(d,...f){return Object.assign(d,...f)}function It(d,f){let m={},g=Object(d);return ge(f,function(b){b in g&&(m[b]=d[b])}),m}function Ie(d,f){let m={};return ge(Object(d),function(g,b){-1===f.indexOf(b)&&(m[b]=g)}),m}const re=Object.prototype.toString,se=Object.prototype.hasOwnProperty;function me(d,f){return se.call(d,f)}function Ce(d,f){let m,g;if(void 0===d)return;const b="[object Array]"===re.call(d)?Ke:$e;for(let _ in d)if(me(d,_)&&(m=d[_],g=f(m,b(_)),!1===g))return m}function $e(d){return d}function Ke(d){return Number(d)}function ke(d,...f){const m=d.style;return Ce(f,function(g){g&&Ce(g,function(b,_){m[_]=b})}),d}function Ue(d,f,m){return 2==arguments.length?d.getAttribute(f):null===m?d.removeAttribute(f):(d.setAttribute(f,m),d)}const Ut=Object.prototype.toString;function $t(d){return new Gt(d)}function Gt(d){if(!d||!d.nodeType)throw new Error("A DOM element reference is required");this.el=d,this.list=d.classList}function nr(d){for(;d.childNodes.length;)d.removeChild(d.childNodes[0]);return d}function Ir(d,f){return d&&"function"==typeof d.matches&&d.matches(f)}function sr(d,f,m){for(var g=m?d:d.parentNode;g&&g.nodeType!==document.DOCUMENT_NODE&&g.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Ir(g,f))return g;g=g.parentNode}return Ir(g,f)?g:null}Gt.prototype.add=function(d){return this.list.add(d),this},Gt.prototype.remove=function(d){return"[object RegExp]"==Ut.call(d)?this.removeMatching(d):(this.list.remove(d),this)},Gt.prototype.removeMatching=function(d){const f=this.array();for(let m=0;m<f.length;m++)d.test(f[m])&&this.remove(f[m]);return this},Gt.prototype.toggle=function(d,f){return void 0!==f?f!==this.list.toggle(d,f)&&this.list.toggle(d):this.list.toggle(d),this},Gt.prototype.array=function(){return Array.from(this.list)},Gt.prototype.has=Gt.prototype.contains=function(d){return this.list.contains(d)};var An,xr,fi,kr={};function Sl(){An=window.addEventListener?"addEventListener":"attachEvent",xr=window.removeEventListener?"removeEventListener":"detachEvent",fi="addEventListener"!==An?"on":""}var Rc,Qt=function Ge(d,f){return f.forEach(function(m){m&&"string"!=typeof m&&!Array.isArray(m)&&Object.keys(m).forEach(function(g){if("default"!==g&&!(g in d)){var b=Object.getOwnPropertyDescriptor(m,g);Object.defineProperty(d,g,b.get?b:{enumerable:!0,get:function(){return m[g]}})}})}),Object.freeze(d)}({__proto__:null,bind:kr.bind=function(d,f,m,g){return An||Sl(),d[An](fi+f,m,g||!1),m},unbind:kr.unbind=function(d,f,m,g){return xr||Sl(),d[xr](fi+f,m,g||!1),m},default:kr},[kr]),Gf=["focus","blur"],Oi={bind:function(d,f,m,g,b){return-1!==Gf.indexOf(m)&&(b=!0),Qt.bind(d,m,function(_){_.delegateTarget=sr(_.target||_.srcElement,f,!0),_.delegateTarget&&g.call(d,_)},b)},unbind:function(d,f,m,g){return-1!==Gf.indexOf(f)&&(g=!0),Qt.unbind(d,f,m,g)}},np=!1;typeof document<"u"&&((Rc=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',np=!Rc.getElementsByTagName("link").length,Rc=void 0);var Xr={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:np?[1,"X<div>","</div>"]:[0,"",""]};Xr.td=Xr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Xr.option=Xr.optgroup=[1,'<select multiple="multiple">',"</select>"],Xr.thead=Xr.tbody=Xr.colgroup=Xr.caption=Xr.tfoot=[1,"<table>","</table>"],Xr.polyline=Xr.ellipse=Xr.polygon=Xr.circle=Xr.text=Xr.line=Xr.path=Xr.rect=Xr.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var wr=function(d,f){if("string"!=typeof d)throw new TypeError("String expected");f||(f=document);var m=/<([\w:]+)/.exec(d);if(!m)return f.createTextNode(d);d=d.replace(/^\s+|\s+$/g,"");var g=m[1];if("body"==g)return(b=f.createElement("html")).innerHTML=d,b.removeChild(b.lastChild);var b,_=Object.prototype.hasOwnProperty.call(Xr,g)?Xr[g]:Xr._default,x=_[0],w=_[1],C=_[2];for((b=f.createElement("div")).innerHTML=w+d+C;x--;)b=b.lastChild;if(b.firstChild==b.lastChild)return b.removeChild(b.firstChild);for(var T=f.createDocumentFragment();b.firstChild;)T.appendChild(b.removeChild(b.firstChild));return T};function gr(d,f){return(f=f||document).querySelector(d)}function D0(d,f){return(f=f||document).querySelectorAll(d)}function cs(d){d.parentNode&&d.parentNode.removeChild(d)}function _a(d,f){return f.appendChild(function(m,g){if(m.ownerDocument!==g.ownerDocument)try{return g.ownerDocument.importNode(m,!0)}catch{}return m}(d,f))}function nn(d,f){return _a(f,d),d}var za=2,rp={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":za,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":za,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Qs(d,f,m){var g=f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),b=rp[g];b?(b===za&&"number"==typeof m&&(m=String(m)+"px"),d.style[g]=m):d.setAttributeNS(null,f,m)}function _t(d,f,m){if("string"==typeof f){if(void 0===m)return g=d,rp[b=f]?g.style[b]:g.getAttributeNS(null,b);Qs(d,f,m)}else!function(g,b){var _,x,w=Object.keys(b);for(_=0;x=w[_];_++)Qs(g,x,b[x])}(d,f);var g,b;return d}const ip=Object.prototype.toString;function kn(d){return new Nr(d)}function Nr(d){if(!d||!d.nodeType)throw new Error("A DOM element reference is required");this.el=d,this.list=d.classList}function hi(d){var f=d.parentNode;return f&&f.removeChild(d),d}function T0(d){for(var f;f=d.firstChild;)hi(f);return d}function p1(d){return d.cloneNode(!0)}Nr.prototype.add=function(d){return this.list.add(d),this},Nr.prototype.remove=function(d){return"[object RegExp]"==ip.call(d)?this.removeMatching(d):(this.list.remove(d),this)},Nr.prototype.removeMatching=function(d){const f=this.array();for(let m=0;m<f.length;m++)d.test(f[m])&&this.remove(f[m]);return this},Nr.prototype.toggle=function(d,f){return void 0!==f?f!==this.list.toggle(d,f)&&this.list.toggle(d):this.list.toggle(d),this},Nr.prototype.array=function(){return Array.from(this.list)},Nr.prototype.has=Nr.prototype.contains=function(d){return this.list.contains(d)};var f1={svg:"http://www.w3.org/2000/svg"},Zs='<svg xmlns="'+f1.svg+'"';function h1(d){var f=!1;"<svg"===d.substring(0,4)?-1===d.indexOf(f1.svg)&&(d=Zs+d.substring(4)):(d=Zs+">"+d+"</svg>",f=!0);var _,x,m=(_=d,(x=new DOMParser).async=!1,x.parseFromString(_,"text/xml"));if(!f)return m;for(var g=document.createDocumentFragment(),b=m.firstChild;b.firstChild;)g.appendChild(b.firstChild);return g}function Mt(d,f){var m;return"<"===d.charAt(0)?(m=h1(d).firstChild,m=document.importNode(m,!0)):m=document.createElementNS(f1.svg,d),f&&_t(m,f),m}var qf=null;function go(){return null===qf&&(qf=Mt("svg")),qf}function ao(d,f){var m,g,b=Object.keys(f);for(m=0;g=b[m];m++)d[g]=f[g];return d}function Cu(d){return d?go().createSVGTransformFromMatrix(d):go().createSVGTransform()}var Sr=/([&<>]{1})/g,X5=/([\n\r"]{1})/g,ky={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function it(d,f){return d.replace(f,function(m,g){return ky[g]||g})}function Ac(d,f){var m,g,b,_,x;switch(d.nodeType){case 3:f.push(it(d.textContent,Sr));break;case 1:if(f.push("<",d.tagName),d.hasAttributes())for(m=0,g=(b=d.attributes).length;m<g;++m)_=b.item(m),f.push(" ",_.name,'="',it(_.value,X5),'"');if(d.hasChildNodes()){for(f.push(">"),m=0,g=(x=d.childNodes).length;m<g;++m)Ac(x.item(m),f);f.push("</",d.tagName,">")}else f.push("/>");break;case 8:f.push("\x3c!--",it(d.nodeValue,Sr),"--\x3e");break;case 4:f.push("<![CDATA[",d.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+d.nodeType)}return f}function Wf(d,f){if(void 0!==f){try{!function op(d,f){var m=h1(f);if(T0(d),f){"#document-fragment"===m.nodeName||(m=m.documentElement);for(var b=Array.prototype.slice.call(m.childNodes),_=0;_<b.length;_++)_a(b[_],d)}}(d,f)}catch(m){throw new Error("error parsing SVG: "+m.message)}return d}return function(m){for(var g=m.firstChild,b=[];g;)Ac(g,b),g=g.nextSibling;return b.join("")}(d)}function My(d,f){return f instanceof SVGMatrix?d.createSVGTransformFromMatrix(f):f}function Cl(d,f){var m=d.transform.baseVal;return f&&(Array.isArray(f)||(f=[f]),function(g,b){var _,x;for(g.clear(),_=0;x=b[_];_++)g.appendItem(My(g,x))}(m,f)),m.consolidate()}const P0=/^class[ {]/;function us(d){return Array.isArray(d)}function Ha(d,f){return Object.prototype.hasOwnProperty.call(d,f)}function Ua(...d){1===d.length&&us(d[0])&&(d=d[0]);const f=(d=[...d]).pop();return f.$inject=d,f}const O0=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Ry=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,k0=/\/\*([^*]*)\*\//m;function Bo(d){if("function"!=typeof d)throw new Error(`Cannot annotate "${d}". Expected a function!`);const f=d.toString().match(P0.test(d.toString())?O0:Ry);if(!f)return[];const m=f[1]||f[2];return m&&m.split(",").map(g=>{const b=g.match(k0);return(b&&b[1]||g).trim()})||[]}function M0(d,f){f=f||{get:function(H,z){if(m.push(H),!1===z)return null;throw x(`No provider for "${H}"!`)}};const m=[],g=this._providers=Object.create(f._providers||null),b=this._instances=Object.create(null),_=b.injector=this,x=function(H){const z=m.join(" -> ");return m.length=0,new Error(z?`${H} (Resolving: ${z})`:H)};function w(H,z){if(!g[H]&&-1!==H.indexOf(".")){const Q=H.split(".");let J=w(Q.shift());for(;Q.length;)J=J[Q.shift()];return J}if(Ha(b,H))return b[H];if(Ha(g,H)){if(-1!==m.indexOf(H))throw m.push(H),x("Cannot resolve circular dependency!");return m.push(H),b[H]=g[H][0](g[H][1]),m.pop(),b[H]}return f.get(H,z)}function C(H,z){if(void 0===z&&(z={}),"function"!=typeof H){if(!us(H))throw x(`Cannot invoke "${H}". Expected a function!`);H=Ua(H.slice())}return{fn:H,dependencies:(H.$inject||Bo(H)).map(Q=>Ha(z,Q)?z[Q]:w(Q))}}function T(H){const{fn:z,dependencies:Q}=C(H);return new(Function.prototype.bind.apply(z,[null].concat(Q)))}function P(H,z,Q){const{fn:J,dependencies:oe}=C(H,Q);return J.apply(z,oe)}function O(H){return Ua(z=>H.get(z))}function M(H,z){if(z&&z.length){const Q=Object.create(null),J=Object.create(null),oe=[],Oe=[],Ee=[];let De,Ne,Yt,mt;for(let Ve in g)De=g[Ve],-1!==z.indexOf(Ve)&&("private"===De[2]?(Ne=oe.indexOf(De[3]),-1===Ne?(Yt=De[3].createChild([],z),mt=O(Yt),oe.push(De[3]),Oe.push(Yt),Ee.push(mt),Q[Ve]=[mt,Ve,"private",Yt]):Q[Ve]=[Ee[Ne],Ve,"private",Oe[Ne]]):Q[Ve]=[De[2],De[1]],J[Ve]=!0),"factory"!==De[2]&&"type"!==De[2]||!De[1].$scope||z.forEach(Qe=>{-1!==De[1].$scope.indexOf(Qe)&&(Q[Ve]=[De[2],De[1]],J[Qe]=!0)});z.forEach(Ve=>{if(!J[Ve])throw new Error('No provider for "'+Ve+'". Cannot use provider from the parent!')}),H.unshift(Q)}return new M0(H,_)}const A={factory:P,type:T,value:function(H){return H}};function I(H,z){const Q=H.__init__||[];return function(){Q.forEach(J=>{"string"==typeof J?z.get(J):z.invoke(J)})}}function V(H){const z=H.__exports__;if(z){const Q=H.__modules__,J=Object.keys(H).reduce((De,Ne)=>("__exports__"!==Ne&&"__modules__"!==Ne&&"__init__"!==Ne&&"__depends__"!==Ne&&(De[Ne]=H[Ne]),De),Object.create(null)),oe=M((Q||[]).concat(J)),Oe=Ua(function(De){return oe.get(De)});z.forEach(function(De){g[De]=[Oe,De,"private",oe]});const Ee=(H.__init__||[]).slice();return Ee.unshift(function(){oe.init()}),I(H=Object.assign({},H,{__init__:Ee}),oe)}return Object.keys(H).forEach(function(Q){if("__init__"===Q||"__depends__"===Q)return;if("private"===H[Q][2])return void(g[Q]=H[Q]);const J=H[Q][0];g[Q]=[A[J],rr(J,H[Q][1]),J]}),I(H,_)}function W(H,z){return-1!==H.indexOf(z)||-1!==(H=(z.__depends__||[]).reduce(W,H)).indexOf(z)?H:H.concat(z)}this.get=w,this.invoke=P,this.instantiate=T,this.createChild=M,this.init=function(H){const z=H.reduce(W,[]).map(V);let Q=!1;return function(){Q||(Q=!0,z.forEach(J=>J()))}}(d)}function rr(d,f){return"value"!==d&&us(f)&&(f=Ua(f.slice())),f}var Ic=1e3;function Ea(d,f){var m=this;d.on(["render.shape","render.connection"],f=f||Ic,function(g,b){var _=g.type,x=b.element,w=b.gfx,C=b.attrs;if(m.canRender(x))return"render.shape"===_?m.drawShape(w,x,C):m.drawConnection(w,x,C)}),d.on(["render.getShapePath","render.getConnectionPath"],f,function(g,b){if(m.canRender(b))return"render.getShapePath"===g.type?m.getShapePath(b):m.getConnectionPath(b)})}function Ln(d){return d.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function Ga(d){return["L",d.x,d.y]}function lo(d,f){const m=d.length,g=[(b=d[0],["M",b.x,b.y])];var b,_,x,w;for(let C=1;C<m;C++){const T=d[C-1],P=d[C],O=d[C+1];if(!O||!f){g.push(Ga(P));continue}const M=Math.min(f,sp(P.x-T.x,P.y-T.y),sp(O.x-P.x,O.y-P.y));if(!M){g.push(Ga(P));continue}const A=Du(P,T,M),I=Du(P,T,.5*M),V=Du(P,O,M),W=Du(P,O,.5*M);g.push(Ga(A)),g.push(["C",(_=I).x,_.y,(x=W).x,x.y,(w=V).x,w.y])}return g}function Du(d,f,m){const g=f.x-d.x,b=f.y-d.y,_=m/sp(g,b);return{x:d.x+g*_,y:d.y+b*_}}function sp(d,f){return Math.sqrt(Math.pow(d,2)+Math.pow(f,2))}function Ls(d,f,m){at(f)&&(m=f,f=null),f||(f={});const g=Mt("path",f);return at(m)&&(g.dataset.cornerRadius=String(m)),Tu(g,d)}function Tu(d,f){return _t(d,{d:Ln(lo(f,parseInt(d.dataset.cornerRadius,10)||0))}),d}function cn(d){return Ot(d,function(f){return!ln(d,function(m){return m!==f&&Pu(f,m)})})}function Pu(d,f){if(f){if(d===f)return f;if(d.parent)return Pu(d.parent,f)}}function Zo(d,f,m){var g=!m||-1===d.indexOf(f);return g&&d.push(f),g}function Nc(d,f,m){m=m||0,ut(d)||(d=[d]),ge(d,function(g,b){var _=f(g,b,m);ut(_)&&_.length&&Nc(_,f,m+1)})}function Lc(d,f){return g=!f,-1,_=[],x=[],Nc(d,function(w,C,T){Zo(_,w,g);var P=w.children;if(P&&Zo(x,P,g))return P}),_;var g,_,x}function ri(d,f){var m,g,b,_;return f=!!f,ut(d)||(d=[d]),ge(d,function(x){var w=x;x.waypoints&&!f&&(w=ri(x.waypoints,!0));var C=w.x,T=w.y,P=w.height||0,O=w.width||0;(C<m||void 0===m)&&(m=C),(T<g||void 0===g)&&(g=T),(C+O>b||void 0===b)&&(b=C+O),(T+P>_||void 0===_)&&(_=T+P)}),{x:m,y:g,height:_-g,width:b-m}}function Ql(d){return"waypoints"in d?"connection":"x"in d?"shape":"root"}function Ay(d){return!(!d||!d.isFrame)}function R0(d,f){return de({},d||{},f||{})}function Fc(d,f){Ea.call(this,d,1),this.CONNECTION_STYLE=f.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=f.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=f.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Ea.prototype.canRender=function(d){},Ea.prototype.drawShape=function(d,f){},Ea.prototype.drawConnection=function(d,f){},Ea.prototype.getShapePath=function(d){},Ea.prototype.getConnectionPath=function(d){},Ye(Fc,Ea),Fc.prototype.canRender=function(){return!0},Fc.prototype.drawShape=function(d,f,m){var g=Mt("rect");return _t(g,{x:0,y:0,width:f.width||0,height:f.height||0}),Ay(f)?_t(g,de({},this.FRAME_STYLE,m||{})):_t(g,de({},this.SHAPE_STYLE,m||{})),nn(d,g),g},Fc.prototype.drawConnection=function(d,f,m){var g=Ls(f.waypoints,de({},this.CONNECTION_STYLE,m||{}));return nn(d,g),g},Fc.prototype.getShapePath=function(d){var g=d.width;return Ln([["M",d.x,d.y],["l",g,0],["l",0,d.height],["l",-g,0],["z"]])},Fc.prototype.getConnectionPath=function(d){var f,m,g=d.waypoints,b=[];for(f=0;m=g[f];f++)b.push([0===f?"M":"L",(m=m.original||m).x,m.y]);return Ln(b)},Fc.$inject=["eventBus","styles"];var s8={__init__:["defaultRenderer"],defaultRenderer:["type",Fc],styles:["type",function(){var d={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},f=this;this.cls=function(m,g,b){return de(this.style(g,b),{class:m})},this.style=function(m,g){ut(m)||g||(g=m,m=[]);var b=zr(m,function(_,x){return de(_,d[x]||{})},{});return g?de(b,g):b},this.computeStyle=function(m,g,b){return ut(g)||(b=g,g=[]),f.style(g||[],de({},b,m||{}))}}]};function Vi(d,f){if(!d||!f)return-1;var m=d.indexOf(f);return-1!==m&&d.splice(m,1),m}function K(d,f,m){if(d&&f){"number"!=typeof m&&(m=-1);var g=d.indexOf(f);if(-1!==g){if(g===m||-1===m)return;d.splice(g,1)}-1!==m?d.splice(m,0,f):d.push(f)}}function ie(d,f){return d&&f?d.indexOf(f):-1}function be(d,f){return d&&f?Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2)):-1}function Le(d,f,m,g){if(void 0===g&&(g=5),!d||!f||!m)return!1;var b=(f.x-d.x)*(m.y-d.y)-(f.y-d.y)*(m.x-d.x),_=be(d,f);return Math.abs(b/_)<=g}var ze=2;function Tt(d,f){var m=Array.from(arguments).flat();const g={x:"v",y:"h"};for(const[b,_]of Object.entries(g))if(ar(b,m))return _;return!1}function ar(d,f){const m=f[0];return Pi(f,function(g){return Math.abs(m[d]-g[d])<=ze})}function wo(d,f,m){return d.x>f.x-(m=m||0)&&d.y>f.y-m&&d.x<f.x+f.width+m&&d.y<f.y+f.height+m}function So(d,f){return{x:Math.round(d.x+(f.x-d.x)/2),y:Math.round(d.y+(f.y-d.y)/2)}}function Jo(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Rt=/,?([a-z]),?/gi,MO=parseFloat,Yr=Math,Zl=Yr.PI,Bc=Yr.min,Jl=Yr.max,a8=Yr.pow,ec=Yr.abs,Iy=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,Y5=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,m1=Array.isArray||function(d){return d instanceof Array};function K5(d,f){return Object.prototype.hasOwnProperty.call(d,f)}function At(d){if("function"==typeof d||Object(d)!==d)return d;var f=new d.constructor;for(var m in d)K5(d,m)&&(f[m]=At(d[m]));return f}function A0(d){var f=A0.ps=A0.ps||{};return f[d]?f[d].sleep=100:f[d]={sleep:100},setTimeout(function(){for(var m in f)K5(f,m)&&m!=d&&(f[m].sleep--,!f[m].sleep&&delete f[m])}),f[d]}function g1(d,f,m,g){return 1===arguments.length&&(f=d.y,m=d.width,g=d.height,d=d.x),{x:d,y:f,width:m,height:g,x2:d+m,y2:f+g}}function Q5(){return this.join(",").replace(Rt,"$1")}function Xf(d){var f=At(d);return f.toString=Q5,f}function l8(d,f,m,g,b,_,x,w,C){var T=1-C,P=a8(T,3),O=a8(T,2),M=C*C*C,A=P*f+3*O*C*g+3*T*C*C*_+M*w;return{x:Yf(P*d+3*O*C*m+3*T*C*C*b+M*x),y:Yf(A)}}function Ny(d){var f=c8.apply(null,d);return g1(f.x0,f.y0,f.x1-f.x0,f.y1-f.y0)}function ap(d,f,m){return f>=d.x&&f<=d.x+d.width&&m>=d.y&&m<=d.y+d.height}function RO(d,f,m,g,b){return d*(d*(-3*f+9*m-9*g+3*b)+6*f-12*m+6*g)-3*f+3*m}function AO(d,f,m,g,b,_,x,w,C){null==C&&(C=1);for(var T=(C=C>1?1:C<0?0:C)/2,P=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],O=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],M=0,A=0;A<12;A++){var I=T*P[A]+T,V=RO(I,d,m,b,x),W=RO(I,f,g,_,w);M+=O[A]*Yr.sqrt(V*V+W*W)}return T*M}function BV(d,f,m,g,b,_,x,w){if(!(Jl(d,m)<Bc(b,x)||Bc(d,m)>Jl(b,x)||Jl(f,g)<Bc(_,w)||Bc(f,g)>Jl(_,w))){var C=(d*g-f*m)*(_-w)-(f-g)*(b*w-_*x),T=(d-m)*(_-w)-(f-g)*(b-x);if(T){var P=Yf(((d*g-f*m)*(b-x)-(d-m)*(b*w-_*x))/T),O=Yf(C/T),M=+P.toFixed(2),A=+O.toFixed(2);if(!(M<+Bc(d,m).toFixed(2)||M>+Jl(d,m).toFixed(2)||M<+Bc(b,x).toFixed(2)||M>+Jl(b,x).toFixed(2)||A<+Bc(f,g).toFixed(2)||A>+Jl(f,g).toFixed(2)||A<+Bc(_,w).toFixed(2)||A>+Jl(_,w).toFixed(2)))return{x:P,y:O}}}}function Yf(d){return Math.round(1e11*d)/1e11}function v1(d,f,m){if(De=Ny(d),Ne=Ny(f),De=g1(De),!(ap(Ne=g1(Ne),De.x,De.y)||ap(Ne,De.x2,De.y)||ap(Ne,De.x,De.y2)||ap(Ne,De.x2,De.y2)||ap(De,Ne.x,Ne.y)||ap(De,Ne.x2,Ne.y)||ap(De,Ne.x,Ne.y2)||ap(De,Ne.x2,Ne.y2)||(De.x<Ne.x2&&De.x>Ne.x||Ne.x<De.x2&&Ne.x>De.x)&&(De.y<Ne.y2&&De.y>Ne.y||Ne.y<De.y2&&Ne.y>De.y)))return m?0:[];for(var De,Ne,g=AO.apply(0,d),b=AO.apply(0,f),_=Ly(d)?1:~~(g/5)||1,x=Ly(f)?1:~~(b/5)||1,w=[],C=[],T={},P=m?0:[],O=0;O<_+1;O++){var M=l8.apply(0,d.concat(O/_));w.push({x:M.x,y:M.y,t:O/_})}for(O=0;O<x+1;O++)M=l8.apply(0,f.concat(O/x)),C.push({x:M.x,y:M.y,t:O/x});for(O=0;O<_;O++)for(var A=0;A<x;A++){var I,V=w[O],W=w[O+1],H=C[A],z=C[A+1],Q=ec(W.x-V.x)<.01?"y":"x",J=ec(z.x-H.x)<.01?"y":"x",oe=BV(V.x,V.y,W.x,W.y,H.x,H.y,z.x,z.y);if(oe){if(T[I=oe.x.toFixed(9)+"#"+oe.y.toFixed(9)])continue;T[I]=!0;var Oe=V.t+ec((oe[Q]-V[Q])/(W[Q]-V[Q]))*(W.t-V.t),Ee=H.t+ec((oe[J]-H[J])/(z[J]-H[J]))*(z.t-H.t);Oe>=0&&Oe<=1&&Ee>=0&&Ee<=1&&(m?P++:P.push({x:oe.x,y:oe.y,t1:Oe,t2:Ee}))}}return P}function Ly(d){return d[0]===d[2]&&d[1]===d[3]&&d[4]===d[6]&&d[5]===d[7]}function y1(d,f,m,g){return[d,f,m,g,m,g]}function jc(d,f,m,g,b,_){var x=.3333333333333333,w=2/3;return[x*d+w*m,x*f+w*g,x*b+w*m,x*_+w*g,b,_]}function Kf(d,f,m,g,b,_,x,w,C,T){var P,O=120*Zl/180,M=Zl/180*(+b||0),A=[],I=function(qs){return function Wr(){var bi=Array.prototype.slice.call(arguments,0),Mr=bi.join("\u2400"),si=Wr.cache=Wr.cache||{},Hi=Wr.count=Wr.count||[];return K5(si,Mr)?(function(yr,xs){for(var br=0,wi=yr.length;br<wi;br++)if(yr[br]===xs)return yr.push(yr.splice(br,1)[0])}(Hi,Mr),si[Mr]):(Hi.length>=1e3&&delete si[Hi.shift()],Hi.push(Mr),si[Mr]=qs.apply(0,bi),si[Mr])}}(function(qs,Wr,bi){return{x:qs*Yr.cos(bi)-Wr*Yr.sin(bi),y:qs*Yr.sin(bi)+Wr*Yr.cos(bi)}});if(T)Ee=T[0],De=T[1],oe=T[2],Oe=T[3];else{d=(P=I(d,f,-M)).x,f=P.y;var V=(d-(w=(P=I(w,C,-M)).x))/2,W=(f-(C=P.y))/2,H=V*V/(m*m)+W*W/(g*g);H>1&&(m*=H=Yr.sqrt(H),g*=H);var z=m*m,Q=g*g,J=(_==x?-1:1)*Yr.sqrt(ec((z*Q-z*W*W-Q*V*V)/(z*W*W+Q*V*V))),oe=J*m*W/g+(d+w)/2,Oe=J*-g*V/m+(f+C)/2,Ee=Yr.asin(((f-Oe)/g).toFixed(9)),De=Yr.asin(((C-Oe)/g).toFixed(9));(Ee=d<oe?Zl-Ee:Ee)<0&&(Ee=2*Zl+Ee),(De=w<oe?Zl-De:De)<0&&(De=2*Zl+De),x&&Ee>De&&(Ee-=2*Zl),!x&&De>Ee&&(De-=2*Zl)}var Ne=De-Ee;if(ec(Ne)>O){var Yt=De,mt=w,Ve=C;A=Kf(w=oe+m*Yr.cos(De=Ee+O*(x&&De>Ee?1:-1)),C=Oe+g*Yr.sin(De),m,g,b,0,x,mt,Ve,[De,Yt,oe,Oe])}Ne=De-Ee;var Qe=Yr.cos(Ee),dn=Yr.sin(Ee),ue=Yr.cos(De),G=Yr.sin(De),xe=Yr.tan(Ne/4),He=4/3*m*xe,Je=4/3*g*xe,Nt=[d,f],Vt=[d+He*dn,f-Je*Qe],qt=[w+He*G,C-Je*ue],wt=[w,C];if(Vt[0]=2*Nt[0]-Vt[0],Vt[1]=2*Nt[1]-Vt[1],T)return[Vt,qt,wt].concat(A);for(var pr=[],$r=0,jl=(A=[Vt,qt,wt].concat(A).join().split(",")).length;$r<jl;$r++)pr[$r]=$r%2?I(A[$r-1],A[$r],M).y:I(A[$r],A[$r+1],M).x;return pr}function c8(d,f,m,g,b,_,x,w){for(var C,T,P,O,M,A,I,V,W=[],H=[[],[]],z=0;z<2;++z)if(0==z?(T=6*d-12*m+6*b,C=-3*d+9*m-9*b+3*x,P=3*m-3*d):(T=6*f-12*g+6*_,C=-3*f+9*g-9*_+3*w,P=3*g-3*f),ec(C)<1e-12){if(ec(T)<1e-12)continue;0<(O=-P/T)&&O<1&&W.push(O)}else V=Yr.sqrt(I=T*T-4*P*C),I<0||(0<(M=(-T+V)/(2*C))&&M<1&&W.push(M),0<(A=(-T-V)/(2*C))&&A<1&&W.push(A));for(var Q,J=W.length,oe=J;J--;)Q=1-(O=W[J]),H[0][J]=Q*Q*Q*d+3*Q*Q*O*m+3*Q*O*O*b+O*O*O*x,H[1][J]=Q*Q*Q*f+3*Q*Q*O*g+3*Q*O*O*_+O*O*O*w;return H[0][oe]=d,H[1][oe]=f,H[0][oe+1]=x,H[1][oe+1]=w,H[0].length=H[1].length=oe+2,{x0:Bc.apply(0,H[0]),y0:Bc.apply(0,H[1]),x1:Jl.apply(0,H[0]),y1:Jl.apply(0,H[1])}}function Fn(d){var f=A0(d);if(f.curve)return Xf(f.curve);for(var m=function Z5(d){var f=A0(d);if(f.abs)return Xf(f.abs);if(m1(d)&&m1(d&&d[0])||(d=function(H){if(!H)return null;var z=A0(H);if(z.arr)return At(z.arr);var Q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},J=[];return m1(H)&&m1(H[0])&&(J=At(H)),J.length||String(H).replace(Iy,function(oe,Oe,Ee){var De=[],Ne=Oe.toLowerCase();for(Ee.replace(Y5,function(Yt,mt){mt&&De.push(+mt)}),"m"==Ne&&De.length>2&&(J.push([Oe].concat(De.splice(0,2))),Ne="l",Oe="m"==Oe?"l":"L");De.length>=Q[Ne]&&(J.push([Oe].concat(De.splice(0,Q[Ne]))),Q[Ne]););}),J.toString=A0.toString,z.arr=At(J),J}(d)),!d||!d.length)return[["M",0,0]];var m,g=[],b=0,_=0,x=0,w=0,C=0;"M"==d[0][0]&&(x=b=+d[0][1],w=_=+d[0][2],C++,g[0]=["M",b,_]);for(var T,P,O=C,M=d.length;O<M;O++){if(g.push(T=[]),(m=(P=d[O])[0])!=m.toUpperCase())switch(T[0]=m.toUpperCase(),T[0]){case"A":T[1]=P[1],T[2]=P[2],T[3]=P[3],T[4]=P[4],T[5]=P[5],T[6]=+P[6]+b,T[7]=+P[7]+_;break;case"V":T[1]=+P[1]+_;break;case"H":T[1]=+P[1]+b;break;case"M":x=+P[1]+b,w=+P[2]+_;default:for(var A=1,I=P.length;A<I;A++)T[A]=+P[A]+(A%2?b:_)}else for(var V=0,W=P.length;V<W;V++)T[V]=P[V];switch(m=m.toUpperCase(),T[0]){case"Z":b=+x,_=+w;break;case"H":b=T[1];break;case"V":_=T[1];break;case"M":x=T[T.length-2],w=T[T.length-1];default:b=T[T.length-2],_=T[T.length-1]}}return g.toString=Q5,f.abs=Xf(g),g}(d),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(A,I,V){var W,H;if(!A)return["C",I.x,I.y,I.x,I.y,I.x,I.y];switch(!(A[0]in{T:1,Q:1})&&(I.qx=I.qy=null),A[0]){case"M":I.X=A[1],I.Y=A[2];break;case"A":A=["C"].concat(Kf.apply(0,[I.x,I.y].concat(A.slice(1))));break;case"S":"C"==V||"S"==V?(W=2*I.x-I.bx,H=2*I.y-I.by):(W=I.x,H=I.y),A=["C",W,H].concat(A.slice(1));break;case"T":"Q"==V||"T"==V?(I.qx=2*I.x-I.qx,I.qy=2*I.y-I.qy):(I.qx=I.x,I.qy=I.y),A=["C"].concat(jc(I.x,I.y,I.qx,I.qy,A[1],A[2]));break;case"Q":I.qx=A[1],I.qy=A[2],A=["C"].concat(jc(I.x,I.y,A[1],A[2],A[3],A[4]));break;case"L":A=["C"].concat(y1(I.x,I.y,A[1],A[2]));break;case"H":A=["C"].concat(y1(I.x,I.y,A[1],I.y));break;case"V":A=["C"].concat(y1(I.x,I.y,I.x,A[1]));break;case"Z":A=["C"].concat(y1(I.x,I.y,I.X,I.Y))}return A},_=function(A,I){if(A[I].length>7){A[I].shift();for(var V=A[I];V.length;)x[I]="A",A.splice(I++,0,["C"].concat(V.splice(0,6)));A.splice(I,1),P=m.length}},x=[],w="",C="",T=0,P=m.length;T<P;T++){m[T]&&(w=m[T][0]),"C"!=w&&(x[T]=w,T&&(C=x[T-1])),m[T]=b(m[T],g,C),"A"!=x[T]&&"C"==w&&(x[T]="C"),_(m,T);var O=m[T],M=O.length;g.x=O[M-2],g.y=O[M-1],g.bx=MO(O[M-4])||g.x,g.by=MO(O[M-3])||g.y}return f.curve=Xf(m),m}var IO=Jo(function(d,f,m){d=Fn(d),f=Fn(f);for(var g,b,_,x,w,C,T,P,O,M,A=m?0:[],I=0,V=d.length;I<V;I++){var W=d[I];if("M"==W[0])g=w=W[1],b=C=W[2];else{"C"==W[0]?(O=[g,b].concat(W.slice(1)),g=O[6],b=O[7]):(O=[g,b,g,b,w,C,w,C],g=w,b=C);for(var H=0,z=f.length;H<z;H++){var Q=f[H];if("M"==Q[0])_=T=Q[1],x=P=Q[2];else{"C"==Q[0]?(M=[_,x].concat(Q.slice(1)),_=M[6],x=M[7]):(M=[_,x,_,x,T,P,T,P],_=T,x=P);var J=v1(O,M,m);if(m)A+=J;else{for(var oe=0,Oe=J.length;oe<Oe;oe++)J[oe].segment1=I,J[oe].segment2=H,J[oe].bez1=O,J[oe].bez2=M;A=A.concat(J)}}}}}return A});function vi(d){return Sn(d)&&gn(d,"waypoints")}function vr(d){return Sn(d)&&gn(d,"labelTarget")}function NO(d){return{x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height)}}function I0(d){return{x:Math.round(d.x),y:Math.round(d.y)}}function Xt(d){return{top:d.y,right:d.x+(d.width||0),bottom:d.y+(d.height||0),left:d.x}}function Zn(d){return{x:d.left,y:d.top,width:d.right-d.left,height:d.bottom-d.top}}function hn(d){return vi(d)?function J5(d){for(var f=d.waypoints,m=f.reduce(function(C,T,P){var V,W,O=f[P-1];if(O){var M=C[C.length-1],A=M&&M.endLength||0,I=(V=O,W=T,Math.sqrt(Math.pow(V.x-W.x,2)+Math.pow(V.y-W.y,2)));C.push({start:O,end:T,startLength:A,endLength:A+I,length:I})}return C},[]),b=m.reduce(function(C,T){return C+T.length},0)/2,_=0,x=m[_];x.endLength<b;)x=m[++_];var w=(b-x.startLength)/x.length;return{x:x.start.x+(x.end.x-x.start.x)*w,y:x.start.y+(x.end.y-x.start.y)*w}}(d):I0({x:(f=d).x+(f.width||0)/2,y:f.y+(f.height||0)/2});var f}function Kr(d,f,m){Sn(m=m||0)||(m={x:m,y:m});var g=Xt(d),b=Xt(f),C=g.bottom+m.y<=b.top?"top":g.top-m.y>=b.bottom?"bottom":null,T=g.right+m.x<=b.left?"left":g.left-m.x>=b.right?"right":null;return T&&C?C+"-"+T:T||C||"intersect"}function Fy(d,f,m){var g=IO(d,f);return 1===g.length||2===g.length&&be(g[0],g[1])<1?I0(g[0]):g.length>1?I0((g=Hr(g,function(b){var _=Math.floor(100*b.t2)||1;return _=((_=100-_)<10?"0":"")+_,b.segment2+"#"+_}))[m?0:g.length-1]):null}function e_(d,f){return Math.round(d*f)/f}function LO(d){return at(d)?d+"px":d}function Qf(d,f,m){const g=Mt("g");return kn(g).add(f),d.insertBefore(g,d.childNodes[void 0!==m?m:d.childNodes.length-1]||null),g}const t_={shape:["x","y","width","height"],connection:["waypoints"]};function _n(d,f,m,g){this._eventBus=f,this._elementRegistry=g,this._graphicsFactory=m,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(d||{})}function u8(d,f){d.setAttribute("transform","matrix("+f.a+","+f.b+","+f.c+","+f.d+","+f.e+","+f.f+")")}_n.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],_n.prototype._init=function(d){const f=this._eventBus,m=this._container=function(_){const x=(_=de({},{width:"100%",height:"100%"},_)).container||document.body,w=document.createElement("div");return w.setAttribute("class","djs-container djs-parent"),ke(w,{position:"relative",overflow:"hidden",width:LO(_.width),height:LO(_.height)}),x.appendChild(w),w}(d),g=this._svg=Mt("svg");_t(g,{width:"100%",height:"100%"}),nn(m,g);const b=this._viewport=Qf(g,"viewport");d.deferUpdate&&(this._viewboxChanged=qe(Ze(this._viewboxChanged,this),300)),f.on("diagram.init",()=>{f.fire("canvas.init",{svg:g,viewport:b})}),f.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),f.on("diagram.destroy",500,this._destroy,this),f.on("diagram.clear",500,this._clear,this)},_n.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const d=this._container.parentNode;d&&d.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},_n.prototype._clear=function(){this._elementRegistry.getAll().forEach(d=>{const f=Ql(d);"root"===f?this.removeRootElement(d):this._removeElement(d,f)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},_n.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},_n.prototype.getLayer=function(d,f){if(!d)throw new Error("must specify a name");let m=this._layers[d];if(m||(m=this._layers[d]=this._createLayer(d,f)),void 0!==f&&m.index!==f)throw new Error("layer <"+d+"> already created at index <"+f+">");return m.group},_n.prototype._getChildIndex=function(d){return zr(this._layers,function(f,m){return m.visible&&d>=m.index&&f++,f},0)},_n.prototype._createLayer=function(d,f){void 0===f&&(f=1);const m=this._getChildIndex(f);return{group:Qf(this._viewport,"layer-"+d,m),index:f,visible:!0}},_n.prototype.showLayer=function(d){if(!d)throw new Error("must specify a name");const f=this._layers[d];if(!f)throw new Error("layer <"+d+"> does not exist");const m=this._viewport,g=f.group;if(f.visible)return g;const _=this._getChildIndex(f.index);return m.insertBefore(g,m.childNodes[_]||null),f.visible=!0,g},_n.prototype.hideLayer=function(d){if(!d)throw new Error("must specify a name");const f=this._layers[d];if(!f)throw new Error("layer <"+d+"> does not exist");const m=f.group;return f.visible&&(hi(m),f.visible=!1),m},_n.prototype._removeLayer=function(d){const f=this._layers[d];f&&(delete this._layers[d],hi(f.group))},_n.prototype.getActiveLayer=function(){const d=this._findPlaneForRoot(this.getRootElement());return d?d.layer:null},_n.prototype.findRoot=function(d){return"string"==typeof d&&(d=this._elementRegistry.get(d)),d?(this._findPlaneForRoot(function(m){for(;m.parent;)m=m.parent;return m}(d))||{}).rootElement:void 0},_n.prototype.getRootElements=function(){return this._planes.map(function(d){return d.rootElement})},_n.prototype._findPlaneForRoot=function(d){return ln(this._planes,function(f){return f.rootElement===d})},_n.prototype.getContainer=function(){return this._container},_n.prototype._updateMarker=function(d,f,m){let g;d.id||(d=this._elementRegistry.get(d)),g=this._elementRegistry._elements[d.id],g&&(ge([g.gfx,g.secondaryGfx],function(b){b&&(m?kn(b).add(f):kn(b).remove(f))}),this._eventBus.fire("element.marker.update",{element:d,gfx:g.gfx,marker:f,add:!!m}))},_n.prototype.addMarker=function(d,f){this._updateMarker(d,f,!0)},_n.prototype.removeMarker=function(d,f){this._updateMarker(d,f,!1)},_n.prototype.hasMarker=function(d,f){return d.id||(d=this._elementRegistry.get(d)),kn(this.getGraphics(d)).has(f)},_n.prototype.toggleMarker=function(d,f){this.hasMarker(d,f)?this.removeMarker(d,f):this.addMarker(d,f)},_n.prototype.getRootElement=function(){const d=this._rootElement;return d||this._planes.length?d:this.setRootElement(this.addRootElement(null))},_n.prototype.addRootElement=function(d){const f=this._rootsIdx++;d||(d={id:"__implicitroot_"+f,children:[],isImplicit:!0});const m=d.layer="root-"+f;this._ensureValid("root",d);const g=this.getLayer(m,0);return this.hideLayer(m),this._addRoot(d,g),this._planes.push({rootElement:d,layer:g}),d},_n.prototype.removeRootElement=function(d){if("string"==typeof d&&(d=this._elementRegistry.get(d)),this._findPlaneForRoot(d))return this._removeRoot(d),this._removeLayer(d.layer),this._planes=this._planes.filter(function(f){return f.rootElement!==d}),this._rootElement===d&&(this._rootElement=null),d},_n.prototype.setRootElement=function(d){if(d===this._rootElement)return;let f;if(!d)throw new Error("rootElement required");return f=this._findPlaneForRoot(d),f||(d=this.addRootElement(d)),this._setRoot(d),d},_n.prototype._removeRoot=function(d){const f=this._elementRegistry,m=this._eventBus;m.fire("root.remove",{element:d}),m.fire("root.removed",{element:d}),f.remove(d)},_n.prototype._addRoot=function(d,f){const m=this._elementRegistry,g=this._eventBus;g.fire("root.add",{element:d}),m.add(d,f),g.fire("root.added",{element:d,gfx:f})},_n.prototype._setRoot=function(d,f){const m=this._rootElement;m&&(this._elementRegistry.updateGraphics(m,null,!0),this.hideLayer(m.layer)),d&&(f||(f=this._findPlaneForRoot(d).layer),this._elementRegistry.updateGraphics(d,this._svg,!0),this.showLayer(d.layer)),this._rootElement=d,this._eventBus.fire("root.set",{element:d})},_n.prototype._ensureValid=function(d,f){if(!f.id)throw new Error("element must have an id");if(this._elementRegistry.get(f.id))throw new Error("element <"+f.id+"> already exists");const m=t_[d];if(!Pi(m,function(b){return void 0!==f[b]}))throw new Error("must supply { "+m.join(", ")+" } with "+d)},_n.prototype._setParent=function(d,f,m){K(f.children,d,m),d.parent=f},_n.prototype._addElement=function(d,f,m,g){m=m||this.getRootElement();const b=this._eventBus,_=this._graphicsFactory;this._ensureValid(d,f),b.fire(d+".add",{element:f,parent:m}),this._setParent(f,m,g);const x=_.create(d,f,g);return this._elementRegistry.add(f,x),_.update(d,f,x),b.fire(d+".added",{element:f,gfx:x}),f},_n.prototype.addShape=function(d,f,m){return this._addElement("shape",d,f,m)},_n.prototype.addConnection=function(d,f,m){return this._addElement("connection",d,f,m)},_n.prototype._removeElement=function(d,f){const m=this._elementRegistry,g=this._graphicsFactory,b=this._eventBus;if(d=m.get(d.id||d))return b.fire(f+".remove",{element:d}),g.remove(d),Vi(d.parent&&d.parent.children,d),d.parent=null,b.fire(f+".removed",{element:d}),m.remove(d),d},_n.prototype.removeShape=function(d){return this._removeElement(d,"shape")},_n.prototype.removeConnection=function(d){return this._removeElement(d,"connection")},_n.prototype.getGraphics=function(d,f){return this._elementRegistry.getGraphics(d,f)},_n.prototype._changeViewbox=function(d){this._eventBus.fire("canvas.viewbox.changing"),d.apply(this),this._cachedViewbox=null,this._viewboxChanged()},_n.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},_n.prototype.viewbox=function(d){if(void 0===d&&this._cachedViewbox)return this._cachedViewbox;const f=this._viewport,m=this.getSize();let g,b,_,x,w,C,T;return d?(this._changeViewbox(function(){w=Math.min(m.width/d.width,m.height/d.height);const P=this._svg.createSVGMatrix().scale(w).translate(-d.x,-d.y);Cl(f,P)}),d):(_=this._rootElement?this.getActiveLayer():null,g=_&&_.getBBox()||{},x=Cl(f),b=x?x.matrix:function(P,O,M,A,I,V){var W=go().createSVGMatrix();switch(arguments.length){case 0:return W;case 1:return ao(W,P);case 6:return ao(W,{a:P,b:O,c:M,d:A,e:I,f:V})}}(),w=e_(b.a,1e3),C=e_(-b.e||0,1e3),T=e_(-b.f||0,1e3),d=this._cachedViewbox={x:C?C/w:0,y:T?T/w:0,width:m.width/w,height:m.height/w,scale:w,inner:{width:g.width||0,height:g.height||0,x:g.x||0,y:g.y||0},outer:m})},_n.prototype.scroll=function(d){const f=this._viewport;let m=f.getCTM();return d&&this._changeViewbox(function(){d=de({dx:0,dy:0},d||{}),m=this._svg.createSVGMatrix().translate(d.dx,d.dy).multiply(m),u8(f,m)}),{x:m.e,y:m.f}},_n.prototype.scrollToElement=function(d,f){let m=100;"string"==typeof d&&(d=this._elementRegistry.get(d));const g=this.findRoot(d);if(g!==this.getRootElement()&&this.setRootElement(g),g===d)return;f||(f={}),"number"==typeof f&&(m=f),f={top:f.top||m,right:f.right||m,bottom:f.bottom||m,left:f.left||m};const b=ri(d),_=Xt(b),x=this.viewbox(),w=this.zoom();let C,T;x.y+=f.top/w,x.x+=f.left/w,x.width-=(f.right+f.left)/w,x.height-=(f.bottom+f.top)/w;const P=Xt(x);if(b.width<x.width&&b.height<x.height){const O=Math.max(0,_.right-P.right),M=Math.min(0,_.left-P.left),A=Math.max(0,_.bottom-P.bottom),I=Math.min(0,_.top-P.top);C=O||M,T=A||I}else C=b.x-x.x,T=b.y-x.y;this.scroll({dx:-C*w,dy:-T*w})},_n.prototype.zoom=function(d,f){if(!d)return this.viewbox(d).scale;if("fit-viewport"===d)return this._fitViewport(f);let m,g;return this._changeViewbox(function(){"object"!=typeof f&&(m=this.viewbox().outer,f={x:m.width/2,y:m.height/2}),g=this._setZoom(d,f)}),e_(g.a,1e3)},_n.prototype._fitViewport=function(d){const f=this.viewbox(),m=f.outer,g=f.inner;let b,_;return g.x>=0&&g.y>=0&&g.x+g.width<=m.width&&g.y+g.height<=m.height&&!d?_={x:0,y:0,width:Math.max(g.width+g.x,m.width),height:Math.max(g.height+g.y,m.height)}:(b=Math.min(1,m.width/g.width,m.height/g.height),_={x:g.x+(d?g.width/2-m.width/b/2:0),y:g.y+(d?g.height/2-m.height/b/2:0),width:m.width/b,height:m.height/b}),this.viewbox(_),this.viewbox(!1).scale},_n.prototype._setZoom=function(d,f){const m=this._svg,g=this._viewport,b=m.createSVGMatrix(),_=m.createSVGPoint();let x,w,C,T,P;C=g.getCTM();const O=C.a;return f?(x=de(_,f),w=x.matrixTransform(C.inverse()),T=b.translate(w.x,w.y).scale(1/O*d).translate(-w.x,-w.y),P=C.multiply(T)):P=b.scale(d),u8(this._viewport,P),P},_n.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},_n.prototype.getAbsoluteBBox=function(d){const f=this.viewbox();let m;return m=d.waypoints?this.getGraphics(d).getBBox():d,{x:m.x*f.scale-f.x*f.scale,y:m.y*f.scale-f.y*f.scale,width:m.width*f.scale,height:m.height*f.scale}},_n.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Zf="data-element-id";function qa(d){this._elements={},this._eventBus=d}qa.$inject=["eventBus"],qa.prototype.add=function(d,f,m){var g=d.id;this._validateId(g),_t(f,Zf,g),m&&_t(m,Zf,g),this._elements[g]={element:d,gfx:f,secondaryGfx:m}},qa.prototype.remove=function(d){var f=this._elements,m=d.id||d,g=m&&f[m];g&&(_t(g.gfx,Zf,""),g.secondaryGfx&&_t(g.secondaryGfx,Zf,""),delete f[m])},qa.prototype.updateId=function(d,f){this._validateId(f),"string"==typeof d&&(d=this.get(d)),this._eventBus.fire("element.updateId",{element:d,newId:f});var m=this.getGraphics(d),g=this.getGraphics(d,!0);this.remove(d),d.id=f,this.add(d,m,g)},qa.prototype.updateGraphics=function(d,f,m){var g=d.id||d,b=this._elements[g];return m?b.secondaryGfx=f:b.gfx=f,f&&_t(f,Zf,g),f},qa.prototype.get=function(d){var f;f="string"==typeof d?d:d&&_t(d,Zf);var m=this._elements[f];return m&&m.element},qa.prototype.filter=function(d){var f=[];return this.forEach(function(m,g){d(m,g)&&f.push(m)}),f},qa.prototype.find=function(d){for(var f=this._elements,m=Object.keys(f),g=0;g<m.length;g++){var b=f[m[g]],_=b.element;if(d(_,b.gfx))return _}},qa.prototype.getAll=function(){return this.filter(function(d){return d})},qa.prototype.forEach=function(d){var f=this._elements;Object.keys(f).forEach(function(m){var g=f[m];return d(g.element,g.gfx)})},qa.prototype.getGraphics=function(d,f){var g=this._elements[d.id||d];return g&&(f?g.secondaryGfx:g.gfx)},qa.prototype._validateId=function(d){if(!d)throw new Error("element must have an id");if(this._elements[d])throw new Error("element with id "+d+" already added")};var By={exports:{}},Ou={extend:function(d,f,m,g){var b=m.inverse;return Object.defineProperty(d,"remove",{value:function(_){var x=this.indexOf(_);return-1!==x&&(this.splice(x,1),f.unset(_,b,g)),_}}),Object.defineProperty(d,"contains",{value:function(_){return-1!==this.indexOf(_)}}),Object.defineProperty(d,"add",{value:function(_,x){var w=this.indexOf(_);if(void 0===x){if(-1!==w)return;x=this.length}-1!==w&&this.splice(w,1),this.splice(x,0,_),-1===w&&f.set(_,b,g)}}),Object.defineProperty(d,"__refs_collection",{value:!0}),d},isExtended:function(d){return!0===d.__refs_collection}},d8=Ou;function ku(d,f,m){var g=d8.extend(m[f.name]||[],d,f,m);Object.defineProperty(m,f.name,{enumerable:f.enumerable,value:g}),g.length&&g.forEach(function(b){d.set(b,f.inverse,m)})}function N0(d,f){if(!(this instanceof N0))return new N0(d,f);d.inverse=f,f.inverse=d,this.props={},this.props[d.name]=d,this.props[f.name]=f}N0.prototype.bind=function(d,f){if("string"==typeof f){if(!this.props[f])throw new Error("no property <"+f+"> in ref");f=this.props[f]}var m,g,b,_,x;f.collection?ku(this,f,d):(m=this,_=(g=f).inverse,x=(b=d)[g.name],Object.defineProperty(b,g.name,{configurable:g.configurable,enumerable:g.enumerable,get:function(){return x},set:function(w){if(w!==x){var C=x;x=null,C&&m.unset(C,_,b),m.set(x=w,_,b)}}}))},N0.prototype.ensureRefsCollection=function(d,f){var m=d[f.name];return d8.isExtended(m)||ku(this,f,d),m},N0.prototype.ensureBound=function(d,f){var g;g=f,Object.prototype.hasOwnProperty.call(d,g.name||g)||this.bind(d,f)},N0.prototype.unset=function(d,f,m){d&&(this.ensureBound(d,f),f.collection?this.ensureRefsCollection(d,f).remove(m):d[f.name]=void 0)},N0.prototype.set=function(d,f,m){d&&(this.ensureBound(d,f),f.collection?this.ensureRefsCollection(d,f).add(m):d[f.name]=m)},By.exports=N0,By.exports.Collection=Ou;var Jf=Jo(By.exports),tt=new Jf({name:"children",enumerable:!0,collection:!0},{name:"parent"}),b1=new Jf({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),jy=new Jf({name:"attachers",collection:!0},{name:"host"}),eh=new Jf({name:"outgoing",collection:!0},{name:"source"}),p8=new Jf({name:"incoming",collection:!0},{name:"target"});function th(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(d){var f=this.label,m=this.labels;!d&&f?m.remove(f):m.add(d,0)}}),tt.bind(this,"parent"),b1.bind(this,"labels"),eh.bind(this,"outgoing"),p8.bind(this,"incoming")}function _1(){th.call(this),tt.bind(this,"children"),jy.bind(this,"host"),jy.bind(this,"attachers")}function f8(){th.call(this),tt.bind(this,"children")}function E1(){_1.call(this),b1.bind(this,"labelTarget")}function h8(){th.call(this),eh.bind(this,"source"),p8.bind(this,"target")}Ye(_1,th),Ye(f8,_1),Ye(E1,_1),Ye(h8,th);var $y={connection:h8,shape:_1,label:E1,root:f8};function Mu(){this._uid=12}Mu.prototype.createRoot=function(d){return this.create("root",d)},Mu.prototype.createLabel=function(d){return this.create("label",d)},Mu.prototype.createShape=function(d){return this.create("shape",d)},Mu.prototype.createConnection=function(d){return this.create("connection",d)},Mu.prototype.create=function(d,f){return(f=de({},f||{})).id||(f.id=d+"_"+this._uid++),function(m,g){var b=$y[m];if(!b)throw new Error("unknown type: <"+m+">");return de(new b,g)}(d,f)};var $c="__fn",FO=Array.prototype.slice;function yi(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Vc(){}function x1(d){return d.childNodes[0]}function nh(d,f,m,g,b){var _=Cu();_.setTranslate(f,m);var x=Cu();x.setRotate(g||0,0,0);var w=Cu();w.setScale(b||1,b||1),Cl(d,[_,x,w])}function ds(d,f,m){var g=Cu();g.setTranslate(f,m),Cl(d,g)}function Vy(d,f){var m=Cu();m.setRotate(f,0,0),Cl(d,m)}function Dl(d,f){this._eventBus=d,this._elementRegistry=f}function n_(d,f,m){var g=m||f.firstChild;d!==g&&f.insertBefore(d,g)}yi.prototype.on=function(d,f,m,g){if(d=ut(d)?d:[d],xn(f)&&(g=m,m=f,f=1e3),!at(f))throw new Error("priority must be a number");var b=m;g&&((b=Ze(m,g))[$c]=m[$c]||m);var _=this;d.forEach(function(x){_._addListener(x,{priority:f,callback:b,next:null})})},yi.prototype.once=function(d,f,m,g){var b=this;if(xn(f)&&(g=m,m=f,f=1e3),!at(f))throw new Error("priority must be a number");function _(){_.__isTomb=!0;var x=m.apply(g,arguments);return b.off(d,_),x}_[$c]=m,this.on(d,f,_)},yi.prototype.off=function(d,f){d=ut(d)?d:[d];var m=this;d.forEach(function(g){m._removeListener(g,f)})},yi.prototype.createEvent=function(d){var f=new Vc;return f.init(d),f},yi.prototype.fire=function(d,f){var m,g,b,_;if(_=FO.call(arguments),"object"==typeof d&&(d=(f=d).type),!d)throw new Error("no event type specified");if(g=this._listeners[d]){m=f instanceof Vc?f:this.createEvent(f),_[0]=m;var x=m.type;d!==x&&(m.type=d);try{b=this._invokeListeners(m,_,g)}finally{d!==x&&(m.type=x)}return void 0===b&&m.defaultPrevented&&(b=!1),b}},yi.prototype.handleError=function(d){return!1===this.fire("error",{error:d})},yi.prototype._destroy=function(){this._listeners={}},yi.prototype._invokeListeners=function(d,f,m){for(var g;m&&!d.cancelBubble;)g=this._invokeListener(d,f,m),m=m.next;return g},yi.prototype._invokeListener=function(d,f,m){var g,b;if(m.callback.__isTomb)return g;try{void 0!==(g=(b=m.callback).apply(null,f))&&(d.returnValue=g,d.stopPropagation()),!1===g&&d.preventDefault()}catch(b){if(!this.handleError(b))throw console.error("unhandled error in event listener",b),b}return g},yi.prototype._addListener=function(d,f){var m,g=this._getListeners(d);if(g){for(;g;){if(g.priority<f.priority)return f.next=g,void(m?m.next=f:this._setListeners(d,f));m=g,g=g.next}m.next=f}else this._setListeners(d,f)},yi.prototype._getListeners=function(d){return this._listeners[d]},yi.prototype._setListeners=function(d,f){this._listeners[d]=f},yi.prototype._removeListener=function(d,f){var m,g,b,_=this._getListeners(d);if(f)for(;_;)m=_.next,(b=_.callback)!==f&&b[$c]!==f||(g?g.next=m:this._setListeners(d,m)),g=_,_=m;else this._setListeners(d,null)},Vc.prototype.stopPropagation=function(){this.cancelBubble=!0},Vc.prototype.preventDefault=function(){this.defaultPrevented=!0},Vc.prototype.init=function(d){de(this,d||{})},Dl.$inject=["eventBus","elementRegistry"],Dl.prototype._getChildrenContainer=function(d){var f,m=this._elementRegistry.getGraphics(d);return d.parent?(f=m.parentNode.childNodes[1])||(kn(f=Mt("g")).add("djs-children"),nn(m.parentNode,f)):f=m,f},Dl.prototype._clear=function(d){var f=x1(d);return nr(f),f},Dl.prototype._createContainer=function(d,f,m,g){var b=Mt("g");kn(b).add("djs-group"),void 0!==m?n_(b,f,f.childNodes[m]):nn(f,b);var _=Mt("g");kn(_).add("djs-element"),kn(_).add("djs-"+d),g&&kn(_).add("djs-frame"),nn(b,_);var x=Mt("g");return kn(x).add("djs-visual"),nn(_,x),_},Dl.prototype.create=function(d,f,m){var g=this._getChildrenContainer(f.parent);return this._createContainer(d,g,m,Ay(f))},Dl.prototype.updateContainments=function(d){var m=this,g=this._elementRegistry;ge(zr(d,function(b,_){return _.parent&&(b[_.parent.id]=_.parent),b},{}),function(b){var _=b.children;if(_){var x=m._getChildrenContainer(b);ge(_.slice().reverse(),function(w){n_(g.getGraphics(w).parentNode,x)})}})},Dl.prototype.drawShape=function(d,f,m={}){return this._eventBus.fire("render.shape",{gfx:d,element:f,attrs:m})},Dl.prototype.getShapePath=function(d){return this._eventBus.fire("render.getShapePath",d)},Dl.prototype.drawConnection=function(d,f,m={}){return this._eventBus.fire("render.connection",{gfx:d,element:f,attrs:m})},Dl.prototype.getConnectionPath=function(d){return this._eventBus.fire("render.getConnectionPath",d)},Dl.prototype.update=function(d,f,m){if(f.parent){var g=this._clear(m);if("shape"===d)this.drawShape(g,f),ds(m,f.x,f.y);else{if("connection"!==d)throw new Error("unknown type: "+d);this.drawConnection(g,f)}_t(m,"display",f.hidden?"none":"block")}},Dl.prototype.remove=function(d){hi(this._elementRegistry.getGraphics(d).parentNode)};var jV={__depends__:[s8],__init__:["canvas"],canvas:["type",_n],elementRegistry:["type",qa],elementFactory:["type",Mu],eventBus:["type",yi],graphicsFactory:["type",Dl]};function L0(d,f){this._injector=f=f||function Wa(d){return function(f){var m=new M0(f);return m.init(),m}([{config:["value",d=d||{}]},jV].concat(d.modules||[]))}(d),this.get=f.get,this.invoke=f.invoke,this.get("eventBus").fire("diagram.init")}function F0(){}function BO(d,f){this.model=d,this.properties=f}L0.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},L0.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},F0.prototype.get=function(d){return this.$model.properties.get(this,d)},F0.prototype.set=function(d,f){this.$model.properties.set(this,d,f)},BO.prototype.createType=function(d){var f=this.model,m=this.properties,g=Object.create(F0.prototype);ge(d.properties,function(x){x.isMany||void 0===x.default||(g[x.name]=x.default)}),m.defineModel(g,f),m.defineDescriptor(g,d);var b=d.ns.name;function _(x){m.define(this,"$type",{value:b,enumerable:!0}),m.define(this,"$attrs",{value:{}}),m.define(this,"$parent",{writable:!0}),ge(x,Ze(function(w,C){this.set(C,w)},this))}return _.prototype=g,_.hasType=g.$instanceOf=this.model.hasType,m.defineModel(_,f),m.defineDescriptor(_,d),_};var m8={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},tc={String:function(d){return d},Boolean:function(d){return"true"===d},Integer:function(d){return parseInt(d,10)},Real:function(d){return parseFloat(d)}};function Cr(d,f){var m=tc[d];return m?m(f):f}function Ru(d){return!!m8[d]}function r_(d){return!!tc[d]}function ps(d,f){var m,g,b=d.split(/:/);if(1===b.length)m=d,g=f;else{if(2!==b.length)throw new Error("expected <prefix:localName> or <localName>, got "+d);m=b[1],g=b[0]}return{name:d=(g?g+":":"")+m,prefix:g,localName:m}}function Js(d){this.ns=d,this.name=d.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function nc(d,f){this.packageMap={},this.typeMap={},this.packages=[],this.properties=f,ge(d,Ze(this.registerPackage,this))}function Tl(d,f,m){var g=f[m];if(g in d)throw new Error("package with "+m+" <"+g+"> already defined")}function Fs(d){this.model=d}function g8(d,f,m){Object.defineProperty(d,f.name,{enumerable:!f.isReference,writable:!0,value:m,configurable:!0})}function xa(d){this.properties=new Fs(this),this.factory=new BO(this,this.properties),this.registry=new nc(d,this.properties),this.typeCache={}}Js.prototype.build=function(){return It(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Js.prototype.addProperty=function(d,f,m){"boolean"==typeof f&&(m=f,f=void 0),this.addNamedProperty(d,!1!==m);var g=this.properties;void 0!==f?g.splice(f,0,d):g.push(d)},Js.prototype.replaceProperty=function(d,f,m){var g=d.ns,b=this.properties,_=this.propertiesByName,x=d.name!==f.name;if(d.isId){if(!f.isId)throw new Error("property <"+f.ns.name+"> must be id property to refine <"+d.ns.name+">");this.setIdProperty(f,!1)}if(d.isBody){if(!f.isBody)throw new Error("property <"+f.ns.name+"> must be body property to refine <"+d.ns.name+">");this.setBodyProperty(f,!1)}var w=b.indexOf(d);if(-1===w)throw new Error("property <"+g.name+"> not found in property list");b.splice(w,1),this.addProperty(f,m?void 0:w,x),_[g.name]=_[g.localName]=f},Js.prototype.redefineProperty=function(d,f,m){var g=d.ns.prefix,b=f.split("#"),_=ps(b[0],g),x=ps(b[1],_.prefix).name,w=this.propertiesByName[x];if(!w)throw new Error("refined property <"+x+"> not found");this.replaceProperty(w,d,m),delete d.redefines},Js.prototype.addNamedProperty=function(d,f){var m=d.ns,g=this.propertiesByName;f&&(this.assertNotDefined(d,m.name),this.assertNotDefined(d,m.localName)),g[m.name]=g[m.localName]=d},Js.prototype.removeNamedProperty=function(d){var f=d.ns,m=this.propertiesByName;delete m[f.name],delete m[f.localName]},Js.prototype.setBodyProperty=function(d,f){if(f&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+d.ns.name+">)");this.bodyProperty=d},Js.prototype.setIdProperty=function(d,f){if(f&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+d.ns.name+">)");this.idProperty=d},Js.prototype.assertNotDefined=function(d,f){var m=d.name,g=this.propertiesByName[m];if(g)throw new Error("property <"+m+"> already defined; override of <"+g.definedBy.ns.name+"#"+g.ns.name+"> by <"+d.definedBy.ns.name+"#"+d.ns.name+"> not allowed without redefines")},Js.prototype.hasProperty=function(d){return this.propertiesByName[d]},Js.prototype.addTrait=function(d,f){var m=this.allTypesByName,g=this.allTypes,b=d.name;b in m||(ge(d.properties,Ze(function(_){_=de({},_,{name:_.ns.localName,inherited:f}),Object.defineProperty(_,"definedBy",{value:d});var x=_.replaces,w=_.redefines;x||w?this.redefineProperty(_,x||w,x):(_.isBody&&this.setBodyProperty(_),_.isId&&this.setIdProperty(_),this.addProperty(_))},this)),g.push(d),m[b]=d)},nc.prototype.getPackage=function(d){return this.packageMap[d]},nc.prototype.getPackages=function(){return this.packages},nc.prototype.registerPackage=function(d){d=de({},d);var f=this.packageMap;Tl(f,d,"prefix"),Tl(f,d,"uri"),ge(d.types,Ze(function(m){this.registerType(m,d)},this)),f[d.uri]=f[d.prefix]=d,this.packages.push(d)},nc.prototype.registerType=function(d,f){var m=ps((d=de({},d,{superClass:(d.superClass||[]).slice(),extends:(d.extends||[]).slice(),properties:(d.properties||[]).slice(),meta:de(d.meta||{})})).name,f.prefix),g=m.name,b={};ge(d.properties,Ze(function(_){var x=ps(_.name,m.prefix),w=x.name;Ru(_.type)||(_.type=ps(_.type,x.prefix).name),de(_,{ns:x,name:w}),b[w]=_},this)),de(d,{ns:m,name:g,propertiesByName:b}),ge(d.extends,Ze(function(_){var x=this.typeMap[_];x.traits=x.traits||[],x.traits.push(g)},this)),this.definePackage(d,f),this.typeMap[g]=d},nc.prototype.mapTypes=function(d,f,m){var g=Ru(d.name)?{name:d.name}:this.typeMap[d.name],b=this;function _(w){return x(w,!0)}function x(w,C){var T=ps(w,Ru(w)?"":d.prefix);b.mapTypes(T,f,C)}if(!g)throw new Error("unknown type <"+d.name+">");ge(g.superClass,m?_:x),f(g,!m),ge(g.traits,_)},nc.prototype.getEffectiveDescriptor=function(d){var f=ps(d),m=new Js(f);this.mapTypes(f,function(b,_){m.addTrait(b,_)});var g=m.build();return this.definePackage(g,g.allTypes[g.allTypes.length-1].$pkg),g},nc.prototype.definePackage=function(d,f){this.properties.define(d,"$pkg",{value:f})},Fs.prototype.set=function(d,f,m){if(!Or(f)||!f.length)throw new TypeError("property name must be a non-empty string");var g=this.model.getPropertyDescriptor(d,f),b=g&&g.name;void 0===m?g?delete d[b]:delete d.$attrs[f]:g?b in d?d[b]=m:g8(d,g,m):d.$attrs[f]=m},Fs.prototype.get=function(d,f){var m=this.model.getPropertyDescriptor(d,f);if(!m)return d.$attrs[f];var g=m.name;return!d[g]&&m.isMany&&g8(d,m,[]),d[g]},Fs.prototype.define=function(d,f,m){if(!m.writable){var g=m.value;delete(m=de({},m,{get:function(){return g}})).value}Object.defineProperty(d,f,m)},Fs.prototype.defineDescriptor=function(d,f){this.define(d,"$descriptor",{value:f})},Fs.prototype.defineModel=function(d,f){this.define(d,"$model",{value:f})},xa.prototype.create=function(d,f){var m=this.getType(d);if(!m)throw new Error("unknown type <"+d+">");return new m(f)},xa.prototype.getType=function(d){var f=this.typeCache,m=Or(d)?d:d.ns.name,g=f[m];return g||(d=this.registry.getEffectiveDescriptor(m),g=f[m]=this.factory.createType(d)),g},xa.prototype.createAny=function(d,f,m){var g=ps(d),b={$type:d,$instanceOf:function(x){return x===this.$type}};return this.properties.defineDescriptor(b,{name:d,isGeneric:!0,ns:{prefix:g.prefix,localName:g.localName,uri:f}}),this.properties.defineModel(b,this),this.properties.define(b,"$parent",{enumerable:!1,writable:!0}),this.properties.define(b,"$instanceOf",{enumerable:!1,writable:!0}),ge(m,function(x,w){Sn(x)&&void 0!==x.value?b[x.name]=x.value:b[w]=x}),b},xa.prototype.getPackage=function(d){return this.registry.getPackage(d)},xa.prototype.getPackages=function(){return this.registry.getPackages()},xa.prototype.getElementDescriptor=function(d){return d.$descriptor},xa.prototype.hasType=function(d,f){return void 0===f&&(f=d,d=this),f in d.$model.getElementDescriptor(d).allTypesByName},xa.prototype.getPropertyDescriptor=function(d,f){return this.getElementDescriptor(d).propertiesByName[f]},xa.prototype.getTypeDescriptor=function(d){return this.registry.typeMap[d]};var v8=String.fromCharCode,y8=Object.prototype.hasOwnProperty,w1=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,rh={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function b8(d,f,m,g){return g?y8.call(rh,g)?rh[g]:"&"+g+";":v8(f||parseInt(m,16))}function lp(d){return d.length>3&&-1!==d.indexOf("&")?d.replace(w1,b8):d}Object.keys(rh).forEach(function(d){rh[d.toUpperCase()]=rh[d]});var zy="xsi:type",_8="non-whitespace outside of root node";function ih(d){return new Error(d)}function Pl(d){return"missing namespace for prefix <"+d+">"}function Hy(d){return{get:d,enumerable:!0}}function E8(d){var f,m={};for(f in d)m[f]=d[f];return m}function i_(d){return d+"$uri"}function x8(){return{line:0,column:0}}function jO(d){throw d}function w8(d){if(!this)return new w8(d);var f,m,g,b,_,x,w,C,T,P=d&&d.proxy,O=jO,M=x8,A=!1,I=!1,V=null,W=!1;function H(Q){Q instanceof Error||(Q=ih(Q)),V=Q,O(Q,M)}function z(Q){_&&(Q instanceof Error||(Q=ih(Q)),_(Q,M))}this.on=function(Q,J){if("function"!=typeof J)throw ih("required args <name, cb>");switch(Q){case"openTag":m=J;break;case"text":f=J;break;case"closeTag":g=J;break;case"error":O=J;break;case"warn":_=J;break;case"cdata":b=J;break;case"attention":C=J;break;case"question":w=J;break;case"comment":x=J;break;default:throw ih("unsupported event: "+Q)}return this},this.ns=function(Q){if(void 0===Q&&(Q={}),"object"!=typeof Q)throw ih("required args <nsMap={}>");var J,oe={};for(J in Q)oe[J]=Q[J];return oe["http://www.w3.org/2001/XMLSchema-instance"]="xsi",I=!0,T=oe,this},this.parse=function(Q){if("string"!=typeof Q)throw ih("required args <xml=string>");return V=null,function(J){var oe,Oe,Ee,De,Ne,Yt,mt,Ve,Qe,dn,ue,G=I?[]:null,xe=I?function(Wr){var bi,Mr,si={};for(bi in Wr)si[Mr=Wr[bi]]=Mr,si[i_(Mr)]=bi;return si}(T):null,He=[],Je=0,Nt=!1,Vt=!1,qt=0,wt=0,pr="",$r=0;function jl(){if(null!==ue)return ue;var Wr,bi,Mr,si,Hi,yr,xs,br,wi,In,_r,Gp=I&&xe.xmlns,tu=I&&A?[]:null,ho=$r,ws=pr,rl=ws.length,vd={},il={};e:for(;ho<rl;ho++)if(wi=!1,!(32===(In=ws.charCodeAt(ho))||In<14&&In>8)){for((In<65||In>122||In>90&&In<97)&&95!==In&&58!==In&&(z("illegal first char attribute name"),wi=!0),_r=ho+1;_r<rl;_r++)if(!((In=ws.charCodeAt(_r))>96&&In<123||In>64&&In<91||In>47&&In<59||46===In||45===In||95===In)){if(32===In||In<14&&In>8){z("missing attribute value"),ho=_r;continue e}if(61===In)break;z("illegal attribute name char"),wi=!0}if("xmlns:xmlns"===(br=ws.substring(ho,_r))&&(z("illegal declaration of xmlns"),wi=!0),34===(In=ws.charCodeAt(_r+1)))-1===(_r=ws.indexOf('"',ho=_r+2))&&-1!==(_r=ws.indexOf("'",ho))&&(z("attribute value quote missmatch"),wi=!0);else if(39===In)-1===(_r=ws.indexOf("'",ho=_r+2))&&-1!==(_r=ws.indexOf('"',ho))&&(z("attribute value quote missmatch"),wi=!0);else for(z("missing attribute value quotes"),wi=!0,_r+=1;_r<rl&&!(32===(In=ws.charCodeAt(_r+1))||In<14&&In>8);_r++);for(-1===_r&&(z("missing closing quotes"),_r=rl,wi=!0),wi||(yr=ws.substring(ho,_r)),ho=_r;_r+1<rl&&!(32===(In=ws.charCodeAt(_r+1))||In<14&&In>8);_r++)ho===_r&&(z("illegal character after attribute end"),wi=!0);if(ho=_r+1,!wi)if(br in il)z("attribute <"+br+"> already defined");else if(il[br]=!0,I)if(A){if(null!==(Hi="xmlns"===br?"xmlns":120===br.charCodeAt(0)&&"xmlns:"===br.substr(0,6)?br.substr(6):null)){if(Wr=lp(yr),bi=i_(Hi),!(xs=T[Wr])){if("xmlns"===Hi||bi in xe&&xe[bi]!==Wr)do{xs="ns"+Je++}while(void 0!==xe[xs]);else xs=Hi;T[Wr]=xs}xe[Hi]!==xs&&(si||(xe=E8(xe),si=!0),xe[Hi]=xs,"xmlns"===Hi&&(xe[i_(xs)]=Wr,Gp=xs),xe[bi]=Wr),vd[br]=yr;continue}tu.push(br,yr)}else-1!==(In=br.indexOf(":"))?(Mr=xe[br.substring(0,In)])?((br=Gp===Mr?br.substr(In+1):Mr+br.substr(In))===zy&&(-1!==(In=yr.indexOf(":"))?(Mr=yr.substring(0,In),yr=(Mr=xe[Mr]||Mr)+yr.substring(In)):yr=Gp+":"+yr),vd[br]=yr):z(Pl(br.substring(0,In))):vd[br]=yr;else vd[br]=yr}if(A)for(ho=0,rl=tu.length;ho<rl;ho++){if(br=tu[ho++],yr=tu[ho],-1!==(In=br.indexOf(":"))){if(!(Mr=xe[br.substring(0,In)])){z(Pl(br.substring(0,In)));continue}(br=Gp===Mr?br.substr(In+1):Mr+br.substr(In))===zy&&(-1!==(In=yr.indexOf(":"))?(Mr=yr.substring(0,In),yr=(Mr=xe[Mr]||Mr)+yr.substring(In)):yr=Gp+":"+yr)}vd[br]=yr}return ue=vd}for(M=function qs(){for(var Wr,bi,Mr=/(\r\n|\r|\n)/g,si=0,Hi=0,yr=0,xs=wt;qt>=yr&&(Wr=Mr.exec(J))&&!((xs=Wr[0].length+Wr.index)>qt);)si+=1,yr=xs;return-1==qt?(Hi=xs,bi=J.substring(wt)):0===wt?bi=J.substring(wt,qt):(Hi=qt-yr,bi=-1==wt?J.substring(qt):J.substring(qt,wt+1)),{data:bi,line:si,column:Hi}},P&&(dn=Object.create({},{name:Hy(function(){return Ve}),originalName:Hy(function(){return Qe}),attrs:Hy(jl),ns:Hy(function(){return xe})}));-1!==wt;){if(-1===(qt=60===J.charCodeAt(wt)?wt:J.indexOf("<",wt)))return He.length?H("unexpected end of file"):0===wt?H("missing start tag"):void(wt<J.length&&J.substring(wt).trim()&&z(_8));if(wt!==qt)if(He.length){if(f&&(f(J.substring(wt,qt),lp,M),W))return}else if(J.substring(wt,qt).trim()&&(z(_8),W))return;if(33===(Ne=J.charCodeAt(qt+1))){if(91===(De=J.charCodeAt(qt+2))&&"CDATA["===J.substr(qt+3,6)){if(-1===(wt=J.indexOf("]]>",qt)))return H("unclosed cdata");if(b&&(b(J.substring(qt+9,wt),M),W))return;wt+=3;continue}if(45===De&&45===J.charCodeAt(qt+3)){if(-1===(wt=J.indexOf("--\x3e",qt)))return H("unclosed comment");if(x&&(x(J.substring(qt+4,wt),lp,M),W))return;wt+=3;continue}}if(63!==Ne){for(Oe=qt+1;;Oe++){if(Yt=J.charCodeAt(Oe),isNaN(Yt))return wt=-1,H("unclosed tag");if(34===Yt)Oe=-1!==(De=J.indexOf('"',Oe+1))?De:Oe;else if(39===Yt)Oe=-1!==(De=J.indexOf("'",Oe+1))?De:Oe;else if(62===Yt){wt=Oe;break}}if(33!==Ne){if(ue={},47===Ne){if(Nt=!1,Vt=!0,!He.length)return H("missing open tag");if(Oe=Ve=He.pop(),J.substring(qt+2,De=qt+2+Oe.length)!==Oe)return H("closing tag mismatch");for(;De<wt;De++)if(!(32===(Ne=J.charCodeAt(De))||Ne>8&&Ne<14))return H("close tag")}else{if(47===J.charCodeAt(wt-1)?(Oe=Ve=J.substring(qt+1,wt-1),Nt=!0,Vt=!0):(Oe=Ve=J.substring(qt+1,wt),Nt=!0,Vt=!1),!(Ne>96&&Ne<123||Ne>64&&Ne<91||95===Ne||58===Ne))return H("illegal first char nodeName");for(De=1,Ee=Oe.length;De<Ee;De++)if(!((Ne=Oe.charCodeAt(De))>96&&Ne<123||Ne>64&&Ne<91||Ne>47&&Ne<59||45===Ne||95===Ne||46==Ne)){if(32===Ne||Ne<14&&Ne>8){Ve=Oe.substring(0,De),ue=null;break}return H("invalid nodeName")}Vt||He.push(Ve)}if(I){if(oe=xe,Nt&&(Vt||G.push(oe),null===ue&&(A=-1!==Oe.indexOf("xmlns",De))&&($r=De,pr=Oe,jl(),A=!1)),Qe=Ve,-1!==(Ne=Ve.indexOf(":"))){if(!(mt=xe[Ve.substring(0,Ne)]))return H("missing namespace on <"+Qe+">");Ve=Ve.substr(Ne+1)}else mt=xe.xmlns;mt&&(Ve=mt+":"+Ve)}if(Nt&&($r=De,pr=Oe,m&&(P?m(dn,lp,Vt,M):m(Ve,jl,lp,Vt,M),W)))return;if(Vt){if(g&&(g(P?dn:Ve,lp,Nt,M),W))return;I&&(xe=Nt?oe:G.pop())}wt+=1}else{if(C&&(C(J.substring(qt,wt+1),lp,M),W))return;wt+=1}}else{if(-1===(wt=J.indexOf("?>",qt)))return H("unclosed question");if(w&&(w(J.substring(qt,wt+2),M),W))return;wt+=2}}}(Q),M=x8,W=!1,V},this.stop=function(){W=!0}}function o_(d){return d.xml&&"lowerCase"===d.xml.tagAlias}var $O={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Uy="xsi:type";function S8(d){return d.xml&&d.xml.serialize}function S1(d){return S8(d)===Uy}function C8(d,f){return o_(f)?d.prefix+":"+((m=d.localName).charAt(0).toUpperCase()+m.slice(1)):d.name;var m}function B0(d){return new Error(d)}function Bs(d){return d.$descriptor}function D8(d){de(this,d),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(f){this.references.push(f)},this.addElement=function(f){if(!f)throw B0("expected element");var m,g=this.elementsById,b=Bs(f).idProperty;if(b&&(m=f.get(b.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(m))throw new Error("illegal ID <"+m+">");if(g[m])throw B0("duplicate ID <"+m+">");g[m]=f}},this.addWarning=function(f){this.warnings.push(f)}}function jo(){}function js(){}function Hn(){}function Zi(d,f){this.property=d,this.context=f}function $o(d,f){this.element=f,this.propertyDesc=d}function rc(){}function Gr(d,f,m){this.model=d,this.type=d.getType(f),this.context=m}function Gy(d,f,m){Gr.call(this,d,f,m)}function cp(d,f,m){this.model=d,this.context=m}function oh(d){d instanceof xa&&(d={model:d}),de(this,{lax:!1},d)}jo.prototype.handleEnd=function(){},jo.prototype.handleText=function(){},jo.prototype.handleNode=function(){},(js.prototype=Object.create(jo.prototype)).handleNode=function(){return this},(Hn.prototype=Object.create(jo.prototype)).handleText=function(d){this.body=(this.body||"")+d},(Zi.prototype=Object.create(Hn.prototype)).handleNode=function(d){if(this.element)throw B0("expected no sub nodes");return this.element=this.createReference(d),this},Zi.prototype.handleEnd=function(){this.element.id=this.body},Zi.prototype.createReference=function(d){return{property:this.property.ns.name,id:""}},($o.prototype=Object.create(Hn.prototype)).handleEnd=function(){var d=this.body||"",f=this.element,m=this.propertyDesc;d=Cr(m.type,d),m.isMany?f.get(m.name).push(d):f.set(m.name,d)},(rc.prototype=Object.create(Hn.prototype)).handleNode=function(d){var f=this,m=this.element;return m?f=this.handleChild(d):(m=this.element=this.createElement(d),this.context.addElement(m)),f},(Gr.prototype=Object.create(rc.prototype)).addReference=function(d){this.context.addReference(d)},Gr.prototype.handleText=function(d){if(!Bs(this.element).bodyProperty)throw B0("unexpected body text <"+d+">");Hn.prototype.handleText.call(this,d)},Gr.prototype.handleEnd=function(){var d=this.body,f=this.element,m=Bs(f).bodyProperty;m&&void 0!==d&&(d=Cr(m.type,d),f.set(m.name,d))},Gr.prototype.createElement=function(d){var f,m=d.attributes,g=this.type,b=Bs(g),_=this.context,x=new g({}),w=this.model;return ge(m,function(C,T){var P=b.propertiesByName[T];P&&P.isReference?P.isMany?ge(C.split(" "),function(O){_.addReference({element:x,property:P.ns.name,id:O})}):_.addReference({element:x,property:P.ns.name,id:C}):(P?C=Cr(P.type,C):"xmlns"!==T&&(f=ps(T,b.ns.prefix),w.getPackage(f.prefix)&&_.addWarning({message:"unknown attribute <"+T+">",element:x,property:T,value:C})),x.set(T,C))}),x},Gr.prototype.getPropertyForNode=function(d){var f,m,O,A,I,V,W,H,M,g=ps(d.name),_=this.model,x=Bs(this.type),C=x.propertiesByName[g.name];if(C&&!C.isAttr)return S1(C)&&(f=d.attributes[Uy])?(O=_,A=M=ps(f),I=O.getPackage(M.prefix),V=A.name,W=A.localName,f=(H=I.xml&&I.xml.typePrefix)&&0===W.indexOf(H)?A.prefix+":"+W.slice(H.length):V,de({},C,{effectiveType:Bs(m=_.getType(f)).name})):C;var T=_.getPackage(g.prefix);if(T){if(f=C8(g,T),m=_.getType(f),C=ln(x.properties,function(P){return!P.isVirtual&&!P.isReference&&!P.isAttribute&&m.hasType(P.type)}))return de({},C,{effectiveType:Bs(m).name})}else if(C=ln(x.properties,function(P){return!P.isReference&&!P.isAttribute&&"Element"===P.type}))return C;throw B0("unrecognized element <"+g.name+">")},Gr.prototype.toString=function(){return"ElementDescriptor["+Bs(this.type).name+"]"},Gr.prototype.valueHandler=function(d,f){return new $o(d,f)},Gr.prototype.referenceHandler=function(d){return new Zi(d,this.context)},Gr.prototype.handler=function(d){return"Element"===d?new cp(this.model,d,this.context):new Gr(this.model,d,this.context)},Gr.prototype.handleChild=function(d){var f,m,g,b;if(f=this.getPropertyForNode(d),g=this.element,r_(m=f.effectiveType||f.type))return this.valueHandler(f,g);var _=(b=f.isReference?this.referenceHandler(f).handleNode(d):this.handler(m).handleNode(d)).element;return void 0!==_&&(f.isMany?g.get(f.name).push(_):g.set(f.name,_),f.isReference?(de(_,{element:g}),this.context.addReference(_)):_.$parent=g),b},(Gy.prototype=Object.create(Gr.prototype)).createElement=function(d){var f=d.name,m=ps(f),b=this.type,_=this.model.getPackage(m.prefix),x=_&&C8(m,_)||f;if(!b.hasType(x))throw B0("unexpected element <"+d.originalName+">");return Gr.prototype.createElement.call(this,d)},(cp.prototype=Object.create(rc.prototype)).createElement=function(d){var f=d.name,m=ps(f).prefix;return this.model.createAny(f,d.ns[m+"$uri"],d.attributes)},cp.prototype.handleChild=function(d){var f=new cp(this.model,"Element",this.context).handleNode(d),m=this.element,g=f.element;return void 0!==g&&((m.$children=m.$children||[]).push(g),g.$parent=m),f},cp.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},oh.prototype.fromXML=function(d,f,m){var g=f.rootHandler;f instanceof Gr?(g=f,f={}):"string"==typeof f?(g=this.handler(f),f={}):"string"==typeof g&&(g=this.handler(g));var W,b=this.model,_=this.lax,x=new D8(de({},f,{rootHandler:g})),w=new w8({proxy:!0}),C=(W=[],Object.defineProperty(W,"peek",{value:function(){return this[this.length-1]}}),W);function T(W,H,z){var Q=H(),J=Q.line,oe=Q.column,Oe=Q.data;"<"===Oe.charAt(0)&&-1!==Oe.indexOf(" ")&&(Oe=Oe.slice(0,Oe.indexOf(" "))+">");var Ee="unparsable content "+(Oe?Oe+" ":"")+"detected\n\tline: "+J+"\n\tcolumn: "+oe+"\n\tnested error: "+W.message;if(z)return x.addWarning({message:Ee,error:W}),!0;throw B0(Ee)}function P(W,H){return T(W,H,!0)}g.context=x,C.push(g);var O=/^<\?xml /i,M=/ encoding="([^"]+)"/i,A=/^utf-8$/i;function I(W,H){try{C.peek().handleText(W)}catch(z){P(z,H)}}var V=b.getPackages().reduce(function(W,H){return W[H.uri]=H.prefix,W},{"http://www.w3.org/XML/1998/namespace":"xml"});return w.ns(V).on("openTag",function(W,H,z,Q){var J=W.attrs||{},oe=Object.keys(J).reduce(function(Oe,Ee){var De=H(J[Ee]);return Oe[Ee]=De,Oe},{});!function(Oe,Ee){var De=C.peek();try{C.push(De.handleNode(Oe))}catch(Ne){T(Ne,Ee,_)&&C.push(new js)}}({name:W.name,originalName:W.originalName,attributes:oe,ns:W.ns},Q)}).on("question",function(W){if(O.test(W)){var H=M.exec(W),z=H&&H[1];z&&!A.test(z)&&x.addWarning({message:"unsupported document encoding <"+z+">, falling back to UTF-8"})}}).on("closeTag",function(){C.pop().handleEnd()}).on("cdata",I).on("text",function(W,H,z){var Q,J;J=z,(Q=H(W)).trim()&&I(Q,J)}).on("error",T).on("warn",P),new Promise(function(W,H){var z;try{w.parse(d),function(){var Ee,De,Ne=x.elementsById,Yt=x.references;for(Ee=0;De=Yt[Ee];Ee++){var mt=De.element,Ve=Ne[De.id],Qe=Bs(mt).propertiesByName[De.property];if(Ve||x.addWarning({message:"unresolved reference <"+De.id+">",element:De.element,property:De.property,value:De.id}),Qe.isMany){var dn=mt.get(Qe.name),ue=dn.indexOf(De);-1===ue&&(ue=dn.length),Ve?dn[ue]=Ve:dn.splice(ue,1)}else mt.set(Qe.name,Ve)}}()}catch(Ee){z=Ee}var Q=g.element;z||Q||(z=B0("failed to parse document as <"+g.type.$descriptor.name+">"));var J=x.warnings,oe=x.references,Oe=x.elementsById;return z?(z.warnings=J,H(z)):W({rootElement:Q,elementsById:Oe,references:oe,warnings:J})})},oh.prototype.handler=function(d){return new Gy(this.model,d)};var VO=/<|>|'|"|&|\n\r|\n/g,T8=/<|>|&/g;function C1(d){var f={},m={},g={},b=[],_=[];this.byUri=function(x){return m[x]||d&&d.byUri(x)},this.add=function(x,w){m[x.uri]=x,w?b.push(x):_.push(x),this.mapPrefix(x.prefix,x.uri)},this.uriByPrefix=function(x){return f[x||"xmlns"]},this.mapPrefix=function(x,w){f[x||"xmlns"]=w},this.getNSKey=function(x){return void 0!==x.prefix?x.uri+"|"+x.prefix:x.uri},this.logUsed=function(x){var w=x.uri,C=this.getNSKey(x);g[C]=this.byUri(w),d&&d.logUsed(x)},this.getUsed=function(x){var w=this;return[].concat(b,_).filter(function(C){var T=w.getNSKey(C);return g[T]})}}function zO(d,f){return o_(f)?(m=d).charAt(0).toLowerCase()+m.slice(1):d;var m}function qy(d,f){d.super_=f,d.prototype=Object.create(f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}function s_(d){return Or(d)?d:(d.prefix?d.prefix+":":"")+d.localName}var Wy={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},$V={"<":"lt",">":"gt","&":"amp"};function Xy(d,f,m){return(d=Or(d)?d:""+d).replace(f,function(g){return"&"+m[g]+";"})}function a_(d){this.tagName=d}function Au(){}function Yy(d){this.tagName=d}function xi(d,f){this.body=[],this.attrs=[],this.parent=d,this.propertyDescriptor=f}function zc(d,f){xi.call(this,d,f)}function HO(){this.value="",this.write=function(d){this.value+=d}}function l_(d,f){var m=[""];this.append=function(g){return d.write(g),this},this.appendNewLine=function(){return f&&d.write("\n"),this},this.appendIndent=function(){return f&&d.write(m.join("  ")),this},this.indent=function(){return m.push(""),this},this.unindent=function(){return m.pop(),this}}function Ky(d){return d=de({format:!1,preamble:!0},d||{}),{toXML:function(f,m){var g=m||new HO,b=new l_(g,d.format);if(d.preamble&&b.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new xi).build(f).serializeTo(b),!m)return g.value}}}function Qy(d,f){xa.call(this,d,f)}a_.prototype.build=function(d){return this.element=d,this},a_.prototype.serializeTo=function(d){d.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Au.prototype.serializeValue=Au.prototype.serializeTo=function(d){d.append(this.escape?Xy(this.value,T8,$V):this.value)},Au.prototype.build=function(d,f){return this.value=f,"String"===d.type&&-1!==f.search(T8)&&(this.escape=!0),this},qy(Yy,Au),Yy.prototype.serializeTo=function(d){d.appendIndent().append("<"+this.tagName+">"),this.serializeValue(d),d.append("</"+this.tagName+">").appendNewLine()},xi.prototype.build=function(d){this.element=d;var f,m,x,g=d.$descriptor,b=this.propertyDescriptor,_=g.isGeneric;return f=_?this.parseGeneric(d):this.parseNsAttributes(d),this.ns=b?this.nsPropertyTagName(b):this.nsTagName(g),this.tagName=this.addTagName(this.ns),_||(m=Ot((x=d).$descriptor.properties,function(w){var C=w.name;if(w.isVirtual||!gn(x,C))return!1;var T=x[C];return T!==w.default&&null!==T&&(!w.isMany||T.length)}),this.parseAttributes(Ot(m,function(x){return x.isAttr})),this.parseContainments(function(x){return Ot(x,function(w){return!w.isAttr})}(m))),this.parseGenericAttributes(d,f),this},xi.prototype.nsTagName=function(d){return function(f,m){return de(m.isGeneric?{localName:m.ns.localName}:{localName:zO(m.ns.localName,m.$pkg)},f)}(this.logNamespaceUsed(d.ns),d)},xi.prototype.nsPropertyTagName=function(d){return function(f,m){return de({localName:m.ns.localName},f)}(this.logNamespaceUsed(d.ns),d)},xi.prototype.isLocalNs=function(d){return d.uri===this.ns.uri},xi.prototype.nsAttributeName=function(d){var f;if(f=Or(d)?ps(d):d.ns,d.inherited)return{localName:f.localName};var m=this.logNamespaceUsed(f);return this.getNamespaces().logUsed(m),this.isLocalNs(m)?{localName:f.localName}:de({localName:f.localName},m)},xi.prototype.parseGeneric=function(d){var f=this,m=this.body,g=[];return ge(d,function(b,_){"$body"===_?m.push((new Au).build({type:"String"},b)):"$children"===_?ge(b,function(x){m.push(new xi(f).build(x))}):0!==_.indexOf("$")&&f.parseNsAttribute(d,_,b)&&g.push({name:_,value:b})}),g},xi.prototype.parseNsAttribute=function(d,f,m){var g,b=d.$model,_=ps(f);if("xmlns"===_.prefix&&(g={prefix:_.localName,uri:m}),_.prefix||"xmlns"!==_.localName||(g={uri:m}),!g)return{name:f,value:m};if(b&&b.getPackage(m))this.logNamespace(g,!0,!0);else{var x=this.logNamespaceUsed(g,!0);this.getNamespaces().logUsed(x)}},xi.prototype.parseNsAttributes=function(d,f){var m=this,b=[];return ge(d.$attrs,function(_,x){var w=m.parseNsAttribute(d,x,_);w&&b.push(w)}),b},xi.prototype.parseGenericAttributes=function(d,f){var m=this;ge(f,function(g){if(g.name!==Uy)try{m.addAttribute(m.nsAttributeName(g.name),g.value)}catch(b){console.warn("missing namespace information for ",g.name,"=",g.value,"on",d,b)}})},xi.prototype.parseContainments=function(d){var f=this,m=this.body,g=this.element;ge(d,function(b){var _=g.get(b.name),x=b.isReference;if(b.isMany||(_=[_]),b.isBody)m.push((new Au).build(b,_[0]));else if(r_(b.type))ge(_,function(T){m.push(new Yy(f.addTagName(f.nsPropertyTagName(b))).build(b,T))});else if(x)ge(_,function(T){m.push(new a_(f.addTagName(f.nsPropertyTagName(b))).build(T))});else{var w=S1(b),C="property"===S8(b);ge(_,function(T){var P;P=w?new zc(f,b):C?new xi(f,b):new xi(f),m.push(P.build(T))})}})},xi.prototype.getNamespaces=function(d){var f,m=this.namespaces,g=this.parent;return m||(f=g&&g.getNamespaces(),d||!f?this.namespaces=m=new C1(f):m=f),m},xi.prototype.logNamespace=function(d,f,m){var g=this.getNamespaces(m),b=d.uri,_=d.prefix;return g.byUri(b)&&!m||g.add(d,f),g.mapPrefix(_,b),d},xi.prototype.logNamespaceUsed=function(d,f){var m,g,b,_=this.element.$model,x=this.getNamespaces(f),w=d.prefix,C=d.uri;if(!w&&!C)return{localName:d.localName};if(b=$O[w]||_&&(_.getPackage(w)||{}).uri,!(C=C||b||x.uriByPrefix(w)))throw new Error("no namespace uri given for prefix <"+w+">");if(!(d=x.byUri(C))){for(m=w,g=1;x.uriByPrefix(m);)m=w+"_"+g++;d=this.logNamespace({prefix:m,uri:C},b===C)}return w&&x.mapPrefix(w,C),d},xi.prototype.parseAttributes=function(d){var f=this,m=this.element;ge(d,function(g){var b=m.get(g.name);if(g.isReference)if(g.isMany){var _=[];ge(b,function(x){_.push(x.id)}),b=_.join(" ")}else b=b.id;f.addAttribute(f.nsAttributeName(g),b)})},xi.prototype.addTagName=function(d){var f=this.logNamespaceUsed(d);return this.getNamespaces().logUsed(f),s_(d)},xi.prototype.addAttribute=function(d,f){var m=this.attrs;Or(f)&&(f=Xy(f,VO,Wy));var g=oo(m,function(_){return _.name.localName===d.localName&&_.name.uri===d.uri&&_.name.prefix===d.prefix}),b={name:d,value:f};-1!==g?m.splice(g,1,b):m.push(b)},xi.prototype.serializeAttributes=function(d){var g,f=this.attrs,m=this.namespaces;m&&(f=(g=m,g.getUsed().filter(function(b){return"xml"!==b.prefix}).map(function(b){return{name:"xmlns"+(b.prefix?":"+b.prefix:""),value:b.uri}})).concat(f)),ge(f,function(g){d.append(" ").append(s_(g.name)).append('="').append(g.value).append('"')})},xi.prototype.serializeTo=function(d){var f=this.body[0],m=f&&f.constructor!==Au;d.appendIndent().append("<"+this.tagName),this.serializeAttributes(d),d.append(f?">":" />"),f&&(m&&d.appendNewLine().indent(),ge(this.body,function(g){g.serializeTo(d)}),m&&d.unindent().appendIndent(),d.append("</"+this.tagName+">")),d.appendNewLine()},qy(zc,xi),zc.prototype.parseNsAttributes=function(d){var f=xi.prototype.parseNsAttributes.call(this,d),m=d.$descriptor;if(m.name===this.propertyDescriptor.type)return f;var g=this.typeNs=this.nsTagName(m);this.getNamespaces().logUsed(this.typeNs);var b=d.$model.getPackage(g.uri),_=b.xml&&b.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Uy),(g.prefix?g.prefix+":":"")+_+m.ns.localName),f},zc.prototype.isLocalNs=function(d){return d.uri===(this.typeNs||this.ns).uri},(Qy.prototype=Object.create(xa.prototype)).fromXML=function(d,f,m){Or(f)||(m=f,f="bpmn:Definitions");var g=new oh(de({model:this,lax:!0},m)),b=g.handler(f);return g.fromXML(d,b)},Qy.prototype.toXML=function(d,f){var m=new Ky(f);return new Promise(function(g,b){try{return g({xml:m.toXML(d)})}catch(_){return b(_)}})};var c_={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function Zy(d,f){return new Qy(de({},c_,d),f)}function qr(d){return d?"<"+d.$type+(d.id?' id="'+d.id:"")+'" />':"<null>"}var sh="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function Jy(d){gn(d,"di")||Object.defineProperty(d,"di",{enumerable:!1,get:function(){throw new Error(sh)}})}function ea(d,f){return d.$instanceOf(f)}function UO(d,f){var m={},g=[],b={};function _(Ve,Qe){return function(dn){Ve(dn,Qe)}}function x(Ve){m[Ve.id]=Ve}function w(Ve,Qe){try{var dn=b[Ve.id]&&function(ue,G){if(ue.gfx)throw new Error(f("already rendered {element}",{element:qr(ue)}));return d.element(ue,b[ue.id],G)}(Ve,Qe);return x(Ve),dn}catch(ue){C(ue.message,{element:Ve,error:ue}),console.error(f("failed to import {element}",{element:qr(Ve)})),console.error(ue)}}function C(Ve,Qe){d.error(Ve,Qe)}var T=this.registerDi=function(Ve){var Qe=Ve.bpmnElement;Qe?b[Qe.id]?C(f("multiple DI elements defined for {element}",{element:qr(Qe)}),{element:Qe}):(b[Qe.id]=Ve,Jy(Qe)):C(f("no bpmnElement referenced in {element}",{element:qr(Ve)}),{element:Ve})};function O(Ve){T(Ve)}this.handleDefinitions=function(Ve,Qe){var dn=Ve.diagrams;if(Qe&&-1===dn.indexOf(Qe))throw new Error(f("diagram not part of bpmn:Definitions"));if(!Qe&&dn&&dn.length&&(Qe=dn[0]),!Qe)throw new Error(f("no diagram to display"));b={},function P(Ve){var Qe;T(Qe=Ve.plane),ge(Qe.planeElement,O)}(Qe);var ue=Qe.plane;if(!ue)throw new Error(f("no plane for {element}",{element:qr(Qe)}));var G=ue.bpmnElement;if(!G){if(!(G=ln(Ve.rootElements,function(Vt){return ea(Vt,"bpmn:Process")||ea(Vt,"bpmn:Collaboration")})))throw new Error(f("no process or collaboration to display"));C(f("correcting missing bpmnElement on {plane} to {rootElement}",{plane:qr(ue),rootElement:qr(G)})),ue.bpmnElement=G,T(ue)}var xe,He,Nt,Je=d.root(Nt=G,b[Nt.id],ue);if(ea(G,"bpmn:Process")||ea(G,"bpmn:SubProcess"))A(G,Je);else{if(!ea(G,"bpmn:Collaboration"))throw new Error(f("unsupported bpmnElement for {plane}: {rootElement}",{plane:qr(ue),rootElement:qr(G)}));ge((xe=G).participants,_(mt,He=Je)),Q(xe.artifacts,He),g.push(function(){!function(Nt,Vt){ge(Nt,_(I,Vt))}(xe.messageFlows,He)}),function(Nt,Vt){Ot(Nt,function(wt){return!m[wt.id]&&ea(wt,"bpmn:Process")&&wt.laneSets}).forEach(_(A,Vt))}(Ve.rootElements,Je)}M(g)};var M=this.handleDeferred=function(){for(;g.length;)g.shift()()};function A(Ve,Qe){Yt(Ve,Qe),J(Ve.ioSpecification,Qe),Q(Ve.artifacts,Qe),x(Ve)}function I(Ve,Qe){w(Ve,Qe)}function V(Ve,Qe){w(Ve,Qe)}function W(Ve,Qe){w(Ve,Qe)}function H(Ve,Qe){w(Ve,Qe)}function z(Ve,Qe){w(Ve,Qe)}function Q(Ve,Qe){ge(Ve,function(dn){ea(dn,"bpmn:Association")?g.push(function(){z(dn,Qe)}):z(dn,Qe)})}function J(Ve,Qe){Ve&&(ge(Ve.dataInputs,_(W,Qe)),ge(Ve.dataOutputs,_(H,Qe)))}var oe=this.handleSubProcess=function(Ve,Qe){Yt(Ve,Qe),Q(Ve.artifacts,Qe)};function Oe(Ve,Qe){var dn=w(Ve,Qe);ea(Ve,"bpmn:SubProcess")&&oe(Ve,dn||Qe),ea(Ve,"bpmn:Activity")&&J(Ve.ioSpecification,Qe),g.push(function(){ge(Ve.dataInputAssociations,_(V,Qe)),ge(Ve.dataOutputAssociations,_(V,Qe))})}function De(Ve,Qe){g.push(function(){var ue,dn=w(Ve,Qe);Ve.childLaneSet&&Ne(Ve.childLaneSet,dn||Qe),ge((ue=Ve).flowNodeRef,function(G){var xe=G.get("lanes");xe&&xe.push(ue)})})}function Ne(Ve,Qe){ge(Ve.lanes,_(De,Qe))}function Yt(Ve,Qe){var ue;ue=Qe,ge(Ve.flowElements,function(G){ea(G,"bpmn:SequenceFlow")?g.push(function(){w(G,ue)}):ea(G,"bpmn:BoundaryEvent")?g.unshift(function(){Oe(G,ue)}):ea(G,"bpmn:FlowNode")?Oe(G,ue):ea(G,"bpmn:DataObject")||(ea(G,"bpmn:DataStoreReference")||ea(G,"bpmn:DataObjectReference")?function Ee(Ve,Qe){w(Ve,Qe)}(G,ue):C(f("unrecognized flowElement {element} in context {context}",{element:qr(G),context:ue?qr(ue.businessObject):"null"}),{element:G,context:ue}))}),Ve.laneSets&&function(dn,ue){ge(dn,_(Ne,ue))}(Ve.laneSets,Qe)}function mt(Ve,Qe){var dn=w(Ve,Qe),ue=Ve.processRef;ue&&A(ue,dn||Qe)}}function Y(d,f){var m=yt(d);return m&&"function"==typeof m.$instanceOf&&m.$instanceOf(f)}function Un(d,f){return Ei(f,function(m){return Y(d,m)})}function yt(d){return d&&d.businessObject||d}function ur(d){return d&&d.di}function GO(d,f,m){var g,b,_,x,w=[];function C(T,P){var O=new UO({root:function(I,V){return g.add(I,V)},element:function(I,V,W){return g.add(I,V,W)},error:function(I,V){w.push({message:I,context:V})}},_),M=function(I,V){if(V){var W,H=V.plane.bpmnElement,z=H;Y(H,"bpmn:Process")||Y(H,"bpmn:Collaboration")||(z=function(Ee){for(var De=Ee;De;){if(Y(De,"bpmn:Process"))return De;De=De.$parent}}(H)),W=Y(z,"bpmn:Collaboration")?z:ln(I.rootElements,function(Ee){if(Y(Ee,"bpmn:Collaboration"))return ln(Ee.participants,function(De){return De.processRef===z})});var Q=[z];W&&(Q=Er(W.participants,function(Ee){return Ee.processRef})).push(W);var J=e2(Q),oe=[V],Oe=[H];return ge(I.diagrams,function(Ee){var De=Ee.plane.bpmnElement;-1!==J.indexOf(De)&&-1===Oe.indexOf(De)&&(oe.push(Ee),Oe.push(De))}),oe}}(T,P=P||T.diagrams&&T.diagrams[0]);if(!M)throw new Error(_("no diagram to display"));ge(M,function(I){O.handleDefinitions(T,I)});var A=P.plane.bpmnElement.id;x.setRootElement(x.findRoot(A+"_plane")||x.findRoot(A))}return new Promise(function(T,P){try{return g=d.get("bpmnImporter"),b=d.get("eventBus"),_=d.get("translate"),x=d.get("canvas"),b.fire("import.render.start",{definitions:f}),C(f,m),b.fire("import.render.complete",{error:void 0,warnings:w}),T({warnings:w})}catch(O){return O.warnings=w,P(O)}})}function e2(d){var f=[];return ge(d,function(m){m&&(f.push(m),f=f.concat(e2(m.flowElements)))}),f}var es,u_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',D1={verticalAlign:"middle"},up={color:"#404040"},qO={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},WO={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Vo={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},P8='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+u_+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function ii(d){d=de({},YO,d),this._moddle=this._createModdle(d),this._container=this._createContainer(d),function(f){const m=wr('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+u_+"</a>");ke(gr("svg",m),D1),ke(m,up,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),f.appendChild(m),Qt.bind(m,"click",function(g){(function XO(){es||(ke(es=wr(P8),qO),ke(gr("svg",es),D1),ke(gr(".backdrop",es),WO),ke(gr(".notice",es),Vo),ke(gr(".link",es),up,{margin:"15px 20px 15px 10px",alignSelf:"center"}),Oi.bind(es,".backdrop","click",function(d){document.body.removeChild(es)})),document.body.appendChild(es)})(),g.preventDefault()})}(this._container),this._init(this._container,this._moddle,d)}function t2(d,f){return d.warnings=f,d}Ye(ii,L0),ii.prototype.importXML=function(){var d=Lt(function*(f,m){const g=this;let b=[];try{let x;f=this._emit("import.parse.start",{xml:f})||f;try{x=yield this._moddle.fromXML(f,"bpmn:Definitions")}catch(M){throw this._emit("import.parse.complete",{error:M}),M}let w=x.rootElement;const C=x.references,P=x.elementsById;b=b.concat(x.warnings),w=this._emit("import.parse.complete",(_={error:null,definitions:w,elementsById:P,references:C,warnings:b},g.get("eventBus").createEvent(_)))||w;const O=yield this.importDefinitions(w,m);return b=b.concat(O.warnings),this._emit("import.done",{error:null,warnings:b}),{warnings:b}}catch(x){let w=x;throw b=b.concat(w.warnings||[]),t2(w,b),w=function(C){const T=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(C.message);return T&&(C.message="unparsable content <"+T[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+T[2]),C}(w),this._emit("import.done",{error:w,warnings:w.warnings}),w}var _});return function(f,m){return d.apply(this,arguments)}}(),ii.prototype.importDefinitions=function(){var d=Lt(function*(f,m){return this._setDefinitions(f),{warnings:(yield this.open(m)).warnings}});return function(f,m){return d.apply(this,arguments)}}(),ii.prototype.open=function(){var d=Lt(function*(f){const m=this._definitions;let g=f;if(!m){const _=new Error("no XML imported");throw t2(_,[]),_}if("string"==typeof f&&(g=(x=f)&&ln((_=m).diagrams,function(w){return w.id===x})||null,!g)){const _=new Error("BPMNDiagram <"+f+"> not found");throw t2(_,[]),_}var _,x;try{this.clear()}catch(_){throw t2(_,[]),_}const{warnings:b}=yield GO(this,m,g);return{warnings:b}});return function(f){return d.apply(this,arguments)}}(),ii.prototype.saveXML=function(){var d=Lt(function*(f){f=f||{};let m,g,b=this._definitions;try{if(!b)throw new Error("no definitions loaded");b=this._emit("saveXML.start",{definitions:b})||b,g=(yield this._moddle.toXML(b,f)).xml,g=this._emit("saveXML.serialized",{xml:g})||g}catch(x){m=x}const _=m?{error:m}:{xml:g};if(this._emit("saveXML.done",_),m)throw m;return _});return function(f){return d.apply(this,arguments)}}(),ii.prototype.saveSVG=Lt(function*(){let d,f;this._emit("saveSVG.start");try{const m=this.get("canvas"),g=m.getActiveLayer(),b=gr("defs",m._svg),_=Wf(g),x=b?"<defs>"+Wf(b)+"</defs>":"",w=g.getBBox();d='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+w.width+'" height="'+w.height+'" viewBox="'+w.x+" "+w.y+" "+w.width+" "+w.height+'" version="1.1">'+x+_+"</svg>"}catch(m){f=m}if(this._emit("saveSVG.done",{error:f,svg:d}),f)throw f;return{svg:d}}),ii.prototype._setDefinitions=function(d){this._definitions=d},ii.prototype.getModules=function(){return this._modules},ii.prototype.clear=function(){this.getDefinitions()&&L0.prototype.clear.call(this)},ii.prototype.destroy=function(){L0.prototype.destroy.call(this),cs(this._container)},ii.prototype.on=function(d,f,m,g){return this.get("eventBus").on(d,f,m,g)},ii.prototype.off=function(d,f){this.get("eventBus").off(d,f)},ii.prototype.attachTo=function(d){if(!d)throw new Error("parentNode required");this.detach(),d.get&&d.constructor.prototype.jquery&&(d=d.get(0)),"string"==typeof d&&(d=gr(d)),d.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},ii.prototype.getDefinitions=function(){return this._definitions},ii.prototype.detach=function(){const d=this._container,f=d.parentNode;f&&(this._emit("detach",{}),f.removeChild(d))},ii.prototype._init=function(d,f,m){const g=m.modules||this.getModules(m),_=[].concat([{bpmnjs:["value",this],moddle:["value",f]}],g,m.additionalModules||[]),x=de(Ie(m,["additionalModules"]),{canvas:de({},m.canvas,{container:d}),modules:_});L0.call(this,x),m&&m.container&&this.attachTo(m.container)},ii.prototype._emit=function(d,f){return this.get("eventBus").fire(d,f)},ii.prototype._createContainer=function(d){const f=wr('<div class="bjs-container"></div>');return ke(f,{width:O8(d.width),height:O8(d.height),position:d.position}),f},ii.prototype._createModdle=function(d){return new Zy(de({},this._moddleExtensions,d.moddleExtensions))},ii.prototype._modules=[];const YO={width:"100%",height:"100%",position:"relative"};function O8(d){return d+(at(d)?"px":"")}function T1(d){ii.call(this,d),this.on("import.parse.complete",function(f){f.error||this._collectIds(f.definitions,f.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function lr(d,f){return!Y(d,"bpmn:CallActivity")&&(Y(d,"bpmn:SubProcess")?!(!(f=f||ur(d))||!Y(f,"bpmndi:BPMNPlane"))||f&&!!f.isExpanded:!Y(d,"bpmn:Participant")||!!yt(d).processRef)}function Xa(d){return d&&!!yt(d).triggeredByEvent}function ah(d,f){return Ei(yt(d).eventDefinitions,function(m){return Y(m,f)})}Ye(T1,ii),T1.prototype._createModdle=function(d){var f=ii.prototype._createModdle.call(this,d);return f.ids=new Bt([32,36,1]),f},T1.prototype._collectIds=function(d,f){var m,g=d.$model.ids;for(m in g.clear(),f)g.claim(m,f[m])};var j0={width:90,height:20},ki=15;function dt(d){return Y(d,"bpmn:Event")||Y(d,"bpmn:Gateway")||Y(d,"bpmn:DataStoreReference")||Y(d,"bpmn:DataObjectReference")||Y(d,"bpmn:DataInput")||Y(d,"bpmn:DataOutput")||Y(d,"bpmn:SequenceFlow")||Y(d,"bpmn:MessageFlow")||Y(d,"bpmn:Group")}function Zt(d){return vr(d.label)}function Ya(d){return d.waypoints?function vo(d){var C,T,P,O,f=d.length/2-1,m=d[Math.floor(f)],g=d[Math.ceil(f+.01)],b=(T=(C=d).length/2-1,P=C[Math.floor(T)],O=C[Math.ceil(T+.01)],{x:P.x+(O.x-P.x)/2,y:P.y+(O.y-P.y)/2}),_=Math.atan((g.y-m.y)/(g.x-m.x)),x=b.x,w=b.y;return Math.abs(_)<Math.PI/2?w-=ki:x+=ki,{x,y:w}}(d.waypoints):Y(d,"bpmn:Group")?{x:d.x+d.width/2,y:d.y+j0.height/2}:{x:d.x+d.width/2,y:d.y+d.height+j0.height/2}}function fs(d){return Y(d,"bpmn:FlowElement")||Y(d,"bpmn:Participant")||Y(d,"bpmn:Lane")||Y(d,"bpmn:SequenceFlow")||Y(d,"bpmn:MessageFlow")||Y(d,"bpmn:DataInput")||Y(d,"bpmn:DataOutput")?"name":Y(d,"bpmn:TextAnnotation")?"text":Y(d,"bpmn:Group")?"categoryValueRef":void 0}function zi(d){var b,f=d.businessObject,m=fs(f);if(m)return"categoryValueRef"===m?(b=f.categoryValueRef)&&b.value||"":f[m]||""}var Hc="hsl(225, 10%, 15%)";function Dr(d,f){return Ei(d.eventDefinitions,function(m){return m.$type===f})}function rn(d,f){var m=ur(d);return m.get("color:background-color")||m.get("bioc:fill")||f||"white"}function gt(d,f){var m=ur(d);return m.get("color:border-color")||m.get("bioc:stroke")||f||Hc}function En(d,f,m){var g=ur(d).get("label");return g&&g.get("color:color")||f||gt(d,m)}var P1=new Bt,dp=.95;function Ol(d,f,m,g,b,_,x){Ea.call(this,f,x);var w=d&&d.defaultFillColor,C=d&&d.defaultStrokeColor,T=d&&d.defaultLabelColor,P=P1.next(),O={};function M(ue){return m.computeStyle(ue,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Hc,strokeWidth:2,fill:"white"})}function A(ue){return m.computeStyle(ue,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Hc,strokeWidth:2})}function I(ue,G){var{ref:xe={x:0,y:0},scale:He=1,element:Je}=G,Nt=Mt("marker",{id:ue,viewBox:"0 0 20 20",refX:xe.x,refY:xe.y,markerWidth:20*He,markerHeight:20*He,orient:"auto"});nn(Nt,Je);var Vt=gr("defs",b._svg);Vt||(Vt=Mt("defs"),nn(b._svg,Vt)),nn(Vt,Nt),O[ue]=Nt}function V(ue){return ue.replace(/[^0-9a-zA-Z]+/g,"_")}function W(ue,G,xe){var Je,Nt,Vt,qt,He=ue+"-"+V(G)+"-"+V(xe)+"-"+P;return O[He]||(Je=He,Vt=G,qt=xe,"sequenceflow-end"===(Nt=ue)&&I(Je,{element:Mt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...M({fill:qt,stroke:qt,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),"messageflow-start"===Nt&&I(Je,{element:Mt("circle",{cx:6,cy:6,r:3.5,...M({fill:Vt,stroke:qt,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),"messageflow-end"===Nt&&I(Je,{element:Mt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...M({fill:Vt,stroke:qt,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),"association-start"===Nt&&I(Je,{element:Mt("path",{d:"M 11 5 L 1 10 L 11 15",...A({fill:"none",stroke:qt,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),"association-end"===Nt&&I(Je,{element:Mt("path",{d:"M 1 5 L 11 10 L 1 15",...A({fill:"none",stroke:qt,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),"conditional-flow-marker"===Nt&&I(Je,{element:Mt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...M({fill:Vt,stroke:qt})}),ref:{x:-1,y:10},scale:.5}),"conditional-default-flow-marker"===Nt&&I(Je,{element:Mt("path",{d:"M 6 4 L 10 16",...M({stroke:qt})}),ref:{x:0,y:10},scale:.5})),"url(#"+He+")"}function H(ue,G,xe,He,Je){Sn(He)&&(Je=He,He=0),He=He||0,"none"===(Je=M(Je)).fill&&delete Je.fillOpacity;var Nt=Mt("circle",{cx:G/2,cy:xe/2,r:Math.round((G+xe)/4-He),...Je});return nn(ue,Nt),Nt}function z(ue,G,xe,He,Je,Nt){Sn(Je)&&(Nt=Je,Je=0),Je=Je||0,Nt=M(Nt);var Vt=Mt("rect",{x:Je,y:Je,width:G-2*Je,height:xe-2*Je,rx:He,ry:He,...Nt});return nn(ue,Vt),Vt}function Q(ue,G,xe,He){var Je=Ls(G,xe=A(xe),He);return nn(ue,Je),Je}function J(ue,G,xe){return Q(ue,G,xe,5)}function oe(ue,G,xe){xe=A(xe);var He=Mt("path",{...xe,d:G});return nn(ue,He),He}function Oe(ue,G,xe,He){return oe(G,xe,de({"data-marker":ue},He))}function Ee(ue){return Qe[ue]}function De(ue){return function(G,xe,He){return Ee(ue)(G,xe,He)}}function Ne(ue,G){var Je,xe=yt(ue),He="bpmn:IntermediateThrowEvent"===(Je=xe).$type||"bpmn:EndEvent"===Je.$type;return xe.eventDefinitions&&xe.eventDefinitions.length>1?xe.parallelMultiple?Ee("bpmn:ParallelMultipleEventDefinition")(G,ue,He):Ee("bpmn:MultipleEventDefinition")(G,ue,He):Dr(xe,"bpmn:MessageEventDefinition")?Ee("bpmn:MessageEventDefinition")(G,ue,He):Dr(xe,"bpmn:TimerEventDefinition")?Ee("bpmn:TimerEventDefinition")(G,ue,He):Dr(xe,"bpmn:ConditionalEventDefinition")?Ee("bpmn:ConditionalEventDefinition")(G,ue):Dr(xe,"bpmn:SignalEventDefinition")?Ee("bpmn:SignalEventDefinition")(G,ue,He):Dr(xe,"bpmn:EscalationEventDefinition")?Ee("bpmn:EscalationEventDefinition")(G,ue,He):Dr(xe,"bpmn:LinkEventDefinition")?Ee("bpmn:LinkEventDefinition")(G,ue,He):Dr(xe,"bpmn:ErrorEventDefinition")?Ee("bpmn:ErrorEventDefinition")(G,ue,He):Dr(xe,"bpmn:CancelEventDefinition")?Ee("bpmn:CancelEventDefinition")(G,ue,He):Dr(xe,"bpmn:CompensateEventDefinition")?Ee("bpmn:CompensateEventDefinition")(G,ue,He):Dr(xe,"bpmn:TerminateEventDefinition")?Ee("bpmn:TerminateEventDefinition")(G,ue,He):null}function Yt(ue,G,xe){xe=de({size:{width:100}},xe);var He=_.createText(G||"",xe);return kn(He).add("djs-label"),nn(ue,He),He}function mt(ue,G,xe){return Yt(ue,yt(G).name,{box:G,align:xe,padding:7,style:{fill:En(G,T,C)}})}function Ve(ue,G,xe){nh(Yt(ue,G,{box:{height:30,width:xe.height},align:"center-middle",style:{fill:En(xe,T,C)}}),0,1*xe.height,270)}var Qe=this.handlers={"bpmn:Event":function(ue,G,xe){return"fillOpacity"in xe||(xe.fillOpacity=dp),H(ue,G.width,G.height,xe)},"bpmn:StartEvent":function(ue,G,xe){var He={fill:rn(G,w),stroke:gt(G,C)};yt(G).isInterrupting||(He={strokeDasharray:"6",fill:rn(G,w),stroke:gt(G,C)});var Je=Ee("bpmn:Event")(ue,G,He);return xe&&!1===xe.renderIcon||Ne(G,ue),Je},"bpmn:MessageEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:xe?gt(G,C):rn(G,w),stroke:xe?rn(G,w):gt(G,C)})},"bpmn:TimerEventDefinition":function(ue,G){var xe=H(ue,G.width,G.height,.2*G.height,{strokeWidth:2,fill:rn(G,w),stroke:gt(G,C)});oe(ue,g.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{strokeWidth:2,stroke:gt(G,C)});for(var He=0;He<12;He++)oe(ue,g.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{strokeWidth:1,transform:"rotate("+30*He+","+G.height/2+","+G.width/2+")",stroke:gt(G,C)});return xe},"bpmn:EscalationEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:xe?gt(G,C):"none",stroke:gt(G,C)})},"bpmn:ConditionalEventDefinition":function(ue,G){return oe(ue,g.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:gt(G,C)})},"bpmn:LinkEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:xe?gt(G,C):"none",stroke:gt(G,C)})},"bpmn:ErrorEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:xe?gt(G,C):"none",stroke:gt(G,C)})},"bpmn:CancelEventDefinition":function(ue,G,xe){var He=oe(ue,g.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:xe?gt(G,C):"none",stroke:gt(G,C)});return Vy(He,45),He},"bpmn:CompensateEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:xe?gt(G,C):"none",stroke:gt(G,C)})},"bpmn:SignalEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:xe?gt(G,C):"none",stroke:gt(G,C)})},"bpmn:MultipleEventDefinition":function(ue,G,xe){return oe(ue,g.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:xe?gt(G,C):"none"})},"bpmn:ParallelMultipleEventDefinition":function(ue,G){return oe(ue,g.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:G.width,containerHeight:G.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:gt(G,C),stroke:gt(G,C)})},"bpmn:EndEvent":function(ue,G,xe){var He=Ee("bpmn:Event")(ue,G,{strokeWidth:4,fill:rn(G,w),stroke:gt(G,C)});return xe&&!1===xe.renderIcon||Ne(G,ue),He},"bpmn:TerminateEventDefinition":function(ue,G){return H(ue,G.width,G.height,8,{strokeWidth:4,fill:gt(G,C),stroke:gt(G,C)})},"bpmn:IntermediateEvent":function(ue,G,xe){var He=Ee("bpmn:Event")(ue,G,{strokeWidth:1.5,fill:rn(G,w),stroke:gt(G,C)});return H(ue,G.width,G.height,3,{strokeWidth:1.5,fill:rn(G,"none"),stroke:gt(G,C)}),xe&&!1===xe.renderIcon||Ne(G,ue),He},"bpmn:IntermediateCatchEvent":De("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":De("bpmn:IntermediateEvent"),"bpmn:Activity":function(ue,G,xe){return"fillOpacity"in(xe=xe||{})||(xe.fillOpacity=dp),z(ue,G.width,G.height,10,xe)},"bpmn:Task":function(ue,G){var xe={fill:rn(G,w),stroke:gt(G,C)},He=Ee("bpmn:Activity")(ue,G,xe);return mt(ue,G,"center-middle"),dn(ue,G),He},"bpmn:ServiceTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,g.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:rn(G,w),stroke:gt(G,C)}),oe(ue,g.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:rn(G,w)}),oe(ue,g.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:rn(G,w),stroke:gt(G,C)}),xe},"bpmn:UserTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,g.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:rn(G,w),stroke:gt(G,C)}),oe(ue,g.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:rn(G,w),stroke:gt(G,C)}),oe(ue,g.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:gt(G,C),stroke:gt(G,C)}),xe},"bpmn:ManualTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,g.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:rn(G,w),stroke:gt(G,C)}),xe},"bpmn:SendTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,g.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:gt(G,C),stroke:rn(G,w)}),xe},"bpmn:ReceiveTask":function(ue,G){var xe,He=yt(G),Je=Ee("bpmn:Task")(ue,G);return He.instantiate?(H(ue,28,28,4.4,{strokeWidth:1}),xe=g.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):xe=g.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),oe(ue,xe,{strokeWidth:1,fill:rn(G,w),stroke:gt(G,C)}),Je},"bpmn:ScriptTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return oe(ue,g.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:gt(G,C)}),xe},"bpmn:BusinessRuleTask":function(ue,G){var xe=Ee("bpmn:Task")(ue,G);return _t(oe(ue,g.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:rn(G,"#aaaaaa"),stroke:gt(G,C)}),_t(oe(ue,g.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:gt(G,C)}),xe},"bpmn:SubProcess":function(ue,G,xe){xe={fill:rn(G,w),stroke:gt(G,C),...xe};var He=Ee("bpmn:Activity")(ue,G,xe),Je=lr(G);return Xa(G)&&_t(He,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),mt(ue,G,Je?"center-top":"center-middle"),Je?dn(ue,G):dn(ue,G,["SubProcessMarker"]),He},"bpmn:AdHocSubProcess":function(ue,G){return Ee("bpmn:SubProcess")(ue,G)},"bpmn:Transaction":function(ue,G){var xe=Ee("bpmn:SubProcess")(ue,G,{strokeWidth:1.5}),He=m.style(["no-fill","no-events"],{stroke:gt(G,C),strokeWidth:1.5});return z(ue,G.width,G.height,7,3,He),xe},"bpmn:CallActivity":function(ue,G){return Ee("bpmn:SubProcess")(ue,G,{strokeWidth:5})},"bpmn:Participant":function(ue,G){var xe={fillOpacity:dp,fill:rn(G,w),stroke:gt(G,C),strokeWidth:1.5},He=Ee("bpmn:Lane")(ue,G,xe);return lr(G)?(Q(ue,[{x:30,y:0},{x:30,y:G.height}],{stroke:gt(G,C),strokeWidth:1.5}),Ve(ue,yt(G).name,G)):Yt(ue,yt(G).name,{box:G,align:"center-middle",style:{fill:En(G,T,C)}}),yt(G).participantMultiplicity&&Ee("ParticipantMultiplicityMarker")(ue,G),He},"bpmn:Lane":function(ue,G,xe){var He=z(ue,G.width,G.height,0,{fill:rn(G,w),fillOpacity:.35,stroke:gt(G,C),strokeWidth:1.5,...xe}),Je=yt(G);return"bpmn:Lane"===Je.$type&&Ve(ue,Je.name,G),He},"bpmn:InclusiveGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G);return H(ue,G.width,G.height,.24*G.height,{strokeWidth:2.5,fill:rn(G,w),stroke:gt(G,C)}),xe},"bpmn:ExclusiveGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G),He=g.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.32,my:.3}});return ur(G).isMarkerVisible&&oe(ue,He,{strokeWidth:1,fill:gt(G,C),stroke:gt(G,C)}),xe},"bpmn:ComplexGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G);return oe(ue,g.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:gt(G,C),stroke:gt(G,C)}),xe},"bpmn:ParallelGateway":function(ue,G){var xe=Ee("bpmn:Gateway")(ue,G);return oe(ue,g.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:gt(G,C),stroke:gt(G,C)}),xe},"bpmn:EventBasedGateway":function(ue,G){var xe=yt(G),He=Ee("bpmn:Gateway")(ue,G);H(ue,G.width,G.height,.2*G.height,{strokeWidth:1,fill:"none",stroke:gt(G,C)});var Je=xe.eventGatewayType,Nt=!!xe.instantiate;"Parallel"===Je?oe(ue,g.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}}),{strokeWidth:1,fill:"none"}):"Exclusive"===Je&&(Nt||H(ue,G.width,G.height,.26*G.height,{strokeWidth:1,fill:"none",stroke:gt(G,C)}),oe(ue,g.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:G.width,containerHeight:G.height,position:{mx:.36,my:.44}}),{strokeWidth:2,fill:rn(G,"none"),stroke:gt(G,C)}));return He},"bpmn:Gateway":function(ue,G){return function(xe,He,Je,Nt){var Vt=He/2,qt=Je/2,wt=[{x:Vt,y:0},{x:He,y:qt},{x:Vt,y:Je},{x:0,y:qt}].map(function($r){return $r.x+","+$r.y}).join(" ");Nt=M(Nt);var pr=Mt("polygon",{...Nt,points:wt});return nn(xe,pr),pr}(ue,G.width,G.height,{fill:rn(G,w),fillOpacity:dp,stroke:gt(G,C)})},"bpmn:SequenceFlow":function(ue,G){var xe,He=rn(G,w),Je=gt(G,C),Nt=J(ue,G.waypoints,{markerEnd:W("sequenceflow-end",He,Je),stroke:gt(G,C)}),Vt=yt(G);return G.source&&(xe=G.source.businessObject,Vt.conditionExpression&&xe.$instanceOf("bpmn:Activity")&&_t(Nt,{markerStart:W("conditional-flow-marker",He,Je)}),xe.default&&(xe.$instanceOf("bpmn:Gateway")||xe.$instanceOf("bpmn:Activity"))&&xe.default===Vt&&_t(Nt,{markerStart:W("conditional-default-flow-marker",He,Je)})),Nt},"bpmn:Association":function(ue,G,xe){var He=yt(G),Je=rn(G,w),Nt=gt(G,C);return xe={strokeDasharray:"0, 5",stroke:gt(G,C),...xe},"One"!==He.associationDirection&&"Both"!==He.associationDirection||(xe.markerEnd=W("association-end",Je,Nt)),"Both"===He.associationDirection&&(xe.markerStart=W("association-start",Je,Nt)),J(ue,G.waypoints,xe)},"bpmn:DataInputAssociation":function(ue,G){var xe=rn(G,w),He=gt(G,C);return Ee("bpmn:Association")(ue,G,{markerEnd:W("association-end",xe,He)})},"bpmn:DataOutputAssociation":function(ue,G){var xe=rn(G,w),He=gt(G,C);return Ee("bpmn:Association")(ue,G,{markerEnd:W("association-end",xe,He)})},"bpmn:MessageFlow":function(ue,G){var xe=yt(G),He=ur(G),Je=rn(G,w),Nt=gt(G,C),Vt=J(ue,G.waypoints,{markerEnd:W("messageflow-end",Je,Nt),markerStart:W("messageflow-start",Je,Nt),strokeDasharray:"10, 11",strokeWidth:1.5,stroke:gt(G,C)});if(xe.messageRef){var qt=Vt.getPointAtLength(Vt.getTotalLength()/2),wt=g.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:qt.x,y:qt.y}}),pr={strokeWidth:1};"initiating"===He.messageVisibleKind?(pr.fill="white",pr.stroke=Hc):(pr.fill="#888",pr.stroke="white");var $r=oe(ue,wt,pr),jl=Yt(ue,xe.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:gt(G,T)}}),qs=$r.getBBox(),Wr=jl.getBBox();nh(jl,qt.x-Wr.width/2,qt.y+qs.height/2+10,0)}return Vt},"bpmn:DataObject":function(ue,G){var He,Je,xe=oe(ue,g.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}}),{fill:rn(G,w),fillOpacity:dp,stroke:gt(G,C)});return Je=(He=yt(G)).dataObjectRef,(He.isCollection||Je&&Je.isCollection)&&function(He,Je){oe(He,g.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:Je.width,containerHeight:Je.height,position:{mx:.33,my:(Je.height-18)/Je.height}}),{strokeWidth:2})}(ue,G),xe},"bpmn:DataObjectReference":De("bpmn:DataObject"),"bpmn:DataInput":function(ue,G){var xe=g.getRawPath("DATA_ARROW"),He=Ee("bpmn:DataObject")(ue,G);return oe(ue,xe,{strokeWidth:1}),He},"bpmn:DataOutput":function(ue,G){var xe=g.getRawPath("DATA_ARROW"),He=Ee("bpmn:DataObject")(ue,G);return oe(ue,xe,{strokeWidth:1,fill:Hc}),He},"bpmn:DataStoreReference":function(ue,G){return oe(ue,g.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:rn(G,w),fillOpacity:dp,stroke:gt(G,C)})},"bpmn:BoundaryEvent":function(ue,G,xe){var He=yt(G).cancelActivity,Je={strokeWidth:1.5,fill:rn(G,w),stroke:gt(G,C)};He||(Je.strokeDasharray="6");var Nt={...Je,fillOpacity:1},Vt={...Je,fill:"none"},qt=Ee("bpmn:Event")(ue,G,Nt);return H(ue,G.width,G.height,3,Vt),xe&&!1===xe.renderIcon||Ne(G,ue),qt},"bpmn:Group":function(ue,G){return z(ue,G.width,G.height,10,{stroke:gt(G,C),strokeWidth:1.5,strokeDasharray:"10,6,0,6",fill:"none",pointerEvents:"none"})},label:function(ue,G){return Je={width:90,height:30,x:(He=G).width/2+He.x,y:He.height/2+He.y},Yt(ue,zi(He),{box:Je,fitBox:!0,style:de({},_.getExternalStyle(),{fill:En(He,T,C)})});var He,Je},"bpmn:TextAnnotation":function(ue,G){var xe=z(ue,G.width,G.height,0,0,{fill:"none",stroke:"none"});return oe(ue,g.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:0}}),{stroke:gt(G,C)}),Yt(ue,yt(G).text||"",{box:G,align:"left-top",padding:7,style:{fill:En(G,T,C)}}),xe},ParticipantMultiplicityMarker:function(ue,G){Oe("participant-multiplicity",ue,g.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:G.width/2/G.width,my:(G.height-15)/G.height}}),{strokeWidth:2,fill:rn(G,w),stroke:gt(G,C)})},SubProcessMarker:function(ue,G){ds(z(ue,14,14,0,{strokeWidth:1,fill:rn(G,w),stroke:gt(G,C)}),G.width/2-7.5,G.height-20),Oe("sub-process",ue,g.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2-7.5)/G.width,my:(G.height-20)/G.height}}),{fill:rn(G,w),stroke:gt(G,C)})},ParallelMarker:function(ue,G,xe){Oe("parallel",ue,g.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.parallel)/G.width,my:(G.height-20)/G.height}}),{fill:rn(G,w),stroke:gt(G,C)})},SequentialMarker:function(ue,G,xe){Oe("sequential",ue,g.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.seq)/G.width,my:(G.height-19)/G.height}}),{fill:rn(G,w),stroke:gt(G,C)})},CompensationMarker:function(ue,G,xe){Oe("compensation",ue,g.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.compensation)/G.width,my:(G.height-13)/G.height}}),{strokeWidth:1,fill:rn(G,w),stroke:gt(G,C)})},LoopMarker:function(ue,G,xe){Oe("loop",ue,g.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.loop)/G.width,my:(G.height-7)/G.height}}),{strokeWidth:1.5,fill:rn(G,w),stroke:gt(G,C),strokeMiterlimit:.5})},AdhocMarker:function(ue,G,xe){Oe("adhoc",ue,g.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+xe.adhoc)/G.width,my:(G.height-15)/G.height}}),{strokeWidth:1,fill:gt(G,C),stroke:gt(G,C)})}};function dn(ue,G,xe){var He,Je=yt(G),Nt=xe&&-1!==xe.indexOf("SubProcessMarker");He=Nt?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},ge(xe,function(wt){Ee(wt)(ue,G,He)}),Je.isForCompensation&&Ee("CompensationMarker")(ue,G,He),"bpmn:AdHocSubProcess"===Je.$type&&Ee("AdhocMarker")(ue,G,He);var Vt=Je.loopCharacteristics,qt=Vt&&Vt.isSequential;Vt&&(void 0===qt&&Ee("LoopMarker")(ue,G,He),!1===qt&&Ee("ParallelMarker")(ue,G,He),!0===qt&&Ee("SequentialMarker")(ue,G,He))}this._drawPath=oe,this._renderer=Ee}Ye(Ol,Ea),Ol.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Ol.prototype.canRender=function(d){return Y(d,"bpmn:BaseElement")},Ol.prototype.drawShape=function(d,f){return this._renderer(f.type)(d,f)},Ol.prototype.drawConnection=function(d,f){return this._renderer(f.type)(d,f)},Ol.prototype.getShapePath=function(d){return Y(d,"bpmn:Event")?Ln([["M",(f=d).x+f.width/2,f.y+f.height/2],["m",0,-(b=f.width/2)],["a",b,b,0,1,1,0,2*b],["a",b,b,0,1,1,0,-2*b],["z"]]):Y(d,"bpmn:Activity")?Ln([["M",(_=d).x+(x=10),_.y],["l",(T=_.width)-20,0],["a",x,x,0,0,1,x,x],["l",0,(P=_.height)-20],["a",x,x,0,0,1,-x,x],["l",20-T,0],["a",x,x,0,0,1,-x,-x],["l",0,20-P],["a",x,x,0,0,1,x,-x],["z"]]):Y(d,"bpmn:Gateway")?function(_){var x=_.width/2,w=_.height/2;return Ln([["M",_.x+x,_.y],["l",x,w],["l",-x,w],["l",-x,-w],["z"]])}(d):function(_){var C=_.width;return Ln([["M",_.x,_.y],["l",C,0],["l",0,_.height],["l",-C,0],["z"]])}(d);var _,x,T,P,f,b};var Ji=0,O1={width:150,height:50};function lh(d,f){var m;f.textContent=d;try{var g,b=""===d;return f.textContent=b?"dummy":d,g={width:(m=f.getBBox()).width+2*m.x,height:m.height},b&&(g.width=0),g}catch{return{width:0,height:0}}}function Iu(d,f,m){for(var g,b=d.shift(),_=b;;){if((g=lh(_,m)).width=_?g.width:0," "===_||""===_||g.width<Math.round(f)||_.length<2)return k1(d,_,b,g);_=$0(_,g.width,f)}}function k1(d,f,m,g){if(f.length<m.length){var b=m.slice(f.length).trim();d.unshift(b)}return{width:g.width,height:g.height,text:f}}var d_="\xad";function $0(d,f,m){var g=Math.max(d.length*(m/f),1),b=function(_,x){var w,C=_.split(/(\s|-|\u00AD)/g),T=[],P=0;if(C.length>1)for(;w=C.shift();){if(!(w.length+P<x)){"-"!==w&&w!==d_||T.pop();break}T.push(w),P+=w.length}var O=T[T.length-1];return O&&O===d_&&(T[T.length-1]="-"),T.join("")}(d,g);return b||(b=d.slice(0,Math.max(Math.round(g-1),1))),b}function pp(d){this._config=de({},{size:O1,padding:Ji,style:{},align:"center-top"},d||{})}function V0(d){var f=de({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},d&&d.defaultStyle||{}),m=parseInt(f.fontSize,10)-1,g=de({},f,{fontSize:m},d&&d.externalStyle||{}),b=new pp({style:f});this.getExternalLabelBounds=function(_,x){var w=b.getDimensions(x,{box:{width:90,height:30},style:g});return{x:Math.round(_.x+_.width/2-w.width/2),y:Math.round(_.y),width:Math.ceil(w.width),height:Math.ceil(w.height)}},this.getTextAnnotationBounds=function(_,x){var w=b.getDimensions(x,{box:_,style:f,align:"left-top",padding:5});return{x:_.x,y:_.y,width:_.width,height:Math.max(30,Math.round(w.height))}},this.createText=function(_,x){return b.createText(_,x||{})},this.getDefaultStyle=function(){return f},this.getExternalStyle=function(){return g}}pp.prototype.createText=function(d,f){return this.layoutText(d,f).element},pp.prototype.getDimensions=function(d,f){return this.layoutText(d,f).dimensions},pp.prototype.layoutText=function(d,f){var H,W,m=de({},this._config.size,f.box),g=de({},this._config.style,f.style),b_horizontal=(H=(f.align||this._config.align).split("-"))[0]||"center",b_vertical=H[1]||"top",_=Sn(W=void 0!==f.padding?f.padding:this._config.padding)?de({top:0,left:0,right:0,bottom:0},W):{top:W,left:W,right:W,bottom:W},x=f.fitBox||!1,w=function(W){if("fontSize"in W&&"lineHeight"in W)return W.lineHeight*parseInt(W.fontSize,10)}(g),C=d.split(/\u00AD?\r?\n/),T=[],P=m.width-_.left-_.right,O=Mt("text");for(_t(O,{x:0,y:0}),_t(O,g),nn(function(){var W=document.getElementById("helper-svg");return W||(_t(W=Mt("svg"),{id:"helper-svg"}),ke(W,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(W)),W}(),O);C.length;)T.push(Iu(C,P,O));"middle"===b_vertical&&(_.top=_.bottom=0);var M=zr(T,function(W,H,z){return W+(w||H.height)},0)+_.top+_.bottom,A=zr(T,function(W,H,z){return H.width>W?H.width:W},0),I=_.top;"middle"===b_vertical&&(I+=(m.height-M)/2),I-=(w||T[0].height)/4;var V=Mt("text");return _t(V,g),ge(T,function(W){var H;switch(I+=w||W.height,b_horizontal){case"left":H=_.left;break;case"right":H=(x?A:P)-_.right-W.width;break;default:H=Math.max(((x?A:P)-W.width)/2+_.left,0)}var z=Mt("tspan");_t(z,{x:H,y:I}),z.textContent=W.text,nn(V,z)}),hi(O),{dimensions:{width:A,height:M},element:V}},V0.$inject=["config.textRenderer"];var jn=/\{([^{}]+)\}/g,p_=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,M1={__init__:["bpmnRenderer"],bpmnRenderer:["type",Ol],textRenderer:["type",V0],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(d){return this.pathMap[d].d},this.getScaledPath=function(d,f){var m,g,b=this.pathMap[d];f.abspos?(m=f.abspos.x,g=f.abspos.y):(m=f.containerWidth*f.position.mx,g=f.containerHeight*f.position.my);var O,_={};if(f.position){for(var x=f.containerHeight/b.height*f.yScaleFactor,w=f.containerWidth/b.width*f.xScaleFactor,C=0;C<b.heightElements.length;C++)_["y"+C]=b.heightElements[C]*x;for(var T=0;T<b.widthElements.length;T++)_["x"+T]=b.widthElements[T]*w}return O={mx:m,my:g,e:_},String(b.d).replace(jn,function(A,I){return V=A,z=H=O,I.replace(p_,function(Q,J,oe,Oe,Ee){J=J||Oe,z&&(J in z&&(z=z[J]),"function"==typeof z&&Ee&&(z=z()))}),z=(null==z||z==H?V:z)+"";var V,H,z})}}]},Ka={translate:["value",function(d,f){return f=f||{},d.replace(/{([^}]+)}/g,function(m,g){return f[g]||"{"+g+"}"})}]};function fp(d,f,m){return de({id:d.id,type:d.$type,businessObject:d,di:f},m)}function ch(d,f,m){var g=d.waypoint;return!g||g.length<2?[hn(f),hn(m)]:g.map(function(b){return{x:b.x,y:b.y}})}function co(d,f,m,g){return new Error(d("element {element} referenced by {referenced}#{property} not yet drawn",{element:qr(m),referenced:qr(f),property:g}))}function ic(d,f,m,g,b,_){this._eventBus=d,this._canvas=f,this._elementFactory=m,this._elementRegistry=g,this._translate=b,this._textRenderer=_}ic.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],ic.prototype.add=function(d,f,m){var g,_,A,I,V,W,x=this._translate;if(Y(f,"bpmndi:BPMNPlane")){var w=Y(d,"bpmn:SubProcess")?{id:d.id+"_plane"}:{};g=this._elementFactory.createRoot(fp(d,f,w)),this._canvas.addRootElement(g)}else if(Y(f,"bpmndi:BPMNShape")){var C=!lr(d,f),T=Y(d,"bpmn:Group"),P=f.bounds;g=this._elementFactory.createShape(fp(d,f,{collapsed:C,hidden:m&&(m.hidden||m.collapsed),x:Math.round(P.x),y:Math.round(P.y),width:Math.round(P.width),height:Math.round(P.height),isFrame:T})),Y(d,"bpmn:BoundaryEvent")&&this._attachBoundary(d,g),Y(d,"bpmn:Lane")&&(_=0),Y(d,"bpmn:DataStoreReference")&&(A=m,I=hn(P),W=I.y,(V=I.x)>=A.x&&V<=A.x+A.width&&W>=A.y&&W<=A.y+A.height||(m=this._canvas.findRoot(m))),this._canvas.addShape(g,m,_)}else{if(!Y(f,"bpmndi:BPMNEdge"))throw new Error(x("unknown di {di} for element {semantic}",{di:qr(f),semantic:qr(d)}));var O=this._getSource(d),M=this._getTarget(d);g=this._elementFactory.createConnection(fp(d,f,{hidden:m&&(m.hidden||m.collapsed),source:O,target:M,waypoints:ch(f,O,M)})),Y(d,"bpmn:DataAssociation")&&(m=this._canvas.findRoot(m)),this._canvas.addConnection(g,m,_)}return dt(d)&&zi(g)&&this.addLabel(d,f,g),this._eventBus.fire("bpmnElement.added",{element:g}),g},ic.prototype._attachBoundary=function(d,f){var m=this._translate,g=d.attachedToRef;if(!g)throw new Error(m("missing {semantic}#attachedToRef",{semantic:qr(d)}));var b=this._elementRegistry.get(g.id),_=b&&b.attachers;if(!b)throw co(m,d,g,"attachedToRef");f.host=b,_||(b.attachers=_=[]),-1===_.indexOf(f)&&_.push(f)},ic.prototype.addLabel=function(d,f,m){var g,b,_,w,C,T,P,O;return w=m,(O=f.label)&&O.bounds?(P=O.bounds,T={width:Math.max(j0.width,P.width),height:P.height},C={x:P.x+P.width/2,y:P.y+P.height/2}):(C=Ya(w),T=j0),g=de({x:C.x-T.width/2,y:C.y-T.height/2},T),(b=zi(m))&&(g=this._textRenderer.getExternalLabelBounds(g,b)),_=this._elementFactory.createLabel(fp(d,f,{id:d.id+"_label",labelTarget:m,type:"label",hidden:m.hidden||!zi(m),x:Math.round(g.x),y:Math.round(g.y),width:Math.round(g.width),height:Math.round(g.height)})),this._canvas.addShape(_,m.parent)},ic.prototype._getConnectedElement=function(d,f){var m,g,b=d.$type,_=this._translate;if(g=d[f+"Ref"],"source"===f&&"bpmn:DataInputAssociation"===b&&(g=g&&g[0]),("source"===f&&"bpmn:DataOutputAssociation"===b||"target"===f&&"bpmn:DataInputAssociation"===b)&&(g=d.$parent),m=g&&this._getElement(g))return m;throw g?co(_,d,g,f+"Ref"):new Error(_("{semantic}#{side} Ref not specified",{semantic:qr(d),side:f}))},ic.prototype._getSource=function(d){return this._getConnectedElement(d,"source")},ic.prototype._getTarget=function(d){return this._getConnectedElement(d,"target")},ic.prototype._getElement=function(d){return this._elementRegistry.get(d.id)};var $s={__depends__:[M1,{__depends__:[Ka],bpmnImporter:["type",ic]}]};function hs(d){d&&"function"==typeof d.stopPropagation&&d.stopPropagation()}function z0(d){return d.originalEvent||d.srcEvent}function Nu(d){hs(d),hs(z0(d))}function oc(d){return d.pointers&&d.pointers.length&&(d=d.pointers[0]),d.touches&&d.touches.length&&(d=d.touches[0]),d?{x:d.clientX,y:d.clientY}:null}function kl(){return/mac/i.test(navigator.platform)}function n2(d,f){return(z0(d)||d).button===f}function H0(d){return n2(d,0)}function uh(d){var f=z0(d)||d;return!!H0(d)&&(kl()?f.metaKey:f.ctrlKey)}function R1(d){var f=z0(d)||d;return H0(d)&&f.shiftKey}function k8(d){return!0}function r2(d){return H0(d)||function(f){return n2(f,1)}(d)}function i2(d,f,m){var g=this;function b(z,Q,J){var oe,Oe;!(C[z]||H0)(Q)||(J?Oe=f.getGraphics(J):(oe=Q.delegateTarget||Q.target)&&(J=f.get(Oe=oe)),Oe&&J&&!1===d.fire(z,{element:J,gfx:Oe,originalEvent:Q})&&(Q.stopPropagation(),Q.preventDefault()))}var _={};function x(z){return _[z]}var w={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},C={"element.contextmenu":k8,"element.mousedown":r2,"element.mouseup":r2,"element.click":r2,"element.dblclick":r2};function P(z,Q,J,oe){var Oe=_[J]=function(Ee){b(J,Ee)};oe&&(C[J]=oe),Oe.$delegate=Oi.bind(z,"svg, .djs-element",Q,Oe)}function O(z,Q,J){var oe=x(J);oe&&Oi.unbind(z,Q,oe.$delegate)}d.on("canvas.destroy",function(z){var Q;Q=z.svg,ge(w,function(J,oe){O(Q,oe,J)})}),d.on("canvas.init",function(z){var Q;Q=z.svg,ge(w,function(J,oe){P(Q,oe,J)})}),d.on(["shape.added","connection.added"],function(z){d.fire("interactionEvents.createHit",{element:z.element,gfx:z.gfx})}),d.on(["shape.changed","connection.changed"],500,function(z){d.fire("interactionEvents.updateHit",{element:z.element,gfx:z.gfx})}),d.on("interactionEvents.createHit",500,function(z){g.createDefaultHit(z.element,z.gfx)}),d.on("interactionEvents.updateHit",function(z){g.updateDefaultHit(z.element,z.gfx)});var M=V("djs-hit djs-hit-stroke"),A=V("djs-hit djs-hit-click-stroke"),I={all:V("djs-hit djs-hit-all"),"click-stroke":A,stroke:M,"no-move":V("djs-hit djs-hit-no-move")};function V(z,Q){return Q=de({stroke:"white",strokeWidth:15},Q||{}),m.cls(z,["no-fill","no-border"],Q)}function W(z,Q){var J=I[Q];if(!J)throw new Error("invalid hit type <"+Q+">");return _t(z,J),z}function H(z,Q){nn(z,Q)}this.removeHits=function(z){ge(D0(".djs-hit",z),hi)},this.createDefaultHit=function(z,Q){var oe=z.waypoints,Oe=z.isFrame;return oe?this.createWaypointsHit(Q,oe):this.createBoxHit(Q,Oe?"stroke":"all",{width:z.width,height:z.height})},this.createWaypointsHit=function(z,Q){var J=Ls(Q);return W(J,"stroke"),H(z,J),J},this.createBoxHit=function(z,Q,J){J=de({x:0,y:0},J);var oe=Mt("rect");return W(oe,Q),_t(oe,J),H(z,oe),oe},this.updateDefaultHit=function(z,Q){var J=gr(".djs-hit",Q);if(J)return z.waypoints?Tu(J,z.waypoints):_t(J,{width:z.width,height:z.height}),J},this.fire=b,this.triggerMouseEvent=function(z,Q,J){var oe=w[z];if(!oe)throw new Error("unmapped DOM event name <"+z+">");return b(oe,Q,J)},this.mouseHandler=x,this.registerEvent=P,this.unregisterEvent=O}i2.$inject=["eventBus","elementRegistry","styles"];var o2={__init__:["interactionEvents"],interactionEvents:["type",i2]};function f_(d,f){this.offset=6;var m=f.cls("djs-outline",["no-fill"]),g=this;function b(_,x){var w=Mt("rect");return _t(w,de({x:10,y:10,rx:4,width:100,height:100},m)),nn(_,w),w}d.on(["shape.added","shape.changed"],500,function(_){var x=_.element,w=_.gfx,C=gr(".djs-outline",w);C||(C=b(w)),g.updateShapeOutline(C,x)}),d.on(["connection.added","connection.changed"],function(_){var x=_.element,w=_.gfx,C=gr(".djs-outline",w);C||(C=b(w)),g.updateConnectionOutline(C,x)})}f_.prototype.updateShapeOutline=function(d,f){_t(d,{x:-this.offset,y:-this.offset,width:f.width+2*this.offset,height:f.height+2*this.offset})},f_.prototype.updateConnectionOutline=function(d,f){var m=ri(f);_t(d,{x:m.x-this.offset,y:m.y-this.offset,width:m.width+2*this.offset,height:m.height+2*this.offset})},f_.$inject=["eventBus","styles","elementRegistry"];var KO={__init__:["outline"],outline:["type",f_]};function A1(d,f){this._eventBus=d,this._canvas=f,this._selectedElements=[];var m=this;d.on(["shape.remove","connection.remove"],function(g){m.deselect(g.element)}),d.on(["diagram.clear","root.set"],function(g){m.select(null)})}A1.$inject=["eventBus","canvas"],A1.prototype.deselect=function(d){var f=this._selectedElements,m=f.indexOf(d);if(-1!==m){var g=f.slice();f.splice(m,1),this._eventBus.fire("selection.changed",{oldSelection:g,newSelection:f})}},A1.prototype.get=function(){return this._selectedElements},A1.prototype.isSelected=function(d){return-1!==this._selectedElements.indexOf(d)},A1.prototype.select=function(d,f){var m=this._selectedElements,g=m.slice();ut(d)||(d=d?[d]:[]);var b=this._canvas,_=b.getRootElement();d=d.filter(function(x){var w=b.findRoot(x);return _===w}),f?ge(d,function(x){-1===m.indexOf(x)&&m.push(x)}):this._selectedElements=m=d.slice(),this._eventBus.fire("selection.changed",{oldSelection:g,newSelection:m})};var ZO="selected";function M8(d,f,m){this._canvas=d;var g=this;function b(x,w){d.addMarker(x,w)}function _(x,w){d.removeMarker(x,w)}this._multiSelectionBox=null,f.on("element.hover",function(x){b(x.element,"hover")}),f.on("element.out",function(x){_(x.element,"hover")}),f.on("selection.changed",function(x){var w=x.oldSelection,C=x.newSelection;ge(w,function(T){-1===C.indexOf(T)&&_(T,ZO)}),ge(C,function(T){-1===w.indexOf(T)&&b(T,ZO)}),g._updateSelectionOutline(C)}),f.on("element.changed",function(x){m.isSelected(x.element)&&g._updateSelectionOutline(m.get())})}function JO(d,f,m,g){d.on("create.end",500,function(b){var _=b.context,w=_.elements,C=(_.hints||{}).autoSelect;if(_.canExecute){if(!1===C)return;ut(C)?f.select(C):f.select(w.filter(VV))}}),d.on("connect.end",500,function(b){var _=b.context.connection;_&&f.select(_)}),d.on("shape.move.end",500,function(b){var _=b.previousSelection||[],x=g.get(b.context.shape.id);ln(_,function(w){return x.id===w.id})||f.select(x)}),d.on("element.click",function(b){if(H0(b)){var _=b.element;_===m.getRootElement()&&(_=null);var x=f.isSelected(_),w=f.get().length>1,C=uh(b)||R1(b);if(x&&w)return C?f.deselect(_):f.select(_);x?f.deselect(_):f.select(_,C)}})}function VV(d){return!d.hidden}M8.$inject=["canvas","eventBus","selection"],M8.prototype._updateSelectionOutline=function(d){var f=this._canvas.getLayer("selectionOutline");T0(f);var _,m=d.length>1;if(kn(this._canvas.getContainer())[m?"add":"remove"]("djs-multi-select"),m){var g={x:(_=ri(d)).x-6,y:_.y-6,width:_.width+12,height:_.height+12},b=Mt("rect");_t(b,de({rx:3},g)),kn(b).add("djs-selection-outline"),nn(f,b)}},JO.$inject=["eventBus","selection","canvas","elementRegistry"];var Lu={__init__:["selectionVisuals","selectionBehavior"],__depends__:[o2,KO],selection:["type",A1],selectionVisuals:["type",M8],selectionBehavior:["type",JO]};function R8(d){this._counter=0,this._prefix=(d?d+"-":"")+Math.floor(1e9*Math.random())+"-"}R8.prototype.next=function(){return this._prefix+ ++this._counter};var zV=new R8("ov");function Co(d,f,m,g){var b,_;this._eventBus=f,this._canvas=m,this._elementRegistry=g,this._ids=zV,this._overlayDefaults=de({show:null,scale:!0},d&&d.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(b=m.getContainer(),ke(_=wr('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),b.insertBefore(_,b.firstChild),_),this._init()}function h_(d,f,m){ke(d,{left:f+"px",top:m+"px"})}function m_(d,f){d.style.display=!1===f?"none":""}function ek(d,f){d.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(m){d.style[m+"transform"]=f})}Co.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Co.prototype.get=function(d){if(Or(d)&&(d={id:d}),Or(d.element)&&(d.element=this._elementRegistry.get(d.element)),d.element){var f=this._getOverlayContainer(d.element,!0);return f?d.type?Ot(f.overlays,so({type:d.type})):f.overlays.slice():[]}return d.type?Ot(this._overlays,so({type:d.type})):d.id?this._overlays[d.id]:null},Co.prototype.add=function(d,f,m){if(Sn(f)&&(m=f,f=null),d.id||(d=this._elementRegistry.get(d)),!m.position)throw new Error("must specifiy overlay position");if(!m.html)throw new Error("must specifiy overlay html");if(!d)throw new Error("invalid element specified");var g=this._ids.next();return m=de({},this._overlayDefaults,m,{id:g,type:f,element:d,html:m.html}),this._addOverlay(m),g},Co.prototype.remove=function(d){var f=this.get(d)||[];ut(f)||(f=[f]);var m=this;ge(f,function(g){var b=m._getOverlayContainer(g.element,!0);if(g&&(cs(g.html),cs(g.htmlContainer),delete g.htmlContainer,delete g.element,delete m._overlays[g.id]),b){var _=b.overlays.indexOf(g);-1!==_&&b.overlays.splice(_,1)}})},Co.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},Co.prototype.show=function(){m_(this._overlayRoot)},Co.prototype.hide=function(){m_(this._overlayRoot,!1)},Co.prototype.clear=function(){this._overlays={},this._overlayContainers=[],nr(this._overlayRoot)},Co.prototype._updateOverlayContainer=function(d){var f=d.element,m=d.html,g=f.x,b=f.y;if(f.waypoints){var _=ri(f);g=_.x,b=_.y}h_(m,g,b),Ue(d.html,"data-container-id",f.id)},Co.prototype._updateOverlay=function(d){var f,m,g=d.position,b=d.htmlContainer,_=d.element,x=g.left,w=g.top;void 0!==g.right&&(f=_.waypoints?ri(_).width:_.width,x=-1*g.right+f),void 0!==g.bottom&&(m=_.waypoints?ri(_).height:_.height,w=-1*g.bottom+m),h_(b,x||0,w||0),this._updateOverlayVisibilty(d,this._canvas.viewbox())},Co.prototype._createOverlayContainer=function(d){var f=wr('<div class="djs-overlays" />');ke(f,{position:"absolute"}),this._overlayRoot.appendChild(f);var m={html:f,element:d,overlays:[]};return this._updateOverlayContainer(m),this._overlayContainers.push(m),m},Co.prototype._updateRoot=function(d){var f=d.scale||1,m="matrix("+[f,0,0,f,-1*d.x*f,-1*d.y*f].join(",")+")";ek(this._overlayRoot,m)},Co.prototype._getOverlayContainer=function(d,f){var m=ln(this._overlayContainers,function(g){return g.element===d});return m||f?m:this._createOverlayContainer(d)},Co.prototype._addOverlay=function(d){var f,m,g=d.id,b=d.element,_=d.html;_.get&&_.constructor.prototype.jquery&&(_=_.get(0)),Or(_)&&(_=wr(_)),m=this._getOverlayContainer(b),ke(f=wr('<div class="djs-overlay" data-overlay-id="'+g+'">'),{position:"absolute"}),f.appendChild(_),d.type&&$t(f).add("djs-overlay-"+d.type),m_(f,this._canvas.findRoot(b)===this._canvas.getRootElement()),d.htmlContainer=f,m.overlays.push(d),m.html.appendChild(f),this._overlays[g]=d,this._updateOverlay(d),this._updateOverlayVisibilty(d,this._canvas.viewbox())},Co.prototype._updateOverlayVisibilty=function(d,f){var m=d.show,g=this._canvas.findRoot(d.element),b=m&&m.minZoom,_=m&&m.maxZoom,x=d.htmlContainer,w=!0;(g!==this._canvas.getRootElement()||m&&(tn(b)&&b>f.scale||tn(_)&&_<f.scale))&&(w=!1),m_(x,w),this._updateOverlayScale(d,f)},Co.prototype._updateOverlayScale=function(d,f){var m,g,b,_=d.scale,x=d.htmlContainer,w="";!0!==_&&(!1===_?(m=1,g=1):(m=_.min,g=_.max),tn(m)&&f.scale<m&&(b=(1/f.scale||1)*m),tn(g)&&f.scale>g&&(b=(1/f.scale||1)*g)),tn(b)&&(w="scale("+b+","+b+")"),ek(x,w)},Co.prototype._updateOverlaysVisibilty=function(d){var f=this;ge(this._overlays,function(m){f._updateOverlayVisibilty(m,d)})},Co.prototype._init=function(){var d=this._eventBus,f=this;d.on("canvas.viewbox.changing",function(m){f.hide()}),d.on("canvas.viewbox.changed",function(m){var g;f._updateRoot(g=m.viewbox),f._updateOverlaysVisibilty(g),f.show()}),d.on(["shape.remove","connection.remove"],function(m){var g=m.element;ge(f.get({element:g}),function(x){f.remove(x.id)});var b=f._getOverlayContainer(g);if(b){cs(b.html);var _=f._overlayContainers.indexOf(b);-1!==_&&f._overlayContainers.splice(_,1)}}),d.on("element.changed",500,function(m){var b=f._getOverlayContainer(m.element,!0);b&&(ge(b.overlays,function(_){f._updateOverlay(_)}),f._updateOverlayContainer(b))}),d.on("element.marker.update",function(m){var g=f._getOverlayContainer(m.element,!0);g&&$t(g.html)[m.add?"add":"remove"](m.marker)}),d.on("root.set",function(){f._updateOverlaysVisibilty(f._canvas.viewbox())}),d.on("diagram.clear",this.clear,this)};var g_={__init__:["overlays"],overlays:["type",Co]};function tk(d,f,m,g){d.on("element.changed",function(b){var _=b.element;(_.parent||_===f.getRootElement())&&(b.gfx=m.getGraphics(_)),b.gfx&&d.fire(Ql(_)+".changed",b)}),d.on("elements.changed",function(b){var _=b.elements;_.forEach(function(x){d.fire("element.changed",{element:x})}),g.updateContainments(_)}),d.on("shape.changed",function(b){g.update("shape",b.element,b.gfx)}),d.on("connection.changed",function(b){g.update("connection",b.element,b.gfx)})}tk.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var v_={__init__:["changeSupport"],changeSupport:["type",tk]};function st(d){this._eventBus=d}function ta(d){return function(f,m,g,b,_){(xn(f)||at(f))&&(_=b,b=g,g=m,m=f,f=null),this.on(f,d,m,g,b,_)}}function s2(d,f){f.invoke(st,this),this.executed(function(m){var g=m.context;g.rootElement?d.setRootElement(g.rootElement):g.rootElement=d.getRootElement()}),this.revert(function(m){var g=m.context;g.rootElement&&d.setRootElement(g.rootElement)})}st.$inject=["eventBus"],st.prototype.on=function(d,f,m,g,b,_){if((xn(f)||at(f))&&(_=b,b=g,g=m,m=f,f=null),xn(m)&&(_=b,b=g,g=m,m=1e3),Sn(b)&&(_=b,b=!1),!xn(g))throw new Error("handlerFn must be a function");ut(d)||(d=[d]);var x=this._eventBus;ge(d,function(w){var C=["commandStack",w,f].filter(function(T){return T}).join(".");x.on(C,m,b?function(T,P){return function(O){return T.call(P||null,O.context,O.command,O)}}(g,_):g,_)})},st.prototype.canExecute=ta("canExecute"),st.prototype.preExecute=ta("preExecute"),st.prototype.preExecuted=ta("preExecuted"),st.prototype.execute=ta("execute"),st.prototype.executed=ta("executed"),st.prototype.postExecute=ta("postExecute"),st.prototype.postExecuted=ta("postExecuted"),st.prototype.revert=ta("revert"),st.prototype.reverted=ta("reverted"),Ye(s2,st),s2.$inject=["canvas","injector"];var nk={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",s2]};function I1(d){return CSS.escape(d)}var A8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function a2(d){return(d=""+d)&&d.replace(/[&<>"']/g,function(f){return A8[f]})}var I8="_plane";function l2(d){return function(f){return f.replace(new RegExp(I8+"$"),"")}(d.id)}function Fu(d){var f=d.id;return Y(d,"bpmn:SubProcess")?y_(f):f}function Vs(d){return y_(d)}function c2(d){return Y(ur(d),"bpmndi:BPMNPlane")}function y_(d){return d+I8}function b_(d,f,m){var g=wr('<ul class="bjs-breadcrumbs"></ul>'),b=m.getContainer(),_=$t(b);b.appendChild(g);var x=[];function w(C){C&&(x=function(O){for(var A=[],I=yt(O);I;I=I.$parent)(Y(I,"bpmn:SubProcess")||Y(I,"bpmn:Process"))&&A.push(I);return A.reverse()}(C));var T=x.map(function(O){var M=a2(O.name||O.id),A=wr('<li><span class="bjs-crumb"><a title="'+M+'">'+M+"</a></span></li>"),I=m.findRoot(Fu(O))||m.findRoot(O.id);if(!I&&Y(O,"bpmn:Process")){var V=f.find(function(W){var H=yt(W);return H&&H.get("processRef")&&H.get("processRef")===O});I=m.findRoot(V.id)}return A.addEventListener("click",function(){m.setRootElement(I)}),A});g.innerHTML="",_.toggle("bjs-breadcrumbs-shown",T.length>1),T.forEach(function(O){g.appendChild(O)})}d.on("element.changed",function(C){var T=yt(C.element);ln(x,function(P){return P===T})&&w()}),d.on("root.set",function(C){w(C.element)})}function N8(d,f){var m=null,g=new HV;d.on("root.set",function(b){var _=b.element,x=f.viewbox(),w=g.get(_);if(g.set(m,{x:x.x,y:x.y,zoom:x.scale}),m=_,!Y(_,"bpmn:Collaboration")||w){var C=(x.x-(w=w||{x:0,y:0,zoom:1}).x)*x.scale,T=(x.y-w.y)*x.scale;0===C&&0===T||f.scroll({dx:C,dy:T}),w.zoom!==x.scale&&f.zoom(w.zoom,{x:0,y:0})}}),d.on("diagram.clear",function(){g.clear(),m=null})}function HV(){this._entries=[],this.set=function(d,f){var m=!1;for(var g in this._entries)if(this._entries[g][0]===d){this._entries[g][1]=f,m=!0;break}m||this._entries.push([d,f])},this.get=function(d){for(var f in this._entries)if(this._entries[f][0]===d)return this._entries[f][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(d){var f=-1;for(var m in this._entries)if(this._entries[m][0]===d){f=m;break}-1!==f&&this._entries.splice(f,1)}}b_.$inject=["eventBus","elementRegistry","canvas"],N8.$inject=["eventBus","canvas"];function sc(d,f){this._eventBus=d,this._moddle=f;var m=this;d.on("import.render.start",1500,function(g,b){m._handleImport(b.definitions)})}function zs(d){return Y(d,"bpmndi:BPMNDiagram")?d:zs(d.$parent)}sc.prototype._handleImport=function(d){if(d.diagrams){var f=this;this._definitions=d,this._processToDiagramMap={},d.diagrams.forEach(function(g){g.plane&&g.plane.bpmnElement&&(f._processToDiagramMap[g.plane.bpmnElement.id]=g)});var m=[];d.diagrams.forEach(function(g){var b=f._createNewDiagrams(g.plane);Array.prototype.push.apply(m,b)}),m.forEach(function(g){f._movePlaneElementsToOrigin(g.plane)})}},sc.prototype._createNewDiagrams=function(d){var f=this,m=[],g=[];d.get("planeElement").forEach(function(_){var C,T,P,x=_.bpmnElement;if(x){var w=x.$parent;Y(x,"bpmn:SubProcess")&&!_.isExpanded&&m.push(x),T=d,Y(P=(C=x).$parent,"bpmn:SubProcess")&&P!==T.bpmnElement&&!Un(C,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"])&&g.push({diElement:_,parent:w})}});var b=[];return m.forEach(function(_){if(!f._processToDiagramMap[_.id]){var x=f._createDiagram(_);f._processToDiagramMap[_.id]=x,b.push(x)}}),g.forEach(function(_){for(var x=_.diElement,w=_.parent;w&&-1===m.indexOf(w);)w=w.$parent;w&&f._moveToDiPlane(x,f._processToDiagramMap[w.id].plane)}),b},sc.prototype._movePlaneElementsToOrigin=function(d){var x,f=d.get("planeElement"),m=(x={top:1/0,right:-1/0,bottom:-1/0,left:1/0},d.planeElement.forEach(function(w){if(w.bounds){var C=Xt(w.bounds);x.top=Math.min(C.top,x.top),x.left=Math.min(C.left,x.left)}}),Zn(x)),g=m.x-180,b=m.y-160;f.forEach(function(_){_.waypoint?_.waypoint.forEach(function(x){x.x=x.x-g,x.y=x.y-b}):_.bounds&&(_.bounds.x=_.bounds.x-g,_.bounds.y=_.bounds.y-b)})},sc.prototype._moveToDiPlane=function(d,f){var m=zs(d).plane.get("planeElement");m.splice(m.indexOf(d),1),f.get("planeElement").push(d)},sc.prototype._createDiagram=function(d){var f=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:d}),m=this._moddle.create("bpmndi:BPMNDiagram",{plane:f});return f.$parent=m,f.bpmnElement=d,m.$parent=this._definitions,this._definitions.diagrams.push(m),m},sc.$inject=["eventBus","moddle"];function Ml(d,f,m,g){st.call(this,f),this._canvas=d,this._eventBus=f,this._elementRegistry=m,this._overlays=g;var b=this;this.executed("shape.toggleCollapse",250,function(_){var x=_.shape;b._canDrillDown(x)?b._addOverlay(x):b._removeOverlay(x)},!0),this.reverted("shape.toggleCollapse",250,function(_){var x=_.shape;b._canDrillDown(x)?b._addOverlay(x):b._removeOverlay(x)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(_){var x=_.oldParent,w=_.newParent||_.parent,C=_.shape;b._canDrillDown(C)&&b._addOverlay(C),b._updateDrilldownOverlay(x),b._updateDrilldownOverlay(w),b._updateDrilldownOverlay(C)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(_){var x=_.oldParent,w=_.newParent||_.parent,C=_.shape;b._canDrillDown(C)&&b._addOverlay(C),b._updateDrilldownOverlay(x),b._updateDrilldownOverlay(w),b._updateDrilldownOverlay(C)},!0),f.on("import.render.complete",function(){m.filter(function(_){return b._canDrillDown(_)}).map(function(_){b._addOverlay(_)})})}Ye(Ml,st),Ml.prototype._updateDrilldownOverlay=function(d){if(d){var m=this._canvas.findRoot(d);m&&this._updateOverlayVisibility(m)}},Ml.prototype._canDrillDown=function(d){var f=this._canvas;return Y(d,"bpmn:SubProcess")&&f.findRoot(Fu(d))},Ml.prototype._updateOverlayVisibility=function(d){var f=this._overlays,m=yt(d),g=f.get({element:m.id,type:"drilldown"})[0];if(g){var b=m&&m.get("flowElements")&&m.get("flowElements").length;$t(g.html).toggle("bjs-drilldown-empty",!b)}},Ml.prototype._addOverlay=function(d){var f=this._canvas,m=this._overlays;m.get({element:d,type:"drilldown"}).length&&this._removeOverlay(d);var g=wr('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');g.addEventListener("click",function(){f.setRootElement(f.findRoot(Fu(d)))}),m.add(d,"drilldown",{position:{bottom:-7,right:-8},html:g}),this._updateOverlayVisibility(d)},Ml.prototype._removeOverlay=function(d){this._overlays.remove({element:d,type:"drilldown"})},Ml.$inject=["canvas","eventBus","elementRegistry","overlays"];var dh={__depends__:[g_,v_,nk],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",b_],drilldownCentering:["type",N8],drilldownOverlayBehavior:["type",Ml],subprocessCompatibility:["type",sc]};function Do(d){ii.call(this,d)}Ye(Do,ii),Do.prototype._modules=[$s,Ka,Lu,g_,dh],Do.prototype._moddleExtensions={};var rk=["c","C"],E_=["v","V"],ik=["y","Y"],ac=["z","Z"];function wa(d){return!d.altKey&&(d.ctrlKey||d.metaKey)}function zo(d,f){return-1!==(d=ut(d)?d:[d]).indexOf(f.key)||-1!==d.indexOf(f.code)}function d2(d){return d.shiftKey}var ph="keyboard.keydown",p2="input-handle-modified-keys";function uo(d,f){var m=this;this._config=d||{},this._eventBus=f,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),f.on("diagram.destroy",function(){m._fire("destroy"),m.unbind()}),f.on("diagram.init",function(){m._fire("init")}),f.on("attach",function(){d&&d.bindTo&&m.bind(d.bindTo)}),f.on("detach",function(){m.unbind()})}uo.$inject=["config.keyboard","eventBus"],uo.prototype._keydownHandler=function(d){this._keyHandler(d,ph)},uo.prototype._keyupHandler=function(d){this._keyHandler(d,"keyboard.keyup")},uo.prototype._keyHandler=function(d,f){this._isEventIgnored(d)||this._eventBus.fire(f||ph,{keyEvent:d})&&d.preventDefault()},uo.prototype._isEventIgnored=function(d){return!!d.defaultPrevented||(f=d.target)&&(Ir(f,"input, textarea")||"true"===f.contentEditable)&&this._isModifiedKeyIgnored(d);var f},uo.prototype._isModifiedKeyIgnored=function(d){return!wa(d)||-1===this._getAllowedModifiers(d.target).indexOf(d.key)},uo.prototype._getAllowedModifiers=function(d){var f=sr(d,"["+p2+"]",!0);return!f||this._node&&!this._node.contains(f)?[]:f.getAttribute(p2).split(",")},uo.prototype.bind=function(d){this.unbind(),this._node=d,Qt.bind(d,"keydown",this._keydownHandler),Qt.bind(d,"keyup",this._keyupHandler),this._fire("bind")},uo.prototype.getBinding=function(){return this._node},uo.prototype.unbind=function(){var d=this._node;d&&(this._fire("unbind"),Qt.unbind(d,"keydown",this._keydownHandler),Qt.unbind(d,"keyup",this._keyupHandler)),this._node=null},uo.prototype._fire=function(d){this._eventBus.fire("keyboard."+d,{node:this._node})},uo.prototype.addListener=function(d,f,m){xn(d)&&(m=f,f=d,d=1e3),this._eventBus.on(m||ph,d,f)},uo.prototype.removeListener=function(d,f){this._eventBus.off(f||ph,d)},uo.prototype.hasModifier=function(d){return d.ctrlKey||d.metaKey||d.shiftKey||d.altKey},uo.prototype.isCmd=wa,uo.prototype.isShift=d2,uo.prototype.isKey=zo;var f2=500;function U0(d,f){var m=this;d.on("editorActions.init",f2,function(g){m.registerBindings(f,g.editorActions)})}U0.$inject=["eventBus","keyboard"],U0.prototype.registerBindings=function(d,f){function m(g,b){f.isRegistered(g)&&d.addListener(b)}m("undo",function(g){if(wa(b=g.keyEvent)&&!d2(b)&&zo(ac,b))return f.trigger("undo"),!0;var b}),m("redo",function(g){if(wa(b=g.keyEvent)&&(zo(ik,b)||zo(ac,b)&&d2(b)))return f.trigger("redo"),!0;var b}),m("copy",function(g){if(wa(b=g.keyEvent)&&zo(rk,b))return f.trigger("copy"),!0;var b}),m("paste",function(g){if(wa(b=g.keyEvent)&&zo(E_,b))return f.trigger("paste"),!0;var b}),m("stepZoom",function(g){var b=g.keyEvent;if(zo(["+","Add","="],b)&&wa(b))return f.trigger("stepZoom",{value:1}),!0}),m("stepZoom",function(g){var b=g.keyEvent;if(zo(["-","Subtract"],b)&&wa(b))return f.trigger("stepZoom",{value:-1}),!0}),m("zoom",function(g){var b=g.keyEvent;if(zo("0",b)&&wa(b))return f.trigger("zoom",{value:1}),!0}),m("removeSelection",function(g){if(zo(["Backspace","Delete","Del"],g.keyEvent))return f.trigger("removeSelection"),!0})};var Bu={__init__:["keyboard","keyboardBindings"],keyboard:["type",uo],keyboardBindings:["type",U0]},Mn={moveSpeed:50,moveSpeedAccelerated:200};function x_(d,f,m){var g=this;this._config=de({},Mn,d||{}),f.addListener(function(b){var _=b.keyEvent,x=g._config;if(f.isCmd(_)&&f.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],_)){var w,C=f.isShift(_)?x.moveSpeedAccelerated:x.moveSpeed;switch(_.key){case"ArrowLeft":case"Left":w="left";break;case"ArrowUp":case"Up":w="up";break;case"ArrowRight":case"Right":w="right";break;case"ArrowDown":case"Down":w="down"}return g.moveCanvas({speed:C,direction:w}),!0}}),this.moveCanvas=function(b){var _=0,x=0,w=b.speed/Math.min(Math.sqrt(m.viewbox().scale),1);switch(b.direction){case"left":_=w;break;case"up":x=w;break;case"right":_=-w;break;case"down":x=-w}m.scroll({dx:_,dy:x})}}x_.$inject=["config.keyboardMove","keyboard","canvas"];var ok={__depends__:[Bu],__init__:["keyboardMove"],keyboardMove:["type",x_]},sk=/^djs-cursor-.*$/;function h2(d){var f=$t(document.body);f.removeMatching(sk),d&&f.add("djs-cursor-"+d)}function L8(){h2(null)}var F8=5e3;function hp(d,f){function m(){return!1}return d.once(f=f||"element.click",F8,m),function(){d.off(f,m)}}function N1(d){return{x:d.x+d.width/2,y:d.y+d.height/2}}function lc(d,f){return{x:d.x-f.x,y:d.y-f.y}}function B8(d,f){var m;function g(_){var x,w=m.start,C=m.button,T=oc(_),P=lc(T,w);!m.dragging&&(x=P,Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2))>15)&&(m.dragging=!0,0===C&&hp(d),h2("grab")),m.dragging&&(P=lc(T,m.last||m.start),f.scroll({dx:P.x,dy:P.y}),m.last=T),_.preventDefault()}function b(_){Qt.unbind(document,"mousemove",g),Qt.unbind(document,"mouseup",b),m=null,L8()}d.on("element.mousedown",500,function(_){return function(x){if(!sr(x.target,".djs-draggable")){var w=x.button;if(!(w>=2||x.ctrlKey||x.shiftKey||x.altKey))return m={button:w,start:oc(x)},Qt.bind(document,"mousemove",g),Qt.bind(document,"mouseup",b),!0}}(_.originalEvent)}),this.isActive=function(){return!!m}}B8.$inject=["eventBus","canvas"];var j8={__init__:["moveCanvas"],moveCanvas:["type",B8]};function w_(d){return Math.log(d)/Math.log(10)}function We(d,f){var m=w_(d.min),g=w_(d.max);return(Math.abs(m)+Math.abs(g))/f}var dr=Math.sign||function(d){return d>=0?1:-1},fh={min:.2,max:4};function Qa(d,f,m){d=d||{},this._enabled=!1,this._canvas=m,this._container=m._container,this._handleWheel=Ze(this._handleWheel,this),this._totalDelta=0,this._scale=d.scale||.75;var g=this;f.on("canvas.init",function(b){g._init(!1!==d.enabled)})}Qa.$inject=["config.zoomScroll","eventBus","canvas"],Qa.prototype.scroll=function(d){this._canvas.scroll(d)},Qa.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Qa.prototype.zoom=function(d,f){var m=We(fh,20);this._totalDelta+=d,Math.abs(this._totalDelta)>.1&&(this._zoom(d,f,m),this._totalDelta=0)},Qa.prototype._handleWheel=function(d){if(!sr(d.target,".djs-scrollable",!0)){var f=this._container;d.preventDefault();var m,g=d.ctrlKey||kl()&&d.metaKey,b=d.shiftKey,_=-1*this._scale;if(_*=g?0===d.deltaMode?.02:.32:0===d.deltaMode?1:16,g){var x=f.getBoundingClientRect(),w={x:d.clientX-x.left,y:d.clientY-x.top};m=Math.sqrt(Math.pow(d.deltaY,2)+Math.pow(d.deltaX,2))*dr(d.deltaY)*_,this.zoom(m,w)}else this.scroll(m=b?{dx:_*d.deltaY,dy:0}:{dx:_*d.deltaX,dy:_*d.deltaY})}},Qa.prototype.stepZoom=function(d,f){var m=We(fh,10);this._zoom(d,f,m)},Qa.prototype._zoom=function(d,f,m){var w,g=this._canvas,b=d>0?1:-1,_=w_(g.zoom()),x=Math.round(_/m)*m,T=Math.pow(10,x+=m*b);g.zoom((w=fh,Math.max(w.min,Math.min(w.max,T))),f)},Qa.prototype.toggle=function(d){var g=this._enabled;return void 0===d&&(d=!g),g!==d&&Qt[d?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=d,d},Qa.prototype._init=function(d){this.toggle(d)};var Qr={__init__:["zoomScroll"],zoomScroll:["type",Qa]};function hh(d){Do.call(this,d)}Ye(hh,Do),hh.prototype._modules=[].concat(Do.prototype._modules,hh.prototype._navigationModules=[ok,j8,Qr]);var mh={exports:{}};!function(d){!function(f,m,g,b){var _,x=["","webkit","Moz","MS","ms","o"],w=m.createElement("div"),C="function",T=Math.round,P=Math.abs,O=Date.now;function M(Z,ve,Re){return setTimeout(Q(Z,Re),ve)}function A(Z,ve,Re){return!!Array.isArray(Z)&&(I(Z,Re[ve],Re),!0)}function I(Z,ve,Re){var Xe;if(Z)if(Z.forEach)Z.forEach(ve,Re);else if(Z.length!==b)for(Xe=0;Xe<Z.length;)ve.call(Re,Z[Xe],Xe,Z),Xe++;else for(Xe in Z)Z.hasOwnProperty(Xe)&&ve.call(Re,Z[Xe],Xe,Z)}function V(Z,ve,Re){var Xe="DEPRECATED METHOD: "+ve+"\n"+Re+" AT \n";return function(){var ft=new Error("get-stack-trace"),Wn=ft&&ft.stack?ft.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ai=f.console&&(f.console.warn||f.console.log);return ai&&ai.call(f.console,Xe,Wn),Z.apply(this,arguments)}}_="function"!=typeof Object.assign?function(Z){if(Z===b||null===Z)throw new TypeError("Cannot convert undefined or null to object");for(var ve=Object(Z),Re=1;Re<arguments.length;Re++){var Xe=arguments[Re];if(Xe!==b&&null!==Xe)for(var ft in Xe)Xe.hasOwnProperty(ft)&&(ve[ft]=Xe[ft])}return ve}:Object.assign;var W=V(function(Z,ve,Re){for(var Xe=Object.keys(ve),ft=0;ft<Xe.length;)(!Re||Re&&Z[Xe[ft]]===b)&&(Z[Xe[ft]]=ve[Xe[ft]]),ft++;return Z},"extend","Use `assign`."),H=V(function(Z,ve){return W(Z,ve,!0)},"merge","Use `assign`.");function z(Z,ve,Re){var Xe,ft=ve.prototype;(Xe=Z.prototype=Object.create(ft)).constructor=Z,Xe._super=ft,Re&&_(Xe,Re)}function Q(Z,ve){return function(){return Z.apply(ve,arguments)}}function J(Z,ve){return typeof Z==C?Z.apply(ve&&ve[0]||b,ve):Z}function oe(Z,ve){return Z===b?ve:Z}function Oe(Z,ve,Re){I(Yt(ve),function(Xe){Z.addEventListener(Xe,Re,!1)})}function Ee(Z,ve,Re){I(Yt(ve),function(Xe){Z.removeEventListener(Xe,Re,!1)})}function De(Z,ve){for(;Z;){if(Z==ve)return!0;Z=Z.parentNode}return!1}function Ne(Z,ve){return Z.indexOf(ve)>-1}function Yt(Z){return Z.trim().split(/\s+/g)}function mt(Z,ve,Re){if(Z.indexOf&&!Re)return Z.indexOf(ve);for(var Xe=0;Xe<Z.length;){if(Re&&Z[Xe][Re]==ve||!Re&&Z[Xe]===ve)return Xe;Xe++}return-1}function Ve(Z){return Array.prototype.slice.call(Z,0)}function Qe(Z,ve,Re){for(var Xe=[],ft=[],Wn=0;Wn<Z.length;){var ai=ve?Z[Wn][ve]:Z[Wn];mt(ft,ai)<0&&Xe.push(Z[Wn]),ft[Wn]=ai,Wn++}return Re&&(Xe=ve?Xe.sort(function(Ss,Jn){return Ss[ve]>Jn[ve]}):Xe.sort()),Xe}function dn(Z,ve){for(var Re,Xe,ft=ve[0].toUpperCase()+ve.slice(1),Wn=0;Wn<x.length;){if((Xe=(Re=x[Wn])?Re+ft:ve)in Z)return Xe;Wn++}return b}var ue=1;function G(Z){var ve=Z.ownerDocument||Z;return ve.defaultView||ve.parentWindow||f}var xe="ontouchstart"in f,He=dn(f,"PointerEvent")!==b,Je=xe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Nt="touch",Vt="mouse",qt=25,wt=1,pr=4,$r=8,jl=1,qs=2,Wr=4,bi=8,Mr=16,si=qs|Wr,Hi=bi|Mr,yr=si|Hi,xs=["x","y"],br=["clientX","clientY"];function wi(Z,ve){var Re=this;this.manager=Z,this.callback=ve,this.element=Z.element,this.target=Z.options.inputTarget,this.domHandler=function(Xe){J(Z.options.enable,[Z])&&Re.handler(Xe)},this.init()}function In(Z,ve,Re){var Xe=Re.pointers.length,ft=Re.changedPointers.length,Wn=ve&wt&&Xe-ft==0,ai=ve&(pr|$r)&&Xe-ft==0;Re.isFirst=!!Wn,Re.isFinal=!!ai,Wn&&(Z.session={}),Re.eventType=ve,function(Ss,Jn){var Cs=Ss.session,Ub=Jn.pointers,lC=Ub.length;Cs.firstInput||(Cs.firstInput=_r(Jn)),lC>1&&!Cs.firstMultiple?Cs.firstMultiple=_r(Jn):1===lC&&(Cs.firstMultiple=!1);var gc,ns,yd,Qp,Zp,Jp,cC=Cs.firstInput,Kp=Cs.firstMultiple,qE=Kp?Kp.center:cC.center,uC=Jn.center=Gp(Ub);Jn.timeStamp=O(),Jn.deltaTime=Jn.timeStamp-cC.timeStamp,Jn.angle=rl(qE,uC),Jn.distance=ws(qE,uC),yd=(ns=Jn).center,Qp=(gc=Cs).offsetDelta||{},Zp=gc.prevDelta||{},Jp=gc.prevInput||{},ns.eventType!==wt&&Jp.eventType!==pr||(Zp=gc.prevDelta={x:Jp.deltaX||0,y:Jp.deltaY||0},Qp=gc.offsetDelta={x:yd.x,y:yd.y}),ns.deltaX=Zp.x+(yd.x-Qp.x),ns.deltaY=Zp.y+(yd.y-Qp.y),Jn.offsetDirection=ho(Jn.deltaX,Jn.deltaY);var hv=tu(Jn.deltaTime,Jn.deltaX,Jn.deltaY);Jn.overallVelocityX=hv.x,Jn.overallVelocityY=hv.y,Jn.overallVelocity=P(hv.x)>P(hv.y)?hv.x:hv.y,Jn.scale=Kp?(WE=Kp.pointers,ws((mv=Ub)[0],mv[1],br)/ws(WE[0],WE[1],br)):1,Jn.rotation=Kp?function(gc,ns){return rl(ns[1],ns[0],br)+rl(gc[1],gc[0],br)}(Kp.pointers,Ub):0,Jn.maxPointers=Cs.prevInput?Jn.pointers.length>Cs.prevInput.maxPointers?Jn.pointers.length:Cs.prevInput.maxPointers:Jn.pointers.length,function(gc,ns){var yd,Qp,Zp,Jp,bd=gc.lastInterval||ns,dC=ns.timeStamp-bd.timeStamp;if(ns.eventType!=$r&&(dC>qt||bd.velocity===b)){var pC=ns.deltaX-bd.deltaX,fC=ns.deltaY-bd.deltaY,lm=tu(dC,pC,fC);Qp=lm.x,Zp=lm.y,yd=P(lm.x)>P(lm.y)?lm.x:lm.y,Jp=ho(pC,fC),gc.lastInterval=ns}else yd=bd.velocity,Qp=bd.velocityX,Zp=bd.velocityY,Jp=bd.direction;ns.velocity=yd,ns.velocityX=Qp,ns.velocityY=Zp,ns.direction=Jp}(Cs,Jn);var WE,mv,gv=Ss.element;De(Jn.srcEvent.target,gv)&&(gv=Jn.srcEvent.target),Jn.target=gv}(Z,Re),Z.emit("hammer.input",Re),Z.recognize(Re),Z.session.prevInput=Re}function _r(Z){for(var ve=[],Re=0;Re<Z.pointers.length;)ve[Re]={clientX:T(Z.pointers[Re].clientX),clientY:T(Z.pointers[Re].clientY)},Re++;return{timeStamp:O(),pointers:ve,center:Gp(ve),deltaX:Z.deltaX,deltaY:Z.deltaY}}function Gp(Z){var ve=Z.length;if(1===ve)return{x:T(Z[0].clientX),y:T(Z[0].clientY)};for(var Re=0,Xe=0,ft=0;ft<ve;)Re+=Z[ft].clientX,Xe+=Z[ft].clientY,ft++;return{x:T(Re/ve),y:T(Xe/ve)}}function tu(Z,ve,Re){return{x:ve/Z||0,y:Re/Z||0}}function ho(Z,ve){return Z===ve?jl:P(Z)>=P(ve)?Z<0?qs:Wr:ve<0?bi:Mr}function ws(Z,ve,Re){Re||(Re=xs);var Xe=ve[Re[0]]-Z[Re[0]],ft=ve[Re[1]]-Z[Re[1]];return Math.sqrt(Xe*Xe+ft*ft)}function rl(Z,ve,Re){return Re||(Re=xs),180*Math.atan2(ve[Re[1]]-Z[Re[1]],ve[Re[0]]-Z[Re[0]])/Math.PI}wi.prototype={handler:function(){},init:function(){this.evEl&&Oe(this.element,this.evEl,this.domHandler),this.evTarget&&Oe(this.target,this.evTarget,this.domHandler),this.evWin&&Oe(G(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ee(this.element,this.evEl,this.domHandler),this.evTarget&&Ee(this.target,this.evTarget,this.domHandler),this.evWin&&Ee(G(this.element),this.evWin,this.domHandler)}};var vd={mousedown:wt,mousemove:2,mouseup:pr},il="mousedown",lv="mousemove mouseup";function Ui(){this.evEl=il,this.evWin=lv,this.pressed=!1,wi.apply(this,arguments)}z(Ui,wi,{handler:function(Z){var ve=vd[Z.type];ve&wt&&0===Z.button&&(this.pressed=!0),2&ve&&1!==Z.which&&(ve=pr),this.pressed&&(ve&pr&&(this.pressed=!1),this.callback(this.manager,ve,{pointers:[Z],changedPointers:[Z],pointerType:Vt,srcEvent:Z}))}});var qp={pointerdown:wt,pointermove:2,pointerup:pr,pointercancel:$r,pointerout:$r},Fb={2:Nt,3:"pen",4:Vt,5:"kinect"},ol="pointerdown",rm="pointermove pointerup pointercancel";function $E(){this.evEl=ol,this.evWin=rm,wi.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f.MSPointerEvent&&!f.PointerEvent&&(ol="MSPointerDown",rm="MSPointerMove MSPointerUp MSPointerCancel"),z($E,wi,{handler:function(Z){var ve=this.store,Re=!1,Xe=Z.type.toLowerCase().replace("ms",""),ft=qp[Xe],Wn=Fb[Z.pointerType]||Z.pointerType,ai=Wn==Nt,Ss=mt(ve,Z.pointerId,"pointerId");ft&wt&&(0===Z.button||ai)?Ss<0&&(ve.push(Z),Ss=ve.length-1):ft&(pr|$r)&&(Re=!0),Ss<0||(ve[Ss]=Z,this.callback(this.manager,ft,{pointers:ve,changedPointers:[Z],pointerType:Wn,srcEvent:Z}),Re&&ve.splice(Ss,1))}});var cv={touchstart:wt,touchmove:2,touchend:pr,touchcancel:$r};function VE(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,wi.apply(this,arguments)}function iC(Z,ve){var Re=Ve(Z.touches),Xe=Ve(Z.changedTouches);return ve&(pr|$r)&&(Re=Qe(Re.concat(Xe),"identifier",!0)),[Re,Xe]}z(VE,wi,{handler:function(Z){var ve=cv[Z.type];if(ve===wt&&(this.started=!0),this.started){var Re=iC.call(this,Z,ve);ve&(pr|$r)&&Re[0].length-Re[1].length==0&&(this.started=!1),this.callback(this.manager,ve,{pointers:Re[0],changedPointers:Re[1],pointerType:Nt,srcEvent:Z})}}});var AM={touchstart:wt,touchmove:2,touchend:pr,touchcancel:$r},IM="touchstart touchmove touchend touchcancel";function Gi(){this.evTarget=IM,this.targetIds={},wi.apply(this,arguments)}function oC(Z,ve){var Re=Ve(Z.touches),Xe=this.targetIds;if(ve&(2|wt)&&1===Re.length)return Xe[Re[0].identifier]=!0,[Re,Re];var ft,Wn,ai=Ve(Z.changedTouches),Ss=[],Jn=this.target;if(Wn=Re.filter(function(Cs){return De(Cs.target,Jn)}),ve===wt)for(ft=0;ft<Wn.length;)Xe[Wn[ft].identifier]=!0,ft++;for(ft=0;ft<ai.length;)Xe[ai[ft].identifier]&&Ss.push(ai[ft]),ve&(pr|$r)&&delete Xe[ai[ft].identifier],ft++;return Ss.length?[Qe(Wn.concat(Ss),"identifier",!0),Ss]:void 0}z(Gi,wi,{handler:function(Z){var ve=AM[Z.type],Re=oC.call(this,Z,ve);Re&&this.callback(this.manager,ve,{pointers:Re[0],changedPointers:Re[1],pointerType:Nt,srcEvent:Z})}});var NM=2500;function to(){wi.apply(this,arguments);var Z=Q(this.handler,this);this.touch=new Gi(this.manager,Z),this.mouse=new Ui(this.manager,Z),this.primaryTouch=null,this.lastTouches=[]}function uv(Z,ve){Z&wt?(this.primaryTouch=ve.changedPointers[0].identifier,Wp.call(this,ve)):Z&(pr|$r)&&Wp.call(this,ve)}function Wp(Z){var ve=Z.changedPointers[0];if(ve.identifier===this.primaryTouch){var Re={x:ve.clientX,y:ve.clientY};this.lastTouches.push(Re);var Xe=this.lastTouches;setTimeout(function(){var ft=Xe.indexOf(Re);ft>-1&&Xe.splice(ft,1)},NM)}}function Bb(Z){for(var ve=Z.srcEvent.clientX,Re=Z.srcEvent.clientY,Xe=0;Xe<this.lastTouches.length;Xe++){var ft=this.lastTouches[Xe],Wn=Math.abs(ve-ft.x),ai=Math.abs(Re-ft.y);if(Wn<=25&&ai<=25)return!0}return!1}z(to,wi,{handler:function(Z,ve,Re){var ft=Re.pointerType==Vt;if(!(ft&&Re.sourceCapabilities&&Re.sourceCapabilities.firesTouchEvents)){if(Re.pointerType==Nt)uv.call(this,ve,Re);else if(ft&&Bb.call(this,Re))return;this.callback(Z,ve,Re)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var im=dn(w.style,"touchAction"),dv=im!==b,zE="compute",jb="manipulation",nu="none",Xp="pan-x",om="pan-y",Yp=function(){if(!dv)return!1;var Z={},ve=f.CSS&&f.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Re){Z[Re]=!ve||f.CSS.supports("touch-action",Re)}),Z}();function t0(Z,ve){this.manager=Z,this.set(ve)}t0.prototype={set:function(Z){Z==zE&&(Z=this.compute()),dv&&this.manager.element.style&&Yp[Z]&&(this.manager.element.style[im]=Z),this.actions=Z.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Z=[];return I(this.manager.recognizers,function(ve){J(ve.options.enable,[ve])&&(Z=Z.concat(ve.getTouchAction()))}),function(ve){if(Ne(ve,nu))return nu;var Re=Ne(ve,Xp),Xe=Ne(ve,om);return Re&&Xe?nu:Re||Xe?Re?Xp:om:Ne(ve,jb)?jb:"auto"}(Z.join(" "))},preventDefaults:function(Z){var ve=Z.srcEvent,Re=Z.offsetDirection;if(this.manager.session.prevented)ve.preventDefault();else{var Xe=this.actions,ft=Ne(Xe,nu)&&!Yp[nu],Wn=Ne(Xe,om)&&!Yp[om],ai=Ne(Xe,Xp)&&!Yp[Xp];if(ft&&1===Z.pointers.length&&Z.distance<2&&Z.deltaTime<250)return;if(!ai||!Wn)return ft||Wn&&Re&si||ai&&Re&Hi?this.preventSrc(ve):void 0}},preventSrc:function(Z){this.manager.session.prevented=!0,Z.preventDefault()}};var $b=1;function n0(Z){this.options=_({},this.defaults,Z||{}),this.id=ue++,this.manager=null,this.options.enable=oe(this.options.enable,!0),this.state=$b,this.simultaneous={},this.requireFail=[]}function sC(Z){return 16&Z?"cancel":8&Z?"end":4&Z?"move":2&Z?"start":""}function Vb(Z){return Z==Mr?"down":Z==bi?"up":Z==qs?"left":Z==Wr?"right":""}function pv(Z,ve){var Re=ve.manager;return Re?Re.get(Z):Z}function $l(){n0.apply(this,arguments)}function zb(){$l.apply(this,arguments),this.pX=null,this.pY=null}function aC(){$l.apply(this,arguments)}function UE(){n0.apply(this,arguments),this._timer=null,this._input=null}function sm(){$l.apply(this,arguments)}function fv(){$l.apply(this,arguments)}function am(){n0.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pa(Z,ve){return(ve=ve||{}).recognizers=oe(ve.recognizers,Pa.defaults.preset),new Hb(Z,ve)}function Hb(Z,ve){this.options=_({},Pa.defaults,ve||{}),this.options.inputTarget=this.options.inputTarget||Z,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Z,this.input=new(this.options.inputClass||(He?$E:Je?Gi:xe?to:Ui))(this,In),this.touchAction=new t0(this,this.options.touchAction),GE(this,!0),I(this.options.recognizers,function(Xe){var ft=this.add(new Xe[0](Xe[1]));Xe[2]&&ft.recognizeWith(Xe[2]),Xe[3]&&ft.requireFailure(Xe[3])},this)}function GE(Z,ve){var Re,Xe=Z.element;Xe.style&&(I(Z.options.cssProps,function(ft,Wn){Re=dn(Xe.style,Wn),ve?(Z.oldCssProps[Re]=Xe.style[Re],Xe.style[Re]=ft):Xe.style[Re]=Z.oldCssProps[Re]||""}),ve||(Z.oldCssProps={}))}n0.prototype={defaults:{},set:function(Z){return _(this.options,Z),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Z){if(A(Z,"recognizeWith",this))return this;var ve=this.simultaneous;return ve[(Z=pv(Z,this)).id]||(ve[Z.id]=Z,Z.recognizeWith(this)),this},dropRecognizeWith:function(Z){return A(Z,"dropRecognizeWith",this)||(Z=pv(Z,this),delete this.simultaneous[Z.id]),this},requireFailure:function(Z){if(A(Z,"requireFailure",this))return this;var ve=this.requireFail;return-1===mt(ve,Z=pv(Z,this))&&(ve.push(Z),Z.requireFailure(this)),this},dropRequireFailure:function(Z){if(A(Z,"dropRequireFailure",this))return this;Z=pv(Z,this);var ve=mt(this.requireFail,Z);return ve>-1&&this.requireFail.splice(ve,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Z){return!!this.simultaneous[Z.id]},emit:function(Z){var ve=this,Re=this.state;function Xe(ft){ve.manager.emit(ft,Z)}Re<8&&Xe(ve.options.event+sC(Re)),Xe(ve.options.event),Z.additionalEvent&&Xe(Z.additionalEvent),Re>=8&&Xe(ve.options.event+sC(Re))},tryEmit:function(Z){if(this.canEmit())return this.emit(Z);this.state=32},canEmit:function(){for(var Z=0;Z<this.requireFail.length;){if(!(this.requireFail[Z].state&(32|$b)))return!1;Z++}return!0},recognize:function(Z){var ve=_({},Z);if(!J(this.options.enable,[this,ve]))return this.reset(),void(this.state=32);56&this.state&&(this.state=$b),this.state=this.process(ve),30&this.state&&this.tryEmit(ve)},process:function(Z){},getTouchAction:function(){},reset:function(){}},z($l,n0,{defaults:{pointers:1},attrTest:function(Z){var ve=this.options.pointers;return 0===ve||Z.pointers.length===ve},process:function(Z){var ve=this.state,Re=Z.eventType,Xe=6&ve,ft=this.attrTest(Z);return Xe&&(Re&$r||!ft)?16|ve:Xe||ft?Re&pr?8|ve:2&ve?4|ve:2:32}}),z(zb,$l,{defaults:{event:"pan",threshold:10,pointers:1,direction:yr},getTouchAction:function(){var Z=this.options.direction,ve=[];return Z&si&&ve.push(om),Z&Hi&&ve.push(Xp),ve},directionTest:function(Z){var ve=this.options,Re=!0,Xe=Z.distance,ft=Z.direction,Wn=Z.deltaX,ai=Z.deltaY;return ft&ve.direction||(ve.direction&si?(ft=0===Wn?jl:Wn<0?qs:Wr,Re=Wn!=this.pX,Xe=Math.abs(Z.deltaX)):(ft=0===ai?jl:ai<0?bi:Mr,Re=ai!=this.pY,Xe=Math.abs(Z.deltaY))),Z.direction=ft,Re&&Xe>ve.threshold&&ft&ve.direction},attrTest:function(Z){return $l.prototype.attrTest.call(this,Z)&&(2&this.state||!(2&this.state)&&this.directionTest(Z))},emit:function(Z){this.pX=Z.deltaX,this.pY=Z.deltaY;var ve=Vb(Z.direction);ve&&(Z.additionalEvent=this.options.event+ve),this._super.emit.call(this,Z)}}),z(aC,$l,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nu]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.scale-1)>this.options.threshold||2&this.state)},emit:function(Z){1!==Z.scale&&(Z.additionalEvent=this.options.event+(Z.scale<1?"in":"out")),this._super.emit.call(this,Z)}}),z(UE,n0,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Z){var ve=this.options,Re=Z.pointers.length===ve.pointers,Xe=Z.distance<ve.threshold,ft=Z.deltaTime>ve.time;if(this._input=Z,!Xe||!Re||Z.eventType&(pr|$r)&&!ft)this.reset();else if(Z.eventType&wt)this.reset(),this._timer=M(function(){this.state=8,this.tryEmit()},ve.time,this);else if(Z.eventType&pr)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Z){8===this.state&&(Z&&Z.eventType&pr?this.manager.emit(this.options.event+"up",Z):(this._input.timeStamp=O(),this.manager.emit(this.options.event,this._input)))}}),z(sm,$l,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nu]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.rotation)>this.options.threshold||2&this.state)}}),z(fv,$l,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:si|Hi,pointers:1},getTouchAction:function(){return zb.prototype.getTouchAction.call(this)},attrTest:function(Z){var ve,Re=this.options.direction;return Re&(si|Hi)?ve=Z.overallVelocity:Re&si?ve=Z.overallVelocityX:Re&Hi&&(ve=Z.overallVelocityY),this._super.attrTest.call(this,Z)&&Re&Z.offsetDirection&&Z.distance>this.options.threshold&&Z.maxPointers==this.options.pointers&&P(ve)>this.options.velocity&&Z.eventType&pr},emit:function(Z){var ve=Vb(Z.offsetDirection);ve&&this.manager.emit(this.options.event+ve,Z),this.manager.emit(this.options.event,Z)}}),z(am,n0,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[jb]},process:function(Z){var ve=this.options,Re=Z.pointers.length===ve.pointers,Xe=Z.distance<ve.threshold,ft=Z.deltaTime<ve.time;if(this.reset(),Z.eventType&wt&&0===this.count)return this.failTimeout();if(Xe&&ft&&Re){if(Z.eventType!=pr)return this.failTimeout();var Wn=!this.pTime||Z.timeStamp-this.pTime<ve.interval,ai=!this.pCenter||ws(this.pCenter,Z.center)<ve.posThreshold;if(this.pTime=Z.timeStamp,this.pCenter=Z.center,ai&&Wn?this.count+=1:this.count=1,this._input=Z,this.count%ve.taps==0)return this.hasRequireFailures()?(this._timer=M(function(){this.state=8,this.tryEmit()},ve.interval,this),2):8}return 32},failTimeout:function(){return this._timer=M(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pa.VERSION="2.0.7",Pa.defaults={domEvents:!1,touchAction:zE,enable:!0,inputTarget:null,inputClass:null,preset:[[sm,{enable:!1}],[aC,{enable:!1},["rotate"]],[fv,{direction:si}],[zb,{direction:si},["swipe"]],[am],[am,{event:"doubletap",taps:2},["tap"]],[UE]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Hb.prototype={set:function(Z){return _(this.options,Z),Z.touchAction&&this.touchAction.update(),Z.inputTarget&&(this.input.destroy(),this.input.target=Z.inputTarget,this.input.init()),this},stop:function(Z){this.session.stopped=Z?2:1},recognize:function(Z){var ve=this.session;if(!ve.stopped){var Re;this.touchAction.preventDefaults(Z);var Xe=this.recognizers,ft=ve.curRecognizer;(!ft||ft&&8&ft.state)&&(ft=ve.curRecognizer=null);for(var Wn=0;Wn<Xe.length;)Re=Xe[Wn],2===ve.stopped||ft&&Re!=ft&&!Re.canRecognizeWith(ft)?Re.reset():Re.recognize(Z),!ft&&14&Re.state&&(ft=ve.curRecognizer=Re),Wn++}},get:function(Z){if(Z instanceof n0)return Z;for(var ve=this.recognizers,Re=0;Re<ve.length;Re++)if(ve[Re].options.event==Z)return ve[Re];return null},add:function(Z){if(A(Z,"add",this))return this;var ve=this.get(Z.options.event);return ve&&this.remove(ve),this.recognizers.push(Z),Z.manager=this,this.touchAction.update(),Z},remove:function(Z){if(A(Z,"remove",this))return this;if(Z=this.get(Z)){var ve=this.recognizers,Re=mt(ve,Z);-1!==Re&&(ve.splice(Re,1),this.touchAction.update())}return this},on:function(Z,ve){if(Z!==b&&ve!==b){var Re=this.handlers;return I(Yt(Z),function(Xe){Re[Xe]=Re[Xe]||[],Re[Xe].push(ve)}),this}},off:function(Z,ve){if(Z!==b){var Re=this.handlers;return I(Yt(Z),function(Xe){ve?Re[Xe]&&Re[Xe].splice(mt(Re[Xe],ve),1):delete Re[Xe]}),this}},emit:function(Z,ve){var ft,Wn,ai;this.options.domEvents&&(ft=Z,Wn=ve,(ai=m.createEvent("Event")).initEvent(ft,!0,!0),ai.gesture=Wn,Wn.target.dispatchEvent(ai));var Re=this.handlers[Z]&&this.handlers[Z].slice();if(Re&&Re.length){ve.type=Z,ve.preventDefault=function(){ve.srcEvent.preventDefault()};for(var Xe=0;Xe<Re.length;)Re[Xe](ve),Xe++}},destroy:function(){this.element&&GE(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(Pa,{INPUT_START:wt,INPUT_MOVE:2,INPUT_END:pr,INPUT_CANCEL:$r,STATE_POSSIBLE:$b,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:jl,DIRECTION_LEFT:qs,DIRECTION_RIGHT:Wr,DIRECTION_UP:bi,DIRECTION_DOWN:Mr,DIRECTION_HORIZONTAL:si,DIRECTION_VERTICAL:Hi,DIRECTION_ALL:yr,Manager:Hb,Input:wi,TouchAction:t0,TouchInput:Gi,MouseInput:Ui,PointerEventInput:$E,TouchMouseInput:to,SingleTouchInput:VE,Recognizer:n0,AttrRecognizer:$l,Tap:am,Pan:zb,Swipe:fv,Pinch:aC,Rotate:sm,Press:UE,on:Oe,off:Ee,each:I,merge:H,extend:W,assign:_,inherit:z,bindFn:Q,prefixed:dn}),(void 0!==f?f:typeof self<"u"?self:{}).Hammer=Pa,"function"==typeof b&&b.amd?b(function(){return Pa}):d.exports?d.exports=Pa:f.Hammer=Pa}(window,document)}(mh);var Hs=Jo(mh.exports),m2=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function gh(d,f){return f.get(d,!1)}function S_(d){d.preventDefault(),"function"==typeof d.stopPropagation?d.stopPropagation():d.srcEvent&&"function"==typeof d.srcEvent.stopPropagation&&d.srcEvent.stopPropagation(),"function"==typeof d.stopImmediatePropagation&&d.stopImmediatePropagation()}function $8(d){function f(C){setTimeout(function(){ge(m2,function(T){Qt.unbind(d,T,S_,!0)})},500)}Qt.bind(d,"touchstart",function(C){ge(m2,function(T){Qt.bind(d,T,S_,!0)})},!0),Qt.bind(d,"touchend",f,!0),Qt.bind(d,"touchcancel",f,!0);var m=new Hs.Manager(d,{inputClass:Hs.TouchInput,recognizers:[],domEvents:!0}),g=new Hs.Tap,b=new Hs.Pan({threshold:10}),_=new Hs.Press,x=new Hs.Pinch,w=new Hs.Tap({event:"doubletap",taps:2});return x.requireFailure(b),x.requireFailure(_),m.add([b,_,x,w,g]),m.reset=function(C){var T=this.recognizers,P=this.session;P.stopped||(m.stop(C),setTimeout(function(){var O,M;for(O=0;M=T[O];O++)M.reset(),M.state=8;P.curRecognizer=null},0))},m.on("hammer.input",function(C){C.srcEvent.defaultPrevented&&m.reset(!0)}),m}function C_(d,f,m,g,b){var _,x=gh("dragging",d),w=gh("move",d),C=gh("contextPad",d),T=gh("palette",d);function P(A,I){return function(V){var W=O(V.target),H=W&&g.get(W);return I&&(V.srcEvent.button=I),b.fire(A,V,H)}}function O(A){return sr(A,"svg, .djs-element",!0)}x&&m.on("drag.move",function(A){var I=A.originalEvent;if(I&&!(I instanceof MouseEvent)){var V=oc(I),W=O(document.elementFromPoint(V.x,V.y)),H=W&&g.get(W);H!==A.hover&&(A.hover&&x.out(A),H&&(x.hover({element:H,gfx:W}),A.hover=H,A.hoverGfx=W))}}),C&&m.on("contextPad.create",function(A){var I=$8(A.pad.html);I.on("panstart",function(V){C.trigger("dragstart",V,!0)}),I.on("press",function(V){C.trigger("dragstart",V,!0)}),I.on("tap",function(V){C.trigger("click",V)})}),T&&m.on("palette.create",function(A){var I=$8(A.container);I.on("panstart",function(V){T.trigger("dragstart",V,!0)}),I.on("press",function(V){T.trigger("dragstart",V,!0)}),I.on("tap",function(V){T.trigger("click",V)})}),m.on("canvas.init",function(A){!function M(A){function I(V){var W=O(V.target),H=W&&g.get(W);if(w&&f.getRootElement()!==H)return w.start(V,H,!0);!function(z){var Q=0,J=0;function oe(Ee){f.scroll({dx:Ee.deltaX-Q,dy:Ee.deltaY-J}),Q=Ee.deltaX,J=Ee.deltaY}function Oe(Ee){_.off("panmove",oe),_.off("panend",Oe),_.off("pancancel",Oe)}_.on("panmove",oe),_.on("panend",Oe),_.on("pancancel",Oe)}()}(_=$8(A)).on("tap",P("element.click")),_.on("doubletap",P("element.dblclick",1)),_.on("panstart",I),_.on("press",I),_.on("pinchstart",function(V){var W=f.zoom(),H=V.center;function z(J){var Oe=Math.max(.2,Math.min(4,(1-(1-J.scale)/1.5)*W));f.zoom(Oe,H),S_(J)}function Q(J){_.off("pinchmove",z),_.off("pinchend",Q),_.off("pinchcancel",Q),_.reset(!0)}_.on("pinchmove",z),_.on("pinchend",Q),_.on("pinchcancel",Q)})}(A.svg)})}function ms(d){var f=this;d.on("canvas.init",function(m){f.addBBoxMarker(m.svg)})}C_.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],ms.$inject=["eventBus"],ms.prototype.addBBoxMarker=function(d){var f={fill:"none",class:"outer-bound-marker"},m=Mt("rect");_t(m,{x:-1e4,y:1e4,width:10,height:10}),_t(m,f),nn(d,m);var g=Mt("rect");_t(g,{x:1e4,y:1e4,width:10,height:10}),_t(g,f),nn(d,g)};var ju={__depends__:[{__depends__:[o2],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",C_],touchFix:["type",ms]}]};function g2(d){return d&&d[d.length-1]}function Rl(d){return d.y}function Uc(d){return d.x}var ak={left:Uc,center:Uc,right:function(d){return d.x+d.width},top:Rl,middle:Rl,bottom:function(d){return d.y+d.height}};function mp(d,f){this._modeling=d,this._rules=f}mp.$inject=["modeling","rules"],mp.prototype._getOrientationDetails=function(d){var f="x",m="width";return-1!==["top","bottom","middle"].indexOf(d)&&(f="y",m="height"),{axis:f,dimension:m}},mp.prototype._isType=function(d,f){return-1!==f.indexOf(d)},mp.prototype._alignmentPosition=function(d,f){var m,g,b,M,_=this._getOrientationDetails(d),x=_.axis,w=_.dimension,C={},T={},P=!1;if(this._isType(d,["left","top"]))C[d]=f[0][x];else if(this._isType(d,["right","bottom"]))b=g2(f),C[d]=b[x]+b[w];else if(this._isType(d,["center","middle"])){if(ge(f,function(O){var M=O[x]+Math.round(O[w]/2);T[M]?T[M].elements.push(O):T[M]={elements:[O],center:M}}),m=Hr(T,function(O){return O.elements.length>1&&(P=!0),O.elements.length}),P)return C[d]=g2(m).center,C;g=f[0],b=g2(f=Hr(f,function(O){return O[x]+O[w]})),C[d]=(M=b,Math.round((g[x]+M[x]+M[w])/2))}return C},mp.prototype.trigger=function(d,f){var m,g=this._modeling,b=Ot(d,function(w){return!(w.waypoints||w.host||w.labelTarget)});if(ut(m=this._rules.allowed("elements.align",{elements:b}))&&(b=m),!(b.length<2)&&m){var _=Hr(b,ak[f]),x=this._alignmentPosition(f,_);g.alignElements(_,x)}};var lk={__init__:["alignElements"],alignElements:["type",mp]},v2=".entry";function gs(d,f,m,g){this._canvas=d,this._eventBus=m,this._overlays=g;var b=tn(f&&f.scale)?f.scale:{min:1,max:1.5};this._overlaysConfig={scale:b},this._current=null,this._init()}function y2(d,f){return-1!==d.indexOf(f)}gs.$inject=["canvas","config.contextPad","eventBus","overlays"],gs.prototype._init=function(){var d=this;this._eventBus.on("selection.changed",function(f){var m=f.newSelection,g=m.length?1===m.length?m[0]:m:null;g?d.open(g,!0):d.close()}),this._eventBus.on("elements.changed",function(f){var m=f.elements,g=d._current;if(g){var b=g.target;Ei(ut(b)?b:[b],function(_){return y2(m,_)})&&d.open(b,!0)}})},gs.prototype.registerProvider=function(d,f){f||(f=d,d=1e3),this._eventBus.on("contextPad.getProviders",d,function(m){m.providers.push(f)})},gs.prototype.getEntries=function(d){var f=this._getProviders(),m=ut(d)?"getMultiElementContextPadEntries":"getContextPadEntries",g={};return ge(f,function(b){if(xn(b[m])){var _=b[m](d);xn(_)?g=_(g):ge(_,function(x,w){g[w]=x})}}),g},gs.prototype.trigger=function(d,f,m){var g,b,_=f.delegateTarget||f.target;return _?(g=Ue(_,"data-action"),b=f.originalEvent||f,"mouseover"===d?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(g,"hover",b,m)},300):"mouseout"===d&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(g,d,b,m)):f.preventDefault()},gs.prototype.triggerEntry=function(d,f,m,g){if(this.isShown()){var b=this._current.target,_=this._current.entries[d];if(_){var x=_.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:_,event:m})){if(xn(x)){if("click"===f)return x(m,b,g)}else if(x[f])return x[f](m,b,g);m.preventDefault()}}}},gs.prototype.open=function(d,f){!f&&this.isOpen(d)||(this.close(),this._updateAndOpen(d))},gs.prototype._getProviders=function(){var d=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(d),d.providers},gs.prototype._updateAndOpen=function(d){var f,m=this.getEntries(d),g=this.getPad(d),b=g.html;ge(m,function(_,x){var w,O,M,C=_.group||"default",T=wr(_.html||'<div class="entry" draggable="true"></div>');Ue(T,"data-action",x),(w=gr("[data-group="+I1(C)+"]",b))||(Ue(w=wr('<div class="group"></div>'),"data-group",C),b.appendChild(w)),w.appendChild(T),_.className&&(O=_.className,M=$t(T),(O=ut(O)?O:O.split(/\s+/g)).forEach(function(A){M.add(A)})),_.title&&Ue(T,"title",_.title),_.imageUrl&&(Ue(f=wr("<img>"),"src",_.imageUrl),f.style.width="100%",f.style.height="100%",T.appendChild(f))}),$t(b).add("open"),this._current={target:d,entries:m,pad:g},this._eventBus.fire("contextPad.open",{current:this._current})},gs.prototype.getPad=function(d){if(this.isOpen())return this._current.pad;var f=this,m=this._overlays,g=wr('<div class="djs-context-pad"></div>'),b=this._getPosition(d),_=de({html:g},this._overlaysConfig,b);Oi.bind(g,v2,"click",function(C){f.trigger("click",C)}),Oi.bind(g,v2,"dragstart",function(C){f.trigger("dragstart",C)}),Oi.bind(g,v2,"mouseover",function(C){f.trigger("mouseover",C)}),Oi.bind(g,v2,"mouseout",function(C){f.trigger("mouseout",C)}),Qt.bind(g,"mousedown",function(C){C.stopPropagation()});var x=this._canvas.getRootElement();this._overlayId=m.add(x,"context-pad",_);var w=m.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:d,pad:w}),w},gs.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},gs.prototype.isOpen=function(d){var f=this._current;if(!f)return!1;if(!d)return!0;var m=f.target;return ut(d)===ut(m)&&(ut(d)?d.length===m.length&&Pi(d,function(g){return y2(m,g)}):m===d)},gs.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},gs.prototype._getPosition=function(d){var f=ri(ut(d)?d:[d]);return{position:{left:f.x+f.width+12,top:f.y-6}}};var vh,Gn,V8,yh,b2,D_={__depends__:[o2,g_],contextPad:["type",gs]},L1={},T_=[],z8=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Gc(d,f){for(var m in f)d[m]=f[m];return d}function H8(d){var f=d.parentNode;f&&f.removeChild(d)}function vs(d,f,m){var g,b,_,x={};for(_ in f)"key"==_?g=f[_]:"ref"==_?b=f[_]:x[_]=f[_];if(arguments.length>2&&(x.children=arguments.length>3?vh.call(arguments,2):m),"function"==typeof d&&null!=d.defaultProps)for(_ in d.defaultProps)void 0===x[_]&&(x[_]=d.defaultProps[_]);return qc(d,x,g,b,null)}function qc(d,f,m,g,b){var _={type:d,props:f,key:m,ref:g,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:b??++V8};return null==b&&null!=Gn.vnode&&Gn.vnode(_),_}function oi(d){return d.children}function _2(d,f){this.props=d,this.context=f}function F1(d,f){if(null==f)return d.__?F1(d.__,d.__.__k.indexOf(d)+1):null;for(var m;f<d.__k.length;f++)if(null!=(m=d.__k[f])&&null!=m.__e)return m.__e;return"function"==typeof d.type?F1(d):null}function U8(d){var f,m;if(null!=(d=d.__)&&null!=d.__c){for(d.__e=d.__c.base=null,f=0;f<d.__k.length;f++)if(null!=(m=d.__k[f])&&null!=m.__e){d.__e=d.__c.base=m.__e;break}return U8(d)}}function G8(d){(!d.__d&&(d.__d=!0)&&yh.push(d)&&!B1.__r++||b2!==Gn.debounceRendering)&&((b2=Gn.debounceRendering)||setTimeout)(B1)}function B1(){for(var d;B1.__r=yh.length;)d=yh.sort(function(f,m){return f.__v.__b-m.__v.__b}),yh=[],d.some(function(f){var m,g,b,_,x,w;f.__d&&(x=(_=(m=f).__v).__e,(w=m.__P)&&(g=[],(b=Gc({},_)).__v=_.__v+1,V1(w,_,b,m.__n,void 0!==w.ownerSVGElement,null!=_.__h?[x]:null,g,x??F1(_),_.__h),O_(g,_),_.__e!=x&&U8(_)))})}function P_(d,f,m,g,b,_,x,w,C,T){var P,O,M,A,I,V,W,H=g&&g.__k||T_,z=H.length;for(m.__k=[],P=0;P<f.length;P++)if(null!=(A=m.__k[P]=null==(A=f[P])||"boolean"==typeof A?null:"string"==typeof A||"number"==typeof A||"bigint"==typeof A?qc(null,A,null,null,A):Array.isArray(A)?qc(oi,{children:A},null,null,null):A.__b>0?qc(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)){if(A.__=m,A.__b=m.__b+1,null===(M=H[P])||M&&A.key==M.key&&A.type===M.type)H[P]=void 0;else for(O=0;O<z;O++){if((M=H[O])&&A.key==M.key&&A.type===M.type){H[O]=void 0;break}M=null}V1(d,A,M=M||L1,b,_,x,w,C,T),I=A.__e,(O=A.ref)&&M.ref!=O&&(W||(W=[]),M.ref&&W.push(M.ref,null,A),W.push(O,A.__c||I,A)),null!=I?(null==V&&(V=I),"function"==typeof A.type&&A.__k===M.__k?A.__d=C=bh(A,C,d):C=cc(d,A,M,H,I,C),"function"==typeof m.type&&(m.__d=C)):C&&M.__e==C&&C.parentNode!=d&&(C=F1(M))}for(m.__e=V,P=z;P--;)null!=H[P]&&vp(H[P],H[P]);if(W)for(P=0;P<W.length;P++)X8(W[P],W[++P],W[++P])}function bh(d,f,m){for(var g,b=d.__k,_=0;b&&_<b.length;_++)(g=b[_])&&(g.__=d,f="function"==typeof g.type?bh(g,f,m):cc(m,g,g,b,g.__e,f));return f}function cc(d,f,m,g,b,_){var x,w,C;if(void 0!==f.__d)x=f.__d,f.__d=void 0;else if(null==m||b!=_||null==b.parentNode)e:if(null==_||_.parentNode!==d)d.appendChild(b),x=null;else{for(w=_,C=0;(w=w.nextSibling)&&C<g.length;C+=1)if(w==b)break e;d.insertBefore(b,_),x=_}return void 0!==x?x:b.nextSibling}function q8(d,f,m){"-"===f[0]?d.setProperty(f,m):d[f]=null==m?"":"number"!=typeof m||z8.test(f)?m:m+"px"}function gp(d,f,m,g,b){var _;e:if("style"===f)if("string"==typeof m)d.style.cssText=m;else{if("string"==typeof g&&(d.style.cssText=g=""),g)for(f in g)m&&f in m||q8(d.style,f,"");if(m)for(f in m)g&&m[f]===g[f]||q8(d.style,f,m[f])}else if("o"===f[0]&&"n"===f[1])_=f!==(f=f.replace(/Capture$/,"")),f=f.toLowerCase()in d?f.toLowerCase().slice(2):f.slice(2),d.l||(d.l={}),d.l[f+_]=m,m?g||d.addEventListener(f,_?$1:j1,_):d.removeEventListener(f,_?$1:j1,_);else if("dangerouslySetInnerHTML"!==f){if(b)f=f.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==f&&"list"!==f&&"form"!==f&&"tabIndex"!==f&&"download"!==f&&f in d)try{d[f]=m??"";break e}catch{}"function"==typeof m||(null==m||!1===m&&-1==f.indexOf("-")?d.removeAttribute(f):d.setAttribute(f,m))}}function j1(d){this.l[d.type+!1](Gn.event?Gn.event(d):d)}function $1(d){this.l[d.type+!0](Gn.event?Gn.event(d):d)}function V1(d,f,m,g,b,_,x,w,C){var T,P,O,M,A,I,V,W,H,z,Q,J,oe,Oe,Ee,De=f.type;if(void 0!==f.constructor)return null;null!=m.__h&&(C=m.__h,w=f.__e=m.__e,f.__h=null,_=[w]),(T=Gn.__b)&&T(f);try{e:if("function"==typeof De){if(W=f.props,H=(T=De.contextType)&&g[T.__c],z=T?H?H.props.value:T.__:g,m.__c?V=(P=f.__c=m.__c).__=P.__E:("prototype"in De&&De.prototype.render?f.__c=P=new De(W,z):(f.__c=P=new _2(W,z),P.constructor=De,P.render=z1),H&&H.sub(P),P.props=W,P.state||(P.state={}),P.context=z,P.__n=g,O=P.__d=!0,P.__h=[],P._sb=[]),null==P.__s&&(P.__s=P.state),null!=De.getDerivedStateFromProps&&(P.__s==P.state&&(P.__s=Gc({},P.__s)),Gc(P.__s,De.getDerivedStateFromProps(W,P.__s))),M=P.props,A=P.state,O)null==De.getDerivedStateFromProps&&null!=P.componentWillMount&&P.componentWillMount(),null!=P.componentDidMount&&P.__h.push(P.componentDidMount);else{if(null==De.getDerivedStateFromProps&&W!==M&&null!=P.componentWillReceiveProps&&P.componentWillReceiveProps(W,z),!P.__e&&null!=P.shouldComponentUpdate&&!1===P.shouldComponentUpdate(W,P.__s,z)||f.__v===m.__v){for(P.props=W,P.state=P.__s,f.__v!==m.__v&&(P.__d=!1),P.__v=f,f.__e=m.__e,f.__k=m.__k,f.__k.forEach(function(Ne){Ne&&(Ne.__=f)}),Q=0;Q<P._sb.length;Q++)P.__h.push(P._sb[Q]);P._sb=[],P.__h.length&&x.push(P);break e}null!=P.componentWillUpdate&&P.componentWillUpdate(W,P.__s,z),null!=P.componentDidUpdate&&P.__h.push(function(){P.componentDidUpdate(M,A,I)})}if(P.context=z,P.props=W,P.__v=f,P.__P=d,J=Gn.__r,oe=0,"prototype"in De&&De.prototype.render){for(P.state=P.__s,P.__d=!1,J&&J(f),T=P.render(P.props,P.state,P.context),Oe=0;Oe<P._sb.length;Oe++)P.__h.push(P._sb[Oe]);P._sb=[]}else do{P.__d=!1,J&&J(f),T=P.render(P.props,P.state,P.context),P.state=P.__s}while(P.__d&&++oe<25);P.state=P.__s,null!=P.getChildContext&&(g=Gc(Gc({},g),P.getChildContext())),O||null==P.getSnapshotBeforeUpdate||(I=P.getSnapshotBeforeUpdate(M,A)),Ee=null!=T&&T.type===oi&&null==T.key?T.props.children:T,P_(d,Array.isArray(Ee)?Ee:[Ee],f,m,g,b,_,x,w,C),P.base=f.__e,f.__h=null,P.__h.length&&x.push(P),V&&(P.__E=P.__=null),P.__e=!1}else null==_&&f.__v===m.__v?(f.__k=m.__k,f.__e=m.__e):f.__e=function W8(d,f,m,g,b,_,x,w){var C,T,P,O=m.props,M=f.props,A=f.type,I=0;if("svg"===A&&(b=!0),null!=_)for(;I<_.length;I++)if((C=_[I])&&"setAttribute"in C==!!A&&(A?C.localName===A:3===C.nodeType)){d=C,_[I]=null;break}if(null==d){if(null===A)return document.createTextNode(M);d=b?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),_=null,w=!1}if(null===A)O===M||w&&d.data===M||(d.data=M);else{if(_=_&&vh.call(d.childNodes),T=(O=m.props||L1).dangerouslySetInnerHTML,P=M.dangerouslySetInnerHTML,!w){if(null!=_)for(O={},I=0;I<d.attributes.length;I++)O[d.attributes[I].name]=d.attributes[I].value;(P||T)&&(P&&(T&&P.__html==T.__html||P.__html===d.innerHTML)||(d.innerHTML=P&&P.__html||""))}if(function(V,W,H,z,Q){var J;for(J in H)"children"===J||"key"===J||J in W||gp(V,J,null,H[J],z);for(J in W)Q&&"function"!=typeof W[J]||"children"===J||"key"===J||"value"===J||"checked"===J||H[J]===W[J]||gp(V,J,W[J],H[J],z)}(d,M,O,b,w),P)f.__k=[];else if(I=f.props.children,P_(d,Array.isArray(I)?I:[I],f,m,g,b&&"foreignObject"!==A,_,x,_?_[0]:m.__k&&F1(m,0),w),null!=_)for(I=_.length;I--;)null!=_[I]&&H8(_[I]);w||("value"in M&&void 0!==(I=M.value)&&(I!==d.value||"progress"===A&&!I||"option"===A&&I!==O.value)&&gp(d,"value",I,O.value,!1),"checked"in M&&void 0!==(I=M.checked)&&I!==d.checked&&gp(d,"checked",I,O.checked,!1))}return d}(m.__e,f,m,g,b,_,x,C);(T=Gn.diffed)&&T(f)}catch(Ne){f.__v=null,(C||null!=_)&&(f.__e=w,f.__h=!!C,_[_.indexOf(w)]=null),Gn.__e(Ne,f,m)}}function O_(d,f){Gn.__c&&Gn.__c(f,d),d.some(function(m){try{d=m.__h,m.__h=[],d.some(function(g){g.call(m)})}catch(g){Gn.__e(g,m.__v)}})}function X8(d,f,m){try{"function"==typeof d?d(f):d.current=f}catch(g){Gn.__e(g,m)}}function vp(d,f,m){var g,b;if(Gn.unmount&&Gn.unmount(d),(g=d.ref)&&(g.current&&g.current!==d.__e||X8(g,null,f)),null!=(g=d.__c)){if(g.componentWillUnmount)try{g.componentWillUnmount()}catch(_){Gn.__e(_,f)}g.base=g.__P=null,d.__c=void 0}if(g=d.__k)for(b=0;b<g.length;b++)g[b]&&vp(g[b],f,m||"function"!=typeof d.type);m||null==d.__e||H8(d.__e),d.__=d.__e=d.__d=void 0}function z1(d,f,m){return this.constructor(d,m)}function Y8(d,f,m){var g,b,_;Gn.__&&Gn.__(d,f),b=(g="function"==typeof m)?null:m&&m.__k||f.__k,_=[],V1(f,d=(!g&&m||f).__k=vs(oi,null,[d]),b||L1,L1,void 0!==f.ownerSVGElement,!g&&m?[m]:b?null:f.firstChild?vh.call(f.childNodes):null,_,!g&&m?m:b?b.__e:f.firstChild,g),O_(_,d)}vh=T_.slice,Gn={__e:function(d,f,m,g){for(var b,_,x;f=f.__;)if((b=f.__c)&&!b.__)try{if((_=b.constructor)&&null!=_.getDerivedStateFromError&&(b.setState(_.getDerivedStateFromError(d)),x=b.__d),null!=b.componentDidCatch&&(b.componentDidCatch(d,g||{}),x=b.__d),x)return b.__E=b}catch(w){d=w}throw d}},V8=0,_2.prototype.setState=function(d,f){var m;m=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Gc({},this.state),"function"==typeof d&&(d=d(Gc({},m),this.props)),d&&Gc(m,d),null!=d&&this.__v&&(f&&this._sb.push(f),G8(this))},_2.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),G8(this))},_2.prototype.render=oi,yh=[],B1.__r=0;var H1,To,Q8,ck,E2=function(d,f,m,g){var b;f[0]=0;for(var _=1;_<f.length;_++){var x=f[_++],w=f[_]?(f[0]|=x?1:2,m[f[_++]]):f[++_];3===x?g[0]=w:4===x?g[1]=Object.assign(g[1]||{},w):5===x?(g[1]=g[1]||{})[f[++_]]=w:6===x?g[1][f[++_]]+=w+"":x?(b=d.apply(w,E2(d,w,m,["",null])),g.push(b),w[0]?f[0]|=2:(f[_-2]=0,f[_]=b)):g.push(w)}return g},K8=new Map,po=function(d){var f=K8.get(this);return f||K8.set(this,f=new Map),(f=E2(this,f.get(d)||(f.set(d,f=function(m){for(var g,b,_=1,x="",w="",C=[0],T=function(M){1===_&&(M||(x=x.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?C.push(0,M,x):3===_&&(M||x)?(C.push(3,M,x),_=2):2===_&&"..."===x&&M?C.push(4,M,0):2===_&&x&&!M?C.push(5,0,!0,x):_>=5&&((x||!M&&5===_)&&(C.push(_,0,x,b),_=6),M&&(C.push(_,M,0,b),_=6)),x=""},P=0;P<m.length;P++){P&&(1===_&&T(),T(P));for(var O=0;O<m[P].length;O++)g=m[P][O],1===_?"<"===g?(T(),C=[C],_=3):x+=g:4===_?"--"===x&&">"===g?(_=1,x=""):x=g+x[0]:w?g===w?w="":x+=g:'"'===g||"'"===g?w=g:">"===g?(T(),_=1):_&&("="===g?(_=5,b=x,x=""):"/"===g&&(_<5||">"===m[P][O+1])?(T(),3===_&&(C=C[0]),_=C,(C=C[0]).push(2,0,_),_=0):" "===g||"\t"===g||"\n"===g||"\r"===g?(T(),_=2):x+=g),3===_&&"!--"===x&&(_=4,C=C[0])}return T(),C}(d)),f),arguments,[])).length>1?f:f[0]}.bind(vs),$u=0,Z8=[],G0=[],x2=Gn.__b,U1=Gn.__r,uk=Gn.diffed,k_=Gn.__c,M_=Gn.unmount;function w2(d,f){Gn.__h&&Gn.__h(To,d,$u||f),$u=0;var m=To.__H||(To.__H={__:[],__h:[]});return d>=m.__.length&&m.__.push({__V:G0}),m.__[d]}function Al(d){return $u=1,function(f,m,g){var b=w2(H1++,2);if(b.t=f,!b.__c&&(b.__=[tS(void 0,m),function(x){var w=b.__N?b.__N[0]:b.__[0],C=b.t(w,x);w!==C&&(b.__N=[C,b.__[1]],b.__c.setState({}))}],b.__c=To,!To.u)){To.u=!0;var _=To.shouldComponentUpdate;To.shouldComponentUpdate=function(x,w,C){if(!b.__c.__H)return!0;var T=b.__c.__H.__.filter(function(O){return O.__c});if(T.every(function(O){return!O.__N}))return!_||_.call(this,x,w,C);var P=!1;return T.forEach(function(O){if(O.__N){var M=O.__[0];O.__=O.__N,O.__N=void 0,M!==O.__[0]&&(P=!0)}}),!(!P&&b.__c.props===x)&&(!_||_.call(this,x,w,C))}}return b.__N||b.__}(tS,d)}function R_(d,f){var m=w2(H1++,3);!Gn.__s&&C2(m.__H,f)&&(m.__=d,m.i=f,To.__H.__h.push(m))}function yp(d,f){var m=w2(H1++,4);!Gn.__s&&C2(m.__H,f)&&(m.__=d,m.i=f,To.__h.push(m))}function G1(d){return $u=5,_h(function(){return{current:d}},[])}function _h(d,f){var m=w2(H1++,7);return C2(m.__H,f)?(m.__V=d(),m.i=f,m.__h=d,m.__V):m.__}function Vu(d,f){return $u=8,_h(function(){return d},f)}function A_(){for(var d;d=Z8.shift();)if(d.__P&&d.__H)try{d.__H.__h.forEach(q1),d.__H.__h.forEach(S2),d.__H.__h=[]}catch(f){d.__H.__h=[],Gn.__e(f,d.__v)}}Gn.__b=function(d){To=null,x2&&x2(d)},Gn.__r=function(d){U1&&U1(d),H1=0;var f=(To=d.__c).__H;f&&(Q8===To?(f.__h=[],To.__h=[],f.__.forEach(function(m){m.__N&&(m.__=m.__N),m.__V=G0,m.__N=m.i=void 0})):(f.__h.forEach(q1),f.__h.forEach(S2),f.__h=[])),Q8=To},Gn.diffed=function(d){uk&&uk(d);var f=d.__c;f&&f.__H&&(f.__H.__h.length&&(1!==Z8.push(f)&&ck===Gn.requestAnimationFrame||((ck=Gn.requestAnimationFrame)||eS)(A_)),f.__H.__.forEach(function(m){m.i&&(m.__H=m.i),m.__V!==G0&&(m.__=m.__V),m.i=void 0,m.__V=G0})),Q8=To=null},Gn.__c=function(d,f){f.some(function(m){try{m.__h.forEach(q1),m.__h=m.__h.filter(function(g){return!g.__||S2(g)})}catch(g){f.some(function(b){b.__h&&(b.__h=[])}),f=[],Gn.__e(g,m.__v)}}),k_&&k_(d,f)},Gn.unmount=function(d){M_&&M_(d);var f,m=d.__c;m&&m.__H&&(m.__H.__.forEach(function(g){try{q1(g)}catch(b){f=b}}),m.__H=void 0,f&&Gn.__e(f,m.__v))};var J8="function"==typeof requestAnimationFrame;function eS(d){var f,m=function(){clearTimeout(g),J8&&cancelAnimationFrame(f),setTimeout(d)},g=setTimeout(m,100);J8&&(f=requestAnimationFrame(m))}function q1(d){var f=To,m=d.__c;"function"==typeof m&&(d.__c=void 0,m()),To=f}function S2(d){var f=To;d.__c=d.__(),To=f}function C2(d,f){return!d||d.length!==f.length||f.some(function(m,g){return m!==d[g]})}function tS(d,f){return"function"==typeof f?f(d):f}function W1(d){var f,m,g="";if("string"==typeof d||"number"==typeof d)g+=d;else if("object"==typeof d)if(Array.isArray(d))for(f=0;f<d.length;f++)d[f]&&(m=W1(d[f]))&&(g&&(g+=" "),g+=m);else for(f in d)d[f]&&(g&&(g+=" "),g+=f);return g}function Wc(){for(var d,f,m=0,g="";m<arguments.length;)(d=arguments[m++])&&(f=W1(d))&&(g&&(g+=" "),g+=f);return g}function dk(d){const{entry:f,selected:m,onMouseEnter:g,onMouseLeave:b,onAction:_}=d;return po`
    <li
      class=${Wc("entry",{selected:m})}
      data-id=${f.id}
      title=${f.title||f.label}
      onClick=${_}
      onMouseEnter=${g}
      onMouseLeave=${b}
      onDragStart=${x=>_(x,f,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Wc("djs-popup-entry-name",f.className)}
        >
          ${f.imageUrl&&po`<img class="djs-popup-entry-icon" src=${f.imageUrl} alt="" />`||f.imageHtml&&po`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:f.imageHtml}} />`}

          ${f.label?po`
            <span class="djs-popup-label">
              ${f.label}
            </span>
          `:null}
        </span>
        ${f.description&&po`
          <span
            class="djs-popup-entry-description"
            title=${f.description}
          >
            ${f.description}
          </span>
        `}
      </div>
      ${f.documentationRef&&po`
        <div class="djs-popup-entry-docs">
          <a
            href="${f.documentationRef}"
            onClick=${x=>x.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function nS(d){const{selectedEntry:f,setSelectedEntry:m,entries:g,...b}=d,_=G1(),x=_h(()=>function(w){const C=[],T=M=>C.find(A=>M.id===A.id);return w.forEach(M=>{const A=M.group?(M=>"string"==typeof M?{id:M}:M)(M.group):{id:"default"};(M=>!!T(M))(A)?T(A).entries.push(M):C.push({...A,entries:[M]})}),C}(g),[g]);return yp(()=>{const w=_.current;if(!w)return;const C=w.querySelector(".selected");var T;C&&("function"==typeof(T=C).scrollIntoViewIfNeeded?T.scrollIntoViewIfNeeded():T.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[f]),po`
    <div class="djs-popup-results" ref=${_}>
      ${x.map(w=>po`
        ${w.name&&po`
          <div key=${w.id} class="entry-header" title=${w.name}>
            ${w.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${w.id}>
          ${w.entries.map(C=>po`
            <${dk}
              key=${C.id}
              entry=${C}
              selected=${C===f}
              onMouseEnter=${()=>m(C)}
              onMouseLeave=${()=>m(null)}
              ...${b}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function rS(d){const{onClose:f,onSelect:m,className:g,headerEntries:b,position:_,title:x,width:w,scale:C,search:T,entries:P,onOpened:O,onClosed:M}=d,A=_h(()=>!!tn(T)&&P.length>5,[T,P]),I=G1(),[V,W]=Al(""),H=Vu((mt,Ve)=>A?mt.filter(Qe=>{if(!Ve)return(Qe.rank||0)>=0;const dn=[Qe.description||"",Qe.label||"",Qe.search||""].join("---").toLowerCase();return Ve.toLowerCase().split(/\s/g).every(ue=>dn.includes(ue))}):mt,[A]),[z,Q]=Al(H(P,V)),[J,oe]=Al(z[0]),Oe=Vu(mt=>{J&&mt.includes(J)||oe(mt[0]),Q(mt)},[J,Q,oe]);R_(()=>{Oe(H(P,V))},[V,P]),R_(()=>{const mt=Ve=>{if("Escape"===Ve.key)return Ve.preventDefault(),f()};return document.documentElement.addEventListener("keydown",mt),()=>{document.documentElement.removeEventListener("keydown",mt)}},[]),yp(()=>{I.current&&I.current.focus()},[]);const Ee=Vu(mt=>{let Ve=z.indexOf(J)+mt;Ve<0&&(Ve=z.length-1),Ve>=z.length&&(Ve=0),oe(z[Ve])},[z,J,oe]),De=Vu(mt=>"Enter"===mt.key&&J?m(mt,J):"ArrowUp"===mt.key||"Tab"===mt.key&&mt.shiftKey?(Ee(-1),mt.preventDefault()):"ArrowDown"===mt.key||"Tab"===mt.key?(Ee(1),mt.preventDefault()):void 0,[m,f,J,Ee]),Ne=Vu(mt=>{Ir(mt.target,"input")&&W(()=>mt.target.value)},[W]);R_(()=>(O(),()=>{M()}),[]);const Yt=_h(()=>x||b.length>0,[x,b]);return po`
    <${bp}
      onClose=${f}
      onKeyup=${Ne}
      onKeydown=${De}
      className=${g}
      position=${_}
      width=${w}
      scale=${C}
    >
      ${Yt&&po`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${x}>${x}</h3>
          ${b.map(mt=>{return po`
            <span
              class=${Ve=mt,Qe=mt===J,Wc("entry",Ve.className,Ve.active?"active":"",Ve.disabled?"disabled":"",Qe?"selected":"")}
              onClick=${Ve=>m(Ve,mt)}
              title=${mt.title||mt.label}
              data-id=${mt.id}
              onMouseEnter=${()=>oe(mt)}
              onMouseLeave=${()=>oe(null)}
            >
              ${mt.imageUrl?po`
                <img class="djs-popup-entry-icon" src=${mt.imageUrl} alt="" />
              `:null}

              ${mt.label?po`
                <span class="djs-popup-label">${mt.label}</span>
              `:null}
            </span>
          `;var Ve,Qe})}
        </div>
      `}
      ${P.length>0&&po`
        <div class="djs-popup-body">

          ${A&&po`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${I}
                type="text"
              />
          </div>
          `}

          <${nS}
            entries=${z}
            selectedEntry=${J}
            setSelectedEntry=${oe}
            onAction=${m}
          />
        </div>
        ${0===z.length&&po`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${bp}>
  `}function bp(d){const{onClose:f,onKeydown:m,onKeyup:g,className:b,children:_,position:x}=d,w=G1(),C=Vu(T=>{sr(T.target,".djs-popup",!0)||f()},[f]);return yp(()=>{if("function"!=typeof x)return;const T=w.current,P=x(T);T.style.left=`${P.x}px`,T.style.top=`${P.y}px`},[w.current,x]),yp(()=>{w.current&&w.current.focus()},[]),po`
    <div
      class="djs-popup-backdrop"
      onClick=${C}
    >
      <div
        class=${Wc("djs-popup",b)}
        style=${T=d,{transform:`scale(${T.scale})`,width:`${T.width}px`}}
        onKeydown=${m}
        onKeyup=${g}
        ref=${w}
        tabIndex="-1"
      >
        ${_}
      </div>
    </div>
  `;var T}var _p=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Yn(d,f,m){this._eventBus=f,this._canvas=m,this._current=null;var g=tn(d&&d.scale)?d.scale:{min:1,max:1.5};this._config={scale:g},f.on("diagram.destroy",()=>{this.close()}),f.on("element.changed",b=>{const _=this.isOpen()&&this._current.target;b.element===_&&this._render()})}Yn.$inject=["config.popupMenu","eventBus","canvas"],Yn.prototype._render=function(){const{position:d,className:f,entries:m,headerEntries:g,options:b}=this._current,_=Object.entries(m).map(([T,P])=>({id:T,...P})),x=Object.entries(g).map(([T,P])=>({id:T,...P})),w=d&&(T=>this._ensureVisible(T,d)),C=this._updateScale(this._current.container);Y8(po`
      <${rS}
        onClose=${T=>this.close(T)}
        onSelect=${(T,P,O)=>this.trigger(T,P,O)}
        position=${w}
        className=${f}
        entries=${_}
        headerEntries=${x}
        scale=${C}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...b}}
      />
    `,this._current.container)},Yn.prototype.open=function(d,f,m,g){if(!d)throw new Error("target is missing");if(!f)throw new Error("providers for <"+f+"> not found");if(!m)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:b,headerEntries:_}=this._getContext(d,f);this._current={position:m,className:f,target:d,entries:b,headerEntries:_,container:this._createContainer({provider:f}),options:g},this._emit("open"),this._bindAutoClose(),this._render()},Yn.prototype._getContext=function(d,f){const m=this._getProviders(f);if(!m||!m.length)throw new Error("provider for <"+f+"> not found");const g=this._getEntries(d,m),b=this._getHeaderEntries(d,m);return{entries:g,headerEntries:b,empty:!(Object.keys(g).length||Object.keys(b).length)}},Yn.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Yn.prototype.reset=function(){const d=this._current.container;Y8(null,d),cs(d)},Yn.prototype._emit=function(d,f){this._eventBus.fire(`popupMenu.${d}`,f)},Yn.prototype._onOpened=function(){this._emit("opened")},Yn.prototype._onClosed=function(){this._emit("closed")},Yn.prototype._createContainer=function(d){var f=this._canvas.getContainer();const m=wr(`<div class="djs-popup-parent djs-scrollable" data-popup=${d.provider}></div>`);return f.appendChild(m),m},Yn.prototype._bindAutoClose=function(){this._eventBus.once(_p,this.close,this)},Yn.prototype._unbindAutoClose=function(){this._eventBus.off(_p,this.close,this)},Yn.prototype._updateScale=function(){var d,f,m=this._canvas.zoom(),g=this._config.scale,b=m;return!0!==g&&(!1===g?(d=1,f=1):(d=g.min,f=g.max),tn(d)&&m<d&&(b=d),tn(f)&&m>f&&(b=f)),b},Yn.prototype._ensureVisible=function(d,f){var m=document.documentElement.getBoundingClientRect(),g=d.getBoundingClientRect(),b={},_=f.x,x=f.y;return f.x+g.width>m.width&&(b.x=!0),f.y+g.height>m.height&&(b.y=!0),b.x&&b.y?(_=f.x-g.width,x=f.y-g.height):b.x?(_=f.x-g.width,x=f.y):b.y&&f.y<g.height?(_=f.x,x=10):b.y&&(_=f.x,x=f.y-g.height),{x:_,y:x}},Yn.prototype.isEmpty=function(d,f){if(!d)throw new Error("target is missing");if(!f)throw new Error("provider ID is missing");const m=this._getProviders(f);return!m||!m.length||this._getContext(d,f).empty},Yn.prototype.registerProvider=function(d,f,m){m||(m=f,f=1e3),this._eventBus.on("popupMenu.getProviders."+d,f,function(g){g.providers.push(m)})},Yn.prototype._getProviders=function(d){var f=this._eventBus.createEvent({type:"popupMenu.getProviders."+d,providers:[]});return this._eventBus.fire(f),f.providers},Yn.prototype._getEntries=function(d,f){var m={};return ge(f,function(g){if(g.getPopupMenuEntries){var b=g.getPopupMenuEntries(d);xn(b)?m=b(m):ge(b,function(_,x){m[x]=_})}else ge(g.getEntries(d),function(_){var x=_.id;if(!x)throw new Error("entry ID is missing");m[x]=Ie(_,["id"])})}),m},Yn.prototype._getHeaderEntries=function(d,f){var m={};return ge(f,function(g){if(g.getPopupMenuHeaderEntries){var b=g.getPopupMenuHeaderEntries(d);xn(b)?m=b(m):ge(b,function(_,x){m[x]=_})}else{if(!g.getHeaderEntries)return;ge(g.getHeaderEntries(d),function(_){var x=_.id;if(!x)throw new Error("entry ID is missing");m[x]=Ie(_,["id"])})}}),m},Yn.prototype.isOpen=function(){return!!this._current},Yn.prototype.trigger=function(d,f,m="click"){if(d.preventDefault(),!f){let b=Ue(sr(d.delegateTarget||d.target,".entry",!0),"data-id");f={id:b,...this._getEntry(b)}}const g=f.action;if(!1!==this._emit("trigger",{entry:f,event:d}))if(xn(g)){if("click"===m)return g(d,f)}else if(g[m])return g[m](d,f)},Yn.prototype._getEntry=function(d){var f=this._current.entries[d]||this._current.headerEntries[d];if(!f)throw new Error("entry not found");return f};var I_={__init__:["popupMenu"],popupMenu:["type",Yn]},D2={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function q0(d,f,m,g){d.registerProvider(900,this),this._contextPad=d,this._popupMenu=f,this._translate=m,this._canvas=g}q0.$inject=["contextPad","popupMenu","translate","canvas"],q0.prototype.getMultiElementContextPadEntries=function(d){var f={};return this._isAllowed(d)&&de(f,this._getEntries(d)),f},q0.prototype._isAllowed=function(d){return!this._popupMenu.isEmpty(d,"align-elements")},q0.prototype._getEntries=function(){var d=this;return{"align-elements":{group:"align-elements",title:d._translate("Align elements"),html:`<div class="entry">${D2.align}</div>`,action:{click:function(f,m){var g=d._getMenuPosition(m);de(g,{cursor:{x:f.x,y:f.y}}),d._popupMenu.open(m,"align-elements",g)}}}}},q0.prototype._getMenuPosition=function(d){var f=this._contextPad.getPad(d).html.getBoundingClientRect();return{x:f.left,y:f.bottom+5}};var pk=["left","center","right","top","middle","bottom"];function Eh(d,f,m,g){this._alignElements=f,this._translate=m,this._popupMenu=d,this._rules=g,d.registerProvider("align-elements",this)}function Us(d){st.call(this,d),this.init()}function T2(d){Us.call(this,d)}Eh.$inject=["popupMenu","alignElements","translate","rules"],Eh.prototype.getPopupMenuEntries=function(d){var f={};return this._isAllowed(d)&&de(f,this._getEntries(d)),f},Eh.prototype._isAllowed=function(d){return this._rules.allowed("elements.align",{elements:d})},Eh.prototype._getEntries=function(d){var f=this._alignElements,m=this._translate,g=this._popupMenu,b={};return ge(pk,function(_){b["align-elements-"+_]={group:"align",title:m("Align elements "+_),className:"bjs-align-elements-menu-entry",imageHtml:D2[_],action:function(){f.trigger(d,_),g.close()}}}),b},Us.$inject=["eventBus"],Ye(Us,st),Us.prototype.addRule=function(d,f,m){var g=this;"string"==typeof d&&(d=[d]),d.forEach(function(b){g.canExecute(b,f,function(_,x,w){return m(_)},!0)})},Us.prototype.init=function(){},T2.$inject=["eventBus"],Ye(T2,Us),T2.prototype.init=function(){this.addRule("elements.align",function(d){var f=Ot(d.elements,function(m){return!(m.waypoints||m.host||m.labelTarget)});return!((f=cn(f)).length<2)&&f})};var iS={__depends__:[lk,D_,I_],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",q0],alignElementsMenuProvider:["type",Eh],bpmnAlignElements:["type",T2]},N_=10,X1=50,oS=250;function L_(d,f,m,g){for(var b;b=fk(d,m,f);)m=g(f,m,b);return m}function F_(d){return function(f,m,g){var b={x:m.x,y:m.y};return["x","y"].forEach(function(_){var x=d[_];if(x){var w="x"===_?"width":"height",C=x.margin,T=x.minDistance;b[_]=C<0?Math.min(g[_]+C-f[w]/2,m[_]-T+C):Math.max(g[_]+g[w]+C+f[w]/2,m[_]+T+C)}}),b}}function fk(d,f,m){var _,x,g={x:f.x-m.width/2,y:f.y-m.height/2,width:m.width,height:m.height};return ln((x=P2(_=d),_.host&&(x=x.concat(P2(_.host))),_.attachers&&(x=x.concat(_.attachers.reduce(function(w,C){return w.concat(P2(C))},[]))),x),function(_){return _!==m&&"intersect"===Kr(_,g,N_)})}function P2(d){return(f=d,f.outgoing.map(function(m){return m.target})).concat(d.incoming.map(function(g){return g.source}));var f}function hk(){return!0}function B_(d,f,m){d.on("autoPlace",100,function(g){return function(_,x,w){w||(w={});var C=w.defaultDistance||X1,T=hn(_);return{x:Xt(_).right+C+x.width/2,y:T.y}}(g.source,g.shape)}),d.on("autoPlace.end",function(g){m.scrollToElement(g.shape)}),this.append=function(g,b,_){d.fire("autoPlace.start",{source:g,shape:b});var x=d.fire("autoPlace",{source:g,shape:b}),w=f.appendShape(g,b,x,g.parent,_);return d.fire("autoPlace.end",{source:g,shape:w}),w}}function sS(d,f){d.on("autoPlace.end",500,function(m){f.select(m.shape)})}B_.$inject=["eventBus","modeling","canvas"],sS.$inject=["eventBus","selection"];var mk={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",B_],autoPlaceSelectionBehavior:["type",sS]};function j_(d,f){for(Or(f)&&(f=[f]);d=d.parent;)if(Un(d,f))return d;return null}function $_(d,f){return Y(f,"bpmn:TextAnnotation")?(g=f,_={x:(b=Xt(m=d)).right+g.width/2,y:b.top-50-g.height/2},vi(m)&&((_=hn(m)).x+=100,_.y-=50),L_(m,g,_,F_({y:{margin:-30,minDistance:20}}))):Un(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(m,g){var b=Xt(m);return L_(m,g,{x:b.right-10+g.width/2,y:b.bottom+40+g.width/2},F_({x:{margin:30,minDistance:30}}))}(d,f):Y(f,"bpmn:FlowNode")?function(m,g){var b=Xt(m),_=hn(m),x=function(O,M){M||(M={});var A=M.defaultDistance||X1,I=M.direction||"e",V=M.filter,W=M.getWeight||function(Ee){return Ee.source===O?1:-1},H=M.maxDistance||oS,z=M.reference||"start";function Q(Ee,De){return"n"===I?"start"===z?Xt(Ee).top-Xt(De).bottom:"center"===z?Xt(Ee).top-hn(De).y:Xt(Ee).top-Xt(De).top:"w"===I?"start"===z?Xt(Ee).left-Xt(De).right:"center"===z?Xt(Ee).left-hn(De).x:Xt(Ee).left-Xt(De).left:"s"===I?"start"===z?Xt(De).top-Xt(Ee).bottom:"center"===z?hn(De).y-Xt(Ee).bottom:Xt(De).bottom-Xt(Ee).bottom:"start"===z?Xt(De).left-Xt(Ee).right:"center"===z?hn(De).x-Xt(Ee).right:Xt(De).right-Xt(Ee).right}V||(V=hk);var J=O.incoming.filter(V).map(function(Ee){var De=W(Ee),Ne=De<0?Q(Ee.source,O):Q(O,Ee.source);return{id:Ee.source.id,distance:Ne,weight:De}}),oe=O.outgoing.filter(V).map(function(Ee){var De=W(Ee),Ne=De>0?Q(O,Ee.target):Q(Ee.target,O);return{id:Ee.target.id,distance:Ne,weight:De}});return zr(J.concat(oe).reduce(function(Ee,De){return Ee[De.id+"__weight_"+De.weight]=De,Ee},{}),function(Ee,De){var Ne=De.distance,Yt=De.weight;return Ne<0||Ne>H||(Ee[String(Ne)]||(Ee[String(Ne)]=0),Ee[String(Ne)]+=1*Yt,(!Ee.distance||Ee[Ee.distance]<Ee[String(Ne)])&&(Ee.distance=Ne)),Ee},{}).distance||A}(m,{filter:function(O){return Y(O,"bpmn:SequenceFlow")}}),w=30,T="left";return Y(m,"bpmn:BoundaryEvent")&&-1!==(T=Kr(m,m.host,-25)).indexOf("top")&&(w*=-1),L_(m,g,{x:b.right+x+g.width/2,y:_.y+aS(T,80)},F_({y:{margin:w,minDistance:80}}))}(d,f):void 0;var m,g,b,_}function aS(d,f){return d.includes("top")?-1*f:d.includes("bottom")?f:0}function na(d){d.on("autoPlace",function(f){return $_(f.source,f.shape)})}na.$inject=["eventBus"];var gk={__depends__:[mk],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",na]};function Xc(d,f,m,g){st.call(this,d),this._elementRegistry=f,this._modeling=m,this._rules=g;var b=this;this.postExecuted(["shape.create"],function(_){var x=_.context;!1!==(x.hints||{}).autoResize&&b._expand([x.shape],x.parent||x.newParent)}),this.postExecuted(["elements.move"],function(_){var x=_.context,w=en(as(x.closure.topLevel)),C=x.hints,T=!C||C.autoResize;!1!==T&&ge(xo(w,function(P){return P.parent.id}),function(P,O){ut(T)&&(P=P.filter(function(M){return ln(T,so({id:M.id}))})),b._expand(P,O)})}),this.postExecuted(["shape.toggleCollapse"],function(_){var x=_.context,w=x.hints,C=x.shape;w&&!1===w.autoResize||C.collapsed||b._expand(C.children||[],C)}),this.postExecuted(["shape.resize"],function(_){var x=_.context,w=x.hints,C=x.shape,T=C.parent;w&&!1===w.autoResize||T&&b._expand([C],T)})}function V_(d){d.invoke(Xc,this)}function Ep(d){Us.call(this,d);var f=this;this.addRule("element.autoResize",function(m){return f.canResize(m.elements,m.target)})}function Za(d,f){Ep.call(this,d),this._modeling=f}Xc.$inject=["eventBus","elementRegistry","modeling","rules"],Ye(Xc,st),Xc.prototype._getOptimalBounds=function(d,f){var m=this.getOffset(f),g=this.getPadding(f),b=Xt(ri(d)),_=Xt(f),x={};return b.top-_.top<g.top&&(x.top=b.top-m.top),b.left-_.left<g.left&&(x.left=b.left-m.left),_.right-b.right<g.right&&(x.right=b.right+m.right),_.bottom-b.bottom<g.bottom&&(x.bottom=b.bottom+m.bottom),Zn(de({},_,x))},Xc.prototype._expand=function(d,f){if("string"==typeof f&&(f=this._elementRegistry.get(f)),this._rules.allowed("element.autoResize",{elements:d,target:f})){var m=this._getOptimalBounds(d,f);if((_=m).x!==(x=f).x||_.y!==x.y||_.width!==x.width||_.height!==x.height){var g=function(_,x){var w="";return _=Xt(_),x=Xt(x),_.top>x.top&&(w=w.concat("n")),_.right<x.right&&(w=w.concat("w")),_.bottom<x.bottom&&(w=w.concat("s")),_.left>x.left&&(w=w.concat("e")),w}(It(f,["x","y","width","height"]),m);this.resize(f,m,{autoResize:g});var b=f.parent;b&&this._expand([f],b)}}var _,x},Xc.prototype.getOffset=function(d){return{top:60,bottom:60,left:100,right:100}},Xc.prototype.getPadding=function(d){return{top:2,bottom:2,left:15,right:15}},Xc.prototype.resize=function(d,f,m){this._modeling.resizeShape(d,f,null,m)},V_.$inject=["injector"],Ye(V_,Xc),V_.prototype.resize=function(d,f,m){Y(d,"bpmn:Participant")?this._modeling.resizeLane(d,f,null,m):this._modeling.resizeShape(d,f,null,m)},Ep.$inject=["eventBus"],Ye(Ep,Us),Ep.prototype.canResize=function(d,f){return!1},Ye(Za,Ep),Za.$inject=["eventBus","modeling"],Za.prototype.canResize=function(d,f){if(Y(f.di,"bpmndi:BPMNPlane")||!Y(f,"bpmn:Participant")&&!Y(f,"bpmn:Lane")&&!Y(f,"bpmn:SubProcess"))return!1;var m=!0;return ge(d,function(g){(Y(g,"bpmn:Lane")||vr(g))&&(m=!1)}),m};var lS={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",V_],bpmnAutoResizeProvider:["type",Za]};function xp(d,f,m){var g,b,_=this,x=m.get("dragging",!1);x&&f.on("drag.start",function(w){f.once("drag.move",1500,function(C){!function(T){if(!T.hover){var P=T.originalEvent,O=_._findTargetGfx(P),M=O&&d.get(O);O&&M&&(T.stopPropagation(),x.hover({element:M,gfx:O}),x.move(P))}}(C)})}),f.on("element.hover",function(w){g=w.gfx,b=w.element}),f.on("element.hover",1500,function(w){b&&f.fire("element.out",{element:b,gfx:g})}),f.on("element.out",function(){g=null,b=null}),this._findTargetGfx=function(w){var C;if(w instanceof MouseEvent)return C=oc(w),sr(document.elementFromPoint(C.x,C.y),"svg, .djs-element",!0)}}xp.$inject=["elementRegistry","eventBus","injector"];var vk={__init__:["hoverFix"],hoverFix:["type",xp]},xh=Math.round,z_="djs-drag-active";function wh(d){d.preventDefault()}function yk(d,f,m,g){var b,_={threshold:5,trapClick:!0};function x(H){var z=f.viewbox(),Q=f._container.getBoundingClientRect();return{x:z.x+(H.x-Q.left)/z.scale,y:z.y+(H.y-Q.top)/z.scale}}function w(H,z){var Q=d.createEvent(de({},(z=z||b).payload,z.data,{isTouch:z.isTouch}));return!1!==d.fire("drag."+H,Q)&&d.fire(z.prefix+"."+H,Q)}function C(H,z){var Q,J=b.payload,oe=b.displacement,Oe=b.globalStart,Ee=oc(H),De=lc(Ee,Oe),Ne=b.localStart,Yt=x(Ee),mt=lc(Yt,Ne);if(!b.active&&(z||(Q=De,Math.sqrt(Math.pow(Q.x,2)+Math.pow(Q.y,2))>b.threshold))){if(de(J,{x:xh(Ne.x+oe.x),y:xh(Ne.y+oe.y),dx:0,dy:0},{originalEvent:H}),!1===w("start"))return V();b.active=!0,b.keepSelection||(J.previousSelection=m.get(),m.select(null)),b.cursor&&h2(b.cursor),f.addMarker(f.getRootElement(),z_)}Nu(H),b.active&&(de(J,{x:xh(Yt.x+oe.x),y:xh(Yt.y+oe.y),dx:xh(mt.x),dy:xh(mt.y)},{originalEvent:H}),w("move"))}function T(H){var z=!0;b.active&&(H&&(b.payload.originalEvent=H,Nu(H)),z=w("end")),!1===z&&w("rejected"),w("ended",W(!0!==z))}function P(H){zo("Escape",H)&&(wh(H),V())}function O(H){var z;b.active&&(z=hp(d),setTimeout(z,400),wh(H)),T(H)}function M(H){C(H)}function A(H){var z=b.payload;z.hoverGfx=H.gfx,z.hover=H.element,w("hover")}function I(H){w("out");var z=b.payload;z.hoverGfx=null,z.hover=null}function V(H){var z;if(b){var Q=b.active;Q&&w("cancel"),z=W(H),Q&&w("canceled",z)}}function W(H){var z,Q;w("cleanup"),L8(),Q=b.trapClick?O:T,Qt.unbind(document,"mousemove",C),Qt.unbind(document,"dragstart",wh),Qt.unbind(document,"selectstart",wh),Qt.unbind(document,"mousedown",Q,!0),Qt.unbind(document,"mouseup",Q,!0),Qt.unbind(document,"keyup",P),Qt.unbind(document,"touchstart",M,!0),Qt.unbind(document,"touchcancel",V,!0),Qt.unbind(document,"touchmove",C,!0),Qt.unbind(document,"touchend",T,!0),d.off("element.hover",A),d.off("element.out",I),f.removeMarker(f.getRootElement(),z_);var Oe,J=b.payload.previousSelection;return!1!==H&&J&&!m.get().length&&(Oe=J.filter(function(Ee){return g.get(Ee.id)})).length&&m.select(Oe),z=b,b=null,z}d.on("diagram.destroy",V),this.init=function(H,z,Q,J){b&&V(!1),"string"==typeof z&&(J=Q,Q=z,z=null);var oe,Oe,Ee,De,Ne,Yt=(J=de({},_,J||{})).data||{};De=J.trapClick?O:T,H?(oe=z0(H)||H,Oe=oc(H),Nu(H),"dragstart"===oe.type&&wh(oe)):(oe=null,Oe={x:0,y:0}),Ee=x(Oe),z||(z=Ee),Ne=typeof TouchEvent<"u"&&oe instanceof TouchEvent,b=de({prefix:Q,data:Yt,payload:{},globalStart:Oe,displacement:lc(z,Ee),localStart:Ee,isTouch:Ne},J),J.manual||(Ne?(Qt.bind(document,"touchstart",M,!0),Qt.bind(document,"touchcancel",V,!0),Qt.bind(document,"touchmove",C,!0),Qt.bind(document,"touchend",T,!0)):(Qt.bind(document,"mousemove",C),Qt.bind(document,"dragstart",wh),Qt.bind(document,"selectstart",wh),Qt.bind(document,"mousedown",De,!0),Qt.bind(document,"mouseup",De,!0)),Qt.bind(document,"keyup",P),d.on("element.hover",A),d.on("element.out",I)),w("init"),J.autoActivate&&C(H,!0)},this.move=C,this.hover=A,this.out=I,this.end=T,this.cancel=V,this.context=function(){return b},this.setOptions=function(H){de(_,H)}}yk.$inject=["eventBus","canvas","selection","elementRegistry"];var W0={__depends__:[vk,Lu],dragging:["type",yk]};function Y1(d,f,m){this._canvas=m,this._opts=de({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},d);var g=this;f.on("drag.move",function(b){var _=g._toBorderPoint(b);g.startScroll(_)}),f.on(["drag.cleanup"],function(){g.stopScroll()})}function UV(d,f,m){return f<d&&d<m}Y1.$inject=["config.autoScroll","eventBus","canvas"],Y1.prototype.startScroll=function(d){var f=this._canvas,m=this._opts,g=this,b=f.getContainer().getBoundingClientRect(),_=[d.x,d.y,b.width-d.x,b.height-d.y];this.stopScroll();for(var x=0,w=0,C=0;C<4;C++)UV(_[C],m.scrollThresholdOut[C],m.scrollThresholdIn[C])&&(0===C?x=m.scrollStep:1==C?w=m.scrollStep:2==C?x=-m.scrollStep:3==C&&(w=-m.scrollStep));0===x&&0===w||(f.scroll({dx:x,dy:w}),this._scrolling=setTimeout(function(){g.startScroll(d)},m.scrollRepeatTimeout))},Y1.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Y1.prototype.setOptions=function(d){this._opts=de({},this._opts,d)},Y1.prototype._toBorderPoint=function(d){var f=this._canvas._container.getBoundingClientRect(),m=oc(d.originalEvent);return{x:m.x-f.left,y:m.y-f.top}};var bk={__depends__:[W0],__init__:["autoScroll"],autoScroll:["type",Y1]};function X0(d){this._commandStack=d.get("commandStack",!1)}X0.$inject=["injector"],X0.prototype.allowed=function(d,f){var m=!0,g=this._commandStack;return g&&(m=g.canExecute(d,f)),void 0===m||m};var ys={__init__:["rules"],rules:["type",X0]},K1=Math.round,_k=Math.max,O2=10;function ts(d,f){return function(m,g){var b,_;for(b=0;_=m[b];b++)if(be(_,g)<=O2)return{point:m[b],bendpoint:!0,index:b};return null}(d,f)||(C=(x=IO([["M",(T=f).x,T.y],["m",0,-(P=O2)],["a",P,P,0,1,1,0,2*P],["a",P,P,0,1,1,0,-2*P],["z"]],(b=[],(m=d).forEach(function(T,P){b.push([0===P?"M":"L",T.x,T.y])}),b)))[x.length-1],(w=x[0])?w!==C?w.segment2!==C.segment2?{point:m[_=_k(w.segment2,C.segment2)-1],bendpoint:!0,index:_}:{point:{x:K1(w.x+C.x)/2,y:K1(w.y+C.y)/2},index:w.segment2}:{point:{x:K1(w.x),y:K1(w.y)},index:w.segment2}:null);var m,b,_,T,P,x,w,C}function cS(d){return Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y,2))}function k2(d){return Math.atan((d[1].y-d[0].y)/(d[1].x-d[0].x))}function wp(d,f){var x,w,C,T,m=f[0],g=f[1],b={x:g.x-m.x,y:g.y-m.y},_=-((T=[{n:(x=[m.x,m.y])[0]-(C=[d.x,d.y])[0],lambda:(w=[b.x,b.y])[0]},{n:x[1]-C[1],lambda:w[1]}])[0].n*w[0]+T[1].n*w[1])/(T[0].lambda*w[0]+T[1].lambda*w[1]);return{x:m.x+_*b.x,y:m.y+_*b.y}}function uS(d,f){var m=wp(d,f);return cS({x:m.x-d.x,y:m.y-d.y})}function Q1(d,f){return cS({x:d.x-f.x,y:d.y-f.y})}var H_="djs-bendpoint",Z1="djs-segment-dragger";function Sh(d,f,m){return ts(f,function(b,_){var x,w=oc(_),C=b._container.getBoundingClientRect();x={x:C.left,y:C.top};var T=b.viewbox();return{x:T.x+(w.x-x.x)/T.scale,y:T.y+(w.y-x.y)/T.scale}}(d,m))}function J1(d,f){var m=Mt("g");kn(m).add(H_),nn(d,m);var g=Mt("circle");_t(g,{cx:0,cy:0,r:4}),kn(g).add("djs-visual"),nn(m,g);var b=Mt("circle");return _t(b,{cx:0,cy:0,r:10}),kn(b).add("djs-hit"),nn(m,b),f&&kn(m).add(f),m}function dS(d,f,m){var g=Mt("g"),b=So(f,m),_=Tt(f,m);return nn(d,g),function Ek(d,f,m,g){var b=Mt("g");nn(d,b);var C,T,_=(C=f,T=m,pS("h"===g?T.x-C.x:T.y-C.y)),x=Mt("rect");_t(x,{x:-9,y:-3,width:18,height:6}),kn(x).add("djs-visual"),nn(b,x);var w=Mt("rect");return _t(w,{x:-_/2,y:-8.5,width:_,height:17}),kn(w).add("djs-hit"),nn(b,w),Vy(b,"v"===g?90:0),b}(g,f,m,_),kn(g).add(Z1),kn(g).add("h"===_?"horizontal":"vertical"),ds(g,b.x,b.y),g}function pS(d){return Math.abs(Math.round(2*d/3))}function hS(d,f,m,g,b){function x(I,V,W){Qt.bind(I,V,function(H){m.triggerMouseEvent(V,H,W),H.stopPropagation()})}function w(I,V){var W=f.getLayer("overlays"),H=gr('.djs-bendpoints[data-element-id="'+I1(I.id)+'"]',W);return!H&&V&&(_t(H=Mt("g"),{"data-element-id":I.id}),kn(H).add("djs-bendpoints"),nn(W,H),x(H,"mousedown",I),x(H,"click",I),x(H,"dblclick",I)),H}function C(I,V){return gr('.djs-segment-dragger[data-segment-idx="'+I+'"]',V)}function T(I,V){V.waypoints.forEach(function(W,H){var z=J1(I);nn(I,z),ds(z,W.x,W.y)}),J1(I,"floating")}function P(I,V){for(var W,H,z,Q=V.waypoints,J=1;J<Q.length;J++)Tt(W=Q[J-1],H=Q[J])&&(_t(z=dS(I,W,H),{"data-segment-idx":J}),x(z,"mousemove",V))}function O(I){var V=w(I);return V||(T(V=w(I,!0),I),P(V,I)),V}function M(I){var V=w(I);V&&(ge(D0("."+Z1,V),function(H){hi(H)}),ge(D0("."+H_,V),function(H){hi(H)}),P(V,I),T(V,I))}d.on("connection.changed",function(I){M(I.element)}),d.on("connection.remove",function(I){var V=w(I.element);V&&hi(V)}),d.on("element.marker.update",function(I){var V,W=I.element;W.waypoints&&(V=O(W),I.add?kn(V).add(I.marker):kn(V).remove(I.marker))}),d.on("element.mousemove",function(I){var V,W,J,oe,Oe,H=I.element,z=H.waypoints;if(z){if(V=w(H,!0),!(W=Sh(f,z,I.originalEvent)))return;J=W,oe=gr(".floating",V),Oe=J.point,oe&&ds(oe,Oe.x,Oe.y),W.bendpoint||function A(I,V,W){var H,z,Q=C(V.index,I),J=W[V.index-1],oe=W[V.index],Oe=V.point,Ee=So(J,oe),De=Tt(J,oe);Q&&(H=gr(".djs-visual",Q),z={x:Oe.x-Ee.x,y:Oe.y-Ee.y},"v"===De&&(z={x:z.y,y:z.x}),ds(H,z.x,z.y))}(V,W,z)}}),d.on("element.mousedown",function(I){if(H0(I)){var W=I.element;if(W.waypoints)return function _(I,V){var J,oe,Oe,Ee,H=V.waypoints,z=Sh(f,H,I);if(z)return Ee=V.waypoints,function(Q,J,oe){var Oe,Ee,De,Ne,Yt,mt,Ve=Q.index,Qe=Q.point;return!(Ve<=0||Q.bendpoint)&&(De=So(Oe=J[Ve-1],Ee=J[Ve]),Ne=Tt(Oe,Ee),Yt=Math.abs(Qe.x-De.x),mt=Math.abs(Qe.y-De.y),Ne&&Yt<=oe&&mt<=oe)}(z,H,(J=z).index<=0||J.bendpoint?null:(Oe=Tt((oe={start:Ee[J.index-1],end:Ee[J.index]}).start,oe.end))?pS("h"===Oe?oe.end.x-oe.start.x:oe.end.y-oe.start.y)/2:null)?b.start(I,V,z.index):g.start(I,V,z.index,!z.bendpoint),!0}(I.originalEvent,W)}}),d.on("selection.changed",function(I){var V=I.newSelection[0];V&&V.waypoints&&O(V)}),d.on("element.hover",function(I){var V=I.element;V.waypoints&&(O(V),m.registerEvent(I.gfx,"mousemove","element.mousemove"))}),d.on("element.out",function(I){m.unregisterEvent(I.gfx,"mousemove","element.mousemove")}),d.on("element.updateId",function(I){var V=I.element,W=I.newId;if(V.waypoints){var H=w(V);H&&_t(H,{"data-element-id":W})}}),this.addHandles=O,this.updateHandles=M,this.getBendpointsContainer=w,this.getSegmentDragger=C}hS.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var mS=Math.round,Po="reconnectStart",zu="reconnectEnd",Ch="updateWaypoints";function eg(d,f,m,g,b,_){this._injector=d,this.start=function(x,w,C,T){var P,O=m.getGraphics(w),M=w.source,A=w.target,V=(P=T||0!==C?T||C!==w.waypoints.length-1?Ch:zu:Po)===Ch?"connection.updateWaypoints":"connection.reconnect",W=b.allowed(V,{connection:w,source:M,target:A});!1===W&&(W=b.allowed(V,{connection:w,source:A,target:M})),!1!==W&&g.init(x,"bendpoint.move",{data:{connection:w,connectionGfx:O,context:{allowed:W,bendpointIndex:C,connection:w,source:M,target:A,insert:T,type:P}}})},f.on("bendpoint.move.hover",function(x){var w,C=x.context,T=C.connection,P=T.source,O=T.target,M=x.hover,A=C.type;if(C.hover=M,M){var I=A===Ch?"connection.updateWaypoints":"connection.reconnect";if(w=C.allowed=b.allowed(I,{connection:T,source:A===Po?M:P,target:A===zu?M:O}))return C.source=A===Po?M:P,void(C.target=A===zu?M:O);!1===w&&(w=C.allowed=b.allowed(I,{connection:T,source:A===zu?M:O,target:A===Po?M:P})),w&&(C.source=A===zu?M:O,C.target=A===Po?M:P)}}),f.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(x){var w=x.context,C=w.type;w.hover=null,w.source=null,w.target=null,C!==Ch&&(w.allowed=!1)}),f.on("bendpoint.move.end",function(x){var w=x.context,C=w.allowed,T=w.bendpointIndex,P=w.connection,O=w.insert,M=P.waypoints.slice(),A=w.source,I=w.target,V=w.type,W=w.hints||{},H={x:mS(x.x),y:mS(x.y)};if(!C)return!1;V===Ch?(O?M.splice(T,0,H):M[T]=H,W.bendpointMove={insert:O,bendpointIndex:T},M=this.cropWaypoints(P,M),_.updateWaypoints(P,function(z){z=z.slice();for(var Q,J,oe,Oe=0;z[Oe];)J=z[Oe-1],0===be(Q=z[Oe],oe=z[Oe+1])||Le(J,oe,Q)?z.splice(Oe,1):Oe++;return z}(M),W)):(V===Po?(W.docking="source",Ho(w)&&(W.docking="target",W.newWaypoints=M.reverse())):V===zu&&(W.docking="target",Ho(w)&&(W.docking="source",W.newWaypoints=M.reverse())),_.reconnect(P,A,I,H,W))},this)}function Ho(d){var f=d.hover,m=d.source,g=d.target,b=d.type;return b===Po?f&&g&&f===g&&m!==g:b===zu?f&&m&&f===m&&m!==g:void 0}eg.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],eg.prototype.cropWaypoints=function(d,f){var m=this._injector.get("connectionDocking",!1);if(!m)return f;var g=d.waypoints;return d.waypoints=f,d.waypoints=m.getCroppedWaypoints(d),f=d.waypoints,d.waypoints=g,f};var Dh="updateWaypoints",Th="connect-ok",tg="connect-not-ok",gS="connect-hover",U_="djs-updating",vS="djs-dragging";function G_(d,f,m,g){this._injector=f;var b=f.get("connectionPreview",!1);m.on("bendpoint.move.start",function(_){var x=_.context,w=x.bendpointIndex,C=x.connection,T=x.insert,P=C.waypoints,O=P.slice();x.waypoints=P,T&&O.splice(w,0,{x:_.x,y:_.y}),C.waypoints=O,kn(x.draggerGfx=J1(g.getLayer("overlays"))).add("djs-dragging"),g.addMarker(C,vS),g.addMarker(C,U_)}),m.on("bendpoint.move.hover",function(_){var x=_.context,w=x.allowed,C=x.hover,T=x.type;if(C){if(g.addMarker(C,gS),T===Dh)return;w?(g.removeMarker(C,tg),g.addMarker(C,Th)):!1===w&&(g.removeMarker(C,Th),g.addMarker(C,tg))}}),m.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(_){var x=_.context,w=x.hover,C=x.target;w&&(g.removeMarker(w,gS),g.removeMarker(w,C?Th:tg))}),m.on("bendpoint.move.move",function(_){var x=_.context,w=x.allowed,C=x.bendpointIndex,T=x.draggerGfx,P=x.hover,O=x.type,M=x.connection,A=M.source,I=M.target,V=M.waypoints.slice(),W={x:_.x,y:_.y},H=x.hints||{},z={};b&&(H.connectionStart&&(z.connectionStart=H.connectionStart),H.connectionEnd&&(z.connectionEnd=H.connectionEnd),"reconnectStart"===O?Ho(x)?(z.connectionEnd=z.connectionEnd||W,z.source=I,z.target=P||A,V=V.reverse()):(z.connectionStart=z.connectionStart||W,z.source=P||A,z.target=I):"reconnectEnd"===O?Ho(x)?(z.connectionStart=z.connectionStart||W,z.source=P||I,z.target=A,V=V.reverse()):(z.connectionEnd=z.connectionEnd||W,z.source=A,z.target=P||I):(z.noCropping=!0,z.noLayout=!0,V[C]=W),O===Dh&&(V=d.cropWaypoints(M,V)),z.waypoints=V,b.drawPreview(x,w,z)),ds(T,_.x,_.y)},this),m.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(_){var x=_.context,w=x.connection,C=x.draggerGfx,T=x.hover,P=x.target;w.waypoints=x.waypoints,hi(C),g.removeMarker(w,U_),g.removeMarker(w,vS),T&&(g.removeMarker(T,Th),g.removeMarker(T,P?Th:tg)),b&&b.cleanUp(x)})}G_.$inject=["bendpointMove","injector","eventBus","canvas"];var yS="connect-hover",q_="djs-updating";function bS(d,f,m){return W_(d,f,d[f]+m)}function W_(d,f,m){return{x:"x"===f?m:d.x,y:"y"===f?m:d.y}}function _S(d){return"x"===d?"y":"x"}function ES(d,f,m){var g,b;return d.original?d.original:(g=hn(f),W_(d,b=_S(m),g[b]))}function X_(d,f,m,g,b,_){var x=d.get("connectionDocking",!1);function w(P,O){if(!x)return O;var M,A=P.waypoints;return P.waypoints=O,M=x.getCroppedWaypoints(P),P.waypoints=A,M}function C(P){b.update("connection",P.connection,P.connectionGfx)}this.start=function(P,O,M){var A,I,V,W,H=m.getGraphics(O),z=M-1,Q=M,J=O.waypoints,oe=J[z],Oe=J[Q],Ee=Sh(m,J,P);(I=Tt(oe,Oe))&&(V="v"===I?"x":"y",0===z&&(oe=ES(oe,O.source,V)),Q===J.length-1&&(Oe=ES(Oe,O.target,V)),A={connection:O,segmentStartIndex:z,segmentEndIndex:Q,segmentStart:oe,segmentEnd:Oe,axis:V,dragPosition:W=Ee?Ee.point:{x:(oe.x+Oe.x)/2,y:(oe.y+Oe.y)/2}},g.init(P,W,"connectionSegment.move",{cursor:"x"===V?"resize-ew":"resize-ns",data:{connection:O,connectionGfx:H,context:A}}))},f.on("connectionSegment.move.start",function(P){var O=P.context,M=P.connection,A=m.getLayer("overlays");O.originalWaypoints=M.waypoints.slice(),O.draggerGfx=dS(A,O.segmentStart,O.segmentEnd),kn(O.draggerGfx).add("djs-dragging"),m.addMarker(M,q_)}),f.on("connectionSegment.move.move",function(P){var O,M,A=P.context,I=A.connection,V=A.segmentStartIndex,W=A.segmentEndIndex,H=A.segmentStart,z=A.segmentEnd,Q=A.axis,J=A.originalWaypoints.slice(),oe=bS(H,Q,P["d"+Q]),Oe=bS(z,Q,P["d"+Q]),Ee=J.length,De=0;J[V]=oe,J[W]=Oe,V<2&&(O=Kr(I.source,oe),1===V?"intersect"===O&&(J.shift(),J[0]=oe,De--):"intersect"!==O&&(J.unshift(H),De++)),W>Ee-3&&(M=Kr(I.target,Oe),W===Ee-2?"intersect"===M&&(J.pop(),J[J.length-1]=Oe):"intersect"!==M&&J.push(z)),A.newWaypoints=I.waypoints=w(I,J),function T(P,O,M){var V,W,H,z,Q,J,A=P.newWaypoints,I=(V=M,W=A[P.segmentStartIndex+O],H=A[P.segmentEndIndex+O],z=_S(P.axis),Q=Math.max(W[z],H[z]),J=Math.min(W[z],H[z]),W_(W,z,Math.min(Math.max(J+20,V[z]),Q-20)));ds(P.draggerGfx,I.x,I.y)}(A,De,P),A.newSegmentStartIndex=V+De,C(P)}),f.on("connectionSegment.move.hover",function(P){P.context.hover=P.hover,m.addMarker(P.hover,yS)}),f.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(P){var O=P.context.hover;O&&m.removeMarker(O,yS)}),f.on("connectionSegment.move.cleanup",function(P){var O=P.context,M=O.connection;O.draggerGfx&&hi(O.draggerGfx),m.removeMarker(M,q_)}),f.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(P){var O=P.context;O.connection.waypoints=O.originalWaypoints,C(P)}),f.on("connectionSegment.move.end",function(P){var O=P.context,M=O.connection,A=O.newWaypoints,I=O.newSegmentStartIndex;A=A.map(function(Q){return{original:Q.original,x:Math.round(Q.x),y:Math.round(Q.y)}});var Q,J,oe,V=(J=I,oe=0,{waypoints:(Q=A).filter(function(Ee,De){return!Le(Q[De-1],Q[De+1],Ee)||(oe=De<=J?oe-1:oe,!1)}),segmentOffset:oe}),W=w(M,V.waypoints);_.updateWaypoints(M,W,{segmentMove:{segmentStartIndex:O.segmentStartIndex,newSegmentStartIndex:I+V.segmentOffset}})})}X_.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var xS=Math.abs,Y_=Math.round;function ng(d){return{x:d.x,y:d.y}}function K_(d){return{x:d.x+d.width,y:d.y+d.height}}function Ja(d,f){return!d||isNaN(d.x)||isNaN(d.y)?f:{x:Y_(d.x+d.width/2),y:Y_(d.y+d.height/2)}}function Sp(d,f){var m=d.snapped;return!!m&&("string"==typeof f?m[f]:m.x&&m.y)}function eo(d,f,m){if("string"!=typeof f)throw new Error("axis must be in [x, y]");if("number"!=typeof m&&!1!==m)throw new Error("value must be Number or false");var g,b=d[f],_=d.snapped=d.snapped||{};return!1===m?_[f]=!1:(_[f]=!0,d[f]+=g=m-b,d["d"+f]+=g),b}function wS(d){return d.children||[]}var xk=Math.abs,SS=Math.round;function CS(d){function f(g,b){if(ut(g)){for(var _=g.length;_--;)if(xk(g[_]-b)<=10)return g[_]}else{var x=b%(g=+g);if(x<10)return b-x;if(x>g-10)return b-x+g}return b}function m(g,b){return g.waypoints?function fS(d,f){return wp(d,function(g,b){for(var _,x=b.waypoints,w=1/0,C=0;C<x.length-1;C++){var T=uS(g,[x[C],x[C+1]]);T<w&&(w=T,_=C)}return[x[_],x[_+1]]}(d,f))}(b,g):g.width?{x:SS(g.width/2+g.x),y:SS(g.height/2+g.y)}:void 0}d.on("connectionSegment.move.move",1500,function(g){var b,_,x=function(O){var M=O.context,A=M.snapPoints,I=M.connection,V=I.waypoints,H=M.segmentStartIndex,Q=M.segmentEndIndex,J=M.axis;if(A)return A;var oe=[V[H-1],M.segmentStart,M.segmentEnd,V[Q+1]];return H<2&&oe.unshift(m(I.source,O)),Q>V.length-3&&oe.unshift(m(I.target,O)),M.snapPoints=A={horizontal:[],vertical:[]},ge(oe,function(Oe){Oe&&(Oe=Oe.original||Oe,"y"===J&&A.horizontal.push(Oe.y),"x"===J&&A.vertical.push(Oe.x))}),A}(g),w=g.x,C=g.y;if(x){var T=w-(b=f(x.vertical,w)),P=C-(_=f(x.horizontal,C));de(g,{dx:g.dx-T,dy:g.dy-P,x:b,y:_}),(T||-1!==x.vertical.indexOf(w))&&eo(g,"x",b),(P||-1!==x.horizontal.indexOf(C))&&eo(g,"y",_)}}),d.on(["connect.hover","connect.move","connect.end"],1500,function(g){var b=g.context.hover,_=b&&m(b,g);vi(b)&&_&&_.x&&_.y&&(eo(g,"x",_.x),eo(g,"y",_.y))}),d.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(g){var b,_,x=g.context,w=function(I){var V=I.snapPoints,W=I.connection.waypoints,H=I.bendpointIndex;if(V)return V;var z=[W[H-1],W[H+1]];return I.snapPoints=V={horizontal:[],vertical:[]},ge(z,function(Q){Q&&(V.horizontal.push((Q=Q.original||Q).y),V.vertical.push(Q.x))}),V}(x),C=x.hover,T=C&&m(C,g),P=g.x,O=g.y;if(w){var M=P-(b=f(T?w.vertical.concat([T.x]):w.vertical,P)),A=O-(_=f(T?w.horizontal.concat([T.y]):w.horizontal,O));de(g,{dx:g.dx-M,dy:g.dy-A,x:g.x-M,y:g.y-A}),(M||-1!==w.vertical.indexOf(P))&&eo(g,"x",b),(A||-1!==w.horizontal.indexOf(O))&&eo(g,"y",_)}})}CS.$inject=["eventBus"];var DS={__depends__:[W0,ys],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",hS],bendpointMove:["type",eg],bendpointMovePreview:["type",G_],connectionSegmentMove:["type",X_],bendpointSnapping:["type",CS]};function wk(d,f,m,g){function b(_,x){return g.allowed("connection.create",{source:_,target:x})}d.on("connect.hover",function(_){var x,w=_.context,C=w.start,T=_.hover;if(w.hover=T,!Ht(x=w.canExecute=b(C,T))){if(!1!==x)return w.source=C,void(w.target=T);Ht(x=w.canExecute=b(T,C))||!1!==x&&(w.source=T,w.target=C)}}),d.on(["connect.out","connect.cleanup"],function(_){var x=_.context;x.hover=null,x.source=null,x.target=null,x.canExecute=!1}),d.on("connect.end",function(_){var x=_.context,w=x.canExecute,C=x.connectionStart,T={x:_.x,y:_.y},P=x.source,O=x.target;if(!w)return!1;var M=null,A={connectionStart:M2(x)?T:C,connectionEnd:M2(x)?C:T};Sn(w)&&(M=w),x.connection=m.connect(P,O,M,A)}),this.start=function(_,x,w,C){Sn(w)||(C=w,w=hn(x)),f.init(_,"connect",{autoActivate:C,data:{shape:x,context:{start:x,connectionStart:w}}})}}function M2(d){var f=d.hover,m=d.source;return f&&m&&f===m&&m!==d.target}wk.$inject=["eventBus","dragging","modeling","rules"];var TS="connect-ok",PS="connect-not-ok";function Sk(d,f,m){var g=d.get("connectionPreview",!1);g&&f.on("connect.move",function(b){var _=b.context,x=_.canExecute,w=_.hover,C=_.source,T=_.start,O=_.target,M=_.connectionStart||_.startPosition,A=_.connectionEnd||{x:b.x,y:b.y},I=M,V=A;M2(_)&&(I=A,V=M),g.drawPreview(_,x,{source:C||T,target:O||w,connectionStart:I,connectionEnd:V})}),f.on("connect.hover",900,function(b){var w=b.context.canExecute;null!==w&&m.addMarker(b.hover,w?TS:PS)}),f.on(["connect.out","connect.cleanup"],1100,function(b){var _=b.hover;_&&(m.removeMarker(_,TS),m.removeMarker(_,PS))}),g&&f.on("connect.cleanup",function(b){g.cleanUp(b.context)})}Sk.$inject=["injector","eventBus","canvas"];var Q_={__depends__:[Lu,ys,W0],__init__:["connectPreview"],connect:["type",wk],connectPreview:["type",Sk]};function Yc(d,f,m,g){this._canvas=f,this._graphicsFactory=m,this._elementFactory=g,this._connectionDocking=d.get("connectionDocking",!1),this._layouter=d.get("layouter",!1)}Yc.$inject=["injector","canvas","graphicsFactory","elementFactory"],Yc.prototype.drawPreview=function(d,f,m){var g,b,_,x=d.connectionPreviewGfx,w=d.getConnection,C=(m=m||{}).source,T=m.target,P=m.waypoints,O=m.connectionStart,M=m.connectionEnd,A=m.noLayout,I=m.noCropping,V=m.noNoop,W=this;x||(x=d.connectionPreviewGfx=this.createConnectionPreviewGfx()),T0(x),w||(w=d.getConnection=(b=function(H,z,Q){return W.getConnection(H,z,Q)},_={},function(H){var z=JSON.stringify(H),Q=_[z];return Q||(Q=_[z]=b.apply(null,arguments)),Q})),f&&(g=w(f,C,T)),g?(g.waypoints=P||[],this._layouter&&!A&&(g.waypoints=this._layouter.layoutConnection(g,{source:C,target:T,connectionStart:O,connectionEnd:M,waypoints:m.waypoints||g.waypoints})),g.waypoints&&g.waypoints.length||(g.waypoints=[C?hn(C):O,T?hn(T):M]),this._connectionDocking&&(C||T)&&!I&&(g.waypoints=this._connectionDocking.getCroppedWaypoints(g,C,T)),this._graphicsFactory.drawConnection(x,g,{stroke:"var(--element-dragger-color)"})):!V&&this.drawNoopPreview(x,m)},Yc.prototype.drawNoopPreview=function(d,f){var m=f.source,g=f.target,b=f.connectionStart||hn(m),_=f.connectionEnd||hn(g),x=this.cropWaypoints(b,_,m,g);nn(d,this.createNoopConnection(x[0],x[1]))},Yc.prototype.cropWaypoints=function(d,f,m,g){var b=this._graphicsFactory,_=m&&b.getShapePath(m),x=g&&b.getShapePath(g),w=b.getConnectionPath({waypoints:[d,f]});return[d=m&&Fy(_,w,!0)||d,f=g&&Fy(x,w,!1)||f]},Yc.prototype.cleanUp=function(d){d&&d.connectionPreviewGfx&&hi(d.connectionPreviewGfx)},Yc.prototype.getConnection=function(d){var m,f=Sn(m=d)?m:{};return this._elementFactory.createConnection(f)},Yc.prototype.createConnectionPreviewGfx=function(){var d=Mt("g");return _t(d,{pointerEvents:"none"}),kn(d).add("djs-dragger"),nn(this._canvas.getActiveLayer(),d),d},Yc.prototype.createNoopConnection=function(d,f){return Ls([d,f],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var Z_={__init__:["connectionPreview"],connectionPreview:["type",Yc]},OS=Math.min,Hu=Math.max;function Ph(d){d.preventDefault()}function rg(d){d.stopPropagation()}function Il(d){this.container=d.container,this.parent=wr('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=gr("[contenteditable]",this.parent),this.keyHandler=d.keyHandler||function(){},this.resizeHandler=d.resizeHandler||function(){},this.autoResize=Ze(this.autoResize,this),this.handlePaste=Ze(this.handlePaste,this)}function Uo(d,f){this._eventBus=d,this._providers=[],this._textbox=new Il({container:f.getContainer(),keyHandler:Ze(this._handleKey,this),resizeHandler:Ze(this._handleResize,this)})}Il.prototype.create=function(d,f,m,g){var b=this.parent,_=this.content,x=this.container;g=this.options=g||{};var w=It(f=this.style=f||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);de(b.style,{width:d.width+"px",height:d.height+"px",maxWidth:d.maxWidth+"px",maxHeight:d.maxHeight+"px",minWidth:d.minWidth+"px",minHeight:d.minHeight+"px",left:d.x+"px",top:d.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},w);var C=It(f,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return de(_.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},C),g.centerVertically&&de(_.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},C),_.innerText=m,Qt.bind(_,"keydown",this.keyHandler),Qt.bind(_,"mousedown",rg),Qt.bind(_,"paste",this.handlePaste),g.autoResize&&Qt.bind(_,"input",this.autoResize),g.resizable&&this.resizable(f),x.appendChild(b),this.setSelection(_.lastChild,_.lastChild&&_.lastChild.length),b},Il.prototype.handlePaste=function(d){var f,m=this.options,g=this.style;if(d.preventDefault(),f=d.clipboardData?d.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(f),m.autoResize){var b=this.autoResize(g);b&&this.resizeHandler(b)}},Il.prototype.insertText=function(d){d=d.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,d)||this._insertTextIE(d)},Il.prototype._insertTextIE=function(d){var m,g,b=this.getSelection(),_=b.startContainer,x=b.endContainer,w=b.startOffset,C=b.endOffset,T=b.commonAncestorContainer,P=[].slice.call(T.childNodes);if(T.nodeType===Node.TEXT_NODE){var O=_.textContent;_.textContent=O.substring(0,w)+d+O.substring(C),m=_,g=w+d.length}else if(_===this.content&&x===this.content){var M=document.createTextNode(d);this.content.insertBefore(M,P[w]),m=M,g=M.textContent.length}else{var A=P.indexOf(_),I=P.indexOf(x);P.forEach(function(V,W){W===A?V.textContent=_.textContent.substring(0,w)+d+x.textContent.substring(C):W>A&&W<=I&&cs(V)}),m=_,g=w+d.length}m&&void 0!==g&&setTimeout(function(){self.setSelection(m,g)})},Il.prototype.autoResize=function(){var d=this.parent,f=this.content,m=parseInt(this.style.fontSize)||12;if(f.scrollHeight>d.offsetHeight||f.scrollHeight<d.offsetHeight-m){var g=d.getBoundingClientRect(),b=f.scrollHeight;d.style.height=b+"px",this.resizeHandler({width:g.width,height:g.height,dx:0,dy:b-g.height})}},Il.prototype.resizable=function(){var d=this,f=this.parent,m=this.resizeHandle,g=parseInt(this.style.minWidth)||0,b=parseInt(this.style.minHeight)||0,_=parseInt(this.style.maxWidth)||1/0,x=parseInt(this.style.maxHeight)||1/0;if(!m){var w,C,T,P;m=this.resizeHandle=wr('<div class="djs-direct-editing-resize-handle"></div>');var O=function(A){Ph(A),rg(A);var I=OS(Hu(T+A.clientX-w,g),_),V=OS(Hu(P+A.clientY-C,b),x);f.style.width=I+"px",f.style.height=V+"px",d.resizeHandler({width:T,height:P,dx:A.clientX-w,dy:A.clientY-C})},M=function(A){Ph(A),rg(A),Qt.unbind(document,"mousemove",O,!1),Qt.unbind(document,"mouseup",M,!1)};Qt.bind(m,"mousedown",function(A){Ph(A),rg(A),w=A.clientX,C=A.clientY;var I=f.getBoundingClientRect();T=I.width,P=I.height,Qt.bind(document,"mousemove",O),Qt.bind(document,"mouseup",M)})}de(m.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),f.appendChild(m)},Il.prototype.destroy=function(){var d=this.parent,f=this.content,m=this.resizeHandle;f.innerText="",d.removeAttribute("style"),f.removeAttribute("style"),Qt.unbind(f,"keydown",this.keyHandler),Qt.unbind(f,"mousedown",rg),Qt.unbind(f,"input",this.autoResize),Qt.unbind(f,"paste",this.handlePaste),m&&(m.removeAttribute("style"),cs(m)),cs(d)},Il.prototype.getValue=function(){return this.content.innerText.trim()},Il.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Il.prototype.setSelection=function(d,f){var m=document.createRange();null===d?m.selectNodeContents(this.content):(m.setStart(d,f),m.setEnd(d,f));var g=window.getSelection();g.removeAllRanges(),g.addRange(m)},Uo.$inject=["eventBus","canvas"],Uo.prototype.registerProvider=function(d){this._providers.push(d)},Uo.prototype.isActive=function(d){return!(!this._active||d&&this._active.element!==d)},Uo.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Uo.prototype._fire=function(d,f){this._eventBus.fire("directEditing."+d,f||{active:this._active})},Uo.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Uo.prototype.complete=function(){var d=this._active;if(d){var f,m=d.context.bounds,g=this.$textbox.getBoundingClientRect(),b=this.getValue();b===d.context.text&&g.height===m.height&&g.width===m.width||(f=this._textbox.container.getBoundingClientRect(),d.provider.update(d.element,b,d.context.text,{x:g.left-f.left,y:g.top-f.top,width:g.width,height:g.height})),this._fire("complete"),this.close()}},Uo.prototype.getValue=function(){return this._textbox.getValue()},Uo.prototype._handleKey=function(d){d.stopPropagation();var f=d.keyCode||d.charCode;return 27===f?(d.preventDefault(),this.cancel()):13!==f||d.shiftKey?void 0:(d.preventDefault(),this.complete())},Uo.prototype._handleResize=function(d){this._fire("resize",d)},Uo.prototype.activate=function(d){var f;this.isActive()&&this.cancel();var m=ln(this._providers,function(g){return(f=g.activate(d))?g:null});return f&&(this.$textbox=this._textbox.create(f.bounds,f.style,f.text,f.options),this._active={element:d,context:f,provider:m},f.options&&f.options.resizable&&(this.resizable=!0),this._fire("activate")),!!f};var Ck={__depends__:[o2],__init__:["directEditing"],directEditing:["type",Uo]},GV=["marker-start","marker-mid","marker-end"],kS=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Y0(d,f,m,g){this._elementRegistry=d,this._canvas=m,this._styles=g,this._clonedMarkers={};var b=this;f.on("drag.cleanup",function(){b.cleanUp()})}Y0.$inject=["elementRegistry","eventBus","canvas","styles"],Y0.prototype.cleanUp=function(){ge(this._clonedMarkers,function(d){hi(d)}),this._clonedMarkers={}},Y0.prototype.getGfx=function(d){return this._elementRegistry.getGraphics(d)},Y0.prototype.addDragger=function(d,f,m,g="djs-dragger"){var b=p1(m=m||this.getGfx(d)),_=m.getBoundingClientRect();return this._cloneMarkers(x1(b),g),_t(b,this._styles.cls(g,[],{x:_.top,y:_.left})),nn(f,b),_t(b,"data-preview-support-element-id",d.id),b},Y0.prototype.addFrame=function(d,f){var m=Mt("rect",{class:"djs-resize-overlay",width:d.width,height:d.height,x:d.x,y:d.y});return nn(f,m),_t(m,"data-preview-support-element-id",d.id),m},Y0.prototype._cloneMarkers=function(d,f="djs-dragger"){var m=this;if(d.childNodes)for(var g=0;g<d.childNodes.length;g++)m._cloneMarkers(d.childNodes[g],f);-1!==kS.indexOf(d.nodeName)&&GV.forEach(function(b){if(_t(d,b)){var _=(x=d,w=b,C=m._canvas.getContainer(),gr("marker#"+_t(x,w).match(/url\(['"]?#([^'"]*)['"]?\)/)[1],C||document));m._cloneMarker(d,_,b,f)}var x,w,C})},Y0.prototype._cloneMarker=function(d,f,m,g="djs-dragger"){var b=f.id+"-"+g,_=this._clonedMarkers[b];if(!_){var x=b+"-clone";(_=p1(f)).id=x,kn(_).add(g),this._clonedMarkers[b]=_;var w=gr("defs",this._canvas._svg);w||(w=Mt("defs"),nn(this._canvas._svg,w)),nn(w,_)}_t(d,m,"url(#"+this._clonedMarkers[b].id+")")};var ig={__init__:["previewSupport"],previewSupport:["type",Y0]},qV="drop-ok",Dk="drop-not-ok",og="attach-ok",MS="new-parent";function A2(d,f,m,g,b){function _(w,C){[og,qV,Dk,MS].forEach(function(T){T===C?d.addMarker(w,T):d.removeMarker(w,T)})}function x(){var w=f.context();w&&"create"===w.prefix&&f.cancel()}m.on(["create.move","create.hover"],function(w){var C=w.context,T=C.elements,P=w.hover,O=C.source,M=C.hints||{};if(!P)return C.canExecute=!1,void(C.target=null);Cp(w);var I=C.canExecute=P&&function(V,W,H,z,Q){if(!W)return!1;var J=ln(V=Ot(V,function(Ne){var Yt=Ne.labelTarget;return!(Ne.parent||vr(Ne)&&-1!==V.indexOf(Yt))}),function(Ne){return!vi(Ne)}),oe=!1,Oe=!1,Ee=!1;I2(V)&&(oe=b.allowed("shape.attach",{position:H,shape:J,target:W})),oe||(Ee=I2(V)?b.allowed("shape.create",{position:H,shape:J,source:z,target:W}):b.allowed("elements.create",{elements:V,position:H,target:W}));var De=Q.connectionTarget;return Ee||oe?(J&&z&&(Oe=b.allowed("connection.create",{source:De===z?J:z,target:De===z?z:J,hints:{targetParent:W,targetAttach:oe}})),{attach:oe,connect:Oe}):(null===Ee||null===oe)&&null}(T,P,{x:w.x,y:w.y},O,M);P&&null!==I&&(C.target=P,_(P,I&&I.attach?og:I?MS:Dk))}),m.on(["create.end","create.out","create.cleanup"],function(w){var C=w.hover;C&&_(C,null)}),m.on("create.end",function(w){var C=w.context,T=C.source,P=C.shape,O=C.elements,M=C.target,A=C.canExecute,I=A&&A.attach,V=A&&A.connect,W=C.hints||{};if(!1===A||!M)return!1;Cp(w);var H={x:w.x,y:w.y};P=V?g.appendShape(T,P,H,M,{attach:I,connection:!0===V?{}:V,connectionTarget:W.connectionTarget}):ln(O=g.createElements(O,H,M,de({},W,{attach:I})),function(z){return!vi(z)}),de(C,{elements:O,shape:P}),de(w,{elements:O,shape:P})}),m.on("create.init",function(){m.on("elements.changed",x),m.once(["create.cancel","create.end"],2e3,function(){m.off("elements.changed",x)})}),this.start=function(w,C,T){ut(C)||(C=[C]);var P=ln(C,function(M){return!vi(M)});if(P){T=de({elements:C,hints:{},shape:P},T||{}),ge(C,function(M){at(M.x)||(M.x=0),at(M.y)||(M.y=0)});var O=ri(Ot(C,function(M){return!M.hidden}));ge(C,function(M){vi(M)&&(M.waypoints=Er(M.waypoints,function(A){return{x:A.x-O.x-O.width/2,y:A.y-O.y-O.height/2}})),de(M,{x:M.x-O.x-O.width/2,y:M.y-O.y-O.height/2})}),f.init(w,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:P,elements:C,context:T}})}}}function Cp(d){var f=d.context.createConstraints;f&&(f.left&&(d.x=Math.max(d.x,f.left)),f.right&&(d.x=Math.min(d.x,f.right)),f.top&&(d.y=Math.max(d.y,f.top)),f.bottom&&(d.y=Math.min(d.y,f.bottom)))}function I2(d){return d&&1===d.length&&!vi(d[0])}function N2(d,f,m,g,b){f.on("create.move",750,function(_){var x=_.hover,w=_.context,T=w.dragGroup;T||(T=w.dragGroup=function(P){var O=Mt("g");_t(O,b.cls("djs-drag-group",["no-events"]));var M=Mt("g");return P.forEach(function(A){var I;A.hidden||(A.waypoints?(I=m._createContainer("connection",M),m.drawConnection(x1(I),A)):(I=m._createContainer("shape",M),m.drawShape(x1(I),A),ds(I,A.x,A.y)),g.addDragger(A,O,I))}),O}(w.elements)),x?(T.parentNode||nn(d.getActiveLayer(),T),ds(T,_.x,_.y)):hi(T)}),f.on("create.cleanup",function(_){var x=_.context.dragGroup;x&&hi(x)})}A2.$inject=["canvas","dragging","eventBus","modeling","rules"],N2.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var K0={__depends__:[W0,ig,ys,Lu],__init__:["create","createPreview"],create:["type",A2],createPreview:["type",N2]};function Q0(){}Q0.prototype.get=function(){return this._data},Q0.prototype.set=function(d){this._data=d},Q0.prototype.clear=function(){var d=this._data;return delete this._data,d},Q0.prototype.isEmpty=function(){return!this._data};var Oh={clipboard:["type",Q0]};function sg(d){var f=this;function m(g){f._lastMoveEvent=g}this._lastMoveEvent=null,d.on("canvas.init",function(g){(f._svg=g.svg).addEventListener("mousemove",m)}),d.on("canvas.destroy",function(){f._lastMouseEvent=null,f._svg.removeEventListener("mousemove",m)})}sg.$inject=["eventBus"],sg.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||((m=document.createEvent("MouseEvent")).initMouseEvent&&m.initMouseEvent("mousemove",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),m);var m};var Dp={__init__:["mouse"],mouse:["type",sg]};function Sa(d,f,m,g,b,_,x,w){this._canvas=d,this._create=f,this._clipboard=m,this._elementFactory=g,this._eventBus=b,this._modeling=_,this._mouse=x,this._rules=w,b.on("copyPaste.copyElement",function(C){var T=C.descriptor,P=C.element,O=C.elements;T.priority=1,T.id=P.id;var M=ln(O,function(A){return A===P.parent});M&&(T.parent=P.parent.id),!!P.host&&(T.priority=2,T.host=P.host.id),vi(P)&&(T.priority=3,T.source=P.source.id,T.target=P.target.id,T.waypoints=Er(P.waypoints,function(I){return(I=Tk(I)).original&&(I.original=Tk(I.original)),I})),vr(P)&&(T.priority=4,T.labelTarget=P.labelTarget.id),ge(["x","y","width","height"],function(A){at(P[A])&&(T[A]=P[A])}),T.hidden=P.hidden,T.collapsed=P.collapsed}),b.on("copyPaste.pasteElements",function(C){de(C.hints,{createElementsBehavior:!1})})}function Tk(d){return de({},d)}Sa.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Sa.prototype.copy=function(d){var f,m;return ut(d)||(d=d?[d]:[]),m=!1===(f=this._eventBus.fire("copyPaste.canCopyElements",{elements:d}))?{}:this.createTree(ut(f)?f:d),this._clipboard.set(m),this._eventBus.fire("copyPaste.elementsCopied",{elements:d,tree:m}),m},Sa.prototype.paste=function(d){var f=this._clipboard.get();if(!this._clipboard.isEmpty()){var m=d&&d.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:m});var g=this._createElements(f);if(d&&d.element&&d.point)return this._paste(g,d.element,d.point,m);this._create.start(this._mouse.getLastMoveEvent(),g,{hints:m||{}})}},Sa.prototype._paste=function(d,f,m,g){ge(d,function(_){at(_.x)||(_.x=0),at(_.y)||(_.y=0)});var b=ri(d);return ge(d,function(_){vi(_)&&(_.waypoints=Er(_.waypoints,function(x){return{x:x.x-b.x-b.width/2,y:x.y-b.y-b.height/2}})),de(_,{x:_.x-b.x-b.width/2,y:_.y-b.y-b.height/2})}),this._modeling.createElements(d,m,f,de({},g))},Sa.prototype._createElements=function(d){var f=this,m=this._eventBus,g={},b=[];return ge(d,function(_,x){ge(_=Hr(_,"priority"),function(w){var C,T=de({},Ie(w,["priority"]));return g[w.parent]?T.parent=g[w.parent]:delete T.parent,m.fire("copyPaste.pasteElement",{cache:g,descriptor:T}),vi(T)?(T.source=g[w.source],T.target=g[w.target],C=g[w.id]=f.createConnection(T),void b.push(C)):vr(T)?(T.labelTarget=g[T.labelTarget],C=g[w.id]=f.createLabel(T),void b.push(C)):(T.host&&(T.host=g[T.host]),C=g[w.id]=f.createShape(T),void b.push(C))})}),b},Sa.prototype.createConnection=function(d){return this._elementFactory.createConnection(Ie(d,["id"]))},Sa.prototype.createLabel=function(d){return this._elementFactory.createLabel(Ie(d,["id"]))},Sa.prototype.createShape=function(d){return this._elementFactory.createShape(Ie(d,["id"]))},Sa.prototype.hasRelations=function(d,f){var m,g;return!(vi(d)&&(m=ln(f,so({id:d.source.id})),g=ln(f,so({id:d.target.id})),!m||!g)||vr(d)&&!ln(f,so({id:d.labelTarget.id})))},Sa.prototype.createTree=function(d){var f=this._rules,m=this,g={},b=[];function _(x,w){var P,O,C=ln(b,function(T){return x===T.element});C?C.depth<w&&(-1!==(O=(P=b).indexOf(C))&&P.splice(O,1),(b=P).push({element:C.element,depth:w})):b.push({element:x,depth:w})}return Nc(cn(d),function(x,w,C){if(!vr(x)){ge(x.labels,function(P){_(P,C)}),ge([x.attachers,x.incoming,x.outgoing],function(P){P&&P.length&&ge(P,function(O){ge(O.labels,function(M){_(M,C)}),_(O,C)})}),_(x,C);var T=[];return x.children&&(T=x.children.slice()),m._eventBus.fire("copyPaste.createTree",{element:x,children:T}),T}}),d=Er(b,function(x){return x.element}),b=Hr(b=Er(b,function(x){return x.descriptor={},m._eventBus.fire("copyPaste.copyElement",{descriptor:x.descriptor,element:x.element,elements:d}),x}),function(x){return x.descriptor.priority}),d=Er(b,function(x){return x.element}),ge(b,function(x){var w=x.depth;m.hasRelations(x.element,d)&&f.allowed("element.copy",{element:x.element,elements:d})?(g[w]||(g[w]=[]),g[w].push(x.descriptor)):function L2(d,f){var m=f.indexOf(d);return-1===m?f:f.splice(m,1)}(x.element,d)}),g};var ag={__depends__:[Oh,K0,Dp,ys],__init__:["copyPaste"],copyPaste:["type",Sa]};function J_(d,f,m){ut(m)||(m=[m]),ge(m,function(g){ht(d[g])||(f[g]=d[g])})}function e4(d,f,m){function g(_,x){var w=d.create(_.$type);return m.copyElement(_,w,null,x)}f.on("copyPaste.copyElement",750,function(_){var x=_.descriptor,w=_.element,C=yt(w);if(vr(w))return x;var T=x.businessObject=g(C,!0),P=x.di=g(ur(w),!0);P.bpmnElement=T,J_(T,x,"name"),J_(P,x,"isExpanded"),C.default&&(x.default=C.default.id)});var b="-bpmn-js-refs";f.on("copyPaste.pasteElement",function(_){var x=_.cache,w=_.descriptor,C=w.businessObject,T=w.di;if(vr(w))return w.businessObject=yt(x[w.labelTarget]),void(w.di=ur(x[w.labelTarget]));C=w.businessObject=g(C),(T=w.di=g(T)).bpmnElement=C,J_(w,C,["isExpanded","name"]),w.type=C.$type}),f.on("copyPaste.copyElement",750,function(_){var x=_.descriptor,w=_.element;if(Y(w,"bpmn:Participant")){var C=yt(w);C.processRef&&(x.processRef=g(C.processRef,!0))}}),f.on("copyPaste.pasteElement",function(_){var x=_.descriptor,w=x.processRef;w&&(x.processRef=g(w))}),f.on("copyPaste.pasteElement",750,function(_){var w,x=_.cache;!function(w,C){w[b]=C}(x,function(w,C,T){var P=yt(w);return w.default&&(T[w.default]={element:P,property:"default"}),w.host&&(yt(w).attachedToRef=yt(C[w.host])),Ie(T,zr(T,function(O,M,A){return A===w.id&&(M.element.set(M.property,P),O.push(w.id)),O},[]))}(_.descriptor,x,(w=x,w[b]=w[b]||{})))})}e4.$inject=["bpmnFactory","eventBus","moddleCopy"];var Pk=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function lg(d,f,m){this._bpmnFactory=f,this._eventBus=d,this._moddle=m,d.on("moddleCopy.canCopyProperties",function(g){var b=g.propertyNames;if(b&&b.length)return Hr(b,function(_){return"extensionElements"===_})}),d.on("moddleCopy.canCopyProperty",function(g){var b=g.parent,_=Sn(b)&&b.$descriptor,x=g.propertyName;return(!x||-1===Pk.indexOf(x))&&!(x&&_&&!ln(_.properties,so({name:x})))&&void 0}),d.on("moddleCopy.canSetCopiedProperty",function(g){var b,x=g.property;if("bpmn:ExtensionElements",(b=x)&&xn(b.$instanceOf)&&b.$instanceOf("bpmn:ExtensionElements")&&(!x.values||!x.values.length))return!1})}function cg(d,f){return zr(d.properties,function(m,g){return f&&g.default?m:m.concat(g.name)},[])}lg.$inject=["eventBus","bpmnFactory","moddle"],lg.prototype.copyElement=function(d,f,m,g=!1){var b=this;m&&!ut(m)&&(m=[m]),m=m||cg(d.$descriptor);var _=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:m,sourceElement:d,targetElement:f,clone:g});return!1===_||(ut(_)&&(m=_),ge(m,function(x){var w;gn(d,x)&&(w=d.get(x));var C=b.copyProperty(w,f,x,g);tn(C)&&!1!==b._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:f,property:C,propertyName:x})&&f.set(x,C)})),f},lg.prototype.copyProperty=function(d,f,m,g=!1){var b=this,_=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:f,property:d,propertyName:m,clone:g});if(!1!==_){if(_)return Sn(_)&&_.$type&&!_.$parent&&(_.$parent=f),_;var x=this._moddle.getPropertyDescriptor(f,m);if(!x.isReference)return x.isId?d&&this._copyId(d,f,g):ut(d)?zr(d,function(w,C){return(_=b.copyProperty(C,f,m,g))?w.concat(_):w},[]):Sn(d)&&d.$type?this._moddle.getElementDescriptor(d).isGeneric?void 0:((_=b._bpmnFactory.create(d.$type)).$parent=f,_=b.copyElement(d,_,null,g)):d}},lg.prototype._copyId=function(d,f,m=!1){return m?d:this._moddle.ids.assigned(d)?void 0:(this._moddle.ids.claim(d,f),d)};var t4={__depends__:[ag],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",e4],moddleCopy:["type",lg]},RS=Math.round;function n4(d,f){this._modeling=d,this._eventBus=f}function kh(d,f){f.on("replace.end",500,function(m){const{newElement:g,hints:b={}}=m;!1!==b.select&&d.select(g)})}n4.$inject=["modeling","eventBus"],n4.prototype.replaceElement=function(d,f,m){if(d.waypoints)return null;var g=this._modeling,b=this._eventBus;b.fire("replace.start",{element:d,attrs:f,hints:m});var _=f.width||d.width,x=f.height||d.height,C=f.y||d.y,T=RS((f.x||d.x)+_/2),P=RS(C+x/2),O=g.replaceShape(d,de({},f,{x:T,y:P,width:_,height:x}),m);return b.fire("replace.end",{element:d,newElement:O,hints:m}),O},kh.$inject=["selection","eventBus"];var AS={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",kh],replace:["type",n4]},r4=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function IS(d,f,m,g,b,_){this.replaceElement=function(x,w,C){C=C||{};var W,H,z,T=w.type,P=x.businessObject;if(i4(P)&&"bpmn:SubProcess"===T&&(H=w,(z=(W=x)&&gn(W,"collapsed")?W.collapsed:!lr(W))!==(H&&(gn(H,"collapsed")||gn(H,"isExpanded"))?gn(H,"collapsed")?H.collapsed:!H.isExpanded:z)))return g.toggleCollapse(x),x;var O=d.create(T),M={type:T,businessObject:O,di:{}};!function(W,H,z){ut(z)||(z=[z]),ge(z,function(Q){ht(W[Q])||(H[Q]=W[Q])})}(x.di,M.di,["fill","stroke","background-color","border-color","color"]);var A=function(W,H){return W.filter(function(z){return H.includes(z)})}(cg(P.$descriptor),cg(O.$descriptor,!0));de(O,It(w,r4));var I=Ot(A,function(W){return"eventDefinitions"===W?Ok(x,w.eventDefinitionType):"loopCharacteristics"===W?!Xa(O):!gn(O,W)&&("processRef"!==W||!1!==w.isExpanded)&&"triggeredByEvent"!==W});if(O=m.copyElement(P,O,I),w.eventDefinitionType&&(Ok(O,w.eventDefinitionType)||(M.eventDefinitionType=w.eventDefinitionType,M.eventDefinitionAttrs=w.eventDefinitionAttrs)),Y(P,"bpmn:Activity")){if(i4(P))M.isExpanded=lr(x);else if(w&&gn(w,"isExpanded")){M.isExpanded=w.isExpanded;var V=f.getDefaultSize(O,{isExpanded:M.isExpanded});M.width=V.width,M.height=V.height,M.x=x.x-(M.width-x.width)/2,M.y=x.y-(M.height-x.height)/2}lr(x)&&!Y(P,"bpmn:Task")&&M.isExpanded&&(M.width=x.width,M.height=x.height)}return i4(P)&&!i4(O)&&(C.moveChildren=!1),Y(P,"bpmn:Participant")&&(!0===w.isExpanded?O.processRef=d.create("bpmn:Process"):C.moveChildren=!1,M.width=x.width,M.height=f.getDefaultSize(M).height),_.allowed("shape.resize",{shape:O})||(M.height=f.getDefaultSize(M).height,M.width=f.getDefaultSize(M).width),O.name=P.name,Un(P,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Un(O,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(O.default=P.default),w.host&&!Y(P,"bpmn:BoundaryEvent")&&Y(O,"bpmn:BoundaryEvent")&&(M.host=w.host),"bpmn:DataStoreReference"!==M.type&&"bpmn:DataObjectReference"!==M.type||(M.x=x.x+(x.width-M.width)/2),b.replaceElement(x,M,C)}}function i4(d){return Y(d,"bpmn:SubProcess")}function Ok(d,f){var m=yt(d);return f&&m.get("eventDefinitions").some(function(g){return Y(g,f)})}IS.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var Mh={__depends__:[t4,AS,Lu],bpmnReplace:["type",IS]};function NS(d){return function(f){var m=f.target,g=yt(d),b=g.eventDefinitions&&g.eventDefinitions[0],_=g.$type===m.type,x=(b&&b.$type)===m.eventDefinitionType,w=!!m.triggeredByEvent==!!g.triggeredByEvent,C=void 0===m.isExpanded||m.isExpanded===lr(d);return!(_&&x&&w&&C)}}var F2=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],o4=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],kk=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],LS=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],s4=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],B2=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],ug=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],FS=ug,a4=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],BS=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],j2=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],l4=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],Rh=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Mk=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],Rk=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(d){var f="Empty Pool";return d.children&&d.children.length&&(f+=" (removes content)"),f},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function uc(d,f,m,g,b,_,x,w){this._bpmnFactory=d,this._popupMenu=f,this._modeling=m,this._moddle=g,this._bpmnReplace=b,this._rules=_,this._translate=x,this._moddleCopy=w,this._register()}uc.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],uc.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},uc.prototype.getPopupMenuEntries=function(d){var f=d.businessObject,m=this._rules,g=[];if(ut(d)||!m.allowed("shape.replace",{element:d}))return{};var b=NS(d);return Y(f,"bpmn:DataObjectReference")?this._createEntries(d,BS):Y(f,"bpmn:DataStoreReference")&&!Y(d.parent,"bpmn:Collaboration")?this._createEntries(d,j2):Y(f,"bpmn:StartEvent")&&!Y(f.$parent,"bpmn:SubProcess")?(g=Ot(F2,b),this._createEntries(d,g)):Y(f,"bpmn:Participant")?(g=Ot(Rk,function(_){return lr(d)!==_.target.isExpanded}),this._createEntries(d,g)):Y(f,"bpmn:StartEvent")&&Xa(f.$parent)?(g=Ot(Rh,function(_){var w=f.isInterrupting===(!1!==_.target.isInterrupting);return b(_)||!b(_)&&!w}),this._createEntries(d,g)):Y(f,"bpmn:StartEvent")&&!Xa(f.$parent)&&Y(f.$parent,"bpmn:SubProcess")?(g=Ot(o4,b),this._createEntries(d,g)):Y(f,"bpmn:EndEvent")?(g=Ot(LS,function(_){return!("bpmn:CancelEventDefinition"==_.target.eventDefinitionType&&!Y(f.$parent,"bpmn:Transaction"))&&b(_)}),this._createEntries(d,g)):Y(f,"bpmn:BoundaryEvent")?(g=Ot(l4,function(_){var x=_.target;if("bpmn:CancelEventDefinition"==x.eventDefinitionType&&!Y(f.attachedToRef,"bpmn:Transaction"))return!1;var C=f.cancelActivity==(!1!==x.cancelActivity);return b(_)||!b(_)&&!C}),this._createEntries(d,g)):Y(f,"bpmn:IntermediateCatchEvent")||Y(f,"bpmn:IntermediateThrowEvent")?(g=Ot(kk,b),this._createEntries(d,g)):Y(f,"bpmn:Gateway")?(g=Ot(s4,b),this._createEntries(d,g)):Y(f,"bpmn:Transaction")?(g=Ot(ug,b),this._createEntries(d,g)):Xa(f)&&lr(d)?(g=Ot(FS,b),this._createEntries(d,g)):Y(f,"bpmn:SubProcess")&&lr(d)?(g=Ot(B2,b),this._createEntries(d,g)):Y(f,"bpmn:AdHocSubProcess")&&!lr(d)?(g=Ot(a4,function(_){var x=_.target,w="bpmn:SubProcess"===x.type,C=!0===x.isExpanded;return NS(x)&&(!w||C)}),this._createEntries(d,g)):Y(f,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(d,Mk):Y(f,"bpmn:FlowNode")?(g=Ot(a4,b),Y(f,"bpmn:SubProcess")&&!lr(d)&&(g=Ot(g,function(_){return"Sub Process (collapsed)"!==_.label})),this._createEntries(d,g)):{}},uc.prototype.getPopupMenuHeaderEntries=function(d){var f={};return Y(d,"bpmn:Activity")&&!Xa(d)&&(f={...f,...this._getLoopCharacteristicsHeaderEntries(d)}),Y(d,"bpmn:DataObjectReference")&&(f={...f,...this._getCollectionHeaderEntries(d)}),Y(d,"bpmn:Participant")&&(f={...f,...this._getParticipantMultiplicityHeaderEntries(d)}),!Y(d,"bpmn:SubProcess")||Y(d,"bpmn:Transaction")||Xa(d)||(f={...f,...this._getAdHocHeaderEntries(d)}),f},uc.prototype._createEntries=function(d,f){var m={},g=this;return ge(f,function(b){m[b.actionName]=g._createEntry(b,d)}),m},uc.prototype._createSequenceFlowEntries=function(d,f){var m=yt(d),g={},b=this._modeling,_=this._moddle,x=this;return ge(f,function(w){switch(w.actionName){case"replace-with-default-flow":m.sourceRef.default!==m&&(Y(m.sourceRef,"bpmn:ExclusiveGateway")||Y(m.sourceRef,"bpmn:InclusiveGateway")||Y(m.sourceRef,"bpmn:ComplexGateway")||Y(m.sourceRef,"bpmn:Activity"))&&(g={...g,[w.actionName]:x._createEntry(w,d,function(){b.updateProperties(d.source,{default:m})})});break;case"replace-with-conditional-flow":!m.conditionExpression&&Y(m.sourceRef,"bpmn:Activity")&&(g={...g,[w.actionName]:x._createEntry(w,d,function(){var C=_.create("bpmn:FormalExpression",{body:""});b.updateProperties(d,{conditionExpression:C})})});break;default:Y(m.sourceRef,"bpmn:Activity")&&m.conditionExpression&&(g={...g,[w.actionName]:x._createEntry(w,d,function(){b.updateProperties(d,{conditionExpression:void 0})})}),(Y(m.sourceRef,"bpmn:ExclusiveGateway")||Y(m.sourceRef,"bpmn:InclusiveGateway")||Y(m.sourceRef,"bpmn:ComplexGateway")||Y(m.sourceRef,"bpmn:Activity"))&&m.sourceRef.default===m&&(g={...g,[w.actionName]:x._createEntry(w,d,function(){b.updateProperties(d.source,{default:void 0})})})}}),g},uc.prototype._createEntry=function(d,f,m){var g=this._translate,b=this._bpmnReplace.replaceElement,_=d.label;return _&&"function"==typeof _&&(_=_(f)),m=m||function(){return b(f,d.target)},{label:g(_),className:d.className,action:m}},uc.prototype._getLoopCharacteristicsHeaderEntries=function(d){var f=this,m=this._translate;function g(C,T){if(T.active)return void f._modeling.updateProperties(d,{loopCharacteristics:void 0});const P=d.businessObject.get("loopCharacteristics"),O=f._moddle.create(T.options.loopCharacteristics);P&&f._moddleCopy.copyElement(P,O),O.set("isSequential",T.options.isSequential),f._modeling.updateProperties(d,{loopCharacteristics:O})}var b,_,x,w=yt(d).loopCharacteristics;return w&&(b=w.isSequential,_=void 0===w.isSequential,x=void 0!==w.isSequential&&!w.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:m("Parallel Multi Instance"),active:x,action:g,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:m("Sequential Multi Instance"),active:b,action:g,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:m("Loop"),active:_,action:g,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},uc.prototype._getCollectionHeaderEntries=function(d){var f=this,g=d.businessObject.dataObjectRef;if(!g)return{};var b=g.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:b,action:function(_,x){f._modeling.updateModdleProperties(d,g,{isCollection:!x.active})}}}},uc.prototype._getParticipantMultiplicityHeaderEntries=function(d){var f=this,m=this._bpmnFactory,b=d.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant Multiplicity"),active:!!b,action:function(_,x){var w;x.active||(w=m.create("bpmn:ParticipantMultiplicity")),f._modeling.updateProperties(d,{participantMultiplicity:w})}}}},uc.prototype._getAdHocHeaderEntries=function(d){var f=this._translate,m=Y(yt(d),"bpmn:AdHocSubProcess"),g=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:f("Ad-hoc"),active:m,action:function(b,_){return g(d,m?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}};var $2={__depends__:[I_,Mh,gk],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",uc]},Ah=Math.max,dg=Math.min,jS=20;function c4(d,f){return{top:d.top-f.top,right:d.right-f.right,bottom:d.bottom-f.bottom,left:d.left-f.left}}function pg(d,f,m){var g=f[d],b=m.min&&m.min[d],_=m.max&&m.max[d];return at(b)&&(g=(/top|left/.test(d)?dg:Ah)(g,b)),at(_)&&(g=(/top|left/.test(d)?Ah:dg)(g,_)),g}function fg(d,f){return void 0!==d?d:jS}function Ak(d){return!d.waypoints&&"label"!==d.type}function $S(d,f){var m,g,b,_,x,w,C;if((m=void 0===d.length?Ot(d.children,Ak):d).length)return g=ri(m),"object"==typeof(b=f)?(_=fg(b.left),x=fg(b.right),w=fg(b.top),C=fg(b.bottom)):_=x=w=C=fg(b),{x:g.x-_,y:g.y-w,width:g.width+_+x,height:g.height+w+C}}var V2=Math.abs,Ik=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function Z0(d,f){return f=f||[],d.children.filter(function(m){Y(m,"bpmn:Lane")&&(Z0(m,f),f.push(m))}),f}function Tp(d){return d.children.filter(function(f){return Y(f,"bpmn:Lane")})}function dc(d){return j_(d,Ik)||d}function z2(d,f,m,g,b,_,x,w,C,T,P,O){d=d||{},g.registerProvider(this),this._contextPad=g,this._modeling=b,this._elementFactory=_,this._connect=x,this._create=w,this._popupMenu=C,this._canvas=T,this._rules=P,this._translate=O,!1!==d.autoPlace&&(this._autoPlace=f.get("autoPlace",!1)),m.on("create.end",250,function(M){var A=M.context.shape;if(uh(M)&&g.isOpen(A)){var I=g.getEntries(A);I.replace&&I.replace.action.click(M,A)}})}function Nk(d,f,m){var g=d.$instanceOf(f),b=!1;return ge(d.eventDefinitions||[],function(_){_.$type===m&&(b=!0)}),g&&b}z2.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],z2.prototype.getMultiElementContextPadEntries=function(d){var f=this._modeling,m={};return this._isDeleteAllowed(d)&&de(m,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(g,b){f.removeElements(b.slice())}}}}),m},z2.prototype._isDeleteAllowed=function(d){var f=this._rules.allowed("elements.delete",{elements:d});return ut(f)?Pi(f,function(m){return-1!==f.indexOf(m)}):f},z2.prototype.getContextPadEntries=function(d){var f=this._contextPad,m=this._modeling,g=this._elementFactory,b=this._connect,_=this._create,x=this._popupMenu,w=this._rules,C=this._autoPlace,T=this._translate,P={};if("label"===d.type)return P;var O=d.businessObject;function M(H,z){b.start(H,z)}function A(H,z,Q,J){function oe(Ee,De){var Ne=g.createShape(de({type:H},J));_.start(Ee,Ne,{source:De})}return"string"!=typeof Q&&(J=Q,Q=T("Append {type}",{type:H.replace(/^bpmn:/,"")})),{group:"model",className:z,title:Q,action:{dragstart:oe,click:C?function(Ee,De){var Ne=g.createShape(de({type:H},J));C.append(De,Ne)}:oe}}}function I(H){return function(z,Q){m.splitLane(Q,H),f.open(Q,!0)}}if(Un(O,["bpmn:Lane","bpmn:Participant"])&&lr(d)){var V=Tp(d);de(P,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:T("Add Lane above"),action:{click:function(H,z){m.addLane(z,"top")}}}}),V.length<2&&(d.height>=120&&de(P,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:T("Divide into two Lanes"),action:{click:I(2)}}}),d.height>=180&&de(P,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:T("Divide into three Lanes"),action:{click:I(3)}}})),de(P,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:T("Add Lane below"),action:{click:function(H,z){m.addLane(z,"bottom")}}}})}Y(O,"bpmn:FlowNode")&&(Y(O,"bpmn:EventBasedGateway")?de(P,{"append.receive-task":A("bpmn:ReceiveTask","bpmn-icon-receive-task",T("Append ReceiveTask")),"append.message-intermediate-event":A("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",T("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":A("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",T("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":A("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",T("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":A("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",T("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Nk(O,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?de(P,{"append.compensation-activity":A("bpmn:Task","bpmn-icon-task",T("Append compensation activity"),{isForCompensation:!0})}):Y(O,"bpmn:EndEvent")||O.isForCompensation||Nk(O,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Xa(O)||de(P,{"append.end-event":A("bpmn:EndEvent","bpmn-icon-end-event-none",T("Append EndEvent")),"append.gateway":A("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",T("Append Gateway")),"append.append-task":A("bpmn:Task","bpmn-icon-task",T("Append Task")),"append.intermediate-event":A("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",T("Append Intermediate/Boundary Event"))})),x.isEmpty(d,"bpmn-replace")||de(P,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:T("Change type"),action:{click:function(H,z){var oe,Q=de({x:(oe=f.getPad(z).html.getBoundingClientRect()).left,y:oe.bottom+5},{cursor:{x:H.x,y:H.y}});x.open(z,"bpmn-replace",Q,{title:T("Change element"),width:300,search:!0})}}}}),Y(O,"bpmn:SequenceFlow")&&de(P,{"append.text-annotation":A("bpmn:TextAnnotation","bpmn-icon-text-annotation",T("Append TextAnnotation"))}),Un(O,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&de(P,{"append.text-annotation":A("bpmn:TextAnnotation","bpmn-icon-text-annotation",T("Append TextAnnotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:T("Connect using "+(O.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:M,dragstart:M}}}),Y(O,"bpmn:TextAnnotation")&&de(P,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:T("Connect using Association"),action:{click:M,dragstart:M}}}),Un(O,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&de(P,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:T("Connect using DataInputAssociation"),action:{click:M,dragstart:M}}}),Y(O,"bpmn:Group")&&de(P,{"append.text-annotation":A("bpmn:TextAnnotation","bpmn-icon-text-annotation",T("Append TextAnnotation"))});var W=w.allowed("elements.delete",{elements:[d]});return ut(W)&&(W=W[0]===d),W&&de(P,{delete:{group:"edit",className:"bpmn-icon-trash",title:T("Remove"),action:{click:function(H,z){m.removeElements([z])}}}}),P};var XV={__depends__:[Ck,D_,Lu,Q_,K0,$2],__init__:["contextPadProvider"],contextPadProvider:["type",z2]},VS={horizontal:["x","width"],vertical:["y","height"]};function Uu(d,f){this._modeling=d,this._filters=[],this.registerFilter(function(m){var g=f.allowed("elements.distribute",{elements:m});return ut(g)?g:g?m:[]})}Uu.$inject=["modeling","rules"],Uu.prototype.registerFilter=function(d){if("function"!=typeof d)throw new Error("the filter has to be a function");this._filters.push(d)},Uu.prototype.trigger=function(d,f){var m,g,b=this._modeling;if(!(d.length<3||(this._setOrientation(f),g=this._filterElements(d),(m=this._createGroups(g)).length<=2)))return b.distributeElements(m,this._axis,this._dimension),m},Uu.prototype._filterElements=function(d){var f=this._filters,m=this._axis,g=this._dimension,b=[].concat(d);return f.length?(ge(f,function(_){b=_(b,m,g)}),b):d},Uu.prototype._createGroups=function(d){var f=[],m=this,g=this._axis,b=this._dimension;if(!g)throw new Error('must have a defined "axis" and "dimension"');return ge(Hr(d,g),function(_,x){var C=m._findRange(_,g,b),T=f[f.length-1];T&&m._hasIntersection(T.range,C)?f[f.length-1].elements.push(_):f.push({range:C,elements:[_]})}),f},Uu.prototype._setOrientation=function(d){var f=VS[d];this._axis=f[0],this._dimension=f[1]},Uu.prototype._hasIntersection=function(d,f){return Math.max(d.min,d.max)>=Math.min(f.min,f.max)&&Math.min(d.min,d.max)<=Math.max(f.min,f.max)},Uu.prototype._findRange=function(d){var f=d[this._axis];return{min:f+5,max:f+d[this._dimension]-5}};var Lk={__init__:["distributeElements"],distributeElements:["type",Uu]};function H2(d){Us.call(this,d)}H2.$inject=["eventBus"],Ye(H2,Us),H2.prototype.init=function(){this.addRule("elements.distribute",function(d){var f=d.elements;return!((f=cn(f=Ot(f,function(m){var g=Un(m,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(m.labelTarget||g)}))).length<3)&&f})};var zS_horizontal='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',zS_vertical='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>';function Pp(d,f,m,g){this._distributeElements=f,this._translate=m,this._popupMenu=d,this._rules=g,d.registerProvider("align-elements",900,this)}Pp.$inject=["popupMenu","distributeElements","translate","rules"],Pp.prototype.getPopupMenuEntries=function(d){var f={};return this._isAllowed(d)&&de(f,this._getEntries(d)),f},Pp.prototype._isAllowed=function(d){return this._rules.allowed("elements.distribute",{elements:d})},Pp.prototype._getEntries=function(d){var f=this._distributeElements,m=this._translate,g=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:m("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:zS_horizontal,action:function(b,_){f.trigger(d,"horizontal"),g.close()}},"distribute-elements-vertical":{group:"distribute",title:m("Distribute elements vertically"),imageHtml:zS_vertical,action:function(b,_){f.trigger(d,"vertical"),g.close()}}}};var Gu={__depends__:[I_,Lk],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",H2],distributeElementsMenuProvider:["type",Pp]},Ih="is not a registered action";function tl(d,f){this._actions={};var m=this;d.on("diagram.init",function(){m._registerDefaultActions(f),d.fire("editorActions.init",{editorActions:m})})}function U2(d,f){return new Error(d+" "+f)}tl.$inject=["eventBus","injector"],tl.prototype._registerDefaultActions=function(d){var f=d.get("commandStack",!1),m=d.get("modeling",!1),g=d.get("selection",!1),b=d.get("zoomScroll",!1),_=d.get("copyPaste",!1),x=d.get("canvas",!1),w=d.get("rules",!1),C=d.get("keyboardMove",!1),T=d.get("keyboardMoveSelection",!1);f&&(this.register("undo",function(){f.undo()}),this.register("redo",function(){f.redo()})),_&&g&&this.register("copy",function(){var P=g.get();if(P.length)return _.copy(P)}),_&&this.register("paste",function(){_.paste()}),b&&this.register("stepZoom",function(P){b.stepZoom(P.value)}),x&&this.register("zoom",function(P){x.zoom(P.value)}),m&&g&&w&&this.register("removeSelection",function(){var P=g.get();if(P.length){var O,M=w.allowed("elements.delete",{elements:P});!1!==M&&(O=ut(M)?M:P).length&&m.removeElements(O.slice())}}),C&&this.register("moveCanvas",function(P){C.moveCanvas(P)}),T&&this.register("moveSelection",function(P){T.moveSelection(P.direction,P.accelerated)})},tl.prototype.trigger=function(d,f){if(!this._actions[d])throw U2(d,Ih);return this._actions[d](f)},tl.prototype.register=function(d,f){var m=this;if("string"==typeof d)return this._registerAction(d,f);ge(d,function(g,b){m._registerAction(b,g)})},tl.prototype._registerAction=function(d,f){if(this.isRegistered(d))throw U2(d,"is already registered");this._actions[d]=f},tl.prototype.unregister=function(d){if(!this.isRegistered(d))throw U2(d,Ih);this._actions[d]=void 0},tl.prototype.getActions=function(){return Object.keys(this._actions)},tl.prototype.isRegistered=function(d){return!!this._actions[d]};var HS={__init__:["editorActions"],editorActions:["type",tl]};function u4(d){d.invoke(tl,this)}Ye(u4,tl),u4.$inject=["injector"],u4.prototype._registerDefaultActions=function(d){tl.prototype._registerDefaultActions.call(this,d);var f=d.get("canvas",!1),m=d.get("elementRegistry",!1),g=d.get("selection",!1),b=d.get("spaceTool",!1),_=d.get("lassoTool",!1),x=d.get("handTool",!1),w=d.get("globalConnect",!1),C=d.get("distributeElements",!1),T=d.get("alignElements",!1),P=d.get("directEditing",!1),O=d.get("searchPad",!1),M=d.get("modeling",!1),A=d.get("contextPad",!1);f&&m&&g&&this._registerAction("selectElements",function(){var I=f.getRootElement(),V=m.filter(function(W){return W!==I});return g.select(V),V}),b&&this._registerAction("spaceTool",function(){b.toggle()}),_&&this._registerAction("lassoTool",function(){_.toggle()}),x&&this._registerAction("handTool",function(){x.toggle()}),w&&this._registerAction("globalConnectTool",function(){w.toggle()}),g&&C&&this._registerAction("distributeElements",function(I){var V=g.get();V.length&&C.trigger(V,I.type)}),g&&T&&this._registerAction("alignElements",function(I){var V=g.get(),W=[],H=I.type;V.length&&(W=Ot(V,function(z){return!Y(z,"bpmn:Lane")}),T.trigger(W,H))}),g&&M&&this._registerAction("setColor",function(I){var V=g.get();V.length&&M.setColor(V,I)}),g&&P&&this._registerAction("directEditing",function(){var I=g.get();I.length&&P.activate(I[0])}),O&&this._registerAction("find",function(){O.toggle()}),f&&M&&this._registerAction("moveToOrigin",function(){var I,V,W=f.getRootElement();I=ri(V=Y(W,"bpmn:Collaboration")?m.filter(function(H){return Y(H.parent,"bpmn:Collaboration")}):m.filter(function(H){return H!==W&&!Y(H.parent,"bpmn:SubProcess")})),M.moveElements(V,{x:-I.x,y:-I.y},W)}),g&&A&&this._registerAction("replaceElement",function(I){A.triggerEntry("replace","click",I)})};var YV={__depends__:[HS],editorActions:["type",u4]};function Fk(d){d.on(["create.init","shape.move.init"],function(f){var m=f.context;Un(f.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(m.gridSnappingContext||(m.gridSnappingContext={}),m.gridSnappingContext.snapLocation="top-left")})}function hg(d,f,m){return m||(m="round"),Math[m](d/f)*f}function Kc(d,f,m){var g=!m||!1!==m.active;this._eventBus=f;var b=this;f.on("diagram.init",800,function(){b.setActive(g)}),f.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(_){var x=_.originalEvent;if(!(!b.active||x&&wa(x))){var w=_.context,C=w.gridSnappingContext;C||(C=w.gridSnappingContext={}),["x","y"].forEach(function(T){var A,I,V,H,z,Q,J,P={},O=(I=T,V=d,H=(A=_).shape,Q=(z=A.context.gridSnappingContext).snapLocation,(J=z.snapOffset)&&at(J[I])||(J||(J=z.snapOffset={}),at(J[I])||(J[I]=0),!H)||(V.get(H.id)||(d4(I)?J[I]+=H[I]+H.width/2:J[I]+=H[I]+H.height/2),!Q)||("x"===I?/left/.test(Q)?J[I]-=H.width/2:/right/.test(Q)&&(J[I]+=H.width/2):/top/.test(Q)?J[I]-=H.height/2:/bottom/.test(Q)&&(J[I]+=H.height/2)),J[I]);O&&(P.offset=O);var M=function(A,I){var V=A.context,W=V.createConstraints,H=V.resizeConstraints||{},z=V.gridSnappingContext,Q=z.snapConstraints;if(Q&&Q[I])return Q[I];Q||(Q=z.snapConstraints={}),Q[I]||(Q[I]={});var J=V.direction;W&&(d4(I)?(Q.x.min=W.left,Q.x.max=W.right):(Q.y.min=W.top,Q.y.max=W.bottom));var oe=H.min,Oe=H.max;return oe&&(d4(I)?p4(J)?Q.x.max=oe.left:Q.x.min=oe.right:Bk(J)?Q.y.max=oe.top:Q.y.min=oe.bottom),Oe&&(d4(I)?p4(J)?Q.x.min=Oe.left:Q.x.max=Oe.right:Bk(J)?Q.y.min=Oe.top:Q.y.max=Oe.bottom),Q[I]}(_,T);M&&de(P,M),Sp(_,T)||b.snapEvent(_,T,P)})}})}function d4(d){return"x"===d}function Bk(d){return-1!==d.indexOf("n")}function p4(d){return-1!==d.indexOf("w")}function Op(d,f){st.call(this,d),this._gridSnapping=f;var m=this;this.preExecute("shape.resize",function(g){var b=g.context,_=(b.hints||{}).autoResize;if(_){var x=b.shape,w=b.newBounds;b.newBounds=Or(_)?m.snapComplex(w,_):m.snapSimple(x,w)}})}function US(d,f){d.on(["spaceTool.move","spaceTool.end"],2e3,function(m){var g,b=m.context;b.initialized&&("x"===b.axis?(g=f.snapValue(m.dx),m.x=m.x+g-m.dx,m.dx=g):(g=f.snapValue(m.dy),m.y=m.y+g-m.dy,m.dy=g))})}Fk.$inject=["eventBus"],Kc.prototype.snapEvent=function(d,f,m){eo(d,f,this.snapValue(d[f],m))},Kc.prototype.getGridSpacing=function(){return 10},Kc.prototype.snapValue=function(d,f){var m,g,b=0;return f&&f.offset&&(b=f.offset),d=hg(d+=b,10),f&&f.min&&at(m=f.min)&&(m=hg(m+b,10,"ceil"),d=Math.max(d,m)),f&&f.max&&at(g=f.max)&&(g=hg(g+b,10,"floor"),d=Math.min(d,g)),d-b},Kc.prototype.isActive=function(){return this.active},Kc.prototype.setActive=function(d){this.active=d,this._eventBus.fire("gridSnapping.toggle",{active:d})},Kc.prototype.toggleActive=function(){this.setActive(!this.active)},Kc.$inject=["elementRegistry","eventBus","config.gridSnapping"],Op.$inject=["eventBus","gridSnapping","modeling"],Ye(Op,st),Op.prototype.snapSimple=function(d,f){var m=this._gridSnapping;return f.width=m.snapValue(f.width,{min:f.width}),f.height=m.snapValue(f.height,{min:f.height}),f.x=d.x+d.width/2-f.width/2,f.y=d.y+d.height/2-f.height/2,f},Op.prototype.snapComplex=function(d,f){return/w|e/.test(f)&&(d=this.snapHorizontally(d,f)),/n|s/.test(f)&&(d=this.snapVertically(d,f)),d},Op.prototype.snapHorizontally=function(d,f){var m=this._gridSnapping,g=/w/.test(f),b=/e/.test(f),_={};return _.width=m.snapValue(d.width,{min:d.width}),b&&(g?(_.x=m.snapValue(d.x,{max:d.x}),_.width+=m.snapValue(d.x-_.x,{min:d.x-_.x})):d.x=d.x+d.width-_.width),de(d,_),d},Op.prototype.snapVertically=function(d,f){var m=this._gridSnapping,g=/n/.test(f),b=/s/.test(f),_={};return _.height=m.snapValue(d.height,{min:d.height}),g&&(b?(_.y=m.snapValue(d.y,{max:d.y}),_.height+=m.snapValue(d.y-_.y,{min:d.y-_.y})):d.y=d.y+d.height-_.height),de(d,_),d},US.$inject=["eventBus","gridSnapping"];var jk={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Op],gridSnappingSpaceToolBehavior:["type",US]}],__init__:["gridSnapping"],gridSnapping:["type",Kc]};function GS(d,f){d.on("autoPlace",2e3,function(m){var g=m.source,b=hn(g),_=m.shape,x=$_(g,_);return["x","y"].forEach(function(w){var C={};x[w]!==b[w]&&(x[w]>b[w]?C.min=x[w]:C.max=x[w],Y(_,"bpmn:TextAnnotation")&&(C.offset=function(T){return"x"===T}(w)?-_.width/2:-_.height/2),x[w]=f.snapValue(x[w],C))}),x})}function qS(d,f,m){f.on(["create.start","shape.move.start"],1750,function(g){var b=g.context,_=b.shape,x=d.getRootElement();Y(_,"bpmn:Participant")&&Y(x,"bpmn:Process")&&x.children.length&&b.createConstraints&&(_.width=m.snapValue(_.width,{min:_.width}),_.height=m.snapValue(_.height,{min:_.height}))})}function mg(d,f,m){st.call(this,d),this._gridSnapping=f;var g=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(b){var _=b.context,x=_.connection,w=_.hints||{},C=x.waypoints;w.connectionStart||w.connectionEnd||!1===w.createElementsBehavior||C.length>3&&m.updateWaypoints(x,g.snapMiddleSegments(C))})}function WS(d,f,m){var g=Tt(f,m),b={};return function(_){return"h"===_}(g)&&(b.y=d.snapValue(f.y)),function(_){return"v"===_}(g)&&(b.x=d.snapValue(f.x)),("x"in b||"y"in b)&&(f=de({},f,b),m=de({},m,b)),[f,m]}GS.$inject=["eventBus","gridSnapping"],qS.$inject=["canvas","eventBus","gridSnapping"],mg.$inject=["eventBus","gridSnapping","modeling"],Ye(mg,st),mg.prototype.snapMiddleSegments=function(d){var f,m=this._gridSnapping;d=d.slice();for(var g=1;g<d.length-2;g++)f=WS(m,d[g],d[g+1]),d[g]=f[0],d[g+1]=f[1];return d};var $k={__depends__:[jk,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",GS],gridSnappingParticipantBehavior:["type",qS],gridSnappingLayoutConnectionBehavior:["type",mg]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",Fk]};function gg(d,f){this._interactionEvents=f;var m=this;d.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(g){var b=g.element,_=g.gfx;return Y(b,"bpmn:Lane")?m._createParticipantHit(b,_):Y(b,"bpmn:Participant")?lr(b)?m._createParticipantHit(b,_):m._createDefaultHit(b,_):Y(b,"bpmn:SubProcess")?lr(b)?m._createSubProcessHit(b,_):m._createDefaultHit(b,_):void 0})}gg.$inject=["eventBus","interactionEvents"],gg.prototype._createDefaultHit=function(d,f){return this._interactionEvents.removeHits(f),this._interactionEvents.createDefaultHit(d,f),!0},gg.prototype._createParticipantHit=function(d,f){return this._interactionEvents.removeHits(f),this._interactionEvents.createBoxHit(f,"no-move",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"click-stroke",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"all",{width:30,height:d.height}),!0},gg.prototype._createSubProcessHit=function(d,f){return this._interactionEvents.removeHits(f),this._interactionEvents.createBoxHit(f,"no-move",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"click-stroke",{width:d.width,height:d.height}),this._interactionEvents.createBoxHit(f,"all",{width:d.width,height:30}),!0};var XS={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",gg]};function kp(d){d.invoke(U0,this)}Ye(kp,U0),kp.$inject=["injector"],kp.prototype.registerBindings=function(d,f){function m(g,b){f.isRegistered(g)&&d.addListener(b)}U0.prototype.registerBindings.call(this,d,f),m("selectElements",function(g){var b=g.keyEvent;if(d.isKey(["a","A"],b)&&d.isCmd(b))return f.trigger("selectElements"),!0}),m("find",function(g){var b=g.keyEvent;if(d.isKey(["f","F"],b)&&d.isCmd(b))return f.trigger("find"),!0}),m("spaceTool",function(g){var b=g.keyEvent;if(!d.hasModifier(b))return d.isKey(["s","S"],b)?(f.trigger("spaceTool"),!0):void 0}),m("lassoTool",function(g){var b=g.keyEvent;if(!d.hasModifier(b))return d.isKey(["l","L"],b)?(f.trigger("lassoTool"),!0):void 0}),m("handTool",function(g){var b=g.keyEvent;if(!d.hasModifier(b))return d.isKey(["h","H"],b)?(f.trigger("handTool"),!0):void 0}),m("globalConnectTool",function(g){var b=g.keyEvent;if(!d.hasModifier(b))return d.isKey(["c","C"],b)?(f.trigger("globalConnectTool"),!0):void 0}),m("directEditing",function(g){var b=g.keyEvent;if(!d.hasModifier(b))return d.isKey(["e","E"],b)?(f.trigger("directEditing"),!0):void 0}),m("replaceElement",function(g){var b=g.keyEvent;if(!d.hasModifier(b))return d.isKey(["r","R"],b)?(f.trigger("replaceElement",b),!0):void 0})};var Vk={__depends__:[Bu],__init__:["keyboardBindings"],keyboardBindings:["type",kp]},f4={moveSpeed:1,moveSpeedAccelerated:10},zk={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},QS={left:function(d){return{x:-d,y:0}},up:function(d){return{x:0,y:-d}},right:function(d){return{x:d,y:0}},down:function(d){return{x:0,y:d}}};function h4(d,f,m,g,b){var _=this;this._config=de({},f4,d||{}),f.addListener(1500,function(x){var w=x.keyEvent,C=zk[w.key];if(C&&!f.isCmd(w)){var T=f.isShift(w);return _.moveSelection(C,T),!0}}),this.moveSelection=function(x,w){var C=b.get();if(C.length){var P=QS[x](this._config[w?"moveSpeedAccelerated":"moveSpeed"]);g.allowed("elements.move",{shapes:C})&&m.moveElements(C,P)}}}h4.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var Hk={__depends__:[Bu,Lu],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",h4]};function vg(d,f,m,g){this._dragging=g,this._rules=f;var b=this;d.on("resize.start",function(x){var w,T;T=(w=x.context).minBounds,void 0===w.resizeConstraints&&(void 0===T&&(T=b.computeMinResizeBox(w)),w.resizeConstraints={min:Xt(T)})}),d.on("resize.move",function(x){!function _(x,w){var M,A,I,V,W,H,T=x.shape,P=x.direction,O=x.resizeConstraints;x.delta=w,V=(I=w).x,W=I.y,H={x:(M=T).x,y:M.y,width:M.width,height:M.height},-1!==(A=P).indexOf("n")?(H.y=M.y+W,H.height=M.height-W):-1!==A.indexOf("s")&&(H.height=M.height+W),-1!==A.indexOf("e")?H.width=M.width+V:-1!==A.indexOf("w")&&(H.x=M.x+V,H.width=M.width-V),x.newBounds=function(M,A){if(!A)return M;var I=Xt(M);return Zn({top:pg("top",I,A),right:pg("right",I,A),bottom:pg("bottom",I,A),left:pg("left",I,A)})}(H,O),x.canExecute=b.canResize(x)}(x.context,{x:x.dx,y:x.dy})}),d.on("resize.end",function(x){!function(w){var O,M,C=w.shape,P=w.newBounds;if(w.canExecute){if(O=C,M=P=NO(P),O.x===M.x&&O.y===M.y&&O.width===M.width&&O.height===M.height)return;m.resizeShape(C,P)}}(x.context)})}function ZS(d,f){var m=hn(d),g=Xt(d),b={x:m.x,y:m.y};return-1!==f.indexOf("n")?b.y=g.top:-1!==f.indexOf("s")&&(b.y=g.bottom),-1!==f.indexOf("e")?b.x=g.right:-1!==f.indexOf("w")&&(b.x=g.left),b}function Uk(d){var f="resize-";return"n"===d||"s"===d?f+"ns":"e"===d||"w"===d?f+"ew":"nw"===d||"se"===d?f+"nwse":f+"nesw"}vg.prototype.canResize=function(d){var f=this._rules,m=It(d,["newBounds","shape","delta","direction"]);return f.allowed("shape.resize",m)},vg.prototype.activate=function(d,f,m){var g,b,_=this._dragging;if("string"==typeof m&&(m={direction:m}),!(b=(g=de({shape:f},m)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");_.init(d,ZS(f,b),"resize",{autoActivate:!0,cursor:Uk(b),data:{shape:f,context:g}})},vg.prototype.computeMinResizeBox=function(d){var m,g,b,_,x,w,C,f=d.shape;return m=d.direction,g=f,b=d.minDimensions||{width:10,height:10},_=$S(f,d.childrenBoxPadding),x=Xt(g),w={top:/n/.test(m)?x.bottom-b.height:x.top,left:/w/.test(m)?x.right-b.width:x.left,bottom:/s/.test(m)?x.top+b.height:x.bottom,right:/e/.test(m)?x.left+b.width:x.right},C=_?Xt(_):w,Zn({top:dg(w.top,C.top),left:dg(w.left,C.left),bottom:Ah(w.bottom,C.bottom),right:Ah(w.right,C.right)})},vg.$inject=["eventBus","rules","modeling","dragging"];var m4="djs-resizing",Gk="resize-not-ok";function qk(d,f,m){d.on("resize.move",500,function(g){var b,_,x,w;_=(b=g.context).shape,x=b.newBounds,(w=b.frame)||(w=b.frame=m.addFrame(_,f.getActiveLayer()),f.addMarker(_,m4)),x.width>5&&_t(w,{x:x.x,width:x.width}),x.height>5&&_t(w,{y:x.y,height:x.height}),b.canExecute?kn(w).remove(Gk):kn(w).add(Gk)}),d.on("resize.cleanup",function(g){var b,_;_=(b=g.context).shape,b.frame&&hi(b.frame),f.removeMarker(_,m4)})}qk.$inject=["eventBus","canvas","previewSupport"];var yg="djs-resizer",Wk=["n","w","s","e","nw","ne","se","sw"];function J0(d,f,m,g){this._resize=g,this._canvas=f;var b=this;d.on("selection.changed",function(_){var x=_.newSelection;b.removeResizers(),1===x.length&&ge(x,Ze(b.addResizer,b))}),d.on("shape.changed",function(_){var x=_.element;m.isSelected(x)&&(b.removeResizers(),b.addResizer(x))})}J0.prototype.makeDraggable=function(d,f,m){var g=this._resize;function b(_){H0(_)&&g.activate(_,d,m)}Qt.bind(f,"mousedown",b),Qt.bind(f,"touchstart",b)},J0.prototype._createResizer=function(d,f,m,g){var T,P,b=this._getResizersParent(),_=(P={x:0,y:0},-1!==(T=g).indexOf("e")?P.x=6:-1!==T.indexOf("w")&&(P.x=-6),-1!==T.indexOf("s")?P.y=6:-1!==T.indexOf("n")&&(P.y=-6),P),x=Mt("g");kn(x).add(yg),kn(x).add(yg+"-"+d.id),kn(x).add(yg+"-"+g),nn(b,x);var w=Mt("rect");_t(w,{x:-4+_.x,y:-4+_.y,width:8,height:8}),kn(w).add(yg+"-visual"),nn(x,w);var C=Mt("rect");return _t(C,{x:-10+_.x,y:-10+_.y,width:20,height:20}),kn(C).add(yg+"-hit"),nn(x,C),nh(x,f,m),x},J0.prototype.createResizer=function(d,f){var m=ZS(d,f),g=this._createResizer(d,m.x,m.y,f);this.makeDraggable(d,g,f)},J0.prototype.addResizer=function(d){var f=this;!vi(d)&&this._resize.canResize({shape:d})&&ge(Wk,function(m){f.createResizer(d,m)})},J0.prototype.removeResizers=function(){T0(this._getResizersParent())},J0.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},J0.$inject=["eventBus","canvas","selection","resize"];var g4={__depends__:[ys,W0,ig],__init__:["resize","resizePreview","resizeHandles"],resize:["type",vg],resizePreview:["type",qk],resizeHandles:["type",J0]};function bg(d,f,m,g,b,_,x){function w(C,T){(T||Un(C,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||v4(C))&&g.activate(C)}this._bpmnFactory=f,this._canvas=m,this._modeling=b,this._textRenderer=x,g.registerProvider(this),d.on("element.dblclick",function(C){w(C.element,!0)}),d.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){g.isActive()&&g.complete()}),d.on(["shape.remove","connection.remove"],2e3,function(C){g.isActive(C.element)&&g.cancel()}),d.on(["commandStack.changed"],function(C){g.isActive()&&g.cancel()}),d.on("directEditing.activate",function(C){_.removeResizers()}),d.on("create.end",500,function(C){var T=C.context;C.isTouch||C.context.canExecute&&(T.hints&&!1===T.hints.createElementsBehavior||w(T.shape))}),d.on("autoPlace.end",500,function(C){w(C.shape)})}function v4(d){return Y(d,"bpmn:SubProcess")&&!lr(d)}bg.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],bg.prototype.activate=function(d){var f=zi(d);if(void 0!==f){var m={text:f};de(m,this.getEditingBBox(d));var g={};return(Un(d,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||v4(d))&&de(g,{centerVertically:!0}),dt(d)&&de(g,{autoResize:!0}),Y(d,"bpmn:TextAnnotation")&&de(g,{resizable:!0,autoResize:!0}),de(m,{options:g}),m}},bg.prototype.getEditingBBox=function(d){var oe,f=this._canvas,m=d.label||d,g=f.getAbsoluteBBox(m),b=g.x+g.width/2,_=g.y+g.height/2,x={x:g.x,y:g.y},w=f.zoom(),C=this._textRenderer.getDefaultStyle(),T=this._textRenderer.getExternalStyle(),P=T.fontSize*w,O=T.lineHeight,M=C.fontSize*w,A=C.lineHeight,I={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(Y(d,"bpmn:Lane")||Y(oe=d,"bpmn:Participant")&&lr(oe))&&(de(x,{width:g.height,height:30*w,x:g.x-g.height/2+15*w,y:_-30*w/2}),de(I,{fontSize:M+"px",lineHeight:A,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px",transform:"rotate(-90deg)"})),(Un(d,["bpmn:Task","bpmn:CallActivity"])||function(oe){return Y(oe,"bpmn:Participant")&&!lr(oe)}(d)||v4(d))&&(de(x,{width:g.width,height:g.height}),de(I,{fontSize:M+"px",lineHeight:A,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px"})),function(oe){return Y(oe,"bpmn:SubProcess")&&lr(oe)}(d)&&(de(x,{width:g.width,x:g.x}),de(I,{fontSize:M+"px",lineHeight:A,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px"}));var V=90*w,W=7*w,H=4*w;if(m.labelTarget&&(de(x,{width:V,height:g.height+W+H,x:b-V/2,y:g.y-W}),de(I,{fontSize:P+"px",lineHeight:O,paddingTop:W+"px",paddingBottom:H+"px"})),dt(m)&&!Zt(m)&&!vr(m)){var z=Ya(d),Q=f.getAbsoluteBBox({x:z.x,y:z.y,width:0,height:0}),J=P+W+H;de(x,{width:V,height:J,x:Q.x-V/2,y:Q.y-J/2}),de(I,{fontSize:P+"px",lineHeight:O,paddingTop:W+"px",paddingBottom:H+"px"})}return Y(d,"bpmn:TextAnnotation")&&(de(x,{width:g.width,height:g.height,minWidth:30*w,minHeight:10*w}),de(I,{textAlign:"left",paddingTop:5*w+"px",paddingBottom:7*w+"px",paddingLeft:7*w+"px",paddingRight:5*w+"px",fontSize:M+"px",lineHeight:A})),{bounds:x,style:I}},bg.prototype.update=function(d,f,m,g){var b,_,x;Y(d,"bpmn:TextAnnotation")&&(_=this._canvas.getAbsoluteBBox(d),b={x:d.x,y:d.y,width:d.width/_.width*g.width,height:d.height/_.height*g.height}),(x=f)&&x.trim()||(f=null),this._modeling.updateLabel(d,f,b)};var JS="djs-element-hidden",e7="djs-label-hidden";function t7(d,f,m){var g,b,_,x=this,w=f.getDefaultLayer();d.on("directEditing.activate",function(C){var T=C.active;if(Y(g=T.element.label||T.element,"bpmn:TextAnnotation")){b=f.getAbsoluteBBox(g),_=Mt("g");var P=m.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:g.width,containerHeight:g.height,position:{mx:0,my:0}}),O=x.path=Mt("path");_t(O,{d:P,strokeWidth:2,stroke:Xk(g)}),nn(_,O),nn(w,_),ds(_,g.x,g.y)}Y(g,"bpmn:TextAnnotation")||g.labelTarget?f.addMarker(g,JS):(Y(g,"bpmn:Task")||Y(g,"bpmn:CallActivity")||Y(g,"bpmn:SubProcess")||Y(g,"bpmn:Participant"))&&f.addMarker(g,e7)}),d.on("directEditing.resize",function(C){if(Y(g,"bpmn:TextAnnotation")){var O=Math.max(g.height/b.height*(C.height+C.dy),0),M=m.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:g.width,containerHeight:O,position:{mx:0,my:0}});_t(x.path,{d:M})}}),d.on(["directEditing.complete","directEditing.cancel"],function(C){var T=C.active;T&&(f.removeMarker(T.element.label||T.element,JS),f.removeMarker(g,e7)),g=void 0,b=void 0,_&&(hi(_),_=void 0)})}function Xk(d,f){return ur(d).get("stroke")||f||"black"}t7.$inject=["eventBus","canvas","pathMap"];var y4={__depends__:[v_,g4,Ck],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",bg],labelEditingPreview:["type",t7]},n7=["top","bottom","left","right"];function _g(d,f){function m(g){if(Zt(g)){var b=function(_){var A,I,x=hn(_.label),C=Yk(hn(_),x);if(-1!==n7.indexOf(C)){var P=(I=hn(A=_),[].concat(A.incoming.map(function(W){return W.waypoints[W.waypoints.length-2]}),A.outgoing.map(function(W){return W.waypoints[1]})).map(function(W){return Yk(I,W)}));if(_.host){var O=function(A){var I,V=A.host,H=Kr(hn(A),V);return I=H.indexOf("-")>=0?H.split("-"):[H],n7.filter(function(Q){return-1===I.indexOf(Q)})}(_);P=P.concat(O)}var M=n7.filter(function(A){return-1===P.indexOf(A)});if(-1===M.indexOf(C))return M[0]}}(g);b&&function(_,x){var w=hn(_),C=_.label,T=hn(C);if(C.parent){var P,O=Xt(_);switch(x){case"top":P={x:w.x,y:O.top-10-C.height/2};break;case"left":P={x:O.left-10-C.width/2,y:w.y};break;case"bottom":P={x:w.x,y:O.bottom+10+C.height/2};break;case"right":P={x:O.right+10+C.width/2,y:w.y}}var M=lc(P,T);f.moveShape(C,M)}}(g,b)}}st.call(this,d),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(g){var b=g.context,_=b.connection,w=_.target;!1!==(b.hints||{}).createElementsBehavior&&(m(_.source),m(w))}),this.postExecuted(["label.create"],function(g){var b=g.context;!1!==(b.hints||{}).createElementsBehavior&&m(b.shape.labelTarget)}),this.postExecuted(["elements.create"],function(g){var b=g.context;!1!==(b.hints||{}).createElementsBehavior&&b.elements.forEach(function(x){m(x)})})}function Yk(d,f){return Kr(f,d,5)}function r7(d){st.call(this,d),this.preExecute("shape.append",function(f){var m=f.source,g=f.shape;f.position||(f.position=Y(g,"bpmn:TextAnnotation")?{x:m.x+m.width/2+75,y:m.y-50-g.height/2}:{x:m.x+m.width+80+g.width/2,y:m.y+m.height/2})},!0)}function i7(d,f){d.invoke(st,this),this.postExecute("shape.move",function(m){var g=m.newParent,b=m.shape;ge(Ot(b.incoming.concat(b.outgoing),function(_){return Y(_,"bpmn:Association")}),function(_){f.moveConnection(_,{x:0,y:0},g)})},!0)}function _4(d,f){f.invoke(st,this),this._bpmnReplace=d;var m=this;this.postExecuted("elements.create",500,function(g){var b=g.elements;1===(b=b.filter(function(_){return Kk(_,_.host)})).length&&b.map(function(_){return b.indexOf(_)}).forEach(function(_){g.elements[_]=m._replaceShape(b[_],b[_])})},!0),this.preExecute("elements.move",500,function(g){var b=g.shapes,_=g.newHost;if(1===b.length){var x=b[0];Kk(x,_)&&(g.shapes=[m._replaceShape(x,_)])}},!0)}function Kk(d,f){return!vr(d)&&Un(d,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!f}function E4(d,f){function m(g){return Ot(g.attachers,function(b){return Y(b,"bpmn:BoundaryEvent")})}st.call(this,d),this.postExecute("connection.create",function(g){var b=g.context.source,_=g.context.target,x=m(_);Y(b,"bpmn:EventBasedGateway")&&Y(_,"bpmn:ReceiveTask")&&x.length>0&&f.removeElements(x)}),this.postExecute("connection.reconnect",function(g){var _=g.context.newSource;Y(g.context.oldSource,"bpmn:Gateway")&&Y(_,"bpmn:EventBasedGateway")&&ge(_.outgoing,function(x){var w=x.target,C=m(w);Y(w,"bpmn:ReceiveTask")&&C.length>0&&f.removeElements(C)})})}function Lh(d){d.invoke(st,this),this.preExecute("shape.create",1500,function(f){var m=f.context,g=m.parent,b=m.shape;Y(g,"bpmn:Lane")&&!Y(b,"bpmn:Lane")&&(m.parent=j_(g,"bpmn:Participant"))})}function Fh(d,f){st.call(this,d),this.preExecute("shape.create",function(m){var g=m.context.shape;if(Y(g,"bpmn:DataObjectReference")&&"label"!==g.type){var b=f.create("bpmn:DataObject");g.businessObject.dataObjectRef=b}})}Ye(_g,st),_g.$inject=["eventBus","modeling"],Ye(r7,st),r7.$inject=["eventBus"],Ye(i7,st),i7.$inject=["injector","modeling"],_4.$inject=["bpmnReplace","injector"],Ye(_4,st),_4.prototype._replaceShape=function(d,f){var m,g=(m=yt(d).eventDefinitions)&&m[0],b={type:"bpmn:BoundaryEvent",host:f};return g&&(b.eventDefinitionType=g.$type),this._bpmnReplace.replaceElement(d,b,{layoutConnection:!1})},E4.$inject=["eventBus","modeling"],Ye(E4,st),Lh.$inject=["injector"],Ye(Lh,st),Fh.$inject=["eventBus","bpmnFactory"],Ye(Fh,st);function w4(d,f,m){function g(){var b=d.getRootElement();return Y(b,"bpmn:Collaboration")?b:m.makeCollaboration()}st.call(this,f),f.on(["create.start","shape.move.start"],2e3,function(b){var O,M,_=b.context,x=_.shape,w=d.getRootElement();if(Y(x,"bpmn:Participant")&&Y(w,"bpmn:Process")&&w.children.length){var C=w.children.filter(function(O){return!Y(O,"bpmn:Group")&&!vr(O)&&!vi(O)});if(C.length){var T=ri(C),P=function(O,M){M={width:M.width+40+30,height:M.height+40};var A=Math.max(O.width,M.width),I=Math.max(O.height,M.height);return{x:-A/2,y:-I/2,width:A,height:I}}(x,T);de(x,P),_.createConstraints=(O=x,{bottom:(M=Xt(M=T)).top+O.height/2-20,left:M.right-O.width/2+20,top:M.bottom-O.height/2+20,right:M.left+O.width/2-20-30})}}}),f.on("create.start",2e3,function(b){var _=b.context.shape,x=d.getRootElement(),w=d.getGraphics(x);function C(T){T.element=x,T.gfx=w}Y(_,"bpmn:Participant")&&Y(x,"bpmn:Process")&&(f.on("element.hover",2e3,C),f.once("create.cleanup",function(){f.off("element.hover",C)}))}),this.preExecute("elements.create",2e3,function(b){var _,w=b.parent,C=ln(b.elements,function(P){return Y(P,"bpmn:Participant")});C&&Y(w,"bpmn:Process")&&(b.parent=g(),(_=b.hints=b.hints||{}).participant=C,_.process=w,_.processRef=yt(C).get("processRef"))},!0),this.preExecute("shape.create",function(b){var _=b.parent,x=b.shape;Y(x,"bpmn:Participant")&&Y(_,"bpmn:Process")&&(b.parent=g(),b.process=_,b.processRef=yt(x).get("processRef"))},!0),this.execute("shape.create",function(b){var _=b.hints||{},x=b.process||_.process,w=b.shape,C=_.participant;!x||C&&w!==C||yt(w).set("processRef",yt(x))},!0),this.revert("shape.create",function(b){var _=b.hints||{},w=b.processRef||_.processRef,C=b.shape,T=_.participant;!b.process&&!_.process||T&&C!==T||yt(C).set("processRef",w)},!0),this.postExecute("shape.create",function(b){var x=b.process||b.hints.process,w=b.shape,C=(b.hints||{}).participant;if(x){var T=x.children.slice();C?w===C&&m.moveElements(T,{x:0,y:0},C):m.moveElements(T,{x:0,y:0},w)}},!0)}w4.$inject=["canvas","eventBus","modeling"],Ye(w4,st);var S4="__targetRef_placeholder";function ed(d,f){function m(_,x){var w=_.get("properties"),C=ln(w,function(T){return T.name===S4});return!C&&x&&K(w,C=f.create("bpmn:Property",{name:S4})),C}function g(_,x){var T,P,w=m(_);w&&(T=w,P=x,ln(_.get("dataInputAssociations"),function(O){return O!==P&&O.targetRef===T})||Vi(_.get("properties"),w))}function b(_){var x,w=_.context,C=w.connection,T=C.businessObject,P=C.target,O=P&&P.businessObject,M=w.newTarget,A=M&&M.businessObject,I=w.oldTarget||w.target,V=I&&I.businessObject,W=C.businessObject;V&&V!==O&&g(V,T),A&&A!==O&&g(A,T),O?(x=m(O,!0),W.targetRef=x):W.targetRef=null}st.call(this,d),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],Ca(b)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],Ca(b))}function Ca(d){return function(f){if(Y(f.context.connection,"bpmn:DataInputAssociation"))return d(f)}}function Da(d){this._bpmnUpdater=d}function W2(d,f,m,g){function b(x){return x.children.filter(function(w){return Y(w,"bpmn:DataStoreReference")&&!w.labelTarget})}function _(x,w){var C=x.businessObject||x;if(w=w||m.filter(function(P){return Y(P,"bpmn:Participant")&&yt(P).processRef})[0]){var T=w.businessObject||w;f.execute("dataStore.updateContainment",{dataStoreBo:C,dataStoreDi:ur(x),newSemanticParent:T.processRef||T,newDiParent:ur(w)})}}st.call(this,g),f.registerHandler("dataStore.updateContainment",Da),this.preExecute("shape.create",function(x){var w=x.context,C=w.shape;Y(C,"bpmn:DataStoreReference")&&"label"!==C.type&&(w.hints||(w.hints={}),w.hints.autoResize=!1)}),this.preExecute("elements.move",function(x){var w=x.context,C=w.shapes;C.filter(function(T){return Y(T,"bpmn:DataStoreReference")}).length&&(w.hints||(w.hints={}),w.hints.autoResize=C.filter(function(T){return!Y(T,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(x){var w=x.context.shape,C=w.parent;Y(w,"bpmn:DataStoreReference")&&"label"!==w.type&&Y(C,"bpmn:Collaboration")&&_(w)}),this.postExecute("shape.move",function(x){var w=x.context,C=w.shape,T=w.oldParent,P=C.parent;Y(T,"bpmn:Collaboration")||Y(C,"bpmn:DataStoreReference")&&"label"!==C.type&&Y(P,"bpmn:Collaboration")&&_(C,Y(T,"bpmn:Participant")?T:function(O,M){for(;O.parent;){if(Y(O.parent,"bpmn:Participant"))return O.parent;O=O.parent}}(T))}),this.postExecute("shape.delete",function(x){var w=x.context.shape,C=d.getRootElement();Un(w,["bpmn:Participant","bpmn:SubProcess"])&&Y(C,"bpmn:Collaboration")&&b(C).filter(function(T){return function(P,O){for(var M=P.businessObject||P,A=O.businessObject||O;M.$parent;){if(M.$parent===A.processRef||A)return!0;M=M.$parent}return!1}(T,w)}).forEach(function(T){_(T)})}),this.postExecute("canvas.updateRoot",function(x){var w=x.context,T=w.newRoot;b(w.oldRoot).forEach(function(P){Y(T,"bpmn:Process")&&_(P,T)})})}function o7(d,f){st.call(this,d),this.postExecuted("shape.delete",500,function(m){var w,T,P,O,M,A,I,g=m.context,b=g.hints,_=g.shape,x=g.oldParent;Y(_,"bpmn:Lane")&&(b&&b.nested||(w=_,M=Tp(x),A=[],I=[],Nc(M,function(V){return V.y>w.y?I.push(V):A.push(V),V.children}),M.length&&(T=I.length&&A.length?w.height/2:w.height,A.length&&(P=f.calculateAdjustments(A,"y",T,w.y-10),f.makeSpace(P.movingShapes,P.resizingShapes,{x:0,y:T},"s")),I.length&&(O=f.calculateAdjustments(I,"y",-T,w.y+w.height+10),f.makeSpace(O.movingShapes,O.resizingShapes,{x:0,y:-T},"n")))))})}function X2(d,f){f.invoke(st,this),this._bpmnReplace=d;var m=this;this.postExecuted("elements.create",500,function(g){var b=g.elements;b.filter(function(_){return Qk(_,_.host)}).map(function(_){return b.indexOf(_)}).forEach(function(_){g.elements[_]=m._replaceShape(b[_])})},!0),this.preExecute("elements.move",500,function(g){var b=g.shapes,_=g.newHost;b.forEach(function(x,w){var T=x.host;Qk(x,-1!==b.indexOf(T)?T:_)&&(b[w]=m._replaceShape(x))})},!0)}function Qk(d,f){return!vr(d)&&Y(d,"bpmn:BoundaryEvent")&&!f}function s7(d,f,m){function g(b,_,x){var w,C,T,O,M,A,I,V=_.waypoints,W=b.outgoing.slice(),H=b.incoming.slice(),z=ts(V,I=at(x.width)?hn(x):x);if(z){if(w=V.slice(0,z.index),C=V.slice(z.index+(z.bendpoint?1:0)),!w.length||!C.length)return;T=z.bendpoint?V[z.index]:I,1!==w.length&&C4(b,w[w.length-1])||w.push(D4(T)),1!==C.length&&C4(b,C[0])||C.unshift(D4(T))}O=_.target,f.canConnect(_.source,b,_)&&(m.reconnectEnd(_,b,w||I),M=_),f.canConnect(b,O,_)&&(M?A=m.connect(b,O,{type:_.type,waypoints:C}):(m.reconnectStart(_,b,C||I),A=_));var Q=[].concat(M&&Ot(H,function(J){return J.source===M.source})||[],A&&Ot(W,function(J){return J.target===A.target})||[]);Q.length&&m.removeElements(Q)}st.call(this,d),this.preExecute("elements.move",function(b){var _=b.newParent,x=b.shapes,w=b.delta,C=x[0];if(C&&_){_&&_.waypoints&&(b.newParent=_=_.parent);var T=hn(C),P={x:T.x+w.x,y:T.y+w.y},O=ln(_.children,function(M){return f.canInsert(x,M)&&ts(M.waypoints,P)});O&&(b.targetFlow=O,b.position=P)}},!0),this.postExecuted("elements.move",function(b){var x=b.targetFlow;x&&g(b.shapes[0],x,b.position)},!0),this.preExecute("shape.create",function(b){var _=b.parent;f.canInsert(b.shape,_)&&(b.targetFlow=_,b.parent=_.parent)},!0),this.postExecuted("shape.create",function(b){var x=b.targetFlow;x&&g(b.shape,x,b.position)},!0)}function C4(d,f){var m=f.x,g=f.y;return m>=d.x&&m<=d.x+d.width&&g>=d.y&&g<=d.y+d.height}function D4(d){return de({},d)}function a7(d,f){st.call(this,d),this.preExecuted("connection.create",function(m){var g=m.context,b=g.connection,_=g.source,x=g.target,w=g.hints;(!w||!1!==w.createElementsBehavior)&&nl(b)&&(Y(_,"bpmn:EventBasedGateway")?x.incoming.filter(C=>C!==b&&nl(C)):x.incoming.filter(C=>C!==b&&nl(C)&&Y(C.source,"bpmn:EventBasedGateway"))).forEach(function(C){f.removeConnection(C)})}),this.preExecuted("shape.replace",function(m){var g=m.context.newShape;Y(g,"bpmn:EventBasedGateway")&&g.outgoing.filter(nl).reduce(function(b,_){return b.includes(_.target)?b:b.concat(_.target)},[]).forEach(function(b){b.incoming.filter(nl).forEach(function(_){const x=b.incoming.filter(nl).filter(function(w){return w.source===g});(_.source!==g||x.length>1)&&f.removeConnection(_)})})})}function nl(d){return Y(d,"bpmn:SequenceFlow")}ed.$inject=["eventBus","bpmnFactory"],Ye(ed,st),Da.$inject=["bpmnUpdater"],Da.prototype.execute=function(d){var f=d.dataStoreBo,m=d.dataStoreDi,g=d.newSemanticParent,b=d.newDiParent;return d.oldSemanticParent=f.$parent,d.oldDiParent=m.$parent,this._bpmnUpdater.updateSemanticParent(f,g),this._bpmnUpdater.updateDiParent(m,b),[]},Da.prototype.revert=function(d){var m=d.dataStoreDi,b=d.oldDiParent;return this._bpmnUpdater.updateSemanticParent(d.dataStoreBo,d.oldSemanticParent),this._bpmnUpdater.updateDiParent(m,b),[]},W2.$inject=["canvas","commandStack","elementRegistry","eventBus"],Ye(W2,st),o7.$inject=["eventBus","spaceTool"],Ye(o7,st),X2.$inject=["bpmnReplace","injector"],Ye(X2,st),X2.prototype._replaceShape=function(d){var m,g=(m=yt(d).eventDefinitions)&&m[0];return this._bpmnReplace.replaceElement(d,g?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:g.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},Ye(s7,st),s7.$inject=["eventBus","bpmnRules","modeling"],a7.$inject=["eventBus","modeling"],Ye(a7,st);function Y2(d,f,m){f.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(g){var b=g.context.shape||g.shape,_=g.hover;Y(_,"bpmn:Lane")&&!Un(b,["bpmn:Lane","bpmn:Participant"])&&(g.hover=dc(_),g.hoverGfx=d.getGraphics(g.hover));var x=m.getRootElement();_!==x&&(b.labelTarget||Y(b,"bpmn:Group"))&&(g.hover=x,g.hoverGfx=d.getGraphics(g.hover))}),f.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(g){var b=g.hover;Y(b,"bpmn:Lane")&&(g.hover=dc(b)||b,g.hoverGfx=d.getGraphics(g.hover))}),f.on(["bendpoint.move.hover"],1500,function(g){var _=g.hover,x=g.context.type;Y(_,"bpmn:Lane")&&/reconnect/.test(x)&&(g.hover=dc(_)||_,g.hoverGfx=d.getGraphics(g.hover))}),f.on(["connect.start"],1500,function(g){var b=g.context,_=b.start;Y(_,"bpmn:Lane")&&(b.start=dc(_)||_)}),f.on("shape.move.start",2e3,function(g){var b=g.shape;Y(b,"bpmn:Lane")&&(g.shape=dc(b)||b)}),f.on("spaceTool.move",2e3,function(g){var b=g.hover;b&&Y(b,"bpmn:Lane")&&(g.hover=dc(b))})}function T4(d,f,m,g,b,_){function x(O,M,A){var W,I=m.filter(function(V){return Y(V,"bpmn:Group")}).filter(function(V){return V.businessObject!==A});M&&(W=M,!I.some(function(H){var z=yt(H);return(z.categoryValueRef&&z.categoryValueRef.$parent)===W}))&&function(V){var W=V.$parent;W&&(Vi(W.get("rootElements"),V),V.$parent=null)}(M),O&&!function(V,W){return V.some(function(H){return yt(H).categoryValueRef===W})}(I,O)&&function(V){var W=V.$parent;W&&(Vi(W.get("categoryValue"),V),V.$parent=null)}(O)}function w(O,M){return A=O,I=M,V=f.getDefinitions(),K(I.get("categoryValue"),A),A.$parent=I,K(V.get("rootElements"),I),I.$parent=V,A;var A,I,V}function C(O,M){var A=yt(O),I=A.categoryValueRef;I||(I=A.categoryValueRef=M.categoryValue=M.categoryValue||d.create("bpmn:CategoryValue"));var V=I.$parent;V||(V=I.$parent=M.category=M.category||d.create("bpmn:Category")),w(I,V,f.getDefinitions())}function T(O,M){var A=M.category,I=M.categoryValue,V=yt(O);I?(V.categoryValueRef=null,x(I,A,V)):x(null,V.categoryValueRef.$parent,V)}function P(O,M){var A=d.create(O.$type);return _.copyElement(O,A,null,M)}b.invoke(st,this),this.execute("label.create",function(O){var M=O.context,A=M.labelTarget;Y(A,"bpmn:Group")&&C(A,M)}),this.revert("label.create",function(O){var M=O.context,A=M.labelTarget;Y(A,"bpmn:Group")&&T(A,M)}),this.execute("shape.delete",function(O){var M=O.context,A=M.shape,I=yt(A);if(Y(A,"bpmn:Group")&&!A.labelTarget){var V=M.categoryValue=I.categoryValueRef;V&&(x(V,M.category=V.$parent,I),I.categoryValueRef=null)}}),this.reverted("shape.delete",function(O){var M=O.context,A=M.shape;if(Y(A,"bpmn:Group")&&!A.labelTarget){var I=M.category,V=M.categoryValue,W=yt(A);V&&(W.categoryValueRef=V,w(V,I))}}),this.execute("shape.create",function(O){var M=O.context,A=M.shape;Y(A,"bpmn:Group")&&!A.labelTarget&&yt(A).categoryValueRef&&C(A,M)}),this.reverted("shape.create",function(O){var M=O.context,A=M.shape;Y(A,"bpmn:Group")&&!A.labelTarget&&yt(A).categoryValueRef&&T(A,M)}),g.on("copyPaste.copyElement",770,function(O){var M=O.descriptor,A=O.element;if(Y(A,"bpmn:Group")&&!A.labelTarget){var I=yt(A);if(I.categoryValueRef){var V=I.categoryValueRef;M.categoryValue=P(V,!0),V.$parent&&(M.category=P(V.$parent,!0))}}}),g.on("copyPaste.pasteElement",770,function(O){var M=O.descriptor,I=M.categoryValue,V=M.category;I&&(I=M.businessObject.categoryValueRef=P(I)),V&&(I.$parent=P(V)),delete M.category,delete M.categoryValue})}function td(d,f,m,g){var b,w;return 0==(b=(g.y-m.y)*(f.x-d.x)-(g.x-m.x)*(f.y-d.y))?null:(w=((g.x-m.x)*(d.y-m.y)-(g.y-m.y)*(d.x-m.x))/b,{x:Math.round(d.x+w*(f.x-d.x)),y:Math.round(d.y+w*(f.y-d.y))})}function K2(d){function f(m,g,b){var _,w={x:b.x-50,y:b.y},C=td(m,g,b,{x:b.x,y:b.y-50}),T=td(m,g,b,w);_=C&&T?P4(C,b)>P4(T,b)?T:C:C||T,m.original=_}d.on("bpmnElement.added",function(m){var g,b,_=m.element;_.waypoints&&(f((b=(g=_).waypoints)[0],b[1],hn(g.source)),f(b[b.length-1],b[b.length-2],hn(g.target)))})}function P4(d,f){return Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2))}function xg(d){st.call(this,d);var f=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(m){var g=m.context.shape,b=yt(g),_=ur(g);Un(b,f)&&!_.get("isHorizontal")&&_.set("isHorizontal",!0)})}Y2.$inject=["elementRegistry","eventBus","canvas"],T4.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],Ye(T4,st),K2.$inject=["eventBus"],xg.$inject=["eventBus"],Ye(xg,st);var wg=Math.sqrt,l7=Math.min,Zk=Math.max,O4=Math.abs;function c7(d){return Math.pow(d,2)}function Sg(d,f){return wg(c7(d.x-f.x)+c7(d.y-f.y))}function Jk(d,f,m,g){var b=f.x-d.x,_=f.y-d.y,x=m.x-d.x,w=m.y-d.y,C=b*b+_*_,T=(b*x+_*w)/C,P=T*T-(x*x+w*w-g*g)/C;if(P<0&&P>-1e-6&&(P=0),P<0)return[];var O=wg(P),M=-T+O,A=-T-O,I={x:d.x-b*M,y:d.y-_*M};return 0===P?[I]:[I,{x:d.x-b*A,y:d.y-_*A}].filter(function(V){return k4((W=V).x,(H=d).x,(z=f).x)&&k4(W.y,H.y,z.y);var W,H,z})}function k4(d,f,m){return d>=l7(f,m)-nd&&d<=Zk(f,m)+nd}var nd=.1;function Cg(d,f){return O4(d.x-f.x)<=nd&&O4(d.y-f.y)<=nd}function Q2(d,f,m,g){var b=0,_=0,x={point:d,delta:{x:0,y:0}},w=function(Ne,Yt){var mt,Ve,Qe,dn,ue,G,xe,He,Je,Nt,Vt,qt,wt=0;for(wt=0;wt<Yt.length-1;wt++){if(Cg(mt=Yt[wt],Ve=Yt[wt+1])?G=[mt]:(Qe=Sg(Ne,mt),dn=Sg(Ne,Ve),G=Jk(mt,Ve,Ne,l7(Qe,dn))),G.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===G.length&&(xe={type:"bendpoint",position:G[0],segmentIndex:wt,bendpointIndex:Cg(mt,G[0])?wt:wt+1}),2===G.length&&(xe={type:"segment",position:ue={x:((Vt=G[0]).x+(qt=G[1]).x)/2,y:(Vt.y+qt.y)/2},segmentIndex:wt,relativeLocation:Sg(mt,ue)/Sg(mt,Ve)}),He=Sg(xe.position,Ne),(!Nt||Je>He)&&(Nt=xe,Je=He)}return Nt}(d,m),C=w.segmentIndex,T=function(Ne,Yt,mt,Ve){var Qe=mt.segmentIndex,dn=Yt.length-Ne.length;if(Ve.segmentMove){var G=Ve.segmentMove.newSegmentStartIndex;return Qe===Ve.segmentMove.segmentStartIndex?G:Qe>=G?Qe+dn<G?G:Qe+dn:Qe}if(Ve.bendpointMove){var xe,He=Ve.bendpointMove.insert,Je=Ve.bendpointMove.bendpointIndex;return 0===dn?Qe:(Qe>=Je&&(xe=He?Qe+1:Qe-1),Qe<Je&&(xe=Qe,He&&"bendpoint"!==mt.type&&Je-1===Qe&&u7(Yt,Je)<mt.relativeLocation&&xe++),xe)}return 0===dn?Qe:Ve.connectionStart&&0===Qe?0:Ve.connectionEnd&&Qe===Ne.length-2?Yt.length-2:Math.floor((Yt.length-2)/2)}(m,f,w,g);if(T<0||T>f.length-2||null===T)return x;var P,O,Ne,Yt,mt,Ve,M=d7(m,C),A=d7(f,T),I=w.position,V=(Yt=I,mt=Q1((Ne=M)[0],Ne[1]),Ve=Q1(Ne[0],Yt),0===mt?0:Ve/mt),W=(P=A,O=k2(M),k2(P)-O);if("bendpoint"===w.type){var H=f.length-m.length,z=w.bendpointIndex;if(-1!==f.indexOf(m[z]))return x;if(0===H){var J=f[z];return{delta:{x:b=J.x-w.position.x,y:_=J.y-w.position.y},point:{x:d.x+b,y:d.y+_}}}H<0&&0!==z&&z<m.length-1&&(V=u7(m,z))}var oe,Oe,Ee={x:(A[1].x-A[0].x)*V+A[0].x,y:(A[1].y-A[0].y)*V+A[0].y},De=(oe={x:d.x-I.x,y:d.y-I.y},(Oe=W)?{x:Math.cos(Oe)*oe.x-Math.sin(Oe)*oe.y,y:Math.sin(Oe)*oe.x+Math.cos(Oe)*oe.y}:oe);return b=Ee.x+De.x-d.x,_=Ee.y+De.y-d.y,{point:I0(Ee),delta:I0({x:b,y:_})}}function u7(d,f){var m=Q1(d[f-1],d[f]);return m/(m+Q1(d[f],d[f+1]))}function d7(d,f){return[d[f],d[f+1]]}function Rp(d,f,m){var g=N1(f),b=N1(m),_=lc(d,g);return I0({x:b.x+_.x*(m.width/f.width),y:b.y+_.y*(m.height/f.height)})}function M4(d,f,m){var g=N1(d),b=N1(f),_=N1(m),x=lc(d,g),w=lc(g,b);return function(A,I,V){var Oe,Ee,De,Ne,W=Xt(I),H=Xt(V);if((De=Oe=W).right!==(Ne=Ee=H).right&&De.left!==Ne.left||function(De,Ne){return De.top!==Ne.top&&De.bottom!==Ne.bottom}(Oe,Ee))return null;var z,oe=Kr(I,A);if("top"===oe)z={x:0,y:H.bottom-W.bottom};else if("bottom"===oe)z={x:0,y:H.top-W.top};else if("right"===oe)z={x:H.left-W.left,y:0};else{if("left"!==oe)return null;z={x:H.right-W.right,y:0}}return Kr(V,{x:A.x+z.x,y:A.y+z.y})!==oe?null:z}(g,f,m)||I0({x:_.x+w.x*(m.width/f.width)+x.x-d.x,y:_.y+w.y*(m.height/f.height)+x.y-d.y})}function Z2(d,f,m,g){function b(x){var w=x.context,C=w.element,T=w.properties;if("name"in T&&f.updateLabel(C,T.name),"text"in T&&Y(C,"bpmn:TextAnnotation")){var P=g.getTextAnnotationBounds({x:C.x,y:C.y,width:C.width,height:C.height},T.text||"");f.updateLabel(C,T.text,P)}}st.call(this,d),this.postExecute("element.updateProperties",b),this.postExecute("element.updateModdleProperties",x=>{yt(x.context.element)===x.context.moddleElement&&b(x)}),this.postExecute(["shape.create","connection.create"],function(x){var w=x.context;if(!1!==(w.hints||{}).createElementsBehavior){var C=w.shape||w.connection;!vr(C)&&dt(C)&&zi(C)&&f.updateLabel(C,zi(C))}}),this.postExecute("shape.delete",function(x){var w=x.context,C=w.labelTarget;C&&!1!==(w.hints||{}).unsetLabel&&f.updateLabel(C,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(x){var w=x.context;if(!1!==(w.hints||{}).labelBehavior){var C,T=w.connection.label;T&&T.parent&&(C=function _(x){var I,V,W,w=x.context,C=w.connection,T=C.label,P=de({},w.hints),O=w.newWaypoints||C.waypoints,M=w.oldWaypoints;return void 0===P.startChanged&&(P.startChanged=!!P.connectionStart),void 0===P.endChanged&&(P.endChanged=!!P.connectionEnd),I=O,V=M,W=P,Q2(hn(T),I,V,W).delta}(x),f.moveShape(T,C))}}),this.postExecute(["shape.replace"],function(x){var w=x.context,C=w.newShape,T=w.oldShape,P=yt(C);P&&dt(P)&&T.label&&C.label&&(C.label.x=T.label.x,C.label.y=T.label.y)}),this.postExecute("shape.resize",function(x){var w,C=x.context,T=C.shape,P=C.newBounds,O=C.oldBounds;if(Zt(T)){var M=T.label,I=function eM(d,f,m){return I0(lc(Rp(d,f,m),d))}(function(V,W){var z;if(W.length)return wp(V,(z=V,Hr(W.map(function(oe){return{line:oe,distance:uS(z,oe)}}),"distance")[0].line))}(hn(M),[[{x:(w=O).x,y:w.y},{x:w.x+(w.width||0),y:w.y}],[{x:w.x+(w.width||0),y:w.y},{x:w.x+(w.width||0),y:w.y+(w.height||0)}],[{x:w.x,y:w.y+(w.height||0)},{x:w.x+(w.width||0),y:w.y+(w.height||0)}],[{x:w.x,y:w.y},{x:w.x,y:w.y+(w.height||0)}]]),O,P);f.moveShape(M,I)}})}function p7(d,f){function m(g,b){var _=g.context,x=_.connection,w=de({},_.hints),C=_.newWaypoints||x.waypoints,T=_.oldWaypoints;return void 0===w.startChanged&&(w.startChanged=!!w.connectionStart),void 0===w.endChanged&&(w.endChanged=!!w.connectionEnd),Q2(b,C,T,w).point}st.call(this,d),this.postExecute(["connection.layout","connection.updateWaypoints"],function(g){var b=g.context.connection,_=b.outgoing;b.incoming.forEach(function(x){var C=m(g,x.waypoints[x.waypoints.length-1]),T=[].concat(x.waypoints.slice(0,-1),[C]);f.updateWaypoints(x,T)}),_.forEach(function(x){var C=m(g,x.waypoints[0]),T=[].concat([C],x.waypoints.slice(1));f.updateWaypoints(x,T)})}),this.postExecute(["connection.move"],function(g){var b=g.context,_=b.connection,x=_.outgoing,C=b.delta;_.incoming.forEach(function(T){var P=T.waypoints[T.waypoints.length-1],O={x:P.x+C.x,y:P.y+C.y},M=[].concat(T.waypoints.slice(0,-1),[O]);f.updateWaypoints(T,M)}),x.forEach(function(T){var P=T.waypoints[0],M=[].concat([{x:P.x+C.x,y:P.y+C.y}],T.waypoints.slice(1));f.updateWaypoints(T,M)})})}function Ap(d,f,m){var g=jh(d),b=I4(g,f),_=g[0];return b.length?b[b.length-1]:Rp(_.original||_,m,f)}function J2(d,f,m){var g=jh(d),b=I4(g,f),_=g[g.length-1];return b.length?b[0]:Rp(_.original||_,m,f)}function eb(d,f,m){var g=jh(d),b=A4(f,m),_=g[0];return Rp(_.original||_,b,f)}function tb(d,f,m){var g=jh(d),b=A4(f,m),_=g[g.length-1];return Rp(_.original||_,b,f)}function A4(d,f){return{x:d.x-f.x,y:d.y-f.y,width:d.width,height:d.height}}function jh(d){var f=d.waypoints;if(!f.length)throw new Error("connection#"+d.id+": no waypoints");return f}function I4(d,f){return Ot(Er(d,nb),function(m){return"intersect"===Kr(f,m,1)})}function nb(d){return d.original||d}function Ip(d,f){st.call(this,d),this.postExecute("shape.replace",function(m){var P,O,g=m.oldShape,b=m.newShape;if(O=b,Y(P=g,"bpmn:Participant")&&lr(P)&&Y(O,"bpmn:Participant")&&!lr(O)){var _,x,w,C,T=(x=Lc([_=g],!1),w=[],C=[],x.forEach(function(P){P!==_&&(P.incoming.forEach(function(O){Y(O,"bpmn:MessageFlow")&&w.push(O)}),P.outgoing.forEach(function(O){Y(O,"bpmn:MessageFlow")&&C.push(O)}))},[]),{incoming:w,outgoing:C});T.incoming.forEach(function(P){var O=J2(P,b,g);f.reconnectEnd(P,b,O)}),T.outgoing.forEach(function(P){var O=Ap(P,b,g);f.reconnectStart(P,b,O)})}},!0)}function rb(d,f){st.call(this,d),this.preExecute("shape.resize",function(m){var g=m.shape,b=ur(g),_=b&&b.get("label");_&&_.get("bounds")&&f.updateModdleProperties(g,_,{bounds:void 0})},!0)}function Dg(d,f,m){st.call(this,d),this.preExecute("shape.delete",function(g){var C,T,P,b=g.context.shape;if(1===b.incoming.length&&1===b.outgoing.length){var _=b.incoming[0],x=b.outgoing[0];if(Y(_,"bpmn:SequenceFlow")&&Y(x,"bpmn:SequenceFlow")&&f.canConnect(_.source,x.target,_)){var w=(T=x.waypoints,(P=td(Qc((C=_.waypoints)[C.length-2]),Qc(C[C.length-1]),Qc(T[1]),Qc(T[0])))?[].concat(C.slice(0,C.length-1),[P],T.slice(1)):[Qc(C[0]),Qc(T[T.length-1])]);m.reconnectEnd(_,x.target,w)}}})}function Qc(d){return d.original||d}function ib(d,f){st.call(this,d),this.preExecute("shape.delete",function(m){var g=m.shape,b=g.parent;Y(g,"bpmn:Participant")&&(m.collaborationRoot=b)},!0),this.postExecute("shape.delete",function(m){var g=m.collaborationRoot;g&&!g.businessObject.participants.length&&f.makeProcess()},!0)}function Tg(d,f,m,g){st.call(this,d);var b=g.get("dragging",!1);function _(x){var w,C,T=x.source,P=x.target;x.parent&&(Y(x,"bpmn:SequenceFlow")&&(m.canConnectSequenceFlow(T,P)||(C=!0),m.canConnectMessageFlow(T,P)&&(w="bpmn:MessageFlow")),Y(x,"bpmn:MessageFlow")&&(m.canConnectMessageFlow(T,P)||(C=!0),m.canConnectSequenceFlow(T,P)&&(w="bpmn:SequenceFlow")),Y(x,"bpmn:Association")&&!m.canConnectAssociation(T,P)&&(C=!0),C&&f.removeConnection(x),w&&f.connect(T,P,{type:w,waypoints:x.waypoints.slice()}))}this.postExecuted("elements.move",function(x){ge(x.closure.allConnections,_)},!0),this.preExecute("connection.reconnect",function(x){var w,C,A,I,V,W,H,T=x.context,P=T.connection,O=T.newSource||P.source,M=T.newTarget||P.target;(w=m.canConnect(O,M))&&w.type!==P.type&&(C=f.connect(O,M,{type:w.type,waypoints:P.waypoints.slice()}),f.removeConnection(P),T.connection=C,b&&(A=P,I=C,!(H=(W=b.context())&&W.payload.previousSelection)||!H.length||-1!==(V=H.indexOf(A))&&H.splice(V,1,I)))}),this.postExecuted("element.updateProperties",function(x){var w,C=x.context,T=C.properties,P=C.element,O=P.businessObject;T.default&&(w=ln(P.outgoing,so({id:P.businessObject.default.id})))&&f.updateProperties(w,{conditionExpression:void 0}),T.conditionExpression&&O.sourceRef.default===O&&f.updateProperties(P.source,{default:void 0})})}function Np(d,f,m,g,b,_){g.invoke(st,this),this._bpmnReplace=d,this._elementRegistry=m,this._selection=_,this.postExecuted(["elements.create"],500,function(x){var w=x.context,C=w.parent,T=w.elements,P=zr(T,function(O,M){var A=f.canReplace([M],M.host||M.parent||C);return A?O.concat(A.replacements):O},[]);P.length&&this._replaceElements(T,P)},this),this.postExecuted(["elements.move"],500,function(x){var w=x.context,C=w.newParent,T=w.newHost,P=[];ge(w.closure.topLevel,function(M){P=Xa(M)?P.concat(M.children):P.concat(M)}),1===P.length&&T&&(C=T);var O=f.canReplace(P,C);O&&this._replaceElements(P,O.replacements,T)},this),this.postExecute(["shape.replace"],1500,function(x){var w,C=x.context,O=C.oldShape.attachers;O&&O.length&&(w=f.canReplace(O,C.newShape),this._replaceElements(O,w.replacements))},this),this.postExecuted(["shape.replace"],1500,function(x){var w=x.context,C=w.oldShape,T=w.newShape;b.unclaimId(C.businessObject.id,C.businessObject),b.updateProperties(T,{id:C.id})})}Ye(Z2,st),Z2.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],Ye(p7,st),p7.$inject=["eventBus","modeling"],Ip.$inject=["eventBus","modeling"],Ye(Ip,st),Ye(rb,st),rb.$inject=["eventBus","modeling"],Ye(Dg,st),Dg.$inject=["eventBus","bpmnRules","modeling"],ib.$inject=["eventBus","modeling"],Ye(ib,st),Ye(Tg,st),Tg.$inject=["eventBus","modeling","bpmnRules","injector"],Ye(Np,st),Np.prototype._replaceElements=function(d,f){var m=this._elementRegistry,g=this._bpmnReplace,b=this._selection;ge(f,function(_){var x={type:_.newElementType},w=m.get(_.oldElementId),C=d.indexOf(w);d[C]=g.replaceElement(w,x,{select:!1})}),f&&b.select(d)},Np.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var tM={width:140,height:120},id={width:300,height:60},Pg={width:300,height:150},f7={width:140,height:120},h7={width:50,height:30};function N4(d){d.on("resize.start",1500,function(f){var x,w,C,T,P,O,M,A,I,V,m=f.context,g=m.shape,b=m.direction,_=m.balanced;(Y(g,"bpmn:Lane")||Y(g,"bpmn:Participant"))&&(m.resizeConstraints=(w=b,C=_,T=dc(x=g),P=!0,O=!0,M=Z0(T,[T]),A=Xt(x),I={},V={},/e/.test(w)?V.right=A.left+id.width:/w/.test(w)&&(V.left=A.right-id.width),M.forEach(function(H){var z=Xt(H);/n/.test(w)&&(z.top<A.top-10&&(P=!1),C&&Og(A.top-z.bottom)<10&&kg(I,"top",z.top+id.height),Og(A.top-z.top)<5&&Cn(V,"top",z.bottom-id.height)),/s/.test(w)&&(z.bottom>A.bottom+10&&(O=!1),C&&Og(A.bottom-z.top)<10&&Cn(I,"bottom",z.bottom-id.height),Og(A.bottom-z.bottom)<5&&kg(V,"bottom",z.top+id.height))}),T.children.filter(function(H){return!H.hidden&&!H.waypoints&&(Y(H,"bpmn:FlowElement")||Y(H,"bpmn:Artifact"))}).forEach(function(H){var z=Xt(H);P&&/n/.test(w)&&Cn(V,"top",z.top-ob),/e/.test(w)&&kg(V,"right",z.right+m7),O&&/s/.test(w)&&kg(V,"bottom",z.bottom+$h),/w/.test(w)&&Cn(V,"left",z.left-rM)}),{min:V,max:I})),Y(g,"bpmn:Participant")&&(m.minDimensions=Pg),Y(g,"bpmn:SubProcess")&&lr(g)&&(m.minDimensions=f7),Y(g,"bpmn:TextAnnotation")&&(m.minDimensions=h7)})}N4.$inject=["eventBus"];var Og=Math.abs,qn=Math.min,nM=Math.max;function L4(d,f,m,g){var b=d[f];d[f]=void 0===b?m:g(m,b)}function Cn(d,f,m){return L4(d,f,m,qn)}function kg(d,f,m){return L4(d,f,m,nM)}var m7=20,rM=50,ob=20,$h=20;function sb(d,f){d.on("resize.start",1501,function(m){var g=m.context,b=g.shape;(Y(b,"bpmn:Lane")||Y(b,"bpmn:Participant"))&&(g.balanced=!uh(m))}),d.on("resize.end",1001,function(m){var g=m.context,b=g.shape,_=g.canExecute,x=g.newBounds;if(Y(b,"bpmn:Lane")||Y(b,"bpmn:Participant"))return _&&(x=NO(x),f.resizeLane(b,x,g.balanced)),!1})}function Lp(d,f,m,g,b){function _(T){return Un(T,["bpmn:ReceiveTask","bpmn:SendTask"])||(P=T,ut(O=["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])||(O=[O]),Ei(O,function(M){return ah(P,M)}));var P,O}function x(T){return!!ln(d.getDefinitions().get("rootElements"),so({id:T.id}))}function w(T){return Y(T,"bpmn:ErrorEventDefinition")?"errorRef":Y(T,"bpmn:EscalationEventDefinition")?"escalationRef":Y(T,"bpmn:MessageEventDefinition")?"messageRef":Y(T,"bpmn:SignalEventDefinition")?"signalRef":void 0}function C(T){if(Un(T,["bpmn:ReceiveTask","bpmn:SendTask"]))return T.get("messageRef");var P=T.get("eventDefinitions")[0];return P.get(w(P))}m.invoke(st,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(T){var P=T.shape||T.element;if(_(P)){var O=C(yt(P));O&&!x(O)&&(K(d.getDefinitions().get("rootElements"),O),T.addedRootElement=O)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(T){var P=T.addedRootElement;P&&Vi(d.getDefinitions().get("rootElements"),P)},!0),f.on("copyPaste.copyElement",function(T){var P=T.descriptor,O=T.element;if(!O.labelTarget&&_(O)){var M=C(yt(O));M&&(P.referencedRootElement=M)}}),f.on("copyPaste.pasteElement",500,function(T){var P=T.descriptor,O=P.businessObject,M=P.referencedRootElement;M&&(x(M)||(M=g.copyElement(M,b.create(M.$type))),function(A,I){if(Un(A,["bpmn:ReceiveTask","bpmn:SendTask"]))return A.set("messageRef",I);var V=A.get("eventDefinitions")[0];V.set(w(V),I)}(O,M),delete P.referencedRootElement)})}sb.$inject=["eventBus","modeling"],Lp.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],Ye(Lp,st);var g7=Math.max;function ab(d){d.on("spaceTool.getMinDimensions",function(f){var g=f.axis,b=f.start,_={};return ge(f.shapes,function(x){var w=x.id;Y(x,"bpmn:Participant")&&(_[w]=function(C){return"x"===C}(g)?Pg:{width:Pg.width,height:F4(x,b)}),Y(x,"bpmn:SubProcess")&&lr(x)&&(_[w]=f7),Y(x,"bpmn:TextAnnotation")&&(_[w]=h7),Y(x,"bpmn:Group")&&(_[w]=tM)}),_})}function F4(d,f){var g,b,_;return Tp(d).length?(b=f,_=lb(Tp(g=d),b),g7(Pg.height,g.height-_.height+id.height)):Pg.height}function lb(d,f){var m,g,b;for(m=0;m<d.length;m++)if(f>=(g=d[m]).y&&f<=g.y+g.height)return(b=Tp(g)).length?lb(b,f):g}ab.$inject=["eventBus"];function od(d,f,m,g,b,_,x){st.call(this,f),this._canvas=d,this._eventBus=f,this._modeling=m,this._elementFactory=g,this._bpmnFactory=b,this._bpmnjs=_,this._elementRegistry=x;var w=this;function C(O){return Y(O,"bpmn:SubProcess")&&!lr(O)}function T(O){var A=O.newRootElement,I=yt(O.shape);A=w._addDiagram(A||I),O.newRootElement=d.addRootElement(A)}function P(O){var M=yt(O.shape);w._removeDiagram(M);var A=O.newRootElement=x.get(Fu(M));d.removeRootElement(A)}this.executed("shape.create",function(O){C(O.shape)&&T(O)},!0),this.postExecuted("shape.create",function(O){var M=O.shape,A=O.newRootElement;A&&M.children&&(w._showRecursively(M.children),w._moveChildrenToShape(M,A))},!0),this.reverted("shape.create",function(O){C(O.shape)&&P(O)},!0),this.preExecuted("shape.delete",function(O){var M=O.shape;if(C(M)){var A=x.get(Fu(M));A&&m.removeElements(A.children.slice())}},!0),this.executed("shape.delete",function(O){C(O.shape)&&P(O)},!0),this.reverted("shape.delete",function(O){C(O.shape)&&T(O)},!0),this.preExecuted("shape.replace",function(O){var M=O.oldShape,A=O.newShape;C(M)&&C(A)&&(O.oldRoot=d.removeRootElement(Fu(M)))},!0),this.postExecuted("shape.replace",function(O){var A=O.oldRoot,I=d.findRoot(Fu(O.newShape));A&&I&&m.moveElements(A.children,{x:0,y:0},I)},!0),this.executed("element.updateProperties",function(O){var M=O.element;if(Y(M,"bpmn:SubProcess")){var I=O.oldProperties.id,V=O.properties.id;if(I!==V){if(c2(M))return x.updateId(M,Vs(V)),void x.updateId(I,V);x.get(Vs(I))&&x.updateId(Vs(I),Vs(V))}}},!0),this.reverted("element.updateProperties",function(O){var M=O.element;if(Y(M,"bpmn:SubProcess")){var I=O.oldProperties.id,V=O.properties.id;if(I!==V){if(c2(M))return x.updateId(M,Vs(I)),void x.updateId(V,I);var W=x.get(Vs(V));W&&x.updateId(W,Vs(I))}}},!0),f.on("element.changed",function(O){var M=O.element;if(c2(M)){var A=M,I=x.get(l2(A));I&&I!==A&&f.fire("element.changed",{element:I})}}),this.executed("shape.toggleCollapse",400,function(O){var M=O.shape;Y(M,"bpmn:SubProcess")&&(lr(M)?P(O):(T(O),w._showRecursively(M.children)))},!0),this.reverted("shape.toggleCollapse",400,function(O){var M=O.shape;Y(M,"bpmn:SubProcess")&&(lr(M)?P(O):(T(O),w._showRecursively(M.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(O){var M=O.shape;if(Y(M,"bpmn:SubProcess")){var A=O.newRootElement;A&&(lr(M)?w._moveChildrenToShape(A,M):w._moveChildrenToShape(M,A))}},!0),f.on("copyPaste.createTree",function(O){var M=O.element,A=O.children;if(C(M)){var I=Fu(M),V=x.get(I);V&&A.push.apply(A,V.children)}}),f.on("copyPaste.copyElement",function(O){var M=O.descriptor,I=O.elements,V=O.element.parent;if(Y(ur(V),"bpmndi:BPMNPlane")){var W=l2(V),H=ln(I,function(z){return z.id===W});H&&(M.parent=H.id)}}),f.on("copyPaste.pasteElement",function(O){var M=O.descriptor;M.parent&&(C(M.parent)||M.parent.hidden)&&(M.hidden=!0)})}function j4(d,f){d.invoke(st,this),this.postExecuted("shape.replace",function(m){var g=m.context.oldShape,b=m.context.newShape;if(Y(b,"bpmn:SubProcess")&&(Y(g,"bpmn:Task")||Y(g,"bpmn:CallActivity"))&&lr(b)){var _,x={x:(_=b).x+_.width/6,y:_.y+_.height/2};f.createShape({type:"bpmn:StartEvent"},x,b)}})}function $4(d,f){st.call(this,d),this.postExecuted("shape.toggleCollapse",1500,function(m){var g=m.shape;if(!lr(g)){var b=Lc(g);b.forEach(function(x){var w=x.incoming.slice(),C=x.outgoing.slice();ge(w,function(T){_(T,!0)}),ge(C,function(T){_(T,!1)})})}function _(x,w){-1!==b.indexOf(x.source)&&-1!==b.indexOf(x.target)||(w?f.reconnectEnd(x,g,hn(g)):f.reconnectStart(x,g,hn(g)))}},!0)}function cb(d,f,m){st.call(this,d),this.executed(["shape.toggleCollapse"],500,function(g){var b,_=g.context.shape;Y(_,"bpmn:SubProcess")&&(_.collapsed?ur(_).isExpanded=!1:((b=_.children).length&&b.forEach(function(x){"label"!==x.type||x.businessObject.name||(x.hidden=!0)}),ur(_).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(g){var b=g.context.shape;ur(b).isExpanded=!b.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(g){var b,w,C,_=g.context.shape,x=f.getDefaultSize(_);b=_.collapsed?{x:(w=_).x+(w.width-(C=x).width)/2,y:w.y+(w.height-C.height)/2,width:C.width,height:C.height}:function(w,C){var P,O,A=C;return(P=$S((O=w.children,O.filter(function(I){return!I.hidden})).concat([w])))?(A.width=Math.max(P.width,A.width),A.height=Math.max(P.height,A.height),A.x=P.x+(P.width-A.width)/2,A.y=P.y+(P.height-A.height)/2):(A.x=w.x+(w.width-A.width)/2,A.y=w.y+(w.height-A.height)/2),A}(_,x),m.resizeShape(_,b,null,{autoResize:!_.collapsed&&"nwse"})})}function V4(d,f,m,g){f.invoke(st,this),this.preExecute("shape.delete",function(b){var _=b.context.shape,x=_.businessObject;vr(_)||(Y(_,"bpmn:Participant")&&lr(_)&&m.ids.unclaim(x.processRef.id),g.unclaimId(x.id,x))}),this.preExecute("connection.delete",function(b){var _=b.context.connection.businessObject;g.unclaimId(_.id,_)}),this.preExecute("canvas.updateRoot",function(){var b=d.getRootElement(),_=b.businessObject;Y(b,"bpmn:Collaboration")&&m.ids.unclaim(_.id)})}function z4(d,f){st.call(this,d),this.preExecute("connection.delete",function(m){var g=m.context.connection,b=g.source;(function(_,x){if(!Y(_,"bpmn:SequenceFlow"))return!1;var w=yt(x),C=yt(_);return w.get("default")===C})(g,b)&&f.updateProperties(b,{default:null})})}function H4(d,f,m){var g;st.call(this,d);var _=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(_,5e3,function(x){(g=g||new iM).enter()}),this.postExecuted(_,500,function(x){!function(){if(!g)throw new Error(m("out of bounds release"));g.leave()&&(f.updateLaneRefs(g.flowNodes,g.lanes),g=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(x){var w=x.context.shape,C=function b(){if(!g)throw new Error(m("out of bounds release"));return g}();w.labelTarget||(Y(w,"bpmn:Lane")&&C.addLane(w),Y(w,"bpmn:FlowNode")&&C.addFlowNode(w))})}function iM(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(d){this.lanes.push(d)},this.addFlowNode=function(d){this.flowNodes.push(d)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}Ye(od,st),od.prototype._moveChildrenToShape=function(d,f){var m,g=this._modeling,b=d.children;if(b){var _=(b=b.concat(b.reduce(function(T,P){return P.label&&P.label.parent!==d?T.concat(P.label):T},[]))).filter(function(T){return!T.hidden});if(_.length){var x=ri(_);if(f.x){var w=hn(f),C=hn(x);m={x:w.x-C.x,y:w.y-C.y}}else m={x:180-x.x,y:160-x.y};g.moveElements(b,m,f,{autoResize:!1})}else g.moveElements(b,{x:0,y:0},f,{autoResize:!1})}},od.prototype._showRecursively=function(d,f){var m=this,g=[];return d.forEach(function(b){b.hidden=!!f,g=g.concat(b),b.children&&(g=g.concat(m._showRecursively(b.children,b.collapsed||f)))}),g},od.prototype._addDiagram=function(d){var f=this._bpmnjs.getDefinitions().diagrams;return d.businessObject||(d=this._createNewDiagram(d)),f.push(d.di.$parent),d},od.prototype._createNewDiagram=function(d){var f=this._bpmnFactory,m=this._elementFactory,g=f.create("bpmndi:BPMNPlane",{bpmnElement:d}),b=f.create("bpmndi:BPMNDiagram",{plane:g});return g.$parent=b,m.createRoot({id:Fu(d),type:d.$type,di:g,businessObject:d,collapsed:!0})},od.prototype._removeDiagram=function(d){var f=this._bpmnjs.getDefinitions().diagrams,m=ln(f,function(g){return g.plane.bpmnElement.id===d.id});return f.splice(f.indexOf(m),1),m},od.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],j4.$inject=["injector","modeling"],Ye(j4,st),Ye($4,st),$4.$inject=["eventBus","modeling"],Ye(cb,st),cb.$inject=["eventBus","elementFactory","modeling"],Ye(V4,st),V4.$inject=["canvas","injector","moddle","modeling"],Ye(z4,st),z4.$inject=["eventBus","modeling"],H4.$inject=["eventBus","modeling","translate"],Ye(H4,st);var y7={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",_g],appendBehavior:["type",r7],associationBehavior:["type",i7],attachEventBehavior:["type",_4],boundaryEventBehavior:["type",E4],createBehavior:["type",Lh],createDataObjectBehavior:["type",Fh],createParticipantBehavior:["type",w4],dataInputAssociationBehavior:["type",ed],dataStoreBehavior:["type",W2],deleteLaneBehavior:["type",o7],detachEventBehavior:["type",X2],dropOnFlowBehavior:["type",s7],eventBasedGatewayBehavior:["type",a7],fixHoverBehavior:["type",Y2],groupBehavior:["type",T4],importDockingFix:["type",K2],isHorizontalFix:["type",xg],labelBehavior:["type",Z2],layoutConnectionBehavior:["type",p7],messageFlowBehavior:["type",Ip],removeElementBehavior:["type",Dg],removeEmbeddedLabelBoundsBehavior:["type",rb],removeParticipantBehavior:["type",ib],replaceConnectionBehavior:["type",Tg],replaceElementBehaviour:["type",Np],resizeBehavior:["type",N4],resizeLaneBehavior:["type",sb],rootElementReferenceBehavior:["type",Lp],spaceToolBehavior:["type",ab],subProcessPlaneBehavior:["type",od],subProcessStartEventBehavior:["type",j4],toggleCollapseConnectionBehaviour:["type",$4],toggleElementCollapseBehaviour:["type",cb],unclaimIdBehavior:["type",V4],unsetDefaultFlowBehavior:["type",z4],updateFlowNodeRefsBehavior:["type",H4]};function U4(d,f){var m=Kr(d,f,-15);return"intersect"!==m?m:null}function bs(d){Us.call(this,d)}function G4(d){return!d||vr(d)}function ra(d){do{if(Y(d,"bpmn:Process"))return yt(d);if(Y(d,"bpmn:Participant"))return yt(d).processRef||yt(d)}while(d=d.parent)}function q4(d){return Y(d,"bpmn:TextAnnotation")}function W4(d){return Y(d,"bpmn:Group")&&!d.labelTarget}function b7(d){return Y(d,"bpmn:BoundaryEvent")&&Zc(d,"bpmn:CompensateEventDefinition")}function sd(d){return yt(d).isForCompensation}function X4(d){for(var f=d;f=f.parent;){if(Y(f,"bpmn:FlowElementsContainer"))return yt(f);if(Y(f,"bpmn:Participant"))return yt(f).processRef}return null}function Zc(d,f){return!!ln(yt(d).eventDefinitions||[],function(m){return Y(m,f)})}function _7(d,f){return(yt(d).eventDefinitions||[]).every(function(m){return Y(m,f)})}function Y4(d,f){return-1!==function(g){for(var b=[];g;)(g=g.parent)&&b.push(g);return b}(f).indexOf(d)}function Mg(d,f,m){if(G4(d)||G4(f))return null;if(!Y(m,"bpmn:DataAssociation")){if(Q4(d,f))return{type:"bpmn:MessageFlow"};if(Z4(d,f))return{type:"bpmn:SequenceFlow"}}return zh(d,f)||(b7(d)&&sd(f)?{type:"bpmn:Association",associationDirection:"One"}:!!D7(d,f)&&{type:"bpmn:Association"})}function Vh(d,f){return!(!vr(d)&&!W4(d))||!(Y(f,"bpmn:Participant")&&!lr(f))&&(Y(d,"bpmn:Participant")?Y(f,"bpmn:Process")||Y(f,"bpmn:Collaboration"):Un(d,["bpmn:DataInput","bpmn:DataOutput"])&&d.parent?f===d.parent:Y(d,"bpmn:Lane")?Y(f,"bpmn:Participant")||Y(f,"bpmn:Lane"):!(Y(d,"bpmn:BoundaryEvent")&&(m=d,!yt(m).cancelActivity||!E7(m)&&!x7(m)))&&(Y(d,"bpmn:FlowElement")&&!Y(d,"bpmn:DataStoreReference")?Y(f,"bpmn:FlowElementsContainer")?lr(f):Un(f,["bpmn:Participant","bpmn:Lane"]):Y(d,"bpmn:DataStoreReference")&&Y(f,"bpmn:Collaboration")?Ei(yt(f).get("participants"),function(m){return!!m.get("processRef")}):Un(d,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Un(f,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!Y(d,"bpmn:MessageFlow")&&(Y(f,"bpmn:Collaboration")||d.source.parent==f||d.target.parent==f)));var m}function oM(d){return Y(d,"bpmn:Lane")}function E7(d){var f=yt(d);return f&&!(f.eventDefinitions&&f.eventDefinitions.length)}function x7(d){return w7(d,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function w7(d,f){return f.some(function(m){return Zc(d,m)})}function Rg(d,f,m,g){if(Array.isArray(d)||(d=[d]),1!==d.length)return!1;var _,b=d[0];return!vr(b)&&!!function K4(d){return!!function(f){return!vr(f)&&Y(f,"bpmn:BoundaryEvent")}(d)||!(!Y(d,"bpmn:IntermediateThrowEvent")||!E7(d))||Y(d,"bpmn:IntermediateCatchEvent")&&x7(d)}(b)&&!Xa(f)&&!(!Y(f,"bpmn:Activity")||sd(f))&&!(g&&!U4(g,f))&&!(Y(_=f,"bpmn:ReceiveTask")&&ln(_.incoming,function(x){return Y(x.source,"bpmn:EventBasedGateway")}))&&"attach"}function S7(d,f,m){if(!f)return!1;var g={replacements:[]};return ge(d,function(b){var _;Xa(f)||Y(b,"bpmn:StartEvent")&&"label"!==b.type&&Vh(b,f)&&((_=b)&&!1!==yt(_).isInterrupting||g.replacements.push({oldElementId:b.id,newElementType:"bpmn:StartEvent"}),(function(_){return ah(_,"bpmn:ErrorEventDefinition")}(b)||function(_){return ah(_,"bpmn:EscalationEventDefinition")}(b)||function(_){return ah(_,"bpmn:CompensateEventDefinition")}(b))&&g.replacements.push({oldElementId:b.id,newElementType:"bpmn:StartEvent"}),w7(b,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&Y(f,"bpmn:SubProcess")&&g.replacements.push({oldElementId:b.id,newElementType:"bpmn:StartEvent"})),Y(f,"bpmn:Transaction")||Zc(b,"bpmn:CancelEventDefinition")&&"label"!==b.type&&(Y(b,"bpmn:EndEvent")&&Vh(b,f)&&g.replacements.push({oldElementId:b.id,newElementType:"bpmn:EndEvent"}),Y(b,"bpmn:BoundaryEvent")&&Rg(b,f,0,m)&&g.replacements.push({oldElementId:b.id,newElementType:"bpmn:BoundaryEvent"}))}),!!g.replacements.length&&g}function pc(d,f){return!Ei(d,oM)&&(!f||d.every(function(m){return Vh(m,f)}))}function Ag(d,f,m,g){return!!f&&(!(!vr(d)&&!W4(d))||!function(b,_){return b===_}(m,f)&&(!m||!Y4(m,f))&&(Vh(d,f)||Hh(d,f)))}function C7(d,f){return Y(d,"bpmn:SubProcess")?lr(d)&&(!f||f.width>=100&&f.height>=80):Y(d,"bpmn:Lane")?!f||f.width>=130&&f.height>=60:Y(d,"bpmn:Participant")?!f||f.width>=250&&f.height>=50:!!q4(d)||!!W4(d)}function D7(d,f){return!(!b7(d)||!sd(f))||!Y4(f,d)&&!Y4(d,f)&&(g=f,b=q4(d),_=q4(g),!(!b&&!_||b===_)||!!zh(d,f));var g,b,_}function Q4(d,f){return!(J4(d)&&!J4(f))&&Y(m=d,"bpmn:InteractionNode")&&!Y(m,"bpmn:BoundaryEvent")&&(!Y(m,"bpmn:Event")||Y(m,"bpmn:ThrowEvent")&&_7(m,"bpmn:MessageEventDefinition"))&&Y(g=f,"bpmn:InteractionNode")&&!sd(g)&&(!Y(g,"bpmn:Event")||Y(g,"bpmn:CatchEvent")&&_7(g,"bpmn:MessageEventDefinition"))&&!(Y(g,"bpmn:BoundaryEvent")&&!Zc(g,"bpmn:MessageEventDefinition"))&&!function(g,b){return ra(g)===ra(b)}(d,f);var g,m}function Z4(d,f){return Y(m=d,"bpmn:FlowNode")&&!Y(m,"bpmn:EndEvent")&&!Xa(m)&&!(Y(m,"bpmn:IntermediateThrowEvent")&&Zc(m,"bpmn:LinkEventDefinition"))&&!b7(m)&&!sd(m)&&Y(g=f,"bpmn:FlowNode")&&!Y(g,"bpmn:StartEvent")&&!Y(g,"bpmn:BoundaryEvent")&&!Xa(g)&&!(Y(g,"bpmn:IntermediateCatchEvent")&&Zc(g,"bpmn:LinkEventDefinition"))&&!sd(g)&&function(g,b){return X4(g)===X4(b)}(d,f)&&!(Y(d,"bpmn:EventBasedGateway")&&!function(g){return Y(g,"bpmn:ReceiveTask")||Y(g,"bpmn:IntermediateCatchEvent")&&(Zc(g,"bpmn:MessageEventDefinition")||Zc(g,"bpmn:TimerEventDefinition")||Zc(g,"bpmn:ConditionalEventDefinition")||Zc(g,"bpmn:SignalEventDefinition"))}(f));var g,m}function zh(d,f){return Un(d,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Un(f,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Un(f,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Un(d,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Hh(d,f,m){if(!f)return!1;if(Array.isArray(d)){if(1!==d.length)return!1;d=d[0]}return f.source!==d&&f.target!==d&&Un(f,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!vr(f)&&Y(d,"bpmn:FlowNode")&&!Y(d,"bpmn:BoundaryEvent")&&Vh(d,f.parent)}function sM(d,f){return!!vr(f)||!(Y(f,"bpmn:Lane")&&(m=d,g=f.parent,!m||!g||-1===m.indexOf(g)));var m,g}function J4(d){return j_(d,"bpmn:Process")||j_(d,"bpmn:Collaboration")}Ye(bs,Us),bs.$inject=["eventBus"],bs.prototype.init=function(){this.addRule("connection.start",function(d){return function(f){return G4(f)?null:Un(f,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(d.source)}),this.addRule("connection.create",function(d){var f=d.source,m=d.target,g=d.hints||{},b=g.targetParent;if(g.targetAttach)return!1;b&&(m.parent=b);try{return Mg(f,m)}finally{b&&(m.parent=null)}}),this.addRule("connection.reconnect",function(d){return Mg(d.source,d.target,d.connection)}),this.addRule("connection.updateWaypoints",function(d){return{type:d.connection.type}}),this.addRule("shape.resize",function(d){return C7(d.shape,d.newBounds)}),this.addRule("elements.create",function(d){var f=d.elements,m=d.position,g=d.target;return!(vi(g)&&!Hh(f,g))&&Pi(f,function(b){return vi(b)?Mg(b.source,b.target,b):b.host?Rg(b,b.host,0,m):Ag(b,g,null)})}),this.addRule("elements.move",function(d){var f=d.target,m=d.shapes,g=d.position;return Rg(m,f,0,g)||S7(m,f,g)||pc(m,f)||Hh(m,f)}),this.addRule("shape.create",function(d){return Ag(d.shape,d.target,d.source)}),this.addRule("shape.attach",function(d){return Rg(d.shape,d.target,0,d.position)}),this.addRule("element.copy",function(d){return sM(d.elements,d.element)})},bs.prototype.canConnectMessageFlow=Q4,bs.prototype.canConnectSequenceFlow=Z4,bs.prototype.canConnectDataAssociation=zh,bs.prototype.canConnectAssociation=D7,bs.prototype.canMove=pc,bs.prototype.canAttach=Rg,bs.prototype.canReplace=S7,bs.prototype.canDrop=Vh,bs.prototype.canInsert=Hh,bs.prototype.canCreate=Ag,bs.prototype.canConnect=Mg,bs.prototype.canResize=C7,bs.prototype.canCopy=sM;var T7={__depends__:[ys],__init__:["bpmnRules"],bpmnRules:["type",bs]};function eE(d,f){d.on("saveXML.start",2e3,function(){ge(f.getRootElements(),function(m){var g,b=ur(m);g=Er(Ot(Lc([m],!1),function(_){return _!==m&&!_.labelTarget}),ur),b.set("planeElement",g)})})}eE.$inject=["eventBus","canvas"];var ub={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",eE]};function Uh(d){st.call(this,d);var f=this;this.preExecute(["shape.create","connection.create"],function(m){var g=m.context,x=f.getOrdering(g.shape||g.connection,g.parent);x&&(void 0!==x.parent&&(g.parent=x.parent),g.parentIndex=x.index)}),this.preExecute(["shape.move","connection.move"],function(m){var g=m.context,b=g.shape||g.connection,x=f.getOrdering(b,g.newParent||b.parent);x&&(void 0!==x.parent&&(g.newParent=x.parent),g.newParentIndex=x.index)})}function fc(d,f,m){Uh.call(this,d);var g=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function b(_){var x=_.order;if(x||(_.order=x=function(w){if(w.labelTarget)return{level:10};var C=ln(g,function(T){return Un(w,[T.type])});return C&&C.order||{level:1}}(_)),!x)throw new Error("no order for <"+_.id+">");return x}this.getOrdering=function(_,x){if(_.labelTarget)return{parent:f.findRoot(x)||f.getRootElement(),index:-1};var w=b(_);w.containers&&(x=function(P,O,M){for(var A=O;A&&!Un(A,M);)A=A.parent;if(!A)throw new Error("no parent for <"+P.id+"> in <"+(O&&O.id)+">");return A}(_,x,w.containers));var C=x.children.indexOf(_),T=oo(x.children,function(P){return!(!_.labelTarget&&P.labelTarget)&&w.level<b(P).level});return-1!==T&&-1!==C&&C<T&&(T-=1),{index:T,parent:x}}}Uh.prototype.getOrdering=function(d,f){return null},Ye(Uh,st),fc.$inject=["eventBus","canvas","translate"],Ye(fc,Uh);var aM={__depends__:[Ka],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",fc]};function Fp(d,f){this._eventBus=d,this._dragging=f,this._tools=[],this._active=null}Fp.$inject=["eventBus","dragging"],Fp.prototype.registerTool=function(d,f){var m=this._tools;if(!f)throw new Error('A tool has to be registered with it\'s "events"');m.push(d),this.bindEvents(d,f)},Fp.prototype.isActive=function(d){return d&&this._active===d},Fp.prototype.length=function(d){return this._tools.length},Fp.prototype.setActive=function(d){var f=this._eventBus;this._active!==d&&(this._active=d,f.fire("tool-manager.update",{tool:d}))},Fp.prototype.bindEvents=function(d,f){var m=this._eventBus,g=this._dragging,b=[];m.on(f.tool+".init",function(_){if(!_.context.reactivate&&this.isActive(d))return this.setActive(null),void g.cancel();this.setActive(d)},this),ge(f,function(_){b.push(_+".ended"),b.push(_+".canceled")}),m.on(b,250,function(_){var x,w;this._active&&((w=(x=_).originalEvent&&x.originalEvent.target)&&sr(w,'.group[data-group="tools"]')||this.setActive(null))},this)};var Gh={__depends__:[W0],__init__:["toolManager"],toolManager:["type",Fp]};function Ig(d,f){return-1!==d.indexOf(f)}var Bp=Math.abs,P7=Math.round,Ta={x:"width",y:"height"},qh="crosshair",Jc={n:"top",w:"left",s:"bottom",e:"right"},Ng=1500,Lg={n:"s",w:"e",s:"n",e:"w"};function Nl(d,f,m,g,b,_,x){this._canvas=d,this._dragging=f,this._eventBus=m,this._modeling=g,this._rules=b,this._toolManager=_,this._mouse=x;var w=this;_.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),m.on("spaceTool.selection.end",function(C){m.once("spaceTool.selection.ended",function(){w.activateMakeSpace(C.originalEvent)})}),m.on("spaceTool.move",Ng,function(C){var T=C.context,P=T.initialized;P||(P=T.initialized=w.init(C,T)),P&&k7(C)}),m.on("spaceTool.end",function(C){var T=C.context,P=T.axis,O=T.direction,M=T.movingShapes,A=T.resizingShapes,I=T.start;if(T.initialized){k7(C);var V={x:0,y:0};V[P]=P7(C["d"+P]),w.makeSpace(M,A,V,O,I),m.once("spaceTool.ended",function(W){w.activateSelection(W.originalEvent,!0,!0)})}})}function O7(d){return{top:d.top-20,right:d.right+20,bottom:d.bottom+20,left:d.left-20}}function k7(d){var f,m,g=d.context.spaceToolConstraints;g&&(at(g.left)&&(f=Math.max(d.x,g.left),d.dx=d.dx+f-d.x,d.x=f),at(g.right)&&(f=Math.min(d.x,g.right),d.dx=d.dx+f-d.x,d.x=f),at(g.top)&&(m=Math.max(d.y,g.top),d.dy=d.dy+m-d.y,d.y=m),at(g.bottom)&&(m=Math.min(d.y,g.bottom),d.dy=d.dy+m-d.y,d.y=m))}function jp(d,f){return-1!==d.indexOf(f)}Nl.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],Nl.prototype.activateSelection=function(d,f,m){this._dragging.init(d,"spaceTool.selection",{autoActivate:f,cursor:qh,data:{context:{reactivate:m}},trapClick:!1})},Nl.prototype.activateMakeSpace=function(d){this._dragging.init(d,"spaceTool",{autoActivate:!0,cursor:qh,data:{context:{}}})},Nl.prototype.makeSpace=function(d,f,m,g,b){return this._modeling.createSpace(d,f,m,g,b)},Nl.prototype.init=function(d,f){var m=Bp(d.dx)>Bp(d.dy)?"x":"y",g=d["d"+m],b=d[m]-g;if(Bp(g)<5)return!1;g<0&&(g*=-1),uh(d)&&(g*=-1);var _=function(P,O){if("x"===P){if(O>0)return"e";if(O<0)return"w"}if("y"===P){if(O>0)return"s";if(O<0)return"n"}return null}(m,g),x=this._canvas.getRootElement();!R1(d)&&d.hover&&(x=d.hover);var w=[...Lc(x,!0),...x.attachers||[]],C=this.calculateAdjustments(w,m,g,b);return de(f,C,{axis:m,direction:_,spaceToolConstraints:function(P,O,M,A,I){var V=P.movingShapes,W=P.resizingShapes;if(W.length){var H,z,Q={};return ge(W,function(J){var oe,Oe,Ee,De,Ne,Yt,mt=J.attachers,Ve=J.children,Qe=Xt(J),dn=Ot(Ve,function(Je){return!(vi(Je)||vr(Je)||jp(V,Je)||jp(W,Je))}),ue=Ot(Ve,function(Je){return!vi(Je)&&!vr(Je)&&jp(V,Je)}),G=[],xe=[];dn.length&&(Oe=O7(Xt(ri(dn))),oe=A-Qe[Jc[M]]+Oe[Jc[M]],"n"===M?Q.bottom=z=at(z)?Math.min(z,oe):oe:"w"===M?Q.right=z=at(z)?Math.min(z,oe):oe:"s"===M?Q.top=H=at(H)?Math.max(H,oe):oe:"e"===M&&(Q.left=H=at(H)?Math.max(H,oe):oe)),ue.length&&(Ee=O7(Xt(ri(ue))),oe=A-Ee[Jc[Lg[M]]]+Qe[Jc[Lg[M]]],"n"===M?Q.bottom=z=at(z)?Math.min(z,oe):oe:"w"===M?Q.right=z=at(z)?Math.min(z,oe):oe:"s"===M?Q.top=H=at(H)?Math.max(H,oe):oe:"e"===M&&(Q.left=H=at(H)?Math.max(H,oe):oe)),mt&&mt.length&&(mt.forEach(function(Je){jp(V,Je)?G.push(Je):xe.push(Je)}),G.length&&(De=Xt(ri(G.map(hn))),Ne=Qe[Jc[Lg[M]]]-(De[Jc[Lg[M]]]-A)),xe.length&&(Yt=Xt(ri(xe.map(hn)))[Jc[M]]-(Qe[Jc[M]]-A)),"n"===M?(oe=Math.min(Ne||1/0,Yt||1/0),Q.bottom=z=at(z)?Math.min(z,oe):oe):"w"===M?(oe=Math.min(Ne||1/0,Yt||1/0),Q.right=z=at(z)?Math.min(z,oe):oe):"s"===M?(oe=Math.max(Ne||-1/0,Yt||-1/0),Q.top=H=at(H)?Math.max(H,oe):oe):"e"===M&&(oe=Math.max(Ne||-1/0,Yt||-1/0),Q.left=H=at(H)?Math.max(H,oe):oe));var He=I&&I[J.id];He&&("n"===M?(oe=A+J[Ta[O]]-He[Ta[O]],Q.bottom=z=at(z)?Math.min(z,oe):oe):"w"===M?(oe=A+J[Ta[O]]-He[Ta[O]],Q.right=z=at(z)?Math.min(z,oe):oe):"s"===M?(oe=A-J[Ta[O]]+He[Ta[O]],Q.top=H=at(H)?Math.max(H,oe):oe):"e"===M&&(oe=A-J[Ta[O]]+He[Ta[O]],Q.left=H=at(H)?Math.max(H,oe):oe))}),Q}}(C,m,_,b,this._eventBus.fire("spaceTool.getMinDimensions",{axis:m,direction:_,shapes:C.resizingShapes,start:b})),start:b}),h2("resize-"+("x"===m?"ew":"ns")),!0},Nl.prototype.calculateAdjustments=function(d,f,m,g){var b=this._rules,_=[],x=[],w=[],C=[];function T(O){_.includes(O)||_.push(O);var M=O.label;M&&!_.includes(M)&&_.push(M)}ge(d,function(O){if(O.parent&&!vr(O))if(vi(O))C.push(O);else{var M=O[f],A=M+O[Ta[f]];if(O.host&&(m>0&&hn(O)[f]>g||m<0&&hn(O)[f]<g))w.push(O);else{var I;if(!(m>0&&M>g||m<0&&A<g))return M<g&&A>g&&b.allowed("shape.resize",{shape:O})?void(x.includes(I=O)||x.push(I)):void 0;T(O)}}}),ge(_,function(O){var M=O.attachers;M&&ge(M,function(A){T(A)})});var P=_.concat(x);return ge(w,function(O){jp(P,O.host)&&T(O)}),P=_.concat(x),ge(C,function(O){var A=O.target,I=O.label;jp(P,O.source)&&jp(P,A)&&I&&T(I)}),{movingShapes:_,resizingShapes:x}},Nl.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();this.activateSelection(d,!!d)},Nl.prototype.isActive=function(){var d=this._dragging.context();return!!d&&/^spaceTool/.test(d.prefix)};var db="djs-dragging",Bg="djs-resizing",pb=Math.max;function lM(d,f,m,g,b){function _(x,w){ge(x,function(C){b.addDragger(C,w),m.addMarker(C,db)})}d.on("spaceTool.selection.start",function(x){var w=m.getLayer("space"),C=x.context,O=Mt("g");_t(O,g.cls("djs-crosshair-group",["no-events"])),nn(w,O);var M=Mt("path");_t(M,"d","M 0,-10000 L 0,10000"),kn(M).add("djs-crosshair"),nn(O,M);var A=Mt("path");_t(A,"d","M -10000,0 L 10000,0"),kn(A).add("djs-crosshair"),nn(O,A),C.crosshairGroup=O}),d.on("spaceTool.selection.move",function(x){ds(x.context.crosshairGroup,x.x,x.y)}),d.on("spaceTool.selection.cleanup",function(x){var w=x.context.crosshairGroup;w&&hi(w)}),d.on("spaceTool.move",250,function(x){var w=x.context,C=w.line,T=w.axis,P=w.movingShapes,O=w.resizingShapes;if(w.initialized){if(!w.dragGroup){var M=m.getLayer("space");_t(C=Mt("path"),"d","M0,0 L0,0"),kn(C).add("djs-crosshair"),nn(M,C),w.line=C;var A=Mt("g");_t(A,g.cls("djs-drag-group",["no-events"])),nn(m.getActiveLayer(),A),_(P,A),_(w.movingConnections=f.filter(function(H){var z=!1;ge(P,function(Oe){ge(Oe.outgoing,function(Ee){H===Ee&&(z=!0)})});var Q=!1;ge(P,function(Oe){ge(Oe.incoming,function(Ee){H===Ee&&(Q=!0)})});var J=!1;ge(O,function(Oe){ge(Oe.outgoing,function(Ee){H===Ee&&(J=!0)})});var oe=!1;return ge(O,function(Oe){ge(Oe.incoming,function(Ee){H===Ee&&(oe=!0)})}),vi(H)&&(z||J)&&(Q||oe)}),A),w.dragGroup=A}if(!w.frameGroup){var I=Mt("g");_t(I,g.cls("djs-frame-group",["no-events"])),nn(m.getActiveLayer(),I);var V=[];ge(O,function(H){var z=b.addFrame(H,I),Q=z.getBBox();V.push({element:z,initialBounds:Q}),m.addMarker(H,Bg)}),w.frameGroup=I,w.frames=V}_t(C,{d:{x:"M"+x.x+", -10000 L"+x.x+", 10000",y:"M -10000, "+x.y+" L 10000, "+x.y}[T]});var W={x:x.dx,y:x.dy};W[{x:"y",y:"x"}[w.axis]]=0,ds(w.dragGroup,W.x,W.y),ge(w.frames,function(H){var z,Q,J=H.element,oe=H.initialBounds;_t(J,"e"===w.direction?{width:pb(oe.width+W.x,5)}:{width:z=pb(oe.width-W.x,5),x:oe.x+oe.width-z}),_t(J,"s"===w.direction?{height:pb(oe.height+W.y,5)}:{height:Q=pb(oe.height-W.y,5),y:oe.y+oe.height-Q})})}}),d.on("spaceTool.cleanup",function(x){var w=x.context,T=w.movingConnections,P=w.resizingShapes,O=w.line,M=w.dragGroup,A=w.frameGroup;ge(w.movingShapes,function(I){m.removeMarker(I,db)}),ge(T,function(I){m.removeMarker(I,db)}),M&&(hi(O),hi(M)),ge(P,function(I){m.removeMarker(I,Bg)}),A&&hi(A)})}lM.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var cM={__init__:["spaceToolPreview"],__depends__:[W0,ys,Gh,ig,Dp],spaceTool:["type",Nl],spaceToolPreview:["type",lM]};function fb(d){d.invoke(Nl,this)}fb.$inject=["injector"],Ye(fb,Nl),fb.prototype.calculateAdjustments=function(d,f,m,g){var b=Nl.prototype.calculateAdjustments.call(this,d,f,m,g);return b.resizingShapes=b.resizingShapes.filter(function(_){return!(Y(_,"bpmn:TextAnnotation")||"y"===f&&(x=_,Y(x,"bpmn:Participant")&&!yt(x).processRef));var x}),b};var tE={__depends__:[cM],spaceTool:["type",fb]};function Mi(d,f){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=f,this._eventBus=d,this._uid=1,d.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Mi.$inject=["eventBus","injector"],Mi.prototype.execute=function(d,f){if(!d)throw new Error("command required");this._currentExecution.trigger="execute";const m={command:d,context:f};this._pushAction(m),this._internalExecute(m),this._popAction()},Mi.prototype.canExecute=function(d,f){const m={command:d,context:f},g=this._getHandler(d);let b=this._fire(d,"canExecute",m);if(void 0===b){if(!g)return!1;g.canExecute&&(b=g.canExecute(f))}return b},Mi.prototype.clear=function(d){this._stack.length=0,this._stackIdx=-1,!1!==d&&this._fire("changed",{trigger:"clear"})},Mi.prototype.undo=function(){let d,f=this._getUndoAction();if(f){for(this._currentExecution.trigger="undo",this._pushAction(f);f&&(this._internalUndo(f),d=this._getUndoAction(),d&&d.id===f.id);)f=d;this._popAction()}},Mi.prototype.redo=function(){let d,f=this._getRedoAction();if(f){for(this._currentExecution.trigger="redo",this._pushAction(f);f&&(this._internalExecute(f,!0),d=this._getRedoAction(),d&&d.id===f.id);)f=d;this._popAction()}},Mi.prototype.register=function(d,f){this._setHandler(d,f)},Mi.prototype.registerHandler=function(d,f){if(!d||!f)throw new Error("command and handlerCls must be defined");const m=this._injector.instantiate(f);this.register(d,m)},Mi.prototype.canUndo=function(){return!!this._getUndoAction()},Mi.prototype.canRedo=function(){return!!this._getRedoAction()},Mi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Mi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Mi.prototype._internalUndo=function(d){const f=d.command,m=d.context,g=this._getHandler(f);this._atomicDo(()=>{this._fire(f,"revert",d),g.revert&&this._markDirty(g.revert(m)),this._revertedAction(d),this._fire(f,"reverted",d)})},Mi.prototype._fire=function(d,f,m){arguments.length<3&&(m=f,f=null);const g=f?[d+"."+f,f]:[d];let b;m=this._eventBus.createEvent(m);for(const _ of g)if(b=this._eventBus.fire("commandStack."+_,m),m.cancelBubble)break;return b},Mi.prototype._createId=function(){return this._uid++},Mi.prototype._atomicDo=function(d){const f=this._currentExecution;f.atomic=!0;try{d()}finally{f.atomic=!1}},Mi.prototype._internalExecute=function(d,f){const m=d.command,g=d.context,b=this._getHandler(m);if(!b)throw new Error("no command handler registered for <"+m+">");this._pushAction(d),f||(this._fire(m,"preExecute",d),b.preExecute&&b.preExecute(g),this._fire(m,"preExecuted",d)),this._atomicDo(()=>{this._fire(m,"execute",d),b.execute&&this._markDirty(b.execute(g)),this._executedAction(d,f),this._fire(m,"executed",d)}),f||(this._fire(m,"postExecute",d),b.postExecute&&b.postExecute(g),this._fire(m,"postExecuted",d)),this._popAction()},Mi.prototype._pushAction=function(d){const f=this._currentExecution,m=f.actions,g=m[0];if(f.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+d.command+")");d.id||(d.id=g&&g.id||this._createId()),m.push(d)},Mi.prototype._popAction=function(){const d=this._currentExecution,f=d.trigger,m=d.actions,g=d.dirty;m.pop(),m.length||(this._eventBus.fire("elements.changed",{elements:va("id",g.reverse())}),g.length=0,this._fire("changed",{trigger:f}),d.trigger=null)},Mi.prototype._markDirty=function(d){const f=this._currentExecution;d&&(d=ut(d)?d:[d],f.dirty=f.dirty.concat(d))},Mi.prototype._executedAction=function(d,f){const m=++this._stackIdx;f||this._stack.splice(m,this._stack.length,d)},Mi.prototype._revertedAction=function(d){this._stackIdx--},Mi.prototype._getHandler=function(d){return this._handlerMap[d]},Mi.prototype._setHandler=function(d,f){if(!d||!f)throw new Error("command and handler required");if(this._handlerMap[d])throw new Error("overriding handler for command <"+d+">");this._handlerMap[d]=f};var uM={commandStack:["type",Mi]};function qu(d,f){if("function"!=typeof f)throw new Error("removeFn iterator must be a function");if(d){for(var m;m=d[0];)f(m);return d}}function jg(d,f,m){st.call(this,f);var g=d.get("movePreview",!1);f.on("shape.move.start",1400,function(b){var _=b.context,w=_.validatedShapes;_.shapes=nE(_.shapes),_.validatedShapes=nE(w)}),g&&f.on("shape.move.start",250,function(b){var _=b.context,w=[];ge(_.shapes,function(C){ge(C.labels,function(T){T.hidden||-1!==_.shapes.indexOf(T)||w.push(T),C.labelTarget&&w.push(C)})}),ge(w,function(C){g.makeDraggable(_,C,!0)})}),this.preExecuted("elements.move",1400,function(b){var _=b.context.closure,x=_.enclosedElements,w=[];ge(x,function(C){ge(C.labels,function(T){x[T.id]||w.push(T)})}),_.addAll(w)}),this.preExecute(["connection.delete","shape.delete"],function(b){var _=b.context;qu((_.connection||_.shape).labels,function(x){m.removeShape(x,{nested:!0})})}),this.execute("shape.delete",function(b){var _=b.context,x=_.shape,w=x.labelTarget;w&&(_.labelTargetIndex=ie(w.labels,x),_.labelTarget=w,x.labelTarget=null)}),this.revert("shape.delete",function(b){var _=b.context,x=_.shape,w=_.labelTarget;w&&(K(w.labels,x,_.labelTargetIndex),x.labelTarget=w)})}function nE(d){return Ot(d,function(f){return-1===d.indexOf(f.labelTarget)})}Ye(jg,st),jg.$inject=["injector","eventBus","modeling"];var $g={__init__:["labelSupport"],labelSupport:["type",jg]},Wh="attach-ok";function hc(d,f,m,g,b){st.call(this,f);var _=d.get("movePreview",!1);f.on("shape.move.start",1401,function(x){var w,C,M,A,T=x.context,O=T.validatedShapes;T.shapes=(C=rE(w=T.shapes),ya("id",w,C)),T.validatedShapes=(A=xo(M=O,"id"),Ot(M,function(I){for(;I;){if(I.host&&A[I.host.id])return!1;I=I.parent}return!0}))}),_&&f.on("shape.move.start",251,function(x){var w=x.context;ge(rE(w.shapes),function(C){_.makeDraggable(w,C,!0),ge(C.labels,function(T){_.makeDraggable(w,T,!0)})})}),_&&f.on("shape.move.start",function(x){var w=x.context.shapes;if(1===w.length){var C=w[0].host;C&&(m.addMarker(C,Wh),f.once(["shape.move.out","shape.move.cleanup"],function(){m.removeMarker(C,Wh)}))}}),this.preExecuted("elements.move",1401,function(x){var w=x.context,C=w.closure;ge(rE(w.shapes),function(T){C.add(T,C.topLevel[T.host.id])})}),this.postExecuted("elements.move",function(x){var w=x.context,C=w.shapes,T=w.newHost;T&&1!==C.length||ge(T?C:Ot(C,function(P){return!!P.host&&-1===C.indexOf(P.host)}),function(P){b.updateAttachment(P,T)})}),this.postExecuted("elements.move",function(x){ge(x.context.shapes,function(w){ge(w.attachers,function(C){ge(C.outgoing.slice(),function(T){g.allowed("connection.reconnect",{connection:T,source:T.source,target:T.target})||b.removeConnection(T)}),ge(C.incoming.slice(),function(T){g.allowed("connection.reconnect",{connection:T,source:T.source,target:T.target})||b.removeConnection(T)})})})}),this.postExecute("shape.create",function(x){var w=x.context,T=w.host;T&&b.updateAttachment(w.shape,T)}),this.postExecute("shape.replace",function(x){var w=x.context,C=w.oldShape,T=w.newShape;qu(C.attachers,function(P){"attach"===g.allowed("elements.move",{target:T,shapes:[P]})?b.updateAttachment(P,T):b.removeShape(P)}),T.attachers.length&&ge(T.attachers,function(P){var O=M4(P,C,T);b.moveShape(P,O,P.parent)})}),this.postExecute("shape.resize",function(x){var w=x.context,T=w.oldBounds,P=w.newBounds;!1!==(w.hints||{}).attachSupport&&ge(w.shape.attachers,function(M){var A=M4(M,T,P);b.moveShape(M,A,M.parent),ge(M.labels,function(I){b.moveShape(I,A,I.parent)})})}),this.preExecute("shape.delete",function(x){var w=x.context.shape;qu(w.attachers,function(C){b.removeShape(C)}),w.host&&b.updateAttachment(w,null)})}function rE(d){return en(Er(d,function(f){return f.attachers||[]}))}Ye(hc,st),hc.$inject=["injector","eventBus","canvas","rules","modeling"];var dM={__depends__:[ys],__init__:["attachSupport"],attachSupport:["type",hc]};function Ll(d){this._model=d}function _s(d,f,m,g){st.call(this,d),this._bpmnFactory=f,this._translate=g;var b=this;function _(O){ge(O.context.oldRoot.children,function(M){Y(M,"bpmn:BaseElement")&&b.updateParent(M)})}function x(O){var M=O.context.shape;Y(M,"bpmn:BaseElement")&&b.updateBounds(M)}function w(O){b.updateConnection(O.context)}function C(O){b.updateConnectionWaypoints(O.context.connection)}function T(O){b.updateAttachment(O.context)}function P(O){const{element:M}=O.context,A=zi(M),I=ur(M),V=I&&I.get("label");dt(M)||(A&&!V?I.set("label",f.create("bpmndi:BPMNLabel")):!A&&V&&I.set("label",void 0))}this.executed(["connection.layout","connection.create"],function(O){var M,A=O.context;A.cropped||!1===(A.hints||{}).createElementsBehavior||((M=A.connection).waypoints=m.getCroppedWaypoints(M),A.cropped=!0)}),this.reverted(["connection.layout"],function(O){delete O.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Gs(function(O){var M=O.context;b.updateParent(M.shape||M.connection,M.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Gs(function(O){var M=O.context;b.updateParent(M.shape||M.connection,M.parent||M.newParent)})),this.executed(["canvas.updateRoot"],_),this.reverted(["canvas.updateRoot"],_),this.executed(["shape.move","shape.create","shape.resize"],Gs(function(O){"label"!==O.context.shape.type&&x(O)})),this.reverted(["shape.move","shape.create","shape.resize"],Gs(function(O){"label"!==O.context.shape.type&&x(O)})),d.on("shape.changed",function(O){"label"===O.element.type&&x({context:{shape:O.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Gs(w)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Gs(w)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Gs(C)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Gs(C)),this.executed("connection.reconnect",Gs(function(O){var M=O.context,I=M.oldSource,V=M.newSource,W=yt(M.connection),H=yt(I),z=yt(V);W.conditionExpression&&!Un(z,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(M.oldConditionExpression=W.conditionExpression,delete W.conditionExpression),I!==V&&H.default===W&&(M.oldDefault=H.default,delete H.default)})),this.reverted("connection.reconnect",Gs(function(O){var M=O.context,I=M.oldSource,V=M.newSource,W=yt(M.connection),H=yt(I),z=yt(V);M.oldConditionExpression&&(W.conditionExpression=M.oldConditionExpression),M.oldDefault&&(H.default=M.oldDefault,delete z.default)})),this.executed(["element.updateAttachment"],Gs(T)),this.reverted(["element.updateAttachment"],Gs(T)),this.executed("element.updateLabel",Gs(P)),this.reverted("element.updateLabel",Gs(P))}function Gs(d){return function(f){var m=f.context;Y(m.shape||m.connection||m.element,"bpmn:BaseElement")&&d(f)}}function ad(d,f,m){Mu.call(this),this._bpmnFactory=d,this._moddle=f,this._translate=m}function pM(d,f,m){return void 0===f[m]?f:(d[m]=f[m],Ie(f,[m]))}function iE(d,f){this._modeling=d,this._canvas=f}function hb(d){this._modeling=d}function mb(d,f){this._canvas=d,this._layouter=f}Ll.$inject=["moddle"],Ll.prototype._needsId=function(d){return Un(d,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Ll.prototype._ensureId=function(d){var f;d.id?this._model.ids.claim(d.id,d):(f=Y(d,"bpmn:Activity")?"Activity":Y(d,"bpmn:Event")?"Event":Y(d,"bpmn:Gateway")?"Gateway":Un(d,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(d.$type||"").replace(/^[^:]*:/g,""),f+="_",!d.id&&this._needsId(d)&&(d.id=this._model.ids.nextPrefixed(f,d)))},Ll.prototype.create=function(d,f){var m=this._model.create(d,f||{});return this._ensureId(m),m},Ll.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Ll.prototype.createDiShape=function(d,f){return this.create("bpmndi:BPMNShape",de({bpmnElement:d,bounds:this.createDiBounds()},f))},Ll.prototype.createDiBounds=function(d){return this.create("dc:Bounds",d)},Ll.prototype.createDiWaypoints=function(d){var f=this;return Er(d,function(m){return f.createDiWaypoint(m)})},Ll.prototype.createDiWaypoint=function(d){return this.create("dc:Point",It(d,["x","y"]))},Ll.prototype.createDiEdge=function(d,f){return this.create("bpmndi:BPMNEdge",de({bpmnElement:d,waypoint:this.createDiWaypoints([])},f))},Ll.prototype.createDiPlane=function(d,f){return this.create("bpmndi:BPMNPlane",de({bpmnElement:d},f))},Ye(_s,st),_s.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],_s.prototype.updateAttachment=function(d){var f=d.shape,g=f.host;f.businessObject.attachedToRef=g&&g.businessObject},_s.prototype.updateParent=function(d,f){if(!(vr(d)||Y(d,"bpmn:DataStoreReference")&&d.parent&&Y(d.parent,"bpmn:Collaboration"))){var m=d.parent,g=d.businessObject,b=ur(d),_=m&&m.businessObject,x=ur(m);Y(d,"bpmn:FlowNode")&&this.updateFlowNodeRefs(g,_,f&&f.businessObject),Y(d,"bpmn:DataOutputAssociation")&&(_=d.source?d.source.businessObject:null),Y(d,"bpmn:DataInputAssociation")&&(_=d.target?d.target.businessObject:null),this.updateSemanticParent(g,_),Y(d,"bpmn:DataObjectReference")&&g.dataObjectRef&&this.updateSemanticParent(g.dataObjectRef,_),this.updateDiParent(b,x)}},_s.prototype.updateBounds=function(d){var f=ur(d),m=function(x){if(Y(x,"bpmn:Activity")){var w=ur(x);if(w){var C=w.get("label");if(C)return C.get("bounds")}}}(d);if(m){var g=lc(m,f.get("bounds"));de(m,{x:d.x+g.x,y:d.y+g.y})}var b=vr(d)?this._getLabel(f):f,_=b.bounds;_||(_=this._bpmnFactory.createDiBounds(),b.set("bounds",_)),de(_,{x:d.x,y:d.y,width:d.width,height:d.height})},_s.prototype.updateFlowNodeRefs=function(d,f,m){m!==f&&(Y(m,"bpmn:Lane")&&Vi(m.get("flowNodeRef"),d),Y(f,"bpmn:Lane")&&K(f.get("flowNodeRef"),d))},_s.prototype.updateDiConnection=function(d,f,m){var g=ur(d),b=ur(f),_=ur(m);g.sourceElement&&g.sourceElement.bpmnElement!==yt(f)&&(g.sourceElement=f&&b),g.targetElement&&g.targetElement.bpmnElement!==yt(m)&&(g.targetElement=m&&_)},_s.prototype.updateDiParent=function(d,f){if(f&&!Y(f,"bpmndi:BPMNPlane")&&(f=f.$parent),d.$parent!==f){var m=(f||d.$parent).get("planeElement");f?(m.push(d),d.$parent=f):(Vi(m,d),d.$parent=null)}},_s.prototype.getLaneSet=function(d){var f,m;return Y(d,"bpmn:Lane")?((f=d.childLaneSet)||(f=this._bpmnFactory.create("bpmn:LaneSet"),d.childLaneSet=f,f.$parent=d),f):(Y(d,"bpmn:Participant")&&(d=d.processRef),(f=(m=d.get("laneSets"))[0])||((f=this._bpmnFactory.create("bpmn:LaneSet")).$parent=d,m.push(f)),f)},_s.prototype.updateSemanticParent=function(d,f,m){var g,b=this._translate;if(d.$parent!==f&&(!Y(d,"bpmn:DataInput")&&!Y(d,"bpmn:DataOutput")||(Y(f,"bpmn:Participant")&&"processRef"in f&&(f=f.processRef),!("ioSpecification"in f)||f.ioSpecification!==d.$parent))){if(Y(d,"bpmn:Lane"))f&&(f=this.getLaneSet(f)),g="lanes";else if(Y(d,"bpmn:FlowElement")){if(f)if(Y(f,"bpmn:Participant"))f=f.processRef;else if(Y(f,"bpmn:Lane"))do{f=f.$parent.$parent}while(Y(f,"bpmn:Lane"));g="flowElements"}else if(Y(d,"bpmn:Artifact")){for(;f&&!Y(f,"bpmn:Process")&&!Y(f,"bpmn:SubProcess")&&!Y(f,"bpmn:Collaboration");){if(Y(f,"bpmn:Participant")){f=f.processRef;break}f=f.$parent}g="artifacts"}else if(Y(d,"bpmn:MessageFlow"))g="messageFlows";else if(Y(d,"bpmn:Participant")){g="participants";var _,x=d.processRef;x&&(_=function(T){for(;T&&!Y(T,"bpmn:Definitions");)T=T.$parent;return T}(d.$parent||f),d.$parent&&(Vi(_.get("rootElements"),x),x.$parent=null),f&&(K(_.get("rootElements"),x),x.$parent=_))}else Y(d,"bpmn:DataOutputAssociation")?g="dataOutputAssociations":Y(d,"bpmn:DataInputAssociation")&&(g="dataInputAssociations");if(!g)throw new Error(b("no parent for {element} in {parent}",{element:d.id,parent:f.id}));var w;if(d.$parent&&Vi(w=d.$parent.get(g),d),f?((w=f.get(g)).push(d),d.$parent=f):d.$parent=null,m){var C=m.get(g);Vi(w,d),f&&(C||f.set(g,C=[]),C.push(d))}}},_s.prototype.updateConnectionWaypoints=function(d){ur(d).set("waypoint",this._bpmnFactory.createDiWaypoints(d.waypoints))},_s.prototype.updateConnection=function(d){var m=d.connection,g=yt(m),b=m.source,_=yt(b),x=m.target,w=yt(m.target);if(Y(g,"bpmn:DataAssociation"))Y(g,"bpmn:DataInputAssociation")?(g.get("sourceRef")[0]=_,this.updateSemanticParent(g,w,d.parent||d.newParent||w)):Y(g,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(g,_,d.parent||d.newParent||_),g.targetRef=w);else{var C=Y(g,"bpmn:SequenceFlow");g.sourceRef!==_&&(C&&(Vi(g.sourceRef&&g.sourceRef.get("outgoing"),g),_&&_.get("outgoing")&&_.get("outgoing").push(g)),g.sourceRef=_),g.targetRef!==w&&(C&&(Vi(g.targetRef&&g.targetRef.get("incoming"),g),w&&w.get("incoming")&&w.get("incoming").push(g)),g.targetRef=w)}this.updateConnectionWaypoints(m),this.updateDiConnection(m,b,x)},_s.prototype._getLabel=function(d){return d.label||(d.label=this._bpmnFactory.createDiLabel()),d.label},Ye(ad,Mu),ad.$inject=["bpmnFactory","moddle","translate"],ad.prototype._baseCreate=Mu.prototype.create,ad.prototype.create=function(d,f){if("label"===d){var m=f.di||this._bpmnFactory.createDiLabel();return this._baseCreate(d,de({type:"label",di:m},j0,f))}return this.createElement(d,f)},ad.prototype.createElement=function(d,f){var m,g,b,T,P,_=this._translate,x=(f=de({},f||{})).businessObject,w=f.di;if(!x){if(!f.type)throw new Error(_("no shape type specified"));Jy(x=this._bpmnFactory.create(f.type))}if(!Un(w,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var C=de({},w||{},{id:x.id+"_di"});w="root"===d?this._bpmnFactory.createDiPlane(x,C):"connection"===d?this._bpmnFactory.createDiEdge(x,C):this._bpmnFactory.createDiShape(x,C)}return Y(x,"bpmn:Group")&&(f=de({isFrame:!0},f)),T=x,P=f,ge(["processRef","isInterrupting","associationDirection","isForCompensation"],function(M){P=pM(T,P,M)}),(f=P).isExpanded&&(f=pM(w,f,"isExpanded")),Y(x,"bpmn:SubProcess")&&(f.collapsed=!lr(x,w)),Y(x,"bpmn:ExclusiveGateway")&&(w.isMarkerVisible=!0),tn(f.triggeredByEvent)&&(x.triggeredByEvent=f.triggeredByEvent,delete f.triggeredByEvent),tn(f.cancelActivity)&&(x.cancelActivity=f.cancelActivity,delete f.cancelActivity),f.eventDefinitionType&&(g=x.get("eventDefinitions")||[],b=this._bpmnFactory.create(f.eventDefinitionType,f.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===f.eventDefinitionType&&(b.condition=this._bpmnFactory.create("bpmn:FormalExpression")),g.push(b),b.$parent=x,x.eventDefinitions=g,delete f.eventDefinitionType),m=this.getDefaultSize(x,w),f=de({id:x.id},m,f,{businessObject:x,di:w}),this._baseCreate(d,f)},ad.prototype.getDefaultSize=function(d,f){var m=yt(d);return f=f||ur(d),Y(m,"bpmn:SubProcess")?lr(m,f)?{width:350,height:200}:{width:100,height:80}:Y(m,"bpmn:Task")?{width:100,height:80}:Y(m,"bpmn:Gateway")?{width:50,height:50}:Y(m,"bpmn:Event")?{width:36,height:36}:Y(m,"bpmn:Participant")?lr(m,f)?{width:600,height:250}:{width:400,height:60}:Y(m,"bpmn:Lane")?{width:400,height:100}:Y(m,"bpmn:DataObjectReference")?{width:36,height:50}:Y(m,"bpmn:DataStoreReference")?{width:50,height:50}:Y(m,"bpmn:TextAnnotation")?{width:100,height:30}:Y(m,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},ad.prototype.createParticipantShape=function(d){return Sn(d)||(d={isExpanded:d}),!1!==(d=de({type:"bpmn:Participant"},d||{})).isExpanded&&(d.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(d)},iE.$inject=["modeling","canvas"],iE.prototype.preExecute=function(d){var f=this._modeling,g=d.alignment;ge(d.elements,function(b){var _={x:0,y:0};tn(g.left)?_.x=g.left-b.x:tn(g.right)?_.x=g.right-b.width-b.x:tn(g.center)?_.x=g.center-Math.round(b.width/2)-b.x:tn(g.top)?_.y=g.top-b.y:tn(g.bottom)?_.y=g.bottom-b.height-b.y:tn(g.middle)&&(_.y=g.middle-Math.round(b.height/2)-b.y),f.moveElements([b],_,b.parent)})},iE.prototype.postExecute=function(d){},hb.$inject=["modeling"],hb.prototype.preExecute=function(d){var f=d.source;if(!f)throw new Error("source required");var g=d.shape;g=d.shape=this._modeling.createShape(g,d.position,d.target||f.parent,{attach:(d.hints||{}).attach}),d.shape=g},hb.prototype.postExecute=function(d){var m,g=d.hints||{};m=d.shape,Ei(d.source.outgoing,function(b){return b.target===m})||(g.connectionTarget===d.source?this._modeling.connect(d.shape,d.source,d.connection):this._modeling.connect(d.source,d.shape,d.connection))},mb.$inject=["canvas","layouter"],mb.prototype.execute=function(d){var f=d.connection,m=d.source,g=d.target,b=d.parent,_=d.parentIndex,x=d.hints;if(!m||!g)throw new Error("source and target required");if(!b)throw new Error("parent required");return f.source=m,f.target=g,f.waypoints||(f.waypoints=this._layouter.layoutConnection(f,x)),this._canvas.addConnection(f,b,_),f},mb.prototype.revert=function(d){var f=d.connection;return this._canvas.removeConnection(f),f.source=null,f.target=null,f};var oE=Math.round;function sE(d){this._modeling=d}sE.$inject=["modeling"],sE.prototype.preExecute=function(d){var f=d.elements,m=d.parent,g=d.parentIndex,b=d.position,_=d.hints,x=this._modeling;ge(f,function(P){at(P.x)||(P.x=0),at(P.y)||(P.y=0)});var w=ri(Ot(f,function(P){return!P.hidden}));ge(f,function(P){vi(P)&&(P.waypoints=Er(P.waypoints,function(O){return{x:oE(O.x-w.x-w.width/2+b.x),y:oE(O.y-w.y-w.height/2+b.y)}})),de(P,{x:oE(P.x-w.x-w.width/2+b.x),y:oE(P.y-w.y-w.height/2+b.y)})});var C=cn(f),T={};ge(f,function(P){if(vi(P))T[P.id]=at(g)?x.createConnection(T[P.source.id],T[P.target.id],g,P,P.parent||m,_):x.createConnection(T[P.source.id],T[P.target.id],P,P.parent||m,_);else{var O=de({},_);-1===C.indexOf(P)&&(O.autoResize=!1),vr(P)&&(O=Ie(O,["attach"])),T[P.id]=at(g)?x.createShape(P,It(P,["x","y","width","height"]),P.parent||m,g,O):x.createShape(P,It(P,["x","y","width","height"]),P.parent||m,O)}}),d.elements=as(T)};var fM=Math.round;function ld(d){this._canvas=d}function Vg(d){ld.call(this,d)}ld.$inject=["canvas"],ld.prototype.execute=function(d){var f=d.shape,m=d.position,g=d.parent,b=d.parentIndex;if(!g)throw new Error("parent required");if(!m)throw new Error("position required");return de(f,void 0!==m.width?m:{x:m.x-fM(f.width/2),y:m.y-fM(f.height/2)}),this._canvas.addShape(f,g,b),f},ld.prototype.revert=function(d){var f=d.shape;return this._canvas.removeShape(f),f},Ye(Vg,ld),Vg.$inject=["canvas"];var hM=ld.prototype.execute;Vg.prototype.execute=function(d){var m,f=d.shape;return m=f,["width","height"].forEach(function(g){void 0===m[g]&&(m[g]=0)}),f.labelTarget=d.labelTarget,hM.call(this,d)};var aE=ld.prototype.revert;function Wu(d,f){this._canvas=d,this._modeling=f}function zg(d,f){this._modeling=d,this._elementRegistry=f}function cd(d,f){this._canvas=d,this._modeling=f}function Hg(d){this._modeling=d}Vg.prototype.revert=function(d){return d.shape.labelTarget=null,aE.call(this,d)},Wu.$inject=["canvas","modeling"],Wu.prototype.preExecute=function(d){var f=this._modeling,m=d.connection;qu(m.incoming,function(g){f.removeConnection(g,{nested:!0})}),qu(m.outgoing,function(g){f.removeConnection(g,{nested:!0})})},Wu.prototype.execute=function(d){var f=d.connection,m=f.parent;return d.parent=m,d.parentIndex=ie(m.children,f),d.source=f.source,d.target=f.target,this._canvas.removeConnection(f),f.source=null,f.target=null,f},Wu.prototype.revert=function(d){var f=d.connection,m=d.parent,g=d.parentIndex;return f.source=d.source,f.target=d.target,K(m.children,f,g),this._canvas.addConnection(f,m),f},zg.$inject=["modeling","elementRegistry"],zg.prototype.postExecute=function(d){var f=this._modeling,m=this._elementRegistry;ge(d.elements,function(g){m.get(g.id)&&(g.waypoints?f.removeConnection(g):f.removeShape(g))})},cd.$inject=["canvas","modeling"],cd.prototype.preExecute=function(d){var f=this._modeling,m=d.shape;qu(m.incoming,function(g){f.removeConnection(g,{nested:!0})}),qu(m.outgoing,function(g){f.removeConnection(g,{nested:!0})}),qu(m.children,function(g){vi(g)?f.removeConnection(g,{nested:!0}):f.removeShape(g,{nested:!0})})},cd.prototype.execute=function(d){var f=this._canvas,m=d.shape,g=m.parent;return d.oldParent=g,d.oldParentIndex=ie(g.children,m),f.removeShape(m),m},cd.prototype.revert=function(d){var f=this._canvas,m=d.shape,g=d.oldParent;return K(g.children,m,d.oldParentIndex),f.addShape(m,g),m},Hg.$inject=["modeling"];var Xh={x:"y",y:"x"};function Ug(d,f){this._layouter=d,this._canvas=f}function lE(){}function $p(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Yh(d){this._modeling=d}function gb(d){this._helper=new Yh(d)}function ud(d){this._modeling=d,this._helper=new Yh(d)}function Gg(d){this._modeling=d}function qg(d){return d.original||d}function Xu(d,f){this._modeling=d,this._rules=f}function Wg(d){this._modeling=d}function dd(d){this._modeling=d}function M7(d){return de({},d)}function R7(d){switch(d){case"n":case"s":return"y";case"w":case"e":return"x"}}function vb(d,f,m){var g=R7(m);return/e|s/.test(m)?d[g]>f:/n|w/.test(m)?d[g]<f:void 0}function Fl(d,f){return-1!==d.indexOf(f)}function yb(d){this._modeling=d}function Xg(d){var f={};return ge(d,function(m){f[m.id]=m.hidden,m.children&&(f=de({},f,Xg(m.children)))}),f}function Yg(d,f){var m=[];return ge(d,function(g){g.hidden=f,m=m.concat(g),g.children&&(m=m.concat(Yg(g.children,g.collapsed||f)))}),m}function mM(d,f){var m=[];return ge(d,function(g){g.hidden=f[g.id],m=m.concat(g),g.children&&(m=m.concat(mM(g.children,f)))}),m}function bb(d){this._modeling=d}function A7(d,f){return Vi(d&&d.attachers,f)}function _b(d,f,m){if(d){var g=d.attachers;g||(d.attachers=g=[]),K(g,f,m)}}function cE(){}function jr(d,f,m){this._eventBus=d,this._elementFactory=f,this._commandStack=m;var g=this;d.on("diagram.init",function(){g.registerHandlers(m)})}function Kg(d){this._elementRegistry=d}function I7(d,f){ge(f,function(m,g){d.set(g,m)})}Hg.prototype.preExecute=function(d){var f=this._modeling,m=d.groups,g=d.axis,b=d.dimension;function _(V,W){V.range.min=Math.min(W[g],V.range.min),V.range.max=Math.max(W[g]+W[b],V.range.max)}function x(V){return V[g]+V[b]/2}function w(V){return V.length-1}function C(V){return V.max-V.min}var T,P,O=m[0],M=w(m),A=m[M],I=0;ge(m,function(V,W){var H,z,Q;V.elements.length<2?W&&W!==m.length-1&&(_(V,V.elements[0]),I+=C(V.range)):(z=(H=Hr(V.elements,g))[0],W===M&&(z=H[w(H)]),Q=x(z),V.range=null,ge(H,function(J){var Oe,Ee;(Ee={y:0})[g]=Q-x(Oe=J),Ee[g]&&(Ee[Xh[g]]=0,f.moveElements([Oe],Ee,Oe.parent)),null!==V.range?_(V,J):V.range={min:J[g],max:J[g]+J[b]}}),W&&W!==m.length-1&&(I+=C(V.range)))}),P=Math.abs(A.range.min-O.range.max),(T=Math.round((P-I)/(m.length-1)))<m.length-1||ge(m,function(V,W){var H,z={};V!==O&&V!==A&&(H=m[W-1],V.range.max=0,ge(V.elements,function(Q,J){z[Xh[g]]=0,z[g]=H.range.max-Q[g]+T,V.range.min!==Q[g]&&(z[g]+=Q[g]-V.range.min),z[g]&&f.moveElements([Q],z,Q.parent),V.range.max=Math.max(Q[g]+Q[b],J?V.range.max:0)}))})},Hg.prototype.postExecute=function(d){},Ug.$inject=["layouter","canvas"],Ug.prototype.execute=function(d){var f=d.connection;return de(d,{oldWaypoints:f.waypoints}),f.waypoints=this._layouter.layoutConnection(f,d.hints),f},Ug.prototype.revert=function(d){var f=d.connection;return f.waypoints=d.oldWaypoints,f},lE.prototype.execute=function(d){var f=d.connection,m=d.delta,g=d.newParent||f.parent,b=d.newParentIndex,_=f.parent;return d.oldParent=_,d.oldParentIndex=Vi(_.children,f),K(g.children,f,b),f.parent=g,ge(f.waypoints,function(x){x.x+=m.x,x.y+=m.y,x.original&&(x.original.x+=m.x,x.original.y+=m.y)}),f},lE.prototype.revert=function(d){var f=d.connection,g=d.oldParent,b=d.oldParentIndex,_=d.delta;return Vi(f.parent.children,f),K(g.children,f,b),f.parent=g,ge(f.waypoints,function(x){x.x-=_.x,x.y-=_.y,x.original&&(x.original.x-=_.x,x.original.y-=_.y)}),f},$p.prototype.add=function(d,f){return this.addAll([d],f)},$p.prototype.addAll=function(d,f){return de(this,function(g,b,_){ht(b)&&(b=!0),Sn(b)&&(_=b,b=!0);var x=R0((_=_||{}).allShapes),w=R0(_.allConnections),C=R0(_.enclosedElements),T=R0(_.enclosedConnections),P=R0(_.topLevel,b&&xo(g,function(M){return M.id}));function O(M){P[M.source.id]&&P[M.target.id]&&(P[M.id]=[M]),x[M.source.id]&&x[M.target.id]&&(T[M.id]=C[M.id]=M),w[M.id]=M}return Nc(g,function(M){if(C[M.id]=M,!M.waypoints)return x[M.id]=M,ge(M.incoming,O),ge(M.outgoing,O),M.children;T[M.id]=w[M.id]=M}),{allShapes:x,allConnections:w,topLevel:P,enclosedConnections:T,enclosedElements:C}}(d,!!f,this)),this},Yh.prototype.moveRecursive=function(d,f,m){return d?this.moveClosure(this.getClosure(d),f,m):[]},Yh.prototype.moveClosure=function(d,f,m,g,b){var _=this._modeling,x=d.allShapes,w=d.allConnections,C=d.enclosedConnections,T=d.topLevel,P=!1;b&&b.parent===m&&(P=!0),ge(x,function(O){_.moveShape(O,f,T[O.id]&&!P&&m,{recurse:!1,layout:!1})}),ge(w,function(O){var M=!!x[O.source.id],A=!!x[O.target.id];C[O.id]&&M&&A?_.moveConnection(O,f,T[O.id]&&!P&&m):_.layoutConnection(O,{connectionStart:M&&eb(O,O.source,f),connectionEnd:A&&tb(O,O.target,f)})})},Yh.prototype.getClosure=function(d){return(new $p).addAll(d,!0)},gb.$inject=["modeling"],gb.prototype.preExecute=function(d){d.closure=this._helper.getClosure(d.shapes)},gb.prototype.postExecute=function(d){var f,m=d.hints;m&&m.primaryShape&&(m.oldParent=(f=m.primaryShape).parent),this._helper.moveClosure(d.closure,d.delta,d.newParent,d.newHost,f)},ud.$inject=["modeling"],ud.prototype.execute=function(d){var f=d.shape,m=d.delta,g=d.newParent||f.parent,b=d.newParentIndex,_=f.parent;return d.oldBounds=It(f,["x","y","width","height"]),d.oldParent=_,d.oldParentIndex=Vi(_.children,f),K(g.children,f,b),de(f,{parent:g,x:f.x+m.x,y:f.y+m.y}),f},ud.prototype.postExecute=function(d){var f=d.shape,m=d.delta,g=d.hints,b=this._modeling;!1!==g.layout&&(ge(f.incoming,function(_){b.layoutConnection(_,{connectionEnd:tb(_,f,m)})}),ge(f.outgoing,function(_){b.layoutConnection(_,{connectionStart:eb(_,f,m)})})),!1!==g.recurse&&this.moveChildren(d)},ud.prototype.revert=function(d){var f=d.shape,m=d.oldParent,b=d.delta;return K(m.children,f,d.oldParentIndex),de(f,{parent:m,x:f.x-b.x,y:f.y-b.y}),f},ud.prototype.moveChildren=function(d){this._helper.moveRecursive(d.shape.children,d.delta,null)},ud.prototype.getNewParent=function(d){return d.newParent||d.shape.parent},Gg.$inject=["modeling"],Gg.prototype.execute=function(d){var f=d.newSource,m=d.newTarget,g=d.connection,b=d.dockingOrPoints;if(!f&&!m)throw new Error("newSource or newTarget required");return ut(b)&&(d.oldWaypoints=g.waypoints,g.waypoints=b),f&&(d.oldSource=g.source,g.source=f),m&&(d.oldTarget=g.target,g.target=m),g},Gg.prototype.postExecute=function(d){var f=d.connection,m=d.newSource,g=d.newTarget,b=d.dockingOrPoints,_=d.hints||{},x={};_.connectionStart&&(x.connectionStart=_.connectionStart),_.connectionEnd&&(x.connectionEnd=_.connectionEnd),!1!==_.layoutConnection&&(!m||g&&"source"!==_.docking||(x.connectionStart=x.connectionStart||qg(ut(b)?b[0]:b)),!g||m&&"target"!==_.docking||(x.connectionEnd=x.connectionEnd||qg(ut(b)?b[b.length-1]:b)),_.newWaypoints&&(x.waypoints=_.newWaypoints),this._modeling.layoutConnection(f,x))},Gg.prototype.revert=function(d){var f=d.oldSource,m=d.oldTarget,g=d.oldWaypoints,b=d.connection;return f&&(b.source=f),m&&(b.target=m),g&&(b.waypoints=g),b},Xu.$inject=["modeling","rules"],Xu.prototype.preExecute=function(d){var f,m=this,g=this._modeling,b=this._rules,_=d.oldShape,x=d.newData,w=d.hints||{};function C(I,V,W){return b.allowed("connection.reconnect",{connection:W,source:I,target:V})}var T,O={x:_.x,y:_.y,width:_.width,height:_.height};f=d.newShape=d.newShape||m.createShape(x,{x:x.x,y:x.y},_.parent,w),_.host&&g.updateAttachment(f,_.host),!1!==w.moveChildren&&(T=_.children.slice(),g.moveElements(T,{x:0,y:0},f,w));var M=_.incoming.slice(),A=_.outgoing.slice();ge(M,function(I){C(I.source,f,I)&&m.reconnectEnd(I,f,J2(I,f,O),w)}),ge(A,function(I){C(f,I.target,I)&&m.reconnectStart(I,f,Ap(I,f,O),w)})},Xu.prototype.postExecute=function(d){this._modeling.removeShape(d.oldShape)},Xu.prototype.execute=function(d){},Xu.prototype.revert=function(d){},Xu.prototype.createShape=function(d,f,m,g){return this._modeling.createShape(d,f,m,g)},Xu.prototype.reconnectStart=function(d,f,m,g){this._modeling.reconnectStart(d,f,m,g)},Xu.prototype.reconnectEnd=function(d,f,m,g){this._modeling.reconnectEnd(d,f,m,g)},Wg.$inject=["modeling"],Wg.prototype.execute=function(d){var f=d.shape,m=d.newBounds,g=d.minBounds;if(void 0===m.x||void 0===m.y||void 0===m.width||void 0===m.height)throw new Error("newBounds must have {x, y, width, height} properties");if(g&&(m.width<g.width||m.height<g.height))throw new Error("width and height cannot be less than minimum height and width");if(!g&&m.width<10||m.height<10)throw new Error("width and height cannot be less than 10px");return d.oldBounds={width:f.width,height:f.height,x:f.x,y:f.y},de(f,{width:m.width,height:m.height,x:m.x,y:m.y}),f},Wg.prototype.postExecute=function(d){var f=this._modeling,m=d.shape,g=d.oldBounds;!1!==(d.hints||{}).layout&&(ge(m.incoming,function(b){f.layoutConnection(b,{connectionEnd:J2(b,m,g)})}),ge(m.outgoing,function(b){f.layoutConnection(b,{connectionStart:Ap(b,m,g)})}))},Wg.prototype.revert=function(d){var f=d.shape,m=d.oldBounds;return de(f,{width:m.width,height:m.height,x:m.x,y:m.y}),f},dd.$inject=["modeling"],dd.prototype.preExecute=function(d){var w,C,T,f=d.delta,m=d.direction,g=d.movingShapes,b=d.resizingShapes,_=d.start,x={};this.moveShapes(g,f),ge(b,function(w){var C;x[w.id]={x:(C=w).x,y:C.y,height:C.height,width:C.width}}),this.resizeShapes(b,f,m),this.updateConnectionWaypoints((T=[],ge((w=g).concat(C=b),function(P){ge(P.incoming.concat(P.outgoing),function(A){var I=A.source,V=A.target;(Ig(w,I)||Ig(w,V)||Ig(C,I)||Ig(C,V))&&(Ig(T,A)||T.push(A))})}),T),f,m,_,g,b,x)},dd.prototype.execute=function(){},dd.prototype.revert=function(){},dd.prototype.moveShapes=function(d,f){var m=this;ge(d,function(g){m._modeling.moveShape(g,f,null,{autoResize:!1,layout:!1,recurse:!1})})},dd.prototype.resizeShapes=function(d,f,m){var g=this;ge(d,function(b){var _=function(x,w,C){var T=x.x,P=x.y,O=x.width,M=x.height,A=C.x,I=C.y;switch(w){case"n":return{x:T,y:P+I,width:O,height:M-I};case"s":return{x:T,y:P,width:O,height:M+I};case"w":return{x:T+A,y:P,width:O-A,height:M};case"e":return{x:T,y:P,width:O+A,height:M};default:throw new Error("unknown direction: "+w)}}(b,m,f);g._modeling.resizeShape(b,_,null,{attachSupport:!1,autoResize:!1,layout:!1})})},dd.prototype.updateConnectionWaypoints=function(d,f,m,g,b,_,x){var w=this,C=b.concat(_);ge(d,function(T){var P=T.source,O=T.target,M=Er(T.waypoints,function(W){return(W=M7(W)).original&&(W.original=M7(W.original)),W}),A=R7(m),I={};Fl(C,P)&&Fl(C,O)?(M=Er(M,function(V){return vb(V,g,m)&&(V[A]=V[A]+f[A]),V.original&&vb(V.original,g,m)&&(V.original[A]=V.original[A]+f[A]),V}),w._modeling.updateWaypoints(T,M,{labelBehavior:!1})):(Fl(C,P)||Fl(C,O))&&(Fl(b,P)?I.connectionStart=eb(T,P,f):Fl(b,O)?I.connectionEnd=tb(T,O,f):Fl(_,P)?I.connectionStart=Ap(T,P,x[P.id]):Fl(_,O)&&(I.connectionEnd=J2(T,O,x[O.id])),w._modeling.layoutConnection(T,I))})},yb.$inject=["modeling"],yb.prototype.execute=function(d){var f=d.shape,m=f.children;d.oldChildrenVisibility=Xg(m),f.collapsed=!f.collapsed;var g=Yg(m,f.collapsed);return[f].concat(g)},yb.prototype.revert=function(d){var f=d.shape,g=mM(f.children,d.oldChildrenVisibility);return f.collapsed=!f.collapsed,[f].concat(g)},bb.$inject=["modeling"],bb.prototype.execute=function(d){var f=d.shape,m=d.newHost,g=f.host;return d.oldHost=g,d.attacherIdx=A7(g,f),_b(m,f),f.host=m,f},bb.prototype.revert=function(d){var f=d.shape,m=d.newHost,g=d.oldHost,b=d.attacherIdx;return f.host=g,A7(m,f),_b(g,f,b),f},cE.prototype.execute=function(d){var f=d.connection,m=d.newWaypoints;return d.oldWaypoints=f.waypoints,f.waypoints=m,f},cE.prototype.revert=function(d){var f=d.connection;return f.waypoints=d.oldWaypoints,f},jr.$inject=["eventBus","elementFactory","commandStack"],jr.prototype.getHandlers=function(){return{"shape.append":hb,"shape.create":ld,"shape.delete":cd,"shape.move":ud,"shape.resize":Wg,"shape.replace":Xu,"shape.toggleCollapse":yb,spaceTool:dd,"label.create":Vg,"connection.create":mb,"connection.delete":Wu,"connection.move":lE,"connection.layout":Ug,"connection.updateWaypoints":cE,"connection.reconnect":Gg,"elements.create":sE,"elements.move":gb,"elements.delete":zg,"elements.distribute":Hg,"elements.align":iE,"element.updateAttachment":bb}},jr.prototype.registerHandlers=function(d){ge(this.getHandlers(),function(f,m){d.registerHandler(m,f)})},jr.prototype.moveShape=function(d,f,m,g,b){"object"==typeof g&&(b=g,g=null),this._commandStack.execute("shape.move",{shape:d,delta:f,newParent:m,newParentIndex:g,hints:b||{}})},jr.prototype.updateAttachment=function(d,f){this._commandStack.execute("element.updateAttachment",{shape:d,newHost:f})},jr.prototype.moveElements=function(d,f,m,g){var b,_=(g=g||{}).attach,x=m;!0===_?(b=m,x=m.parent):!1===_&&(b=null),this._commandStack.execute("elements.move",{shapes:d,delta:f,newParent:x,newHost:b,hints:g})},jr.prototype.moveConnection=function(d,f,m,g,b){"object"==typeof g&&(b=g,g=void 0),this._commandStack.execute("connection.move",{connection:d,delta:f,newParent:m,newParentIndex:g,hints:b||{}})},jr.prototype.layoutConnection=function(d,f){this._commandStack.execute("connection.layout",{connection:d,hints:f||{}})},jr.prototype.createConnection=function(d,f,m,g,b,_){"object"==typeof m&&(_=b,b=g,g=m,m=void 0);var x={source:d,target:f,parent:b,parentIndex:m,connection:g=this._create("connection",g),hints:_};return this._commandStack.execute("connection.create",x),x.connection},jr.prototype.createShape=function(d,f,m,g,b){"number"!=typeof g&&(b=g,g=void 0);var _,x,w=(b=b||{}).attach;d=this._create("shape",d),w?(_=m.parent,x=m):_=m;var C={position:f,shape:d,parent:_,parentIndex:g,host:x,hints:b};return this._commandStack.execute("shape.create",C),C.shape},jr.prototype.createElements=function(d,f,m,g,b){ut(d)||(d=[d]),"number"!=typeof g&&(b=g,g=void 0);var _={position:f,elements:d,parent:m,parentIndex:g,hints:b=b||{}};return this._commandStack.execute("elements.create",_),_.elements},jr.prototype.createLabel=function(d,f,m,g){m=this._create("label",m);var b={labelTarget:d,position:f,parent:g||d.parent,shape:m};return this._commandStack.execute("label.create",b),b.shape},jr.prototype.appendShape=function(d,f,m,g,b){b=b||{};var _={source:d,position:m,target:g,shape:f=this._create("shape",f),connection:b.connection,connectionParent:b.connectionParent,hints:b};return this._commandStack.execute("shape.append",_),_.shape},jr.prototype.removeElements=function(d){this._commandStack.execute("elements.delete",{elements:d})},jr.prototype.distributeElements=function(d,f,m){this._commandStack.execute("elements.distribute",{groups:d,axis:f,dimension:m})},jr.prototype.removeShape=function(d,f){this._commandStack.execute("shape.delete",{shape:d,hints:f||{}})},jr.prototype.removeConnection=function(d,f){this._commandStack.execute("connection.delete",{connection:d,hints:f||{}})},jr.prototype.replaceShape=function(d,f,m){var g={oldShape:d,newData:f,hints:m||{}};return this._commandStack.execute("shape.replace",g),g.newShape},jr.prototype.alignElements=function(d,f){this._commandStack.execute("elements.align",{elements:d,alignment:f})},jr.prototype.resizeShape=function(d,f,m,g){this._commandStack.execute("shape.resize",{shape:d,newBounds:f,minBounds:m,hints:g})},jr.prototype.createSpace=function(d,f,m,g,b){this._commandStack.execute("spaceTool",{delta:m,direction:g,movingShapes:d,resizingShapes:f,start:b})},jr.prototype.updateWaypoints=function(d,f,m){this._commandStack.execute("connection.updateWaypoints",{connection:d,newWaypoints:f,hints:m||{}})},jr.prototype.reconnect=function(d,f,m,g,b){this._commandStack.execute("connection.reconnect",{connection:d,newSource:f,newTarget:m,dockingOrPoints:g,hints:b||{}})},jr.prototype.reconnectStart=function(d,f,m,g){g||(g={}),this.reconnect(d,f,d.target,m,de(g,{docking:"source"}))},jr.prototype.reconnectEnd=function(d,f,m,g){g||(g={}),this.reconnect(d,d.source,f,m,de(g,{docking:"target"}))},jr.prototype.connect=function(d,f,m,g){return this.createConnection(d,f,m||{},d.parent,g)},jr.prototype._create=function(d,f){return f instanceof th?f:this._elementFactory.create(d,f)},jr.prototype.toggleCollapse=function(d,f){this._commandStack.execute("shape.toggleCollapse",{shape:d,hints:f||{}})},Kg.$inject=["elementRegistry"],Kg.prototype.execute=function(d){var f=d.element,m=d.moddleElement,g=d.properties;if(!m)throw new Error("<moddleElement> required");var x,b=d.changed||this._getVisualReferences(m).concat(f),_=d.oldProperties||(x=m,zr(ni(g),function(C,T){return C[T]=x.get(T),C},{}));return I7(m,g),d.oldProperties=_,d.changed=b,b},Kg.prototype.revert=function(d){var g=d.changed;return I7(d.moddleElement,d.oldProperties),g},Kg.prototype._getVisualReferences=function(d){var m,f=this._elementRegistry;return Y(d,"bpmn:DataObject")?(m=d,f.filter(function(b){return Y(b,"bpmn:DataObjectReference")&&yt(b).dataObjectRef===m})):[]};var Kh="default",Yu="id",Qh={width:0,height:0};function Vp(d,f,m,g,b){this._elementRegistry=d,this._moddle=f,this._translate=m,this._modeling=g,this._textRenderer=b}function L7(d,f){return Yu in d&&d[Yu]!==f[Yu]}function uE(d,f){var m=d.businessObject,g=ur(d);ge(f,function(b,_){var x;"di"!==_?m.set(_,b):g&&(x=g,ge(b,function(C,T){x.set(T,C)}))})}Vp.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Vp.prototype.execute=function(d){var f=d.element,m=[f];if(!f)throw new Error((0,this._translate)("element required"));var T,P,b=this._elementRegistry,_=this._moddle.ids,x=f.businessObject,w=(P=de({},T=d.properties),gM.forEach(function(O){O in T&&(P[O]=yt(P[O]))}),P),C=d.oldProperties||function(T,P){var O=ni(P),M=T.businessObject,A=ur(T);return zr(O,function(I,V){return I[V]="di"!==V?M.get(V):(W=A,zr(ni(P.di),function(z,Q){return z[Q]=W&&W.get(Q),z},{})),I;var W},{})}(f,w);return L7(w,x)&&(_.unclaim(x[Yu]),b.updateId(f,w[Yu]),_.claim(w[Yu],x)),Kh in w&&(w[Kh]&&m.push(b.get(w[Kh].id)),x[Kh]&&m.push(b.get(x[Kh].id))),uE(f,w),d.oldProperties=C,d.changed=m,m},Vp.prototype.postExecute=function(d){var f=d.element.label,m=f&&yt(f).name;if(m){var g=this._textRenderer.getExternalLabelBounds(f,m);this._modeling.resizeShape(f,g,Qh)}},Vp.prototype.revert=function(d){var f=d.element,m=d.properties,g=d.oldProperties,b=f.businessObject,_=this._elementRegistry,x=this._moddle.ids;return uE(f,g),L7(m,b)&&(x.unclaim(m[Yu]),_.updateId(f,g[Yu]),x.claim(g[Yu],b)),d.changed};var gM=["default"];function Qg(d,f){this._canvas=d,this._modeling=f}function F7(d,f){this._modeling=d,this._spaceTool=f}function dE(d,f){this._modeling=d,this._translate=f}function pd(d,f){this._modeling=d,this._spaceTool=f}Qg.$inject=["canvas","modeling"],Qg.prototype.execute=function(d){var f=this._canvas,m=d.newRoot,g=m.businessObject,b=f.getRootElement(),_=b.businessObject,x=_.$parent,w=ur(b);return f.setRootElement(m),f.removeRootElement(b),K(x.rootElements,g),g.$parent=x,Vi(x.rootElements,_),_.$parent=null,b.di=null,w.bpmnElement=g,m.di=w,d.oldRoot=b,[]},Qg.prototype.revert=function(d){var f=this._canvas,m=d.newRoot,g=m.businessObject,b=d.oldRoot,_=b.businessObject,x=g.$parent,w=ur(m);return f.setRootElement(b),f.removeRootElement(m),Vi(x.rootElements,g),g.$parent=null,K(x.rootElements,_),_.$parent=x,m.di=null,w.bpmnElement=_,b.di=w,[]},F7.$inject=["modeling","spaceTool"],F7.prototype.preExecute=function(d){var f=this._spaceTool,m=this._modeling,g=d.shape,b=d.location,_=dc(g),x=_===g,w=x?g:g.parent;Tp(w).length||m.createShape({type:"bpmn:Lane"},{x:g.x+30,y:g.y,width:g.width-30,height:g.height},w);var C=[];Nc(_,function(I){return C.push(I),I.label&&C.push(I.label),I===g?[]:Ot(I.children,function(V){return V!==g})});var T="top"===b?-120:120,P="top"===b?g.y:g.y+g.height,O=P+("top"===b?10:-10),M="top"===b?"n":"s",A=f.calculateAdjustments(C,"y",T,O);f.makeSpace(A.movingShapes,A.resizingShapes,{x:0,y:T},M,O),d.newLane=m.createShape({type:"bpmn:Lane"},{x:g.x+(x?30:0),y:P-("top"===b?120:0),width:g.width-(x?30:0),height:120},w)},dE.$inject=["modeling","translate"],dE.prototype.preExecute=function(d){var f=this._modeling,m=this._translate,g=d.shape,b=d.count,_=Tp(g),x=_.length;if(x>b)throw new Error(m("more than {count} child lanes",{count:b}));var T,O,M=Math.round(g.height/b);for(O=0;O<b;O++)T={x:g.x+30,y:g.y+O*M,width:g.width-30,height:O===b-1?g.height-M*O:M},O<x?f.resizeShape(_[O],T):f.createShape({type:"bpmn:Lane"},T,g)},pd.$inject=["modeling","spaceTool"],pd.prototype.preExecute=function(d){var f=d.shape,m=d.newBounds;!1!==d.balanced?this.resizeBalanced(f,m):this.resizeSpace(f,m)},pd.prototype.resizeBalanced=function(d,f){var m=this._modeling,g=function WV(d,f){var C,m=dc(d),g=Z0(m,Y(m,"bpmn:Process")?[]:[m]),b=Xt(d),_=Xt(f),x=(C=d,c4(Xt(f),Xt(C))),w=[];return g.forEach(function(C){if(C!==d){var T,P,O=0,M=x.right,A=0,I=x.left,V=Xt(C);x.top&&(V2(V.bottom-b.top)<10&&(A=_.top-V.bottom),V2(V.top-b.top)<5&&(O=_.top-V.top)),x.bottom&&(V2(V.top-b.bottom)<10&&(O=_.bottom-V.top),V2(V.bottom-b.bottom)<5&&(A=_.bottom-V.bottom)),(O||M||A||I)&&w.push({shape:C,newBounds:(T=C,P={top:O,right:M,bottom:A,left:I},{x:T.x+(P.left||0),y:T.y+(P.top||0),width:T.width-(P.left||0)+(P.right||0),height:T.height-(P.top||0)+(P.bottom||0)})})}}),w}(d,f);m.resizeShape(d,f),g.forEach(function(b){m.resizeShape(b.shape,b.newBounds)})},pd.prototype.resizeSpace=function(d,f){var m,b,x,w=this._spaceTool,C=Xt(d),T=c4(Xt(f),C),P=dc(d),O=[],M=[];Nc(P,function(A){return O.push(A),(Y(A,"bpmn:Lane")||Y(A,"bpmn:Participant"))&&M.push(A),A.children}),(T.bottom||T.top)&&(m=T.bottom||T.top,b=T.bottom?"s":"n",x=w.calculateAdjustments(O,"y",T.top>0||T.bottom<0?-m:m,d.y+(T.bottom?d.height:0)+(T.bottom?-10:10)),w.makeSpace(x.movingShapes,x.resizingShapes,{x:0,y:m},b)),(T.left||T.right)&&(m=T.right||T.left,b=T.right?"e":"w",x=w.calculateAdjustments(M,"x",T.left>0||T.right<0?-m:m,d.x+(T.right?d.width:0)+(T.right?-10:100)),w.makeSpace(x.movingShapes,x.resizingShapes,{x:m,y:0},b))};var Zh="flowNodeRef",Jh="lanes";function Zg(d){this._elementRegistry=d}function Eb(d){this._moddle=d}Zg.$inject=["elementRegistry"],Zg.prototype._computeUpdates=function(d,f){var m=[],g=[],b={},_=[];function x(C){-1===m.indexOf(C)&&(_.push(C),m.push(C))}return f.forEach(function(C){var T=dc(C);T&&-1===m.indexOf(T)&&(T.children.filter(function(O){return Y(O,"bpmn:FlowNode")}).forEach(x),m.push(T))}),d.forEach(x),_.forEach(function(C){var T=C.businessObject,P=T.get(Jh).slice(),O=function w(C){return C.parent?(O=dc(C),b[O.id]||(b[O.id]=Z0(O)),b[O.id]).filter(function(P){return O=C,M=Xt(P),I=O.y+O.height/2,(A=O.x+O.width/2)>M.left&&A<M.right&&I>M.top&&I<M.bottom;var O,M,A,I}).map(function(P){return P.businessObject}):[];var O}(C);g.push({flowNode:T,remove:P,add:O})}),f.forEach(function(C){var T=C.businessObject;C.parent||T.get(Zh).forEach(function(P){g.push({flowNode:P,remove:[T],add:[]})})}),g},Zg.prototype.execute=function(d){var f=d.updates;return f||(f=d.updates=this._computeUpdates(d.flowNodeShapes,d.laneShapes)),f.forEach(function(m){var g=m.flowNode,b=g.get(Jh);m.remove.forEach(function(_){Vi(b,_),Vi(_.get(Zh),g)}),m.add.forEach(function(_){K(b,_),K(_.get(Zh),g)})}),[]},Zg.prototype.revert=function(d){return d.updates.forEach(function(f){var m=f.flowNode,g=m.get(Jh);f.add.forEach(function(b){Vi(g,b),Vi(b.get(Zh),m)}),f.remove.forEach(function(b){K(g,b),K(b.get(Zh),m)})}),[]},Eb.$inject=["moddle"],Eb.prototype.execute=function(d){var f=this._moddle.ids,m=d.id;return d.claiming?f.claim(m,d.element):f.unclaim(m),[]},Eb.prototype.revert=function(d){var f=this._moddle.ids,m=d.id,g=d.element;return d.claiming?f.unclaim(m):f.claim(m,g),[]};var pE={fill:void 0,stroke:void 0};function B7(d){this._commandStack=d,this._normalizeColor=function(f){if(f){if(Or(f)){var m=(g=f,(b=document.createElement("canvas").getContext("2d")).fillStyle="transparent",b.fillStyle=g,/^#[0-9a-fA-F]{6}$/.test(b.fillStyle)?b.fillStyle:null);if(m)return m}throw new Error("invalid color value: "+f)}var g,b}}B7.$inject=["commandStack"],B7.prototype.postExecute=function(d){var f=d.elements,m=d.colors||pE,g=this,b={};"fill"in m&&de(b,{"background-color":this._normalizeColor(m.fill)}),"stroke"in m&&de(b,{"border-color":this._normalizeColor(m.stroke)}),ge(f,function(_){var C,x=vi(_)?It(b,["border-color"]):b,w=ur(_);if("border-color"in(C=x)&&(C.stroke=C["border-color"]),"background-color"in C&&(C.fill=C["background-color"]),vr(_))g._commandStack.execute("element.updateModdleProperties",{element:_,moddleElement:w.label,properties:{color:b["border-color"]}});else{if(!Un(w,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;g._commandStack.execute("element.updateProperties",{element:_,properties:{di:x}})}})};var j7={width:0,height:0};function mc(d,f,m){function g(b,_){var T,P,O,x=b.label||b,w=b.labelTarget||b;return T=_,(O=fs(P=x.businessObject))&&("categoryValueRef"===O?P.categoryValueRef.value=T:P[O]=T),[x,w]}this.preExecute=function(b){var _=b.element,x=_.businessObject,w=b.newLabel;if(!vr(_)&&dt(_)&&!Zt(_)&&!fE(w)){var C=Ya(_);d.createLabel(_,C={x:C.x,y:C.y+7},{id:x.id+"_label",businessObject:x,di:_.di})}},this.execute=function(b){return b.oldLabel=zi(b.element),g(b.element,b.newLabel)},this.revert=function(b){return g(b.element,b.oldLabel)},this.postExecute=function(b){var _=b.element,x=_.label||_,w=b.newLabel,C=b.newBounds,T=b.hints||{};if(vr(x)||Y(x,"bpmn:TextAnnotation"))if(vr(x)&&fE(w))!1!==T.removeShape&&d.removeShape(x,{unsetLabel:!1});else{var P=zi(_);void 0===C&&(C=f.getExternalLabelBounds(x,P)),C&&d.resizeShape(x,C,j7)}}}function fE(d){return!d||!d.trim()}function Es(d,f,m,g){jr.call(this,d,f,m),this._bpmnRules=g}function vM(){}mc.$inject=["modeling","textRenderer","bpmnFactory"],Ye(Es,jr),Es.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Es.prototype.getHandlers=function(){var d=jr.prototype.getHandlers.call(this);return d["element.updateModdleProperties"]=Kg,d["element.updateProperties"]=Vp,d["canvas.updateRoot"]=Qg,d["lane.add"]=F7,d["lane.resize"]=pd,d["lane.split"]=dE,d["lane.updateRefs"]=Zg,d["id.updateClaim"]=Eb,d["element.setColor"]=B7,d["element.updateLabel"]=mc,d},Es.prototype.updateLabel=function(d,f,m,g){this._commandStack.execute("element.updateLabel",{element:d,newLabel:f,newBounds:m,hints:g||{}})},Es.prototype.connect=function(d,f,m,g){if(m||(m=this._bpmnRules.canConnect(d,f)),m)return this.createConnection(d,f,m,d.parent,g)},Es.prototype.updateModdleProperties=function(d,f,m){this._commandStack.execute("element.updateModdleProperties",{element:d,moddleElement:f,properties:m})},Es.prototype.updateProperties=function(d,f){this._commandStack.execute("element.updateProperties",{element:d,properties:f})},Es.prototype.resizeLane=function(d,f,m){this._commandStack.execute("lane.resize",{shape:d,newBounds:f,balanced:m})},Es.prototype.addLane=function(d,f){var m={shape:d,location:f};return this._commandStack.execute("lane.add",m),m.newLane},Es.prototype.splitLane=function(d,f){this._commandStack.execute("lane.split",{shape:d,count:f})},Es.prototype.makeCollaboration=function(){var d=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:d}),d},Es.prototype.makeProcess=function(){var d={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",d)},Es.prototype.updateLaneRefs=function(d,f){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:d,laneShapes:f})},Es.prototype.claimId=function(d,f){this._commandStack.execute("id.updateClaim",{id:d,element:f,claiming:!0})},Es.prototype.unclaimId=function(d,f){this._commandStack.execute("id.updateClaim",{id:d,element:f})},Es.prototype.setColor=function(d,f){d.length||(d=[d]),this._commandStack.execute("element.setColor",{elements:d,colors:f})},vM.prototype.layoutConnection=function(d,f){return[(f=f||{}).connectionStart||hn(f.source||d.source),f.connectionEnd||hn(f.target||d.target)]};var Lr=20,yM=5,em=Math.round,$7=20,bM={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function xb(d,f,m){var g,b,x=Kr(f,d,yM),w=m.split(":")[0],C=em((f.x-d.x)/2+d.x),T=em((f.y-d.y)/2+d.y),P={t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[w].test(x),O=/h|r|l/.test(w),A=!1;return P?(g=O?{x:C,y:d.y}:{x:d.x,y:T},b=O?"h:h":"v:v"):(b=O?"h:v":"v:h",{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[w].test(x)?g={x:C,y:T}:O?(A=T===d.y,g={x:d.x+Lr*(/l/.test(w)?-1:1),y:A?T+Lr:T}):g={x:(A=C===d.x)?C+Lr:C,y:d.y+Lr*(/t/.test(w)?-1:1)}),{waypoints:wb(d,g,b).concat(g),directions:b,turnNextDirections:A}}function hE(d){return d.split(":").reverse().join(":")}function wb(d,f,m){if(!(x=m=m||"h:h")||!/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(x))throw new Error("unknown directions: <"+m+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");var x;if(mE(m)){var g=function(x,w,C){return xb(x,w,C)}(d,f,m),b=function(x,w,C){var T=xb(w,x,hE(C));return{waypoints:T.waypoints.slice().reverse(),directions:hE(T.directions),turnNextDirections:T.turnNextDirections}}(d,f,m),_=function(x,w){var C=x.directions.split(":")[1],T=w.directions.split(":")[0];x.turnNextDirections&&(C="h"==C?"v":"h"),w.turnNextDirections&&(T="h"==T?"v":"h");var P=C+":"+T;return{waypoints:wb(x.waypoints[x.waypoints.length-1],w.waypoints[0],P),directions:P}}(g,b);return[].concat(g.waypoints,_.waypoints,b.waypoints)}return function(x,w,C){var T=em((w.x-x.x)/2+x.x),P=em((w.y-x.y)/2+x.y);if("h:v"===C)return[{x:w.x,y:x.y}];if("v:h"===C)return[{x:x.x,y:w.y}];if("h:h"===C)return[{x:T,y:x.y},{x:T,y:w.y}];if("v:v"===C)return[{x:x.x,y:P},{x:w.x,y:P}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(d,f,m)}function V7(d,f,m,g,b){var _=function ti(d,f){if(ht(d))return[];!function(g){if(!ut(g))throw new Error("must supply array")}(d);const m=ls(f);return d.filter(function(g,b){return!m(g,b)})}(b&&b.preferredLayouts||[],"straight")[0]||"h:h",x=Kr(d,f,bM[_]||0),w=function(P,O){if(mE(O))return O;switch(P){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return O}}(x,_);m=m||hn(d),g=g||hn(f);var P,O,A,C=w.split(":");return P=Sb(m,d,C[0],{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[x]),O=Sb(g,f,C[1],x),(A=wb(P,O,w)).unshift(P),A.push(O),H7(A)}function z7(d,f,m){return(g=f[d])>=m[d]&&g<=m[d]+m[{x:"width",y:"height"}[d]];var g}function Ku(d,f,m,g){if((w=g).length<3||!(w.length>4)&&ln(w,function(C,T){var P=w[T-1];return P&&be(C,P)<3}))return null;var w,b,_=g[0],x=g.slice();return x[0]=m,x[1]=function(w,C,T){switch(Tt(C,w)){case"v":return{x:T.x,y:w.y};case"h":return{x:w.x,y:T.y}}return{x:w.x,y:w.y}}(x[1],_,m),b=function(w,C,T){var P;for(P=w.length-2;0!==P;P--)if(wo(w[P],C,$7)||wo(w[P],T,$7))return w.slice(P);return w}(x,d,f),b!==x&&(x=Ku(d,f,m,b)),x&&Tt(x)?null:x}function mE(d){return d&&/t|r|b|l/.test(d)}function Sb(d,f,m,g){if("h"===m&&(m=/left/.test(g)?"l":"r"),"v"===m&&(m=/top/.test(g)?"t":"b"),"t"===m)return{original:d,x:d.x,y:f.y};if("r"===m)return{original:d,x:f.x+f.width,y:d.y};if("b"===m)return{original:d,x:d.x,y:f.y+f.height};if("l"===m)return{original:d,x:f.x,y:d.y};throw new Error("unexpected dockingDirection: <"+m+">")}function H7(d){return d.reduce(function(f,m,g){return Le(f[f.length-1],d[g+1],m,0)||f.push(m),f},[])}var U7=40,Cb={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},fd={top:"t",right:"r",bottom:"b",left:"l"};function Jg(){}function hd(d,f){return Y(f,"bpmn:Participant")?"source":Y(d,"bpmn:Participant")?"target":ev(f)?"source":ev(d)||Y(f,"bpmn:Event")?"target":Y(d,"bpmn:Event")?"source":null}function Db(d){return ev(d)?"target":"source"}function vE(d,f){return d?d.original||d:hn(f)}function tm(d,f){return Y(f,"bpmn:Activity")&&Y(d,"bpmn:BoundaryEvent")&&f.businessObject.isForCompensation}function ev(d){return Y(d,"bpmn:SubProcess")&&lr(d)}function tv(d,f){return d===f}function zp(d){var f=/right|left/.exec(d);return f&&f[0]}function md(d){var f=/top|bottom/.exec(d);return f&&f[0]}function eu(d){return"right"===d||"left"===d}function nv(d,f){var m=f.waypoints,g=m&&m.length&&Kr(m[0],d);return"top"===g?["t:r"]:"right"===g?["r:b"]:"left"===g?["l:t"]:["b:l"]}function KV(d,f,m){var g,b,_,x,A,I,V,W,H,Q,w=hn(d),C=hn(f),T=(x=(_=d).host,Kr(hn(_),x,-10)),P=tv(d.host,f),O=-1!==["top","right","bottom","left"].indexOf(T),M=Kr(C,w,{x:d.width/2+f.width/2,y:d.height/2+f.height/2});return P?(A=T,V=d,W=f,H=m,Q=(I=O)?A:md(A),[fd[Q]+":"+(I?eu(A)?rv("y",V,W,H)?"h":"b":rv("x",V,W,H)?"v":"l":"v")]):(g=function(A,I,V){return V?fd[A]:tv(md(A),md(I))||function(W,H){return Cb[W]===H}(zp(A),zp(I))?fd[md(A)]:fd[zp(A)]}(T,M,O),b=function(A,I,V){return V?eu(A)?function(W,H){var z=zp(W);return-1!==H.indexOf(Cb[z])}(A,I)||tv(A,I)?"h":"v":function(W,H){var z=md(W);return-1!==H.indexOf(Cb[z])}(A,I)||tv(A,I)?"v":"h":eu(I)||tv(md(A),md(I))&&zp(I)?"h":"v"}(T,M,O),[g+":"+b])}function rv(d,f,m,g){var b=U7;return!(Tb(d,g,m,b)||Tb(d,g,{x:m.x+m.width,y:m.y+m.height},b)||Tb(d,g,hn(f),b))}function Tb(d,f,m,g){return Math.abs(f[d]-m[d])<g}function yE(d){return de({original:d.point.original||d.point},d.actual)}function gd(d,f){this._elementRegistry=d,this._graphicsFactory=f}Ye(Jg,vM),Jg.prototype.layoutConnection=function(d,f){f||(f={});var m,g,b=f.source||d.source,_=f.target||d.target,x=f.waypoints||d.waypoints,w=f.connectionStart,C=f.connectionEnd;return w||(w=vE(x&&x[0],b)),C||(C=vE(x&&x[x.length-1],_)),(Y(d,"bpmn:Association")||Y(d,"bpmn:DataAssociation"))&&x&&!tm(b,_)?[].concat([w],x.slice(1,-1),[C]):(Y(d,"bpmn:MessageFlow")?m={preferredLayouts:["straight","v:v"],preserveDocking:hd(b,_)}:(Y(d,"bpmn:SequenceFlow")||tm(b,_))&&(m=b===_?{preferredLayouts:nv(b,d)}:Y(b,"bpmn:BoundaryEvent")?{preferredLayouts:KV(b,_,C)}:ev(b)||ev(_)?{preferredLayouts:["straight","h:h"],preserveDocking:Db(b)}:Y(b,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:Y(_,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),m&&(g=H7(function _M(d,f,m,g,b,_){var x,w,C,T,P,O,M,A,I;return ut(m)&&(b=m,_=g,m=hn(d),g=hn(f)),b=b||[],(x=-1!==(_=de({preferredLayouts:[]},_)).preferredLayouts.indexOf("straight")&&(T=m,P=g,O=_,I={},A=Kr(w=d,C=f),/^(top|bottom|left|right)$/.test(A)?(/top|bottom/.test(A)&&(M="x"),/left|right/.test(A)&&(M="y"),"target"===O.preserveDocking?z7(M,P,w)?(I[M]=P[M],[{x:void 0!==I.x?I.x:T.x,y:void 0!==I.y?I.y:T.y,original:{x:void 0!==I.x?I.x:T.x,y:void 0!==I.y?I.y:T.y}},{x:P.x,y:P.y}]):null:z7(M,T,C)?(I[M]=T[M],[{x:T.x,y:T.y},{x:void 0!==I.x?I.x:P.x,y:void 0!==I.y?I.y:P.y,original:{x:void 0!==I.x?I.x:P.x,y:void 0!==I.y?I.y:P.y}}]):null):null))||(x=_.connectionEnd&&function(w,C,T,P){var O=P.slice().reverse();return(O=Ku(w,C,T,O))?O.reverse():null}(f,d,g,b),x||(x=_.connectionStart&&Ku(d,f,m,b))||(!_.connectionStart&&!_.connectionEnd&&b&&b.length?b:V7(d,f,m,g,_)))}(b,_,w,C,x,m=de(m,f)))),g||[w,C])},gd.$inject=["elementRegistry","graphicsFactory"],gd.prototype.getCroppedWaypoints=function(d,f,m){m=m||d.target;var g=this.getDockingPoint(d,f=f||d.source,!0),b=this.getDockingPoint(d,m),_=d.waypoints.slice(g.idx+1,b.idx);return _.unshift(yE(g)),_.push(yE(b)),_},gd.prototype.getDockingPoint=function(d,f,m){var g,b,_=d.waypoints;return{point:b=_[g=m?0:_.length-1],actual:this._getIntersection(f,d,m)||b,idx:g}},gd.prototype._getIntersection=function(d,f,m){return Fy(this._getShapePath(d),this._getConnectionPath(f),m)},gd.prototype._getConnectionPath=function(d){return this._graphicsFactory.getConnectionPath(d)},gd.prototype._getShapePath=function(d){return this._graphicsFactory.getShapePath(d)},gd.prototype._getGfx=function(d){return this._elementRegistry.getGraphics(d)};var Pb={__init__:["modeling","bpmnUpdater"],__depends__:[y7,T7,ub,aM,Mh,uM,$g,dM,Lu,v_,tE],bpmnFactory:["type",Ll],bpmnUpdater:["type",_s],elementFactory:["type",ad],modeling:["type",Es],layouter:["type",Jg],connectionDocking:["type",gd]},iv=new R8("tt");function bE(d,f){d.style.display=!1===f?"none":""}var G7="djs-tooltip",_E="."+G7;function ia(d,f){var m,g;this._eventBus=d,this._canvas=f,this._ids=iv,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(m=f.getContainer(),ke(g=wr('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),m.insertBefore(g,m.firstChild),g);var b=this;Oi.bind(this._tooltipRoot,_E,"mousedown",function(_){_.stopPropagation()}),Oi.bind(this._tooltipRoot,_E,"mouseover",function(_){b.trigger("mouseover",_)}),Oi.bind(this._tooltipRoot,_E,"mouseout",function(_){b.trigger("mouseout",_)}),this._init()}ia.$inject=["eventBus","canvas"],ia.prototype.add=function(d){if(!d.position)throw new Error("must specifiy tooltip position");if(!d.html)throw new Error("must specifiy tooltip html");var f=this._ids.next();return d=de({},this._tooltipDefaults,d,{id:f}),this._addTooltip(d),d.timeout&&this.setTimeout(d),f},ia.prototype.trigger=function(d,f){var g=this.get(Ue(f.delegateTarget||f.target,"data-tooltip-id"));g&&("mouseover"===d&&g.timeout&&this.clearTimeout(g),"mouseout"===d&&g.timeout&&(g.timeout=1e3,this.setTimeout(g)))},ia.prototype.get=function(d){return"string"!=typeof d&&(d=d.id),this._tooltips[d]},ia.prototype.clearTimeout=function(d){if(d=this.get(d)){var f=d.removeTimer;f&&(clearTimeout(f),d.removeTimer=null)}},ia.prototype.setTimeout=function(d){if(d=this.get(d)){this.clearTimeout(d);var f=this;d.removeTimer=setTimeout(function(){f.remove(d)},d.timeout)}},ia.prototype.remove=function(d){var f=this.get(d);f&&(cs(f.html),cs(f.htmlContainer),delete f.htmlContainer,delete this._tooltips[f.id])},ia.prototype.show=function(){bE(this._tooltipRoot)},ia.prototype.hide=function(){bE(this._tooltipRoot,!1)},ia.prototype._updateRoot=function(d){var f=d.scale||1,m=d.scale||1,g="matrix("+f+",0,0,"+m+","+-1*d.x*f+","+-1*d.y*m+")";this._tooltipRoot.style.transform=g,this._tooltipRoot.style["-ms-transform"]=g},ia.prototype._addTooltip=function(d){var f,m=d.id,g=d.html,b=this._tooltipRoot;g.get&&g.constructor.prototype.jquery&&(g=g.get(0)),Or(g)&&(g=wr(g)),ke(f=wr('<div data-tooltip-id="'+m+'" class="'+G7+'">'),{position:"absolute"}),f.appendChild(g),d.type&&$t(f).add("djs-tooltip-"+d.type),d.className&&$t(f).add(d.className),d.htmlContainer=f,b.appendChild(f),this._tooltips[m]=d,this._updateTooltip(d)},ia.prototype._updateTooltip=function(d){var f=d.position;ke(d.htmlContainer,{left:f.x+"px",top:f.y+"px"})},ia.prototype._updateTooltipVisibilty=function(d){ge(this._tooltips,function(f){var m=f.show,b=!0;m&&((m.minZoom>d.scale||m.maxZoom<d.scale)&&(b=!1),bE(f.htmlContainer,b))})},ia.prototype._init=function(){var d=this;this._eventBus.on("canvas.viewbox.changing",function(f){d.hide()}),this._eventBus.on("canvas.viewbox.changed",function(f){var m;d._updateRoot(m=f.viewbox),d._updateTooltipVisibilty(m),d.show()})};var EM={__init__:["tooltips"],tooltips:["type",ia]};function q7(d,f,m){d.on(["shape.move.rejected","create.rejected"],function(g){var b,_,w=g.context,C=w.shape;Y(w.target,"bpmn:Collaboration")&&Y(C,"bpmn:FlowNode")&&(b=g,_=m("flow elements must be children of pools/participants"),f.add({position:{x:b.x+5,y:b.y+5},type:"error",timeout:2e3,html:"<div>"+_+"</div>"}))})}q7.$inject=["eventBus","tooltips","translate"];var xM={__depends__:[EM],__init__:["modelingFeedback"],modelingFeedback:["type",q7]},Ob=Math.round;function Bl(d,f,m,g,b){function _(w,C,T,P){return b.allowed("elements.move",{shapes:w,delta:C,position:T,target:P})}function x(w,C,T,P){if(Sn(T)&&(P=T,T=!1),!C.waypoints&&C.parent&&!kn(w.target).has("djs-hit-no-move")){var O={x:(M=C).x+Ob(M.width/2),y:M.y+Ob(M.height/2)};return f.init(w,O,"shape.move",{cursor:"grabbing",autoActivate:T,data:{shape:C,context:P||{}}}),!0}var M}d.on("shape.move.start",1500,function(w){var O,M,C=w.context,T=w.shape,P=g.get().slice();-1===P.indexOf(T)&&(P=[T]),M=xo(O=P,"id"),de(C,{shapes:P=Ot(O,function(A){for(;A=A.parent;)if(M[A.id])return!1;return!0}),validatedShapes:P,shape:T})}),d.on("shape.move.start",1250,function(w){var C=w.context;if(!(C.canExecute=_(C.validatedShapes)))return!1}),d.on("shape.move.move",500,function(w){var C,T=w.context,O=w.hover,M={x:w.dx,y:w.dy};C=_(T.validatedShapes,M,{x:w.x,y:w.y},O),T.delta=M,T.canExecute=C,T.target=null!==C?O:null}),d.on("shape.move.end",function(w){var C=w.context,T=C.delta,P=C.canExecute,O="attach"===P,M=C.shapes;if(!1===P)return!1;T.x=Ob(T.x),T.y=Ob(T.y),0===T.x&&0===T.y||m.moveElements(M,T,C.target,{primaryShape:C.shape,attach:O})}),d.on("element.mousedown",function(w){if(H0(w)){var C=z0(w);if(!C)throw new Error("must supply DOM mousedown event");return x(C,w.element)}}),this.start=x}Bl.$inject=["eventBus","dragging","modeling","selection","rules"];var EE="djs-dragging",W7="drop-ok",xE="drop-not-ok",wE="new-parent",kb="attach-ok";function SE(d,f,m,g){function _(w){var C=Lc(w,!0),T=Er(C,function(P){return(P.incoming||[]).concat(P.outgoing||[])});return en(C.concat(T))}function x(w,C){[kb,W7,xE,wE].forEach(function(T){T===C?f.addMarker(w,T):f.removeMarker(w,T)})}d.on("shape.move.start",499,function(w){var C=w.context,T=C.shapes,P=C.allDraggedElements,O=function b(w){var T;return Ot(T=_(w),function(O){return!vi(O)||ln(T,so({id:O.source.id}))&&ln(T,so({id:O.target.id}))})}(T);if(!C.dragGroup){var M=Mt("g");_t(M,m.cls("djs-drag-group",["no-events"])),nn(f.getActiveLayer(),M),C.dragGroup=M}O.forEach(function(A){g.addDragger(A,C.dragGroup)}),ge(P=P?en([P,_(T)]):_(T),function(A){f.addMarker(A,EE)}),C.allDraggedElements=P,C.differentParents=1!==ni(xo(T,function(A){return A.parent&&A.parent.id})).length}),d.on("shape.move.move",499,function(w){var C=w.context,T=C.dragGroup,P=C.target;P&&x(P,"attach"===C.canExecute?kb:C.canExecute&&P&&P.id!==C.shape.parent.id?wE:C.canExecute?W7:xE),ds(T,w.dx,w.dy)}),d.on(["shape.move.out","shape.move.cleanup"],function(w){var C=w.context.target;C&&x(C,null)}),d.on("shape.move.cleanup",function(w){var C=w.context,P=C.dragGroup;ge(C.allDraggedElements,function(O){f.removeMarker(O,EE)}),P&&hi(P)}),this.makeDraggable=function(w,C,T){g.addDragger(C,w.dragGroup),T&&f.addMarker(C,EE),w.allDraggedElements?w.allDraggedElements.push(C):w.allDraggedElements=[C]}}SE.$inject=["eventBus","canvas","styles","previewSupport"];var wM={__depends__:[o2,Lu,KO,ys,W0,ig],__init__:["move","movePreview"],move:["type",Bl],movePreview:["type",SE]},CE=".djs-palette-toggle",X7=CE+", .entry",Rb="djs-palette-",DE="open",Y7="two-column";function fo(d,f){this._eventBus=d,this._canvas=f;var m=this;d.on("tool-manager.update",function(g){m.updateToolHighlight(g.tool)}),d.on("i18n.changed",function(){m._update()}),d.on("diagram.init",function(){m._diagramInitialized=!0,m._rebuild()})}function TE(d,f){var m=f.getPaletteEntries();return xn(m)?m(d):(ge(m,function(g,b){d[b]=g}),d)}fo.$inject=["eventBus","canvas"],fo.prototype.registerProvider=function(d,f){f||(f=d,d=1e3),this._eventBus.on("palette.getProviders",d,function(m){m.providers.push(f)}),this._rebuild()},fo.prototype.getEntries=function(){return this._getProviders().reduce(TE,{})},fo.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},fo.prototype._init=function(){var d=this,f=this._eventBus,m=this._getParentContainer(),g=this._container=wr(fo.HTML_MARKUP);m.appendChild(g),$t(m).add(Rb+"shown"),Oi.bind(g,X7,"click",function(b){if(Ir(b.delegateTarget,CE))return d.toggle();d.trigger("click",b)}),Qt.bind(g,"mousedown",function(b){b.stopPropagation()}),Oi.bind(g,".entry","dragstart",function(b){d.trigger("dragstart",b)}),f.on("canvas.resized",this._layoutChanged,this),f.fire("palette.create",{container:g})},fo.prototype._getProviders=function(d){var f=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(f),f.providers},fo.prototype._toggleState=function(d){d=d||{};var f,m=this._getParentContainer(),b=this._eventBus,_=$t(this._container),x=$t(m);f="twoColumn"in d?d.twoColumn:this._needsCollapse(m.clientHeight,this._entries||{}),_.toggle(Y7,f),x.toggle(Rb+Y7,f),"open"in d&&(_.toggle(DE,d.open),x.toggle(Rb+DE,d.open)),b.fire("palette.changed",{twoColumn:f,open:this.isOpen()})},fo.prototype._update=function(){var d=gr(".djs-palette-entries",this._container),f=this._entries=this.getEntries();nr(d),ge(f,function(m,g){var b=m.group||"default",_=gr("[data-group="+I1(b)+"]",d);_||(Ue(_=wr('<div class="group"></div>'),"data-group",b),d.appendChild(_));var P,O,w=wr(m.html||(m.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(_.appendChild(w),!m.separator&&(Ue(w,"data-action",g),m.title&&Ue(w,"title",m.title),m.className&&(P=m.className,O=$t(w),(ut(P)?P:P.split(/\s+/g)).forEach(function(M){O.add(M)})),m.imageUrl)){var C=wr("<img>");Ue(C,"src",m.imageUrl),w.appendChild(C)}}),this.open()},fo.prototype.trigger=function(d,f,m){var g,_=f.delegateTarget||f.target;return _?(g=Ue(_,"data-action"),this.triggerEntry(g,d,f.originalEvent||f,m)):f.preventDefault()},fo.prototype.triggerEntry=function(d,f,m,g){var b,_;if((b=this._entries[d])&&(_=b.action,!1!==this._eventBus.fire("palette.trigger",{entry:b,event:m}))){if(xn(_)){if("click"===f)return _(m,g)}else if(_[f])return _[f](m,g);m.preventDefault()}},fo.prototype._layoutChanged=function(){this._toggleState({})},fo.prototype._needsCollapse=function(d,f){return d<46*Object.keys(f).length+50},fo.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},fo.prototype.open=function(){this._toggleState({open:!0})},fo.prototype.toggle=function(){this.isOpen()?this.close():this.open()},fo.prototype.isActiveTool=function(d){return d&&this._activeTool===d},fo.prototype.updateToolHighlight=function(d){var f;this._toolsContainer||(f=gr(".djs-palette-entries",this._container),this._toolsContainer=gr("[data-group=tools]",f)),ge(this._toolsContainer.children,function(m){var g=m.getAttribute("data-action");if(g){var b=$t(m);g=g.replace("-tool",""),b.contains("entry")&&g===d?b.add("highlighted-entry"):b.remove("highlighted-entry")}})},fo.prototype.isOpen=function(){return $t(this._container).has(DE)},fo.prototype._getParentContainer=function(){return this._canvas.getContainer()},fo.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var PE={__init__:["palette"],palette:["type",fo]},OE="crosshair";function Qu(d,f,m,g,b,_,x){this._selection=b,this._dragging=m,this._mouse=x;var w=this;_.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),d.on("lasso.selection.end",function(O){(O.hover||O.originalEvent.target instanceof SVGElement)&&d.once("lasso.selection.ended",function(){w.activateLasso(O.originalEvent,!0)})}),d.on("lasso.end",function(O){var M=ov(O),A=g.filter(function(I){return I});w.select(A,M)}),d.on("lasso.start",function(O){var M=O.context;M.bbox=ov(O),function(O){var M,A=f.getActiveLayer();_t(M=O.frame=Mt("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),nn(A,M)}(M)}),d.on("lasso.move",function(O){var M=O.context;M.bbox=ov(O),function(O){var A=O.bbox;_t(O.frame,{x:A.x,y:A.y,width:A.width,height:A.height})}(M)}),d.on("lasso.cleanup",function(O){!function(O){O.frame&&hi(O.frame)}(O.context)}),d.on("element.mousedown",1500,function(O){if(R1(O))return w.activateLasso(O.originalEvent),!0})}function ov(d){var f={x:d.x-d.dx,y:d.y-d.dy},m={x:d.x,y:d.y};return f.x<=m.x&&f.y<m.y||f.x<m.x&&f.y<=m.y?{x:f.x,y:f.y,width:m.x-f.x,height:m.y-f.y}:f.x>=m.x&&f.y<m.y||f.x>m.x&&f.y<=m.y?{x:m.x,y:f.y,width:f.x-m.x,height:m.y-f.y}:f.x<=m.x&&f.y>m.y||f.x<m.x&&f.y>=m.y?{x:f.x,y:m.y,width:m.x-f.x,height:f.y-m.y}:f.x>=m.x&&f.y>m.y||f.x>m.x&&f.y>=m.y?{x:m.x,y:m.y,width:f.x-m.x,height:f.y-m.y}:{x:m.x,y:m.y,width:0,height:0}}Qu.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Qu.prototype.activateLasso=function(d,f){this._dragging.init(d,"lasso",{autoActivate:f,cursor:OE,data:{context:{}}})},Qu.prototype.activateSelection=function(d,f){this._dragging.init(d,"lasso.selection",{trapClick:!1,autoActivate:f,cursor:OE,data:{context:{}}})},Qu.prototype.select=function(d,f){var b,_,m=(b=f,_={},ge(d,function(x){var w=x;w.waypoints&&(w=ri(w)),!at(b.y)&&w.x>b.x&&(_[x.id]=x),!at(b.x)&&w.y>b.y&&(_[x.id]=x),w.x>b.x&&w.y>b.y&&(at(b.width)&&at(b.height)&&w.width+w.x<b.width+b.x&&w.height+w.y<b.height+b.y?_[x.id]=x:at(b.width)&&at(b.height)||(_[x.id]=x))}),_);this._selection.select(as(m))},Qu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();this.activateSelection(d,!!d)},Qu.prototype.isActive=function(){var d=this._dragging.context();return d&&/^lasso/.test(d.prefix)};var SM={__depends__:[Gh,Dp],__init__:["lassoTool"],lassoTool:["type",Qu]};function nm(d,f,m,g,b,_){this._dragging=m,this._mouse=_;var x=this,w=g.get("keyboard",!1);b.registerTool("hand",{tool:"hand",dragging:"hand.move"}),d.on("element.mousedown",1500,function(C){if(uh(C))return x.activateMove(C.originalEvent,!0),!1}),w&&w.addListener(1500,function(C){if(ME(C.keyEvent)&&!x.isActive()){var T=x._mouse.getLastMoveEvent();x.activateMove(T,!!T)}},"keyboard.keydown"),w&&w.addListener(1500,function(C){ME(C.keyEvent)&&x.isActive()&&x.toggle()},"keyboard.keyup"),d.on("hand.end",function(C){if(!(C.hover||C.originalEvent.target instanceof SVGElement))return!1;d.once("hand.ended",function(){x.activateMove(C.originalEvent,{reactivate:!0})})}),d.on("hand.move.move",function(C){var T=f.viewbox().scale;f.scroll({dx:C.dx*T,dy:C.dy*T})}),d.on("hand.move.end",function(C){var T=C.context.reactivate;return!uh(C)&&T&&d.once("hand.move.ended",function(P){x.activateHand(P.originalEvent,!0,!0)}),!1})}function ME(d){return zo("Space",d)}nm.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],nm.prototype.activateMove=function(d,f,m){"object"==typeof f&&(m=f,f=!1),this._dragging.init(d,"hand.move",{autoActivate:f,cursor:"grab",data:{context:m||{}}})},nm.prototype.activateHand=function(d,f,m){this._dragging.init(d,"hand",{trapClick:!1,autoActivate:f,cursor:"grab",data:{context:{reactivate:m}}})},nm.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();this.activateHand(d,!!d)},nm.prototype.isActive=function(){var d=this._dragging.context();return!!d&&/^(hand|hand\.move)$/.test(d.prefix)};var RE={__depends__:[Gh,Dp],__init__:["handTool"],handTool:["type",nm]},Ab="connect-ok",AE="connect-not-ok";function Hp(d,f,m,g,b,_,x){var w=this;this._dragging=f,this._rules=_,this._mouse=x,b.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),d.on("global-connect.hover",function(C){var T=C.context,P=C.hover,O=T.canStartConnect=w.canStartConnect(P);null!==O&&(T.startTarget=P,g.addMarker(P,O?Ab:AE))}),d.on(["global-connect.out","global-connect.cleanup"],function(C){var T=C.context.startTarget;T&&g.removeMarker(T,C.context.canStartConnect?Ab:AE)}),d.on(["global-connect.ended"],function(C){var T=C.context.startTarget,P={x:C.x,y:C.y};if(w.canStartConnect(T))return d.once("element.out",function(){d.once(["connect.ended","connect.canceled"],function(){d.fire("global-connect.drag.ended")}),m.start(null,T,P)}),!1})}Hp.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],Hp.prototype.start=function(d,f){this._dragging.init(d,"global-connect",{autoActivate:f,trapClick:!1,data:{context:{}}})},Hp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var d=this._mouse.getLastMoveEvent();return this.start(d,!!d)},Hp.prototype.isActive=function(){var d=this._dragging.context();return d&&/^global-connect/.test(d.prefix)},Hp.prototype.canStartConnect=function(d){return this._rules.allowed("connection.start",{source:d})};var Q7={__depends__:[Q_,ys,W0,Gh,Dp],globalConnect:["type",Hp]};function IE(d,f,m,g,b,_,x,w){this._palette=d,this._create=f,this._elementFactory=m,this._spaceTool=g,this._lassoTool=b,this._handTool=_,this._globalConnect=x,this._translate=w,d.registerProvider(this)}IE.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],IE.prototype.getPaletteEntries=function(){var d={},f=this._create,m=this._elementFactory,g=this._spaceTool,b=this._lassoTool,_=this._handTool,x=this._globalConnect,w=this._translate;function C(O,M,A,I,V){function W(z){var Q=m.createShape(de({type:O},V));V&&(ur(Q).isExpanded=V.isExpanded),f.start(z,Q)}var H=O.replace(/^bpmn:/,"");return{group:M,className:A,title:I||w("Create {type}",{type:H}),action:{dragstart:W,click:W}}}function T(O){var M=m.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),A=m.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:M});f.start(O,[M,A],{hints:{autoSelect:[M]}})}function P(O){f.start(O,m.createParticipantShape())}return de(d,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:w("Activate the hand tool"),action:{click:function(O){_.activateHand(O)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:w("Activate the lasso tool"),action:{click:function(O){b.activateSelection(O)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:w("Activate the create/remove space tool"),action:{click:function(O){g.activateSelection(O)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:w("Activate the global connect tool"),action:{click:function(O){x.start(O)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":C("bpmn:StartEvent","event","bpmn-icon-start-event-none",w("Create StartEvent")),"create.intermediate-event":C("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",w("Create Intermediate/Boundary Event")),"create.end-event":C("bpmn:EndEvent","event","bpmn-icon-end-event-none",w("Create EndEvent")),"create.exclusive-gateway":C("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",w("Create Gateway")),"create.task":C("bpmn:Task","activity","bpmn-icon-task",w("Create Task")),"create.data-object":C("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",w("Create DataObjectReference")),"create.data-store":C("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",w("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:w("Create expanded SubProcess"),action:{dragstart:T,click:T}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:w("Create Pool/Participant"),action:{dragstart:P,click:P}},"create.group":C("bpmn:Group","artifact","bpmn-icon-group",w("Create Group"))}),d};var Z7={__depends__:[PE,K0,tE,SM,RE,Q7,Ka],__init__:["paletteProvider"],paletteProvider:["type",IE]};function NE(d,f,m,g,b){st.call(this,d),d.on("shape.move.move",250,function(_){var C,x=_.context,w=x.canExecute;x.visualReplacements||(x.visualReplacements={}),w&&w.replacements?ge((C=x).canExecute.replacements,function(T){var P=T.oldElementId,O={type:T.newElementType};if(!C.visualReplacements[P]){var M=f.get(P);de(O,{x:M.x,y:M.y});var A=m.createShape(O);g.addShape(A,M.parent);var I=gr('[data-element-id="'+I1(M.id)+'"]',C.dragGroup);I&&_t(I,{display:"none"});var V=b.addDragger(A,C.dragGroup);C.visualReplacements[P]=V,g.removeShape(A)}}):function(C){var T=C.visualReplacements;ge(T,function(P,O){var M=gr('[data-element-id="'+I1(O)+'"]',C.dragGroup);M&&_t(M,{display:"inline"}),P.remove(),T[O]&&delete T[O]})}(x)})}NE.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],Ye(NE,st);var LE={__depends__:[ig],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",NE]},eC=["x","y"],tC=Math.abs;function FE(d){d.on(["connect.hover","connect.move","connect.end"],1250,function(f){var C,T,P,m=f.context,g=m.canExecute,b=m.start,_=m.hover,x=m.source,w=m.target;f.originalEvent&&wa(f.originalEvent)||(m.initialConnectionStart||(m.initialConnectionStart=m.connectionStart),g&&_&&(C=f,T=_,P=Y(_,"bpmn:Task")?10:20,eC.forEach(function(O){var M=jE(O,T);C[O]<T[O]+P?eo(C,O,T[O]+P):C[O]>T[O]+M-P&&eo(C,O,T[O]+M-P)})),_&&function(C,T){return Ei(["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],function(P){return BE(C,P)})}(g)?(m.connectionStart=Ja(b),Un(_,["bpmn:Event","bpmn:Gateway"])&&Nb(f,Ja(_)),Un(_,["bpmn:Task","bpmn:SubProcess"])&&function(C,T){var P=Ja(T);eC.forEach(function(O){var M,A,I;(M=C)[I=O]>(A=T)[I]+20&&M[I]<A[I]+jE(I,A)-20&&eo(C,O,P[O])})}(f,_),Y(x,"bpmn:BoundaryEvent")&&w===x.host&&function(C){var V,W,H,T=C.context,O=T.target;if(H=(V=T).source,!(W=V.hover)||!H||W!==H){var M=Ja(T.source),A=Kr(M,O,-10),I=[];/top|bottom/.test(A)&&I.push("x"),/left|right/.test(A)&&I.push("y"),I.forEach(function(V){var H=C[V];tC(H-M[V])<40&&eo(C,V,H>M[V]?M[V]+40:M[V]-40)})}}(f)):BE(g,"bpmn:MessageFlow")?(Y(b,"bpmn:Event")&&(m.connectionStart=Ja(b)),Y(_,"bpmn:Event")&&Nb(f,Ja(_))):m.connectionStart=m.initialConnectionStart)})}function Nb(d,f){eo(d,"x",f.x),eo(d,"y",f.y)}function BE(d,f){return d&&d.type===f}function jE(d,f){return"x"===d?f.width:f.height}function Zu(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function sv(){this._snapValues={}}FE.$inject=["eventBus"],Zu.prototype.getSnapOrigin=function(d){return this._snapOrigins[d]},Zu.prototype.setSnapOrigin=function(d,f){this._snapOrigins[d]=f,-1===this._snapLocations.indexOf(d)&&this._snapLocations.push(d)},Zu.prototype.addDefaultSnap=function(d,f){var m=this._defaultSnaps[d];m||(m=this._defaultSnaps[d]=[]),m.push(f)},Zu.prototype.getSnapLocations=function(){return this._snapLocations},Zu.prototype.setSnapLocations=function(d){this._snapLocations=d},Zu.prototype.pointsForTarget=function(d){var f=d.id||d,m=this._targets[f];return m||(m=this._targets[f]=new sv).initDefaults(this._defaultSnaps),m},sv.prototype.add=function(d,f){var m=this._snapValues[d];m||(m=this._snapValues[d]={x:[],y:[]}),-1===m.x.indexOf(f.x)&&m.x.push(f.x),-1===m.y.indexOf(f.y)&&m.y.push(f.y)},sv.prototype.snap=function(d,f,m,g){var b=this._snapValues[f];return b&&function(_,x,w){var C,T;for(w=void 0===w?10:w,C=0;C<x.length;C++)if(xS((T=x[C])-_)<=w)return T}(d[m],b[m],g)},sv.prototype.initDefaults=function(d){var f=this;ge(d||{},function(m,g){ge(m,function(b){f.add(g,b)})})};var DM=1250;function Ju(d,f,m){var g=this;this._elementRegistry=d,f.on(["create.start","shape.move.start"],function(b){g.initSnap(b)}),f.on(["create.move","create.end","shape.move.move","shape.move.end"],DM,function(b){var _=b.context,x=_.shape,w=_.snapContext,C=_.target;if((!b.originalEvent||!wa(b.originalEvent))&&!Sp(b)&&C){var T=w.pointsForTarget(C);T.initialized||((T=g.addSnapTargetPoints(T,x,C)).initialized=!0),m.snap(b,T)}}),f.on(["create.cleanup","shape.move.cleanup"],function(){m.hide()})}function av(d,f){f.invoke(Ju,this),d.on(["create.move","create.end"],1500,ZV),d.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(m){var x,w,C,T,P,M,g=m.context,b=g.canExecute,_=g.target;b&&("attach"===b||b.attach)&&!Sp(m)&&(x=m,T=Xt(w=_),P=U4(x,w),C=(M=x.context.shape).parent?{x:0,y:0}:hn(M),/top/.test(P)?eo(x,"y",T.top-C.y):/bottom/.test(P)&&eo(x,"y",T.bottom-C.y),/left/.test(P)?eo(x,"x",T.left-C.x):/right/.test(P)&&eo(x,"x",T.right-C.x))})}function ZV(d){var f=d.context.createConstraints;if(f){var m=f.top,g=f.right,b=f.bottom,_=f.left;(_&&_>=d.x||g&&g<=d.x)&&eo(d,"x",d.x),(m&&m>=d.y||b&&b<=d.y)&&eo(d,"y",d.y)}}function TM(d,f){return-1!==d.indexOf(f)}function PM(d,f,m){return f?{x:d.x-m.x,y:d.y-m.y}:{x:d.x,y:d.y}}function Lb(d,f){var m=this;d.on(["resize.start"],function(g){m.initSnap(g)}),d.on(["resize.move","resize.end"],1250,function(g){var b=g.context,_=b.shape,x=_.parent,w=b.direction,C=b.snapContext;if(!(g.originalEvent&&wa(g.originalEvent)||Sp(g))){var T=C.pointsForTarget(x);T.initialized||((T=m.addSnapTargetPoints(T,_,x,w)).initialized=!0),function(P){return"n"===P||"s"===P}(w)&&eo(g,"x",g.x),function(P){return"e"===P||"w"===P}(w)&&eo(g,"y",g.y),f.snap(g,T)}}),d.on(["resize.cleanup"],function(){f.hide()})}function OM(d,f){var m=hn(d),g=Xt(d),b={x:m.x,y:m.y};return-1!==f.indexOf("n")?b.y=g.top:-1!==f.indexOf("s")&&(b.y=g.bottom),-1!==f.indexOf("e")?b.x=g.right:-1!==f.indexOf("w")&&(b.x=g.left),b}function Up(d){this._canvas=d,this._asyncHide=qe(Ze(this.hide,this),1e3)}Ju.$inject=["elementRegistry","eventBus","snapping"],Ju.prototype.initSnap=function(d){var f,m=this._elementRegistry,g=d.context,b=g.shape,_=g.snapContext;_||(_=g.snapContext=new Zu);var x=(f=m.get(b.id)?Ja(b,d):{x:d.x+Ja(b).x,y:d.y+Ja(b).y}).x-b.width/2,w=f.y-b.height/2,C=f.x+b.width/2,T=f.y+b.height/2;return _.setSnapOrigin("mid",{x:f.x-d.x,y:f.y-d.y}),vr(b)||(_.setSnapOrigin("top-left",{x:x-d.x,y:w-d.y}),_.setSnapOrigin("bottom-right",{x:C-d.x,y:T-d.y})),_},Ju.prototype.addSnapTargetPoints=function(d,f,m){return ge(this.getSnapTargets(f,m),function(g){if(vr(g))vr(f)&&d.add("mid",Ja(g));else if(vi(g)){if(g.waypoints.length<3)return;ge(g.waypoints.slice(1,-1),function(b){d.add("mid",b)})}else d.add("mid",Ja(g))}),at(f.x)&&at(f.y)&&this._elementRegistry.get(f.id)&&d.add("mid",Ja(f)),d},Ju.prototype.getSnapTargets=function(d,f){return wS(f).filter(function(m){return!m.hidden})},Ye(av,Ju),av.$inject=["eventBus","injector"],av.prototype.initSnap=function(d){var f=Ju.prototype.initSnap.call(this,d),m=d.shape,g=!!this._elementRegistry.get(m.id);return ge(m.outgoing,function(b){var _=b.waypoints[0];f.setSnapOrigin(b.id+"-docking",PM(_=_.original||_,g,d))}),ge(m.incoming,function(b){var _=b.waypoints[b.waypoints.length-1];f.setSnapOrigin(b.id+"-docking",PM(_=_.original||_,g,d))}),Y(m,"bpmn:Participant")&&f.setSnapLocations(["top-left","bottom-right","mid"]),f},av.prototype.addSnapTargetPoints=function(d,f,m){Ju.prototype.addSnapTargetPoints.call(this,d,f,m);var g=this.getSnapTargets(f,m);ge(g,function(_){var w;(Y(w=_,"bpmn:SubProcess")&&lr(w)||Y(w,"bpmn:Participant")||("bpmn:TextAnnotation",[f,_].every(function(w){return Y(w,"bpmn:TextAnnotation")})))&&(d.add("top-left",ng(_)),d.add("bottom-right",K_(_)))});var b=this._elementRegistry;return ge(f.incoming,function(_){if(b.get(f.id)){TM(g,_.source)||d.add("mid",hn(_.source));var x=_.waypoints[0];d.add(_.id+"-docking",x.original||x)}}),ge(f.outgoing,function(_){if(b.get(f.id)){TM(g,_.target)||d.add("mid",hn(_.target));var x=_.waypoints[_.waypoints.length-1];d.add(_.id+"-docking",x.original||x)}}),Y(m,"bpmn:SequenceFlow")&&(d=this.addSnapTargetPoints(d,f,m.parent)),d},av.prototype.getSnapTargets=function(d,f){return Ju.prototype.getSnapTargets.call(this,d,f).filter(function(m){return!Y(m,"bpmn:Lane")})},Lb.prototype.initSnap=function(d){var f=d.context,m=f.shape,g=f.direction,b=f.snapContext;b||(b=f.snapContext=new Zu);var _=OM(m,g);return b.setSnapOrigin("corner",{x:_.x-d.x,y:_.y-d.y}),b},Lb.prototype.addSnapTargetPoints=function(d,f,m,g){return ge(this.getSnapTargets(f,m),function(b){d.add("corner",K_(b)),d.add("corner",ng(b))}),d.add("corner",OM(f,g)),d},Lb.$inject=["eventBus","snapping"],Lb.prototype.getSnapTargets=function(d,f){return wS(f).filter(function(m){return!(m.host===d||vi(m)||(_=m,_.hidden)||vr(m));var _})},Up.$inject=["canvas"],Up.prototype.snap=function(d,f){var m=d.context.snapContext,g=m.getSnapLocations(),b={x:Sp(d,"x"),y:Sp(d,"y")};ge(g,function(_){var x=m.getSnapOrigin(_),w={x:d.x+x.x,y:d.y+x.y};if(ge(["x","y"],function(C){var T;b[C]||void 0!==(T=f.snap(w,_,C,7))&&(b[C]={value:T,originValue:T-x[C]})}),b.x&&b.y)return!1}),this.showSnapLine("vertical",b.x&&b.x.value),this.showSnapLine("horizontal",b.y&&b.y.value),ge(["x","y"],function(_){var x=b[_];Sn(x)&&eo(d,_,x.originValue)})},Up.prototype._createLine=function(d){var f=this._canvas.getLayer("snap"),m=Mt("path");return _t(m,{d:"M0,0 L0,0"}),kn(m).add("djs-snap-line"),nn(f,m),{update:function(g){at(g)?_t(m,"horizontal"===d?{d:"M-100000,"+g+" L+100000,"+g,display:""}:{d:"M "+g+",-100000 L "+g+", +100000",display:""}):_t(m,{display:"none"})}}},Up.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},Up.prototype.showSnapLine=function(d,f){var m=this.getSnapLine(d);m&&m.update(f),this._asyncHide()},Up.prototype.getSnapLine=function(d){return this._snapLines||this._createSnapLines(),this._snapLines[d]},Up.prototype.hide=function(){ge(this._snapLines,function(d){d.update()})};var nC={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Ju],resizeSnapping:["type",Lb],snapping:["type",Up]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",FE],createMoveSnapping:["type",av]};function vn(d,f,m,g){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=d,this._eventBus=f,this._overlays=m,this._selection=g,this._container=wr(vn.BOX_HTML),this._searchInput=gr(vn.INPUT_SELECTOR,this._container),this._resultsContainer=gr(vn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),f.on(["canvas.destroy","diagram.destroy"],this.close,this)}function kM(d,f,m){var x,g=(x="",f.forEach(function(w){x+=w.matched?'<strong class="'+vn.RESULT_HIGHLIGHT_CLASS+'">'+a2(w.matched)+"</strong>":a2(w.normal)}),""!==x?x:null),b=wr(m);b.innerHTML=g,d.appendChild(b)}vn.$inject=["canvas","eventBus","overlays","selection"],vn.prototype._bindEvents=function(){var d=this;function f(m,g,b,_){d._eventMaps.push({el:m,type:b,listener:Oi.bind(m,g,b,_)})}f(document,"html","click",function(m){d.close()}),f(this._container,vn.INPUT_SELECTOR,"click",function(m){m.stopPropagation(),m.delegateTarget.focus()}),f(this._container,vn.RESULT_SELECTOR,"mouseover",function(m){m.stopPropagation(),d._scrollToNode(m.delegateTarget),d._preselect(m.delegateTarget)}),f(this._container,vn.RESULT_SELECTOR,"click",function(m){m.stopPropagation(),d._select(m.delegateTarget)}),f(this._container,vn.INPUT_SELECTOR,"keydown",function(m){zo("ArrowUp",m)&&m.preventDefault(),zo("ArrowDown",m)&&m.preventDefault()}),f(this._container,vn.INPUT_SELECTOR,"keyup",function(m){if(zo("Escape",m))return d.close();if(zo("Enter",m)){var g=d._getCurrentResult();return g?d._select(g):d.close()}return zo("ArrowUp",m)?d._scrollToDirection(!0):zo("ArrowDown",m)?d._scrollToDirection():void(zo(["ArrowLeft","ArrowRight"],m)||d._search(m.delegateTarget.value))})},vn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(d){Oi.unbind(d.el,d.type,d.listener)})},vn.prototype._search=function(d){var f=this;if(this._clearResults(),d&&""!==d){var m=this._searchProvider.find(d);if(m.length){m.forEach(function(b){var _=b.element.id,x=f._createResultNode(b,_);f._results[_]={element:b.element,node:x}});var g=gr(vn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(g),this._preselect(g)}}},vn.prototype._scrollToDirection=function(d){var f=this._getCurrentResult();if(f){var m=d?f.previousElementSibling:f.nextElementSibling;m&&(this._scrollToNode(m),this._preselect(m))}},vn.prototype._scrollToNode=function(d){if(d&&d!==this._getCurrentResult()){var f=d.offsetTop,m=this._resultsContainer.scrollTop,g=f-this._resultsContainer.clientHeight+d.clientHeight;f<m?this._resultsContainer.scrollTop=f:m<g&&(this._resultsContainer.scrollTop=g)}},vn.prototype._clearResults=function(){nr(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},vn.prototype._getCurrentResult=function(){return gr(vn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},vn.prototype._createResultNode=function(d,f){var m=wr(vn.RESULT_HTML);return d.primaryTokens.length>0&&kM(m,d.primaryTokens,vn.RESULT_PRIMARY_HTML),kM(m,d.secondaryTokens,vn.RESULT_SECONDARY_HTML),Ue(m,vn.RESULT_ID_ATTRIBUTE,f),this._resultsContainer.appendChild(m),m},vn.prototype.registerProvider=function(d){this._searchProvider=d},vn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,$t(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},vn.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,$t(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},vn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},vn.prototype.isOpen=function(){return this._open},vn.prototype._preselect=function(d){var f=this._getCurrentResult();if(d!==f){f&&$t(f).remove(vn.RESULT_SELECTED_CLASS);var m=Ue(d,vn.RESULT_ID_ATTRIBUTE),g=this._results[m].element;$t(d).add(vn.RESULT_SELECTED_CLASS),this._resetOverlay(g),this._canvas.scrollToElement(g,{top:400}),this._selection.select(g),this._eventBus.fire("searchPad.preselected",g)}},vn.prototype._select=function(d){var f=Ue(d,vn.RESULT_ID_ATTRIBUTE),m=this._results[f].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(m,{top:400}),this._selection.select(m),this._eventBus.fire("searchPad.selected",m)},vn.prototype._resetOverlay=function(d){if(this._overlayId&&this._overlays.remove(this._overlayId),d){var f=(x={width:(b=(m=ri(d)).width+2*6)+"px",height:(_=m.height+12)+"px"},ke(w=wr('<div class="'+vn.OVERLAY_CLASS+'"></div>'),x),{position:{bottom:_-6,right:b-6},show:!0,html:w});this._overlayId=this._overlays.add(d,f)}var m,b,_,x,w},vn.CONTAINER_SELECTOR=".djs-search-container",vn.INPUT_SELECTOR=".djs-search-input input",vn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",vn.RESULT_SELECTOR=".djs-search-result",vn.RESULT_SELECTED_SELECTOR="."+(vn.RESULT_SELECTED_CLASS="djs-search-result-selected"),vn.RESULT_ID_ATTRIBUTE="data-result-id",vn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",vn.OVERLAY_CLASS="djs-search-overlay",vn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',vn.RESULT_HTML='<div class="djs-search-result"></div>',vn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',vn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var JV={__depends__:[g_,Lu],searchPad:["type",vn]};function rC(d,f,m){this._elementRegistry=d,this._canvas=m,f.registerProvider(this)}function MM(d){return Ot(d,function(f){return!!f.matched}).length>0}function RM(d,f){var m=[],g=d;if(!d)return m;d=d.toLowerCase(),f=f.toLowerCase();var b=d.indexOf(f);return b>-1?(0!==b&&m.push({normal:g.substr(0,b)}),m.push({matched:g.substr(b,f.length)}),f.length+b<d.length&&m.push({normal:g.substr(f.length+b,d.length)})):m.push({normal:g}),m}rC.$inject=["elementRegistry","searchPad","canvas"],rC.prototype.find=function(d){var f=this._canvas.getRootElement(),m=this._elementRegistry.filter(function(g){return!g.labelTarget});return m=Ot(m,function(g){return g!==f}),Hr(m=Ot(m=Er(m,function(g){return{primaryTokens:RM(zi(g),d),secondaryTokens:RM(g.id,d),element:g}}),function(g){return MM(g.primaryTokens)||MM(g.secondaryTokens)}),function(g){return zi(g.element)+g.element.id})};var ez={__depends__:[JV],__init__:["bpmnSearch"],bpmnSearch:["type",rC]};function e0(d){T1.call(this,d)}return Ye(e0,T1),e0.Viewer=Do,e0.NavigatedViewer=hh,e0.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},e0.prototype._modules=[].concat(Do.prototype._modules,e0.prototype._interactionModules=[ok,j8,ju,Qr],e0.prototype._modelingModules=[iS,gk,bk,lS,DS,Q_,Z_,XV,t4,K0,Gu,YV,$k,XS,Vk,Hk,y4,Pb,xM,wM,Z7,LE,g4,nC,ez]),e0}()},563:Ar=>{"use strict";var Kt=/,?([a-z]),?/gi,zn=parseFloat,Lt=Math,Ye=Lt.PI,ct=Lt.min,Bt=Lt.max,en=Lt.pow,nt=Lt.abs,rt=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,ht=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,tn=Array.isArray||function(je){return je instanceof Array};function Ht(je,qe){return Object.prototype.hasOwnProperty.call(je,qe)}function ut(je){if("function"==typeof je||Object(je)!==je)return je;var qe=new je.constructor;for(var Ze in je)Ht(je,Ze)&&(qe[Ze]=ut(je[Ze]));return qe}function Or(je){var qe=Or.ps=Or.ps||{};return qe[je]?qe[je].sleep=100:qe[je]={sleep:100},setTimeout(function(){for(var Ze in qe)Ht(qe,Ze)&&Ze!=je&&(qe[Ze].sleep--,!qe[Ze].sleep&&delete qe[Ze])}),qe[je]}function gn(je,qe,Ze,de){return 1===arguments.length&&(qe=je.y,Ze=je.width,de=je.height,je=je.x),{x:je,y:qe,width:Ze,height:de,x2:je+Ze,y2:qe+de}}function ln(){return this.join(",").replace(Kt,"$1")}function oo(je){var qe=ut(je);return qe.toString=ln,qe}function Ot(je,qe,Ze,de,It,Ie,Ge,re,se){var me=1-se,Ce=en(me,3),$e=en(me,2),ke=se*se*se,Ut=Ce*qe+3*$e*se*de+3*me*se*se*Ie+ke*re;return{x:ni(Ce*je+3*$e*se*Ze+3*me*se*se*It+ke*Ge),y:ni(Ut)}}function ge(je){var qe=ls.apply(null,je);return gn(qe.x0,qe.y0,qe.x1-qe.x0,qe.y1-qe.y0)}function ti(je,qe,Ze){return qe>=je.x&&qe<=je.x+je.width&&Ze>=je.y&&Ze<=je.y+je.height}function Pi(je,qe,Ze,de,It){return je*(je*(-3*qe+9*Ze-9*de+3*It)+6*qe-12*Ze+6*de)-3*qe+3*Ze}function Ei(je,qe,Ze,de,It,Ie,Ge,re,se){null==se&&(se=1);for(var me=(se=se>1?1:se<0?0:se)/2,$e=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ke=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ke=0,Ue=0;Ue<12;Ue++){var Ut=me*$e[Ue]+me,$t=Pi(Ut,je,Ze,It,Ge),Gt=Pi(Ut,qe,de,Ie,re);ke+=Ke[Ue]*Lt.sqrt($t*$t+Gt*Gt)}return me*ke}function Er(je,qe,Ze,de,It,Ie,Ge,re){if(!(Bt(je,Ze)<ct(It,Ge)||ct(je,Ze)>Bt(It,Ge)||Bt(qe,de)<ct(Ie,re)||ct(qe,de)>Bt(Ie,re))){var me=(je*de-qe*Ze)*(Ie-re)-(qe-de)*(It*re-Ie*Ge),Ce=(je-Ze)*(Ie-re)-(qe-de)*(It-Ge);if(Ce){var $e=ni(((je*de-qe*Ze)*(It-Ge)-(je-Ze)*(It*re-Ie*Ge))/Ce),Ke=ni(me/Ce),ke=+$e.toFixed(2),Ue=+Ke.toFixed(2);if(!(ke<+ct(je,Ze).toFixed(2)||ke>+Bt(je,Ze).toFixed(2)||ke<+ct(It,Ge).toFixed(2)||ke>+Bt(It,Ge).toFixed(2)||Ue<+ct(qe,de).toFixed(2)||Ue>+Bt(qe,de).toFixed(2)||Ue<+ct(Ie,re).toFixed(2)||Ue>+Bt(Ie,re).toFixed(2)))return{x:$e,y:Ke}}}}function ni(je){return Math.round(1e11*je)/1e11}function as(je,qe,Ze){if(!function zr(je,qe){return je=gn(je),ti(qe=gn(qe),je.x,je.y)||ti(qe,je.x2,je.y)||ti(qe,je.x,je.y2)||ti(qe,je.x2,je.y2)||ti(je,qe.x,qe.y)||ti(je,qe.x2,qe.y)||ti(je,qe.x,qe.y2)||ti(je,qe.x2,qe.y2)||(je.x<qe.x2&&je.x>qe.x||qe.x<je.x2&&qe.x>je.x)&&(je.y<qe.y2&&je.y>qe.y||qe.y<je.y2&&qe.y>je.y)}(ge(je),ge(qe)))return Ze?0:[];for(var Ie=Ei.apply(0,je),Ge=Ei.apply(0,qe),re=ya(je)?1:~~(Ie/5)||1,se=ya(qe)?1:~~(Ge/5)||1,me=[],Ce=[],$e={},Ke=Ze?0:[],ke=0;ke<re+1;ke++){var Ue=Ot.apply(0,je.concat(ke/re));me.push({x:Ue.x,y:Ue.y,t:ke/re})}for(ke=0;ke<se+1;ke++)Ue=Ot.apply(0,qe.concat(ke/se)),Ce.push({x:Ue.x,y:Ue.y,t:ke/se});for(ke=0;ke<re;ke++)for(var Ut=0;Ut<se;Ut++){var fi,$t=me[ke],Gt=me[ke+1],nr=Ce[Ut],Ir=Ce[Ut+1],sr=nt(Gt.x-$t.x)<.01?"y":"x",An=nt(Ir.x-nr.x)<.01?"y":"x",xr=Er($t.x,$t.y,Gt.x,Gt.y,nr.x,nr.y,Ir.x,Ir.y);if(xr){if($e[fi=xr.x.toFixed(9)+"#"+xr.y.toFixed(9)])continue;$e[fi]=!0;var kr=$t.t+nt((xr[sr]-$t[sr])/(Gt[sr]-$t[sr]))*(Gt.t-$t.t),Sl=nr.t+nt((xr[An]-nr[An])/(Ir[An]-nr[An]))*(Ir.t-nr.t);kr>=0&&kr<=1&&Sl>=0&&Sl<=1&&(Ze?Ke++:Ke.push({x:xr.x,y:xr.y,t1:kr,t2:Sl}))}}return Ke}function ya(je){return je[0]===je[2]&&je[1]===je[3]&&je[4]===je[6]&&je[5]===je[7]}function Hr(je,qe,Ze,de){return[je,qe,Ze,de,Ze,de]}function so(je,qe,Ze,de,It,Ie){var Ge=.3333333333333333,re=2/3;return[Ge*je+re*Ze,Ge*qe+re*de,Ge*It+re*Ze,Ge*Ie+re*de,It,Ie]}function Va(je,qe,Ze,de,It,Ie,Ge,re,se,me){var ke,Ce=120*Ye/180,$e=Ye/180*(+It||0),Ke=[],Ue=function at(je){return function qe(){var Ze=Array.prototype.slice.call(arguments,0),de=Ze.join("\u2400"),It=qe.cache=qe.cache||{},Ie=qe.count=qe.count||[];return Ht(It,de)?(function Sn(je,qe){for(var Ze=0,de=je.length;Ze<de;Ze++)if(je[Ze]===qe)return je.push(je.splice(Ze,1)[0])}(Ie,de),It[de]):(Ie.length>=1e3&&delete It[Ie.shift()],Ie.push(de),It[de]=je.apply(0,Ze),It[de])}}(function(ip,kn,Nr){return{x:ip*Lt.cos(Nr)-kn*Lt.sin(Nr),y:ip*Lt.sin(Nr)+kn*Lt.cos(Nr)}});if(me)fi=me[0],kr=me[1],An=me[2],xr=me[3];else{qe=(ke=Ue(je,qe,-$e)).y;var Ut=((je=ke.x)-(re=(ke=Ue(re,se,-$e)).x))/2,$t=(qe-(se=ke.y))/2,Gt=Ut*Ut/(Ze*Ze)+$t*$t/(de*de);Gt>1&&(Ze*=Gt=Lt.sqrt(Gt),de*=Gt);var nr=Ze*Ze,Ir=de*de,sr=(Ie==Ge?-1:1)*Lt.sqrt(nt((nr*Ir-nr*$t*$t-Ir*Ut*Ut)/(nr*$t*$t+Ir*Ut*Ut))),An=sr*Ze*$t/de+(je+re)/2,xr=sr*-de*Ut/Ze+(qe+se)/2,fi=Lt.asin(((qe-xr)/de).toFixed(9)),kr=Lt.asin(((se-xr)/de).toFixed(9));(fi=je<An?Ye-fi:fi)<0&&(fi=2*Ye+fi),(kr=re<An?Ye-kr:kr)<0&&(kr=2*Ye+kr),Ge&&fi>kr&&(fi-=2*Ye),!Ge&&kr>fi&&(kr-=2*Ye)}var Sl=kr-fi;if(nt(Sl)>Ce){var Qt=kr,Gf=re,Rc=se;Ke=Va(re=An+Ze*Lt.cos(kr=fi+Ce*(Ge&&kr>fi?1:-1)),se=xr+de*Lt.sin(kr),Ze,de,It,0,Ge,Gf,Rc,[kr,Qt,An,xr])}Sl=kr-fi;var Oi=Lt.cos(fi),Su=Lt.sin(fi),np=Lt.cos(kr),Xr=Lt.sin(kr),wr=Lt.tan(Sl/4),gr=4/3*Ze*wr,D0=4/3*de*wr,cs=[je,qe],_a=[je+gr*Su,qe-D0*Oi],nn=[re+gr*Xr,se-D0*np],za=[re,se];if(_a[0]=2*cs[0]-_a[0],_a[1]=2*cs[1]-_a[1],me)return[_a,nn,za].concat(Ke);for(var rp=[],Qs=0,_t=(Ke=[_a,nn,za].concat(Ke).join().split(",")).length;Qs<_t;Qs++)rp[Qs]=Qs%2?Ue(Ke[Qs-1],Ke[Qs],$e).y:Ue(Ke[Qs],Ke[Qs+1],$e).x;return rp}function ls(je,qe,Ze,de,It,Ie,Ge,re){for(var Ce,$e,Ke,ke,Ue,Ut,$t,Gt,se=[],me=[[],[]],nr=0;nr<2;++nr)if(0==nr?($e=6*je-12*Ze+6*It,Ce=-3*je+9*Ze-9*It+3*Ge,Ke=3*Ze-3*je):($e=6*qe-12*de+6*Ie,Ce=-3*qe+9*de-9*Ie+3*re,Ke=3*de-3*qe),nt(Ce)<1e-12){if(nt($e)<1e-12)continue;0<(ke=-Ke/$e)&&ke<1&&se.push(ke)}else Gt=Lt.sqrt($t=$e*$e-4*Ke*Ce),!($t<0)&&(0<(Ue=(-$e+Gt)/(2*Ce))&&Ue<1&&se.push(Ue),0<(Ut=(-$e-Gt)/(2*Ce))&&Ut<1&&se.push(Ut));for(var An,Ir=se.length,sr=Ir;Ir--;)me[0][Ir]=(An=1-(ke=se[Ir]))*An*An*je+3*An*An*ke*Ze+3*An*ke*ke*It+ke*ke*ke*Ge,me[1][Ir]=An*An*An*qe+3*An*An*ke*de+3*An*ke*ke*Ie+ke*ke*ke*re;return me[0][sr]=je,me[1][sr]=qe,me[0][sr+1]=Ge,me[1][sr+1]=re,me[0].length=me[1].length=sr+2,{x0:ct.apply(0,me[0]),y0:ct.apply(0,me[1]),x1:Bt.apply(0,me[0]),y1:Bt.apply(0,me[1])}}function ba(je){var qe=Or(je);if(qe.curve)return oo(qe.curve);for(var Ze=function va(je){var qe=Or(je);if(qe.abs)return oo(qe.abs);if((!tn(je)||!tn(je&&je[0]))&&(je=function xn(je){if(!je)return null;var qe=Or(je);if(qe.arr)return ut(qe.arr);var Ze={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},de=[];return tn(je)&&tn(je[0])&&(de=ut(je)),de.length||String(je).replace(rt,function(It,Ie,Ge){var re=[],se=Ie.toLowerCase();for(Ge.replace(ht,function(me,Ce){Ce&&re.push(+Ce)}),"m"==se&&re.length>2&&(de.push([Ie].concat(re.splice(0,2))),se="l",Ie="m"==Ie?"l":"L");re.length>=Ze[se]&&(de.push([Ie].concat(re.splice(0,Ze[se]))),Ze[se]););}),de.toString=Or.toString,qe.arr=ut(de),de}(je)),!je||!je.length)return[["M",0,0]];var se,Ze=[],de=0,It=0,Ie=0,Ge=0,re=0;"M"==je[0][0]&&(Ie=de=+je[0][1],Ge=It=+je[0][2],re++,Ze[0]=["M",de,It]);for(var me,Ce,$e=re,Ke=je.length;$e<Ke;$e++){if(Ze.push(me=[]),(se=(Ce=je[$e])[0])!=se.toUpperCase())switch(me[0]=se.toUpperCase(),me[0]){case"A":me[1]=Ce[1],me[2]=Ce[2],me[3]=Ce[3],me[4]=Ce[4],me[5]=Ce[5],me[6]=+Ce[6]+de,me[7]=+Ce[7]+It;break;case"V":me[1]=+Ce[1]+It;break;case"H":me[1]=+Ce[1]+de;break;case"M":Ie=+Ce[1]+de,Ge=+Ce[2]+It;default:for(var ke=1,Ue=Ce.length;ke<Ue;ke++)me[ke]=+Ce[ke]+(ke%2?de:It)}else for(var Ut=0,$t=Ce.length;Ut<$t;Ut++)me[Ut]=Ce[Ut];switch(se=se.toUpperCase(),me[0]){case"Z":de=+Ie,It=+Ge;break;case"H":de=me[1];break;case"V":It=me[1];break;case"M":Ie=me[me.length-2],Ge=me[me.length-1];default:de=me[me.length-2],It=me[me.length-1]}}return Ze.toString=ln,qe.abs=oo(Ze),Ze}(je),de={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},It=function(ke,Ue,Ut){var $t,Gt;if(!ke)return["C",Ue.x,Ue.y,Ue.x,Ue.y,Ue.x,Ue.y];switch(!(ke[0]in{T:1,Q:1})&&(Ue.qx=Ue.qy=null),ke[0]){case"M":Ue.X=ke[1],Ue.Y=ke[2];break;case"A":ke=["C"].concat(Va.apply(0,[Ue.x,Ue.y].concat(ke.slice(1))));break;case"S":"C"==Ut||"S"==Ut?($t=2*Ue.x-Ue.bx,Gt=2*Ue.y-Ue.by):($t=Ue.x,Gt=Ue.y),ke=["C",$t,Gt].concat(ke.slice(1));break;case"T":"Q"==Ut||"T"==Ut?(Ue.qx=2*Ue.x-Ue.qx,Ue.qy=2*Ue.y-Ue.qy):(Ue.qx=Ue.x,Ue.qy=Ue.y),ke=["C"].concat(so(Ue.x,Ue.y,Ue.qx,Ue.qy,ke[1],ke[2]));break;case"Q":Ue.qx=ke[1],Ue.qy=ke[2],ke=["C"].concat(so(Ue.x,Ue.y,ke[1],ke[2],ke[3],ke[4]));break;case"L":ke=["C"].concat(Hr(Ue.x,Ue.y,ke[1],ke[2]));break;case"H":ke=["C"].concat(Hr(Ue.x,Ue.y,ke[1],Ue.y));break;case"V":ke=["C"].concat(Hr(Ue.x,Ue.y,Ue.x,ke[1]));break;case"Z":ke=["C"].concat(Hr(Ue.x,Ue.y,Ue.X,Ue.Y))}return ke},Ie=function(ke,Ue){if(ke[Ue].length>7){ke[Ue].shift();for(var Ut=ke[Ue];Ut.length;)Ge[Ue]="A",ke.splice(Ue++,0,["C"].concat(Ut.splice(0,6)));ke.splice(Ue,1),Ce=Ze.length}},Ge=[],re="",se="",me=0,Ce=Ze.length;me<Ce;me++){Ze[me]&&(re=Ze[me][0]),"C"!=re&&(Ge[me]=re,me&&(se=Ge[me-1])),Ze[me]=It(Ze[me],de,se),"A"!=Ge[me]&&"C"==re&&(Ge[me]="C"),Ie(Ze,me);var $e=Ze[me],Ke=$e.length;de.x=$e[Ke-2],de.y=$e[Ke-1],de.bx=zn($e[Ke-4])||de.x,de.by=zn($e[Ke-3])||de.y}return qe.curve=oo(Ze),Ze}Ar.exports=function xo(je,qe,Ze){je=ba(je),qe=ba(qe);for(var de,It,Ie,Ge,re,se,me,Ce,$e,Ke,ke=Ze?0:[],Ue=0,Ut=je.length;Ue<Ut;Ue++){var $t=je[Ue];if("M"==$t[0])de=re=$t[1],It=se=$t[2];else{"C"==$t[0]?($e=[de,It].concat($t.slice(1)),de=$e[6],It=$e[7]):($e=[de,It,de,It,re,se,re,se],de=re,It=se);for(var Gt=0,nr=qe.length;Gt<nr;Gt++){var Ir=qe[Gt];if("M"==Ir[0])Ie=me=Ir[1],Ge=Ce=Ir[2];else{"C"==Ir[0]?(Ke=[Ie,Ge].concat(Ir.slice(1)),Ie=Ke[6],Ge=Ke[7]):(Ke=[Ie,Ge,Ie,Ge,me,Ce,me,Ce],Ie=me,Ge=Ce);var sr=as($e,Ke,Ze);if(Ze)ke+=sr;else{for(var An=0,xr=sr.length;An<xr;An++)sr[An].segment1=Ue,sr[An].segment2=Gt,sr[An].bez1=$e,sr[An].bez2=Ke;ke=ke.concat(sr)}}}}}return ke}},578:function(Ar,Kt){var zn,Ye;void 0!==(Ye="function"==typeof(zn=function(){"use strict";function Bt(Ht,ut,Sn){var at=new XMLHttpRequest;at.open("GET",Ht),at.responseType="blob",at.onload=function(){tn(at.response,ut,Sn)},at.onerror=function(){console.error("could not download file")},at.send()}function en(Ht){var ut=new XMLHttpRequest;ut.open("HEAD",Ht,!1);try{ut.send()}catch{}return 200<=ut.status&&299>=ut.status}function nt(Ht){try{Ht.dispatchEvent(new MouseEvent("click"))}catch{var ut=document.createEvent("MouseEvents");ut.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ht.dispatchEvent(ut)}}var rt="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ht=rt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),tn=rt.saveAs||("object"!=typeof window||window!==rt?function(){}:"download"in HTMLAnchorElement.prototype&&!ht?function(Ht,ut,Sn){var at=rt.URL||rt.webkitURL,xn=document.createElement("a");xn.download=ut=ut||Ht.name||"download",xn.rel="noopener","string"==typeof Ht?(xn.href=Ht,xn.origin===location.origin?nt(xn):en(xn.href)?Bt(Ht,ut,Sn):nt(xn,xn.target="_blank")):(xn.href=at.createObjectURL(Ht),setTimeout(function(){at.revokeObjectURL(xn.href)},4e4),setTimeout(function(){nt(xn)},0))}:"msSaveOrOpenBlob"in navigator?function(Ht,ut,Sn){if(ut=ut||Ht.name||"download","string"!=typeof Ht)navigator.msSaveOrOpenBlob(function ct(Ht,ut){return typeof ut>"u"?ut={autoBom:!1}:"object"!=typeof ut&&(console.warn("Deprecated: Expected third argument to be a object"),ut={autoBom:!ut}),ut.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ht.type)?new Blob(["\ufeff",Ht],{type:Ht.type}):Ht}(Ht,Sn),ut);else if(en(Ht))Bt(Ht,ut,Sn);else{var at=document.createElement("a");at.href=Ht,at.target="_blank",setTimeout(function(){nt(at)})}}:function(Ht,ut,Sn,at){if((at=at||open("","_blank"))&&(at.document.title=at.document.body.innerText="downloading..."),"string"==typeof Ht)return Bt(Ht,ut,Sn);var xn="application/octet-stream"===Ht.type,Or=/constructor/i.test(rt.HTMLElement)||rt.safari,gn=/CriOS\/[\d]+/.test(navigator.userAgent);if((gn||xn&&Or||ht)&&typeof FileReader<"u"){var ln=new FileReader;ln.onloadend=function(){var ge=ln.result;ge=gn?ge:ge.replace(/^data:[^;]*;/,"data:attachment/file;"),at?at.location.href=ge:location=ge,at=null},ln.readAsDataURL(Ht)}else{var oo=rt.URL||rt.webkitURL,Ot=oo.createObjectURL(Ht);at?at.location=Ot:location.href=Ot,at=null,setTimeout(function(){oo.revokeObjectURL(Ot)},4e4)}});rt.saveAs=tn.saveAs=tn,Ar.exports=tn})?zn.apply(Kt,[]):zn)&&(Ar.exports=Ye)},511:(Ar,Kt,zn)=>{var Lt;!function(Ye,ct,Bt,en){"use strict";var gn,nt=["","webkit","Moz","MS","ms","o"],rt=ct.createElement("div"),ht="function",tn=Math.round,Ht=Math.abs,ut=Date.now;function Sn(K,ie,be){return setTimeout(ge(K,be),ie)}function at(K,ie,be){return!!Array.isArray(K)&&(xn(K,be[ie],be),!0)}function xn(K,ie,be){var Le;if(K)if(K.forEach)K.forEach(ie,be);else if(K.length!==en)for(Le=0;Le<K.length;)ie.call(be,K[Le],Le,K),Le++;else for(Le in K)K.hasOwnProperty(Le)&&ie.call(be,K[Le],Le,K)}function Or(K,ie,be){var Le="DEPRECATED METHOD: "+ie+"\n"+be+" AT \n";return function(){var ze=new Error("get-stack-trace"),Tt=ze&&ze.stack?ze.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ar=Ye.console&&(Ye.console.warn||Ye.console.log);return ar&&ar.call(Ye.console,Le,Tt),K.apply(this,arguments)}}gn="function"!=typeof Object.assign?function(ie){if(ie===en||null===ie)throw new TypeError("Cannot convert undefined or null to object");for(var be=Object(ie),Le=1;Le<arguments.length;Le++){var ze=arguments[Le];if(ze!==en&&null!==ze)for(var Tt in ze)ze.hasOwnProperty(Tt)&&(be[Tt]=ze[Tt])}return be}:Object.assign;var ln=Or(function(ie,be,Le){for(var ze=Object.keys(be),Tt=0;Tt<ze.length;)(!Le||Le&&ie[ze[Tt]]===en)&&(ie[ze[Tt]]=be[ze[Tt]]),Tt++;return ie},"extend","Use `assign`."),oo=Or(function(ie,be){return ln(ie,be,!0)},"merge","Use `assign`.");function Ot(K,ie,be){var ze,Le=ie.prototype;(ze=K.prototype=Object.create(Le)).constructor=K,ze._super=Le,be&&gn(ze,be)}function ge(K,ie){return function(){return K.apply(ie,arguments)}}function ti(K,ie){return typeof K==ht?K.apply(ie&&ie[0]||en,ie):K}function zr(K,ie){return K===en?ie:K}function Pi(K,ie,be){xn(as(ie),function(Le){K.addEventListener(Le,be,!1)})}function Ei(K,ie,be){xn(as(ie),function(Le){K.removeEventListener(Le,be,!1)})}function Er(K,ie){for(;K;){if(K==ie)return!0;K=K.parentNode}return!1}function ni(K,ie){return K.indexOf(ie)>-1}function as(K){return K.trim().split(/\s+/g)}function xo(K,ie,be){if(K.indexOf&&!be)return K.indexOf(ie);for(var Le=0;Le<K.length;){if(be&&K[Le][be]==ie||!be&&K[Le]===ie)return Le;Le++}return-1}function va(K){return Array.prototype.slice.call(K,0)}function ya(K,ie,be){for(var Le=[],ze=[],Tt=0;Tt<K.length;){var ar=ie?K[Tt][ie]:K[Tt];xo(ze,ar)<0&&Le.push(K[Tt]),ze[Tt]=ar,Tt++}return be&&(Le=ie?Le.sort(function(So,Jo){return So[ie]>Jo[ie]}):Le.sort()),Le}function Hr(K,ie){for(var be,Le,ze=ie[0].toUpperCase()+ie.slice(1),Tt=0;Tt<nt.length;){if((Le=(be=nt[Tt])?be+ze:ie)in K)return Le;Tt++}return en}var so=1;function ls(K){var ie=K.ownerDocument||K;return ie.defaultView||ie.parentWindow||Ye}var je="ontouchstart"in Ye,qe=Hr(Ye,"PointerEvent")!==en,Ze=je&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),de="touch",Ie="mouse",re=25,se=1,Ce=4,$e=8,Ke=1,ke=2,Ue=4,Ut=8,$t=16,Gt=ke|Ue,nr=Ut|$t,Ir=Gt|nr,sr=["x","y"],An=["clientX","clientY"];function xr(K,ie){var be=this;this.manager=K,this.callback=ie,this.element=K.element,this.target=K.options.inputTarget,this.domHandler=function(Le){ti(K.options.enable,[K])&&be.handler(Le)},this.init()}function kr(K,ie,be){var Le=be.pointers.length,ze=be.changedPointers.length,Tt=ie&se&&Le-ze==0,ar=ie&(Ce|$e)&&Le-ze==0;be.isFirst=!!Tt,be.isFinal=!!ar,Tt&&(K.session={}),be.eventType=ie,function Sl(K,ie){var be=K.session,Le=ie.pointers,ze=Le.length;be.firstInput||(be.firstInput=Rc(ie)),ze>1&&!be.firstMultiple?be.firstMultiple=Rc(ie):1===ze&&(be.firstMultiple=!1);var Tt=be.firstInput,ar=be.firstMultiple,wo=ar?ar.center:Tt.center,So=ie.center=Oi(Le);ie.timeStamp=ut(),ie.deltaTime=ie.timeStamp-Tt.timeStamp,ie.angle=wr(wo,So),ie.distance=Xr(wo,So),function Qt(K,ie){var be=ie.center,Le=K.offsetDelta||{},ze=K.prevDelta||{},Tt=K.prevInput||{};(ie.eventType===se||Tt.eventType===Ce)&&(ze=K.prevDelta={x:Tt.deltaX||0,y:Tt.deltaY||0},Le=K.offsetDelta={x:be.x,y:be.y}),ie.deltaX=ze.x+(be.x-Le.x),ie.deltaY=ze.y+(be.y-Le.y)}(be,ie),ie.offsetDirection=np(ie.deltaX,ie.deltaY);var Jo=Su(ie.deltaTime,ie.deltaX,ie.deltaY);ie.overallVelocityX=Jo.x,ie.overallVelocityY=Jo.y,ie.overallVelocity=Ht(Jo.x)>Ht(Jo.y)?Jo.x:Jo.y,ie.scale=ar?function D0(K,ie){return Xr(ie[0],ie[1],An)/Xr(K[0],K[1],An)}(ar.pointers,Le):1,ie.rotation=ar?function gr(K,ie){return wr(ie[1],ie[0],An)+wr(K[1],K[0],An)}(ar.pointers,Le):0,ie.maxPointers=be.prevInput?ie.pointers.length>be.prevInput.maxPointers?ie.pointers.length:be.prevInput.maxPointers:ie.pointers.length,function Gf(K,ie){var ze,Tt,ar,wo,be=K.lastInterval||ie,Le=ie.timeStamp-be.timeStamp;if(ie.eventType!=$e&&(Le>re||be.velocity===en)){var So=ie.deltaX-be.deltaX,Jo=ie.deltaY-be.deltaY,Rt=Su(Le,So,Jo);Tt=Rt.x,ar=Rt.y,ze=Ht(Rt.x)>Ht(Rt.y)?Rt.x:Rt.y,wo=np(So,Jo),K.lastInterval=ie}else ze=be.velocity,Tt=be.velocityX,ar=be.velocityY,wo=be.direction;ie.velocity=ze,ie.velocityX=Tt,ie.velocityY=ar,ie.direction=wo}(be,ie);var Rt=K.element;Er(ie.srcEvent.target,Rt)&&(Rt=ie.srcEvent.target),ie.target=Rt}(K,be),K.emit("hammer.input",be),K.recognize(be),K.session.prevInput=be}function Rc(K){for(var ie=[],be=0;be<K.pointers.length;)ie[be]={clientX:tn(K.pointers[be].clientX),clientY:tn(K.pointers[be].clientY)},be++;return{timeStamp:ut(),pointers:ie,center:Oi(ie),deltaX:K.deltaX,deltaY:K.deltaY}}function Oi(K){var ie=K.length;if(1===ie)return{x:tn(K[0].clientX),y:tn(K[0].clientY)};for(var be=0,Le=0,ze=0;ze<ie;)be+=K[ze].clientX,Le+=K[ze].clientY,ze++;return{x:tn(be/ie),y:tn(Le/ie)}}function Su(K,ie,be){return{x:ie/K||0,y:be/K||0}}function np(K,ie){return K===ie?Ke:Ht(K)>=Ht(ie)?K<0?ke:Ue:ie<0?Ut:$t}function Xr(K,ie,be){be||(be=sr);var Le=ie[be[0]]-K[be[0]],ze=ie[be[1]]-K[be[1]];return Math.sqrt(Le*Le+ze*ze)}function wr(K,ie,be){return be||(be=sr),180*Math.atan2(ie[be[1]]-K[be[1]],ie[be[0]]-K[be[0]])/Math.PI}xr.prototype={handler:function(){},init:function(){this.evEl&&Pi(this.element,this.evEl,this.domHandler),this.evTarget&&Pi(this.target,this.evTarget,this.domHandler),this.evWin&&Pi(ls(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ei(this.element,this.evEl,this.domHandler),this.evTarget&&Ei(this.target,this.evTarget,this.domHandler),this.evWin&&Ei(ls(this.element),this.evWin,this.domHandler)}};var cs={mousedown:se,mousemove:2,mouseup:Ce},_a="mousedown",nn="mousemove mouseup";function za(){this.evEl=_a,this.evWin=nn,this.pressed=!1,xr.apply(this,arguments)}Ot(za,xr,{handler:function(ie){var be=cs[ie.type];be&se&&0===ie.button&&(this.pressed=!0),2&be&&1!==ie.which&&(be=Ce),this.pressed&&(be&Ce&&(this.pressed=!1),this.callback(this.manager,be,{pointers:[ie],changedPointers:[ie],pointerType:Ie,srcEvent:ie}))}});var rp={pointerdown:se,pointermove:2,pointerup:Ce,pointercancel:$e,pointerout:$e},Qs={2:de,3:"pen",4:Ie,5:"kinect"},_t="pointerdown",ip="pointermove pointerup pointercancel";function kn(){this.evEl=_t,this.evWin=ip,xr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Ye.MSPointerEvent&&!Ye.PointerEvent&&(_t="MSPointerDown",ip="MSPointerMove MSPointerUp MSPointerCancel"),Ot(kn,xr,{handler:function(ie){var be=this.store,Le=!1,ze=ie.type.toLowerCase().replace("ms",""),Tt=rp[ze],ar=Qs[ie.pointerType]||ie.pointerType,wo=ar==de,So=xo(be,ie.pointerId,"pointerId");Tt&se&&(0===ie.button||wo)?So<0&&(be.push(ie),So=be.length-1):Tt&(Ce|$e)&&(Le=!0),!(So<0)&&(be[So]=ie,this.callback(this.manager,Tt,{pointers:be,changedPointers:[ie],pointerType:ar,srcEvent:ie}),Le&&be.splice(So,1))}});var Nr={touchstart:se,touchmove:2,touchend:Ce,touchcancel:$e};function p1(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,xr.apply(this,arguments)}function f1(K,ie){var be=va(K.touches),Le=va(K.changedTouches);return ie&(Ce|$e)&&(be=ya(be.concat(Le),"identifier",!0)),[be,Le]}Ot(p1,xr,{handler:function(ie){var be=Nr[ie.type];if(be===se&&(this.started=!0),this.started){var Le=f1.call(this,ie,be);be&(Ce|$e)&&Le[0].length-Le[1].length==0&&(this.started=!1),this.callback(this.manager,be,{pointers:Le[0],changedPointers:Le[1],pointerType:de,srcEvent:ie})}}});var Zs={touchstart:se,touchmove:2,touchend:Ce,touchcancel:$e},h1="touchstart touchmove touchend touchcancel";function Mt(){this.evTarget=h1,this.targetIds={},xr.apply(this,arguments)}function qf(K,ie){var be=va(K.touches),Le=this.targetIds;if(ie&(2|se)&&1===be.length)return Le[be[0].identifier]=!0,[be,be];var ze,Tt,ar=va(K.changedTouches),wo=[],So=this.target;if(Tt=be.filter(function(Jo){return Er(Jo.target,So)}),ie===se)for(ze=0;ze<Tt.length;)Le[Tt[ze].identifier]=!0,ze++;for(ze=0;ze<ar.length;)Le[ar[ze].identifier]&&wo.push(ar[ze]),ie&(Ce|$e)&&delete Le[ar[ze].identifier],ze++;return wo.length?[ya(Tt.concat(wo),"identifier",!0),wo]:void 0}Ot(Mt,xr,{handler:function(ie){var be=Zs[ie.type],Le=qf.call(this,ie,be);Le&&this.callback(this.manager,be,{pointers:Le[0],changedPointers:Le[1],pointerType:de,srcEvent:ie})}});var go=2500;function Cu(){xr.apply(this,arguments);var K=ge(this.handler,this);this.touch=new Mt(this.manager,K),this.mouse=new za(this.manager,K),this.primaryTouch=null,this.lastTouches=[]}function Sr(K,ie){K&se?(this.primaryTouch=ie.changedPointers[0].identifier,X5.call(this,ie)):K&(Ce|$e)&&X5.call(this,ie)}function X5(K){var ie=K.changedPointers[0];if(ie.identifier===this.primaryTouch){var be={x:ie.clientX,y:ie.clientY};this.lastTouches.push(be);var Le=this.lastTouches;setTimeout(function(){var Tt=Le.indexOf(be);Tt>-1&&Le.splice(Tt,1)},go)}}function ky(K){for(var ie=K.srcEvent.clientX,be=K.srcEvent.clientY,Le=0;Le<this.lastTouches.length;Le++){var ze=this.lastTouches[Le],Tt=Math.abs(ie-ze.x),ar=Math.abs(be-ze.y);if(Tt<=25&&ar<=25)return!0}return!1}Ot(Cu,xr,{handler:function(ie,be,Le){var Tt=Le.pointerType==Ie;if(!(Tt&&Le.sourceCapabilities&&Le.sourceCapabilities.firesTouchEvents)){if(Le.pointerType==de)Sr.call(this,be,Le);else if(Tt&&ky.call(this,Le))return;this.callback(ie,be,Le)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var it=Hr(rt.style,"touchAction"),Ac=it!==en,op="compute",My="manipulation",Cl="none",P0="pan-x",us="pan-y",Ha=function Ry(){if(!Ac)return!1;var K={},ie=Ye.CSS&&Ye.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(be){K[be]=!ie||Ye.CSS.supports("touch-action",be)}),K}();function Ua(K,ie){this.manager=K,this.set(ie)}Ua.prototype={set:function(K){K==op&&(K=this.compute()),Ac&&this.manager.element.style&&Ha[K]&&(this.manager.element.style[it]=K),this.actions=K.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var K=[];return xn(this.manager.recognizers,function(ie){ti(ie.options.enable,[ie])&&(K=K.concat(ie.getTouchAction()))}),function O0(K){if(ni(K,Cl))return Cl;var ie=ni(K,P0),be=ni(K,us);return ie&&be?Cl:ie||be?ie?P0:us:ni(K,My)?My:"auto"}(K.join(" "))},preventDefaults:function(K){var ie=K.srcEvent,be=K.offsetDirection;if(!this.manager.session.prevented){var Le=this.actions,ze=ni(Le,Cl)&&!Ha[Cl],Tt=ni(Le,us)&&!Ha[us],ar=ni(Le,P0)&&!Ha[P0];if(ze&&1===K.pointers.length&&K.distance<2&&K.deltaTime<250)return;return ar&&Tt||!(ze||Tt&&be&Gt||ar&&be&nr)?void 0:this.preventSrc(ie)}ie.preventDefault()},preventSrc:function(K){this.manager.session.prevented=!0,K.preventDefault()}};var k0=1;function Ga(K){this.options=gn({},this.defaults,K||{}),this.id=function Va(){return so++}(),this.manager=null,this.options.enable=zr(this.options.enable,!0),this.state=k0,this.simultaneous={},this.requireFail=[]}function lo(K){return 16&K?"cancel":8&K?"end":4&K?"move":2&K?"start":""}function Du(K){return K==$t?"down":K==Ut?"up":K==ke?"left":K==Ue?"right":""}function sp(K,ie){var be=ie.manager;return be?be.get(K):K}function Ls(){Ga.apply(this,arguments)}function Tu(){Ls.apply(this,arguments),this.pX=null,this.pY=null}function cn(){Ls.apply(this,arguments)}function Pu(){Ga.apply(this,arguments),this._timer=null,this._input=null}function Zo(){Ls.apply(this,arguments)}function Nc(){Ls.apply(this,arguments)}function Lc(){Ga.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ri(K,ie){return(ie=ie||{}).recognizers=zr(ie.recognizers,ri.defaults.preset),new R0(K,ie)}function R0(K,ie){this.options=gn({},ri.defaults,ie||{}),this.options.inputTarget=this.options.inputTarget||K,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=K,this.input=function fi(K){return new(K.options.inputClass||(qe?kn:Ze?Mt:je?Cu:za))(K,kr)}(this),this.touchAction=new Ua(this,this.options.touchAction),Fc(this,!0),xn(this.options.recognizers,function(be){var Le=this.add(new be[0](be[1]));be[2]&&Le.recognizeWith(be[2]),be[3]&&Le.requireFailure(be[3])},this)}function Fc(K,ie){var Le,be=K.element;be.style&&(xn(K.options.cssProps,function(ze,Tt){Le=Hr(be.style,Tt),ie?(K.oldCssProps[Le]=be.style[Le],be.style[Le]=ze):be.style[Le]=K.oldCssProps[Le]||""}),ie||(K.oldCssProps={}))}Ga.prototype={defaults:{},set:function(K){return gn(this.options,K),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(K){if(at(K,"recognizeWith",this))return this;var ie=this.simultaneous;return ie[(K=sp(K,this)).id]||(ie[K.id]=K,K.recognizeWith(this)),this},dropRecognizeWith:function(K){return at(K,"dropRecognizeWith",this)||(K=sp(K,this),delete this.simultaneous[K.id]),this},requireFailure:function(K){if(at(K,"requireFailure",this))return this;var ie=this.requireFail;return-1===xo(ie,K=sp(K,this))&&(ie.push(K),K.requireFailure(this)),this},dropRequireFailure:function(K){if(at(K,"dropRequireFailure",this))return this;K=sp(K,this);var ie=xo(this.requireFail,K);return ie>-1&&this.requireFail.splice(ie,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(K){return!!this.simultaneous[K.id]},emit:function(K){var ie=this,be=this.state;function Le(ze){ie.manager.emit(ze,K)}be<8&&Le(ie.options.event+lo(be)),Le(ie.options.event),K.additionalEvent&&Le(K.additionalEvent),be>=8&&Le(ie.options.event+lo(be))},tryEmit:function(K){if(this.canEmit())return this.emit(K);this.state=32},canEmit:function(){for(var K=0;K<this.requireFail.length;){if(!(this.requireFail[K].state&(32|k0)))return!1;K++}return!0},recognize:function(K){var ie=gn({},K);if(!ti(this.options.enable,[this,ie]))return this.reset(),void(this.state=32);56&this.state&&(this.state=k0),this.state=this.process(ie),30&this.state&&this.tryEmit(ie)},process:function(K){},getTouchAction:function(){},reset:function(){}},Ot(Ls,Ga,{defaults:{pointers:1},attrTest:function(K){var ie=this.options.pointers;return 0===ie||K.pointers.length===ie},process:function(K){var ie=this.state,be=K.eventType,Le=6&ie,ze=this.attrTest(K);return Le&&(be&$e||!ze)?16|ie:Le||ze?be&Ce?8|ie:2&ie?4|ie:2:32}}),Ot(Tu,Ls,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ir},getTouchAction:function(){var K=this.options.direction,ie=[];return K&Gt&&ie.push(us),K&nr&&ie.push(P0),ie},directionTest:function(K){var ie=this.options,be=!0,Le=K.distance,ze=K.direction,Tt=K.deltaX,ar=K.deltaY;return ze&ie.direction||(ie.direction&Gt?(ze=0===Tt?Ke:Tt<0?ke:Ue,be=Tt!=this.pX,Le=Math.abs(K.deltaX)):(ze=0===ar?Ke:ar<0?Ut:$t,be=ar!=this.pY,Le=Math.abs(K.deltaY))),K.direction=ze,be&&Le>ie.threshold&&ze&ie.direction},attrTest:function(K){return Ls.prototype.attrTest.call(this,K)&&(2&this.state||!(2&this.state)&&this.directionTest(K))},emit:function(K){this.pX=K.deltaX,this.pY=K.deltaY;var ie=Du(K.direction);ie&&(K.additionalEvent=this.options.event+ie),this._super.emit.call(this,K)}}),Ot(cn,Ls,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Cl]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.scale-1)>this.options.threshold||2&this.state)},emit:function(K){1!==K.scale&&(K.additionalEvent=this.options.event+(K.scale<1?"in":"out")),this._super.emit.call(this,K)}}),Ot(Pu,Ga,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(K){var ie=this.options,be=K.pointers.length===ie.pointers,Le=K.distance<ie.threshold,ze=K.deltaTime>ie.time;if(this._input=K,!Le||!be||K.eventType&(Ce|$e)&&!ze)this.reset();else if(K.eventType&se)this.reset(),this._timer=Sn(function(){this.state=8,this.tryEmit()},ie.time,this);else if(K.eventType&Ce)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(K){8===this.state&&(K&&K.eventType&Ce?this.manager.emit(this.options.event+"up",K):(this._input.timeStamp=ut(),this.manager.emit(this.options.event,this._input)))}}),Ot(Zo,Ls,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Cl]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.rotation)>this.options.threshold||2&this.state)}}),Ot(Nc,Ls,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Gt|nr,pointers:1},getTouchAction:function(){return Tu.prototype.getTouchAction.call(this)},attrTest:function(K){var be,ie=this.options.direction;return ie&(Gt|nr)?be=K.overallVelocity:ie&Gt?be=K.overallVelocityX:ie&nr&&(be=K.overallVelocityY),this._super.attrTest.call(this,K)&&ie&K.offsetDirection&&K.distance>this.options.threshold&&K.maxPointers==this.options.pointers&&Ht(be)>this.options.velocity&&K.eventType&Ce},emit:function(K){var ie=Du(K.offsetDirection);ie&&this.manager.emit(this.options.event+ie,K),this.manager.emit(this.options.event,K)}}),Ot(Lc,Ga,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[My]},process:function(K){var ie=this.options,be=K.pointers.length===ie.pointers,Le=K.distance<ie.threshold,ze=K.deltaTime<ie.time;if(this.reset(),K.eventType&se&&0===this.count)return this.failTimeout();if(Le&&ze&&be){if(K.eventType!=Ce)return this.failTimeout();var Tt=!this.pTime||K.timeStamp-this.pTime<ie.interval,ar=!this.pCenter||Xr(this.pCenter,K.center)<ie.posThreshold;if(this.pTime=K.timeStamp,this.pCenter=K.center,ar&&Tt?this.count+=1:this.count=1,this._input=K,0==this.count%ie.taps)return this.hasRequireFailures()?(this._timer=Sn(function(){this.state=8,this.tryEmit()},ie.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Sn(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ri.VERSION="2.0.7",ri.defaults={domEvents:!1,touchAction:op,enable:!0,inputTarget:null,inputClass:null,preset:[[Zo,{enable:!1}],[cn,{enable:!1},["rotate"]],[Nc,{direction:Gt}],[Tu,{direction:Gt},["swipe"]],[Lc],[Lc,{event:"doubletap",taps:2},["tap"]],[Pu]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},R0.prototype={set:function(K){return gn(this.options,K),K.touchAction&&this.touchAction.update(),K.inputTarget&&(this.input.destroy(),this.input.target=K.inputTarget,this.input.init()),this},stop:function(K){this.session.stopped=K?2:1},recognize:function(K){var ie=this.session;if(!ie.stopped){this.touchAction.preventDefaults(K);var be,Le=this.recognizers,ze=ie.curRecognizer;(!ze||ze&&8&ze.state)&&(ze=ie.curRecognizer=null);for(var Tt=0;Tt<Le.length;)be=Le[Tt],2===ie.stopped||ze&&be!=ze&&!be.canRecognizeWith(ze)?be.reset():be.recognize(K),!ze&&14&be.state&&(ze=ie.curRecognizer=be),Tt++}},get:function(K){if(K instanceof Ga)return K;for(var ie=this.recognizers,be=0;be<ie.length;be++)if(ie[be].options.event==K)return ie[be];return null},add:function(K){if(at(K,"add",this))return this;var ie=this.get(K.options.event);return ie&&this.remove(ie),this.recognizers.push(K),K.manager=this,this.touchAction.update(),K},remove:function(K){if(at(K,"remove",this))return this;if(K=this.get(K)){var ie=this.recognizers,be=xo(ie,K);-1!==be&&(ie.splice(be,1),this.touchAction.update())}return this},on:function(K,ie){if(K!==en&&ie!==en){var be=this.handlers;return xn(as(K),function(Le){be[Le]=be[Le]||[],be[Le].push(ie)}),this}},off:function(K,ie){if(K!==en){var be=this.handlers;return xn(as(K),function(Le){ie?be[Le]&&be[Le].splice(xo(be[Le],ie),1):delete be[Le]}),this}},emit:function(K,ie){this.options.domEvents&&function s8(K,ie){var be=ct.createEvent("Event");be.initEvent(K,!0,!0),be.gesture=ie,ie.target.dispatchEvent(be)}(K,ie);var be=this.handlers[K]&&this.handlers[K].slice();if(be&&be.length){ie.type=K,ie.preventDefault=function(){ie.srcEvent.preventDefault()};for(var Le=0;Le<be.length;)be[Le](ie),Le++}},destroy:function(){this.element&&Fc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},gn(ri,{INPUT_START:se,INPUT_MOVE:2,INPUT_END:Ce,INPUT_CANCEL:$e,STATE_POSSIBLE:k0,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Ke,DIRECTION_LEFT:ke,DIRECTION_RIGHT:Ue,DIRECTION_UP:Ut,DIRECTION_DOWN:$t,DIRECTION_HORIZONTAL:Gt,DIRECTION_VERTICAL:nr,DIRECTION_ALL:Ir,Manager:R0,Input:xr,TouchAction:Ua,TouchInput:Mt,MouseInput:za,PointerEventInput:kn,TouchMouseInput:Cu,SingleTouchInput:p1,Recognizer:Ga,AttrRecognizer:Ls,Tap:Lc,Pan:Tu,Swipe:Nc,Pinch:cn,Rotate:Zo,Press:Pu,on:Pi,off:Ei,each:xn,merge:oo,extend:ln,assign:gn,inherit:Ot,bindFn:ge,prefixed:Hr}),(typeof Ye<"u"?Ye:typeof self<"u"?self:{}).Hammer=ri,(Lt=function(){return ri}.call(Kt,zn,Kt,Ar))!==en&&(Ar.exports=Lt)}(window,document)},932:(Ar,Kt,zn)=>{Ar.exports=zn(344),Ar.exports.Collection=zn(738)},738:Ar=>{"use strict";Ar.exports.extend=function Kt(Lt,Ye,ct,Bt){var en=ct.inverse;return Object.defineProperty(Lt,"remove",{value:function(nt){var rt=this.indexOf(nt);return-1!==rt&&(this.splice(rt,1),Ye.unset(nt,en,Bt)),nt}}),Object.defineProperty(Lt,"contains",{value:function(nt){return-1!==this.indexOf(nt)}}),Object.defineProperty(Lt,"add",{value:function(nt,rt){var ht=this.indexOf(nt);if(typeof rt>"u"){if(-1!==ht)return;rt=this.length}-1!==ht&&this.splice(ht,1),this.splice(rt,0,nt),-1===ht&&Ye.set(nt,en,Bt)}}),Object.defineProperty(Lt,"__refs_collection",{value:!0}),Lt},Ar.exports.isExtended=function zn(Lt){return!0===Lt.__refs_collection}},344:(Ar,Kt,zn)=>{"use strict";var Lt=zn(738);function ct(nt,rt,ht){var tn=Lt.extend(ht[rt.name]||[],nt,rt,ht);Object.defineProperty(ht,rt.name,{enumerable:rt.enumerable,value:tn}),tn.length&&tn.forEach(function(Ht){nt.set(Ht,rt.inverse,ht)})}function en(nt,rt){if(!(this instanceof en))return new en(nt,rt);nt.inverse=rt,rt.inverse=nt,this.props={},this.props[nt.name]=nt,this.props[rt.name]=rt}en.prototype.bind=function(nt,rt){if("string"==typeof rt){if(!this.props[rt])throw new Error("no property <"+rt+"> in ref");rt=this.props[rt]}rt.collection?ct(this,rt,nt):function Bt(nt,rt,ht){var tn=rt.inverse,Ht=ht[rt.name];Object.defineProperty(ht,rt.name,{configurable:rt.configurable,enumerable:rt.enumerable,get:function(){return Ht},set:function(ut){if(ut!==Ht){var Sn=Ht;Ht=null,Sn&&nt.unset(Sn,tn,ht),nt.set(Ht=ut,tn,ht)}}})}(this,rt,nt)},en.prototype.ensureRefsCollection=function(nt,rt){var ht=nt[rt.name];return Lt.isExtended(ht)||ct(this,rt,nt),ht},en.prototype.ensureBound=function(nt,rt){(function Ye(nt,rt){return Object.prototype.hasOwnProperty.call(nt,rt.name||rt)})(nt,rt)||this.bind(nt,rt)},en.prototype.unset=function(nt,rt,ht){nt&&(this.ensureBound(nt,rt),rt.collection?this.ensureRefsCollection(nt,rt).remove(ht):nt[rt.name]=void 0)},en.prototype.set=function(nt,rt,ht){nt&&(this.ensureBound(nt,rt),rt.collection?this.ensureRefsCollection(nt,rt).add(ht):nt[rt.name]=ht)},Ar.exports=en},709:(Ar,Kt)=>{var Lt;!function(){"use strict";var Ye={}.hasOwnProperty;function ct(){for(var nt="",rt=0;rt<arguments.length;rt++){var ht=arguments[rt];ht&&(nt=en(nt,Bt(ht)))}return nt}function Bt(nt){if("string"==typeof nt||"number"==typeof nt)return nt;if("object"!=typeof nt)return"";if(Array.isArray(nt))return ct.apply(null,nt);if(nt.toString!==Object.prototype.toString&&!nt.toString.toString().includes("[native code]"))return nt.toString();var rt="";for(var ht in nt)Ye.call(nt,ht)&&nt[ht]&&(rt=en(rt,ht));return rt}function en(nt,rt){return rt?nt?nt+" "+rt:nt+rt:nt}Ar.exports?(ct.default=ct,Ar.exports=ct):void 0!==(Lt=function(){return ct}.apply(Kt,[]))&&(Ar.exports=Lt)}()},892:(Ar,Kt)=>{"use strict";const Lt=Object.prototype.toString,Ye=Object.prototype.hasOwnProperty;function ct(re){return void 0===re}function Bt(re){return void 0!==re}function en(re){return null==re}function nt(re){return"[object Array]"===Lt.call(re)}function rt(re){return"[object Object]"===Lt.call(re)}function tn(re){const se=Lt.call(re);return"[object Function]"===se||"[object AsyncFunction]"===se||"[object GeneratorFunction]"===se||"[object AsyncGeneratorFunction]"===se||"[object Proxy]"===se}function ut(re){if(!nt(re))throw new Error("must supply array")}function Sn(re,se){return Ye.call(re,se)}function at(re,se){const me=Hr(se);let Ce;return gn(re,function($e,Ke){if(me($e,Ke))return Ce=$e,!1}),Ce}function gn(re,se){let me,Ce;if(ct(re))return;const $e=nt(re)?Va:so;for(let Ke in re)if(Sn(re,Ke)&&(me=re[Ke],Ce=se(me,$e(Ke)),!1===Ce))return me}function oo(re,se,me){return gn(re,function(Ce,$e){me=se(me,Ce,$e)}),me}function Ot(re,se){return!!oo(re,function(me,Ce,$e){return me&&se(Ce,$e)},!0)}function ti(re,se){let me=[];return gn(re,function(Ce,$e){me.push(se(Ce,$e))}),me}function zr(re){return re&&Object.keys(re)||[]}function Er(re,se,me={}){return se=ya(se),gn(re,function(Ce){let $e=se(Ce)||"_",Ke=me[$e];Ke||(Ke=me[$e]=[]),Ke.push(Ce)}),me}function ni(re,...se){re=ya(re);let me={};return gn(se,$e=>Er($e,re,me)),ti(me,function($e,Ke){return $e[0]})}const as=ni;function ya(re){return tn(re)?re:se=>se[re]}function Hr(re){return tn(re)?re:se=>se===re}function so(re){return re}function Va(re){return Number(re)}Kt.assign=function qe(re,...se){return Object.assign(re,...se)},Kt.bind=function je(re,se){return re.bind(se)},Kt.debounce=function ls(re,se){let me,Ce,$e,Ke;function ke(nr){let Ir=Date.now(),sr=nr?0:Ke+se-Ir;if(sr>0)return Ue(sr);re.apply($e,Ce),Ut()}function Ue(nr){me=setTimeout(ke,nr)}function Ut(){me&&clearTimeout(me),me=Ke=Ce=$e=void 0}function Gt(...nr){Ke=Date.now(),Ce=nr,$e=this,me||Ue(se)}return Gt.flush=function $t(){me&&ke(!0),Ut()},Gt.cancel=Ut,Gt},Kt.ensureArray=ut,Kt.every=Ot,Kt.filter=function Or(re,se){const me=Hr(se);let Ce=[];return gn(re,function($e,Ke){me($e,Ke)&&Ce.push($e)}),Ce},Kt.find=at,Kt.findIndex=function xn(re,se){const me=Hr(se);let Ce=nt(re)?-1:void 0;return gn(re,function($e,Ke){if(me($e,Ke))return Ce=Ke,!1}),Ce},Kt.flatten=function zn(re){return Array.prototype.concat.apply([],re)},Kt.forEach=gn,Kt.get=function de(re,se,me){let Ce=re;return gn(se,function($e){if(en(Ce))return Ce=void 0,!1;Ce=Ce[$e]}),ct(Ce)?me:Ce},Kt.groupBy=Er,Kt.has=Sn,Kt.isArray=nt,Kt.isDefined=Bt,Kt.isFunction=tn,Kt.isNil=en,Kt.isNumber=function ht(re){return"[object Number]"===Lt.call(re)},Kt.isObject=rt,Kt.isString=function Ht(re){return"[object String]"===Lt.call(re)},Kt.isUndefined=ct,Kt.keys=zr,Kt.map=ti,Kt.matchPattern=function va(re){return function(se){return Ot(re,function(me,Ce){return se[Ce]===me})}},Kt.merge=function Ge(re,...se){return se.length&&gn(se,function(me){!me||!rt(me)||gn(me,function(Ce,$e){if("__proto__"===$e)return;let Ke=re[$e];rt(Ce)?(rt(Ke)||(Ke={}),re[$e]=Ge(Ke,Ce)):re[$e]=Ce})}),re},Kt.omit=function Ie(re,se){let me={};return gn(Object(re),function($e,Ke){-1===se.indexOf(Ke)&&(me[Ke]=$e)}),me},Kt.pick=function It(re,se){let me={},Ce=Object(re);return gn(se,function($e){$e in Ce&&(me[$e]=re[$e])}),me},Kt.reduce=oo,Kt.set=function Ze(re,se,me){let Ce=re;return gn(se,function($e,Ke){if("number"!=typeof $e&&"string"!=typeof $e)throw new Error("illegal key type: "+typeof $e+". Key should be of type number or string.");if("constructor"===$e)throw new Error("illegal key: constructor");if("__proto__"===$e)throw new Error("illegal key: __proto__");let ke=se[Ke+1],Ue=Ce[$e];Bt(ke)&&en(Ue)&&(Ue=Ce[$e]=isNaN(+ke)?{}:[]),ct(ke)?ct(me)?delete Ce[$e]:Ce[$e]=me:Ce=Ue}),re},Kt.size=function Pi(re){return zr(re).length},Kt.some=function ge(re,se){return!!at(re,se)},Kt.sortBy=function xo(re,se){se=ya(se);let me=[];return gn(re,function(Ce,$e){let Ke=se(Ce,$e),ke={d:Ke,v:Ce};for(var Ue=0;Ue<me.length;Ue++){let{d:Ut}=me[Ue];if(Ke<Ut)return void me.splice(Ue,0,ke)}me.push(ke)}),ti(me,Ce=>Ce.v)},Kt.throttle=function ba(re,se){let me=!1;return function(...Ce){me||(re(...Ce),me=!0,setTimeout(()=>{me=!1},se))}},Kt.unionBy=as,Kt.uniqueBy=ni,Kt.values=function Ei(re){return ti(re,se=>se)},Kt.without=function ln(re,se){if(ct(re))return[];ut(re);const me=Hr(se);return re.filter(function(Ce,$e){return!me(Ce,$e)})}},293:Ar=>{function Kt(Lt,Ye,ct,Bt,en,nt,rt){try{var ht=Lt[nt](rt),tn=ht.value}catch(Ht){return void ct(Ht)}ht.done?Ye(tn):Promise.resolve(tn).then(Bt,en)}Ar.exports=function zn(Lt){return function(){var Ye=this,ct=arguments;return new Promise(function(Bt,en){var nt=Lt.apply(Ye,ct);function rt(tn){Kt(nt,Bt,en,rt,ht,"next",tn)}function ht(tn){Kt(nt,Bt,en,rt,ht,"throw",tn)}rt(void 0)})}},Ar.exports.__esModule=!0,Ar.exports.default=Ar.exports},343:Ar=>{"use strict";Ar.exports=JSON.parse('{"name":"Custom","prefix":"custom","uri":"http://custom","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"CustomStartEvent","extends":["bpmn:StartEvent"],"properties":[{"name":"custom","isAttr":true,"type":"String"}]}]}')}},Ar=>{Ar(Ar.s=377)}]);